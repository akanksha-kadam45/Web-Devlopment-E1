(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[16,0,1,2,6,8,9,10,25,26,90,91,94,112,137,145,151],{1095:function(e,t,o){"use strict";o.d(t,"j",(function(){return N})),o.d(t,"k",(function(){return C})),o.d(t,"l",(function(){return T})),o.d(t,"m",(function(){return w})),o.d(t,"e",(function(){return F})),o.d(t,"o",(function(){return U})),o.d(t,"p",(function(){return H})),o.d(t,"n",(function(){return B})),o.d(t,"q",(function(){return W})),o.d(t,"x",(function(){return G})),o.d(t,"u",(function(){return V})),o.d(t,"v",(function(){return Y})),o.d(t,"w",(function(){return z})),o.d(t,"K",(function(){return Q})),o.d(t,"I",(function(){return X})),o.d(t,"J",(function(){return Z})),o.d(t,"D",(function(){return $})),o.d(t,"E",(function(){return ee})),o.d(t,"f",(function(){return te})),o.d(t,"g",(function(){return oe})),o.d(t,"G",(function(){return ie})),o.d(t,"y",(function(){return ae})),o.d(t,"z",(function(){return le})),o.d(t,"H",(function(){return ne})),o.d(t,"L",(function(){return re})),o.d(t,"s",(function(){return se})),o.d(t,"b",(function(){return ce})),o.d(t,"d",(function(){return ue})),o.d(t,"c",(function(){return ve})),o.d(t,"C",(function(){return Oe})),o.d(t,"a",(function(){return me})),o.d(t,"A",(function(){return be})),o.d(t,"B",(function(){return je})),o.d(t,"F",(function(){return pe})),o.d(t,"i",(function(){return he})),o.d(t,"h",(function(){return ge})),o.d(t,"t",(function(){return Se})),o.d(t,"r",(function(){return fe}));var i=o(6),a=o(5),l=(o(1123),o(61)),n=o(262),d=o(0),r=o(4),s=o(1149),c=o(263),u=o(15),v=o(59),O=o(1102),m=o.n(O),b=o(12),j=o(403),p=o(55),h=o(1128),g=o(1165),S=o(1188),I=o.n(S),f=o(2);const N=(e,t,o,i,l,n)=>{let r;if(o){var s,c,u,v,O;const o=null===n||void 0===n?void 0:n[d.gd.VIEW_PRODUCT],r=[C(null===o||void 0===o||null===(s=o.priceDetails)||void 0===s||null===(c=s.find((e=>(null===e||void 0===e?void 0:e.id)===i)))||void 0===c?void 0:c.availability,l)],m=(null===r||void 0===r||null===(u=r[0])||void 0===u?void 0:u.promoPrice)<(null===r||void 0===r||null===(v=r[0])||void 0===v?void 0:v.price)?null===r||void 0===r||null===(O=r[0])||void 0===O?void 0:O.promoPrice:0,b=m?{...null===r||void 0===r?void 0:r[0],price:m}:e;return Object(a.Ec)(b,t,l)||0}return Object(a.Td)(e)&&(r=Object(a.Ec)(e,t,l)||0),r},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=0,i="",l="";if(t||(t=Object(a.Vc)()),e.length>1){const r=Object(a.E)(t),s=t&&Object(b.E)(t,d.Rf);return e.forEach((e=>{const{price:t=0,availableHours:a={},dayOfWeek:{day:n=""}}=e,{startTime:c={},endTime:u={}}=a,v=parseInt(c.time,10),O=parseInt(u.time,10),m=((e,t,o,i,a)=>e>=t&&e<=o&&i>a||o<t&&e<o)(r,v,O,t,o);i=n,l=m,n===d.cc?(v<O&&m||v>O&&(r>=v||r<=O)&&t>o)&&(o=t):n===s&&m&&(o=t)})),i===d.cc?l?e[1]:e[0]:m()(e,[n.a.DAY_OF_WEEK,{day:null===s||void 0===s?void 0:s.toUpperCase()}])}return e[0]},T=(e,t,o,i,l,d,r,s,c)=>{const{id:u,name:v,modgrps:O,availability:m=[]}=Object(a.Pb)(JSON.parse(JSON.stringify(e))),b=l?C(m,l):m[0];let j=null!==d&&void 0!==d&&d.foodLineId&&E(null===d||void 0===d?void 0:d.foodLineId,r,u)&&!i?x(null===d||void 0===d?void 0:d.foodLineId,r):Math.round(N(b,o,i,u,l,s)*o);var p;Object(a.pc)(null===e||void 0===e?void 0:e.modgrps)&&(null===d||void 0===d?void 0:d.flag)!==n.a.CUSTOMISE_FLAG_CART&&c&&(null===e||void 0===e||null===(p=e.modgrps)||void 0===p||p.map((e=>{var t;const o=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));if(Object(a.pc)(o)){var i,l,n,d;let e=null!==(i=null===(l=o[0])||void 0===l||null===(n=l.availability)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.price)&&void 0!==i?i:0;j+=e}})));return{id:u,quantity:null!==t&&void 0!==t?t:0,name:v,basePrice:j,newBasePrice:j,unitPrice:t?j*t:0,modGrps:R(O,o,u)}},E=(e,t,o)=>{var i,a;let l=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((t=>{let{id:o}=t;return o===e}));return(null===l||void 0===l||null===(a=l.item)||void 0===a?void 0:a.id)===o},x=(e,t)=>{var o;let i=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((t=>{let{id:o}=t;return o===e}));if(i)return null===i||void 0===i?void 0:i.unitPrice},D=(e,t)=>{e&&null!==t&&void 0!==t&&t.custom&&(t.isDefault=!1,t.quantity=0)},y=e=>{var t;let o=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));return(null===o||void 0===o?void 0:o.length)>1},A=e=>null!==e&&void 0!==e&&e.isInitialDefault?e.isInitialDefault:e.isDefault,_=(e,t,o)=>{var i,a;let l=null===e||void 0===e?void 0:e.filter((e=>{let{id:o}=e;return o===t}));return null===l||void 0===l||null===(i=l[0])||void 0===i||null===(a=i.modifiers)||void 0===a?void 0:a.filter((e=>{let{id:t}=e;return t===o}))},R=(e,t,o)=>{let i={};return null===e||void 0===e||e.forEach(((e,a)=>i[e.id]={id:e.id,name:e.name,parentId:o,modifiers:P(e.modifiers,t,"".concat(o).concat(n.a.HASH_SYMBOL).concat(e.id)),orderIndex:a,min:e.min})),i},L=e=>null!==e&&void 0!==e&&e.quantity?null===e||void 0===e?void 0:e.quantity:null!==e&&void 0!==e&&e.isDefault?null===e||void 0===e?void 0:e.defaultQuantity:0,P=(e,t,o)=>{let i={};return e.forEach((e=>{let l=+Math.round(Object(a.Ec)(e.availability[0],t)*t);i[e.id]={id:e.id,parentId:o,name:e.name,dname:e.dname,quantity:L(e),isSelected:e.isDefault,modGrps:Object(a.pc)(e.modgrps)?R(e.modgrps,t,"".concat(o).concat(n.a.HASH_SYMBOL).concat(e.id)):{},basePrice:l,unitPrice:e.isDefault?e.defaultQuantity*l:0,newQuantity:null,newUnitPrice:null,newSelectedFlag:null,isDefault:e.isAdded?"":e.isDefault,defaultQuantity:e.defaultQuantity,isEditConfirmed:!!e.isEditConfirmed&&e.isEditConfirmed,isExcluded:e.isExcluded,isInitialDefault:null===e||void 0===e?void 0:e.isInitialDefault}})),i},w=e=>{let{id:t,quantity:o}=e;return{id:t,quantity:o,modGrps:M(e.modGrps)}},M=e=>Object.values(e).filter((e=>Object.keys(e.modifiers).length>0)).map((e=>{let{id:t,name:o,orderIndex:i}=e;return{id:t,name:o,modifiers:k(e.modifiers),orderIndex:i}})).sort(((e,t)=>+e.orderIndex-+t.orderIndex)),k=e=>Object.values(e).filter((e=>e.quantity>0&&!e.isExcluded)).map((e=>{let{id:t,name:o,quantity:i,modGrps:a}=e;return{id:t,name:o,quantity:i,modGrps:Object.keys(a).length>0?M(a):[]}})),F=(e,t,o,a)=>{var l,n;const s=e+1,c=null===a||void 0===a?void 0:a[d.gd.PROMO_PRODUCT_CART],O=(null===o||void 0===o?void 0:o.id)||(null===o||void 0===o?void 0:o.foodItemId);var m;if(s===(null!==o&&void 0!==o&&o.maxQuantity?+(null===o||void 0===o?void 0:o.maxQuantity):+(null===c||void 0===c||null===(l=c.promoParams)||void 0===l||null===(n=l.find((e=>(null===e||void 0===e?void 0:e.itemId)===O)))||void 0===n?void 0:n.maxQuantity))&&t)return Object(v.b)(Object(f.jsxs)("div",{"data-testid":"validate-toast",className:"img-text-container",children:[Object(f.jsx)("div",{className:"image",children:Object(f.jsx)(j.a,{srcFile:u.a.ErrorImage})}),Object(f.jsx)("span",{className:"text",children:Object(i.translateWithI18Next)(r.a.MAX_ORDER_PROMO)})]}),{bodyClassName:"pdp-promo-toast",className:"pdp-promo-toast-container err-toast",hideProgressBar:!0,position:null===v.b||void 0===v.b||null===(m=v.b.POSITION)||void 0===m?void 0:m.BOTTOM_CENTER,closeButton:!1,autoClose:!0})},U=(e,t,o,i)=>{if(e){var a,l;const e=+(null===t||void 0===t||null===(a=t.promoParams)||void 0===a||null===(l=a.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.maxQuantity);return e||i}return i},H=(e,t,o,i)=>{if(e){var a,l;const e=+(null===t||void 0===t||null===(a=t.promoParams)||void 0===a||null===(l=a.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.minQuantity);return e||i}return i},B=(e,t,o,i)=>{if(e){var a,l;const e=+(null===t||void 0===t||null===(a=t.promoParams)||void 0===a||null===(l=a.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.quantity);return e||i}return i},W=(e,t)=>{const o=t.includes(n.a.HASH_SYMBOL)?t.split(n.a.HASH_SYMBOL):[t];if(Object(a.pc)(o)&&0!==(null===e||void 0===e?void 0:e.length)&&Object(a.pc)(Object.keys(null===e||void 0===e?void 0:e.modGrps))){let t=e;return o.forEach(((e,o)=>{var i,a;o%2===0?t=null===(i=t)||void 0===i?void 0:i.modGrps[e]:t=null===(a=t)||void 0===a?void 0:a.modifiers[e]})),t}return!1},G=(e,t)=>{let o=W(e,t);return Object(a.Td)(o)?null===o.newQuantity&&o.quantity||o.newQuantity:null},V=(e,t)=>{let o=W(e,t);return Object(a.Td)(o)?null===o.newSelectedFlag?o.isSelected:o.newSelectedFlag:null},Y=(e,t)=>{let o=W(e,t);return Object(a.Td)(o)?o.isEditConfirmed:null},z=(e,t,o)=>{let i=W(e,t);return Object(a.Td)(i)?K(i,o):0},K=(e,t)=>{let o=q(e.modGrps,[e]);return 0===o.length?0:o.filter((t=>!0===((null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.isSelected)))).reduce(((o,i)=>{let a=(null===i||void 0===i?void 0:i.id)===(null===e||void 0===e?void 0:e.id)?t:null===e||void 0===e?void 0:e.quantity;return o+(null===i||void 0===i?void 0:i.basePrice)*a}),0)},q=(e,t)=>{let o=[];return Object(a.Td)(e)&&(o=Object.values(e).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})),o.forEach((e=>(t.push(e),Object(a.Td)(e.modGrps)?q(e.modGrps,t):q({},t))))),t},J=(e,t,o,i)=>{const l=t.split(n.a.HASH_SYMBOL),{quantityKey:d,unitPriceKey:r,isSelectedKey:s}=i,c=W(e,t);if(Object(a.pc)(l)&&e&&Object(a.pc)(Object.keys(e.modGrps))){let t=null;switch(l.length){case 2:t=e.modGrps[l[0]].modifiers[l[1]];break;case 4:t=e.modGrps[l[0]].modifiers[l[1]].modGrps[l[2]].modifiers[l[3]]}t[d]=o,t[r]=o?o*c.basePrice:c.basePrice,t[s]=!!o}return e},Q=(e,t,o)=>J(e,t,o,{quantityKey:"newQuantity",unitPriceKey:"newUnitPrice",isSelectedKey:"newSelectedFlag"}),X=(e,t,o)=>J(e,t,o,{quantityKey:"quantity",unitPriceKey:"unitPrice",isSelectedKey:"isSelected"}),Z=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),i=e.modGrps[o[0]].modifiers[o[1]];let l=!1;return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{let t=Object(a.ad)(e.isInitialDefault,e.defaultQuantity,0);(Object(a.j)([null!==e.newQuantity,e.newQuantity!==e.quantity,e.newQuantity!==t])||Object(a.hb)(null==e.newQuantity,e.quantity!==t)||Object(a.j)([null!==e.newQuantity,e.newQuantity===e.quantity,e.newQuantity!==t]))&&(l=!0),null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&e.newQuantity!==e.quantity&&(e.quantity=e.newQuantity,e.unitPrice=e.newUnitPrice,e.isSelected=e.newSelectedFlag)})),i.isEditConfirmed=l,e.basePrice=e.newBasePrice,e.unitPrice=e.newBasePrice*e.quantity,e},$=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),i=e.modGrps[o[0]].modifiers[o[1]];return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&(e.newQuantity=e.newUnitPrice=e.newSelectedFlag=null)})),e.newBasePrice=e.basePrice,e},ee=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),i=e.modGrps[o[0]].modifiers[o[1]];if(Object(a.pc)(Object.values(i.modGrps))){Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{e.isSelected=e.isDefault,e.quantity=e.isDefault?e.defaultQuantity:0,e.unitPrice=e.isDefault?e.defaultQuantity*e.basePrice:0})),i.isEditConfirmed=!1}return e},te=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),i=e.modGrps[o[0]].modifiers[o[1]];return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).some((e=>null!==e.newQuantity&&e.newQuantity!==e.quantity))},oe=(e,t)=>{var o;const i=null===t||void 0===t||null===(o=t.modGrps)||void 0===o?void 0:o[e];if(Object(a.Td)(i)){return Object.values(i.modifiers).some((e=>e.isInitialDefault&&!e.isSelected||e.isSelected&&e.isEditConfirmed))}return!1},ie=(e,t,o)=>{let{price:i,flag:a}=t;const{BASEPRICE:d,NEWBASEPRICE:r}=n.a,{QUANTITY_ACTION:s}=l.a;let c=o?r:d,u=e[c],v=a===s.Increase?u+i:u-i,O={...e,[c]:v,unitPrice:c===d?e.quantity*v:e.unitPrice};return c===d&&(O.newBasePrice=v),O},ae=(e,t,o,l,n,s)=>{var c,v,O;const m=null===s||void 0===s||null===(c=s.componentOptions)||void 0===c||null===(v=c.web)||void 0===v||null===(O=v.pdp)||void 0===O?void 0:O.showNoWordWhenModifierOutOfStock,{NO:b}=r.a;let p=W(e,t);if(p&&Object(a.pc)(Object.keys(p))){const e=Object.values(null===p||void 0===p?void 0:p.modifiers);let t=l?e:(e=>e.filter((e=>(null===(null===e||void 0===e?void 0:e.newQuantity)?null===e||void 0===e?void 0:e.quantity:null===e||void 0===e?void 0:e.newQuantity)>=1)))(e),a=[];return t.map(((e,t)=>{let{name:r,quantity:s,newQuantity:c,basePrice:v,newUnitPrice:O,isExcluded:p}=e,h=null!==c?c:s,g=null!==O?O:v*h;return h>0?null===a||void 0===a||a.push(t):a.filter((e=>e!==t)),Object(f.jsxs)("span",{children:[(null===a||void 0===a?void 0:a.length)>1&&!!h&&Object(f.jsx)("span",{children:","})," ",p&&Object(f.jsxs)("span",{children:[Object(f.jsx)(j.a,{srcFile:u.a.Error_Yellow,className:"location-alert-icon mr-1"}),m&&"".concat(Object(i.translateWithI18Next)(b))," ",r," ",m&&"(-)"]}),!p&&Object(f.jsxs)(f.Fragment,{children:[h>1&&Object(f.jsxs)("span",{children:[" ",h,"x "]}),h>0&&r,0!==g&&h>0&&Object(f.jsxs)("span",{children:[" ","(+ ",n+(g/o).toFixed(d.gg),")"]}),0===h&&!!s&&l&&Object(f.jsxs)("span",{children:[m&&"".concat(Object(i.translateWithI18Next)(b))," ",r," ",m&&"(-)"," "]})]})]})}))}},le=function(e,t,o,l){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const{INEXTRAS:r}=n.a;let s=W(e,t);if(s&&Object(a.Td)(s)&&Object(a.Td)(null===s||void 0===s?void 0:s.modGrps)){let e=Object.values(null===s||void 0===s?void 0:s.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).filter((e=>e.quantity>0)).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.basePrice)*(null===t||void 0===t?void 0:t.quantity)}),0);return 0!==e&&" (+ ".concat(l).concat((e/o).toFixed(d)," ").concat(Object(i.translateWithI18Next)(r),")")}return 0!==s.basePrice&&"(+ ".concat(l).concat((s.basePrice*s.quantity/o).toFixed(d),")")},ne=e=>{var t;let{pdpPayloadData:o,forModal:i,modgrps:n,getPayloadUpdated:d,modifierPrice:r,isL3Custom:s,getUpdatedPrice:c,userOrderState:u,flag:v}=e;const{QUANTITY_ACTION:O}=l.a;let m=null===u||void 0===u||null===(t=u.sopacPDPCustomization)||void 0===t?void 0:t.updatedPrice;return Object(a.Td)(o)&&!i&&(Object(a.pc)(n)||(d=ie(o,{price:r,flag:v},s)),s&&(c=v===O.Decrease?m-r:m+r)),{getPayloadUpdated:d,getUpdatedPrice:c}},de=(e,t)=>I()(t)?{valueToDisplay:e,valueToCount:t}:{valueToDisplay:e,valueToCount:e},re=(e,t)=>{const{modgrpMax:o,modgrpMin:i,modifierMax:l,modifierMin:n,modgrpCount:d,itemCount:r,SET_PDP_BUTTON_DISABLED:c,userOrderStateDispatch:u,userOrderState:v,modgrpId:O,pdpCateringItemQuantityLimit:m}=t;let b=Number(e.target.value),j=e.target.value;if(!isNaN(b)&&I()(b)){if(Object(a.hb)(""===j,o))return Object(s.b)(d-r,i,c,u,v,O),de(j,n);if(""===j)return de(j);if(j=+j,j>m)return de(!1);if(void 0!==o){let e=d-r+j,t=o-e,n=l-j;if(t<0){let t=o-d+r;Object(s.b)(e,i,c,u,v,O);let n=Object(a.ad)(t<=l,t,l);return de(n)}if(t>=0)return Object(s.b)(e,i,c,u,v,O),de(n>=0?j:l)}return de(j)}return de(!1)},se=e=>Object(a.ad)(Object(a.Hd)(e),"","retail-item-qty"),ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(a.pc)(e)?null===e||void 0===e?void 0:e.map(((o,l)=>{var n;let r;return r=t&&o.url===d.Vd.COUPON?d.Ce.PROMOS_REWARDS_PAGE:Object(a.ad)(0===l,"/".concat(o.url),"/".concat(e[0].url,"/").concat(o.url)),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(c.a,{"data-testid":"pdp-links-".concat(o.text),className:"pdp-anchor-link",href:r,children:Object(i.translateWithI18Next)(null===o||void 0===o||null===(n=o.text)||void 0===n?void 0:n.toLowerCase())}),Object(f.jsx)("span",{children:Object(a.ad)(l===e.length-1,""," > ")})]})})):Object(f.jsx)(f.Fragment,{})},ue=(e,t)=>{var o;let i=!1;const l=null===t||void 0===t||null===(o=t.modGrps)||void 0===o?void 0:o[e];if(Object(a.Td)(l)){const e=Object.values(null===l||void 0===l?void 0:l.modifiers);i=(null===l||void 0===l?void 0:l.min)>0&&(e.some((e=>e.isSelected&&(null===e||void 0===e?void 0:e.isExcluded)))||e.every((e=>!e.isSelected)))}return i},ve=e=>{let t=!1,o=null===e||void 0===e?void 0:e.modGrps;for(let n in o){var i,a;if(t=ue(null===(i=o[n])||void 0===i?void 0:i.id,e),t)return!0;let d=null===(a=o[n])||void 0===a?void 0:a.modifiers;for(let e in d){var l;if(null!==d&&void 0!==d&&null!==(l=d[e])&&void 0!==l&&l.isSelected&&(t=ve(null===d||void 0===d?void 0:d[e]),t))return!0}}return t},Oe=(e,t)=>{e?Object(a.Re)({history:t}):Object(a.Ze)({history:t})},me=function(e,t,o,i,a,l){let n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";null!==t&&void 0!==t&&t.id&&e&&Object(p.f)(o,i,null===t||void 0===t?void 0:t.totalAmount,a,n,l)},be=e=>{const{modgrpMax:t,selectedProduct:o,modgrpMin:i,name:l,size:n,location:d,setInitialRender:r,savedModifierHandler:s,setSelectedProduct:c,cardData:u,savedModifiers:v,userOrderState:O,userOrderStateDispatch:m,modGrpName:b,pdpPayloadData:j,objPath:p,isModal:g}=e;if(Object(a.jb)(Object(a.hb)(1===t,!o),0===i)){let e={name:l,size:n},S=Object(a.Ab)(d.pathname),I={analyticsObjectData:e,currLocationInfo:S};r(!1),Object(h.c)(e,S,I,i,t,o,s,c,u,v,O,m,b,j,p,g,!1)}},je=(e,t,o)=>{e.preventDefault();let i=re(e,{pdpCateringItemQuantityLimit:t}).valueToCount;!1!==i&&o(i);const a=e.target.selectionStart,l=e.target;window.requestAnimationFrame((()=>{l.selectionStart=a,l.selectionEnd=a}))},pe=e=>{const{productDetails:t,currentItemObject:o,prodURL:i,product_name:l,pdpDataForUpdateFoodLine:d,cartData:r,prodName:s,prodItems:c,pdpPromoPage:u,setPdpData:v,userOrderStateDispatch:O,setMakeItAComboData:m,setRecommendationData:b,setAddOnRecommendedData:j,setCurrentPDPProduct:p,setProdQuantity:h,setRuleName:S,getPWAstorageData:I}=e,{UPSELL:f,CROSSELL:N,PDP_ITEM_CUSTOM_TYPE:C,SET_PDP_BUTTON_DISABLED:T,ADDONS:E}=n.a;if(Object(a.j)([Object(a.Td)(t),Object(a.Td)(o),i===l,(null===t||void 0===t?void 0:t.productId)===(null===o||void 0===o?void 0:o.id)])){var x,R,L;const{additionalProperties:e}=o,i=Object(a.ve)(e)||{},l=((e,t,o)=>{var i,a;let l=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((t=>{let{id:o}=t;return o===e})),n=null===l||void 0===l||null===(a=l.item)||void 0===a?void 0:a.modGrps;return null===o||void 0===o||o.forEach(((e,t)=>{var i,a,l;null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.forEach(((i,a)=>{let l=_(n,e.id,i.id);var d,r;(null===l||void 0===l?void 0:l.length)>0&&((i={...i,...null===l||void 0===l?void 0:l[0]}).mdmId=i.id,o[t].modifiers[a]=i,null===(d=i)||void 0===d||null===(r=d.modgrps)||void 0===r||r.forEach(((e,n)=>{var d;null===e||void 0===e||null===(d=e.modifiers)||void 0===d||d.forEach(((e,d)=>{var r,s;let c=null===(r=l[0].modGrps[n])||void 0===r||null===(s=r.modifiers)||void 0===s?void 0:s.filter((t=>{let{id:o}=t;return o===e.id}));var u,v;(null===c||void 0===c?void 0:c.length)>0&&((e={...e,...null===c||void 0===c?void 0:c[0]}).mdmId=e.id,e.isEditConfirmed=null===(u=e)||void 0===u?void 0:u.custom,null!==(v=e)&&void 0!==v&&v.custom&&(i.isEditConfirmed=!0),o[t].modifiers[a].modgrps[n].modifiers[d]=e)}))})))}));let d=null===e||void 0===e||null===(a=e.modifiers)||void 0===a?void 0:a.some((e=>e.isAdded)),r=y(e);null===e||void 0===e||null===(l=e.modifiers)||void 0===l||l.forEach((e=>{var t;e.isInitialDefault=A(e),d&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(r,e),null===e||void 0===e||null===(t=e.modgrps)||void 0===t||t.forEach(((e,t)=>{var o,i;let a=null===e||void 0===e||null===(o=e.modifiers)||void 0===o?void 0:o.some((e=>e.isAdded)),l=y(e);null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.forEach((e=>{e.isInitialDefault=A(e),a&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(l,e)}))}))}))})),o})(null===d||void 0===d?void 0:d.foodLineId,r,null===o||void 0===o?void 0:o.modgrps);v({...o,additionalProperties:i,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:null===t||void 0===t?void 0:t.catalogName,itemId:null===t||void 0===t?void 0:t.productId,dname:s,items:c,modgrps:l}),O({type:C,value:null===o||void 0===o?void 0:o.customizable});let n=Object(g.b)(null===o||void 0===o?void 0:o.recommendationRules,f,N,E);m(n.combo),b(n.recommendation);const P=null!==(x=null===r||void 0===r||null===(R=r.foodLines)||void 0===R?void 0:R.map((e=>{let{item:t}=e;return t.id})))&&void 0!==x?x:[];j(null===n||void 0===n||null===(L=n.addOnRecommendedItems)||void 0===L?void 0:L.filter((e=>{let{id:t}=e;return!P.includes(t)}))),S(null===n||void 0===n?void 0:n.ruleName),p(o),O({type:T,value:{}}),h(Se(u,null===o||void 0===o?void 0:o.id,d,r,I)),window.scrollTo(0,0)}},he=(e,t,o,i)=>{if(Object(a.hb)(e.quantity!==t,(null===e||void 0===e?void 0:e.id)===o)){let o=((e,t)=>({...e,quantity:null!==t&&void 0!==t?t:0,unitPrice:t?e.basePrice*t:0}))(e,t);i({type:n.a.PDP_PAYLOAD_DATA,value:o})}},ge=e=>{const{pdpData:t,prodQuantity:o,tenantData:i,PDP_PAYLOAD_DATA:l,userOrderStateDispatch:n,pdpPromoPage:d,storeTimeZone:r,pdpDataForUpdateFoodLine:s,cartData:c,getPWAstorageData:u}=e;var v,O;Object(a.j)([Object(a.Td)(t),Object(a.Td)(i)])&&Object(g.c)(t,o,i.currencyConversionFactor,l,n,d,r,s,c,u,null===i||void 0===i||null===(v=i.componentOptions)||void 0===v||null===(O=v.pdp)||void 0===O?void 0:O.enableDefaultModifierCalculation)},Se=(e,t,o,i,a)=>{const l=a[d.gd.VIEW_PRODUCT];var n,r,s;return e?+(null!==(n=null===l||void 0===l||null===(r=l.promoParams)||void 0===r||null===(s=r.find((e=>(null===e||void 0===e?void 0:e.itemId)===t)))||void 0===s?void 0:s.quantity)&&void 0!==n?n:1):Ie(o,i)},Ie=(e,t)=>{let o=1;const i=null===e||void 0===e?void 0:e.foodLineId;if(""!==i){var a;let e=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((e=>{let{id:t}=e;return t===i}));o=null===e||void 0===e?void 0:e.quantity}return o},fe=e=>{var t;const{name:o=[],recommendationType:i=""}=null!==e&&void 0!==e?e:{};return{ruleName:(null===(t=o[0])||void 0===t?void 0:t.value)||"",recommendationType:i}}},1096:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o(3);var i=o(1181),a=o.n(i),l=(o(1182),o(1183),o(2));const n=e=>{const{settings:t,carousalRef:o}=e;return Object(l.jsx)(a.a,{...t,ref:o,children:e.children})};n.defaultProps={settings:null,carousalRef:null},t.b=n},1098:function(e,t,o){"use strict";o.d(t,"e",(function(){return r})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return c})),o.d(t,"h",(function(){return u})),o.d(t,"g",(function(){return v})),o.d(t,"a",(function(){return O})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return b}));var i=o(21),a=o(9),l=o(5),n=o(398),d=o(0);const r=async(e,t)=>{var o;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===a.a||void 0===a.a||null===(o=a.a.upsizeSelectedPwa)||void 0===o?void 0:o.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},l.Bb))},s=async e=>{var t;await i.a.registerEvent(null===a.a||void 0===a.a||null===(t=a.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},l.Bb)},c=async e=>{var t;await i.a.registerEvent(null===a.a||void 0===a.a||null===(t=a.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},l.Bb)},u=async e=>{var t,o,n,d,r;const{eventFlag:s,itemsArray:c,userType:u="",totalAmount:v="",couponCode:O="",currencyShortName:m=""}=e,b=await(null===c||void 0===c?void 0:c.length)>0&&((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.item_name)===(null===c||void 0===c||null===(o=c[1])||void 0===o?void 0:o.item_name)?[null===c||void 0===c?void 0:c[0]]:c);await(null===c||void 0===c?void 0:c.length)>0&&i.a.registerEvent(null===a.a||void 0===a.a||null===(n=a.a[s])||void 0===n?void 0:n.name,{data:{event:s,userType:u||"",ecommerce:{items:b,currency:m||"",value:v||(null===b||void 0===b||null===(d=b[0])||void 0===d?void 0:d.price)*(null===b||void 0===b||null===(r=b[0])||void 0===r?void 0:r.quantity)||"",coupon:O||""}}},l.Bb)},v=async(e,t)=>{var o;await i.a.registerEvent(null===a.a||void 0===a.a||null===(o=a.a.viewItemList)||void 0===o?void 0:o.name,{data:{event:n.u,disposition:Object(l.h)(t),ecommerce:{items:e||[]}}},l.Bb)},O=async()=>{var e;await i.a.registerEvent(null===a.a||void 0===a.a||null===(e=a.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},l.Bb)},m=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===a.a||void 0===a.a||null===(e=a.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:o}}}}))},b=async e=>{var t,o,n;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===a.a||void 0===a.a||null===(t=a.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_name,item_list_id:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_id,ecommerce:{items:e||[]}}},l.Bb))}},1099:function(e,t,o){"use strict";var i=o(962);o.d(t,"a",(function(){return i.default}))},1100:function(e,t,o){"use strict";o.d(t,"e",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return d}));const i=9999,a="#fff",l="#202124",n="#dbdbdb",d="National 2 Regular";t.f={HEADER_STYLES:"HEADER_STYLES",START_ORDER_STYLES:"START_ORDER_STYLES",START_ORDER_BTN_STYLES:"START_ORDER_BTN_STYLES",DISPOSITION_BAR_STYLES:"DISPOSITION_BAR_STYLES",FOOTER_STYLES:"FOOTER_STYLES",STICKY_TOP_VALUES:"STICKY_TOP_VALUES",MENU_CATEGORY_STYLES_DESKTOP:"MENU_CATEGORY_STYLES_DESKTOP",MENU_CATEGORY_STYLES_MOBILE:"MENU_CATEGORY_STYLES_MOBILE",CONTACT_US_CONTAINER_STYLES:"CONTACT_US_CONTAINER_STYLES",FAQ_CONTAINER_STYLES:"FAQ_CONTAINER_STYLES",OUR_ADS_STYLES:"OUR_ADS_STYLES",PRIVACY_POLICY_STYLES:"PRIVACY_POLICY_STYLES",TERMS_OS_USE_STYLES:"TERMS_OS_USE_STYLES",PROTECTED_DISCLOSURE_STYLES:"PROTECTED_DISCLOSURE_STYLES"}},1101:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var i=o(3),a=o(28),l=o(92),n=o(106),d=o(85);const r={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var s=o(16),c=o(6),u=o(5),v=o(35),O=o(15),m=o(0),b=o(80),j=o(2);const p=e=>{const t=Object(a.c)((e=>e.cartReducer)),{cartData:o={}}=t||{},p=Object(a.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:S}=Object(i.useContext)(d.a),{modalToOpenOnConfirm:I,modalOpenFrom:f,confirmCallBack:N}=g,{CartError:C}=O.a,T=Object(a.b)(),{CLEAR_ALL_MSG:E,CLEAR_ALL:x,CANCEL:D,TO_CHANGE_LANGUAGE:y}=r;((e,t,o)=>{e.langSelector?t.MSGTXT3=o:t.MSGTXT3})(e,E,y);const{SHOW_CLEAR_CART_ALERT:A,DISPOSITION_DATA:_,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:P,orderTypeAlertTitle:w,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:U}=s.a,H=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,B=()=>{S({type:F,value:{}}),S({type:m.Oe,value:{selectedLanguage:""}}),S({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),f===P&&S({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(j.jsx)(n.a,{handleClose:B,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(l.a,{splitTitle:E,imageSrc:C,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(x),cancelButtonText:Object(c.translateWithI18Next)(D),cancelHandler:B,confirmHandler:()=>{if(o.discountLines.length>0){let e=o.discountLines.map((e=>e.id));T(Object(v.n)({params:{basketId:o.id},tenantId:h,shouldClearCart:!0},e))}else T(Object(v.o)({basketId:o.id,tenantId:h}));T(Object(b.c)({key:m.gd.VIEW_PRODUCT})),localStorage.removeItem(m.gd.ADD_TO_ORDER),T(Object(v.u)(new Date)),S({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),N&&N(),I===w?(S({type:k}),S({type:_,value:{showDisposition:!0}}),S({type:L,value:{showScheduleOrderCatering:!1}}),S({type:R,value:{showSearchStore:!1}}),S({type:U,value:{orderCapacityDataUpdated:!1}}),S({type:F,value:{}})):I===M&&S({type:R,value:{showSearchStore:!0}})}})})}},1103:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,a,l,n;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(o.bind(null,215));return null===r||void 0===r||null===(a=r.default)||void 0===a||null===(l=a[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===l?void 0:l.MENU_PLP_CONSTANTS})()})()}).call(this,o(121))},1104:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return l}));var i=o(1);function a(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.qk,payload:{data:e,tenantId:t},successCallback:o,errorCallback:a}}function l(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i.lk,menuPayload:e,exclusionPayload:t,successCallback:o}}},1105:function(e,t,o){var i=o(268),a=o(597);e.exports=function(e){return a(i(e).toLowerCase())}},1106:function(e,t,o){"use strict";t.a={MODALHEADERTEXT:"Customize Your",CUSTOMIZE_TAG:"custom",MAX_TAG:"max",MAX_ALERT_TEXT_INITIAL:"maxtextInitial",MAX_ALERT_TEXT_END:"maxtextEnd",CLOSE_ALERT_TEXT:"selectionNotSaved",ITEM_QUANTITY:0,CUSTOMIZE_BUTTON_TEXT:"customise",EDIT_BUTTON_TEXT:"edit",DISMISS_CHANGES_ALERT_TEXT:"dismissChangesAlert",DISMISS_SELECTIONS:"dismissSelections"}},1107:function(e,t,o){"use strict";var i=o(3),a=o(85),l=o(5),n=o(12);t.a=()=>{const{userOrderState:e}=Object(i.useContext)(a.a),t=Object(i.useMemo)((()=>(Object(l.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(n.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1108:function(e,t,o){"use strict";o.d(t,"o",(function(){return b})),o.d(t,"f",(function(){return j})),o.d(t,"r",(function(){return h})),o.d(t,"d",(function(){return g})),o.d(t,"g",(function(){return N})),o.d(t,"y",(function(){return C})),o.d(t,"v",(function(){return T})),o.d(t,"s",(function(){return E})),o.d(t,"w",(function(){return x})),o.d(t,"n",(function(){return D})),o.d(t,"x",(function(){return y})),o.d(t,"u",(function(){return A})),o.d(t,"k",(function(){return _})),o.d(t,"p",(function(){return M})),o.d(t,"h",(function(){return k})),o.d(t,"i",(function(){return F})),o.d(t,"j",(function(){return U})),o.d(t,"q",(function(){return H})),o.d(t,"e",(function(){return G})),o.d(t,"l",(function(){return V})),o.d(t,"m",(function(){return Y})),o.d(t,"a",(function(){return z})),o.d(t,"b",(function(){return K})),o.d(t,"c",(function(){return q})),o.d(t,"t",(function(){return J}));var i=o(0),a=o(274),l=o(5),n=o(12),d=o(265),r=o(20),s=o.n(r),c=o(6),u=o(57),v=o(4),O=o(1111),m=o(1180);const b={tenantId:null,currencyCode:null,currencySymbol:null,currencyShortName:null,showCarryBagInLineItem:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,favouriteOrderRegex:"",hideCancelOrderPanel:null,enableCancelOrderCallsupportModal:null,hidePickupCheckin:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,miscPaymentReferenceId:null,wiCodePurchaseId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},enableOrderNoteForCheckout:!1,deliveryOrEstimatedOrCollectAtTime:null,pickupOrderEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(l.de)(window.innerWidth),discountLines:[],paymentDiscountLines:[],paymentDiscountTotal:0,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayOrderProcessingPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,deliverySearchType:"",savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,isShowStoreClosePickupOrderCancelModal:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0,orderSummarycontentData:{},openCallSupportModal:!1,showGiftCardOrVoucherSummary:!1,showPromosSummary:!1,showOrderingTime:"",isPostorderStoreShutdownPopupModal:!1,showOrderSummaryOnSentToPosFailed:!1,isUberServiceableEnabled:!1},j=e=>null!==e&&void 0!==e&&e.enableGlobalOrderTracking?0===parseInt(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber:0===parseInt(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId,p=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(l.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((e=>{var a,l,n,d,r,s,c,u,v,O,m,b,j,p,h,g,S,I,f;return(null===o||void 0===o?void 0:o.length)>0&&(null===i.Vd||void 0===i.Vd||null===(a=i.Vd.CREDIT_CARD)||void 0===a?void 0:a.toLowerCase())===(null===t||void 0===t||null===(l=t[0])||void 0===l||null===(n=l.type)||void 0===n?void 0:n.toLowerCase())?(null===e||void 0===e||null===(d=e.fields)||void 0===d||null===(r=d.title)||void 0===r?void 0:r.toLowerCase())===(null===o||void 0===o||null===(s=o[0])||void 0===s||null===(c=s.paymentInstrumentType)||void 0===c?void 0:c.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===o||void 0===o||null===(O=o[0])||void 0===O||null===(m=O.paymentInstrumentType)||void 0===m?void 0:m.toLowerCase()):(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(j=b.title)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(p=t[0])||void 0===p||null===(h=p.type)||void 0===h?void 0:h.toLowerCase())||(null===e||void 0===e||null===(g=e.fields)||void 0===g||null===(S=g.orderServName)||void 0===S?void 0:S.toLowerCase())===(null===t||void 0===t||null===(I=t[0])||void 0===I||null===(f=I.type)||void 0===f?void 0:f.toLowerCase())})):{}};function h(e){var t,o,a,l;if((null===e||void 0===e?void 0:e.status)===(null===i.Rd||void 0===i.Rd||null===(t=i.Rd.SENT_TO_POS_FAILED)||void 0===t?void 0:t.toLowerCase()))return;let n=[];const d=localStorage.getItem("guestActiveOrders");if(d)try{const e=JSON.parse(d);n=null!==Array&&void 0!==Array&&Array.isArray(e)?e:[]}catch(x){console.error("Error parsing stored orders:",x)}const r=null===(o=n)||void 0===o?void 0:o.some((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))),s=(null===e||void 0===e?void 0:e.displayOrderId)||(null===e||void 0===e?void 0:e.posOrderId);if(!r&&(null===e||void 0===e?void 0:e.status)!==(null===i.Rd||void 0===i.Rd||null===(a=i.Rd.SENT_TO_POS_FAILED)||void 0===a?void 0:a.toLowerCase())&&(null===e||void 0===e?void 0:e.status)!==(null===i.Rd||void 0===i.Rd||null===(l=i.Rd.ACCEPTED)||void 0===l?void 0:l.toLowerCase())){var c,u,v,O,m,b,j,p,h,g,S,I,f,N,C,T,E;const t={id:null===e||void 0===e?void 0:e.orderId,email:(null===e||void 0===e||null===(c=e.customer)||void 0===c?void 0:c.email)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.customer)||void 0===v?void 0:v.email)||(null===e||void 0===e?void 0:e.userEmail),phone:(null===e||void 0===e||null===(O=e.customer)||void 0===O?void 0:O.phoneNumber)||(null===e||void 0===e||null===(m=e.postOrderDetails)||void 0===m||null===(b=m.customer)||void 0===b?void 0:b.phoneNumber)||(null===e||void 0===e?void 0:e.userPhone),service:null===e||void 0===e?void 0:e.service,referenceNumber:s,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.fulfillmentDateTime),store:{timeZoneIANA:(null===e||void 0===e||null===(p=e.store)||void 0===p?void 0:p.timeZoneIANA)||(null===e||void 0===e||null===(h=e.postOrderDetails)||void 0===h||null===(g=h.store)||void 0===g?void 0:g.timeZoneIANA),storeId:(null===e||void 0===e||null===(S=e.store)||void 0===S?void 0:S.storeId)||(null===e||void 0===e||null===(I=e.postOrderDetails)||void 0===I||null===(f=I.store)||void 0===f?void 0:f.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(N=e.postOrderDetails)||void 0===N?void 0:N.requestedDateTime),deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(C=e.postOrderDetails)||void 0===C?void 0:C.deliveryDetails),status:null===e||void 0===e?void 0:e.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(T=e.postOrderDetails)||void 0===T?void 0:T.otu),isActiveGuestTracking:!0};null===(E=n)||void 0===E||E.unshift(t),localStorage.setItem("guestActiveOrders",JSON.stringify(n))}if(r){let t=!1;const o=n.map((o=>{var i;if((null===o||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.orderId)&&(null==(null===o||void 0===o?void 0:o.referenceNumber)||null==(null===o||void 0===o?void 0:o.fulfillmentDateTime)||null==(null===o||void 0===o?void 0:o.requestedDateTime)||null==(null===o||void 0===o||null===(i=o.store)||void 0===i?void 0:i.id)||null==(null===o||void 0===o?void 0:o.otu))){var a,l,n,d,r,c,u,v,O,m,b,j;t=!0;return{...o,referenceNumber:s||o.referenceNumber,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(a=e.postOrderDetails)||void 0===a?void 0:a.fulfillmentDateTime)||o.fulfillmentDateTime,store:{timeZoneIANA:(null===e||void 0===e||null===(l=e.store)||void 0===l?void 0:l.timeZoneIANA)||(null===e||void 0===e||null===(n=e.postOrderDetails)||void 0===n||null===(d=n.store)||void 0===d?void 0:d.timeZoneIANA)||(null===(r=o.store)||void 0===r?void 0:r.timeZoneIANA),storeId:(null===e||void 0===e||null===(c=e.store)||void 0===c?void 0:c.storeId)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.store)||void 0===v?void 0:v.storeId)||(null===(O=o.store)||void 0===O?void 0:O.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(m=e.postOrderDetails)||void 0===m?void 0:m.requestedDateTime)||o.requestedDateTime,deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(b=e.postOrderDetails)||void 0===b?void 0:b.deliveryDetails)||o.deliveryDetails,status:(null===e||void 0===e?void 0:e.status)||o.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.otu)}}return o}));t&&localStorage.setItem("guestActiveOrders",JSON.stringify(o))}}const g=(e,t)=>{var o;let i=null===e||void 0===e?void 0:e.filter((e=>!Object(l.q)(e,!0)));return i=null===(o=i)||void 0===o?void 0:o.filter((e=>!(e=>{var t;let o=!1;const i=Object(d.k)(e)||Object(d.k)(null===e||void 0===e||null===(t=e.deliveryDetails)||void 0===t?void 0:t.riderStatus),a=Object(d.K)(e)||Object(d.hb)(e);return(i||a)&&(o=!0),o})(e))),(null===e||void 0===e?void 0:e.length)>0&&localStorage.setItem("guestActiveOrders",JSON.stringify(i)),t?(localStorage.removeItem("guestActiveOrders"),[]):i},S=e=>{var t,o;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(l.qe)(null===e||void 0===e||null===(o=e.orderAccepted)||void 0===o?void 0:o.id)},I=e=>{var t,o,i;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(o=e.pastOrderResponse)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.id)},f=e=>{var t;return(e=>{var t,o,i,a,l;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(o=Object.keys(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.order))||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(l=a.order)||void 0===l?void 0:l.id)})(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},N=e=>{const{postOrderReducer:t={},orderReducer:o={},orderDetails:i={},isCheckOrderDetails:a=!0}=e;let l=(e=>S(e)?null===e||void 0===e?void 0:e.orderAccepted:null)(t);var n;null===l&&(l=(e=>{var t;return I(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null})(o),null===l&&(l=f(o),a&&null===l&&(l=null!==i&&void 0!==i&&i.postOrderDetails&&null!==(n=Object.keys(null===i||void 0===i?void 0:i.postOrderDetails))&&void 0!==n&&n.length?null===i||void 0===i?void 0:i.postOrderDetails:{})));return l||{}},C=e=>{var t,o,i,a,l,n,d,r,s,c,u,v,O,m,b,j,p,h,g,S,I,f,N,C,T,E,x,D,y,A,_,R,L,P,w,M,k,F,U,H,B,W,G,V,Y,z,K,q,J,Q,X,Z,$,ee,te,oe,ie,ae,le,ne,de,re,se,ce,ue,ve,Oe,me,be,je,pe,he,ge,Se,Ie,fe,Ne,Ce,Te,Ee,xe,De,ye;const{props:Ae,dispatch:_e,tenantReducer:Re={},isExternalTrackOrder:Le=!1,dispositionPaymentPage:Pe,updateSetOrderDetails:we}=e,{tenantId:Me,currencyCode:ke,currencySymbol:Fe,currencyShortName:Ue,showCarryBagInLineItem:He,addHope:Be,carryBag:We,currencyConversionFactor:Ge,pastOrderDateformat:Ve,pastOrderTimeFormat:Ye,storeSearch:ze={},driveTime:Ke,buffertimepmpickup:qe,buffertimepmdelivery:Je,favouriteOrderRegex:Qe,componentOptions:Xe,enablePickupMethodChangePostOrder:Ze,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,postorderStoreShutdownPopup:ot}=Re;we({props:Ae,dispatch:_e,tenantId:Me,enablePickupMethodChangePostOrder:Ze,postorderStoreShutdownPopup:ot,currencyCode:ke,currencySymbol:Fe,currencyShortName:Ue,showCarryBagInLineItem:He,addHope:Be,carryBag:We,currencyConversionFactor:Ge,pastOrderDateformat:Ve,pastOrderTimeFormat:Ye,isExternalTrackOrder:Le,storeSearch:ze,driveTime:Ke,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,buffertimepmpickup:qe,buffertimepmdelivery:Je,favouriteOrderRegex:Qe,operatingTime:null===Pe||void 0===Pe||null===(t=Pe.store)||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings,hideCancelOrderPanel:null===Xe||void 0===Xe||null===(i=Xe.web)||void 0===i||null===(a=i.orderPages)||void 0===a?void 0:a.hideCancelOrderPanel,enableOrderNoteForCheckout:null===Xe||void 0===Xe||null===(l=Xe.checkout)||void 0===l?void 0:l.enableOrderNoteForCheckout,hidePickupCheckin:null===Xe||void 0===Xe||null===(n=Xe.web)||void 0===n||null===(d=n.orderPages)||void 0===d?void 0:d.orderSummaryShowPickupOrderCollectionMethodPanel,showTaxLines:null===Xe||void 0===Xe||null===(r=Xe.web)||void 0===r||null===(s=r.cartPage)||void 0===s?void 0:s.showTaxLines,showTaxExcluded:null===Xe||void 0===Xe||null===(c=Xe.web)||void 0===c||null===(u=c.checkout)||void 0===u?void 0:u.showTaxExcluded,enableGlobalOrderTracking:null===Xe||void 0===Xe||null===(v=Xe.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===Xe||void 0===Xe||null===(m=Xe.web)||void 0===m||null===(b=m.orderPages)||void 0===b?void 0:b.enableRetryCountForPickupOrderTracking,enableCancelOrderCallsupportModal:null===Xe||void 0===Xe||null===(j=Xe.web)||void 0===j||null===(p=j.orderPages)||void 0===p?void 0:p.enableCancelOrderCallsupportModal,showOrderTrackingIFrame:null===Xe||void 0===Xe||null===(h=Xe.web)||void 0===h||null===(g=h.orderPages)||void 0===g?void 0:g.showOrderTrackingIFrame,orderTrackingProgressBarCount:null===Xe||void 0===Xe||null===(S=Xe.web)||void 0===S||null===(I=S.orderPages)||void 0===I?void 0:I.orderTrackingProgressBarCount,showDeliveryDriverDetails:null===Xe||void 0===Xe||null===(f=Xe.web)||void 0===f||null===(N=f.orderPages)||void 0===N?void 0:N.showDeliveryDriverDetails,showDeliveryTrackingMap:null===Xe||void 0===Xe||null===(C=Xe.web)||void 0===C||null===(T=C.orderPages)||void 0===T?void 0:T.showDeliveryTrackingMap,orderTrackingProgressBarScheduleOrdersCount:null===Xe||void 0===Xe||null===(E=Xe.web)||void 0===E||null===(x=E.orderPages)||void 0===x?void 0:x.orderTrackingProgressBarScheduleOrdersCount,showOrderSummaryInfoDetails:null===Xe||void 0===Xe||null===(D=Xe.web)||void 0===D||null===(y=D.orderPages)||void 0===y?void 0:y.showOrderSummaryInfoDetails,deliveryProgressBarAsapOrder:null===Xe||void 0===Xe||null===(A=Xe.web)||void 0===A||null===(_=A.orderPages)||void 0===_?void 0:_.deliveryProgressBarAsapOrder,deliveryProgressBarScheduleOrders:null===Xe||void 0===Xe||null===(R=Xe.web)||void 0===R||null===(L=R.orderPages)||void 0===L?void 0:L.deliveryProgressBarScheduleOrders,hideEstimatedDeliveryTime:null===Xe||void 0===Xe||null===(P=Xe.web)||void 0===P||null===(w=P.orderPages)||void 0===w?void 0:w.hideEstimatedDeliveryTime,getDeliveryActualPickupTime:null===Xe||void 0===Xe||null===(M=Xe.web)||void 0===M||null===(k=M.orderPages)||void 0===k?void 0:k.getDeliveryActualPickupTime,hideProgressBar:null===Xe||void 0===Xe||null===(F=Xe.web)||void 0===F||null===(U=F.orderPages)||void 0===U?void 0:U.hideProgressBar,enableScheduleOrder:null===Xe||void 0===Xe||null===(H=Xe.web)||void 0===H||null===(B=H.dispositionConfig)||void 0===B?void 0:B.enableScheduleOrder,enableClickCollectScheduleOrder:null===Xe||void 0===Xe||null===(W=Xe.web)||void 0===W||null===(G=W.dispositionConfig)||void 0===G?void 0:G.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===Xe||void 0===Xe||null===(V=Xe.web)||void 0===V||null===(Y=V.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===Re||void 0===Re||null===(z=Re.componentOptions)||void 0===z||null===(K=z.web)||void 0===K||null===(q=K.orderPages)||void 0===q?void 0:q.showGiftCardOrVoucherSummary,showPromosSummary:null===Re||void 0===Re||null===(J=Re.componentOptions)||void 0===J||null===(Q=J.web)||void 0===Q||null===(X=Q.orderPages)||void 0===X?void 0:X.showPromosSummary,showStoreRegistrationNumber:null===Xe||void 0===Xe||null===(Z=Xe.web)||void 0===Z||null===($=Z.orderPages)||void 0===$?void 0:$.showStoreRegistrationNumber,showStoreOrderNumber:null===Xe||void 0===Xe||null===(ee=Xe.web)||void 0===ee||null===(te=ee.orderPages)||void 0===te?void 0:te.showStoreOrderNumber,showOrderDateTime:null===Xe||void 0===Xe||null===(oe=Xe.web)||void 0===oe||null===(ie=oe.orderPages)||void 0===ie?void 0:ie.showOrderDateTime,showOrderMode:null===Xe||void 0===Xe||null===(ae=Xe.web)||void 0===ae||null===(le=ae.orderPages)||void 0===le?void 0:le.showOrderMode,showOrderStatus:null===Xe||void 0===Xe||null===(ne=Xe.web)||void 0===ne||null===(de=ne.orderPages)||void 0===de?void 0:de.showOrderStatus,showPickupOrDeliveryTime:null===Xe||void 0===Xe||null===(re=Xe.web)||void 0===re||null===(se=re.orderPages)||void 0===se?void 0:se.showPickupOrDeliveryTime,hidePostOrderCollectionForAsap:null===Xe||void 0===Xe||null===(ce=Xe.web)||void 0===ce||null===(ue=ce.orderPages)||void 0===ue?void 0:ue.hidePostOrderCollectionForAsap,allowedPickupCollectionMethods:null===Xe||void 0===Xe||null===(ve=Xe.checkout)||void 0===ve?void 0:ve.allowedPickupCollectionMethods,geoLocationCheckForCheckin:null===Xe||void 0===Xe||null===(Oe=Xe.web)||void 0===Oe||null===(me=Oe.orderPages)||void 0===me?void 0:me.geoLocationCheckForCheckin,orderStatusFlag:null===Re||void 0===Re||null===(be=Re.componentOptions)||void 0===be||null===(je=be.web)||void 0===je||null===(pe=je.orderPages)||void 0===pe?void 0:pe.getDeliveryOrderStatusMessageFlag,tenantSpecificDateFormat:null===Re||void 0===Re||null===(he=Re.componentOptions)||void 0===he||null===(ge=he.web)||void 0===ge||null===(Se=ge.orderPages)||void 0===Se?void 0:Se.displayOrderDeliveryDateFormat,showCancelOrderNumber:null===Xe||void 0===Xe||null===(Ie=Xe.web)||void 0===Ie||null===(fe=Ie.dispositionConfig)||void 0===fe?void 0:fe.showCancelOrderNumber,showStateCityAddAddress:null===Re||void 0===Re||null===(Ne=Re.savedAddressPage)||void 0===Ne?void 0:Ne.showStateCityAddAddress,hideCustomerName:null===Xe||void 0===Xe||null===(Ce=Xe.web)||void 0===Ce||null===(Te=Ce.orderPages)||void 0===Te?void 0:Te.hideCustomerName,hideCreateAccountPanel:null===Xe||void 0===Xe||null===(Ee=Xe.web)||void 0===Ee||null===(xe=Ee.orderPages)||void 0===xe?void 0:xe.hideCreateAccountPanel,showPinCode:null===Xe||void 0===Xe||null===(De=Xe.web)||void 0===De||null===(ye=De.orderPages)||void 0===ye?void 0:ye.showOrderPinCode,showOrderSummaryOnSentToPosFailed:null===Re||void 0===Re?void 0:Re.showOrderSummaryOnSentToPosFailed,isUberServiceableEnabled:null===Re||void 0===Re?void 0:Re.isUberServiceableEnabled,useTradingHoursForStoreCloseCalculation:null===Re||void 0===Re?void 0:Re.useTradingHoursForStoreCloseCalculation})},T=e=>{const{helpReducer:t,updateSetOrderDetails:o}=e;o({helpContantData:Object(l.ic)((null===t||void 0===t?void 0:t.helpResponse)||null)})},E=e=>{const{appStateReducer:t,updateSetOrderDetails:o}=e;o({userStatus:null===t||void 0===t?void 0:t.userStatus})},x=e=>{const{profileReducer:t,orderDetails:o,updateSetOrderDetails:i}=e;i({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:D(o,null===t||void 0===t?void 0:t.favouriteOrders)})},D=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=o||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===i||void 0===i?void 0:i.findIndex((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))))},y=e=>{var t,o,i,a,l,n,d,r;const{storesReducer:s={},updateSetOrderDetails:c}=e,u=null!==s&&void 0!==s&&null!==(t=s.storesWithStatus)&&void 0!==t&&t.length?null===s||void 0===s||null===(o=s.storesWithStatus)||void 0===o?void 0:o[0]:{};c({allStoresDetails:null!==s&&void 0!==s&&null!==(i=s.allStores)&&void 0!==i&&i.length?null===s||void 0===s?void 0:s.allStores:[],currentStoresDetails:u,operatingTimeFromStoreReducer:null!==(a=Object.keys(u))&&void 0!==a&&a.length?null===u||void 0===u||null===(l=u.summary)||void 0===l||null===(n=l.timings)||void 0===n?void 0:n.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(d=Object.keys(u))&&void 0!==d&&d.length?null===u||void 0===u||null===(r=u.summary)||void 0===r?void 0:r.availableCollectionPoints:null})},A=e=>{var t;const{orderReducer:o={},paymentsContentReducer:i={},orderDetails:a,updateSetOrderDetails:l,tenantReducer:n}=e,d=null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.order;l({..._({orderReducerCreateOrderResponse:d,paymentsContentReducer:i,orderDetails:a,tenantReducer:n})})},_=e=>{var t;const{postOrPastOrderDetails:o={},orderReducerCreateOrderResponse:i={},paymentsContentReducer:a={},orderDetails:n,tenantReducer:d}=e,r=Object(l.pe)(o)?o:i,s=P({orderDetailsFromReducer:r,orderDetails:n,tenantReducer:d});return s.postOrderDetails=o,s.paymentType=p(null===a||void 0===a||null===(t=a.tendersContent)||void 0===t?void 0:t.items,null===r||void 0===r?void 0:r.tenders,null===r||void 0===r?void 0:r.paymentReferences),s},R=e=>{const{storeTimeZoneIANA:t,estimatedDeliveryTime:o,orderTime:a,format:l=(null===i.sb||void 0===i.sb?void 0:i.sb.H_MM_A)}=e;return t?Object(n.D)(o||a,t,l):Object(n.C)(o||a,l)},L=e=>{const{storeTimeZoneIANA:t,statusUpdatedDate:o,pastOrderDateformat:i}=e;return t?Object(n.D)(o,t,i):Object(n.C)(o,i)},P=e=>{var t,o,a,r,s,c,v,O,m,b,p,h,g,S,I,f,N,C,T,E,x,D,y,A,_,P,M,k;const{orderDetailsFromReducer:F,orderDetails:U={},tenantReducer:H}=e,B={additionalChargeLines:null===F||void 0===F?void 0:F.additionalChargeLines,customerId:null===F||void 0===F||null===(t=F.customer)||void 0===t?void 0:t.id,customer:null===F||void 0===F?void 0:F.customer,deliveryAddress:null===F||void 0===F?void 0:F.deliveryAddress,deliveryDetails:null===F||void 0===F?void 0:F.deliveryDetails,deliveryPartner:null===F||void 0===F?void 0:F.deliveryPartner,otu:(null===U||void 0===U?void 0:U.otu)||(null===F||void 0===F?void 0:F.otu),isActiveGuestTracking:(null===U||void 0===U?void 0:U.isActiveGuestTracking)||(null===F||void 0===F?void 0:F.isActiveGuestTracking),foodLines:null===F||void 0===F?void 0:F.foodLines,orderId:null===F||void 0===F?void 0:F.id,displayOrderId:j({...U,...F}),fulfillmentDateTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.fulfillmentDateTime,null===F||void 0===F||null===(o=F.store)||void 0===o?void 0:o.timeZoneIANA),orderTime:Object(n.M)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayOrderTime:Object(l.bd)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayFormatOrderTime:u.a.formatValue(u.a.tz(Object(n.L)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===F||void 0===F||null===(a=F.store)||void 0===a?void 0:a.timeZoneIANA)," h:mma"),displayTodayDate:Object(n.h)(new Date,null===U||void 0===U?void 0:U.pastOrderDateformat),posOrderId:null===F||void 0===F?void 0:F.posOrderId,userEmail:null===F||void 0===F||null===(r=F.customer)||void 0===r?void 0:r.email,userPhone:(null===F||void 0===F||null===(s=F.customer)||void 0===s?void 0:s.phoneNumber)||(null===F||void 0===F||null===(c=F.customer)||void 0===c?void 0:c.phone),service:null===F||void 0===F?void 0:F.service,status:null===F||void 0===F?void 0:F.status,orderStatus:Object(d.c)({...U,...F}),orderStatusChangedAt:Object(d.b)({orderDetails:U,orderDetailsFromReducer:F}),sameOrderStatusMaintainLast30Mins:Object(d.q)({orderDetails:U,orderDetailsFromReducer:F}),store:null===F||void 0===F?void 0:F.store,storeName:null===F||void 0===F||null===(v=F.store)||void 0===v?void 0:v.name,phoneNumber:null===F||void 0===F||null===(O=F.store)||void 0===O?void 0:O.phoneNumber,phoneNumberFormat:Object(l.bb)(null===F||void 0===F||null===(m=F.store)||void 0===m?void 0:m.phoneNumber),storeTimeZoneIANA:null===F||void 0===F||null===(b=F.store)||void 0===b?void 0:b.timeZoneIANA,storeOperatingTime:null===F||void 0===F||null===(p=F.store)||void 0===p?void 0:p.timings,deliveryOrEstimatedOrCollectAtMonthDate:R({estimatedDeliveryTime:null===F||void 0===F||null===(h=F.deliveryDetails)||void 0===h?void 0:h.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(g=F.store)||void 0===g?void 0:g.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd:i.sb.MMMM_D}),deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(S=F.deliveryDetails)||void 0===S?void 0:S.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(I=F.store)||void 0===I?void 0:I.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd_AA:i.sb.D_MMMM_AA}),deliveryOrEstimatedOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(f=F.deliveryDetails)||void 0===f?void 0:f.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(N=F.store)||void 0===N?void 0:N.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),deliveryOrActualOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(C=F.deliveryDetails)||void 0===C?void 0:C.actualDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(T=F.store)||void 0===T?void 0:T.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(E=F.deliveryDetails)||void 0===E?void 0:E.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(x=F.store)||void 0===x?void 0:x.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(D=F.deliveryDetails)||void 0===D?void 0:D.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(y=F.store)||void 0===y?void 0:y.timeZoneIANA,format:null!==U&&void 0!==U&&U.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd_AA:i.sb.H_MM_A}),orderDateOn:L({statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,storeTimeZoneIANA:null===F||void 0===F||null===(A=F.store)||void 0===A?void 0:A.timeZoneIANA,pastOrderDateformat:null===U||void 0===U?void 0:U.pastOrderDateformat}),statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,isContactless:null===F||void 0===F?void 0:F.isContactless,filteredFoodLines:Object(l.Tb)(null===F||void 0===F?void 0:F.foodLines,null===U||void 0===U?void 0:U.addHope,null===U||void 0===U?void 0:U.carryBag,null===H||void 0===H?void 0:H.showCarryBagInLineItem),orderedItemDetails:null===F||void 0===F?void 0:F.orderedItemDetails,orderingDateTime:null===F||void 0===F?void 0:F.orderingDateTime,orderingDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.orderingDateTime,null===F||void 0===F||null===(_=F.store)||void 0===_?void 0:_.timeZoneIANA),orderingDate:Object(l.Cb)(null===F||void 0===F?void 0:F.orderingDateTime),orderingDayAndMonthName:Object(l.Db)(null===F||void 0===F?void 0:F.orderingDateTime,null===U||void 0===U?void 0:U.dateFormat),orderingTime:Object(l.bd)(null===F||void 0===F?void 0:F.orderingDateTime,null===U||void 0===U?void 0:U.timeFormat),fullAddressDetails:w(null===F||void 0===F?void 0:F.deliveryAddress,null===H||void 0===H||null===(P=H.savedAddressPage)||void 0===P?void 0:P.showStateCityAddAddress,null===H||void 0===H?void 0:H.isUberServiceableEnabled),instruction:null===F||void 0===F?void 0:F.instruction,addressLines:null===F||void 0===F||null===(M=F.store)||void 0===M||null===(k=M.address)||void 0===k?void 0:k.addressLines,taxLines:null===F||void 0===F?void 0:F.taxLines,additionalCharges:null===F||void 0===F?void 0:F.additionalChargeLines,checkInSummary:null===F||void 0===F?void 0:F.checkInSummary,subTotal:null===F||void 0===F?void 0:F.subTotal,discountLines:null===F||void 0===F?void 0:F.discountLines,paymentDiscountLines:(null===F||void 0===F?void 0:F.paymentDiscountLines)||[],paymentDiscountTotal:(null===F||void 0===F?void 0:F.paymentDiscountTotal)||0,discountTotal:null===F||void 0===F?void 0:F.discountTotal,total:(null===F||void 0===F?void 0:F.total)||(null===F||void 0===F?void 0:F.amount),inclusiveTaxTotal:null===F||void 0===F?void 0:F.inclusiveTaxTotal,tenders:null===F||void 0===F?void 0:F.tenders,paymentReferences:null===F||void 0===F?void 0:F.paymentReferences,taxTotal:null===F||void 0===F?void 0:F.taxTotal,orderAcceptedLoading:(null===F||void 0===F?void 0:F.orderAcceptedLoading)||!1,requestedTimeStamp:null===F||void 0===F?void 0:F.requestedTimeStamp,requestedDateTime:null===F||void 0===F?void 0:F.requestedDateTime,orderDateTimeInEpoch:null===F||void 0===F?void 0:F.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null,bottleDepositChargeTotal:(null===F||void 0===F?void 0:F.bottleDepositChargeTotal)||0,tipCharge:null===F||void 0===F?void 0:F.driverTippingCharge,tipChargeType:null===F||void 0===F?void 0:F.driverTippingChargeType,driverTippingChargeOption:null===F||void 0===F?void 0:F.driverTippingChargeOption,showOrderingTime:Object(n.h)(Object(n.M)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===U||void 0===U?void 0:U.pastOrderTimeFormat),deliveryPinDetails:null===F||void 0===F?void 0:F.deliveryPinDetails};return null!==(null===U||void 0===U?void 0:U.orderId)&&null!==(null===F||void 0===F?void 0:F.id)&&(null===U||void 0===U?void 0:U.orderId)!==(null===F||void 0===F?void 0:F.id)&&(B.oldOrderId=null===F||void 0===F?void 0:F.id),B},w=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(l.pe)(e)){var i,a;let{addressLines:s}=e;const{city:c,state:u,country:v,pinCode:O,customProperties:m=[]}=e,b=Object(l.vd)(O),j=Object(l.vd)(c),p=Object(l.vd)(u),h=Object(l.vd)(v),g=null!==(i=null===(a=m[2])||void 0===a?void 0:a.value)&&void 0!==i?i:"";var n,d,r;if(o)s[1]=null===(n=s[1])||void 0===n||null===(d=n.split(","))||void 0===d||null===(r=d.join)||void 0===r?void 0:r.call(d,"");const S=null===s||void 0===s?void 0:s.filter((e=>e)).join(", ");if(t){const e=u&&"".concat(u)||"",t=c&&"".concat(c)||"";return"".concat(e).concat(t).concat(null===s||void 0===s?void 0:s.filter((e=>e)).join(" ")," ").concat(g)}return"".concat(S).concat(j).concat(p).concat(b).concat(h)}return null},M=(e,t,o,i)=>{var a,l;!s()(e)&&((null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)||i)&&o({orderSummarycontentData:B(null===(a=e.items)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.fields,t)})},k=e=>{var t,o;const{orderSummarycontentData:a}=e;return null===a||void 0===a||null===(t=a.headline)||void 0===t?void 0:t.replace(i.nb,null===e||void 0===e||null===(o=e.customer)||void 0===o?void 0:o.firstName.replace(/(.{7})..+/,"$1..."))},F=e=>{const{orderSummarycontentData:t,enableClickCollectScheduleOrder:o,allowScheduleOrderForDispositions:a,service:l}=e,n=o&&(null===a||void 0===a?void 0:a.includes(l));var r;return Object(d.x)(e)||Object(d.B)(e)?(null===e||void 0===e||null===(r=e.paymentReferences[0])||void 0===r?void 0:r.paymentType)===(null===i.Vd||void 0===i.Vd?void 0:i.Vd.PAY_BY_CASH)&&null!==t&&void 0!==t&&t.payOnArrival?Object(m.a)(e):null===t||void 0===t?void 0:t.subHeadline:null!==t&&void 0!==t&&t.scheduleOrders||n?H(t,e):null===t||void 0===t?void 0:t.subHeadline},U=e=>{(e=>Object(l.Jd)(null===e||void 0===e?void 0:e.service)?Object(d.sb)(e)||Object(d.rb)(e):Object(d.t)(e)||Object(d.s)(e))(e)&&Object(a.a)(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ORDER_UPDATE_TEXT),4e3)},H=(e,t)=>{var o,a,r,s,u,O,m;const{enableClickCollectScheduleOrder:b,allowScheduleOrderForDispositions:j,service:p}=t,h=b&&(null===j||void 0===j?void 0:j.includes(p)),g=null===e||void 0===e||null===(o=e.subHeadline)||void 0===o?void 0:o.includes(i.tb),S=null===t||void 0===t?void 0:t.fulfillmentDateTime,I=Object(n.D)(S,null===t||void 0===t||null===(a=t.store)||void 0===a?void 0:a.timeZoneIANA,g?null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_D_MMMM_A:null===i.sb||void 0===i.sb?void 0:i.sb.hh_mm_A),f=Object(n.D)(S,null===t||void 0===t||null===(r=t.store)||void 0===r?void 0:r.timeZoneIANA,null===i.sb||void 0===i.sb?void 0:i.sb.MMMM_D),N=Object(n.D)(S,null===t||void 0===t||null===(s=t.store)||void 0===s?void 0:s.timeZoneIANA,null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_DD),C=h&&g?I.replace(/^\w+/,Object(l.ed)(f,null===t||void 0===t||null===(u=t.store)||void 0===u?void 0:u.timeZoneIANA)):I,T=null===C||void 0===C?void 0:C.split(" "),E=Object(l.ed)(N,null===t||void 0===t||null===(O=t.store)||void 0===O?void 0:O.timeZoneIANA),x=null===e||void 0===e||null===(m=e.subHeadline)||void 0===m?void 0:m.replace(g?i.tb:i.Md,'<span class="red">'.concat((e=>{const{timeStamp:t,dayInAWeek:o,dateTimeArray:a,orderReadyDateTime:l,orderDetails:n}=e;if(!t)return l;switch(null===n||void 0===n?void 0:n.tenantSpecificDateFormat){case null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_MMMM_D_HH_MM_A:return(o===i.uf?Object(c.translateWithI18Next)(v.a.TODAY):'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ON),"</span> ")+Object(c.translateWithI18Next)(a[0]))+" "+Object(c.translateWithI18Next)(a[2])+" "+a[1]+" "+'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.AT),"</span> ")+" "+(Object(d.A)(n)?null===n||void 0===n?void 0:n.deliveryOrActualOrCollectAtTime:a[4]+a[5]);case null===i.sb||void 0===i.sb?void 0:i.sb.D_MMMM_A:return Object(c.translateWithI18Next)(a[0])+" "+a[1]+" "+Object(c.translateWithI18Next)(a[2])+" "+a[3]+" "+a[4]+" "+a[5];default:return l}})({timeStamp:g,dayInAWeek:E,dateTimeArray:T,orderReadyDateTime:I,orderDetails:t}),"</span>"));return x?"<div class='subheadline-content ".concat(((e,t)=>(null===e||void 0===e?void 0:e.tenantSpecificDateFormat)===(null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_MMMM_D_HH_MM_A)&&t?"subheadline-content-two":"")(t,g),"'>").concat(x,"</div>"):""},B=(e,t)=>{var o;const{showOrderSummaryOnSentToPosFailed:i}=t,a=null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.find((e=>{var o,a,n,r,s,c,u,v,O,m,b,j,p,h,g,S;return null!==t&&void 0!==t&&null!==(o=t.requestedDateTime)&&void 0!==o&&o.isForNow||!(Object(d.ob)(t)||Object(d.v)(t)||Object(d.C)(t)||Object(d.Q)(t)||Object(d.nb)(t))?i&&!Object(l.Jd)(null===t||void 0===t?void 0:t.service)?!(null!==e&&void 0!==e&&null!==(a=e.fields)&&void 0!==a&&a.scheduleOrders)&&(null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.orderStatus.toLowerCase())===(null===t||void 0===t||null===(r=t.orderStatus)||void 0===r?void 0:r.toLowerCase()):(null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.orderStatus.toLowerCase())===(null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.toLowerCase()):(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.scheduleOrders)&&(!(null!==t&&void 0!==t&&t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(O=v.orderStatus)||void 0===O?void 0:O.toLowerCase())===(null===t||void 0===t||null===(m=t.orderStatus)||void 0===m?void 0:m.toLowerCase())||(null===t||void 0===t?void 0:t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(j=b.collectionPoint)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(p=t.selectedPickupOrderCollectionMethod)||void 0===p?void 0:p.toLowerCase())&&(null===e||void 0===e||null===(h=e.fields)||void 0===h||null===(g=h.orderStatus)||void 0===g?void 0:g.toLowerCase())===(null===t||void 0===t||null===(S=t.orderStatus)||void 0===S?void 0:S.toLowerCase()))}));return null===a||void 0===a?void 0:a.fields},W=(e,t)=>{var o,i,a;return null===Object||void 0===Object||null===(o=Object.keys)||void 0===o||null===(i=o.call(Object,e))||void 0===i||null===(a=i.filter)||void 0===a?void 0:a.call(i,(e=>{var o,i;return null===d.ub||void 0===d.ub||null===(o=Object(d.ub)())||void 0===o||null===(i=o[e])||void 0===i?void 0:i.call(o,t)}))},G=e=>{var t;const o=null!==e&&void 0!==e&&e.enableClickCollectScheduleOrder||null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t||!t.isForNow?null===e||void 0===e?void 0:e.deliveryProgressBarScheduleOrders:null===e||void 0===e?void 0:e.deliveryProgressBarAsapOrder;if(o){let t=W(o,e);if(Array.isArray(t)&&t.length>0){var i,a;if(1===t.length)return null!==(a=null===o||void 0===o?void 0:o[t[0]])&&void 0!==a?a:void 0;const e=null===(i=t.map((e=>null===o||void 0===o?void 0:o[e])))||void 0===i?void 0:i.filter((e=>void 0!==e));return e.length>0?Math.max(...e):void 0}}else;},V=e=>{var t,o;return null!==(t=null===e||void 0===e||null===(o=e.hideEstimatedDeliveryTime)||void 0===o?void 0:o[W(null===e||void 0===e?void 0:e.hideEstimatedDeliveryTime,e)])&&void 0!==t&&t},Y=e=>{var t,o,i;return null!==(t=null===e||void 0===e||null===(o=e.hideProgressBar)||void 0===o?void 0:o[W(null===e||void 0===e?void 0:e.hideProgressBar,e)])&&void 0!==t&&t&&!(null!==e&&void 0!==e&&null!==(i=e.requestedDateTime)&&void 0!==i&&i.isForNow)},z=e=>{let{orderDetails:t,orderReducer:o,postOrderReducer:a,paymentsContentReducer:l,updateSetOrderDetails:n,dispatch:r,tenantReducer:s,userOrderState:c}=e;if(null!==t&&void 0!==t&&t.tenantId){!sessionStorage.getItem(i.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&(e=>{let{orderReducer:t,postOrderReducer:o}=e;return S(o)||I(t)})({orderReducer:o,postOrderReducer:a})&&((e=>{const{postOrderReducer:t={},orderReducer:o={},paymentsContentReducer:i={},isCheckOrderDetails:a=!0,orderDetails:l,updateSetOrderDetails:n,tenantReducer:r}=e,s=N({postOrderReducer:t,orderReducer:o,isCheckOrderDetails:a}),{orderStatus:c,retryCountForGetOrderTrackingStatus:u,tenders:v,paymentReferences:O,displayOrderId:m}=l;if(Object(d.c)({...l,...s})!==c||j({...l,...s})!==m)n({..._({postOrPastOrderDetails:s,paymentsContentReducer:i,orderDetails:l,tenantReducer:r})});else if(Object(d.p)(l,s)){var b;n({deliveryPartner:null===s||void 0===s?void 0:s.deliveryPartner,deliveryDetails:null===s||void 0===s?void 0:s.deliveryDetails,retryCountForGetOrderTrackingStatus:u+1,fullAddressDetails:w(null===s||void 0===s?void 0:s.deliveryAddress,null===r||void 0===r||null===(b=r.savedAddressPage)||void 0===b?void 0:b.showStateCityAddAddress,null===r||void 0===r?void 0:r.isUberServiceableEnabled)})}var h;v===(null===s||void 0===s?void 0:s.tenders)&&O===(null===s||void 0===s?void 0:s.paymentReferences)||n({tenders:null===s||void 0===s?void 0:s.tenders,paymentReferences:null===s||void 0===s?void 0:s.paymentReferences,paymentType:p(null===i||void 0===i||null===(h=i.tendersContent)||void 0===h?void 0:h.items,null===s||void 0===s?void 0:s.tenders,null===s||void 0===s?void 0:s.paymentReferences)})})({postOrderReducer:a,orderReducer:o,paymentsContentReducer:l,isCheckOrderDetails:!1,orderDetails:t,updateSetOrderDetails:n,tenantReducer:s}),null!==t&&void 0!==t&&t.tenantId&&Object(O.r)({dispatch:r,orderDetails:t,updateSetOrderDetails:n,userOrderState:c}))}Object(d.f)()&&(e=>{const{postOrderReducer:t,orderDetails:o,updateSetOrderDetails:i}=e;if((null===t||void 0===t||!t.addHopeOrderLoading)&&Object(d.j)()){const{miscPaymentReferenceId:e,status:a}=null===t||void 0===t?void 0:t.addHopeOrderResponse,l={status:a,orderStatus:a};(null===o||void 0===o?void 0:o.miscPaymentReferenceId)!==e&&(l.miscPaymentReferenceId=e),i(l)}if((null===t||void 0===t||!t.giftCardPurchaseLoading)&&Object(d.Y)()){const{miscPaymentReferenceId:e,status:a}=null===t||void 0===t?void 0:t.giftCardPurchaseResponse,l={status:a,orderStatus:a};(null===o||void 0===o?void 0:o.wiCodePurchaseId)!==e&&(l.wiCodePurchaseId=e),i(l)}})({postOrderReducer:a,orderDetails:t,updateSetOrderDetails:n})},K=e=>{const{enableClickCollectScheduleOrder:t,allowScheduleOrderForDispositions:o,service:i,orderStatusFlag:a}=e,n=t&&(null===o||void 0===o?void 0:o.includes(i));return Object(l.Jd)(i)?!(Object(d.K)(e)&&!a||Object(d.sb)(e)||Object(d.Q)(e)||Object(d.rb)(e))&&(Object(d.O)(e)||Object(d.C)(e)||Object(d.B)(e),!0):n?Boolean(Object(d.mb)(e)||Object(d.u)(e)||Object(d.w)(e)):Object(d.mb)(e)||Object(d.nb)(e)},q=e=>{var t;return(null===e||void 0===e||null===(t=e.paymentReferences[0])||void 0===t?void 0:t.paymentType)!==(null===i.Vd||void 0===i.Vd?void 0:i.Vd.PAY_BY_CASH)?F(e):""},J=e=>{const{contentReducer:t,updateSetOrderDetails:o}=e;o({StoreRegistrationNumber:Object(l.Uc)(t),...Object(l.Tc)(t)})}},1109:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"c",(function(){return r})),o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"d",(function(){return u}));var i=o(21),a=o(9),l=o(5),n=o(12);o(0);const d=async function(e,t,o,n){var d;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await i.a.registerEvent(null===a.a||void 0===a.a||null===(d=a.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:r,value:o||"",coupon:n||""}}},l.Bb)},r=e=>{i.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(n.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(n.P)(e.month),", ").concat(e.day)||"NA"},l.Bb)},s=e=>{i.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},l.Bb)},c=async e=>{await i.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},l.Bb)},u=async e=>{await i.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},l.Bb)}},1110:function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var i=o(3),a=o(28),l=o(172),n=o(214),d=o(20),r=o.n(d),s=o(266),c=o(0),u=o(2);const v=(e,t)=>{if(e&&t){const o={};e.replace(/%(.*?)%/g,((e,t)=>{o[e]=t})),Object.entries(o).forEach((o=>{const[i,a]=o,l=((e,t)=>{var o;return null!==(o=e[t])&&void 0!==o?o:"N/A"})(t,a);if("string"==typeof l){const t=new RegExp(i,"ig");e=e.replace(t,l)}else{let t=JSON.parse(e);for(let e in t)t[e]===i&&(t[e]=l);e=JSON.stringify(t)}}))}return e},O=e=>{let{page:t,seoObj:o,seoTemplate:d}=e;const[O,m]=Object(i.useState)(null),[b,j]=Object(i.useState)(""),{seoContent:p}=Object(a.c)((e=>{var t,o,i;return{seoContent:null!==(t=null===e||void 0===e||null===(o=e.contentReducer)||void 0===o||null===(i=o.response)||void 0===i?void 0:i.seoStructureData)&&void 0!==t?t:null}}));return Object(i.useEffect)((()=>{var e,i,a,l,u,O;const b={...o,PageURL:null!==(e=null===(i=window)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.href)&&void 0!==e?e:"",HomeURL:null!==(l=null===(u=window)||void 0===u||null===(O=u.location)||void 0===O?void 0:O.origin)&&void 0!==l?l:"/"};if(!r()(p)){var h,g;const e=null!==(h=null!==d&&void 0!==d?d:null===p||void 0===p||null===(g=p.seo)||void 0===g?void 0:g.find((e=>{var o;return(null===(o=e.fields)||void 0===o?void 0:o.title)===t})))&&void 0!==h?h:{},{fields:{templateData:o={},data:i={}}={}}=e,{template:a={}}=null!==p&&void 0!==p?p:{},l=Object(s.documentToHtmlString)(a);if(!r()(l)){let e=Object(n.a)(l.replace(/<p>|<\/p>/gi,""));e=v(e,o),e=v(e,b);const t=Object(n.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t,o,i;return!((null===e||void 0===e?void 0:e.type)===c.tf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children)||(null===e||void 0===e?void 0:e.type)===c.sd&&(null===e||void 0===e||null===(o=e.props)||void 0===o?void 0:o.name)===c.ke&&"N/A"===(null===e||void 0===e||null===(i=e.props)||void 0===i?void 0:i.content))})))}if(!r()(i)){let e=JSON.stringify(i);e=v(e,b),m(e)}}}),[t,p,o,d]),Object(u.jsxs)(l.a,{children:[b,Object(u.jsx)("script",{type:"application/ld+json",children:O})]})};O.defaultProps={page:"",seoTemplate:null,seoObj:null}},1111:function(e,t,o){"use strict";o.d(t,"r",(function(){return C})),o.d(t,"b",(function(){return T})),o.d(t,"t",(function(){return E})),o.d(t,"k",(function(){return x})),o.d(t,"p",(function(){return y})),o.d(t,"e",(function(){return _})),o.d(t,"l",(function(){return L})),o.d(t,"i",(function(){return P})),o.d(t,"j",(function(){return w})),o.d(t,"f",(function(){return k})),o.d(t,"d",(function(){return F})),o.d(t,"c",(function(){return U})),o.d(t,"n",(function(){return H})),o.d(t,"m",(function(){return B})),o.d(t,"o",(function(){return W})),o.d(t,"s",(function(){return G})),o.d(t,"g",(function(){return V})),o.d(t,"h",(function(){return Y})),o.d(t,"a",(function(){return z})),o.d(t,"u",(function(){return K})),o.d(t,"q",(function(){return q}));var i=o(35),a=o(123),l=o(49),n=o(171),d=o(73),r=o(271),s=o(1114),c=o(11),u=o(14),v=o(0),O=o(24),m=o(55),b=o(71),j=o(5),p=o(265),h=o(1108),g=o(16),S=o(12);const I=(e,t,o)=>{null!==e&&void 0!==e&&e.isExternalTrackOrder||t||D(o)},f=e=>{let{displayOrderProcessingPage:t,orderDetails:o,service:i,updateSetOrderDetails:a,showOrderSummaryOnSentToPosFailed:l=!1}=e;(l||t&&(!Object(p.pb)(o)&&!Object(p.j)()&&!Object(p.Y)()||Object(p.i)(o)||Object(p.X)(o)||Object(p.W)(o)||Object(j.Hd)(i)&&!Object(p.qb)(o)))&&a({displayOrderProcessingPage:!1})},N=(e,t,o)=>{Object(p.p)(e)&&t({retryCountForGetOrderTrackingStatus:o+1})},C=e=>{var t,o;const{orderDetails:i,updateSetOrderDetails:a,userOrderState:l}=e;(null===i||void 0===i||null===(t=i.userStatus)||void 0===t?void 0:t.loggedIn)&&(null===JSON||void 0===JSON?void 0:JSON.parse(null===(o=sessionStorage)||void 0===o?void 0:o.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))||(Object(p.l)(i)&&Object(m.B)({orderDetails:i,userOrderState:l}),!Object(p.jb)(i)&&!Object(p.J)(i)||null!==i&&void 0!==i&&i.isAnalyticsUpdated||(Object(m.B)({orderDetails:i,userOrderState:l}),a({isAnalyticsUpdated:!0})))},T=e=>{localStorage.getItem(v.gd.POST_PAYMENT_TYPE)===v.qe.GIFT_CARD_PURCHASE&&(localStorage.setItem(v.gd.PAYMENT_STATUS,v.Ud.SUCCESS),Object(j.We)(e))},E=e=>{var t,o;const i=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING));if(i&&null!==Object&&void 0!==Object&&null!==(o=Object.keys(i))&&void 0!==o&&o.length){const{dispatch:t,updateSetOrderDetails:o,tenantReducer:a,userParams:l}=e;null!==i&&void 0!==i&&i.postOrderDetails&&0===Object.keys(null===i||void 0===i?void 0:i.postOrderDetails).length&&A({dispatch:t,orderDetails:i,updateSetOrderDetails:o,tenantReducer:a,userParams:l})}else y(e)},x=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:i,miscPaymentReferenceId:a,tenantReducer:l}=e;if((null===o||void 0===o?void 0:o.tenantId)&&Object(p.p)(o)&&i({displayOrderProcessingPage:!1}),null!==o&&void 0!==o&&o.orderId&&Object(p.eb)(o)){const e=setTimeout((()=>{const n=JSON.parse(sessionStorage.getItem(v.gd.ORDER_TRACKING)||"{}").orderId;null!==o&&void 0!==o&&o.orderId&&n&&n!==(null===o||void 0===o?void 0:o.orderId)?clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer):((null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer),i({dispatchDeliveryOrderTrackerTimer:e}),A({dispatch:t,orderDetails:o,updateSetOrderDetails:i,miscPaymentReferenceId:a,tenantReducer:l}))}),Object(u.a)(c.K))}},D=e=>{const{dispatch:t,orderDetails:o,cartReducer:a,userOrderState:l,appStateReducer:n,updateSetOrderDetails:d}=e,{service:r}=o,s=(null===O.b||void 0===O.b?void 0:O.b.shouldGoogleSpotIgnoreOloFailure)||Object(p.ob)(o)||Object(p.l)(o);if(Object(j.Md)(r)&&s){var c;const e=null===n||void 0===n?void 0:n.userStatus;Object(j.l)(s,!(null!==a&&void 0!==a&&a.isBasketLoading),null===a||void 0===a||null===(c=a.cartData)||void 0===c?void 0:c.id,null===e||void 0===e?void 0:e.localized,null===o||void 0===o?void 0:o.tenantId)&&(d({isBasketsCreated:!0}),Object(j.I)(t,i.f,null===o||void 0===o?void 0:o.tenantId,l,null,null,null,null,null===o||void 0===o?void 0:o.deliveryAddress),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SELECTED_NOT_NOW,value:!1},t),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1},t))}},y=e=>{var t;const{dispatch:o,postOrderReducer:i={},orderReducer:a={},orderDetails:l,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:r}=e,s=Object(h.g)({postOrderReducer:i,orderReducer:a,orderDetails:l,isCheckOrderDetails:!1}),{props:O,orderId:m,retryCountForGetOrderStatus:b,miscPaymentReferenceId:g,wiCodePurchaseId:S,orderTrackingID:I}=l;I||l&&(m||g||S)&&Object(p.tb)(l)?0===b||(Object(p.pb)(s)||Object(p.h)(l)||Object(p.V)(l))&&b<Object(u.a)(c.J)?A({dispatch:o,orderDetails:l,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:r}):(Object(p.pb)(s)||Object(p.h)(l)||Object(p.V)(l))&&b>=Object(u.a)(c.J)&&(localStorage.setItem(v.Ud.STATUS_TEXT,v.Ud.FAILED),Object(j.ef)(O)):null!==e&&void 0!==e&&null!==(t=e.orderDetails)&&void 0!==t&&t.orderId&&Object(j.Ye)(O)},A=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:i=null,userOrderStateDispatch:a,tenantReducer:l,appStateReducer:n}=e;null!==o&&void 0!==o&&o.isExternalTrackOrder?_({dispatch:t,orderDetails:o,updateSetOrderDetails:i}):Object(p.j)()?P({dispatch:t,orderDetails:o,updateSetOrderDetails:i}):Object(p.Y)()?w({dispatch:t,orderDetails:o,updateSetOrderDetails:i}):R({dispatch:t,orderDetails:o,updateSetOrderDetails:i,userOrderStateDispatch:a,tenantReducer:l,appStateReducer:n})},_=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:i=null}=e,l={emailId:null===o||void 0===o?void 0:o.userEmail,phoneNo:null===o||void 0===o?void 0:o.userPhone,orderNo:null===o||void 0===o?void 0:o.posOrderId,tenantId:null===o||void 0===o?void 0:o.tenantId},n=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(a.d)(l,(()=>M({count:n,updateSetOrderDetails:i}))))},R=e=>{var t,o,i;const{dispatch:a,orderDetails:l,updateSetOrderDetails:d=null,userOrderStateDispatch:r,tenantReducer:s,appStateReducer:c}=e,u=L(l),O=null===s||void 0===s||null===(t=s.componentOptions)||void 0===t||null===(o=t.homePage)||void 0===o?void 0:o.enableGuestOrderTracking,m=null===l||void 0===l?void 0:l.isActiveGuestTracking,b=localStorage.getItem(v.gd.FROM_ORDERTRACING_BUTTON);if(null!==l&&void 0!==l&&l.orderTrackingID||(m||u)&&O&&(null!==l&&void 0!==l&&l.otu||null!==l&&void 0!==l&&null!==(i=l.postOrderDetails)&&void 0!==i&&i.otu)&&b){let e;try{const t=new URL(null===l||void 0===l?void 0:l.otu);e=new URLSearchParams(t.search).get("PhoneNo")}catch(p){console.error("Error extracting phone number:",p),e="0"}const t={orderId:(null===l||void 0===l?void 0:l.orderTrackingID)||(null===l||void 0===l?void 0:l.id)||(null===l||void 0===l?void 0:l.orderId),tenantId:null===l||void 0===l?void 0:l.tenantId,Email:e},o=(null===l||void 0===l?void 0:l.retryCountForGetOrderStatus)+1;a(Object(n.g)(t,(e=>{var t;let i=!1;e.errors&&e.errors.length>0&&(i=!0),d({selectedPickupOrderCollectionMethod:null===e||void 0===e||null===(t=e.collectionPoint)||void 0===t?void 0:t.name});let a=localStorage.getItem(v.gd.USER_LANGUAGE);if("true"!==localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED)&&a!==(null===e||void 0===e?void 0:e.lang)){let t=null===e||void 0===e?void 0:e.lang,o={key:t,short_value:null===t||void 0===t?void 0:t.split("-")[1]};localStorage.setItem(v.gd.DEFAULT_LANGUAGE,JSON.stringify(o)),Object(j.id)({defaultLanguage:t,language:t},r),localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED,!0),setTimeout((()=>window.location.reload()),500)}M({count:o,orderDetails:l,hasError:i,updateSetOrderDetails:d})})))}else{const e={orderId:null===l||void 0===l?void 0:l.orderId,tenantId:null===l||void 0===l?void 0:l.tenantId,customerId:(null===l||void 0===l?void 0:l.customerId)||null},t=(null===l||void 0===l?void 0:l.retryCountForGetOrderStatus)+1;a(Object(n.f)(e,(()=>M({count:t,orderDetails:l,updateSetOrderDetails:d}))))}},L=e=>{var t;const o=localStorage.getItem("guestActiveOrders");let i;try{i=JSON.parse(o)}catch(a){i=[]}return null===(t=i)||void 0===t?void 0:t.some((t=>t.id===(null===e||void 0===e?void 0:e.orderId)))},P=e=>{if(Object(p.j)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:i}=e,a={tenantId:null===o||void 0===o?void 0:o.tenantId,miscPaymentReferenceId:null===o||void 0===o?void 0:o.miscPaymentReferenceId},l=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(n.d)(a,(()=>M({count:l,orderDetails:o,updateSetOrderDetails:i}))))}},w=e=>{if(Object(p.Y)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:i}=e,a={tenantId:null===o||void 0===o?void 0:o.tenantId,wiCodePurchaseId:null===o||void 0===o?void 0:o.wiCodePurchaseId},l=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(n.e)(a,(()=>M({count:l,orderDetails:o,updateSetOrderDetails:i}))))}},M=e=>{const{count:t,orderDetails:o,hasError:i,updateSetOrderDetails:a}=e;if(a){const e=setTimeout((()=>{(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer),a({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:e,hasError:i})}),Object(u.a)(c.L))}},k=e=>{e(Object(r.a)({object:Object(b.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},F=e=>{e(Object(s.a)({object:Object(b.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},U=e=>{var t,o,i,a,l;const{service:n,store:r,tenantId:s,deliveryAddress:c}=null===e||void 0===e?void 0:e.orderDetails;let u=(null===n||void 0===n?void 0:n.toUpperCase())===v.Jb.DELIVERY;const m=[{storeId:null===r||void 0===r?void 0:r.storeId,channel:O.b.channel,service:n,dropoffAddress:{city:null===c||void 0===c?void 0:c.city,state:null===c||void 0===c?void 0:c.state,zipCode:null===c||void 0===c?void 0:c.pinCode,street:null===c||void 0===c||null===(t=c.addressLines)||void 0===t?void 0:t.join(","),...u&&(null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.lat)&&{latitude:null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.lat},...u&&(null===e||void 0===e||null===(a=e.latLong)||void 0===a?void 0:a.lng)&&{longitude:null===e||void 0===e||null===(l=e.latLong)||void 0===l?void 0:l.lng}}}];null===e||void 0===e||e.dispatch(Object(d.d)({data:m,tenantId:s,isFavoritePage:!1}))},H=e=>{var t,o,i,d,r,s,c,u,O;const{dispatch:m,beforeUnload:b=!1,orderDetails:j={}}=e,{userStatus:h={}}=j,g=sessionStorage.getItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var S;b&&((null===(t=window)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||(null===(i=window)||void 0===i||null===(d=i.location)||void 0===d?void 0:d.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.CHECKOUT))||g||(m(Object(l.z)()),(null===(r=localStorage)||void 0===r?void 0:r.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.PAYMENT_STATUS))!==(null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED)&&(m(Object(n.h)()),m(Object(a.e)())),m(Object(a.a)({value:[]})),((null===(s=window)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||null!==h&&void 0!==h&&h.loggedIn||(null===h||void 0===h||!h.loggedIn)&&(null===(u=window)||void 0===u||null===(O=u.location)||void 0===O?void 0:O.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)&&Object(p.cb)(j))&&(null===(S=sessionStorage)||void 0===S||S.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))},B=e=>{var t,o;const{orderDetails:i,updateSetOrderDetails:a,tenantReducer:l}=e,n=null===l||void 0===l||null===(t=l.componentOptions)||void 0===t||null===(o=t.homePage)||void 0===o?void 0:o.enableGuestOrderTracking,{props:d,service:r,displayOrderProcessingPage:s,retryCountForGetOrderTrackingStatus:c,orderAcceptedLoading:u,isBasketsCreated:O,customer:m,tenantId:b,userStatus:h}=i;if(Object(p.tb)(i)&&!u){if((e=>Object(p.gb)(e)&&!(null!==e&&void 0!==e&&e.enableRetryCountForPickupOrderTracking))(i))sessionStorage.setItem(v.Ne.PICKUP_ORDER_CANCELLED,i.orderId),Object(j.Ye)(d);else if((e=>Object(p.S)(e)||Object(p.g)(e)||Object(p.U)(e))(i)){var g;null===(g=localStorage)||void 0===g||g.setItem(null===v.Ud||void 0===v.Ud?void 0:v.Ud.STATUS_TEXT,null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED);const t=null===i||void 0===i?void 0:i.showOrderSummaryOnSentToPosFailed;t&&Object(p.nb)(i)?(I(i,O,e),f({displayOrderProcessingPage:s,orderDetails:i,service:r,updateSetOrderDetails:a,showOrderSummaryOnSentToPosFailed:t}),N(i,a,c)):Object(j.ef)(d)}else I(i,O,e),f({displayOrderProcessingPage:s,orderDetails:i,service:r,updateSetOrderDetails:a}),N(i,a,c);!n&&(e=>{let{userStatus:t,customer:o,tenantId:i,orderDetails:a}=e;null!==t&&void 0!==t&&t.loggedIn||Object(p.j)()||Object(p.Y)()||G({trackDetails:{customer:o,tenantId:i},orderDetails:a})})({userStatus:h,customer:m,tenantId:b,orderDetails:i})}},W=e=>{var t,o;const{orderDetails:i,dispositionPaymentPage:a,userOrderStateDispatch:l}=e,n={deliveryAddress:Object(j.ac)(null===i||void 0===i?void 0:i.deliveryAddress,null===i||void 0===i?void 0:i.showStateCityAddAddress),store:null===i||void 0===i?void 0:i.store,type:null===i||void 0===i?void 0:i.service},d=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(v.gd.DISPOSITION_NEW)))||{};d.orderDetails=n,null===(o=localStorage)||void 0===o||o.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(d)),l({type:null===g.a||void 0===g.a?void 0:g.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...a,orderDetails:n}}})},G=e=>{const{trackDetails:t,orderDetails:o,redirectTo:i,props:a}=e,{customer:l,tenantId:n}=t;if(null!==o&&void 0!==o&&o.id||null!==o&&void 0!==o&&o.orderId){const e=null!==o&&void 0!==o&&o.orderId?{...o,tenantId:n}:{...Object(h.k)({postOrPastOrderDetails:{...o},customer:l}),tenantId:n};e.postOrderDetails={},e.dispatch=null,e.storesReducer=null,e.additionalChargeLines=null,e.additionalCharges=null,e.filteredFoodLines=null,e.foodLines=null,e.operatingTime=null,e.operatingTimeFromStoreReducer=null,e.props=null,sessionStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING,JSON.stringify(e)),i&&i(a)}else console.error(JSON.stringify(o)),Object(j.ef)(a)},V=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:i}=e,{orderId:a,customerId:l,tenantId:d}=o,r={orderId:a,tenantId:d,customerId:l,paramData:{reason:"default",channel:"web",isRefundable:!1}};t(Object(n.a)(r,(()=>{var e;null===(e=sessionStorage)||void 0===e||e.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING),A({dispatch:t,orderDetails:o,updateSetOrderDetails:i})}))),i({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowStoreClosePickupOrderCancelModal:!1})},Y=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:i}=e,{orderId:a,customerId:l,tenantId:d,selectedPickupOrderCollectionMethod:r,collectionPoint:{carNumber:s=null}={}}=o,c={orderId:a,tenantId:d,customerId:l,paramData:{name:r,bayNumber:0,checkInSummary:"",carNumber:s}};t(Object(n.b)(c,(e=>((e,t)=>{var o;null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e||null===(o=e.errors)||void 0===o?void 0:o.length)>0&&t({isShowStoreClosePickupOrderCancelModal:!0})})(e,i))))},z=e=>{var t,o;const{orderReducer:i,paymentsContentReducer:a,orderDetails:l,updateSetOrderDetails:n,props:d,tenantReducer:r}=e;var s,c,u;null!==i&&void 0!==i&&null!==(t=i.response)&&void 0!==t&&null!==(o=t.order)&&void 0!==o&&o.id&&(0===(null===i||void 0===i||null===(s=i.response)||void 0===s||null===(c=s.order)||void 0===c||null===(u=c.tenders)||void 0===u?void 0:u.length)?Object(j.Qe)(d):Object(h.u)({orderReducer:i,paymentsContentReducer:a,orderDetails:l,updateSetOrderDetails:n,tenantReducer:r}))},K=(e,t,o)=>{var i,a,l;const n=null!==e&&void 0!==e&&null!==(i=e.storesWithStatus)&&void 0!==i&&i.length?null===e||void 0===e||null===(a=e.storesWithStatus)||void 0===a?void 0:a[0]:{};(null===t||void 0===t||null===(l=t.store)||void 0===l?void 0:l.timings)&&o({store:{...null===t||void 0===t?void 0:t.store,...null===n||void 0===n?void 0:n.summary}})},q=e=>{var t,o,i,a,l,n,d,r,s,c;Object(m.z)({userType:null!==e&&void 0!==e&&null!==(t=e.userStatus)&&void 0!==t&&t.loggedIn?"lo-member":"lo-guest",tip_amount:null===e||void 0===e?void 0:e.tipCharge,bottle_deposit:null===e||void 0===e?void 0:e.bottleDepositChargeTotal,storeID:null===e||void 0===e||null===(o=e.postOrderDetails)||void 0===o||null===(i=o.store)||void 0===i?void 0:i.storeId,payment_type:null===e||void 0===e||null===(a=e.paymentReferences)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.paymentType,state:null===e||void 0===e||null===(n=e.store)||void 0===n||null===(d=n.address)||void 0===d?void 0:d.state,orderTime:Object(S.S)(null===e||void 0===e?void 0:e.displayFormatOrderTime,v.sb.H_MM_A,v.sb.HH_mm),CheckInTime:Object(S.e)(v.sb.HH_mm),checkInlocation:null===e||void 0===e||null===(r=e.collectionPoint)||void 0===r?void 0:r.name,eventType:2,disposition:null===e||void 0===e?void 0:e.service,purchase_day:Object(S.e)(v.sb.DDDD),transaction_id:null===e||void 0===e||null===(s=e.paymentReferences)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.transactionId})}},1112:function(e,t,o){"use strict";o.d(t,"g",(function(){return m})),o.d(t,"j",(function(){return b})),o.d(t,"l",(function(){return j})),o.d(t,"k",(function(){return p})),o.d(t,"b",(function(){return h})),o.d(t,"c",(function(){return g})),o.d(t,"n",(function(){return I})),o.d(t,"e",(function(){return f})),o.d(t,"d",(function(){return N})),o.d(t,"m",(function(){return C})),o.d(t,"f",(function(){return T})),o.d(t,"h",(function(){return E})),o.d(t,"i",(function(){return x})),o.d(t,"a",(function(){return D}));var i=o(21),a=o(5),l=o(9),n=o(146),d=o(6),r=o(406),s=o(398),c=o(20),u=o.n(c),v=o(0),O=o(2);const m=async(e,t)=>{var o;await i.a.registerEvent(null===l.a||void 0===l.a||null===(o=l.a.menuNavigation)||void 0===o?void 0:o.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},a.Bb)},b=async(e,t)=>{const o=[];o.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:o[0]},a.Bb)},j=async(e,t,o)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o]}),await i.a.registerEvent(e.eventType,{data:l[0]},a.Bb)},p=async(e,t,o,l)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o],[l]:e.selectedData[l]}),await i.a.registerEvent(void 0,{data:n[0]},a.Bb)},h=(e,t)=>{const o=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===o||void 0===o?void 0:o.find((t=>{let{isHidden:o=!1,items:i}=t;return!o&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},g=(e,t,o,i,a,l)=>{var n;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.length)&&0===Object.keys(t).length?S(e.categories[0],o,i,a):Object.keys(t).length>0?S(t,o,i,a):S(e,o,i,a),d},S=(e,t,o,i)=>{var l;let n={},d=[];return d=null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.map((e=>(e.items.forEach(((e,l)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===s.o.PRICE_WITHOUT_TAX.toLowerCase())),r=Object(a.Jc)(d.value,i).toFixed(2);r=r?parseFloat(r):"NA",n={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:r,item_category:t,item_list_name:t,item_list_id:o,index:l,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),n))),d},I=async e=>{var t,o,n;await i.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_id,item_list_name:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_name,items:e}}},a.Bb)},f=(e,t)=>{let o={},i=e.find((e=>{var o;return(null===e||void 0===e||null===(o=e.name)||void 0===o?void 0:o.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const a in e.categories)if(e.categories[a].id===t)return o=e.categories[a],!0;return!1}))),{selectedCategory:i,selectedSubcategory:o}},N=function(e,t,o,i){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const l=(r=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:o,categories:i}=e,a=!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase());return a||(a=i.find((e=>{let{url:t,isHidden:o}=e;return!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())}))),a})));var d,r,s;if(u()(l)){if(t&&(o("category"),i(!0)),!u()(e)){var c;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&n.scroller.scrollTo(null===t||void 0===t||null===(c=t.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:a?-140:-100})}}else n.scroller.scrollTo(null===l||void 0===l||null===(s=l.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:a?-150:-100});return!u()(l)},C=e=>null===e||void 0===e?void 0:e.isStoreClosed,T=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:o}=r.d;let i=Object(d.translateWithI18Next)(t),a=Object(d.translateWithI18Next)(o);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=a),{btnText:i}},E=(e,t)=>{0===e.length&&Object(a.Ob)(document.title,Object(d.translateWithI18Next)(s.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(s.s))},x=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let o=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;o.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),o},D=e=>{const{searchMode:t,filterList:o,dietaryList:i,products:a,viewUp:l,tenantData:n,getCardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:m}=e;return(t.isSearchedMode||[...o,...i].length)&&null!==a&&void 0!==a&&a.length?Object(O.jsx)("div",{className:l?"small-menu-container":"medium-menu-container",children:Object(O.jsx)(v,{productList:a,cardType:l?"small":"medium",tenantData:n,cardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,categoryId:m})}):t.isSearchedMode&&u()}},1113:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var i=o(210),a=o(2);const l=e=>Object(a.jsx)(i.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},1114:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var i=o(1);function a(e){return{type:i.he,payload:e}}},1115:function(e,t,o){"use strict";o(3);var i=o(2);t.a=e=>{const{className:t,clickNextCard:o=null}=e;return Object(i.jsx)("div",{className:t,onClick:()=>{o()},onKeyPress:()=>{o()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})}},1116:function(e,t,o){"use strict";o(3);var i=o(2);t.a=e=>{const{className:t,clickPrevCard:o=null}=e;return Object(i.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})}},1117:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(46),n=o(2);const d=e=>{const{show:t,errorMsg:o="",cssClass:i="",errImage:a}=e;return t?Object(n.jsxs)("div",{className:"inline-error-container ".concat(i),children:[Object(n.jsx)(l.a,{srcFile:a}),Object(n.jsx)("div",{className:"error-message",children:o})]}):null},r=a.a.memo(d);t.a=r},1118:function(e,t,o){"use strict";o.d(t,"a",(function(){return T}));var i=o(35),a=o(61),l=o(397),n=o(145),d=o(16),r=o(262),s=o(1098),c=o(0),u=o(1095),v=o(55),O=o(5);o(80),o(30);const{QUANTITY_ACTION:m,ANALYTICS_EVENTS:b,CART_ALERT:j,PDP_DATA_FOR_UPDATE_FOODLINE:p,CUSTOMISE_FLAG_CART:h,REMOVE_ITEM_FLAG:g}=a.a,{MINI_PDP_DATA:S,FROMFLAGEDIT:I,EDIT_CLICKED:f}=d.a,{RESET_MODGROUP_IDS_UPDATE:N,SHOW_PDP_ALERT_POPUP:C}=r.a;function T(e,t,o,d){let T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},E=arguments.length>5?arguments[5]:void 0,x=arguments.length>6?arguments[6]:void 0,D=arguments.length>7?arguments[7]:void 0,y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",A=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],_=arguments.length>10?arguments[10]:void 0,R=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",P=arguments.length>13?arguments[13]:void 0;const w=(o,a)=>{let{foodLineId:n}=o;const{cartId:r}=e;n&&r&&t&&(E(Object(i.q)({tenantId:t,basketId:r,basketLineItemId:n})),T({type:g,value:{removeItemCart:!0}}));const c=Object(l.r)([o],d,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,y,R);a&&a(c),E(Object(i.u)(new Date));const u=null===o||void 0===o?void 0:o.cartPrice,v={eventFlag:b.REMOVE,itemsArray:c,userType:D,totalAmount:u,couponCode:R,currencyShortName:y};Object(s.h)(v)},M=e=>{T({type:j,value:{showCartAlert:e}})},k=e=>{if(localStorage.getItem(c.gd.ADD_TO_ORDER)){var t;const o=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(c.gd.ADD_TO_ORDER));null!==o&&void 0!==o&&o[e]&&delete o[e],Object.keys(o).length>0?localStorage.setItem(c.gd.ADD_TO_ORDER,JSON.stringify(o)):localStorage.removeItem(c.gd.ADD_TO_ORDER)}},F=(o,a)=>{const{cartId:l}=e,n={Id:null===a||void 0===a?void 0:a.foodItemId,categoryId:null===a||void 0===a?void 0:a.categoryId,quantity:null===a||void 0===a?void 0:a.quantity,categoryName:null===a||void 0===a?void 0:a.foodName,categoryUrl:null===a||void 0===a?void 0:a.categoryUrl};+(null===a||void 0===a?void 0:a.discountAmount)>0?E(Object(i.y)({params:{basketId:l,basketLineItemId:null===a||void 0===a?void 0:a.foodLineId},tenantId:t},{...n,isProductPromo:!1})):w(a),k(o)};return{itemQuantityHandler:(o,a)=>{var n,r;let{quantity:O,foodLineId:j,foodItemId:p}=o;const{cartId:h,discountAmounts:g=[]}=e,{unitPrice:S}=o;O&&j&&h&&t&&(a===m.Increase&&Object(u.e)(O,null===o||void 0===o?void 0:o.isProductPromo,o,_),O=a===m.Increase?O+1:a===m.Decrease&&O-1||O,E(Object(i.x)({params:{basketId:h,basketLineItemId:j},tenantId:t},{quantity:O,isBundle:Object(l.e)(p)})),E(Object(i.u)(new Date)));const I=a===m.Increase?b.ADD_TO_CART:b.REMOVE;let f=Object(l.r)([o],d,"quantityModified",g,y,R,L/P);const N=(null===f||void 0===f||null===(n=f[0])||void 0===n?void 0:n.price)*(null===f||void 0===f||null===(r=f[0])||void 0===r?void 0:r.quantity),{totalAmount:C}=e;if(a===m.Increase){var T,x;const e=null===(T=JSON.parse(null===(x=localStorage)||void 0===x?void 0:x.getItem(c.gd.DISPOSITION_NEW)))||void 0===T?void 0:T.type;Object(v.f)(D,f,+N.toFixed(2),R,y,e)}else{let e={eventFlag:I,itemsArray:f,userType:D,totalAmount:N,couponCode:R,currencyShortName:y};Object(s.h)(e)}},itemRemoveHandler:w,itemAllRemoveHandler:()=>{M(!0)},itemAllRemoveAction:o=>{const{cartId:a}=e;a&&t&&E(Object(i.o)({basketId:a,tenantId:t})),M(!1);let n=Object(l.r)(o,A,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,y,R);localStorage.removeItem(c.gd.ADD_TO_ORDER);const d=o.map((e=>e.cartPrice)).reduce(((e,t)=>e+t));let r={eventFlag:b.REMOVE,itemsArray:n,userType:D,totalAmount:d,couponCode:R,currencyShortName:y};Object(s.h)(r),E(Object(i.u)(new Date))},addMoreMenuHandler:(e,t)=>{const o=Object(O.Hd)(e)?c.Ce.CATERING_PAGE:Object(O.Jd)(e)&&t?c.Ce.DELIVERY_PAGE:c.Ce.MENU_PAGE;x.push({pathname:o}),E(Object(i.u)(new Date))},itemEditHandler:o=>{const{foodItemId:a="",foodLineId:d}=o,{catalog:r}=e;T({type:N}),T({type:f,value:{cartEditClicked:!0}}),T({type:S,value:{id:a,flag:I,foodLineId:d}}),E(Object(n.c)({tenantId:t,catalogName:r,itemId:a})),Object(l.y)(b.EDIT),E(Object(i.u)(new Date))},showCartAlert:M,itemCustomiseHandler:function(o,i,a,d,s,u,v){let O=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{foodItemId:m="",foodLineId:j}=i,{catalog:g}=e;if(null!==i&&void 0!==i&&i.isProductPromo){var S,I;const e=null===i||void 0===i||null===(S=i.discountComponents)||void 0===S||null===(I=S[0])||void 0===I?void 0:I.couponCode,t=(e=>{var t,o,i;const{applicableCoupons:a,itemId:l,couponCode:n}=e,d=null===a||void 0===a?void 0:a.filter((e=>(null===e||void 0===e?void 0:e.itemDetails)&&(null===e||void 0===e?void 0:e.code)===n));return null===d||void 0===d||null===(t=d[0])||void 0===t||null===(o=t.itemDetails)||void 0===o||null===(i=o.find((e=>(null===e||void 0===e?void 0:e.id)===l)))||void 0===i?void 0:i.availability})({itemId:i.foodItemId,applicableCoupons:v,couponCode:e});s(u({key:c.gd.VIEW_PRODUCT,value:{couponCode:e,promoParams:[{itemId:i.foodItemId,quantity:i.quantity,maxQuantity:i.maxQuantity,minQuantity:i.minQuantity}],priceDetails:[{id:i.foodItemId,availability:t}]}})),s(u({key:c.gd.PROMO_PRODUCT_CART,value:{couponCode:null===i||void 0===i?void 0:i.couponCode,promoParams:[{itemId:null===i||void 0===i?void 0:i.foodItemId,quantity:null===i||void 0===i?void 0:i.quantity,maxQuantity:null===i||void 0===i?void 0:i.maxQuantity}],priceDetails:[{id:i.foodItemId}],isPromo:!0}})),T({type:r.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}})}T({type:p,value:{id:m,flag:h,foodLineId:j,isProductPromo:null===i||void 0===i?void 0:i.isProductPromo}}),T({type:r.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:null===i||void 0===i?void 0:i.isProductPromo}}),s(u({key:C,value:!1})),E(Object(n.c)({tenantId:t,catalogName:g,itemId:m})),a.push({pathname:Object(l.h)(o,i,d,O)}),Object(l.y)(b.EDIT),localStorage.setItem(c.gd.CUSTOMISE_ITEM_CART,!0),sessionStorage.setItem(c.Ne.CUSTOMISE_PDP_FLAG,!0)},navigateToPromos:e=>{x.push({pathname:null===c.Ce||void 0===c.Ce?void 0:c.Ce[null===e||void 0===e?void 0:e.toUpperCase()]}),E(Object(i.u)(new Date))},promosRemoveHandler:(o,a)=>{const{cartId:l}=e;o&&E(Object(i.p)({basketId:l,tenantId:t,couponCode:o},(()=>{a?F(o,a):k(o)})))},addToCartAnalyticsOnly:function(e,t,o,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,c=arguments.length>6?arguments[6]:void 0;let u={eventFlag:t===m.Increase?b.ADD_TO_CART:b.REMOVE,itemsArray:Object(l.r)([e],d,a.a.QUANTITY_MODIFIED,[],c,i,n/r),userType:o,totalAmount:(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.cartPrice),couponCode:i,currencyShortName:c};Object(s.h)(u)}}}},1119:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return n}));var i=o(210),a=o(2);const l=e=>Object(a.jsx)(i.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),n=e=>Object(a.jsx)(i.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},1120:function(e,t,o){var i=o(598),a=o(596),l=o(599),n=4294967295,d=Math.min;e.exports=function(e,t){if((e=l(e))<1||e>9007199254740991)return[];var o=n,r=d(e,n);t=a(t),e-=n;for(var s=i(r,t);++o<e;)t(o);return s}},1121:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return r}));var i=o(3);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},a.apply(this,arguments)}var l=function(e){var t=Object(i.useRef)(e);return t.current=e,t},n=function(e){var t=void 0===e?{}:e,o=t.requestOptions,n=t.debounce,d=void 0===n?200:n,r=t.cache,s=void 0===r?86400:r,c=t.cacheKey,u=t.googleMaps,v=t.callbackName,O=t.defaultValue,m=void 0===O?"":O,b=t.initOnMount,j=void 0===b||b,p=Object(i.useState)(!1),h=p[0],g=p[1],S=Object(i.useState)(m),I=S[0],f=S[1],N=Object(i.useState)({loading:!1,status:"",data:[]}),C=N[0],T=N[1],E=Object(i.useRef)(null),x=l(o),D=l(u),y=c?"upa-"+c:"upa",A=Object(i.useCallback)((function(){var e;if(!E.current){var t=window.google,o=D.current,i=(null==o?void 0:o.places)||(null==t||null==(e=t.maps)?void 0:e.places);i?(E.current=new i.AutocompleteService,g(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),_=Object(i.useCallback)((function(){T({loading:!1,status:"",data:[]})}),[]),R=Object(i.useCallback)((function(){try{sessionStorage.removeItem(y)}catch(e){}}),[]),L=Object(i.useCallback)(function(e,t){var o;return function(){for(var i=this,a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];null!==o&&(clearTimeout(o),o=null),o=setTimeout((function(){return e.apply(i,l)}),t)}}((function(e){if(e){T((function(e){return a({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(y)||"{}")}catch(o){}s&&(t=Object.keys(t).reduce((function(e,o){return t[o].maxAge-Date.now()>=0&&(e[o]=t[o]),e}),{}))[e]?T({loading:!1,status:"OK",data:t[e].data}):E.current.getPlacePredictions(a({},x.current,{input:e}),(function(i,a){if(T({loading:!1,status:a,data:i||[]}),s&&"OK"===a){t[e]={data:i,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(y,JSON.stringify(t))}catch(o){}}}))}else _()}),d),[d,_]),P=Object(i.useCallback)((function(e,t){void 0===t&&(t=!0),f(e),E.current&&t&&L(e)}),[L]);return Object(i.useEffect)((function(){if(!j)return function(){return null};var e=window.google;return D.current||null!=e&&e.maps||!v?A():window[v]=A,function(){window[v]&&delete window[v]}}),[v,A]),{ready:h,value:I,suggestions:C,setValue:P,clearSuggestions:_,clearCache:R,init:A}},d=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(o,i){t.geocode(e,(function(t,a){"OK"!==a&&i(a),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),o(t)),o(t)}))}))},r=function(e){return new Promise((function(t,o){try{var i=e.geometry.location,a=i.lat,l=i.lng;t({lat:a(),lng:l()})}catch(n){o(n)}}))}},1122:function(e,t,o){"use strict";o.d(t,"b",(function(){return B})),o.d(t,"f",(function(){return W})),o.d(t,"i",(function(){return G})),o.d(t,"c",(function(){return V})),o.d(t,"j",(function(){return Y})),o.d(t,"h",(function(){return q})),o.d(t,"d",(function(){return Q})),o.d(t,"e",(function(){return X})),o.d(t,"g",(function(){return Z})),o.d(t,"a",(function(){return $}));var i=o(16),a=o(106),l=o(92),n=o(270),d=o(6),r=o(46),s=o(24),c=o(0),u=o(5),v=o(15),O=o(2);const{Location_Error:m,errorIcon:b}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:S,DINEIN_TOAST_MSG:I,NOSTORE_TITLE:f,NOSTORE_CONTENT:N,NOSTORE_TOAST_MSG:C,CLOSED_STORE_TITLE:T,CLOSED_STORE_CONTENT:E,LOCATION_ALERT_MSG:x,CLOSED_STORE_TOAST_MSG:D}=n.b,{DINE_IN:y,DISTANCE_20000MR:A,START_ORDER_BUTTON:_,BROWSE_MENU_BUTTON:R}=n.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:P="",SCHEDULE_ORDER_TIME_DATA:w="",SET_DISPOSITION:M,USER_LOCALIZED:k,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:U,SET_FORCERELOAD:H}=i.a,B=(e,t,o,i,a,l)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?l(e):a(e,t):null!==e&&void 0!==e&&e.length||i(t,o)},W=function(e,t,o,i,a,l,n,d,r,u,v,O){var m;let b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:j,maxDriveTimeMins:p,geoLocation:h}=b;let g=e.filter((e=>{var t,o,i,a,l,n,d,r,s,c,u,v,O,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(r=d.menu)||void 0===r||null===(s=r.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(m=O.timings)||void 0===m?void 0:m.asap)}));if((null===(m=g)||void 0===m?void 0:m.length)>0){if(j&&l===c.yb){const e={stores:g,numberOfStores:2,disposition:l,distanceMetrics:a,driveTime:p,channel:s.b.channel,isDriveTimeFromAdminPortal:j},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(l,a);g=t}if(d){var S=JSON.parse(localStorage.getItem(c.Hb));S&&(g[0].id!==S.store.id||g[0].service!==S.type?(r(!0),o(!1),v(g[0])):o(!1))}else t(g[0])}else O(!0),u(l,a)},G=(e,t,o,i,a,l)=>{var n,d;t({type:M,value:{oldvalue:e,newValue:{type:i,store:a,date:l.date,time:l.time,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:i,store:a,date:l.date,time:l.time,selectedTime:l.selectedTime,interval:l.interval,deliveryAddress:null===o||void 0===o||null===(d=o.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:k,value:{isLocalized:!0}})},V=(e,t,o,a)=>{const{SCHEDULE_ORDER_DATA:l,DISPOSITION_METHOD:n}=i.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:r,CURRENT_STORE_INFO_STORAGE:s,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:O,SAVED_TIME_ORDER:m}=c.gd;let b={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:M,value:{oldvalue:b,newValue:b}}),localStorage.removeItem(v),localStorage.removeItem(r),e({type:w,value:{selectedDateTime:{}}}),e({type:U,value:{}}),localStorage.removeItem(O),localStorage.removeItem(m),o(t({...a,localized:!1})),e({type:k,value:{isLocalized:!1}}),e({type:l,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:n,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(s),e({type:F,value:{}})},Y=(e,t,o,i,a)=>{e({type:P,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),e({type:F,value:i}),e({type:w,value:{selectedDateTime:o}}),e({type:U,value:{selectContentTime:"ASAP"}}),e({type:H,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(a)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP")},z=(e,t,o,i)=>{let a="";return e?a=i===y?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):o?a=Object(d.translateWithI18Next)(f):t&&(a=Object(d.translateWithI18Next)(T)),a},K=(e,t,o,i)=>{let a="";return e?a=i===y?Object(d.translateWithI18Next)(S):Object(d.translateWithI18Next)(p):o?a=Object(d.translateWithI18Next)(N):t&&(a=Object(d.translateWithI18Next)(E)),a},q=(e,t,o,i,a,l,n,r)=>{let s="";return e?(l(!1),s=i===y?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(h)):o?(n(!1),s=Object(d.translateWithI18Next)(C)):t&&(r(!1),s="".concat(Object(d.translateWithI18Next)(D)," ").concat(J(null===a||void 0===a?void 0:a.from)," to ").concat(J(null===a||void 0===a?void 0:a.to))),s},J=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function Q(e,t,o,i,n,d,r,s,c,u,v){const b={HEADER_MSG:{MSGTXT1:z(o,i,n,d)},CONTENT_MSG:K(o,i,n,d)};return(o||i||n)&&Object(O.jsx)(a.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(O.jsx)(l.a,{splitTitle:b.HEADER_MSG,contentMsg:b.CONTENT_MSG,imageSrc:m,altText:"location-error",confirmButtonText:R,cancelButtonText:o?_:null,cancelHandler:o?t:null,confirmHandler:()=>{e(i,n)}})})}const X=()=>Object(O.jsx)("div",{className:"location-notification col-6",children:Object(O.jsxs)("div",{className:"notify-alert",children:[Object(O.jsx)(r.a,{srcFile:b,className:"location-alert-icon"}),Object(O.jsx)("span",{children:Object(d.translateWithI18Next)(x)})]})}),Z=async()=>(await s.b.BindLocation(),s.b.address&&s.b.coordinates),$=e=>e.filter((e=>{var t,o;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}))},1123:function(e,t,o){"use strict";o.d(t,"b",(function(){return I})),o.d(t,"c",(function(){return f}));var i=o(3),a=o(85),l=o(28),n=o(6),d=o(41),r=o(210),s=o(61),c=o(262),u=o(4),v=o(15),O=o(5),m=o(396),b=o(0),j=o(62),p=o(55),h=o(16),g=o(2);const S=(e,t,o,i)=>{let a=(Math.round(e/o*b.hg)/b.hg).toFixed(i);return"".concat(t).concat(a)},I=(e,t)=>Object(O.k)(e)?"pdp-button-disabled":t,f=e=>{const{ENTER:t,PLUS:o,MINUS:i}=b.ag.KEY_CHAR_CODE;e.charCode!==t&&e.charCode!==o&&e.charCode!==i||e.preventDefault()},N=(e,t)=>t===e,C=e=>e?null===h.a||void 0===h.a?void 0:h.a.REVIEW_ORDER_MODAL:null===h.a||void 0===h.a?void 0:h.a.PDP_UNAVAILABLE_MODAL;t.a=e=>{var t,o,h;const{prodQuantity:I,itemQuantity:T,userParams:E,quantityUpdate:x,dName:D,addtoCartClinckHandler:y,itemStatus:A,currencySymbol:_,currencyConversion:R,isMobile:L,handleProdQuantityForCatering:P,maxItemCountPerLineItem:w,modgrpMax:M,selectedItemNotAvailable:k,isItemDecreased:F,itemId:U,minItemCountPerLineItem:H,pdpPromoPage:B}=e,W=Object(l.c)((e=>e.cartReducer)),G=Object(l.c)((e=>e.tenantReducer)),{currencyConversionFactor:V}=G,{cartData:Y={}}=Object(O.sd)(W),{QUANTITY_ACTION:z}=s.a,{IS_OUT_OF_STOCK:K,OUT_OF_STOCK_TEXT:q,IS_IN_STOCK:J,CUSTOMISE_FLAG_CART:Q}=c.a,{QUANTITY_TEXT:X,SELECT_TEXT:Z,ADD_TO_YOUR_ORDER:$}=u.a,{userOrderState:ee,userOrderStateDispatch:te}=Object(i.useContext)(a.a),oe=null===ee||void 0===ee?void 0:ee.pdpDataForUpdateFoodLine,{pdpPayloadData:ie,pdpAddtoCartConfirmButtonDisabled:ae,dispositionNew:le,pdpDataForUpdateFoodLine:ne,timeBasedCetegory:de}=ee,re=Object(O.Sd)(le)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):le,se=(null===re||void 0===re?void 0:re.type)&&Object(O.rf)(Object(O.Mb)(null===re||void 0===re?void 0:re.type)),ce=((e,t,o)=>{const{ADDTOCART:i,CUSTOMISE_FLAG_CART:a}=c.a,{SAVE_CHANGES:l,SAVE:d,ADD:r}=u.a;return(null===e||void 0===e?void 0:e.flag)===a?Object(O.Hd)(t)?Object(n.translateWithI18Next)(d):Object(n.translateWithI18Next)(l):Object(O.hb)(Object(O.Hd)(t),o)?Object(n.translateWithI18Next)(r):Object(n.translateWithI18Next)(i)})(oe,se,L),ue=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isAddItemLoading})),[ve,Oe]=Object(i.useState)(!1),[me,be]=Object(i.useState)(!1),je=Object(l.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),pe=null===G||void 0===G||null===(t=G.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(h=o.global)||void 0===h?void 0:h.pricewithNumberofDecimalDigit,he=Object(j.g)(),ge=Object(l.c)((e=>null===e||void 0===e?void 0:e.menuReducer));Object(i.useEffect)((()=>{var e,t;const o=null===he||void 0===he||null===(e=he.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(b.Ce.CATERING_PAGE);Oe(o)}),[]);const Se=()=>{return Object(g.jsx)("div",{className:(e=I,t=E,"quantityAddtocart qty-calc mg-set ".concat(e?"cardwithQuantity "+t.loggedIn:"cardwithNoquantity")),children:Object(g.jsx)(r.a,{importPath:"QUANTITY_MODIFIER_TEMPLATE",itemCount:I,itemQuantity:T,updateItemQuantity:x,quantityAction:z,item:void 0,itemName:D,cartItemCount:1,maxItemCountPerLineItem:w,hideChild:!0,handleQuantityForCatering:P,dispositionType:se,onKeyPressHandler:f,minItemCountPerLineItem:H})});var e,t},Ie=(e,t)=>{var o;B&&be(!0);const{couponCode:i}=Object(O.zb)(Y),{unitPrice:a,basePrice:l}=ie,n=Object(O.od)(null===E||void 0===E?void 0:E.localized,null===E||void 0===E?void 0:E.loggedIn);let{baseItemsCstmz:d,saucesCstmz:r,sidesCstmz:s,drinksCstmz:c,customizedPrice:u}=Object(O.F)(ee);d=Object(O.te)(d),r=Object(O.te)(r),s=Object(O.te)(s),c=Object(O.te)(c);const v=Object(O.lc)(je,ie,Y,V,null===G||void 0===G?void 0:G.currencyShortName,d,r,s,c,u),{quantity:m=0}=(null===v||void 0===v?void 0:v[0])||{quantity:0},b={couponCode:i},j={unitPrice:a,basePrice:l,cartData:Y,quantity:m,currencyConversionFactor:V},h=Object(O.Ib)(j),g=Object(O.g)(a,V),S=[{...v[0],...b}];var I;null!==(null===v||void 0===v||null===(o=v[0])||void 0===o?void 0:o.isQuantityIncrease)&&(null!==v&&void 0!==v&&null!==(I=v[0])&&void 0!==I&&I.isQuantityIncrease?(e=>{let{miniPDPDataForCart:t,CUSTOMISE_FLAG_CART:o,userType:i,saveChangesItemdetails:a,totalPrice:l,couponCode:n,tenantReducer:d,dispositionType:r}=e;if((null===t||void 0===t?void 0:t.flag)===o){const e=(null===a||void 0===a?void 0:a[0].price)*(null===a||void 0===a?void 0:a[0].quantity);Object(p.f)(i,a,e,n,null===d||void 0===d?void 0:d.currencyShortName,r)}})({miniPDPDataForCart:oe,CUSTOMISE_FLAG_CART:Q,userType:n,saveChangesItemdetails:S,totalPrice:h,couponCode:i,tenantReducer:G,dispositionType:se}):Object(p.g)(n,v,+g.toFixed(2)));y(e,ie,oe,t,g,ne,Y)},fe=(t,o)=>{null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const i=Object(m.g)(U,je),a=Object(m.d)(U,de);Object(m.c)({categoryUrl:i,itemInCart:a,alertType:C(a),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.itemId},{...de,menuData:ge},te)||(Object(O.k)(ae)?(e=>{e.preventDefault();let t=Object(g.jsx)("img",{src:v.a.ErrorImage,alt:"Error"}),o="".concat(Object(n.translateWithI18Next)(Z)," ").concat(M," ").concat(Object(n.translateWithI18Next)($));Object(O.Df)(o,t,"err-toast",!0)})(t):Ie(t,null===o||void 0===o?void 0:o.id))},Ne=()=>{return Object(g.jsx)(d.c,{tabIndex:"1",variant:d.b.primary,fullWidth:!0,hasPrices:!0,inactive:!Object(O.Vd)(null===le||void 0===le?void 0:le.type)&&Object(O.jb)(N(K,A),Object(O.sb)(ue,k,!I||me)),loading:ue,"data-testid":"add-to-cart-handler",onClick:e=>fe(e,Y),disabled:Object(O.sb)(N(K,A),k,!I),className:(e=ae,Object(O.k)(e)?"button-contained-disabled":""),children:Object(O.hb)(Object(O.jb)(N(K,A),k),!N(J,A))?Object(g.jsx)("span",{className:"outofstock",children:Object(n.translateWithI18Next)(q)}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:ce}),R&&Object(g.jsx)("span",{children:S(null===ie||void 0===ie?void 0:ie.unitPrice,_,R,pe)})]})});var e},Ce=Object(O.hb)(L,Object(g.jsxs)("div",{className:"pdp-mobile-quantity-price-sopac fixedDiv ".concat(Object(O.hb)(ve,"catering-button")),children:[Object(g.jsx)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:Se()}),Ne()]})),Te=Object(O.hb)(!L,Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:[Object(g.jsx)("label",{className:"qty","data-testid":"pdp-item-quantity",children:Object(n.translateWithI18Next)(X)}),Se()]}),Ne()]}));return Object(g.jsxs)(g.Fragment,{children:[Te,Ce]})}},1124:function(e,t,o){"use strict";function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a,l,n,d,r=o(3),s=o(194),c=o(416),u=o(5),v=o(1100);const O=(e,t)=>Object(s.b)(t)(l||(l=i(["\n  ","\n"])),e),m=(e,t,o)=>{if(null!==e&&void 0!==e&&e.modulesData){var l;const r=Object(u.D)(null===e||void 0===e||null===(l=e.modulesData)||void 0===l?void 0:l[t]);switch(t){case null===v.f||void 0===v.f?void 0:v.f.HEADER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.CONTACT_US_CONTAINER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.TERMS_OS_USE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_BTN_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.DISPOSITION_BAR_STYLES:case null===v.f||void 0===v.f?void 0:v.f.PROTECTED_DISCLOSURE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.OUR_ADS_STYLES:case null===v.f||void 0===v.f?void 0:v.f.FAQ_CONTAINER_STYLES:return o?O(r,o):(e=>s.b.div(a||(a=i(["\n  ","\n"])),e))(r);case null===v.f||void 0===v.f?void 0:v.f.FOOTER_STYLES:return(e=>s.b.footer(n||(n=i(["\n  ","\n  @media (max-width: 1023px) {\n    padding-bottom: ",";\n  }\n"])),e,(e=>(e=>"".concat(e.paddingBottom,"px"))(e))))(r);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_DESKTOP:return O(r,o);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_MOBILE:return((e,t,o)=>{var a;const{addPixelValues:l,STICKY_TOP_VALUES:n}=e.modulesData,r=null===n||void 0===n||null===(a=n.mobile)||void 0===a?void 0:a.topNonLocalized;return Object(s.b)(o)(d||(d=i(["\n    ","\n    position: ",";\n    top: ",";\n    &.localized {\n      top: ",";\n    }\n    &.nonLocalizeGuide {\n      top: ",";\n    }\n  "])),t,(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"relative":"fixed"}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":r}),(e=>{var t,o;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":l(null===n||void 0===n||null===(o=n.mobile)||void 0===o?void 0:o.topLocalized,null===e||void 0===e?void 0:e.topValue)}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"unset":l(null===e||void 0===e?void 0:e.topGuideValue)}))})(e,r,o)}}return""};t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{globalStyleConstantData:o}=c.a,[i,a]=Object(r.useState)("");return Object(r.useEffect)((()=>{a(m(o,e,t))}),[null===o||void 0===o?void 0:o.modulesData]),i}},1125:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(75),n=o.n(l),d=o(28),r=o(144),s=o(2);var c=e=>{const{handleClose:t,ProductListingModalForm:o,headerText:i,modalTitleId:l=""}=e;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)(r.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:l,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,autoFocus:!0,children:o})})},u=o(41),v=o(1144),O=o.n(v),m=o(46),b=o(5),j=o(85),p=o(400),h=o(16);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},S=o(87),I=o(62),f=o(15);const N=(e,t)=>e?t:null,C=(e,t,o,i,a)=>{const{SETFLAGCASE:l}=g,{FROMFLAGEDIT:n}=h.a;if(0===e.length){if(i&&t.minipdpData.fromFlag!==n)return l.DEFAULT;if(t.minipdpData.fromFlag===n&&((e,t)=>{if(Object(b.Td)(t))return t.filter((t=>{let{id:o}=t;return o===e})).length>0;return!1})(o,a))return l.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(o))return l.ITEMINCLUDES},T=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),E=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",x=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",D=(e,t)=>{let{analyticsObject:o,currLocation:i}=e;t||Object(S.g)(o,i)};var y=e=>{const{cardData:t,min:o,max:a,savedModifierHandler:l,savedModifiers:n,cardType:d,tenantReducer:r,modgrpId:c,modGrpName:u,updatedItems:v,getCartModifiers:O}=e,{Check_Icon:S}=f.a,{id:y,name:A,size:_,dname:R,isDefault:L,imageName:P,isHidden:w,calorificInfo:M}=t;let k=(F=R)&&F.length&&F[0].value;var F;const[U,H]=Object(i.useState)(!1),{userOrderState:B,userOrderStateDispatch:W}=Object(i.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=B,{MODGROUP_IDS_UPDATE:V,UPDATE_DEFAULT_MODGROUP:Y}=p.a,{CONFIRM_UPSIZE_ANALYTICS:z}=h.a,{SETFLAGCASE:K}=g,q=Object(I.h)();Object(i.useEffect)((()=>{switch(C(v,B,y,L,O)){case K.DEFAULT:case K.FROMEDIT:H(!0),l(t,!0,n);break;case K.ITEMINCLUDES:H(!0);break;default:H(!1)}}),[y,v,L,O]);return!w&&Object(s.jsxs)("div",{className:T(d,U),"data-testid":"click-save-product",onClick:()=>{if(L||G.includes(c)){if(L){let e=G.filter((e=>e!==c));W({type:Y,value:e})}}else W({type:V,value:c});let e={analyticsObject:{name:A,size:_},currLocation:Object(b.Ab)(q.pathname)};1===o&&1===a?(D(e,U),!U&&H(!0),l(t,"single",n)):U&&n.length>o&&n.length<=a?(H(!1),l(t,!1,n)):!U&&n.length>=o&&n.length<a&&(D(e,U),H(!0),l(t,!0,n)),W({type:z,value:{confirmUpsizeName:u}})},children:[Object(s.jsx)(m.a,{defaultPath:Object(b.bc)(null,r,!0),srcFile:Object(b.bc)(P,r),className:x(d)}),Object(s.jsxs)("picture",{children:[Object(s.jsx)("source",{media:"(max-width: 1023px)",srcSet:(Q=U,X=S,Q?X:null),alt:"",className:E(d)}),Object(s.jsx)("img",{src:N(U,S),alt:"",className:E(d)})]}),Object(s.jsxs)("div",{className:"modifier-card-content",children:[Object(s.jsx)("div",{className:"title",children:k}),(J=M,J&&Object(s.jsx)("div",{className:"caloricInfo",children:J}))]})]});var J,Q,X},A=o(264),_=o(1096),R=o(21);const L=(e,t,o)=>e.map((e=>e.size&&{name:e.size,rate:Object(b.Ic)(e.availability[0],e.additionalProperties,t,o)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),P=(e,t,o,i)=>{let a=-1,l=L(t,o,i),n=L(e,o,i);return Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e)))).forEach((e=>{a="regular"!==e.name?n.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),a>=0&&n.splice(a,1),Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e))))},w=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)};var M=o(6);const{HamburgerDownArrow:k,filter_options_stoke:F}=f.a,U=(e,t)=>{if(e!==t)return Object(s.jsx)("span",{children:":"})},H=(e,t,o)=>e.rate&&e.name!==t?"+".concat(o).concat(e.rate):"",B=(e,t,o,i)=>e&&e.length&&P(e,t,o,i).length>0;var W=e=>{const{data:t,min:o,max:l,showSelectedModifier:n,modgrpId:r,modGrpName:c}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:O}=g,{userOrderState:m,userOrderStateDispatch:S}=Object(i.useContext)(j.a),[I,f]=Object(i.useState)([]),[N,C]=Object(i.useState)({}),[T,E]=Object(i.useState)(!1),[x,D]=Object(i.useState)([]),[R,L]=Object(i.useState)(!0),[W,G]=Object(i.useState)(Object(b.de)(window.innerWidth)),[V,Y]=Object(i.useState)(t),z=Object(d.c)((e=>e.cartReducer)),K=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:q,currencyConversionFactor:J,componentOptions:Q}=K,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==Q&&void 0!==Q?Q:{},[Z,$]=Object(i.useState)({}),[ee,te]=Object(i.useState)({}),oe=Object(i.useRef)(null),ie=Object(i.useRef)(null),ae=Object(i.useRef)(null),le={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(i.useEffect)((()=>{const e=Object(b.ad)(t.length,JSON.parse(JSON.stringify(t)),[]);let o=((e,t)=>Object(b.Td)(e)?t.filter((t=>t.size===e.name)):t)(N,e);Y([...o])}),[t]);const ne=(e,o,i)=>{let{id:a}=e;if(o===O)t.forEach((e=>{e.id===a&&D([e.id])})),f([{...e,itemId:a,modgrpId:r}]);else if(o){!i.some((t=>{let{id:o}=t;return o===e.id}))&&f([...i,{...e,itemId:a,modgrpId:r}])}else if(i.length){let e=i.filter((e=>{let{itemId:t}=e;return t!==a}));f(e)}},de=()=>{const e=Object(b.de)(window.innerWidth);G(e)};Object(i.useEffect)((()=>{let e=((e,t,o,i)=>{var a;const{FROMFLAGEDIT:l}=h.a,{MODGROUP_IDS_UPDATE:n}=p.a;if((null===t||void 0===t||null===(a=t.minipdpData)||void 0===a?void 0:a.fromFlag)===l){var d,r;let a=i.foodLines.find((e=>{let{id:o}=e;return o===t.minipdpData.foodLineId})),l=null===a||void 0===a||null===(d=a.item)||void 0===d||null===(r=d.modGrps)||void 0===r?void 0:r.find((t=>{let{id:o}=t;return o===e}));var s;return l?(!l.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(s=t.pdpScreenCommons)&&void 0!==s&&s.modGroupIdsUpdated.includes(l.id)||o({type:n,value:l.id}),l.modifiers):{}}return{}})(r,m,S,null===z||void 0===z?void 0:z.cartData);te(e)}),[]),Object(i.useEffect)((()=>{n(I)}),[JSON.stringify(I)]),Object(i.useEffect)((()=>{window.addEventListener("resize",de)}),[W]),Object(i.useEffect)((()=>{T?document.addEventListener("click",re):document.removeEventListener("click",re)}),[T]);const re=e=>{(Object(b.hb)(oe.current,oe.current===e.target)||ie.current&&ae.current&&ie.current!==e.target&&!ae.current.contains(e.target))&&E(!1)},se=()=>{E(!0)},ce=()=>{E(!T)},ue=(e,o)=>{C(e);let i=t.filter((t=>t.size===e.name));Y(i),w(o),E(!T)},ve=(e,o,i)=>{let a=((e,t,o)=>Object(b.Td)(t)?(e(t),o.filter((e=>e.size===t.name))):o)(C,e,t);Y(a),w(o),L(!i),E(!1)},Oe=()=>{C({}),$({}),L(!0)},me=()=>{let e="",t=H(N,u,q);return e=Object(b.ad)(t.length>0,":",""),e};return Object(b.ad)(W,Object(s.jsxs)(a.a.Fragment,{children:[B(t,I,J,X)&&Object(s.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(s.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:se,children:[Object(s.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(N.name,N.name+me(),Object(M.translateWithI18Next)(v))}),Object(s.jsx)("span",{className:"selected-rate",children:H(N,u,q)}),Object(s.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDown"})]})}),T&&Object(s.jsx)("div",{className:"mobile-modal-filter-background",ref:oe,children:Object(s.jsxs)("div",{className:"mobile-modal-filter",children:[Object(s.jsx)("div",{className:"mobile-modal-filter-container",children:Object(s.jsxs)("ul",{className:"mobile-filter-list",children:[Object(s.jsx)("li",{className:R&&0===Object.keys(N).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:Oe,children:Object(s.jsx)("div",{className:"mobile-rate-container",children:Object(M.translateWithI18Next)(v)})}),P(t,I,J,X).map((e=>Object(s.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{E(!0),$(e),L(!1)})(e),children:Object(s.jsxs)("div",{className:"mobile-rate-container",children:[Object(s.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),U(e.name,u),Object(s.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(q).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(s.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,c,Z.name===N.name),children:Object(M.translateWithI18Next)("done")})]})}),Object(s.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:V&&V.length>2&&ee?Object(s.jsx)(_.b,{settings:le,children:V&&V.length&&ee?V.map(((e,t)=>Object(s.jsx)(y,{cardType:"carousal",min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:K,modgrpId:r,modGrpName:c,updatedItems:x,getCartModifiers:ee},t))):null}):V&&V.length&&ee&&V.map(((e,t)=>Object(s.jsx)(y,{cardType:"regular",min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:K,modgrpId:r,modGrpName:c,updatedItems:x,getCartModifiers:ee},t)))||null})]}),Object(s.jsxs)(a.a.Fragment,{children:[B(t,I,J,X)&&Object(s.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(s.jsxs)("div",{className:"language-select-uplift",ref:ie,"data-testid":"desktop-dropdown-filter",onClick:ce,children:[Object(s.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(N.name,N.name+me(),Object(M.translateWithI18Next)(v))}),Object(s.jsx)("span",{className:"selected-rate",children:H(N,u,q)}),Object(s.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDowm"})]}),T&&Object(s.jsx)("div",{ref:ae,children:Object(s.jsx)("ul",{className:"filter-list",children:P(t,I,J,X).map((e=>function(e,t,o,i,a,l){return Object(s.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,o),children:[Object(s.jsx)("span",{children:e.name}),Object(s.jsxs)("div",{className:"rate-container",children:[Object(s.jsx)("span",{className:"filter-item-rate",children:e.name!==i?"+".concat(a).concat(e.rate):""}),e.name===l.name&&Object(s.jsx)(A.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,c,u,q,N)))})})]}),Object(s.jsx)("div",{className:"modifier-list-items",children:V&&V.length&&ee?V.map(((e,t)=>Object(s.jsx)(y,{min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:K,modGrpName:c,modgrpId:r,updatedItems:x,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:o,selectedModifiers:l,source:n=""}=e,{PDP:d}=p.a,[r,c]=Object(i.useState)(t),[u,v]=Object(i.useState)([]),{userOrderState:O}=Object(i.useContext)(j.a),{pdpScreenCommons:{currentAccordian:m,modGroupIdsUpdated:h}}=O,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(i.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);c([...e])})()}),[JSON.stringify(t)]),Object(i.useEffect)((()=>{if(Object(b.hb)(m,n===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===m){var o;const t=(null===(o=e.modifiers)||void 0===o?void 0:o.length)>1?300:0;let i=document.getElementById("accordion-"+m).offsetTop;window.scrollTo({top:i-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));c([...e])}}),[m,JSON.stringify(t)]);const S=e=>{let t,o,i;if(e.length){t=e.map(JSON.stringify),o=new Set(t),i=Array.from(o).map(JSON.parse);let a=[];if(u.length){a=u;let e=u.findIndex((e=>e[0].modgrpId===i[0].modgrpId));e>=0?(a.splice(e,1,i),v([...a])):v([...a,i])}else v((e=>[...e,i]))}};Object(i.useEffect)((()=>{u.length&&o(u),l(u)}),[u]);const I=e=>{let t=[];for(let o of u)for(let i of o)i.modgrpId===e&&i.dname&&i.dname.length&&t.push(i.dname[0].value);return t.join(", ")};return r.map(((e,t)=>{let{id:o,name:i,modifiers:l,expanded:n,min:d,max:v}=e;const O=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(o);return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{className:"accordian-container",id:"accordion-"+o,"data-testid":"product-listing-accordion-".concat(t),children:[Object(s.jsxs)("div",{className:"accordian-header",children:[Object(s.jsxs)("div",{className:"".concat(n?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(o),onClick:e=>((e,t)=>{e&&g();let o=r.length?JSON.parse(JSON.stringify(r)):[];o.map(((e,o)=>(e.id===t&&(e.expanded=!e.expanded),e))),c([...o])})(e,o),children:[Object(s.jsx)("span",{className:"accordion-test",tabIndex:"0",children:i}),O?Object(s.jsx)("span",{className:"updatedBadge",children:Object(M.translateWithI18Next)("updated")}):null]}),Object(s.jsx)("span",{className:"selected-mod",children:u.length&&I(o)})]}),Object(s.jsx)("div",{className:"".concat(n?"panel panel-active":"panel"),children:Object(s.jsx)(W,{modgrpId:o,modGrpName:i,data:l,min:d,max:v,showSelectedModifier:S})})]})},t)}))},V=o(35),Y=o(61),z=o(235),K=o(1099),q=o(1109),J=o(0),Q=o(173),X=o(262),Z=o(396),$=o(80),ee=o(132),te=o(211);const oe=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ie=(e,t)=>{var o,i,a,l;const n=null===t||void 0===t?void 0:t[J.gd.VIEW_PRODUCT],d=null===n||void 0===n?void 0:n.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===n||void 0===n||null===(o=n.promoParams)||void 0===o||null===(i=o.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===i?void 0:i.quantity,maxPromoQuantity:null===n||void 0===n||null===(a=n.promoParams)||void 0===a||null===(l=a.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===l?void 0:l.maxQuantity}},ae=(e,t,o,i)=>{var a,l,n,d,r,s;const{setClickEvent:c,setConfirmed:u,productMapById:v,modifiersList:m,data:j,currencyConversionFactor:p,itemCount:g,minipdpData:I,FROMFLAGEDIT:f,dispatch:N,cartReducer:C,tenantId:T,id:E,modifierGrp:x,userOrderStateDispatch:D,confirmUpsizeName:y,userType:A,categoryMapById:_,addToOrderClickHandler:L,closeParentModal:P,getPwaStorageData:w,sliceDispatch:M,isAddonsAndUpsellEnabled:k}=t,{foodLines:F}=(null===C||void 0===C?void 0:C.cartData)||{},{couponCode:U,discountTotal:H}=Object(b.zb)(null===C||void 0===C?void 0:C.cartData),B=Object(b.Td)(null===C||void 0===C?void 0:C.cartData)?Object(b.nc)(null===I||void 0===I?void 0:I.foodLineId,null===C||void 0===C?void 0:C.cartData):{},W=Math.abs(g-(null===B||void 0===B?void 0:B.count));let G="";e.stopPropagation(),e.preventDefault(),c(e),u(!0);const z=(null===E||void 0===E?void 0:E.split("_")[0])||"",{categoryId:K=""}=null!==(a=null===v||void 0===v?void 0:v[z])&&void 0!==a?a:{},{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:ee}=h.a,{ADDONS:oe}=te.MENU_PLP_CONSTANT,{id:ae="",name:ne="",url:de=""}=null!==(l=null===_||void 0===_?void 0:_[K])&&void 0!==l?l:{},re=null===t||void 0===t||null===(n=t.categoryMapById)||void 0===n||null===(d=n[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,se=Object(Z.d)(z,o);if(Object(Z.c)({categoryUrl:re,itemInCart:se,alertType:Object(Z.j)(null===o||void 0===o?void 0:o.timebasedItemInCart,null===J.Sb||void 0===J.Sb?void 0:J.Sb.ITEM)},o,D))return;O()(m,(e=>{G+="".concat(e[0].name,", ")}));const ce=Object(b.Ic)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let ue={item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,coupon:U,discount:+(H/p).toFixed(2),price:Object(b.oc)(ce),item_list_name:ne,item_list_id:ae,index:Object(Q.b)(F,null===j||void 0===j?void 0:j.id,0),quantity:W,currency:J.p.INR,item_variant:null!==j&&void 0!==j&&null!==(r=j.modgrps)&&void 0!==r&&r.length?null===j||void 0===j||null===(s=j.modgrps)||void 0===s?void 0:s.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const ve=ie(E,w);if(I.fromFlag!==f){var Oe,me,be,je,pe,he;N(Object(V.a)({params:{basketId:null===C||void 0===C||null===(Oe=C.cartData)||void 0===Oe?void 0:Oe.id},tenantId:T},[{Id:E,categoryId:ae,quantity:g,modGrps:le(x),categoryName:ne,categoryUrl:de,isProductPromo:null===ve||void 0===ve?void 0:ve.isPromoApplied}],(()=>{null!==ve&&void 0!==ve&&ve.productPromosInStorage&&(L({couponCode:ve.productPromosInStorage}),M(Object($.c)({key:J.gd.VIEW_PRODUCT})),D({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),P()),k&&D({type:ee,value:{viewType:oe}})}))),Object(q.a)({item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,price:Object(b.oc)((null===j||void 0===j||null===(me=j.availability)||void 0===me||null===(be=me[0])||void 0===be?void 0:be.price)/p),item_variant:Object(b.oc)(null===(je=G)||void 0===je?void 0:je.trim()),item_list_name:ne,item_list_id:ae,index:1,quantity:g,coupon:U||"",discount:+(H/p).toFixed(2),currency:i},A,g*Object(b.oc)((null===j||void 0===j||null===(pe=j.availability)||void 0===pe||null===(he=pe[0])||void 0===he?void 0:he.price)/p),U,i)}else{var ge;N(Object(V.y)({params:{basketId:null===C||void 0===C||null===(ge=C.cartData)||void 0===ge?void 0:ge.id,basketLineItemId:I.foodLineId},tenantId:T},{Id:E,quantity:g,modGrps:le(x)}));const e=(null===ue||void 0===ue?void 0:ue.price)*(null===ue||void 0===ue?void 0:ue.quantity);g!==(null===B||void 0===B?void 0:B.count)&&(g>(null===B||void 0===B?void 0:B.count)?Object(S.j)(A,ue,+e,U,i):Object(S.l)(Y.a.ANALYTICS_EVENTS.REMOVE,ue,A,i,e))}N(Object(V.u)(new Date)),D({type:Y.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:E,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)})(y)};function le(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var ne=e=>{var t,o,l;const{data:n,categoryId:r,handleClose:c,showPriceContent:v=!0,source:O="",addToOrderClickHandler:m,closeParentModal:p}=e,{id:S,modgrps:I,availability:f=[],additionalProperties:N=[]}=n,{userOrderState:C,userOrderStateDispatch:T}=Object(i.useContext)(j.a),{confirmUpsizeName:E,minipdpData:x,timeBasedCetegory:D}=C,[y,A]=Object(i.useState)(I),[_,R]=Object(i.useState)([]),L=Object(d.b)(),P=Object(d.c)((e=>e.tenantReducer)),w=Object(d.c)((e=>e.cartReducer)),{cartData:k={},isAddItemLoading:F=!1}=w||{},{currencySymbol:U,tenantId:H,currencyConversionFactor:B,maxItemCountPerLineItem:W,componentOptions:{web:{global:{showPriceWithTax:V=!1}={}}={}}={}}=P,q=null===P||void 0===P||null===(t=P.componentOptions)||void 0===t||null===(o=t.plp)||void 0===o?void 0:o.isAddonsAndUpsellEnabled,{flatResponse:{productMapById:J={},categoryMapById:Q={}}={}}=null!==(l=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},[X,Z]=Object(i.useState)(0),te=Object(b.Ic)(f[0],N,B,V),{ADDTOCART:le,UPDATECART:ne}=g,{FROMFLAGEDIT:de,EDIT_CLICKED:re}=h.a,[se,ce]=Object(i.useState)(1),[ue,ve]=Object(i.useState)(0),{ITEM_QUANTITY:Oe}=z.a,[me,be]=Object(i.useState)(!1),[je,pe]=Object(i.useState)(null),he=Object(d.c)((e=>e.appStateReducer.userStatus)),ge=Object(b.od)(null===he||void 0===he?void 0:he.localized,null===he||void 0===he?void 0:he.loggedIn),Se=Object(ee.a)(),Ie=Object(ee.b)($.b),fe=ie(S,Ie),Ne={setClickEvent:pe,setConfirmed:be,categoryId:r,modifiersList:_,data:n,itemCount:se,minipdpData:x,FROMFLAGEDIT:de,dispatch:L,cartReducer:w,tenantId:H,id:S,modifierGrp:y,userOrderStateDispatch:T,confirmUpsizeName:E,productMapById:J,currencyConversionFactor:B,userType:ge,categoryMapById:Q,addToOrderClickHandler:m,closeParentModal:p,getPwaStorageData:Ie,sliceDispatch:Se,isAddonsAndUpsellEnabled:q};Object(i.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:y,modifiedItemPrice:X})}),[y]),Object(i.useEffect)((()=>{const e=Object(b.Td)(k)?Object(b.mc)(S,k):{},t=Object(b.Td)(e)?e.count:0;if(ve(t),x.fromFlag===de){const e=Object(b.Td)(k)?Object(b.nc)(x.foodLineId,k):{},t=Object(b.Td)(e)?e.count:1;ce(t)}}),[k]),Object(i.useEffect)((()=>()=>{T({type:re,value:{cartEditClicked:!1}})}),[T,re]);Object(i.useEffect)((()=>{me&&!F&&c(je)}),[me,F]),Object(i.useEffect)((()=>(window.addEventListener("keydown",oe),()=>{window.removeEventListener("keydown",oe)}))),Object(i.useEffect)((()=>{x.fromFlag!==de&&S&&(null===fe||void 0===fe?void 0:fe.minPromoQuantity)&&ce(null===fe||void 0===fe?void 0:fe.minPromoQuantity)}),[S]);const Ce=x.fromFlag===de?Object(M.translateWithI18Next)(ne):Object(M.translateWithI18Next)(le);return Object(s.jsxs)(a.a.Fragment,{children:[Object(s.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(s.jsx)("form",{className:"form",children:Object(b.Td)(I)?Object(s.jsx)(G,{grouplist:I,getSelectedModifiers:e=>{let t=0,o=[];e.forEach((e=>{let i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((e=>{let o={},a=JSON.parse(JSON.stringify(e));o.id=a.id,o.quantity=a.defaultQuantity,o.modGrps=a.modgrps,o.categoryId=r,i.modifiers.push(o);let l=Object(b.Ic)(e.availability[0],e.additionalProperties,B,V);t+=l})),o.push(i)})),Z(te+t),A(o)},selectedModifiers:R,source:O}):null})}),v&&Object(s.jsx)("div",{className:"price-content",children:Object(s.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[se?Object(s.jsx)(K.a,{itemCount:se,itemQuantity:Oe,updateItemQuantity:(e,t)=>{t===Y.a.QUANTITY_ACTION.Increase?ce((e=>+e+1)):ce((e=>+e-1))},quantityAction:Y.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==fe&&void 0!==fe&&fe.isPromoApplied?null===fe||void 0===fe?void 0:fe.maxPromoQuantity:W,cartItemCount:ue+1}):null,Object(s.jsxs)(u.a,{className:"button start-order-btn ".concat(F?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>ae(e,Ne,D,null===P||void 0===P?void 0:P.currencyShortName),children:[Object(s.jsx)("span",{className:"title-for-button",children:"".concat(Ce)}),Object(s.jsx)("span",{className:"currency-symbol",children:"".concat(U," ").concat((Te=X,(se*Te).toFixed(2)))})]})]})})]});var Te},de=o(52);const re=e=>{if(e){var t;let o=JSON.parse(JSON.stringify(e));return o.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),o}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:o=!0,callBackToPDP:a,data:l={},source:r=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=de.a,{userOrderStateDispatch:O}=Object(i.useContext)(j.a),m=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(b.Td)(l)?re(l):re(m),h=Object(d.b)(),S=Object(d.c)((e=>e.cartReducer)),I=e=>{e.stopPropagation(),e.preventDefault(),O({type:v,value:{fromCouponSection:!1}}),h(Object(V.v)({showProductListingModal:!1,categorySelected:""}))},f=Object(s.jsx)(ne,{data:p,categoryId:S.categorySelected,handleClose:I,showPriceContent:o,callBackToPDP:a,"data-testid":"product-listing-modal-enabled",source:r,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),N=Object(s.jsx)(c,{handleClose:I,ProductListingModalForm:f,headerText:Object(M.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),C=Object(s.jsx)("div",{className:"pdp-custm",children:f});return t?n.a.createPortal(N,document.getElementById("modal-popups")):C}},1126:function(e,t,o){"use strict";var i=o(106),a=o(92),l=o(4),n=o(61),d=o(6),r=o(3),s=o(85),c=o(44),u=o(132),v=o(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:o={},setConfirmationModel:O=null,itemRemoveHandler:m=null,isRemoveItemLoading:b=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:S=null,addtoCartClinckHandler:I=null,setAddToClickParms:f=null,addToClickParms:N={},selectedStoreData:C=null,clickHandler:T=null,title:E="",confirmButtonText:x="",removeCouponHandler:D=null,couponCode:y="",couponTitle:A="",itemRemoveWrapper:_=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:L=""}=e,{userOrderStateDispatch:P}=Object(r.useContext)(s.a),w=Object(u.a)(),{REMOVE_COUPON:M}=n.a,{CONTINUE:k,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:U,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:H,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:B}=l.a;return Object(v.jsx)(i.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(a.a,{title:h===M?E:Object(d.translateWithI18Next)(U),giftCardOrVoucherErrMsg:h===M?R:Object(d.translateWithI18Next)(B),giftCardErrFirstMsg:h===M?L:Object(d.translateWithI18Next)(H),altText:"",confirmButtonText:h===M?x:Object(d.translateWithI18Next)(k),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:i,itemRemoveHandler:a,isRemoveItemLoading:l,setCouponModal:d,setRemoveItem:r,flag:s,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:O,setAddToClickParms:m,addToClickParms:b,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:S,couponTitle:I,itemRemoveWrapper:f,userOrderStateDispatch:N,sliceDispatch:C}=e;const{EDIT_ITEM:T,REMOVE_ITEM:E,QUANTITY_INCREASE_DECREASE:x,STORE_DISPOSITION_UPDATE:D,REMOVE_COUPON:y}=n.a;if(d(!1),s===E&&f({isAddedPromosCoupon:t,item:o,setConfirmationModel:i,itemRemoveHandler:a,isRemoveItemLoading:l,setRemoveItem:r,sliceDispatch:C}),s===x&&(N({type:c.p,value:{couponErrorMessage:"REMOVE"}}),v(o,u,h)),s===T){const{event:e,data:t,miniPDPData:o,totalAmount:i,cartId:a,pdpDataForUpdateFoodLine:l,cartData:n}=b;O(e,t,o,a,i,l,n),m({}),d(!1)}s===D&&p(h,j),s===y&&g(S,I)})({isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:O,itemRemoveHandler:m,isRemoveItemLoading:b,itemRemoveWrapper:_,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:S,addtoCartClinckHandler:I,setAddToClickParms:f,addToClickParms:N,selectedStoreData:C,clickHandler:T,events:e,removeCouponHandler:D,couponCode:y,couponTitle:A,userOrderStateDispatch:P,sliceDispatch:w}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1127:function(e,t,o){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",AUSTRALIA:"AUSTRALIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",YUM:"Yum",PROTECTED_DISCLOSURE:"Protected Disclosure",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAL:"external",FIND_A_KFC:"Find a KFC",FIND_A_KFC_TITLE:"FindAKFCLink",HEADLINE:"headline",YOUTUBE:"Youtube",SNAPCHAT:"Snapchat",LINKEDIN:"LinkedIn",TIKTOK:"Tiktok",LINE:"Line",COOKIES_SETTINGS:"Cookie Settings"}},1128:function(e,t,o){"use strict";o.d(t,"c",(function(){return v})),o.d(t,"b",(function(){return m})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return p}));o(3);var i=o(5),a=(o(85),o(262)),l=o(16),n=o(1132),d=o(1098),r=(o(62),o(28),o(1095)),s=o(1106),c=o(6),u=o(61);o(210),o(0),o(2);const v=(e,t,o,l,d,s,c,v,m,b,p,h,g,S,I,f,N)=>{const{HASH_SYMBOL:C}=a.a,{QUANTITY_ACTION:T}=u.a,{SINGLE:E}=n.a;let x,D,y=Object(i.Td)(S)?Object(r.w)(S,I,1):"";if(1===l||Object(i.j)([!s,b.length>=l,b.length===d])){if(j(o,s),Object(i.j)([!s,Object(i.Td)(S),!N])){var A,_;let e=I.split(C);e.pop();let t=Object(i.ad)(b.length>1,null===(A=b[1])||void 0===A?void 0:A.itemId,null===(_=b[0])||void 0===_?void 0:_.itemId);e.push(t);let o=e.join(C),a=Object(r.w)(S,o,1);x=Object(r.G)(S,{price:y,flag:T.Increase},f),x=Object(r.G)(x,{price:a,flag:T.Decrease},f),Object(r.v)(S,o)&&(x=Object(r.E)(x,o)),f&&(D=p.sopacPDPCustomization.updatedPrice+y-a)}!s&&v(!0),c(m,E,b),O(D,x,g,h)}else if(Object(i.j)([s,b.length>l,b.length<=d])){v(!1),c(m,!1,b);let e=Object(r.H)({pdpPayloadData:S,forModal:N,modgrps:m.modgrps,getPayloadUpdated:x,modifierPrice:y,isL3Custom:f,getUpdatedPrice:D,userOrderState:p,flag:T.Decrease});x=e.getPayloadUpdated,D=e.getUpdatedPrice,O(D,x,g,h)}else if(Object(i.j)([!s,b.length>=l,b.length<d])){j(o,s),v(!0),c(m,!0,b,!0);let e=Object(r.H)({pdpPayloadData:S,forModal:N,modgrps:m.modgrps,getPayloadUpdated:x,modifierPrice:y,isL3Custom:f,getUpdatedPrice:D,userOrderState:p,flag:T.Increase});x=e.getPayloadUpdated,D=e.getUpdatedPrice,O(D,x,g,h)}},O=(e,t,o,n)=>{const{CONFIRM_UPSIZE_ANALYTICS:d}=l.a,{PDP_PAYLOAD_DATA:r,UPDATE_SHOW_PDP_CUSTOM_MODAL:s}=a.a;n({type:s,value:{updatedPrice:e}}),Object(i.Td)(t)&&n({type:r,value:t}),n({type:d,value:{confirmUpsizeName:o}})},m=(e,t,o,i,a)=>{const{SETFLAGCASE:l}=n.a;switch(e){case l.DEFAULT:case l.FROMEDIT:t(!0),o(i,!0,a);break;case l.ITEMINCLUDES:t(!0);break;default:t(!1)}},b=(e,t,o,a,d,r)=>{const{SETFLAGCASE:s}=n.a,{FROMFLAGEDIT:c}=l.a;if(0===e.length&&r){if(a&&t.minipdpData.fromFlag!==c)return s.DEFAULT;if(t.minipdpData.fromFlag===c&&d&&((e,t)=>{if(Object(i.Td)(t))return t.filter((t=>{let{id:o}=t;return o===e})).length>0;return!1})(o,d))return s.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(o))return s.ITEMINCLUDES},j=(e,t)=>{let{analyticsObjectData:o,currLocation:i}=e;t||Object(d.e)(o,a.a.ADDONS)},p=(e,t,o)=>{const{CUSTOMIZE_BUTTON_TEXT:i,EDIT_BUTTON_TEXT:l}=s.a,{id:n}=e;let d="",u="".concat(t).concat(a.a.HASH_SYMBOL).concat(n);return d=Object(r.v)(o,u)?Object(c.translateWithI18Next)(l):Object(c.translateWithI18Next)(i),d}},1129:function(e,t,o){"use strict";o.d(t,"a",(function(){return N}));var i=o(3),a=o.n(i),l=o(1130),n=o(411),d=o(16),r=o(210),s=o(2);var c=e=>Object(s.jsx)(r.a,{importPath:"CONTENT_DISPOSITION_ITEMS",...e}),u=o(1157),v=o(5),O=o(1108),m=o(85),b=o(0),j=o(62),p=o(28),h=o(133),g=o(73),S=o(1122),I=o(55),f=o(399);const N=e=>{var t,o,N,C,T,E,x,D,y;const{userParams:A,contentData:_,showHeader:R=!0,hideTimeslot:L,showCateringDisposition:P}=e,{DISPOSITION_DATA:w,SCHEDULE_ORDER_DATA:M,DISPOSITION_METHOD:k,SHOW_CLEAR_CART_ALERT:F,SEARCH_ORDER_DATA:U,CLEAR_CART_CONFIRM_CANCEL_MODAL:H,clearCartExposedFlag:B,searchStoreAlertTitle:W,CURRENT_STORE_INFO:G,SET_FIND_A_KFC_VIEW:V,ORDER_SUMMARY_MODAL_CLOSE:Y,SCHEDULE_ORDER_CLICKED:z,SHOW_SCHEDULE_DISPOSITION:K}=d.a,{segmentedHomePageData:q=[]}=_,{headline:J=[],supportedDispositions:Q=[]}=q,X=e.contentData&&Object(n.b)(J,Q)||{},Z=(null===(t=e.contentData)||void 0===t?void 0:t.contentDispositionData)&&Object(v.Td)(e.contentData.contentDispositionData)&&Object(u.c)(e.contentData.contentDispositionData)||{},{userOrderState:$,userOrderStateDispatch:ee}=Object(i.useContext)(m.a)||{},te=localStorage.getItem(b.gd.SERVICE_TYPE),oe=null===te||void 0===te?void 0:te.toUpperCase();let{enableAddressLocalisation:ie=!1}=Object(p.c)((e=>Object(v.sd)(e.tenantReducer)));ie=void 0!==$.enableAddressLocalisation?$.enableAddressLocalisation:ie;const ae=null===$||void 0===$||null===(o=$.dispositionStateData)||void 0===o||null===(N=o.dispositionType)||void 0===N?void 0:N.toUpperCase(),le=(null===$||void 0===$||null===(C=$.scheduleOrderData)||void 0===C?void 0:C.changeFlow)||!1,ne=ae&&!le?ae===b.Lb.DELIVERY:oe===b.Lb.DELIVERY,de=ie&&ne,{cartData:re={}}=Object(p.c)((e=>e.cartReducer)),[se,ce]=Object(i.useState)(R),ue=Object(f.c)(),ve=le?JSON.parse(localStorage.getItem(b.gd.SELECTED_ADDRESS)):{},Oe=(null===$||void 0===$||null===(T=$.scheduleOrderData)||void 0===T?void 0:T.selectedAddress)||ve,me=null===Oe||void 0===Oe?void 0:Oe.deliverySearchType,be=me?ue.find((e=>e.id===me)):ue[0],[je,pe]=Object(i.useState)(be),he=Object(j.h)(),ge=Object(p.b)(),Se=null===(E=localStorage)||void 0===E?void 0:E.getItem("guestActiveOrders");let Ie=[];try{Ie=JSON.parse(Se)}catch(Ee){Ie=[]}Ie=Object(O.d)(Ie,null===A||void 0===A?void 0:A.loggedIn);const fe=Object(i.useCallback)((()=>{var e;return(A.loggedIn||(null===(e=Ie)||void 0===e?void 0:e.length)>0&&!(null!==A&&void 0!==A&&A.loggedIn))&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACCOUNT||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACTIVE_ORDERS)||sessionStorage.getItem(b.Ne.PICKUP_ORDER_CANCELLED)&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE)}),[null===he||void 0===he?void 0:he.pathname,A.loggedIn]);Object(i.useEffect)((()=>{fe()||(ce(!0),sessionStorage.removeItem(b.Ne.PICKUP_ORDER_CANCELLED))}),[A.localized,fe()]),Object(i.useEffect)((()=>{var e;null!==$&&void 0!==$&&null!==(e=$.dispositionStateData)&&void 0!==e&&e.showDisposition&&pe(ue[0])}),[null===$||void 0===$||null===(x=$.dispositionStateData)||void 0===x?void 0:x.showDisposition]);const Ne=Object(s.jsx)(r.a,{importPath:"START_ORDER_ITEMS",contentData:X,clickHandler:()=>{Object(n.c)(),ee({type:V,value:{findAKFC:!1}}),ee({type:U,value:{showSearchStore:!1}}),ee({type:Y,orderSummaryModalClose:!0}),localStorage.setItem(b.gd.RETAIN_ADDRESS,""),P?(Object(I.o)(),ee({type:U,value:{showSearchStore:!0,configSearchScreen:h.c}}),localStorage.setItem(b.gd.CONFIG_SEARCH_SCREEN,h.a),ee({type:k,value:{dispositionType:b.Jb.CATERING}}),ge(Object(g.u)())):Object(v.Wd)(null===he||void 0===he?void 0:he.pathname)?(ee({type:w,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),ee({type:U,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):ee({type:w,value:{showDisposition:!0}})}}),Ce=()=>{if(fe())return Object(s.jsx)(r.a,{...e,testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:ce,isHeaderTrackOrderEnabled:fe})},Te=Object(s.jsx)(c,{contentData:Z,clickHandler:(e,t)=>{e.preventDefault(),e.stopPropagation(),ee({type:V,value:{findAKFC:!1}}),ee({type:U,value:{showSearchStore:!1}}),ee({type:M,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,changeFlow:!0}}),ee({type:G,value:t}),ee({type:K,value:{showSheduleDisposition:!1}}),ee({type:z,value:{scheduleModeClicked:!1}}),ee({type:d.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),ee({type:d.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}})},selectedInfo:$,hideTimeslot:L,showBlackStripeContent:se,headerTrackOrder:Ce,activeDisposition:oe,dispositionChange:(e,t)=>{let o="";var i;if(e.stopPropagation(),e.preventDefault(),Object(u.b)(t),o=t.trim(),null!==b.Kb&&void 0!==b.Kb&&b.Kb.includes(o.toUpperCase()))if(ee({type:k,value:{dispositionType:o}}),(null===re||void 0===re||null===(i=re.foodLines)||void 0===i?void 0:i.length)>0){let e={flag:B,onConfirm:W};Object(v.Fe)(ee,e,F,H)}else ee({type:U,value:{showSearchStore:!0}})}});return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[R&&(()=>{let e=Ne;if(fe()&&(e=se?Object(s.jsxs)("div",{children:[Ne," ",Ce()]}):Ce()),!Object(v.le)()&&Object(v.Td)(Z)&&A.localized)e=Te;else if(A.localized){const t=Object(v.Sd)($.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):$.dispositionNew;t&&Object(v.Td)(t.store||{})?e=Te:Object(v.w)()}return e})(),$.showLocationBlockBanner&&Object(S.e)(),(null===$||void 0===$||null===(D=$.dispositionStateData)||void 0===D?void 0:D.showDisposition)&&Object(s.jsx)(l.a,{}),!(null!==$&&void 0!==$&&$.findAKFC)&&(null===$||void 0===$||null===(y=$.searchStoreData)||void 0===y?void 0:y.showSearchStore)&&Object(s.jsx)(r.a,{importPath:de?"DELIVERY_ADDRESS_SEARCH_FORM":"SEARCH_STORE_TEMPLATE",deliverySearchType:je,setDeliverySearchType:pe,onStoreSelectFinish:I.y}),(null===$||void 0===$?void 0:$.scheduleOrderData.showScheduleOrderCatering)&&Object(s.jsx)(r.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:I.y})]})})}},1130:function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var i=o(3),a=o.n(i),l=o(62),n=o(28),d=o(73),r=o(5),s=o(35),c=o(6),u=o(41),v=o(2);var O=e=>{const{modalContent:t,onDispositionMethodSubmit:o,setRef:i=null}=e,{contentText:l="",infoObject:n=null,orderTypes:d=[]}=t,r=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{o(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(a.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:l}),n&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:n.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:o,"data-testid":"form-component",children:r})]})})},m=o(144),b=o(55);var j=e=>{Object(i.useEffect)((()=>{Object(b.o)()}),[]);const{handleClose:t,DispositionModuleForm:o,headerText:l,modalTitleId:n=""}=e;return Object(v.jsx)(a.a.Fragment,{children:Object(v.jsx)(m.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:n,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:l,autoFocus:!0,children:o})})},p=o(21),h=o(9),g=o(0),S=o(407),I=o(16);const f=(e,t)=>{const o=[];for(const l of e){var i,a;const e=null===l||void 0===l||null===(i=l.fields)||void 0===i||null===(a=i.name)||void 0===a?void 0:a.split("-"),n=e[e.length-1].trim().toUpperCase();if(t&&null!==n&&void 0!==n&&n.includes(S.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:r=!1,name:s,showOption:c=!0,id:u="",dispositionType:v}=l.fields;o.push({buttonText:d,selectDefault:r,type:s,showOption:c,id:u,dispositionType:v})}return o},N=e=>{const{headline:t="",subHeadline:o="",subHeadlineType:i="",title:a=""}=e[0].fields||{};return{modalHeaderText:a,contentText:t,infoObject:{type:i,infoText:o}}},C=(e,t,o,i)=>{var a;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:l,SHOW_CLEAR_CART_ALERT:n}=I.a;null!==e&&void 0!==e&&null!==(a=e.foodLines)&&void 0!==a&&a.length&&!i?Object(r.Fe)(t,{},n,l,o):o()};var T=o(85),E=o(24),x=o(113),D=o(92),y=o(236),A=o(1103),_=o(158),R=o(133),L=o(52);var P=e=>{const{CURRENTLY_CLOSED:t,SORRY:o}=A.a,{userOrderState:a,userOrderStateDispatch:u}=Object(i.useContext)(T.a),{contentData:m={}}=a.dispositionStateData,P=Object(n.c)((e=>e.tenantReducer)),{tenantId:w,disableOrderTypeAnalytic:M,isSpecialEventEnabled:k,enableDeliveryMenuOption:F}=P,{deeplinkSelectedStoreId:U,deepLinkStoreMode:H,isDeepLinkURL:B}=a,W=Object(r.Td)(m)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:a=[],supportedDispositions:l=[]}=i,n={modalHeaderText:"",modalContent:{}},d=o?l:l.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(o=t.dispositionType)||void 0===o?void 0:o.toUpperCase())!==g.Cf}));n.modalContent.orderTypes=f(d,t);const{modalHeaderText:r,contentText:s,infoObject:c}=N(a);return n.modalHeaderText=r,n.modalContent.contentText=s,n.modalContent.infoObject=c,n}({dispositionData:m,deepLinkStoreMode:H,isSpecialEventEnabled:k,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:V=""}=W;const{SEARCH_ORDER_DATA:Y,MENU_URL:z,DISPOSITION_DATA:K,CURRENT_STORE_INFO:q,SCHEDULE_ORDER_TIME_DATA:J,SELECTED_TILE_DATA:Q,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:oe,SET_REDIRECTION_PATH:ie}=I.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:ae,TYPE_TAKE_WAY:le,TYPE_DELIVERY:ne,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:re,INVALID_QR_TEXT:se,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:Oe,SWITCH_TO_DINEIN_TEXT:me}=S.a,{ENABLE_ADDRESS_LOCALISATION:be,SHOW_MAP_VIEW_BUTTON:je}=L.a,pe=a&&a.dispositionStateData&&a.dispositionStateData.dispositionType?a.dispositionStateData.dispositionType:null;let he="";const ge=Object(r.Sd)(a.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):a.dispositionNew,Se=Object(n.b)(),Ie=Object(l.g)(),[fe,Ne]=Object(i.useState)(""),[Ce,Te]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ee={},qrCodeScanTime:xe}=Object(n.c)((e=>e.cartReducer)),{customerId:De=""}=Object(n.c)((e=>e.profileReducer));let ye=Object(n.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:Re={}}=Object(n.c)((e=>Object(r.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Le}}=S.a;Object(i.useEffect)((()=>{Se(Object(d.u)()),Se(Object(d.t)()),Se(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(H,Ie)}),[Se]);const Pe=Object(i.useCallback)(((e,t)=>{e.stopPropagation();C(Ee,u,(()=>{Te({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Le,u,Ee]);Object(i.useEffect)((()=>{H&&Se(Object(d.l)({storeId:U,tenantId:w},null,(()=>{Te({showError:!0,errMsg:Object(c.translateWithI18Next)(se),errDesc:null,buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Pe(e,!1)})})))}),[re,se,H,U,Se,w]);const we=(e,t,o,i)=>{e.stopPropagation(),e.preventDefault();const a=t.split("-");if(he=a[a.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=ae),i&&(he=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(r.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},r.Bb)})({selectedDispositionType:he}),H){const e={data:[{storeId:U,channel:E.b.channel,service:g.fe},{storeId:U,channel:E.b.channel,service:g.Eb}],store:[{...Re,service:g.fe},{...Re,service:g.Eb}],tenantId:w,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Ne(he),Se(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};C(Ee,u,t,o)}else[ae,le,ne,de].includes(he.toUpperCase())&&(u({type:oe,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:K,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:be,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:l=!1,loggedIn:n=!1}=ye,s=Object(r.od)(l,n);((e,t)=>{var o;t||Object(b.p)(null===h.a||void 0===h.a||null===(o=h.a.selectOrderType)||void 0===o?void 0:o.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(r.h)(he),"%userType%":s},M)},Me=async(e,t)=>{const o=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(r.Mb)(t)));if(null!==o&&void 0!==o&&o.length){var i,l,n,d,v,O,m,j,p,h,S,I,f;const e={time:"ASAP",interval:null===o||void 0===o||null===(i=o[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(r.nb)(Se,!0,xe,null===o||void 0===o?void 0:o[0],Object(r.Mb)(t),De,e);Se(Object(s.f)({data:c,tenantId:w})),u({type:$,value:{oldvalue:ge,newValue:{store:null===o||void 0===o?void 0:o[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===a||void 0===a||null===(l=a.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===o||void 0===o?void 0:o[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===a||void 0===a||null===(n=a.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress})),Object(r.ze)(null===o||void 0===o||null===(d=o[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(O=v[0])||void 0===O||null===(m=O.address)||void 0===m||null===(j=m.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(r.vf)();const g={storeID:null===o||void 0===o||null===(p=o[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===o||void 0===o||null===(h=o[0])||void 0===h||null===(S=h.addresses)||void 0===S||null===(I=S[0])||void 0===I||null===(f=I.address)||void 0===f?void 0:f.pinCode};Object(b.y)(g),u({type:K,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let o=e||null;u({value:{selectedData:{}},type:Q}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),u({value:o,type:q}),Se(Object(x.a)({...ye,localized:!0})),u({value:{selectedDateTime:t},type:J}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(P)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP"),Ie.push({pathname:"".concat(z)})})(null===o||void 0===o?void 0:o[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===ae?Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>we(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===le&&Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(me),buttonCTA:e=>we(e,g.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(Ae.length>0&&!_e&&fe&&H){var e,i,a;((e,i)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Te({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(o)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Pe(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,o,i,a,l,n,d,r,s,c,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(O=v.asap)||void 0===O?void 0:O.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(i=e.name)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value)}}),[Ae,_e,H]);const ke=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:K,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:oe,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),B&&Object(r.Bd)(Ie)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&ke(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(O,{modalContent:G,onDispositionMethodSubmit:we}),Ue=Object(v.jsx)(j,{handleClose:ke,DispositionModuleForm:Fe,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ce||void 0===Ce?void 0:Ce.showError)&&Object(v.jsx)(y.a,{handleClose:null,CartAlertForm:Object(v.jsx)(D.a,{title:null===Ce||void 0===Ce?void 0:Ce.errMsg,contentMsg:null===Ce||void 0===Ce?void 0:Ce.errDesc,confirmButtonText:null===Ce||void 0===Ce?void 0:Ce.buttonText,confirmHandler:null===Ce||void 0===Ce?void 0:Ce.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),Ue]})}},1131:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var i=o(17),a=o(6),l=o(15),n=o(4);const d=[{key:i.d.roundTheClock,image:l.a.RoundTheClockDark,label:Object(a.translateWithI18Next)(n.a.ROUND_THE_CLOCK)},{key:i.d.birthday,image:l.a.BirthdayDark,label:Object(a.translateWithI18Next)(n.a.BIRTHDAY)},{key:i.d.breakfast,image:l.a.BreakfastDark,label:Object(a.translateWithI18Next)(n.a.BREAKFAST)},{key:i.d.contactless,image:l.a.ContactlessDark,label:Object(a.translateWithI18Next)(n.a.CONTACTLESS)},{key:i.d.driveThru,image:l.a.DrivethruDark,label:Object(a.translateWithI18Next)(n.a.DRIVETHRU)},{key:i.d.driveThruOnly,image:l.a.DrivethruDark,label:Object(a.translateWithI18Next)(n.a.DRIVETHRU)},{key:i.d.foodCourt,image:l.a.FoodCourtDark,label:Object(a.translateWithI18Next)(n.a.FOODCOURT)},{key:i.d.wifi,image:l.a.WifiDark,label:Object(a.translateWithI18Next)(n.a.FREE_WIFI)},{key:i.d.wifiOnly,image:l.a.WifiDark,label:Object(a.translateWithI18Next)(n.a.WIFI)},{key:i.d.kiosks,image:l.a.KiosksDark,label:Object(a.translateWithI18Next)(n.a.KIOSKS)},{key:i.d.parking,image:l.a.ParkingDark,label:Object(a.translateWithI18Next)(n.a.PARKING)},{key:i.d.playground,image:l.a.PlaygroundDark,label:Object(a.translateWithI18Next)(n.a.PLAYGROUND)},{key:i.d.refill,image:l.a.RefillDark,label:Object(a.translateWithI18Next)(n.a.REFILL)},{key:i.d.terraces,image:l.a.TerracesDark,label:Object(a.translateWithI18Next)(n.a.TERRACES)},{key:i.d.phc,image:l.a.AccessibilityDark,label:Object(a.translateWithI18Next)(n.a.ACCESSIBILTY)},{key:i.d.accessibility,image:l.a.AccessibilityDark,label:Object(a.translateWithI18Next)(n.a.ACCESSIBILTY)},{key:i.d.restroom,image:l.a.RestRoomDark,label:Object(a.translateWithI18Next)(n.a.RESTROOM)},{key:i.d.cateringType,image:l.a.BirthdayDark,label:Object(a.translateWithI18Next)(n.a.CATERING_TEXT)}],r=(e,t)=>d.filter((t=>{var o,i;return(null===e||void 0===e||null===(o=e.amenities)||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(i=e.amenities)||void 0===i?void 0:i.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},1132:function(e,t,o){"use strict";t.a={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelections",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"}},1133:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));const i={URL:"/images/offers/lg/",PNG:".png",IMAGES:"/images/",DEFAULT_IMAGE_PATH:"/images/items/no-image.jpg",VIEW_DETAIL_IMAGE_PATH:"/images/offers/detail/",PROMOS_CARD_IMAGE_PATH:"/images/offers/card/",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,CONTENT_DATA_MAX_LENGTH_TO_SHOW:9,TIME_IN_MILLISECONDS:1e3,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},BUTTON_TEXT:{VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},OFFERS_HEADER_TEXT:{OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},FADE_CARD_INDEX:3,DEFAULT_PAGE_SIZE:6,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]}},1134:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var i=o(3),a=o(75),l=o.n(a),n=o(144),d=o(5),r=(o(0),o(1099)),s=o(61),c=o(85),u=o(16),v=o(28),O=o(145),m=o(262),b=o(35),j=o(15),p=o(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:o,SetCustomizableFoodItemsList:a,calculateTotalAmountHandler:l,isEditSelection:n}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=m.a,{userOrderState:S,userOrderStateDispatch:I}=Object(i.useContext)(c.a),{MINI_PDP_DATA:f,FROMFLAGEDIT:N,EDIT_CLICKED:C}=u.a,{QUANTITY_ACTION:T}=s.a,E=o[t],x=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[D,y]=Object(i.useState)(!1),{Single_Arrow_Edit:A}=j.a,_=(e,i)=>{E.quantity=i===T.Increase?(null===E||void 0===E?void 0:E.quantity)+1:(null===E||void 0===E?void 0:E.quantity)-1;const n=o;n[t]=E,a(n),l()};Object(i.useEffect)((()=>{var e;let t=!0;null===E||void 0===E||null===(e=E.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[E.modGrps]),Object(i.useEffect)((()=>{Object(d.tc)(x,E,S,D,h,b.v),y(!1)}),[x,D]);return Object(p.jsxs)(p.Fragment,{children:[n?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,o;I({type:f,value:{id:null===E||void 0===E||null===(e=E.foodItems)||void 0===e?void 0:e.id,flag:N,foodLineId:t}}),I({type:g}),I({type:C,value:{cartEditClicked:!1}}),h(Object(O.c)({tenantId:null===E||void 0===E?void 0:E.tenantId,catalogName:null===E||void 0===E?void 0:E.catalog,itemId:null===E||void 0===E||null===(o=E.foodItems)||void 0===o?void 0:o.id})),y(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(E.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:A,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(E.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(r.a,{itemCount:null===E||void 0===E?void 0:E.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:T,maxItemCountPerLineItem:null===E||void 0===E?void 0:E.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var S=o(6);const I=e=>{const{addNewProductHandler:t,currencySymbol:o,updateCartHandler:i,customizableFoodItemsList:a,SetCustomizableFoodItemsList:l,totalAmount:n,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s,checkItemExpiry:c}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,O=Object.keys(a).length;return Object(p.jsxs)("div",{children:[Object.keys(a).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:a,SetCustomizableFoodItemsList:l,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s}))),r?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(S.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:O<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(S.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{c({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:i,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(S.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:o+n})]})})]})]})};var f=o(1109),N=o(397);const C=e=>{var t;const{filteredPreviousData:o,tenantData:a,dname:r,cardId:s,categoryId:c,categoryName:u,categoryUrl:O,itemCount:m,availability:j,imageName:h,itemFoodlineId:g,customizable:S,isFavouriteMenu:C=!1,cartData:T,clickHandler:E,handleClose:x,foodId:D,isEditSelection:y,headerText:A,pricewithouttax:_}=e,R=Object(v.b)(),{discountTotal:L="",couponCode:P=""}=Object(d.zb)(T)||{},w=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=Object(d.od)(null===w||void 0===w?void 0:w.localized,null===w||void 0===w?void 0:w.loggedIn),{flatResponse:{productMapById:k={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=a,[U,H]=Object(i.useState)({}),[B,W]=Object(i.useState)(0),{currencyConversionFactor:G,currencySymbol:V,componentOptions:Y}=a,{web:{global:{showPriceWithTax:z=!1}={}}={}}=null!==Y&&void 0!==Y?Y:{},K={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:x,modalTitle:A},[q,J]=Object(i.useState)(-1),[Q,X]=Object(i.useState)([]),Z=()=>{J(-1),x&&x()},$=()=>{0===Q.length&&0===q?Z():Q&&null!==Q&&void 0!==Q&&Q.length&&q<=Q.length&&((()=>{var e,t,o,i;R(Object(b.x)({params:{basketId:null===T||void 0===T?void 0:T.id,basketLineItemId:null===(e=Q[q])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=Q[q])||void 0===t?void 0:t.quantity,isBundle:Object(N.e)((null===(o=Q[q])||void 0===o?void 0:o.foodItemId)||(null===(i=Q[q])||void 0===i?void 0:i.mdmId))}))})(),J(q+1))};Object(i.useEffect)((()=>{$()}),[Q]),Object(i.useEffect)((()=>{if(-1===q){var e;const t={...U};null===T||void 0===T||null===(e=T.foodLines)||void 0===e||e.forEach((e=>{var o,i;if(null!==e&&void 0!==e&&null!==(o=e.item)&&void 0!==o&&o.customizable&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===D){var l,n;const o=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:o,displayName:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.displayName,modGrps:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps,maxItemCountPerLineItem:null===a||void 0===a?void 0:a.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===T||void 0===T?void 0:T.catalog,categorySelected:c}}})),H(t),J(0)}else q===Q.length?(Z(),R(Object(b.u)(new Date))):$()}),[null===T||void 0===T?void 0:T.foodLines]),Object(i.useEffect)((()=>{ee()}),[U]);const ee=()=>{let e=0;Object.values(U).forEach((t=>{const o=z?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*o})),W((e/G).toFixed(2))},te=Object(p.jsx)(n.a,{...K,children:Object(p.jsx)(I,{...e,"data-testid":"ModalTemplate",filteredPreviousData:o,addNewProductHandler:e=>{const t={id:s,itemCount:m,product:{productName:r,productImage:h,productPrice:Object(d.Fc)(j[0],_,G,z)},itemFoodlineId:g},o={catId:c,catName:u,catUrl:O};C?E(e,t,S,o):(E(e,t,S,o),x&&x())},currencySymbol:V,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==T&&void 0!==T&&T.id&&F){var e,t;const o=Object.values(U),i=o.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(i);const l=null===o||void 0===o?void 0:o[0],{foodItems:n,unitPrice:r,quantity:s,previousQty:c}=null!==l&&void 0!==l?l:{},u=s-c;let v="".concat(Object(d.uc)(null===n||void 0===n?void 0:n.modGrps));const{categoryId:O="NA",categoryName:m="NA"}=null!==(e=null===k||void 0===k?void 0:k[null===n||void 0===n?void 0:n.id])&&void 0!==e?e:{};Object(f.a)({item_name:Object(d.oc)(null===n||void 0===n?void 0:n.name),item_id:Object(d.oc)(null===n||void 0===n?void 0:n.id),item_category:m,price:Object(d.oc)(r/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:m,item_list_id:O,index:1,quantity:u,coupon:P,discount:L/G,currency:null===a||void 0===a?void 0:a.currencyShortName},M,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(r/G))||void 0===t?void 0:t.toFixed(2)),P,null===a||void 0===a?void 0:a.currencyShortName)}},customizableFoodItemsList:U,SetCustomizableFoodItemsList:H,totalAmount:B,calculateTotalAmountHandler:ee,isEditSelection:y,handleClose:x})});return l.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(158),n=o(403),d=o(6),r=o(5),s=o(85),c=o(0),u=o(15),v=o(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:o,isMobile:O,onPositionChangeHandler:m,centerIndex:b,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=r.N,passAddress:S,storeCardHeight:I,latLongValue:f}=e,{PLACE_PIN:N}=l.a,{userOrderState:C}=a.a.useContext(s.a),{dispositionStateData:T={}}=C,{dispositionType:E=localStorage.getItem("dispositionType")}=T;let x,D,y=a.a.createRef();const[A,_]=Object(i.useState)(f),[R,L]=Object(i.useState)(!1),{RedMarker:P,RedMarkerNoText:w,BlackMarker:M,ArrowIcon:k}=u.a;Object(i.useEffect)((()=>{x=F(A),D=U(A)}),[]),Object(i.useEffect)((()=>{_(f),L(!1)}),[f]),Object(i.useEffect)((()=>{F(A),D=U(A)}),[A,b,R]);const F=e=>new window.google.maps.Map(y.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[b]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!O,gestureHandling:"greedy"}),U=e=>{const t=new window.google.maps.Geocoder;let o=e;x=F(o),j?R||(x.addListener("zoom_changed",(()=>{p(!1),L(!0)})),x.addListener("drag",(()=>{p(!1),L(!0)}))):(x.addListener("drag",(()=>{o={lat:x.getCenter().lat(),lng:x.getCenter().lng()},D.setPosition(o)})),window.google.maps.event.addListener(x,"dragend",(function(){!function(e,t,o){e.geocode({location:o},((e,t)=>{"OK"===t&&e[0]&&S(e[0].formatted_address)}))}(t,0,o)})));let i=Object(r.ad)(Array.isArray(o)&&o.length>0,o,[o]).map(((e,t)=>{let o=new window.google.maps.Marker({position:e,map:x,visible:!0,icon:Object(r.qd)(!j,!R&&j&&t===b)?(null===E||void 0===E?void 0:E.toUpperCase())===c.Df?w:P:M});return o.addListener("click",(function(e){g(e.latLng)})),o}));return Object(r.ad)(Array.isArray(o),i,i[0])};return Object(v.jsxs)(a.a.Fragment,{children:[!t&&((null===E||void 0===E?void 0:E.toUpperCase())!==c.Df||""!==o&&o?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(r.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(N)})})),O&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(I+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(r.hb)(0===b,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(r.ad)(0===b,e.preventDefault(),m(0)),children:Object(v.jsx)(n.a,{srcFile:k,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(b===A.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>b===A.length-1?e.preventDefault():m(1),children:Object(v.jsx)(n.a,{srcFile:k,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:y})]})}},1136:function(e,t,o){"use strict";o.d(t,"b",(function(){return O})),o.d(t,"h",(function(){return g})),o.d(t,"f",(function(){return I})),o.d(t,"e",(function(){return f})),o.d(t,"d",(function(){return N})),o.d(t,"a",(function(){return C})),o.d(t,"g",(function(){return T})),o.d(t,"c",(function(){return E}));var i=o(1133),a=o(214),l=o(5),n=o(12),d=o(35),r=o(14),s=o(11);const{URL:c,PNG:u,IMAGES:v}=i.a,O=(e,t,o)=>{const i=[...t];return!t.length&&i.push({cardType:"empty"}),!e&&i.push({cardType:"login"}),i},m=e=>"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1)),b=e=>"FALSE"!==String(e).toUpperCase()&&Object(l.ue)(e),j=(e,t,o)=>{let i="";return null!==o&&void 0!==o&&o.length?o.forEach((e=>{var o;e.attribute===t&&(i=null===e||void 0===e||null===(o=e.value[0])||void 0===o?void 0:o.value)})):e.forEach((e=>{e.key===t&&(i=e.value)})),i},p=e=>{let t=Object(l.ue)(String(e));return"string"==typeof t&&(t={},t.value=null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"")),e},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null===e||void 0===e?void 0:e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>");return Object(a.a)("".concat(t))},g=e=>e.length>25?e.substring(0,22)+"...":e,S=e=>{var t;const o=null===e||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name)));return null!==o&&void 0!==o&&o.length?null===o||void 0===o?void 0:o.map((e=>{var t,o;return null===(t=Object(l.b)(null!==(o=null===e||void 0===e?void 0:e.parameter)&&void 0!==o?o:"{}"))||void 0===t?void 0:t.items})).reduce(((e,t)=>null===e||void 0===e?void 0:e.concat(t))):[]},I=(e,t)=>e.map((e=>{var o,i,a,l,n,d,r,s,v,O,g,I,f,N,C,T,E,x,D,y,A,_,R,L,P,w,M,k,F,U,H,B,W,G;return{couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.title)&&(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i?void 0:i.title.length)&&h(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a||null===(l=a.title[0])||void 0===l?void 0:l.value),smallText:(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.description)&&(null===e||void 0===e||null===(d=e.promotionDetails)||void 0===d?void 0:d.description.length)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r||null===(s=r.description[0])||void 0===s?void 0:s.value),imageSrc:(null===e||void 0===e||null===(v=e.promotionDetails)||void 0===v?void 0:v.image)&&(null===e||void 0===e||null===(O=e.promotionDetails)||void 0===O?void 0:O.image.length)&&c+(null===e||void 0===e||null===(g=e.promotionDetails)||void 0===g||null===(I=g.image[0])||void 0===I?void 0:I.value)+u,imageName:(null===e||void 0===e||null===(f=e.promotionDetails)||void 0===f||null===(N=f.image)||void 0===N?void 0:N.length)&&(null===e||void 0===e||null===(C=e.promotionDetails)||void 0===C||null===(T=C.image[0])||void 0===T?void 0:T.value)+(null===t||void 0===t||null===(E=t.componentOptions)||void 0===E||null===(x=E.web)||void 0===x||null===(D=x.coupons)||void 0===D?void 0:D.imageType)+"?ver="+(null===t||void 0===t?void 0:t.imageVersion),validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:(G=null===e||void 0===e||null===(y=e.promotionDetails)||void 0===y?void 0:y.conditions,null===G||void 0===G?void 0:G.map((e=>{var t;return{displayOrder:e.displayOrder,message:null===(t=e.displayMessage[0])||void 0===t?void 0:t.value,parameter:p(null===e||void 0===e?void 0:e.parameter)}})).sort(((e,t)=>+e.displayOrder-+t.displayOrder))),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,itemDetails:null===e||void 0===e?void 0:e.itemDetails,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(A=e.promotionDetails)||void 0===A?void 0:A.cardType,header:j(null===e||void 0===e||null===(_=e.promotionDetails)||void 0===_?void 0:_.customProperties,"header",null===e||void 0===e||null===(R=e.promotionDetails)||void 0===R?void 0:R.customAttributesCulture),hideEndDate:j(null===e||void 0===e||null===(L=e.promotionDetails)||void 0===L?void 0:L.customProperties,"hideEndDate",null===e||void 0===e||null===(P=e.promotionDetails)||void 0===P?void 0:P.customAttributesCulture),legalText:j(null===e||void 0===e||null===(w=e.promotionDetails)||void 0===w?void 0:w.customProperties,"legalText",null===e||void 0===e||null===(M=e.promotionDetails)||void 0===M?void 0:M.customAttributesCulture),showTimer:j(null===e||void 0===e||null===(k=e.promotionDetails)||void 0===k?void 0:k.customProperties,"showTimer",null===e||void 0===e||null===(F=e.promotionDetails)||void 0===F?void 0:F.customAttributesCulture),promoParameters:S(null===e||void 0===e?void 0:e.promotionDetails),...(W=null!==e&&void 0!==e&&null!==(U=e.promotionDetails)&&void 0!==U&&U.customAttributesCulture?null===e||void 0===e||null===(H=e.promotionDetails)||void 0===H?void 0:H.customAttributesCulture:null===e||void 0===e||null===(B=e.promotionDetails)||void 0===B?void 0:B.customProperties,(null===W||void 0===W?void 0:W.length)&&W.reduce(((e,t)=>{let{key:o,value:i}=t;return{...e,[m(o)]:"TRUE"===String(i).toUpperCase()||b(i)}}),{}))}})),f=e=>{if(e){const t=Object(n.M)(e),o=Object(n.o)(),i=Object(n.G)(t,o,"seconds"),a=String(i).includes("-");return t.isValid()&&!a}return!1},N=e=>{const t=Object(n.M)(e),o=Object(n.o)(),i=Object(n.G)(t,o,"hour"),a=o.add(i,"hours"),l=Object(n.G)(t,a,"minute"),d=a.add(l,"minutes"),r=Object(n.G)(t,d,"second");return"".concat(i,"HR : ").concat(l,"M : ").concat(r,"S")};function C(e,t,o,i){e(Object(d.b)({basketId:null===t||void 0===t?void 0:t.id,tenantId:i},{couponCode:o}))}const T=(e,t,o)=>!e&&t(o),E=e=>{let{tenantId:t,useBucketSize:o,imagePath:i,imageName:a}=e;return"".concat(Object(r.a)(s.Qb)).concat(t).concat(v).concat(((e,t)=>{const o=t+"/";if(e)return o+Object(l.wb)(window.innerWidth)+"/";return o})(o,i)).concat(a)}},1137:function(e,t,o){"use strict";o.d(t,"b",(function(){return S}));var i=o(3),a=o.n(i),l=o(144),n=o(41),d=o(28),r=o(61),s=o(6),c=o(397),u=o(5),v=o(1095),O=(o(46),o(85)),m=o(0),b=o(15),j=o(20),p=o.n(j),h=o(1168),g=o(2);const S=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"};t.a=e=>{var t,o,j,I,f,N;const{isMobile:C,openIndulgentModal:T,handleClose:E,removeItemCart:x,IndulgentData:D,modalTitle:y,continueButtonText:A,toastMassage:_,callBackMethod:R,imageContainerSize:L,addToCart:P,productId:w="",ruleNameDetails:M={},errorBackMethod:k,showSectionView:F=!0,buttonClass:U="redButton",showCaloricValue:H=!1,showServesValue:B=!1,indulgentUpsellConstants:W={},renderedFromPLP:G=!1,isRestrictedDisabled:V=!1}=e,{ruleName:Y,recommendationType:z=""}=M,{INDULGENT_ADD_ON:K}=r.a,{ADD_TO_CART:q}=K,{userOrderState:J}=Object(i.useContext)(O.a),Q=Object(d.b)(),{tickWhiteToast:X}=b.a,{cartReducer:Z,userParams:$,tenantReducer:ee,storesReducer:te,menuReducer:oe,marketConfigReducer:ie}=Object(d.c)((e=>{var t;return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response}})),ae=Object(u.fb)(ee),{couponCode:le,discountTotal:ne}=Object(u.zb)(null===Z||void 0===Z?void 0:Z.cartData),{headerData:{pdpBackgroundImage:de={}}={}}=ie,re=Object(u.lb)(de),{flatResponse:se={}}=oe||{},ce=(null===te||void 0===te||null===(t=te.storesWithStatus)||void 0===t?void 0:t.length)&&(null===te||void 0===te||null===(o=te.storesWithStatus[0])||void 0===o||null===(j=o.summary)||void 0===j?void 0:j.timeZoneIANA),{loggedIn:ue,localized:ve}=$,Oe=(me=J,p()(me.dispositionNew)?JSON.parse(localStorage.getItem(m.gd.DISPOSITION_NEW)):me.dispositionNew);var me;const be=null===Oe||void 0===Oe?void 0:Oe.type;var je;const pe=((e,t)=>{var o,i,a,l,n;return(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n?void 0:n.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((je=Oe)?je.store:{},ee),he=null===ee||void 0===ee||null===(I=ee.componentOptions)||void 0===I||null===(f=I.web)||void 0===f||null===(N=f.global)||void 0===N?void 0:N.pricewithNumberofDecimalDigit,[ge,Se]=Object(i.useState)(0),[Ie,fe]=Object(i.useState)(0),[Ne,Ce]=Object(i.useState)(1);let Te;var Ee,xe,De;G?Te=F:Te=null===ee||void 0===ee||null===(Ee=ee.componentOptions)||void 0===Ee||null===(xe=Ee.web)||void 0===xe||null===(De=xe.cartPage)||void 0===De?void 0:De.showIndulgentSectionView;const ye=a.a.useRef(null),Ae={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:T,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==Z&&void 0!==Z&&Z.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:E,modalTitle:Object(s.translateWithI18Next)(y),autoFocus:!0},_e=Object(c.n)(C),Re=Object(u.od)(ve,ue),Le={INDULGENT_ADD_ON:p()(W)?K:W,IndulgentData:D,isMobile:C,recommendationType:z,ruleName:Y,productId:w,userType:Re,flatResponse:se,catalogs:pe,tenantReducer:ee,cartReducer:Z,dispatch:Q,indulgentAddToCartHandler:c.u,rangeValue:ge,updateRangeValue:Se,currentSlide:Ie,updateCurrentSlide:fe,caroselCount:Ne,setCaroselCount:Ce,carousal:ye,setPrevArrowCSS:S,couponCode:le,discountTotal:ne,dispositionType:be,showServesValue:B,showCaloricValue:H};return Te?Object(h.a)(Le):Object(g.jsx)("div",{className:"cart-indulgent-global",children:T&&!x&&ve&&Object(g.jsx)(l.a,{...Ae,children:Object(g.jsxs)("div",{className:"indulgent-container-global",children:[Object(g.jsx)("div",{className:"indulgent-card-list-global",children:null===D||void 0===D?void 0:D.map(((e,t)=>{var o,i;const a=(null===e||void 0===e?void 0:e.isRestrictedAddon)||(null===e||void 0===e?void 0:e.isHidden);return Object(g.jsxs)("div",{style:Object(u.mb)(re,_e.cardWidth,_e.cardHeight),className:"indulgent-card-global",children:[Object(u.jc)(null===e||void 0===e?void 0:e.content,ee,L,null===e||void 0===e?void 0:e.imageName),Object(g.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(g.jsx)("div",{className:"indulgent-card-header-global",children:null===e||void 0===e||null===(o=e.dname[0])||void 0===o?void 0:o.value}),Object(g.jsxs)("div",{className:"indulgent-card-price-global",children:[Object(g.jsxs)("div",{children:[null===ee||void 0===ee?void 0:ee.currencySymbol,Object(u.Ec)((l=null===e||void 0===e?void 0:e.availability,l.length>1?Object(v.k)(l,ce):l[0]),null===ee||void 0===ee?void 0:ee.currencyConversionFactor,ce).toFixed(he)]}),H&&Object(u.we)(null===e||void 0===e?void 0:e.content,ee)]}),Object(g.jsx)(n.c,{className:"btn-padding",inactive:a&&V,variant:n.b.primary,"aria-label":Object(s.translateWithI18Next)(q)+" "+(null===e||void 0===e||null===(i=e.dname[0])||void 0===i?void 0:i.value),"data-testid":"add-to-cart-global-".concat(t),onClickHandler:o=>{Object(c.u)({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:Q,cartReducer:Z,tenantReducer:ee,catalogs:pe,flatResponse:se,category_id:null===e||void 0===e?void 0:e.categoryId,userType:Re,productId:w,ruleName:Y,recommendationType:z,IndulgentData:D,callBackMethod:R,errorBackMethod:k,dispositionType:be,...ae?{isRestrictedAddon:a}:{}}),o.preventDefault(),o.stopPropagation()},children:Object(s.translateWithI18Next)(P)})]})]},null===e||void 0===e?void 0:e.id);var l}))}),Object(g.jsx)("div",{className:"ContinueButton",children:Object(g.jsx)(n.a,{className:"button ".concat(U," indulgent-card-button"),"data-testid":"continue-to-cart",disabled:(null===Z||void 0===Z?void 0:Z.isAddItemLoading)||(null===Z||void 0===Z?void 0:Z.isCouponLoading),onClickHandler:E,children:Object(s.translateWithI18Next)(A)})})]})})})}},1138:function(e,t,o){"use strict";o.d(t,"b",(function(){return E})),o.d(t,"c",(function(){return x}));var i=o(3),a=o(6),l=(o(46),o(264)),n=o(5),d=o(396),r=o(28),s=o(1095),c=o(4),u=o(211),v=o(0),O=o(15),m=o(85),b=o(132),j=o(80),p=o(145),h=o(35),g=o(16),S=o(262),I=o(1141),f=o(1187),N=o(1151),C=(o(1150),o(2));const{CARD_TYPE:T}=u.MENU_PLP_CONSTANT,E=(e,t,o,i,a,l,n)=>{const d=n?" product-card-deactive":"";let r="";return r=e?((e,t,o,i,a)=>e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||i||a)?"small-menu-product-card product-card-active":!e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,i,a,l):t?"medium-menu-product-card product-card-active":"medium-menu-product-card",r+d},x=e=>e?"small-menu-product-image":"medium-menu-product-image",D=(e,t,o)=>{const{Error:i}=O.a;let l="";return o&&(l=Object(C.jsx)("span",{className:"unavailable-text",children:Object(a.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.PRODUCT_UNAVAILABLE)})),e&&t&&(l=Object(C.jsx)("span",{className:"special-event-item-available-time",children:"".concat(e," ").concat(Object(a.translateWithI18Next)("availableAt"))})),Object(C.jsxs)("div",{className:"unavailable-container",children:[Object(C.jsx)("img",{src:i,className:"unavailable-icon",alt:"product-unavaliable"}),l]})};t.a=function(e){var t,o,x,y;const{allowClickOnProductCard:A,discount:_,specials:R,exclusive:L,timer:P,cardId:w,customizable:M,tenantData:k,imageName:F,onCardClickHandler:U,categoryId:H,dName:B,availability:W=[],newitem:G,topseller:V,getSpecificRibbonBanner:Y,userParams:z,item:K,productContent:q,checkForBasePriceInMenu:J,baseprice:Q,cardCat:X,displayPrice:Z,getPriceClassName:$,serves:ee,prodURL:te="",showCateringflag:oe=!1,storeTimeZone:ie,plpbackgroundImageSrc:ae,isAvailable:le,nextAvailableTime:ne,pricewithNumberofDecimalDigit:de,itemCount:re,veg:se,customlabelfield:ce,longDescription:ue,configureOptions:ve,itemFoodlineId:Oe,openCostomizedModal:me,setOpenCostomizedModal:be,cartData:je,pricewithouttax:pe,cardType:he,viewUp:ge,menuCardBtnText:Se,storeClosedData:Ie,clickHandler:fe,shortDescription:Ne,menuProductDescriptionClassName:Ce,menuProductPriceClassName:Te,getMenuProductHeader:Ee,dispositionNew:xe,isNavigating:De}=e,ye=null===k||void 0===k||null===(t=k.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(x=o.pdp)||void 0===x?void 0:x.plpUrlRedirectionWithUpsellItem,[Ae,_e]=Object(i.useState)(Object(n.de)(window.innerWidth)),[Re,Le]=Object(i.useState)(0),{localized:Pe}=Object(n.sd)(z),{Product_Card_Icon:we,ribbonRedOutlined:Me,Error:ke}=O.a,Fe=(null===K||void 0===K?void 0:K.isExcluded)||(null===K||void 0===K?void 0:K.isNotAvailable)||ne||!1===le,{userOrderStateDispatch:Ue,userOrderState:He}=Object(i.useContext)(m.a),{timeBasedCetegory:Be}=He,We=Object(r.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{RECOMMENDED_ITEM:Ge}=v.Oc,Ve=Object(b.a)(),Ye=Object(r.b)(),{RESET_MODGROUP_IDS_UPDATE:ze}=S.a,{MINI_PDP_DATA:Ke,FROMFLAGEDIT:qe,EDIT_CLICKED:Je}=g.a,[Qe,Xe]=Object(i.useState)(!1),{allowAddToCartButton:Ze=!0,showVegOrNonVeg:$e,showDescription:et,showKJInfo:tt,showDefaultImage:ot,showPriceForNonLocalized:it,showGenericMenuForNonLocalizedUsers:at}=ve,{web:{global:{showPriceWithTax:lt=!1}={}}={}}=null!==(y=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==y?y:{},nt=Object(n.ad)(null===z||void 0===z?void 0:z.loggedIn,v.cg,""),dt=Object(r.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),rt=Object(r.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),st=te.slice(-5),ct=ye&&"-prod"!==st?te+"-prod":te,{ref:ut,inView:vt}=Object(f.a)({triggerOnce:!0}),[Ot,mt]=Object(i.useState)(!1);Object(i.useEffect)((()=>{Object(n.yc)().has(w)?mt(!0):!De&&vt||Ot?(mt(!0),Object(n.Ae)(w)):mt(!1)}),[vt,Ot,w,De]),Object(i.useEffect)((()=>{window.addEventListener(v.ye,bt)}),[Ae]),Object(i.useEffect)((()=>{bt()}),[]);const bt=()=>{let e=Object(n.de)(window.innerWidth);const t=((e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:o,ITEM_IMAGE_WIDTH_MOBILE:i,ITEM_IMAGE_HEIGHT_DESKTOP:a,ITEM_IMAGE_WIDTH_DESKTOP:l}=e;return t?{height:o,width:i}:{height:a,width:l}})(Ge,e);Le(t),_e(e)},jt=()=>{const e=Object(s.k)(W,ie);return lt?Object(n.Ec)(e,null===k||void 0===k?void 0:k.currencyConversionFactor,ie).toFixed(de):Object(n.Jc)(pe,null===k||void 0===k?void 0:k.currencyConversionFactor)},pt=()=>Object(C.jsxs)("div",{className:Te(he),children:[J(Q,X)&&Z(Q,null===k||void 0===k?void 0:k.currencyConversionFactor),Object(C.jsxs)("span",{className:$(Q,X),"data-testid":"item-price",children:[null===k||void 0===k?void 0:k.currencySymbol,jt()]}),Ae&&Object(I.h)(e,Ae),Ae&&Object(C.jsx)("span",{className:"hearticonDiv",children:Object(I.b)(z,e,nt)})]}),ht=e=>tt&&Boolean(null===q||void 0===q?void 0:q.caloricValue)&&Object(C.jsxs)("div",{className:Object(n.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[Pe&&Object(C.jsx)("div",{className:"Dot"}),Object(C.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(q.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!!q.serves&&"".concat(Object(a.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SERVES)," ").concat(q.serves," ")]})]}),gt=e=>Object(C.jsxs)("div",{className:Object(n.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[(null===q||void 0===q?void 0:q.caloricValue)&&Object(C.jsxs)("span",{children:[" ","".concat(null===q||void 0===q?void 0:q.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!(null===q||void 0===q||!q.serves)&&"".concat(Object(a.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SERVES)," ").concat(null===q||void 0===q?void 0:q.serves," ")]}),ee?Object(C.jsxs)("span",{children:[" ",Object(C.jsx)("div",{className:"Dot","data-testid":"serves-template"}),St()]}):Object(C.jsx)(C.Fragment,{})]}),St=()=>Object(n.ad)(ee,Object(C.jsx)("span",{className:"product-serves",children:" ".concat(Object(a.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SERVES_TEXT)," ").concat(ee)}),Object(C.jsx)(C.Fragment,{})),It=e=>!e&&Ot&&Object(n.mb)(ae,Re.width,Re.height)||{},ft=e=>{var t;return tt?Object(n.ad)(oe,((e,t,o,i,a,l,d)=>Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:l,children:Object(C.jsxs)(C.Fragment,{children:[!(null!==t&&void 0!==t&&t.includes(v.pd))&&i(a),e&&o()]})}),!e&&Object(n.ad)(null===t||void 0===t?void 0:t.includes(v.pd),Object(C.jsx)(C.Fragment,{}),d())]}))(Pe,null===K||void 0===K||null===(t=K.categoryUrl)||void 0===t?void 0:t[0],pt,gt,Ae,"Price-and-KJ-info-catering",St),((e,t,o,i,a)=>Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:a,children:[e&&t(),e&&o(i)]})}))(Pe||at&&it,pt,ht,Ae,e)):pt()},Nt=e=>{var t,o,i,a,l,r;Ve(Object(j.d)({key:u.SHOW_PDP_ALERT_POPUP,value:!1}));const{event:s,itemId:c,productInfo:O,cardId:m}=e;null===s||void 0===s||s.stopPropagation(),null===s||void 0===s||s.preventDefault();const b=Object(d.g)(m,We),p=null===We||void 0===We||null===(t=We.itemMapById)||void 0===t||null===(o=t[m])||void 0===o?void 0:o.categoryId,h=Object(d.d)(c,Be);if(!Object(d.c)({categoryUrl:b,itemInCart:h,alertType:Object(d.j)(null===Be||void 0===Be?void 0:Be.timebasedItemInCart,null===v.Sb||void 0===v.Sb?void 0:v.Sb.ITEM),categoryId:p,itemId:m},{...Be,menuData:dt,foodLinesItems:(null===rt||void 0===rt||null===(i=rt.cartData)||void 0===i?void 0:i.foodLines)||[]},Ue)&&(!Object(n.Vd)(null===xe||void 0===xe?void 0:xe.type)||null===s||void 0===s||null===(a=s.target)||void 0===a||null===(l=a.parentElement)||void 0===l||null===(r=l.className)||void 0===r||!r.includes("cart-food-quantity-change")))if(null!==e&&void 0!==e&&e.orderClickHandler){const t={event:s,cardId:w,customizable:M,categoryId:p,itemCount:re,productInfo:O,itemFoodlineId:Oe,checkItemExpiry:Nt,menuCardBtnText:Se,storeClosedData:Ie,clickHandler:fe,dispositionNew:xe};null===e||void 0===e||e.orderClickHandler(t)}else if(ye){let e="";const t=te.slice(-5);e=ye&&"-prod"!==t?te+"-prod":te,O.prodURL=e,U(s,w,M,H,O)}else U(s,w,M,H,O)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"plp-item-card ".concat(he===(null===T||void 0===T?void 0:T.CAROUSAL)?"carousal-menu-product-card":E(Ae,A,_,R,L,P,Fe)),"data-testid":"click-allow-on-product-".concat(w),id:w,onClick:e=>Object(n.hb)(A,!Fe)&&Nt({event:e,cardId:w,productInfo:{productName:B,productImage:F,productPrice:Object(n.Ec)(W[0],null===k||void 0===k?void 0:k.currencyConversionFactor),prodURL:te,categoryURL:null===K||void 0===K?void 0:K.categoryUrl}}),inactive:Fe,disabled:Fe,ref:ut,children:[!Ae&&Object(C.jsx)("div",{style:It(ot),className:"product-image-parent-container",children:Ot?Object(I.c)(e,Re,Fe,k,ot,Ae):Object(C.jsx)(N.b,{height:201.4,className:"skeleton-absolute"})}),Object(C.jsx)(l.a,{className:Object(n.ad)(R,"specials-product-ribbon",Object(n.ad)(L||ce,"exclusive-product-ribbon","discount-product-ribbon")),src:Object(n.ad)(R,we,Object(n.ad)(_||L||ce||G||V,Me,""))}),Object(C.jsx)("span",{className:Object(n.ad)(R,"specials-ribbon-text","discount-ribbon-text"),children:P?Object(C.jsxs)("div",{children:[Object(C.jsx)("svg",{src:ke,className:"product-timer"}),Object(C.jsx)("span",{className:"product-timer-text",children:Object(a.translateWithI18Next)(u.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):Y(R,_,L,G,V,ce)}),Object(C.jsx)("div",{"data-testid":"menu-card-content-pdp-nav",className:"menu-card-content",inactive:Fe,disabled:Fe,onClick:e=>A&&U(e,w,M,H,{productName:B,productImage:F,productPrice:Object(n.Fc)(W[0],pe,null===k||void 0===k?void 0:k.currencyConversionFactor,lt),prodURL:ct,categoryURL:null===K||void 0===K?void 0:K.categoryUrl}),children:Ae?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:ge&&"product-columnview",children:[Object(C.jsx)("div",{className:"description-and-image product-image-parent-container",style:It(ot),children:Ot?Object(I.c)(e,Re,Fe,k,ot,Ae):Object(C.jsx)(N.b,{height:324,className:"skeleton-absolute"})}),Object(C.jsxs)("div",{className:"menu-card-content-wrapper",children:[Object(C.jsx)("div",{className:Ee(he,_,R,L,{timer:P,newitem:G,topseller:V,customlabelfield:ce}),children:null===B||void 0===B?void 0:B[0].value}),Object(I.f)(et,e,Ne),Fe?D(ne,le,Fe):ft("Price-and-KJ-info")]})]})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{"data-testid":"plp-menu-card-header",className:Ee(he,_,R,L,{timer:P,newitem:G,topseller:V,customlabelfield:ce}),children:null===B||void 0===B?void 0:B[0].value}),Object(I.g)($e,se),Object(I.h)(e,Ae),Object(C.jsx)("div",{className:"hearticonDiv",children:Object(I.b)(z,e,nt)}),Fe?D(ne,le,Fe):ft("Price-and-KJ-info"),Object(I.f)(et,e,Ne)]})}),Object(I.a)(e,Ze,k,(()=>{1===re?(Ue({type:Ke,value:{id:null===K||void 0===K?void 0:K.mdmId,flag:qe,foodLineId:Oe}}),Ue({type:ze}),Ue({type:Je,value:{cartEditClicked:!1}}),Ye(Object(p.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===je||void 0===je?void 0:je.catalog,itemId:null===K||void 0===K?void 0:K.mdmId})),Ye(Object(h.v)({showProductListingModal:!0,categorySelected:H}))):(Xe(!0),be(!0))}),nt,Nt,xe)]}),Object(C.jsx)("div",{children:me&&Object(I.d)(e,Qe,k,Xe,Nt)})]})}},1139:function(e,t,o){"use strict";o.d(t,"b",(function(){return v}));var i=o(3),a=o(35),l=o(5),n=o(85),d=o(28),r=o(0),s=o(80),c=o(262),u=o(2);const v=(e,t,o)=>{if(e){const{code:i,promoParameters:a,itemDetails:l}=e,n=null===l||void 0===l?void 0:l.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));o(Object(s.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:i,promoParams:a,priceDetails:n}})),t({type:c.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})}},O=(e,t,o,i,n,d)=>{e(Object(a.i)({couponcode:t,catalog:o,tenantId:i},(t=>((e,t,o,i)=>{v(e,t,o),((e,t)=>{var o,i;const a=null===e||void 0===e||null===(o=e.itemDetails)||void 0===o?void 0:o[0].categoryUrl,l="".concat(null===e||void 0===e||null===(i=e.itemDetails)||void 0===i?void 0:i[0].url);t.push({pathname:"menu/".concat(a,"/").concat(l)})})(e,i)})(t,n,e,d)),(()=>Object(l.Bd)(d))))};t.a=e=>{const{genericMenuName:t,tenantId:o}=Object(d.c)((e=>e.tenantReducer)),{history:a}=e,l=Object(d.b)(),{userOrderStateDispatch:s}=Object(i.useContext)(n.a);return Object(i.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get(r.Vd.COUPON);e&&t&&O(l,e,t,o,s,a)}),[]),Object(u.jsx)(u.Fragment,{})}},1140:function(e,t,o){"use strict";var i=o(3),a=o(28),l=o(20),n=o.n(l),d=o(415),r=o(421),s=o(57),c=o(1107),u=o(12),v=o(5),O=o(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(a.b)(),{dispositionNew:o}=Object(c.a)(),l=Object(a.c)((e=>e.specialEventReducer||{})),m=Object(a.c)((e=>e.cartReducer||{})),{isLoading:b}=l,{cartData:j}=m,p=e=>(null===e||void 0===e?void 0:e.toUpperCase())===O.Ff,h=Object(i.useMemo)((()=>l.specialEventItemAvailability||[]),[l.specialEventItemAvailability]),g=Object(i.useMemo)((()=>{const{type:e}=o||{},t=Object(d.a)(p,v.Mb);return!!e&&t(e)}),[o]),S=Object(i.useCallback)((function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=h.find((t=>{let{id:o}=t;return o.includes(e)}));if(!i)return!1;const a=null===j||void 0===j||null===(t=j.foodLines)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e})),l=(null===a||void 0===a?void 0:a.quantity)||0,{available:n,stock:d}=i;return n&&parseInt(d)>0&&o?l<=parseInt(d):l<parseInt(d)}),[h,null===j||void 0===j?void 0:j.foodLines]),I=Object(i.useCallback)((e=>{let{date:o,storeId:i,time:a}=e;if(!o||!i||!a)return!1;const l=s.a.formatValue(s.a.dayjs(a,O.sb.h_mm_A),O.sb.HHmm),n=Object(u.A)("".concat(o," ").concat(a),O.sb.YYYY_MM_DD_h_mm_A);t(Object(r.a)(i,n,l))}),[t]),f=Object(i.useCallback)((()=>{if(!g||b)return!1;const{date:e,selectedTime:t,store:i}=o;I({date:e,storeId:i.id,time:t})}),[o,I,g,b]);Object(i.useEffect)((()=>{e&&n()(h)&&f()}),[f,e,h]);return{isAllCartProductsAvailable:()=>{var e;const t=null===m||void 0===m||null===(e=m.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return S(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:h,fetchEventItemAvailability:f,fetchEventItemAvailabilityForDisposition:e=>{if(!g)return!1;I(e)},getEventItemAvailability:S,isEvent:g}}},1141:function(e,t,o){"use strict";o.d(t,"h",(function(){return p})),o.d(t,"b",(function(){return h})),o.d(t,"g",(function(){return g})),o.d(t,"f",(function(){return S})),o.d(t,"e",(function(){return I})),o.d(t,"a",(function(){return C})),o.d(t,"d",(function(){return T})),o.d(t,"c",(function(){return E}));var i=o(5),a=o(6),l=o(15),n=o(211),d=o(395),r=o(1099),s=o(235),c=o(61),u=o(1134),v=o(46),O=o(1138),m=o(402),b=o(397),j=o(2);const p=(e,t)=>{const{configureOptions:o,servingCount:d,getVegNonvegClassName:r,cardType:s,veg:c}=e,{showVegOrNonVeg:u}=o;return u&&Object(j.jsxs)("span",{className:r(s),children:[Object(i.hb)(t,Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(i.ad)(!c,null===l.a||void 0===l.a?void 0:l.a.Non_veg_dot_Icon,null===l.a||void 0===l.a?void 0:l.a.Veg_dot_Icon)})),Object(i.hb)(!t,Object(i.ad)(!c,Object(a.translateWithI18Next)(null===n.MENU_PLP_CONSTANT||void 0===n.MENU_PLP_CONSTANT?void 0:n.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(a.translateWithI18Next)(null===n.MENU_PLP_CONSTANT||void 0===n.MENU_PLP_CONSTANT?void 0:n.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(i.hb)(d,Object(j.jsx)("span",{className:"Dot"})),n.MENU_PLP_CONSTANT.MENU_CARD.SERVES,d]})},h=(e,t,o)=>{const{classFavouriteIconActive:a,classFavouriteIconInActive:n,favouriteItems:d,favouriteButtonClickHandler:r,cardId:s,getCardName:c,item:u,cardType:v,configureOptions:O}=t;if(null!==e&&void 0!==e&&e.loggedIn&&null!==O&&void 0!==O&&O.showAddToFav)return Object(j.jsxs)("picture",{children:[Object(j.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(i.ad)("small-menu-product-card"===c,Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),a(v),n(v)),Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===l.a||void 0===l.a?void 0:l.a.heartIcon_active_red,null===l.a||void 0===l.a?void 0:l.a.heartIcon_inactive_red)),alt:"",className:"menu-product-save ".concat(o),"data-testid":"fav-item-source",onClick:()=>r()}),Object(j.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===l.a||void 0===l.a?void 0:l.a.heartIcon_active,null===l.a||void 0===l.a?void 0:l.a.FavoriteInActiveWhite),alt:"",className:"menu-product-save ".concat(o),"data-testid":"fav-item-largeScreen",onClick:()=>r()}),Object(j.jsx)("img",{src:Object(i.hb)(Array.isArray(d),null===d||void 0===d?void 0:d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))))?a(v):n(v),alt:"",className:"menu-product-save ".concat(o),"data-testid":"save-product-".concat(s),onClick:()=>r()})]})},g=(e,t)=>e&&Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(i.ad)(!t,null===l.a||void 0===l.a?void 0:l.a.Non_veg_dot_Icon,null===l.a||void 0===l.a?void 0:l.a.Veg_dot_Icon)}),S=(e,t,o)=>{var i;const{productContent:a,cardType:l,menuProductDescriptionClassName:n}=t,d=null===a||void 0===a?void 0:a.shortDescription;return e&&Object(j.jsx)("div",{className:n(l),id:"longDescription",children:d||(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value)})},I=(e,t,o,i)=>{var a,l,n;const d=null===i||void 0===i?void 0:i.maxItemCountPerLineItem,u=null===i||void 0===i||null===(a=i.componentOptions)||void 0===a||null===(l=a.web)||void 0===l||null===(n=l.plp)||void 0===n?void 0:n.removeSingleItemInCartFromPLP;return Object(j.jsx)(r.a,{itemCount:e,itemQuantity:null===s.a||void 0===s.a?void 0:s.a.ITEM_QUANTITY,updateItemQuantity:t,quantityAction:null===c.a||void 0===c.a?void 0:c.a.QUANTITY_ACTION,item:void 0,itemName:o,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0,removeSingleItem:u})},f=(e,t)=>Object(i.Vd)(null===e||void 0===e?void 0:e.type)?{isStoreClosed:!1}:t,N=e=>{var t;const{event:o,cardId:i,customizable:a,categoryId:l,itemCount:n,productInfo:d,itemFoodlineId:r,checkItemExpiry:s,menuCardBtnText:c,storeClosedData:u,clickHandler:v,dispositionNew:O}=e;null!==(t=c(f(O,u)))&&void 0!==t&&t.enabled&&n<=0&&v(o,i,a,l,n,d,r,s),o.preventDefault(),o.stopPropagation()},C=(e,t,o,l,r,s,c)=>{var u,v;const{itemCount:O,updateItemQuantity:b,classesCardButton:p,classEnableAddToCart:h,enableAddToCartButton:g,cardType:S,checkLoading:C,storeClosedData:T,cardId:E,menuCardBtnText:x,customizable:D,dname:y,imageName:A,availability:_,prodURL:R,item:L}=e,P={productName:y,productImage:A,productPrice:Object(i.Ec)(null===_||void 0===_?void 0:_[0],null===o||void 0===o?void 0:o.currencyConversionFactor),prodURL:R,categoryURL:null===L||void 0===L?void 0:L.categoryUrl},w=f(c,T);return(t||(e=>Object(i.Vd)(null===e||void 0===e?void 0:e.type))(c))&&Object(j.jsxs)("div",{className:"quantityAddtocart ".concat(O?"cardwithQuantity "+r:"cardwithNoquantity"),children:[!!O&&I(O,b,null===y||void 0===y?void 0:y[0].value,o),w&&Object(j.jsx)("div",{className:p(O,r),children:O<1?Object(j.jsxs)(d.a,{tabIndex:"0",className:h(g,S,C,w),"data-testid":"add-to-cart-".concat(E),disabled:Object(m.w)(w),onClickHandler:t=>{s({event:t,cardId:E,productInfo:P,orderClickHandler:N,props:e})},"aria-label":(null===(u=x(w))||void 0===u?void 0:u.btnText)+(null===y||void 0===y?void 0:y[0].value),children:[null===(v=x(w))||void 0===v?void 0:v.btnText,Object(i.J)(w.isStoreClosed)]}):D&&Object(j.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>s({cardId:E,productInfo:P,orderClickHandler:l,props:e}),children:Object(a.translateWithI18Next)(n.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})},T=(e,t,o,l,d)=>{var r;const{setOpenCostomizedModal:s,filteredPreviousData:c,updateItemQuantity:v,dname:O,clickHandler:m,cardId:b,categoryId:p,itemCount:h,availability:g,pricewithouttax:S,customizable:I,openCostomizedModal:f,cartData:N,setShowTopScrollBtn:C,imageName:T,itemFoodlineId:E,item:x,prodURL:D}=e,y={productName:O,productImage:T,productPrice:Object(i.Ec)(null===g||void 0===g?void 0:g[0],null===o||void 0===o?void 0:o.currencyConversionFactor),prodURL:D,categoryURL:null===x||void 0===x?void 0:x.categoryUrl};return Object(j.jsx)(u.a,{handleClose:()=>{s(!1),l(!1)},filteredPreviousData:c,updateItemQuantity:v,tenantData:o,dname:O,clickHandler:m,cardId:b,categoryId:p,itemCount:h,availability:g,pricewithouttax:S,imageName:T,itemFoodlineId:E,customizable:I,setOpenCostomizedModal:s,openCostomizedModal:f,cartData:N,setShowTopScrollBtn:C,foodId:null===(r=e.item)||void 0===r?void 0:r.mdmId,isEditSelection:t,headerText:Object(i.ad)(t,Object(a.translateWithI18Next)(n.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(a.translateWithI18Next)(n.MENU_PLP_CONSTANT.SELECT_QUANTITY)),checkItemExpiry:d,productInfo:y})},E=(e,t,o,a,l,n)=>{var d;const{productContent:r,imageName:s}=e,c=null!==r&&void 0!==r&&null!==(d=r.image)&&void 0!==d&&d.mainImage&&null!==t&&void 0!==t&&t.width&&null!==t&&void 0!==t&&t.height?Object(i.qc)(r,t.width,t.height):Object(i.bc)(s,a);return Object(j.jsx)(v.a,{"data-testid":"product-image",className:"".concat(l&&Object(b.t)(l)," ").concat(Object(O.c)(n)),srcFile:c,alt:"",inactive:o,disabled:o,defaultPath:l&&Object(i.bc)(null,a,!0)})}},1142:function(e,t,o){"use strict";var i=o(3),a=o(28),l=o(62),n=o(1146),d=o(1096),r=o(145),s=o(16),c=o(410),u=o(85),v=o(1179),O=o(35),m=o(5),b=o(400),j=o(0),p=o(61),h=o(398),g=o(20),S=o.n(g),I=o(397),f=o(2);const N={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},C=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),T=(e,t,o)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:o}};t.a=Object(l.j)((e=>{var t,o;const{productList:l=[],cardType:j="",tenantData:g={},categoryId:E,categoryName:x,categoryUrl:D,catalogs:y,storeClosedData:A,setShowTopScrollBtn:_}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:L,PLP_PDP_DETAILS:P,MINI_PDP_DATA:w,FROMFLAGPLP:M}=s.a,{PlpProductCard:k={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=b.a,[U,H]=Object(i.useState)(1),B=Object(a.b)(),W=Object(a.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:V={}}={}}=null!==(o=Object(a.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==o?o:{},{cartData:Y={}}=Object(m.sd)(W),z=Object(a.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[K,q]=Object(i.useState)(e.selectedCat),[J,Q]=Object(i.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(i.useContext)(u.a),[$,ee]=Object(i.useState)(null),{showCartAlert:te}=Object(c.a)(void 0,void 0,void 0,void 0,Z,B,void 0);Object(i.useEffect)((()=>{Q(!1)}));const{addToCartAnalyticsOnly:oe}=Object(c.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,B,void 0),ie=(e,t,o,i)=>{var a;if(z.localized&&S()(null===W||void 0===W||null===(a=W.cartData)||void 0===a?void 0:a.id)){const{id:e,itemCount:t}=i,o=[{Id:e,categoryId:E,quantity:t+1,modGrps:[]}],a=!0;Object(m.I)(B,O.f,null===g||void 0===g?void 0:g.tenantId,X,null===W||void 0===W?void 0:W.qrCodeScanTime,a,o)}else((e,t,o,i)=>{var a;const{id:l,itemCount:n,product:d,itemFoodlineId:s}=i,{catId:c}=o,{id:u="",name:v="",url:m=""}=null!==(a=null===V||void 0===V?void 0:V[c])&&void 0!==a?a:{};if(e&&e.stopPropagation(),ee(l),z.localized){if(t)q(c),Z({type:w,value:{id:l,flag:M,foodLineId:""}}),Z({type:F}),B(Object(r.c)({tenantId:g.tenantId,catalogName:y,itemId:l}));else if(0===n){var b;B(Object(O.a)({params:{basketId:null===W||void 0===W||null===(b=W.cartData)||void 0===b?void 0:b.id},tenantId:g.tenantId},[{Id:l,categoryId:u,quantity:n+1,modGrps:[],categoryName:v,categoryUrl:m}])),B(Object(O.u)(new Date)),oe(T(l,d,s),R.Increase,g.currencyConversionFactor)}else if(n>0){var j;B(Object(O.x)({params:{basketId:null===W||void 0===W||null===(j=W.cartData)||void 0===j?void 0:j.id,basketLineItemId:s},tenantId:g.tenantId},{quantity:n+1,isBundle:Object(I.e)(l)})),B(Object(O.u)(new Date)),oe(T(l,d,s),R.Increase)}}else Q(!0),Z({type:L,value:{addToCart:!0,productItemId:l,categoryId:E,oldProduct:d,customizable:t,catalogs:y,fromPdpPage:!1}})})(e,t,o,i)},ae=Object(a.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{ae&&K&&X.minipdpData.itemId===ae.id&&B(Object(O.v)({showProductListingModal:!0,categorySelected:K}))}),[ae]);const le=()=>{te(!0)},ne={...N,beforeChange:(e,t)=>{H(Math.round(t+1))},variableWidth:!1},de=(t,o,i,a)=>{const{catId:l,catName:n,catUrl:d}=a,{productId:r,productInfo:s}=o;t.preventDefault(),t.stopPropagation();const c={productId:r,customizable:i,catId:l,catalogName:y,productInfo:s,isFromPlp:!0,categoryName:n,categoryUrl:d};Z({type:P,value:c}),localStorage.setItem(h.p,JSON.stringify(c)),e.history.push({pathname:"/pdp/".concat(E,"/").concat(r)})},re=(e,t,o)=>{B(Object(r.a)({tenantId:e,customerId:o},t))},se=(e,t,o)=>{B(Object(r.b)({tenantId:e,customerId:t,itemId:o}))},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,o=Object(m.ve)(t.additionalProperties);return Object(f.jsx)(n.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:k,tenantData:g,servingCount:o.servings,button:e.button,categoryId:E,categoryName:x,categoryUrl:D,clickHandler:ie,customizable:t.customizable,onCardClickHandler:de,userParams:z,openAlertModal:le,storeClosedData:A,addFavourite:re,removeFavourite:se,setShowTopScrollBtn:_,"data-testid":"menu-card-component",...o,...t},t.id)};return Object(f.jsxs)("div",{className:"product-container",children:[J&&Object(f.jsx)(v.a,{}),"carousal"===j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"individual-card-counter",children:[U,"/",l.length]}),Object(f.jsx)(d.b,{settings:ne,children:C(l,ce)})]}):C(l,ce)]})}))},1143:function(e,t,o){"use strict";o.d(t,"b",(function(){return Q}));var i=o(3),a=o.n(i),l=o(420),n=o.n(l),d=o(395),r=o(404),s=o(263),c=o(85),u=o(16),v=o(120),O=o(28),m=o(73),b=o(12),j=o(5),p=o(62),h=o(113),g=o(158),S=o(46),I=o(6),f=o(4),N=o(35),C=o(24),T=o(107),E=o(0),x=o(394),D=o(411),y=(o(1155),o(15)),A=o(55),_=o(600),R=o(2);const{ORDER_TYPE:L,YOUR_KFC_RESTAURANT:P,YOUR_LOCATION:w,EDIT:M,SCHEDULE_FOR_YOUR_ORDER_TEXT:k,DATE:F,TIME:U,CONFIRM_BTN_TEXT:H,DELIVERY_UNAVAILABLE_ERROR:B,SWITCH_TO_TAKEAWAY_TEXT:W,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:V,ERROR_MESSAGE_CLOSED:Y,SCHEDULE_ORDER:z,CHANGE_ORDER_TITLE:K,ASAP_SERVES_Warning_Message:q}=f.a,J=(e,t,o)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(o)),Q=e=>"ASAP"!==e&&"-"!==e?e:Object(b.S)(Object(b.o)(),g.a.HHMM,g.a.LT),X=(e,t)=>{let o={};return"-"!==e&&"ASAP"!==e?o={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(o={isForNow:!0,futureDateTime:0}),o},Z=(e,t,o)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Kb)(i.type):t?E.Mb.PICKUP:Object(j.Kb)(o)};function $(e,t,o){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||o(null===(i=e[0])||void 0===i?void 0:i.timestr):o("-")}t.a=Object(p.j)((e=>{var t,o,l,p,f,te,oe,ie,ae,le,ne,de,re,se,ce,ue,ve;const{SingleArrow:Oe,Calendar:me,Error:be}=y.a,je=Object(i.useRef)(null),pe=Object(i.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Se,SCHEDULE_ORDER_DATA:Ie,DISPOSITION_DATA:fe,SCHEDULE_ORDER_TIME_DATA:Ne,CLOSED:Ce,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Te,MENU_URL:Ee,PDP_URL:xe,SELECTED_TILE_DATA:De,DISPOSITION_METHOD:ye,SET_DISPOSITION:Ae,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:Le,clearCartChangeFlag:Pe,orderTypeAlertTitle:we,searchStoreAlertTitle:Me,CURRENT_STORE_INFO:ke,SET_FORCERELOAD:Fe}=u.a,Ue=Object(O.c)((e=>e.profileReducer)),{userOrderState:He,userOrderStateDispatch:Be}=Object(i.useContext)(c.a),{dispositionStateData:We={},scheduleOrderData:Ge={}}=He,{changeFlow:Ve=!1,isAddressFlow:Ye=!1}=Ge,ze=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:Ke=""}=We,qe=Ke||localStorage.getItem("dispositionType"),{value:Je=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Qe=""}=Ge&&(null===(o=Ge.selectedDateTimeInfo)||void 0===o||null===(l=o.date)||void 0===l?void 0:l.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Ge&&(null===(p=Ge.selectContentData)||void 0===p||null===(f=p.savedTime)||void 0===f?void 0:f.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(oe=Ge.storeInfo)||void 0===oe||null===(ie=oe.summary)||void 0===ie?void 0:ie.timings)||{},tt=Object(j.Sd)(He.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):He.dispositionNew,{unavailibilities:ot,unavailibilityType:it}=$e,{interval:at=0,startEndTime:lt={}}=$e&&(null===$e||void 0===$e||null===(ae=$e.periods)||void 0===ae?void 0:ae.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:nt,to:dt}=lt;let rt=Object(O.c)((e=>e.appStateReducer.userStatus));const st=Object(O.b)(),ct=Object(O.c)((e=>e.tenantReducer)),ut=Object(O.c)((e=>e.storesReducer)),vt=Object(O.c)((e=>e.cartReducer)),{cartData:Ot}=vt,{storesAvilableTimeSlots:mt,storesTimeSlots:bt}=ut,[jt,pt]=Object(i.useState)(!1),[ht,gt]=Object(i.useState)({error:!1,errormessage:""}),[St,It]=Object(i.useState)({from:nt,to:dt,interval:at}),[ft,Nt]=Object(i.useState)({error:!1,openStoreTime:""}),Ct=(null===(le=Ge.storeInfo)||void 0===le||null===(ne=le.summary)||void 0===ne||null===(de=ne.status)||void 0===de?void 0:de.currentStatus)===Ce,Tt=()=>{var e;return Ve?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ye&&(null===qe||void 0===qe?void 0:qe.toUpperCase())===g.a.TYPE_DELIVERY},[Et,xt]=Object(i.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[Dt,yt]=Object(i.useState)(et&&et.isAvailable?"ASAP":Object(b.S)(null===lt||void 0===lt?void 0:lt.from,"hh:mm","LT")),[At,_t]=Object(i.useState)([]),[Rt,Lt]=Object(i.useState)(!1),[Pt,wt]=Object(i.useState)(!1),[Mt,kt]=Object(i.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{kt(Object(j.de)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Ft)}),[Mt]),Object(i.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:C.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};st(Object(m.c)({data:t,tenantId:ct.tenantId}))}let t=Object(v.j)(nt,dt,at,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);return _t(t),()=>{st(Object(m.a)())}}),[]);const Ut=e=>{var t,o;if("INDIA"===(null===ct||void 0===ct?void 0:ct.country))return;const i=Object(b.h)(e,"YYYY-MM-DD");if($e.date===i){let t=Object(v.j)(nt,dt,at,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);return _t(t),yt(t[0].timestr),It({from:nt,to:dt,interval:at}),xt(e),gt({...ht,error:!1,errormessage:""}),Lt(!1),void wt(!1)}const a={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:C.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:i};if(st(Object(m.c)({data:a,tenantId:ct.tenantId})),xt(e),(null===mt||void 0===mt||null===(o=mt.periods)||void 0===o?void 0:o.length)>0){const{startEndTime:e,interval:t}=mt.periods[0],{from:o,to:i}=e;let a=Object(v.j)(o,i,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);It({from:o,to:i,interval:t}),_t(a)}gt({...ht,error:!1,errormessage:""})},Ht=e=>{const t=new Date,o=new Date(e.split("T")[0]);return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()},Bt=e=>{var t;yt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let o=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ht(Qe)?"Today":"Tomorrow"});xt(o),Lt(!1),wt(!1),gt({...ht,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Xe;Qe&&Ut(new Date(Qe)),((e,t,o,i,a,l)=>{if(e&&t){const e=Object(b.S)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)?l(a):l(t)}})(Ve,e,nt,Qe,Xe,Bt),((e,t,o,i,a)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var l;const e={storeid:null===t||void 0===t||null===(l=t.storeInfo)||void 0===l?void 0:l.id,channel:C.b.channel,service:Object(j.Mb)(o()).toString().toLowerCase(),date:""};i(Object(m.c)({data:e,tenantId:null===a||void 0===a?void 0:a.tenantId}))}})(Ze,Ge,$t,st,ct)}),[]),Object(i.useEffect)((()=>{let e=Object(j.ad)(Ve,Object(I.translateWithI18Next)(K),Object(I.translateWithI18Next)(z));var t;if(Object(j.Td)(bt)&&jt)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ce)gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(Y)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(Y));else{let t=new Date;if(new Date(Et).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(b.o)().add(et.promiseTime,"minutes").format("LT");Object(b.c)(t,Dt,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(G))):J(he,Ee,xe)?Wt():Gt()}else J(he,Ee,xe)?Wt():Gt()}}),[bt,Ue]);const Wt=()=>{var t,o;Be({type:De,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(ct)),localStorage.setItem("selectedTile",JSON.stringify({}));const i=null===he||void 0===he?void 0:he.pathname,a=null===ze||void 0===ze||null===(t=ze.summary)||void 0===t?void 0:t.name,l=null===ct||void 0===ct||null===(o=ct.componentOptions)||void 0===o?void 0:o.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(Ee),...!Object(j.ce)(i)&&{state:{toastData:{storeName:a,service:qe,showToastAfterLocalization:l}}}})},Gt=async()=>{Be({type:Ie,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),Be({type:ye,value:{dispositionType:qe}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),Be({type:ke,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),Be({type:Se,value:{showSearchStore:!1}});let e="",t="";"ASAP"===Dt||"-"===Dt?(e="ASAP",t="ASAP"):(e=Dt,t=Dt),Be({type:Fe,value:{forceReload:!0}});let o=Q(Dt);const i=Object(b.A)(Object(b.h)(Et,"YYYY-MM-DD")+" "+o,"YYYY-MM-DD hh:mm A");let a={time:e,interval:St.interval,date:Et,epochTime:i,selectedTime:Dt},l=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==ze.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(ze,Object(j.Mb)(qe),null===Ue||void 0===Ue?void 0:Ue.customerId,a,l,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);st(Object(N.m)("")),st(Object(N.f)({data:e,tenantId:ct.tenantId}))}st(Object(h.a)({...rt,localized:!0})),Be({type:Ae,value:{oldvalue:tt,newValue:{type:$t(),store:ze,date:a.date,time:a.time,epochTime:a.epochTime,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:l}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:ze,date:a.date,time:a.time,epochTime:a.epochTime,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:l})),Object(j.vf)(),Be({type:Ne,value:{selectedDateTime:a}}),Be({type:Te,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,o={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(mt||{}).length){var i,a,l;const{startEndTime:e,interval:d}=Object(j.qd)(null===(i=mt[0])||void 0===i?void 0:i.periods[0],o),{startEndTime:r}=Object(j.qd)(null===(a=mt[1])||void 0===a?void 0:a.periods[0],o),{from:s}=e,{to:c}=r;var n;if(t=Object(v.j)(s,c,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(l=mt[0])||void 0===l?void 0:l.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it),It({from:s,to:c,interval:d}),_t(t),$(t,Xe,Bt),!mt.find((e=>e.date===Qe.split("T")[0])))xt(new Date(null===(n=mt[0])||void 0===n?void 0:n.date))}else if(Object.keys(mt||{}).length){var d,r;const{startEndTime:e,interval:i}=Object(j.qd)(null===(d=mt[0])||void 0===d?void 0:d.periods[0],o),{from:a,to:l}=e;var s;if(t=Object(v.j)(a,l,i,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===ct||void 0===ct?void 0:ct.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(r=mt[0])||void 0===r?void 0:r.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),ot,it),It({from:a,to:l,interval:i}),_t(t),$(t,Xe,Bt),!mt.find((e=>e.date===Qe.split("T")[0])))xt(new Date(null===(s=mt[0])||void 0===s?void 0:s.date))}const c=localStorage.getItem("modalSource");var u;null!==ct&&void 0!==ct&&ct.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Ct&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&Nt({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(mt)]);const Vt=e=>{var t,o;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(o=pe.current)&&void 0!==o&&o.contains(e.target)||(Lt(!1),wt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Vt),()=>{document.removeEventListener("mousedown",Vt)})),[]);const Yt=()=>{Be({type:Se,value:{showSearchStore:!0}}),Be({type:Ie,value:{showDisposition:!1}}),Be({type:ye,value:{dispositionType:"Pickup"}})},zt=null===Ge||void 0===Ge||null===(re=Ge.storeInfo)||void 0===re||null===(se=re.availableServicesPerChannel)||void 0===se||null===(ce=se.find((e=>"web"===e.channel)))||void 0===ce?void 0:ce.services,Kt=null===zt||void 0===zt?void 0:zt.includes("delivery"),qt=Object(j.hb)(Tt(),!Kt),Jt=()=>{let e=Object(I.translateWithI18Next)(V),t=!1;return Kt&&(e=Object(I.translateWithI18Next)(B),t=!0),{showTakeWayButton:t,message:e}},{message:Qt}=Jt();Object(i.useEffect)((()=>{Object(T.g)(Ve,Qt)}),[Qt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Jt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(S.a,{srcFile:be,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Yt,children:Object(I.translateWithI18Next)(W)})})]})},Zt=e=>{var t;let{orderType:o}=e,i=Object(I.translateWithI18Next)(q),a=null===i||void 0===i?void 0:i.replace("%time%",ft.openStoreTime);return a=null===(t=a)||void 0===t?void 0:t.replace("%servesName%",o),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),a]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ve&&e?e.type:Ye?"Pickup":qe},eo=Ve?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(r.a,{value:Z(Ve,Ye,qe),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(s.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:we};Object(j.Fe)(Be,e,Re,Le)}else Be({type:fe,value:{showDisposition:!0}});Be({type:Ie,value:{showScheduleOrderCatering:!1}}),Be({type:Se,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(I.translateWithI18Next)(M)})})]}),ht&&ht.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),ht.errormessage]}),Mt&&qt&&Object(R.jsx)(Xt,{}),Object(R.jsx)("h3",{className:"order-type",children:Tt()?Object(I.translateWithI18Next)(w):Object(I.translateWithI18Next)(P)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(r.a,{value:Tt()?eo:Je||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Tt()?Object(R.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(Be({type:ye,value:{dispositionType:Ve?JSON.parse(localStorage.getItem("dispositionNew")).type:qe}}),Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:Me};Object(j.Fe)(Be,e,Re,Le)}else Be({type:Se,value:{showSearchStore:!0}});Be({type:Ie,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(I.translateWithI18Next)(M)}):Object(R.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:Me};Object(j.Fe)(Be,e,Re,Le)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ye)Be({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];Be({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}Be({type:Ie,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ve)}}),Be({type:ye,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(I.translateWithI18Next)(M)})})]}),!Mt&&qt&&Object(R.jsx)(Xt,{}),(null===ft||void 0===ft?void 0:ft.error)&&Object(R.jsx)(Zt,{orderType:Z(Ve,Ye,qe)}),Object(R.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(k)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(I.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===ct||void 0===ct?void 0:ct.country)?Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>wt(!Pt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(n.a,{selected:Et,showPopperArrow:!1,onChange:e=>Ut(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Pt,readOnly:!0}),Object(R.jsx)("img",{src:me,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(a.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(b.h)(Et,"YYYYMMDD")===Object(b.e)("YYYYMMDD")&&Object(I.translateWithI18Next)("today")||Object(I.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(I.translateWithI18Next)(U)}),Object(R.jsxs)("div",{className:ee(At),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Lt(!Rt),onClick:()=>0!==$e.periods.length&&Lt(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:Dt}),Object(R.jsx)("img",{src:Oe,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===At||void 0===At||!At.length)&&(null===At||void 0===At?void 0:At.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{Nt((e=>({...e,error:!1}))),Bt(e)},onKeyPress:()=>Bt(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(I.translateWithI18Next)(H),onClickHandler:e=>{var t,o,i,a,l;Object(A.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===ze||void 0===ze?void 0:ze.id,disposition:qe,postCode:null===ze||void 0===ze||null===(t=ze.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};ge(n),Object(x.J)(n,Dt),Object(D.a)(Ge),pt(!0);let d=Q(Dt);const r=Object(b.A)(Object(b.h)(Et,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),s={storeid:null===Ge||void 0===Ge||null===(i=Ge.storeInfo)||void 0===i?void 0:i.id,channel:C.b.channel,service:null===(a=Object(j.Mb)($t()))||void 0===a||null===(l=a.toString())||void 0===l?void 0:l.toLowerCase(),futureDateTimeInEpochFormat:r,asap:Dt===E.s};st(Object(m.n)({data:s,tenantId:ct.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const o=null===ze||void 0===ze||null===(e=ze.summary)||void 0===e?void 0:e.name,i=null===ct||void 0===ct||null===(t=ct.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(_.a)(o,qe,i)}}))),null!==Ot&&void 0!==Ot&&Ot.id&&st(Object(m.q)({params:{basketId:null===Ot||void 0===Ot?void 0:Ot.id},tenantId:ct.tenantId,postBody:X(Dt,r)})),Be({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(I.translateWithI18Next)(H)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,o){"use strict";o.d(t,"a",(function(){return U}));var i=o(3),a=o(28),l=o(398),n=o(5),d=o(235),r=o(61),s=o(410),c=o(6),u=o(35),v=o(395),O=o(46),m=o(264),b=o(1099),j=o(1112),p=o(1134),h=o(0),g=o(15),S=o(145),I=o(85),f=o(16),N=o(262),C=o(2);const T=(e,t,o,i,a)=>Object(n.ad)(e||t||o||i||a,g.a.ribbonRedOutlined,null);var E=function(e){var t,o,s;const{getCardTypeName:E,cardType:x,allowClickOnProductCard:D,discount:y,specials:A,exclusive:_,timer:R,cardId:L,customizable:P,getProductImageClassName:w,tenantData:M,imageName:k,onCardClickHandler:F,categoryId:U,categoryName:H,categoryUrl:B,dname:W,availability:G=[],newitem:V,topseller:Y,customlabelfield:z,getSpecificRibbonBanner:K,userParams:q,favouriteItems:J,item:Q,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:oe,veg:ie,servingCount:ae,getVegNonvegClassName:le,menuProductPriceClassName:ne,checkForBasePriceInMenu:de,baseprice:re,cardCat:se,displayPrice:ce,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:Oe,updateItemQuantity:me,configureOptions:be,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Se,menuCardBtnText:Ie,clickHandler:fe,itemFoodlineId:Ne,openCostomizedModal:Ce,setOpenCostomizedModal:Te,filteredPreviousData:Ee,cartData:xe,CARD_TYPE:De,setShowTopScrollBtn:ye,pricewithouttax:Ae}=e,_e=Object(a.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=N.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:Pe,EDIT_CLICKED:we}=f.a,{userOrderStateDispatch:Me}=Object(i.useContext)(I.a),[ke,Fe]=Object(i.useState)(!1),[Ue,He]=Object(i.useState)(Object(n.de)(window.innerWidth)),{ITEM_QUANTITY:Be}=d.a,{QUANTITY_ACTION:We}=r.a,Ge=Object(n.ad)(null===q||void 0===q?void 0:q.loggedIn,h.cg,""),{allowAddToCartButton:Ve=!0}=be,{web:{global:{showPriceWithTax:Ye=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:ze,Veg_dot_Icon:Ke,Product_Card_Icon:qe,TimerIcon:Je,FavoriteInActiveWhite:Qe,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(i.useEffect)((()=>{window.addEventListener(h.ye,et)}),[Ue]);const et=()=>{He(Object(n.de)(window.innerWidth))},tt=()=>Object(C.jsxs)("div",{className:ne(x),children:[Object(n.hb)(de(re,se),ce(re,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(C.jsxs)("span",{className:ue(re,se),children:[l.o.MENU_CARD.CURRENCY,Object(n.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye).toFixed(2)]})]}),ot=()=>Object(C.jsxs)("div",{className:le(x),children:[Object(n.hb)(Ue,Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ie,ze,Ke)})),Object(n.hb)(!Ue,Object(n.ad)(!ie,Object(c.translateWithI18Next)(l.o.MENU_CARD.NON_VEG),Object(c.translateWithI18Next)(l.o.MENU_CARD.VEG))),Object(n.hb)(ae,Object(C.jsx)("div",{className:"Dot"})),l.o.MENU_CARD.SERVES,ae]}),it=()=>{if(null!==q&&void 0!==q&&q.loggedIn)return Object(C.jsxs)("picture",{children:[Object(C.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(n.ad)("small-menu-product-card"===Z,Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),X(x),te(x)),Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(C.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Xe,Qe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(C.jsx)("img",{src:Object(n.hb)(Array.isArray(J),null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))))?Xe:Qe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},at=()=>Object(C.jsx)(O.a,{"data-testid":"product-image",className:w(x),defaultPath:Object(n.bc)(null,M,!0),srcFile:Object(n.bc)(k,M),onClick:e=>Object(n.Nf)(D,F,[e,L,P,U,{productName:W,productImage:k,productPrice:Object(n.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}]),alt:""}),lt={productId:L,productInfo:{productName:W,productImage:k,productPrice:Object(n.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}},nt={catId:U,catName:H,catUrl:B},dt={id:L,itemCount:ee,product:{productName:W,productImage:k,productPrice:Object(n.Ec)(G[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:Ne};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:E(x,D,y,A,_,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(n.Zd)()&&P&&Object(C.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),x!==De.SMALL&&at(),Object(C.jsx)(m.a,{src:Object(n.ad)(A,qe,T(z,y,_,V,Y)),className:Object(n.ad)(A,"specials-product-ribbon",Object(n.ad)(Object(n.jb)(_,z),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(C.jsx)("span",{className:Object(n.ad)(A,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(C.jsxs)("div",{children:[Object(C.jsx)(m.a,{src:Je,className:"product-timer"}),Object(C.jsx)("span",{className:"product-timer-text",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.TIMER)})]}):K(A,y,_,V,Y,z)}),Object(n.hb)(!Ue,it()),Object(C.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{D&&F(e,lt,P,nt)},children:[Object(C.jsx)("div",{className:oe(x,y,A,_,{timer:R,newitem:V,topseller:Y,customlabelfield:z}),children:null===W||void 0===W?void 0:W[0].value}),Ue?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"description-and-image",children:[Object(C.jsx)("div",{className:ve(x),id:"longDescription",children:Oe[0].value}),x===De.SMALL&&at()]}),Object(C.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),ot(),Object(C.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ie,ze,Ke)}),ot(),tt(),Object(C.jsx)("div",{className:ve(x),id:"longDescription",children:Oe[0].value})]})]}),Object(C.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(rt=ee,st=me,ct=null===W||void 0===W?void 0:W[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(C.jsx)(b.a,{itemCount:rt,itemQuantity:Be,updateItemQuantity:st,quantityAction:We,item:void 0,itemName:ct,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ve&&je&&Object(C.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(C.jsxs)(v.a,{tabIndex:"0",className:he(ge,x,Se,je),"data-testid":"add-to-cart-".concat(L),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Ie(je))&&void 0!==t&&t.enabled&&ee<=0&&fe(e,P,nt,dt)},"aria-label":(null===(o=Ie(je))||void 0===o?void 0:o.btnText)+(null===W||void 0===W?void 0:W[0].value),children:[null===(s=Ie(je))||void 0===s?void 0:s.btnText,Object(n.J)(je.isStoreClosed)]}):P&&Object(C.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Le,value:{id:null===Q||void 0===Q?void 0:Q.mdmId,flag:Pe,foodLineId:Ne}}),Me({type:Re}),Me({type:we,value:{cartEditClicked:!1}}),_e(Object(S.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===xe||void 0===xe?void 0:xe.catalog,itemId:null===Q||void 0===Q?void 0:Q.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:U}))):(Fe(!0),Te(!0))},children:Object(c.translateWithI18Next)(l.o.EDIT_SELECTIONS)})})]})]}),Object(C.jsx)("div",{children:Ce&&(()=>{var t;return Object(C.jsx)(p.a,{handleClose:()=>{Te(!1),Fe(!1)},filteredPreviousData:Ee,updateItemQuantity:me,tenantData:M,dname:W,clickHandler:fe,cardId:L,categoryId:U,categoryName:H,categoryUrl:B,itemCount:ee,availability:G,pricewithouttax:Ae,imageName:k,itemFoodlineId:Ne,customizable:P,setOpenCostomizedModal:Te,openCostomizedModal:Ce,cartData:xe,setShowTopScrollBtn:ye,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:ke,headerText:Object(n.ad)(ke,Object(c.translateWithI18Next)(l.o.EDIT_QUANTITY),Object(c.translateWithI18Next)(l.o.SELECT_QUANTITY))})})()})]});var rt,st,ct,ut};const{CARD_TYPE:x}=l.o,{FavoriteInActiveWhite:D,heartIcon_active:y,heartIcon_activeFavourite:A,heartIcon_inactive_red:_}=g.a,R=(e,t,o,i,a,l)=>e===x.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===x.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===x.SMALL?((e,t,o,i,a)=>e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||i||a)?"small-menu-product-card product-card-active":!e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,i,a,l):e===x.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===x.LARGE?"menu-product-image":e===x.MEDIUM?"medium-menu-product-image":e===x.SMALL?"small-menu-product-image":e===x.CAROUSAL?"carousal-menu-product-image":void 0,P=(e,t,o,i,a)=>{let{timer:l,newitem:n,topseller:d,customlabelfield:r}=a;return e===x.LARGE?"menu-product-header":e===x.MEDIUM?"medium-menu-product-header":e===x.SMALL?t||o||i||l||n||d||r?"small-menu-product-header-shift":"small-menu-product-header":e===x.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===x.LARGE?"menu-vegOrNonVeg":e===x.MEDIUM?"medium-menu-vegOrNonVeg":e===x.SMALL?"small-menu-vegOrNonVeg":e===x.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===x.LARGE?"menu-product-price":e===x.MEDIUM?"medium-menu-product-price":e===x.SMALL?"small-menu-product-price":e===x.CAROUSAL?"carousal-menu-product-price":"",k=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===x.LARGE?"menu-product-description":e===x.MEDIUM?"medium-menu-product-description":e===x.SMALL?"small-menu-product-description":e===x.CAROUSAL?"carousal-menu-product-description":"",U=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=d.a;let o=Object(c.translateWithI18Next)(t),i="",a=!0;return null!==e&&void 0!==e&&e.isStoreNone?(o="Store Closed",i="no-store-selected",a=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(o="Store Closed",i="store-closed",a=!1),{btnText:o,className:i,enabled:a}},B=(e,t,o,i)=>e?"".concat(((e,t)=>{let o,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case x.LARGE:o="menu-cart-button";break;case x.MEDIUM:o="medium-menu-cart-button";break;case x.SMALL:o="small-menu-cart-button";break;case x.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(i," ").concat(o)})(t,o)," ").concat(H(i).className):"button btn-black medium-menu-cart-button",W=(e,t,o,i,a,d)=>{let r;return r=d?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(o?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(C.jsx)("span",{"data-testid":"new-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.NEW)}):Object(n.ad)(a,Object(C.jsx)("span",{"data-testid":"topseller-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.TOP_SELLER)}),null))),r},G=e=>e===x.CAROUSAL?y:A,V=e=>e===x.CAROUSAL?D:_,Y=(e,t)=>Boolean(e)&&"recommended"!==t,z=(e,t)=>{let o;return o=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"price-display",children:"old price"}),Object(C.jsxs)("span",{className:"base-price-menu",children:[l.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),o};t.b=e=>{var t,o;const{cardId:l,cardType:d,discount:c,specials:v,exclusive:O,timer:m,availability:b=[],tenantData:p,customizable:h,categoryId:g,activeId:S,addFavourite:I,removeFavourite:f,item:N,isHidden:T,cardFor:D,setShowTopScrollBtn:y,userParams:A}=e,{QUANTITY_ACTION:_}=r.a,K=Object(a.b)(),q=null===p||void 0===p?void 0:p.tenantId,{componentOptions:J={}}=p,{PlpProductCard:Q={}}=J,{allowClickOnProductCard:X=!1}=Q,Z=Object(a.c)((e=>e.cartReducer)),$=Object(a.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(n.sd)(Z),[oe,ie]=Object(i.useState)(0),[ae,le]=Object(i.useState)(null),[ne,de]=Object(i.useState)(0),re=null===$||void 0===$?void 0:$.id,se=Object(a.c)((e=>{var t;return Object(n.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[ce,ue]=Object(i.useState)(!0),[ve,Oe]=Object(i.useState)("product"),{flatResponse:{productMapById:me={}}={}}=null!==(t=Object(a.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[be,je]=Object(i.useState)(""),[pe,he]=Object(i.useState)(0),[ge,Se]=Object(i.useState)([]),[Ie,fe]=Object(i.useState)(!1),[Ne,Ce]=Object(i.useState)(""),{couponCode:Te="",amount:Ee=0}=(null===ee||void 0===ee||null===(o=ee.discountLines)||void 0===o?void 0:o[0])||{},{foodLines:xe,total:De}=ee,ye=Number((De/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:Te,amount:Number((Ee/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{D&&Oe(D)}),[D]),Object(i.useEffect)((()=>{const e=Object(n.Td)(ee)?Object(n.mc)(l,ee):{},t=Object(n.ad)(Object(n.Td)(e),e.count,0),o=Object(n.ad)(Object(n.Td)(e),e.matchedItemFoodLineId,""),i=Object(n.ad)(Object(n.Td)(e),e.entriesCount,0),a=Object(n.ad)(Object(n.Td)(e),e.itemUnitPrice,"");ie(t),le(o),de(i),he(a)}),[ee,l]);const _e=Object(i.useCallback)((()=>{je(R(d,X,c,v,O,m))}));Object(i.useEffect)((()=>{_e()}),[_e]);Object(i.useEffect)((()=>{ue(!0)}),[oe]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e}));Se(t)}Ce(e),fe(!0)},Le=Object(n.hb)(te,S===l);return!T&&Object(C.jsx)(E,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:L,getSpecificRibbonBanner:W,favouriteItems:se,classFavouriteIconActive:G,getCardName:be,favouriteButtonClickHandler:()=>{Object(n.hb)(Array.isArray(se),null===se||void 0===se?void 0:se.find((e=>(null===e||void 0===e?void 0:e.id)===(null===N||void 0===N?void 0:N.id))))?f(q,re,N.id):((e,t,o,i)=>{var a;const l=Object(n.td)(null===(a=o[0])||void 0===a?void 0:a.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};I(e,d,i),K(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(q,N,b,re)},itemCount:oe,classFavouriteIconInActive:V,getMenuProductHeader:P,getVegNonvegClassName:w,menuProductPriceClassName:M,checkForBasePriceInMenu:Y,cardCat:ve,displayPrice:z,getPriceClassName:k,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let o={foodName:null===N||void 0===N?void 0:N.name,foodItemId:null===N||void 0===N?void 0:N.mdmId,cartPrice:e,modifiers:Object(j.i)(N),customizable:null===N||void 0===N?void 0:N.customizable,quantity:oe,foodLineId:ae};const{itemQuantityHandler:i}=Object(s.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:xe,totalAmount:ye},null===p||void 0===p?void 0:p.tenantId,void 0,me,void 0,K,void 0);t===_.Increase?h&&oe>=1?Re(null===o||void 0===o?void 0:o.foodItemId):(!h&&ue(!1),i(o,_.Increase)):ne>1?Re(null===o||void 0===o?void 0:o.foodItemId):(ue(!1),i(o,_.Decrease))}},classesCardButton:U,classEnableAddToCart:B,enableAddToCartButton:ce,checkLoading:Le,menuCardBtnText:H,itemFoodlineId:ae,openCostomizedModal:Ie,filteredPreviousData:ge,setOpenCostomizedModal:fe,cartData:ee,CARD_TYPE:x,setShowTopScrollBtn:y,FoodId:Ne})}},1147:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(41),n=o(46),d=o(15),r=o(28),s=o(0),c=o(2);const{Error:u}=d.a,v=e=>{const{show:t,errorObj:o,isInProgress:i,comingFrom:d}=e,{firstBtnCTA:v,secondBtnCTA:O,firstBtnText:m,secondBtnText:b,errMsg:j,firstBtnClassName:p=""}=o,h=Object(r.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:i}));return Object(c.jsx)(a.a.Fragment,{children:!h&&(t?Object(c.jsx)("div",{className:"err-container",children:Object(c.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(c.jsx)(n.a,{srcFile:u,className:"location-alert-icon"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"location-error-message",children:j}),Object(c.jsxs)("div",{className:"location-error-button-section",children:[d!==s.a&&v&&Object(c.jsx)(l.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(p),onClickHandler:e=>v(e),children:m}),O&&Object(c.jsx)(l.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>O(e),children:b})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const O=a.a.memo(v);t.a=O},1148:function(e,t,o){"use strict";o.d(t,"h",(function(){return r})),o.d(t,"g",(function(){return s})),o.d(t,"f",(function(){return c})),o.d(t,"i",(function(){return u})),o.d(t,"d",(function(){return O})),o.d(t,"c",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"a",(function(){return j})),o.d(t,"e",(function(){return p}));var i=o(5),a=o(1173),l=o(0),n=o(160),d=o(12);const r=e=>l.xd.test(String(e).toLowerCase()),s=e=>l.uc.test(String(e).toLowerCase()),c=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),o=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+o}},O=(e,t)=>{const{wantToKnowText:o,selectedLetUsKnow:a,firstNameText:l,lastNameText:n,phoneNoText:d,emailText:v}=e;return!(0===(null===o||void 0===o?void 0:o.length)||(null===o||void 0===o?void 0:o.length)>200)&&(!!r(l)&&(!!r(n)&&(!!s("".concat(l).concat(n))&&(!!u(d)&&(!!c(v)&&(!!Object(i.Td)(a)&&!!t))))))},m=e=>{const{firstNameText:t,lastNameText:o,phoneNoText:i,emailText:a}=e;return!!s(t)&&(!!s(o)&&(!!u(i)&&!!c(a)))},b=(e,t,o)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:o}],attachments:[]}}),j=(e,t)=>{var o;var i;return{tenantId:t,payload:{data:[{key:a.b.FIRSTNAME,value:e.fullname},{key:a.b.CALLNATURE,value:e.helpDDOptions},{key:a.b.CATEGORY,value:e.enquiryDDOptions},{key:a.b.SUBCODE,value:e.specificDDOptions},{key:a.b.DESCRIPTION,value:e.detailsArea},{key:a.b.LASTNAME,value:e.publicationdetails},{key:a.b.PHONE,value:e.phonenumber},{key:a.b.EMAIL,value:e.emailaddress},{key:a.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:a.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:a.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:a.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:a.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:a.b.VISITTIME,value:null!==(i=e.visitedTime,o=!!i&&Object(d.d)(i.getHours(),i.getMinutes(),l.sb.hh_mm_A))&&void 0!==o?o:""},{key:a.b.LANGUAGE,value:"en-US"}],attachments:[]}}},p=(e,t,o,i,d,r,s,c,u,v)=>{let O=JSON.parse(localStorage.getItem(l.qf));""===(null===O||void 0===O?void 0:O.addressLine0)&&O&&(O.addressLine0=a.c);const{addressLines:m=[],country:b="",city:j="",pinCode:p="",state:h="",placeId:g=""}=Object(n.b)(t.address_components,O);var S;e===l.rc?(S=p,l.Jd.test(String(S).toLowerCase())?(s(!1),c(!1),o(p)):s(!0),r({...u,sugPinCode:p})):(o(null===m||void 0===m?void 0:m[1]),r()),i((e=>({...e,country:b,addressLines:m,city:j,state:h,pinCode:p,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{d()}),800)}},1149:function(e,t,o){"use strict";o.d(t,"b",(function(){return S}));var i=o(3),a=o(85),l=o(966),n=o(5),d=o(61),r=o(59),s=o(46),c=o(15),u=o(1106),v=o(6),O=o(1128),m=o(62),b=o(1095),j=o(262),p=o(0),h=o(2);const g=(e,t,o,i,a,l)=>{let n;n=e?Object(b.K)(t,o,i):Object(b.I)(t,o,i),a({type:l,value:n})},S=(e,t,o,i,a,l)=>{let{pdpAddtoCartConfirmButtonDisabled:n}=a,d=e<t;n[l]=d,i({type:o,value:n})};t.a=e=>{var t,o,I,f,N,C,T,E,x,D;const[y,A]=Object(i.useState)(),[_,R]=Object(i.useState)(!1),{QUANTITY_ACTION:L}=d.a,{MAX_ALERT_TEXT_INITIAL:P,MAX_ALERT_TEXT_END:w}=u.a,{PDP_PAYLOAD_DATA:M,UPDATE_SHOW_PDP_CUSTOM_MODAL:k,SET_PDP_BUTTON_DISABLED:F,PEROPTIONMAX_KEY:U,PEROPTIONMIN_KEY:H,SHOW_PDP_CUSTOM_MODAL:B}=j.a,[W,G]=Object(i.useState)(),[V,Y]=Object(i.useState)(),{userOrderState:z,userOrderStateDispatch:K}=Object(i.useContext)(a.a),{tenantData:q,cardData:J,savedCustomizedModifier:Q,saveCustomizedItemCount:X,savedModifierHandler:Z,savedModifiers:$,updatedItems:ee,toRenderCheckBox:te,toRenderQuantityModifier:oe,modgrpData:ie,isModal:ae,isStoreClosed:le,initialRender:ne,setInitialRender:de,catalog:re,localized:se}=e,{modgrpId:ce,max:ue,min:ve,modGrpName:Oe,additionalProperties:me}=ie,{id:be="",isDefault:je,defaultQuantity:pe,name:he,size:ge,isHidden:Se,quantity:Ie,isExcluded:fe}=J,{pdpPayloadData:Ne,sopacPDPCustomization:Ce,pdpDataForUpdateFoodLine:Te}=z,Ee=null===q||void 0===q||null===(t=q.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(I=o.pdp)||void 0===I?void 0:I.pdpToastShowDuration,xe=null===q||void 0===q||null===(f=q.componentOptions)||void 0===f||null===(N=f.web)||void 0===N||null===(C=N.pdp)||void 0===C?void 0:C.pdpCateringItemQuantityLimit,De=null===q||void 0===q||null===(T=q.componentOptions)||void 0===T||null===(E=T.web)||void 0===E||null===(x=E.pdp)||void 0===x?void 0:x.itemCountShouldAtModifierLevel,ye=Object(m.h)(),Ae=((e,t,o,i)=>{const{showCustomizationModId:a="",showCustomizationModGrpId:l=""}=i;return e?"".concat(l).concat(j.a.HASH_SYMBOL).concat(a).concat(j.a.HASH_SYMBOL).concat(o).concat(j.a.HASH_SYMBOL).concat(t):"".concat(o).concat(j.a.HASH_SYMBOL).concat(t)})(ae,be,ce,Ce),_e=Object(n.Sd)(z.dispositionNew)?JSON.parse(localStorage.getItem(p.gd.DISPOSITION_NEW)):z.dispositionNew,Re=(null===_e||void 0===_e?void 0:_e.type)&&Object(n.rf)(Object(n.Mb)(null===_e||void 0===_e?void 0:_e.type)),Le=()=>Object(n.Td)(Q)?Q.totalQuantity:0;Object(i.useEffect)((()=>{if(void 0!==y){let e=Object(b.x)(Ne,Ae);Object(n.hb)(e!==y,null!==e)&&g(ae,Ne,Ae,y,K,M)}}),[y]),Object(i.useEffect)((()=>{if(void 0!==W){let e=Object(b.u)(Ne,Ae);if(Object(n.hb)(e!==W,null!==e)){g(ae,Ne,Ae,W?1:0,K,M)}}}),[W]),Object(i.useEffect)((()=>{if(oe){var e;let t=null===Q||void 0===Q||null===(e=Q[ce])||void 0===e?void 0:e[be];if(t)A(t.quantity),Y(t.quantityDisplay),(null===t||void 0===t?void 0:t.quantity)>0?G(!0):G(!1);else{let e=Object(n.ad)(je,pe,0),t=Object(n.ad)(ne&&!ae,e,Object(b.x)(Ne,Ae));t=((e,t)=>{const{isExcluded:o,quantity:i,isModal:a,qty:l}=e;return o?0:null!==t&&void 0!==t&&t.foodLineId&&i&&!a?i:l})({isExcluded:fe,qty:t,isModal:ae,quantity:Ie},Te),X(be,ce,"",t)}if(Object(n.Td)(Q)){S(Le(),ve,F,K,z,ce);let e=Le();R(e===ue)}}}),[be,Q]);Object(i.useEffect)((()=>{if(te){let e=Object(n.ad)($.length>0,Object(b.u)(Ne,Ae),je),t=Object(n.ad)(ae,Object(b.u)(Ne,Ae),e),o=Object(O.d)(ee,z,be,t,void 0,ne);Object(O.b)(o,G,Z,J,$)}}),[be,ee,je,$,Z,W]);return Object(h.jsx)(l.default,{...e,isHidden:Se,selectedProduct:W,updateItemQuantity:(e,t,o)=>{let i=Le();if(t===L.Decrease||ue>i){let e=Object(n.ad)(t===L.Decrease,i-1,i+1);S(e,ve,F,K,z,ce),X(be,ce,t);let o=Object(b.w)(Ne,Ae,1),a=Object(b.G)(Ne,{price:o,flag:t},ae);K({type:M,value:a});let l=t===L.Decrease?Ce.updatedPrice-o:Ce.updatedPrice+o;K({type:k,value:{updatedPrice:l}})}else{let e=Object(h.jsx)(s.a,{srcFile:c.a.ErrorImage}),t="".concat(Object(v.translateWithI18Next)(P)).concat(ue," ").concat(Object(v.translateWithI18Next)(w));Object(n.Df)(t,e,"err-toast",!0),Ee&&setTimeout((()=>{r.b.dismiss()}),Ee)}},itemCount:V,isModgrpMax:_,onSaveProduct:()=>{let e={modgrpMax:ue,selectedProduct:W,modgrpMin:ve,name:he,size:ge,location:ye,setInitialRender:de,savedModifierHandler:Z,setSelectedProduct:G,cardData:J,savedModifiers:$,userOrderState:z,userOrderStateDispatch:K,modGrpName:Oe,pdpPayloadData:Ne,objPath:Ae,isModal:ae};Object(b.A)(e)},isStoreClosed:le,handleCateringModifierQuantity:e=>{e.preventDefault();let t=Le(),o=+Object(n.pd)(me,U),i=+Object(n.pd)(me,H),a={modgrpMax:ue,modgrpMin:ve,modifierMax:o,modifierMin:i,modgrpCount:t,itemCount:y,SET_PDP_BUTTON_DISABLED:F,userOrderStateDispatch:K,userOrderState:z,modgrpId:ce,pdpCateringItemQuantityLimit:xe},l=Object(b.L)(e,a),d=l.valueToCount,r=l.valueToDisplay;if(!1!==d){X(be,ce,null,d,r);let e=Object(b.w)(Ne,Ae,1),t=e*d-e*y,o=Object(b.G)(Ne,{price:t,flag:L.Increase},ae);K({type:M,value:o});let i=Ce.updatedPrice+t;K({type:k,value:{updatedPrice:i}})}},dispositionType:Re,kilojoule:q.kilojoule,defaultImagePath:Object(n.bc)(null,q,!0),itemCountShouldAtModifierLevel:De,customizeClickHandler:e=>(e=>{const{event:t,id:o,modgrpId:i,userOrderStateDispatch:a,SHOW_PDP_CUSTOM_MODAL:l,modGrpName:n}=e;t.preventDefault(),t.stopPropagation(),a({type:l,value:{showPDPCustomization:!0,modifierId:o,modgrpId:i,modgrpName:n,updatedPrice:0}})})({event:e,id:be,modgrpId:ce,userOrderStateDispatch:K,SHOW_PDP_CUSTOM_MODAL:B,modGrpName:Oe}),localized:se,showButton:(null===J||void 0===J||null===(D=J.modgrps)||void 0===D?void 0:D.length)>0&&se&&!le&&!ae,catalog:re,savedCustomizedModifier:Q})}},1152:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return a}));const i="outOfService",a="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1153:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));o(6),o(106),o(92);var i=o(5),a=(o(1175),o(1142),o(20),o(398)),l=(o(41),o(146),o(15));o(2);const{CARD_TYPE:{CAROUSAL:n,MEDIUM:d}}=a.o,{CartError:r}=l.a,s=e=>Object(i.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return v}));var i=o(158);let a,l,n,d,r=[],s="";const c=(e,t,o,i)=>{if(a=e,l=t,r=o,d=i,r.length>0){let o=r.map((e=>{const{latitude:t,longitude:o}=e&&e.storeBasic.location;return{lat:t,lng:o}})),i=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...i].slice(0,24),destinations:[...o].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let o=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e));let a=e&&e.originAddresses&&e.originAddresses[0]||"";o=r.map(((e,t)=>({...e,...i[t]}))),d(o,a)},v=(e,t,o)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},O),n=o},O=(e,t)=>{if(t===i.a.OK_STATUS){let t=[],o=e&&e.rows&&e.rows.map((e=>e));t=null===o||void 0===o?void 0:o.map((e=>e.elements[0])),s=e&&e.originAddresses||[],n({allStoreDistance:t,originAddressText:s})}}},1157:function(e,t,o){"use strict";o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return v}));var i=o(12),a=o(1152),l=o(6),n=o(5),d=o(120),r=o(21),s=o(0);const c=e=>{var t,o,i,a,l,n,d,r;const{url:s=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(o=t.fields)||void 0===o||null===(i=o.desktopImage)||void 0===i||null===(a=i.fields)||void 0===a?void 0:a.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(l=e.headline[0])||void 0===l||null===(n=l.fields)||void 0===n||null===(d=n.desktopImage)||void 0===d?void 0:d.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(r=e.headline[1])||void 0===r?void 0:r.fields)||{},{supportedDispositions:O=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:O.map((e=>e.fields)),src:s,alt:c}},u=(e,t,o)=>{var r,s,c,u,v;const O=(null===t||void 0===t||null===(r=t.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus)||a.a,{futureDates:m,scheduled:b,asap:j}=Object(n.sd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:p}=Object(n.sd)(b),{interval:h=0,startEndTime:g={}}=Object(n.sd)((null===b||void 0===b||null===(u=b.periods)||void 0===u?void 0:u.length)&&(null===b||void 0===b?void 0:b.periods[0])),{from:S,to:I}=Object(n.sd)(g);let f=Object(d.j)(S,I,h,null===j||void 0===j?void 0:j.isAvailable,1===(null===m||void 0===m?void 0:m.length)&&"INDIA"===(null===o||void 0===o||null===(v=o.country)||void 0===v?void 0:v.toUpperCase()),p);if(O===a.a&&!f.length||null===e||void 0===e||!e.time)return Object(l.translateWithI18Next)(a.b);const N=e.time,C=e.interval,T="object"==typeof e.date?e.date:new Date(e.date),E=Object(i.R)(Object(i.h)(T,"YYYY-MM-DD")+" "+N,"YYYY-MM-DD hh:mm A"),x=Object(i.a)(E,C,"minutes"),D=Object(i.k)(x,"LT");return"ASAP"===N?"".concat(N):"".concat(N," - ").concat(D)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await r.a.registerEvent(void 0,{data:t[0]},n.Bb)},{ORDER_TYPE_STORE_INFO_FROM:O,ORDER_TYPE_STORE_INFO_TO:m,ORDER_TYPE_STORE_INFO_AT:b}=a.c,{DELIVERY:j,DINE_IN:p,PICKUP:h}=s.Jb||{}},1158:function(e,t,o){"use strict";o.d(t,"d",(function(){return f})),o.d(t,"e",(function(){return R})),o.d(t,"c",(function(){return L})),o.d(t,"g",(function(){return P})),o.d(t,"b",(function(){return w})),o.d(t,"a",(function(){return M})),o.d(t,"f",(function(){return k}));var i=o(6),a=(o(332),o(214)),l=(o(404),o(41),o(210)),n=o(4),d=o(144),r=o(968),s=o(1205),c=(o(46),o(15),o(1184)),u=o(0),v=o(190),O=o(1174),m=o(5),b=o(11),j=o(14),p=o(265),h=o(1198),g=o(399),S=o(12),I=o(2);const f=e=>{var t,o,i,a;const{orderDetails:n,updateSetOrderDetails:r}=e,{deliveryAddress:s={},store:c,isOpenOrderSummaryDirectionMap:u=!0,isMobileView:v=!1}=n,O={role:"dialog",modalTitleId:"direction-map-modal",show:!0,classNames:"map-modal",showCloseBtn:u,closeButtonHandler:()=>{r({isOpenOrderSummaryDirectionMap:!1})},modalTitle:"",showBackBtn:v,closeDataTestId:"close-direction-map-modal",id:"directionMapModal",autoFocus:!0},m=[null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.latitude,null===c||void 0===c||null===(o=c.location)||void 0===o?void 0:o.longitude],b=[null===s||void 0===s||null===(i=s.location)||void 0===i?void 0:i.latitude,null===s||void 0===s||null===(a=s.location)||void 0===a?void 0:a.longitude];return u&&Object(I.jsx)(d.a,{...O,children:(j={storeLatLng:m,customerLatLng:b},Object(I.jsx)(l.a,{...j,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0}))});var j},N=(e,t)=>{const o=Object(i.translateWithI18Next)(e),l=Object(i.translateWithI18Next)(t),d=(e=>{const{FAVORITE_ORDERS:t}=n.a;return"<a href='".concat(u.Ce.ACCOUNT,"#").concat(t,"' className='favorites-hyperlink-style'><u>").concat(e,"</u></a>")})(l),r=null===o||void 0===o?void 0:o.replace(l,d);return Object(a.a)(String(r))},C=e=>{var t;const{orderDetails:o,updateSetOrderDetails:i}=e,{orderId:a,isOpenOrderSummarySaveYourOrderCheckoutFaster:l}=o,{ORDER_ADDED_TO_FAVOURITE:d,FAVOURITES:r}=n.a,s=N(d,r);return l&&Object(I.jsx)(c.a,{showOccassionModal:l,updateSetOrderDetails:i,setOccassionModalOpen:()=>{i({isOpenOrderSummarySaveYourOrderCheckoutFaster:!1})},occasionName:"",setOccasionName:e=>console.log(e),cardInfo:{id:a},toastmessage:s,isAddFavOrderBox:!0,userParams:null===o||void 0===o?void 0:o.userStatus,currencyShortName:null===o||void 0===o?void 0:o.currencyShortName,currencyConversionFactor:null===o||void 0===o?void 0:o.currencyConversionFactor,productMapById:null===o||void 0===o||null===(t=o.flatResponse)||void 0===t?void 0:t.productMapById,orderDetail:o})},T=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:i,deliveryAddress:a,scheduleOrderDateFormat:l}=t,n=(e=>{var t,o;let i={},a=["",""];return a[1]=null===e||void 0===e?void 0:e.addressLines[1],a[0]=null===e||void 0===e?void 0:e.addressLines[0],i={id:(null===e||void 0===e?void 0:e.id)||"",addressName:(null===e||void 0===e?void 0:e.name)||"",city:null===e||void 0===e?void 0:e.city,pinCode:null===e||void 0===e?void 0:e.pinCode,state:null===e||void 0===e?void 0:e.state,country:(null===e||void 0===e?void 0:e.country)||"",location:{latitude:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,longitude:null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude},addressLines:a,deliveryInstruction:(null===e||void 0===e?void 0:e.deliveryInstructions)||"",deliveryOptions:(null===e||void 0===e?void 0:e.deliveryOptions)||""},i})(a),{EDIT:d}=v.b;return i&&!l&&Object(I.jsx)("div",{className:"addresses-and-stores-container",children:Object(I.jsx)(s.a,{"data-testid":"address-modal",address:n,isOpen:i,updateSetOrderDetails:o,toggleModal:()=>{o({isOpenSaveDeliveryAddressModal:!1})},isAddressFromOrderProcessing:!0,modalType:d,deliveryInstration:null===t||void 0===t?void 0:t.instruction})})},E=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:i,deliveryAddress:a,scheduleOrderDateFormat:l,deliverySearchType:n}=t,d=Object(g.c)()[null!==a&&void 0!==a&&a.pinCode?1:0],s=!0;return i&&l&&Object(I.jsx)("div",{className:"addresses-and-stores-container",children:Object(I.jsx)(r.default,{"data-testid":"new-address-modal",deliverySearchType:n||d,setDeliverySearchType:e=>{o({deliverySearchType:e})},prefectureAddressScreen:s,handleClose:i,updateSetOrderDetails:o,modalType:s,address:a,isAddressFromOrderProcessing:s})})},x=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCancelModal:i,isShowStoreClosePickupOrderCancelModal:a}=t,l=()=>{o({isShowPickupOrderCancelModal:!1,isShowStoreClosePickupOrderCancelModal:!1})},n={id:"pickupCancelOrderModal",role:"dialog",modalTitleId:"pickupCancelOrderModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return i||a?Object(I.jsx)(d.a,{...n,children:Object(O.c)({...e,closeModalHandler:l})}):null},D=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCheckReadyToPrepareModal:i}=t,a=()=>{o({isShowPickupOrderCheckReadyToPrepareModal:!1})},l={id:"pickupGeoLocationVerifyModal",role:"dialog",modalTitleId:"pickupGeoLocationVerifyModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:a,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return i?Object(I.jsx)(d.a,{...l,children:Object(O.d)({...e,closeModalHandler:a})}):null},y=e=>{var t;const{orderDetails:o}=e,{pickupClosedInfoModal:i,buffertimepmpickup:a=30,isPostorderStoreShutdownPopupModal:l,useTradingHoursForStoreCloseCalculation:n}=o,r={...null===o||void 0===o?void 0:o.store,status:{currentStatus:u.Od,message:u.Od}},s=Object(m.v)(r,a);return Object(p.w)(o)||(!i||null===s||void 0===s||!s.timingFlag||n&&Object(m.se)(null===r||void 0===r||null===(t=r.timings)||void 0===t?void 0:t.storeTradingHours,a))&&!l?null:Object(I.jsx)(d.a,{id:"pickupClosedInfoModal",role:"dialog",modalTitleId:"pickupClosedInfoModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.g)({...e})})},A=e=>{const{orderDetails:t}=e,{isShowCurbsidePlateNumberInputModal:o}=t,i={id:"curbsidePlateNumberInputModal",role:"dialog",modalTitleId:"curbsidePlateNumberInputModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,closeButtonHandler:()=>(e=>{const{updateSetOrderDetails:t}=e;t({isShowCurbsidePlateNumberInputModal:!1})})(e),showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return!Object(p.w)(t)&&o?Object(I.jsx)(d.a,{...i,children:Object(O.b)({...e})}):null},_=e=>{const{orderDetails:t}=e,{pickupClosingSoonModal:o}=t,i={...null===t||void 0===t?void 0:t.store,status:{currentStatus:u.Od,message:u.Od}},a=Object(m.v)(i,Object(j.a)(b.Ob));return!Object(p.w)(t)&&o&&null!==a&&void 0!==a&&a.timingFlag?Object(I.jsx)(d.a,{id:"pickupClosingSoonModal",role:"dialog",modalTitleId:"pickupClosingSoonModal",show:!0,classNames:"Base-modal pickupClosingSoonModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.h)({...e,lastCheckIn:null===a||void 0===a?void 0:a.lastCheckInTime})}):null},R=e=>Object(I.jsxs)(I.Fragment,{children:[f(e),C(e),T(e),E(e),x(e),D(e),y(e),_(e),A(e)]}),L=(e,t)=>Object(I.jsx)(h.a,{isOpen:e,checkoutHeader:!1,showOrderSummaryHeader:!0,handleClose:()=>(e=>{e({openCallSupportModal:!1})})(t)}),P=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;o.enableCancelOrderCallsupportModal?t({isShowPickupOrderCancelModal:!1,openCallSupportModal:!0,pickupCancelOrder:!(null!==o&&void 0!==o&&o.enableCancelOrderCallsupportModal)}):t({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!0})},w=e=>{const t=[];for(const i of e){const e=i.codePointAt(0);t.push(e)}const o=t.join("%");return btoa(o)},M=(e,t)=>{if(e){const o=Object(S.I)(e,t),i=Object(S.F)(t),a=o.date(),l=i.date(),n=o.isBefore(i);return a===l||n}return!1},k=(e,t,o)=>{if(e){const i=Object(S.I)(e,o),a=Object(S.F)(o),l=i.subtract(t,"minutes"),n=i.add(t,"minutes");let d=0,r=0;return a.isBefore(l)?(d=l.diff(a,"millisecond"),r=n.diff(a,"millisecond")):a.isAfter(l)&&a.isBefore(n)&&(r=n.diff(a,"millisecond")),{timeToEnable:d,timeToDisable:r}}return{timeToEnable:0,timeToDisable:0}}},1159:function(e,t,o){"use strict";var i=o(964);o.d(t,"a",(function(){return i.default}))},1160:function(e,t,o){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1162:function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return f}));var i=o(1127),a=o(42),l=o.n(a),n=(o(21),o(5),o(20)),d=o.n(n),r=o(112),s=o(55),c=o(2);const u=e=>{const{FOOTER_LOGO:t,FOOTER_SECTION:o,FIND_A_KFC_SECTION:a,APP_LINKS:n,SOCIAL_SECTION:d,COPYRIGHT:r,HEADLINE:s}=i.a,c={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},u={languageDropdown:{},copyrightContentData:{},socialMediaContent:[],copyrightNavLinks:[]};for(const i of e){const e=l()(i,"sys.contentType.sys.id"),I=l()(i,"fields.category");if(e===t){const{url:e,altText:t}=b(i.fields);c.kfcLogo={src:e,alt:t}}else if(I===a){var O,j,h;const e=null===i||void 0===i||null===(O=i.fields)||void 0===O||null===(j=O.links)||void 0===j||null===(h=j[0].fields)||void 0===h?void 0:h.linkText;c.kfcStoreSearch={...g(i.fields.links[0].fields),name:e}}else if(I===n)c.downloadAppButtons=v(i.fields.links);else if(I===d)u.socialMediaContent=m(i.fields.links);else if(I===r){var S;null===i||void 0===i||null===(S=i.fields)||void 0===S||S.links.forEach((e=>{var t,o,i;if((null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(o=t.contentType)||void 0===o||null===(i=o.sys)||void 0===i?void 0:i.id)===s){const{headline:t}=e.fields;u.copyrightContentData={name:t}}else{const{linkText:t,title:o,internalurl:i,externalurl:a}=e.fields;u.copyrightNavLinks=[...u.copyrightNavLinks,{linkText:t,title:o,internalurl:i,externalurl:a}]}}))}else e===o&&c.categories.push(p(i.fields))}return{bodyContent:c,footerContent:u}},v=e=>e.map((e=>({...O(e.fields),name:e.fields.title})))||[],O=e=>{const{url:t,desktopImage:o={fields:{}}}=e,{file:i={}}=o.fields,{url:a=""}=i;return{linkTo:t,url:a}},m=e=>e.map((e=>{const{externalurl:t,icon:o={}}=e.fields,{url:i}=b(o.fields);return{...{linkTo:t,url:i},name:e.fields.title}}))||[],b=e=>{const{desktopImage:t}=e;return t&&j(t)||{}},j=e=>{var t;const{url:o="",altText:i=""}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.file)||{};return{url:o,altText:i}},p=e=>{let t=[];const{category:o,links:i=[]}=e;return i.forEach((e=>{t.push(h(e.fields))})),{categoryHeaderText:o,subCategories:t}},h=e=>{var t,o,i,a,l,n,d,r,s,c;const{linkText:u,internalurl:v,externalurl:O}=e;return{name:u,linkTo:e.url||e.internalurl,internalurl:v,externalurl:O,icon:{desktopImage:null===e||void 0===e||null===(t=e.icon)||void 0===t||null===(o=t.fields)||void 0===o||null===(i=o.desktopImage)||void 0===i||null===(a=i.fields)||void 0===a||null===(l=a.file)||void 0===l?void 0:l.url,mobileImage:null===e||void 0===e||null===(n=e.icon)||void 0===n||null===(d=n.fields)||void 0===d||null===(r=d.mobileImage)||void 0===r||null===(s=r.fields)||void 0===s||null===(c=s.file)||void 0===c?void 0:c.url}}},g=e=>{const{linkTo:t,icon:o={},title:i,externalurl:a}=e,{url:l}=b(o.fields);return{linkTo:t,url:l,title:i,externalurl:a}},S=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},I=e=>(null===e||void 0===e?void 0:e.title)===(null===i.a||void 0===i.a?void 0:i.a.COOKIES_SETTINGS)?Object(c.jsx)("span",{onClick:S,children:null===e||void 0===e?void 0:e.linkText}):null===e||void 0===e?void 0:e.linkText,f=e=>null===e||void 0===e?void 0:e.map((e=>{const t=e.internalurl,o=d()(t)?e.externalurl:null;return Object(c.jsxs)("li",{id:e.title,children:[(!d()(t)||(null===e||void 0===e?void 0:e.title)===(null===i.a||void 0===i.a?void 0:i.a.COOKIES_SETTINGS))&&Object(c.jsx)(r.b,{to:t,onClick:()=>Object(s.r)(null===e||void 0===e?void 0:e.linkText),children:I(e)}),!d()(o)&&Object(c.jsx)("a",{href:o,target:"",onClick:()=>Object(s.r)(null===e||void 0===e?void 0:e.linkText),children:e.linkText})]})}))},1163:function(e,t,o){"use strict";var i=o(3),a=o(62),l=o(28),n=o(211),d=o(5),r=o(132),s=o(80),c=o(235),u=o(61),v=o(1118),O=o(6),m=o(35),b=o(1138),j=o(402),p=o(15),h=o(396),g=o(85),S=o(0),I=o(409),f=o(2);const{CARD_TYPE:N}=n.MENU_PLP_CONSTANT,{heartIcon_active:C,heartIcon_activeFavourite:T,FavoriteInActiveWhite:E,heartIcon_inactive_red:x}=p.a,D=(e,t,o,i,a,l)=>e===N.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===N.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===N.SMALL?((e,t,o,i,a)=>e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||i||a)?"small-menu-product-card product-card-active":!e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,i,a,l):e===N.CAROUSAL?"carousal-menu-product-card":void 0,y=e=>e===N.LARGE?"menu-product-image":e===N.MEDIUM?"medium-menu-product-image":e===N.SMALL?"small-menu-product-image":e===N.CAROUSAL?"carousal-menu-product-image":void 0,A=(e,t,o,i,a)=>{let{timer:l,newitem:n,topseller:d,customlabelfield:r}=a;return e===N.LARGE?"menu-product-header":e===N.MEDIUM?"medium-menu-product-header":e===N.SMALL?t||o||i||l||n||d||r?"small-menu-product-header-shift small-menu-product-header":"small-menu-product-header":e===N.CAROUSAL?"carousal-menu-product-header":void 0},_=e=>e===N.LARGE?"menu-vegOrNonVeg":e===N.MEDIUM?"medium-menu-vegOrNonVeg":e===N.SMALL?"small-menu-vegOrNonVeg":e===N.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,R=e=>e===N.LARGE?"menu-product-price":e===N.MEDIUM?"medium-menu-product-price":e===N.SMALL?"small-menu-product-price":e===N.CAROUSAL?"carousal-menu-product-price":"",L=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",P=e=>e===N.LARGE?"menu-product-description":e===N.MEDIUM?"medium-menu-product-description":e===N.SMALL?"small-menu-product-description":e===N.CAROUSAL?"carousal-menu-product-description":"",w=(e,t)=>e?"cardButton "+t:"cardButtonOnly "+t,M=e=>{const{ADD_TO_CART:t}=c.a;let o=Object(O.translateWithI18Next)(t),i="",a=!0;return null!==e&&void 0!==e&&e.isStoreNone?(o="Store Closed",i="no-store-selected",a=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(o="Store Closed",i="store-closed",a=!1),{btnText:o,className:i,enabled:a}},k=(e,t,o,i)=>e?"".concat(((e,t)=>{let o,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case N.LARGE:o="menu-cart-button";break;case N.MEDIUM:o="medium-menu-cart-button";break;case N.SMALL:o="small-menu-cart-button";break;case N.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(i," ").concat(o)})(t,o)," ").concat(M(i).className):"button btn-black medium-menu-cart-button",F=(e,t,o,i,a,l)=>{let r;return r=l?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:l}):e||(t||(o?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:Object(O.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(f.jsx)("span",{"data-testid":"new-id",children:Object(O.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(d.ad)(a,Object(f.jsx)("span",{"data-testid":"topseller-id",children:Object(O.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null))),r},U=e=>e===N.CAROUSAL?C:T,H=e=>e===N.CAROUSAL?E:x,B=(e,t)=>Boolean(e)&&"recommended"!==t,W=(e,t)=>{let o;return o=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"price-display",children:"old price"}),Object(f.jsxs)("span",{className:"base-price-menu",children:[n.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),o};t.a=e=>{var t,o,n,c,O,p,C,T;const{cardId:E,cardType:x,discount:G,specials:V,exclusive:Y,timer:z,availability:K=[],nextAvailableTime:q,isAvailable:J,tenantData:Q,customizable:X,categoryId:Z,activeId:$,addFavourite:ee,removeFavourite:te,item:oe,isHidden:ie,cardFor:ae,setShowTopScrollBtn:le,userParams:ne,productContent:de,plpbackgroundImageData:re,viewUp:se}=e,ce=Object(d.od)(null===ne||void 0===ne?void 0:ne.localized,null===ne||void 0===ne?void 0:ne.loggedIn),ue=Object(r.b)(s.b),{QUANTITY_ACTION:ve}=u.a,Oe=Object(l.b)(),me=null===Q||void 0===Q?void 0:Q.tenantId,{componentOptions:be={}}=Q,{PlpProductCard:je={}}=be,{allowClickOnProductCard:pe=!1}=je,he=Object(l.c)((e=>e.cartReducer)),ge=Object(l.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:Se={},isAddItemLoading:Ie=!1}=Object(d.sd)(he),{discountTotal:fe,couponCode:Ne}=Object(d.zb)(Se),[Ce,Te]=Object(i.useState)(0),[Ee,xe]=Object(i.useState)(null),[De,ye]=Object(i.useState)(0),Ae=null===ge||void 0===ge?void 0:ge.id,_e=Object(l.c)((e=>{var t;return Object(d.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[Re,Le]=Object(i.useState)(!0),[Pe,we]=Object(i.useState)("product"),{flatResponse:{productMapByItemId:Me={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[ke,Fe]=Object(i.useState)(""),[Ue,He]=Object(i.useState)(0),[Be,We]=Object(i.useState)([]),[Ge,Ve]=Object(i.useState)(!1),[Ye,ze]=Object(i.useState)(""),[Ke,qe]=Object(i.useState)(!1),Je=Object(a.h)(),Qe=Object(l.c)((e=>e.storesReducer)),Xe=(null===Qe||void 0===Qe||null===(o=Qe.storesWithStatus)||void 0===o?void 0:o.length)&&(null===Qe||void 0===Qe||null===(n=Qe.storesWithStatus[0])||void 0===n||null===(c=n.summary)||void 0===c?void 0:c.timeZoneIANA),Ze=null===be||void 0===be||null===(O=be.web)||void 0===O||null===(p=O.global)||void 0===p?void 0:p.pricewithNumberofDecimalDigit,{userOrderStateDispatch:$e,userOrderState:et}=Object(i.useContext)(g.a),{timeBasedCetegory:tt,timeBasedAlertModalData:ot}=et,it=Object(l.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),at=Object(l.c)((e=>Object(d.sd)(e.storesReducer))),lt=null===be||void 0===be||null===(C=be.web)||void 0===C||null===(T=C.plp)||void 0===T?void 0:T.removeSingleItemInCartFromPLP,nt=(null===at||void 0===at?void 0:at.storesWithStatus)&&Object(I.b)(null===at||void 0===at?void 0:at.storesWithStatus[0]);Object(i.useEffect)((()=>{ae&&we(ae)}),[ae]),Object(i.useEffect)((()=>{const e=Object(d.Td)(Se)?Object(d.mc)(E,Se):{},t=Object(d.ad)(Object(d.Td)(e),e.count,0),o=Object(d.ad)(Object(d.Td)(e),e.matchedItemFoodLineId,""),i=Object(d.ad)(Object(d.Td)(e),e.entriesCount,0),a=Object(d.ad)(Object(d.Td)(e),e.itemUnitPrice,"");Te(t),xe(o),ye(i),He(a)}),[Se,E]);const dt=Object(i.useCallback)((()=>{Fe(D(x,pe,G,V,Y,z))}));Object(i.useEffect)((()=>{dt()}),[dt]);const rt=Object(i.useMemo)((()=>Object(d.ad)(re,re,{})),[re]);Object(i.useEffect)((()=>{Le(!0)}),[Ce]),Object(i.useEffect)((()=>{let e=Object(j.j)(null===Je||void 0===Je?void 0:Je.pathname);qe(e.showCateringflag)}),[null===Je||void 0===Je?void 0:Je.pathname]);const st=e=>{if(null!==Se&&void 0!==Se&&Se.id){let t=null===Se||void 0===Se?void 0:Se.foodLines.filter((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e}));We(t)}ze(e),Ve(!0)},ct=Object(d.hb)(Ie,$===E);return!ie&&!((e,t,o,i)=>((null===e||void 0===e?void 0:e.isReviewOrderClick)||(null===e||void 0===e?void 0:e.isCloseButtonClicked))&&Object(h.b)(t,o,i))(ot,it,nt,null===e||void 0===e?void 0:e.id)&&Object(f.jsx)(b.a,{...e,getCardTypeName:D,"data-testid":"MenuPlpTestId",allowClickOnProductCard:pe,getProductImageClassName:y,getSpecificRibbonBanner:F,favouriteItems:_e,classFavouriteIconActive:U,getCardName:ke,favouriteButtonClickHandler:()=>{Object(d.hb)(Array.isArray(_e),null===_e||void 0===_e?void 0:_e.find((e=>(null===e||void 0===e?void 0:e.id)===(null===oe||void 0===oe?void 0:oe.id))))?te(me,Ae,oe.id):(async(e,t,o,i)=>{var a;const l=Object(d.td)(null===(a=o[0])||void 0===a?void 0:a.price),n={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor),additionalProperties:t.additionalProperties};await ee(e,n,i),await Oe(Object(m.v)({showProductListingModal:!1,categorySelected:Z}))})(me,oe,K,Ae)},itemCount:Ce,classFavouriteIconInActive:H,getMenuProductHeader:A,getVegNonvegClassName:_,menuProductPriceClassName:R,checkForBasePriceInMenu:B,cardCat:Pe,displayPrice:W,getPriceClassName:L,menuProductDescriptionClassName:P,updateItemQuantity:(t,o)=>{var i;null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const a=Object(h.g)(null===e||void 0===e?void 0:e.cardId,null===it||void 0===it?void 0:it.flatResponse),l=Object(h.d)(E,tt);if(!Object(h.c)({categoryUrl:a,itemInCart:l,alertType:Object(h.j)(null===tt||void 0===tt?void 0:tt.timebasedItemInCart,null===S.Sb||void 0===S.Sb?void 0:S.Sb.ITEM),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.cardId},{...tt,menuData:it,foodLinesItems:(null===he||void 0===he||null===(i=he.cartData)||void 0===i?void 0:i.foodLines)||[]},$e)&&ne.localized){const e=Number((Ue/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor)).toFixed(2));let t={foodName:null===oe||void 0===oe?void 0:oe.name,foodItemId:null===oe||void 0===oe?void 0:oe.mdmId,cartPrice:e,modifiers:[],quantity:Ce,foodLineId:Ee};const{itemQuantityHandler:i,itemRemoveHandler:a}=Object(v.a)({cartId:null===Se||void 0===Se?void 0:Se.id},null===Q||void 0===Q?void 0:Q.tenantId,void 0,Me,void 0,Oe,void 0,ce,null===Q||void 0===Q?void 0:Q.currencyShortName,void 0,ue,Ne,fe,null===Q||void 0===Q?void 0:Q.currencyConversionFactor);o===ve.Increase?X&&Ce>=1?st(null===t||void 0===t?void 0:t.foodItemId):(!X&&Le(!1),i(t,ve.Increase)):De>1?st(null===t||void 0===t?void 0:t.foodItemId):(Le(!1),lt&&1===(null===t||void 0===t?void 0:t.quantity)?a(t):i(t,ve.Decrease))}},classesCardButton:w,classEnableAddToCart:k,enableAddToCartButton:Re,checkLoading:ct,menuCardBtnText:M,itemFoodlineId:Ee,openCostomizedModal:Ge,filteredPreviousData:Be,setOpenCostomizedModal:Ve,cartData:Se,CARD_TYPE:N,setShowTopScrollBtn:le,FoodId:Ye,plpbackgroundImageSrc:rt,storeTimeZone:Xe,showCateringflag:Ke,serves:null===de||void 0===de?void 0:de.serves,imageurl:null!==de&&void 0!==de?de:null===oe||void 0===oe?void 0:oe.content,nextAvailableTime:q,isAvailable:J,pricewithNumberofDecimalDigit:Ze,viewUp:se})}},1164:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var i=o(3),a=o(28),l=o(62),n=o(0),d=o(24),r=o(86),s=o(46),c=o(212),u=o(6),v=o(413),O=o(132),m=o(80),b=o(15),j=o(2);const p=e=>{var t,o,p,h,g,S;const{navRight:I,hamburgerComp:f,closeHamburger:N}=e,C=Object(a.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{showContentCards:T=!1,showNeedhelpModal:E}=Object(a.c)((e=>{var t,o,i;return(null===(t=e.tenantReducer)||void 0===t||null===(o=t.componentOptions)||void 0===o||null===(i=o.web)||void 0===i?void 0:i.global)||{}})),x=!(d.b.isGoogle&&null!==C&&void 0!==C&&C.loggedIn),D=Object(l.g)(),{LOGGEDIN_USER_SIGNIN_TEXT:y,GUEST_USER_SINGIN_TEXT:A,SIGN_IN_LINK:_}=c.a,[R,L]=Object(i.useState)(0),P=Object(O.b)(m.b),w=(null===P||void 0===P?void 0:P.brazeInitialized)&&(null===(t=window)||void 0===t||null===(o=t.appboy)||void 0===o||null===(p=o.getCachedContentCards())||void 0===p||null===(h=p.cards)||void 0===h||null===(g=h.filter((e=>!e.isControl&&!e.viewed)))||void 0===g?void 0:g.length),{Arrow_Icon:M}=b.a;Object(i.useEffect)((()=>{L(w)}),[w]);const k=()=>{null!==C&&void 0!==C&&C.loggedIn?(null===N||void 0===N||N(),D.push({pathname:n.Ce.ACCOUNT})):Object(r.c)()},F=e=>f?Object(u.translateWithI18Next)(A):null===e||void 0===e?void 0:e.name;return Object(j.jsx)("div",{className:"sign-in-container","data-testid":e["data-testid"],"data-id":(U=x,U?n.qb.HEADER_SIGN_IN_ATTR_DATA_ID:""),children:null===I||void 0===I||null===(S=I.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toUpperCase())===_})))||void 0===S?void 0:S.map((e=>Object(j.jsxs)("div",{className:"account-container","data-testid":"account-container",onClick:k,children:[Object(v.p)((null===e||void 0===e?void 0:e.url)||(null===e||void 0===e?void 0:e.imageUrl),"HEADER_SIGN_IN","account-icon"),T&&!!R&&(null===C||void 0===C?void 0:C.loggedIn)&&Object(j.jsx)("span",{className:"msg-badge",children:R}),Object(j.jsx)("span",{className:"sign-in-text".concat(""," ").concat(E?"":"not-cart-icon"),children:null!==C&&void 0!==C&&C.loggedIn?Object(u.translateWithI18Next)(y):F(e)}),f?Object(j.jsx)(s.a,{srcFile:M,className:"arrow"}):null]},null===e||void 0===e?void 0:e.title)))});var U}},1165:function(e,t,o){"use strict";o.d(t,"b",(function(){return te})),o.d(t,"c",(function(){return ie}));var i=o(3),a=o.n(i),l=o(210),n=o(28),d=o(6),r=o(146),s=o(395),c=o(5),u=o(80),v=o(263),O=o(46),m=o(15),b=o(1098),j=o(262),p=o(2);const h=e=>{let{upsizeInfo:t,upSizeHandler:o,itemSelected:i,customizable:a}=e;const l=e=>a?Object(p.jsx)("span",{className:"size-desc",children:e.itemDesc}):Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"size-desc size-desc-price",children:e.price}),e.calories&&Object(p.jsx)("span",{className:"size-desc size-desc-cal",children:e.calories})]});let n=(e,t,a,n)=>Object(p.jsxs)("div",{className:"modifier-size",children:[Object(p.jsxs)("div",{className:"size-info",children:[Object(p.jsx)("span",{className:"size-title",children:t}),l(a)]}),Object(p.jsxs)("picture",{onClick:()=>e!==i&&((e,t)=>{var i;o(e);const a={name:null===t||void 0===t?void 0:t.itemDesc,size:null===t||void 0===t||null===(i=t.itemDesc)||void 0===i?void 0:i.split(" ")[0]};Object(b.e)(a,j.a.ADDONS)})(e,a),"data-testid":"upsize-handler-id-".concat(n),children:[Object(p.jsx)("source",{media:"(max-width: 1023px)",srcSet:e===i?m.a.Check_Icon:m.a.Selection_Checkbox_off,alt:e===i?"checked":""}),Object(p.jsx)("img",{src:e===i?m.a.Check_Icon:m.a.Selection_Checkbox_off,alt:e===i?"checked":""})]})]},n);return Object(p.jsx)("div",{className:"sopac-upsize",children:Object(c.pc)(t)&&t.map(((e,t)=>{let{id:o,title:i,desc:a}=e;return n(o,i,a,t)}))})};var g=a.a.memo(h),S=o(0),I=o(4),f=o(85),N=o(1095),C=o(1167),T=o(1162);const E=()=>{const{headerData:{footer:e={}}={}}=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),t=Object(c.Wb)(e),{bodyContent:o={}}=Object(T.b)(t)||{},{categories:i=[]}=o,a=(e=>e.flatMap((e=>e.subCategories.filter((e=>e.internalurl===S.pc.NUTRITION_ALLERGEN_GUIDE_LINK)).map((e=>e.internalurl)))))(i),l=a[0],{ALLERGY_NUTRITION_TEXT:r}=j.a;return Object(p.jsx)("a",{className:"non-ala-carte-alert-link","data-testid":"nutritionAllergenLink1",href:l,type:"external",rel:"noreferrer",children:Object(d.translateWithI18Next)(r)})};var x=a.a.memo(E),D=o(1139),y=o(264),A=o(1123);const _=e=>!!e&&"".concat(Object(d.translateWithI18Next)(null===I.a||void 0===I.a?void 0:I.a.SERVES)," ").concat(e),R=e=>{var t,o,a,l,r,s,b,h,T,E,R,P,w;const{cardId:M,calories:k,customizable:F,price:U,upsizeInfo:H,upSizeHandler:B,showAddToCartButton:W,availability:G,isStoreClosed:V,kilojoule:Y,pdpCardObject:z,pdpPromoPage:K,storeTimeZone:q,modgrps:J,servesCount:Q,imageName:X}=e,Z=Object(n.b)(),$=Object(n.c)((e=>e.tenantReducer)),ee=Object(n.c)(u.b),{hiddenCouponDetails:te}=Object(n.c)((e=>e.cartReducer)),{storesWithStatus:oe}=Object(n.c)((e=>e.storesReducer)),[ie,ae]=Object(i.useState)({}),{userOrderState:le,userOrderStateDispatch:ne}=Object(i.useContext)(f.a),de=null===(t=null===X||void 0===X?void 0:X.hideAllergenInformation)||void 0===t||t,re=null===(o=null===X||void 0===X?void 0:X.hideNutritionInformation)||void 0===o||o,se=(null===(a=oe[0])||void 0===a||null===(l=a.summary)||void 0===l?void 0:l.timeZoneIANA)||Object(c.Vc)(),ce=null===$||void 0===$||null===(r=$.componentOptions)||void 0===r||null===(s=r.web)||void 0===s||null===(b=s.pdp)||void 0===b?void 0:b.showAllergyNutrition,ue=null===$||void 0===$||null===(h=$.componentOptions)||void 0===h||null===(T=h.web)||void 0===T||null===(E=T.pdp)||void 0===E?void 0:E.showPriceNonLocalized,{currencyConversionFactor:ve,currencySymbol:Oe}=$,me=null===$||void 0===$||null===(R=$.componentOptions)||void 0===R||null===(P=R.pdp)||void 0===P?void 0:P.redirectAllergyNutritionInfo,{userParams:be}=z,{nutritionAllergenHandler:je,showNutritionAllergenModal:pe}=(null===(he=e)||void 0===he?void 0:he.nutritionDetails)||{};var he;const{ALLERGY_NUTRITION_TEXT:ge,PDP_CHOOSE_STORE:Se,MODGROUPMAX:Ie,SELECTED_ITEM_NOT_AVAILABLE:fe,OUT_OF_STOCK_ITEM_TEXT:Ne}=j.a,Ce=e,{pdpPayloadData:Te}=le;z[Ie]=null===J||void 0===J||null===(w=J[0])||void 0===w?void 0:w.max,z[fe]=Object(c.jb)(null===Ce||void 0===Ce?void 0:Ce.isExcluded,Object(N.c)(Te)),z.itemId=M,Object(i.useEffect)((()=>{te&&Object(D.b)(null===te||void 0===te?void 0:te[0],ne,Z)}),[]),Object(i.useEffect)((()=>{ae(((e,t)=>e&&t&&Object(N.k)(e,t))(G,se))}),[G,se]);const Ee=(e,t)=>{var o,i,a,l,n;const r=ee[S.gd.VIEW_PRODUCT],s=[Object(N.k)(null===r||void 0===r||null===(o=r.priceDetails)||void 0===o||null===(i=o.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===i?void 0:i.availability,se)],c=(null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.promoPrice)<(null===s||void 0===s||null===(l=s[0])||void 0===l?void 0:l.price)?null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.promoPrice:0,u=c?{...null===s||void 0===s?void 0:s[0],price:c}:t;return c&&K?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{"data-testid":"pdp-promos-with-price",className:"pdp-promos-container with-price",children:[Object(p.jsx)(y.a,{src:m.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img"}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(d.translateWithI18Next)(I.a.PROMO_TEXT)}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(p.jsx)("del",{children:U(F,null===s||void 0===s?void 0:s[0],!1,q)})})]}),Object(p.jsx)("span",{className:"price-info",children:U(F,u,!1,q)})]}):K?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(y.a,{src:m.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(I.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price",children:U(F,t,!1,q)})]}):Object(p.jsx)("span",{className:"price-info","data-testid":"pdp-item-price",children:U(F,t,!1,q)})},xe=Object(p.jsx)("div",{className:"allergy-info",children:me?Object(p.jsx)(x,{}):Object(p.jsx)(v.a,{onClickHandler:je,className:"allergy-info-link","data-testid":"allergy-info",children:Object(d.translateWithI18Next)(ge)})}),De=Object(c.j)([null===be||void 0===be?void 0:be.localized,!V,H.length>0])?Object(p.jsx)(g,{upsizeInfo:H,upSizeHandler:B,itemSelected:M,customizable:F}):null,ye=Object(c.Cd)(null===Ce||void 0===Ce?void 0:Ce.modgrps)?Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(O.a,{srcFile:m.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Ne)})]}):null,Ae=Object(c.jb)(!(null!==be&&void 0!==be&&be.localized),V)&&Object(p.jsxs)("div",{className:"pdp-summary-cart-notification",children:[!!te.length&&Object(p.jsx)(L,{hiddenCouponDetails:te,currencySymbol:Oe,currencyConversionFactor:ve}),Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(O.a,{srcFile:m.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Se)})]})]}),_e=Object(c.hb)(ue,!V)&&Object(p.jsx)("div",{className:"price-kj-info",children:Ee(M,ie)}),Re=Object(c.hb)(null===be||void 0===be?void 0:be.localized,!V)&&Object(p.jsxs)("div",{className:"price-kj-info",children:[Ee(M,ie),Object(p.jsx)("span",{className:"kj-css",children:k&&Object(p.jsxs)("span",{className:"kj-info","data-testid":"pdp-kj-value",children:["".concat(k," ").concat(Y)," \xa0 ",_(Q)]})})]}),Le=Object(c.j)([W,null===be||void 0===be?void 0:be.localized,!V])&&Object(p.jsx)(A.a,{...z,pdpPromoPage:K}),Pe=Object(p.jsx)(C.a,{isMobile:z.isMobile,summaryData:Ce});return Object(p.jsxs)(p.Fragment,{children:[ue?_e:Re,ce&&(!de||!re)&&xe,De,Ae,ye,Le,pe&&Pe]})},L=e=>{var t,o;let{hiddenCouponDetails:i,currencySymbol:a,currencyConversionFactor:l}=e;const n=null===i||void 0===i||null===(t=i[0].itemDetails)||void 0===t||null===(o=t[0].availability)||void 0===o?void 0:o[0],r=Object(c.Xc)(n,l);return Object(p.jsxs)("div",{className:"price-kj-info",children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(y.a,{src:m.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(I.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price","data-testid":"price-container",children:"".concat(a).concat(r)})]})},P=e=>{let{summaryData:t,pdpPromoPage:o,storeTimeZone:i,nutritionAllergenHandler:a,showNutritionAllergenModal:l,handleCloseModal:n,setNutritionAllergenModalOpen:u}=e;const{pdpCardObject:v,comboData:O,customizable:m,makeItComboHandler:b,showMakeItComboButton:j}=t,h=Object(c.j)([!m,O>0,j])&&Object(p.jsx)(r.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(p.jsx)(s.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:b,children:Object(p.jsx)("span",{children:Object(d.translateWithI18Next)("makeItACombo")})})});return Object(p.jsx)("div",{className:"pdp-receipt-card",children:Object(p.jsxs)("form",{className:"pdp-receipt-form",onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[Object(p.jsx)("h1",{className:"pdp-receipt-header","data-testid":"pdp-item-name",children:null===v||void 0===v?void 0:v.dName}),Object(p.jsx)(R,{...t,pdpPromoPage:o,storeTimeZone:i,nutritionDetails:{nutritionAllergenHandler:a,showNutritionAllergenModal:l,handleCloseModal:n,setNutritionAllergenModalOpen:u}}),h]})})};var w=a.a.memo(P),M=o(145),k=o(1103),F=o(235),U=o(132),H=o(1140);const B=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name",W=(e,t,o,i,a,l,n)=>{const{REGULAR_SIZE_TITLE:r,REGULAR_SIZE_DESC:s,UPSIZE_TITLE:u,UPSIZE_DESC:v}=j.a;var O;l||null!==n&&void 0!==n&&n.isProductPromo||(t=null===(O=t)||void 0===O?void 0:O.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))));let m=[];if(e){var b,p;let e=((e,t)=>Object(c.Ec)(e[1].availability[0],t).toFixed(S.gg)-Object(c.Ec)(e[0].availability[0],t).toFixed(S.gg))(t,i);m=[{id:null===(b=t[0])||void 0===b?void 0:b.id,title:"".concat(Object(d.translateWithI18Next)(r)),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(s))}},{id:null===(p=t[1])||void 0===p?void 0:p.id,title:"".concat(Object(d.translateWithI18Next)(u)," (+").concat(o).concat((+e).toFixed(2),")"),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(v))}}]}else{let e={};t.forEach((t=>{let l=Object(c.Ec)(t.availability[0],i).toFixed(S.gg),n=Object(c.pd)(t.additionalProperties,S.F);e={id:t.id,title:B(t),desc:{price:l>0?"".concat(o).concat(l):"",calories:0===n?"":" ".concat(n," ").concat(a)}},m.push(e)}))}return m};var G=e=>{var t,o,a,l,r,s,v,O,m;const b=Object(n.b)(),[h,g]=Object(i.useState)(""),[I,C]=Object(i.useState)([]),[T,E]=Object(i.useState)({}),[x,D]=Object(i.useState)(!1),[y,A]=Object(i.useState)(!1),_=Object(n.c)((e=>e.tenantReducer)),{cartData:R}=Object(n.c)((e=>e.cartReducer))||{},L=Object(n.c)((e=>e.appStateReducer.userStatus)),P=Object(U.b)(u.b),{pdpData:G,customModGrps:V={},isIpad:Y,isMobile:z,comboData:K,isStoreClosed:q,isItemDecreased:J,quantityRemovedObject:Q,itemStatus:X,prodQuantity:Z,quantityUpdate:$,addtoCartClinckHandler:ee,setItemStatus:te,setProdQuantity:oe,storeTimeZone:ie,imageContainerSize:ae,pdpbackgroundImageData:le}=e,{dname:ne,additionalProperties:de={},availability:re,modgrps:se,catalogName:ce,customizable:ue,items:ve=[]}=G||{},{EXPAND_ACCORDIAN:Oe,IS_IN_STOCK:me,IS_OUT_OF_STOCK:be,OUT_OF_STOCK_TEXT:je,PDP_ITEM_UPSIZE_ID:pe}=j.a,he=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.pdp)||void 0===a?void 0:a.pdpCateringItemQuantityLimit,{TURNED_NO_RESULTS_TEXT:ge}=k.a,{veg:Se}=de,Ie=null===_||void 0===_||null===(l=_.componentOptions)||void 0===l||null===(r=l.web)||void 0===r||null===(s=r.global)||void 0===s?void 0:s.pricewithNumberofDecimalDigit,fe=null===_||void 0===_||null===(v=_.componentOptions)||void 0===v||null===(O=v.web)||void 0===O||null===(m=O.pdp)||void 0===m?void 0:m.skipZeroPriceCheck,{userOrderState:Ne,userOrderStateDispatch:Ce}=Object(i.useContext)(f.a),{eventAvailabilities:Te,fetchEventItemAvailability:Ee,getEventItemAvailability:xe,isEvent:De}=(Object(c.Sd)(null===Ne||void 0===Ne?void 0:Ne.dispositionNew)?JSON.parse(localStorage.getItem(S.gd.DISPOSITION_NEW)):null===Ne||void 0===Ne||Ne.dispositionNew,Object(H.a)()),{pdpScreenCommons:{currentAccordian:ye},pdpPromoPage:Ae,pdpDataForUpdateFoodLine:_e}=Ne;Object(i.useEffect)((()=>{((e,t,o)=>{var i;Object(c.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)&&o(null===(i=Object(c.Ub)(t))||void 0===i?void 0:i.id)})(V,se,g)}),[V,se]);const Re=()=>{if(X===be)return!1},Le=(e,t)=>{if(X===be)return!1;e&&(e.preventDefault(),e.stopPropagation()),Ce({type:Oe,value:t});const o=document.getElementById("accordion-"+t);null===o||void 0===o||o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),g(t)};Object(i.useEffect)((()=>(Ee(),()=>{Ce({type:Oe,value:""})})),[]),Object(i.useEffect)((()=>{Object(c.ad)(ye,Le(null,ye),"")}),[ye]);const Pe=e=>{Object(c.ad)(Re()?"":Re()),e.preventDefault()},we=e=>{Object(N.B)(e,he,oe)},Me=e=>{Ne.pdpItemUpsizeId!==e&&(Ce({type:pe,value:{pdpItemUpsizeId:e}}),b(Object(M.c)({tenantId:null===_||void 0===_?void 0:_.tenantId,catalogName:null===G||void 0===G?void 0:G.catalogName,itemId:e})))};Object(i.useEffect)((()=>{if(Object(c.Td)(G)){let e=ve.length>1?W(ue,ve,_.currencySymbol,_.currencyConversionFactor,_.kilojoule,Ae,_e):[];C(e)}}),[G]),Object(i.useEffect)((()=>{if(De){xe(null===G||void 0===G?void 0:G.id)?X===be&&te(me):te(be)}}),[Te,xe,De,null===G||void 0===G?void 0:G.id,R]);const ke=(e,t,o,i)=>{let a=Object(N.j)(t,null===_||void 0===_?void 0:_.currencyConversionFactor,o,null===G||void 0===G?void 0:G.id,i,P);if(!fe&&!e&&0===a)return te(be),Object(d.translateWithI18Next)(je);let l=(Math.round(a*S.hg)/S.hg).toFixed(Ie);return"".concat(null===_||void 0===_?void 0:_.currencySymbol).concat(l)};return Object(i.useEffect)((()=>{let t=void 0!==q,o=void 0!==h,i=[Object(c.Td)(G),Object(c.pc)(ve)>0,o,Array.isArray(I),(null===ce||void 0===ce?void 0:ce.length)>0,Object(c.Td)(_),t];if(Object(c.j)(i)){var a,l,n,d,r,s,u,v,O,m,b;const t=P[S.gd.VIEW_PRODUCT],{ITEM_QUANTITY:o}=F.a;let i={servesCount:null===G||void 0===G||null===(a=G.content)||void 0===a?void 0:a.serves,cardId:G.id,veg:Se,calories:null===G||void 0===G||null===(l=G.content)||void 0===l?void 0:l.caloricValue,modgrps:se,customizable:ue,isActive:h,setAsActiveLink:Le,isIpad:Y,makeItComboHandler:Pe,comboData:K,price:ke,catalogs:ce,upsizeInfo:I,upSizeHandler:Me,showAddToCartButton:null===_||void 0===_||null===(n=_.componentOptions)||void 0===n||null===(d=n.web)||void 0===d||null===(r=d.pdp)||void 0===r?void 0:r.addToCartButton,showMakeItComboButton:null===_||void 0===_||null===(s=_.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.makeItComboButton,pdpCardObject:{prodQuantity:Z,userParams:L,quantityUpdate:$,dName:B(G),maxItemCountPerLineItem:Object(N.o)(Ae,t,G.id,he),minItemCountPerLineItem:Object(N.p)(Ae,t,G.id,he),addtoCartClinckHandler:ee,itemStatus:X,currencySymbol:null===_||void 0===_?void 0:_.currencySymbol,currencyConversion:null===_||void 0===_?void 0:_.currencyConversionFactor,isMobile:z,itemQuantity:Object(N.n)(Ae,t,G.id,o),handleProdQuantityForCatering:we,defaultdisposition:null===_||void 0===_||null===(O=_.authoredContent)||void 0===O?void 0:O.defaultdisposition,isItemDecreased:J,quantityRemovedObject:Q,categoryId:null===e||void 0===e?void 0:e.categoryId},availability:G.availability,isStoreClosed:q,isItemDecreased:J,kilojoule:null===_||void 0===_?void 0:_.kilojoule,allergenDetails:null===G||void 0===G||null===(m=G.content)||void 0===m?void 0:m.allergenInformation,nutritionalDetails:null===G||void 0===G||null===(b=G.content)||void 0===b?void 0:b.nutritionalInformation,imageName:null===G||void 0===G?void 0:G.content,imageContainerSize:ae,pdpbackgroundImageData:le,isExcluded:null===G||void 0===G?void 0:G.isExcluded};E(i),D(!0)}}),[ne,re,Se,ce,h,se,X,z,Y,K,L,I,null===_||void 0===_?void 0:_.maxItemCountPerLineItem,Z,q,ve]),Object(c.ad)(x,Object(c.Td)(T)?Object(p.jsx)(w,{"data-testid":"pdp-summary-view",summaryData:T,pdpPromoPage:Ae,storeTimeZone:ie,nutritionAllergenHandler:()=>{A(!0)},showNutritionAllergenModal:y,handleCloseModal:()=>{A(!1)},setNutritionAllergenModalOpen:A}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.translateWithI18Next)(ge)}),"")};var V=e=>{const{longDescription:t,isMobile:o,dispositionType:a,currentPDPProduct:l}=e,{SHORT:n,READ_MORE:r,READ_LESS:s,LONG:u,MAX_LENGTH_READ:v,OUT_OF_STOCK_ITEM_TEXT:b}=j.a,[h,g]=Object(i.useState)(""),[S,I]=Object(i.useState)(n);Object(i.useEffect)((()=>{t&&g(t)}),[t]);const f=()=>{I(S===n?u:n)};return Object(p.jsxs)("div",{className:"pdp-desc",children:[Object(p.jsx)("div",{className:"d-flex mb-4 mobile-desc",children:Object(p.jsx)(O.a,{srcFile:o?m.a.StripsIconMobile:m.a.StripesIcon,className:"stripes-img"})}),Object(p.jsxs)("h2",{className:"pdp-desc-header mobile-desc","data-testid":"meal-menu-header",children:[" ",Y(d.translateWithI18Next,a)," "]}),Object(c.Cd)(null===l||void 0===l?void 0:l.modgrps)&&!o&&Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(O.a,{srcFile:m.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(b)})]}),o?Object(p.jsxs)("div",{className:"desc-box mobile-desc-text",children:[S===n?Object(c.Hf)(h,v,!1):h,(null===h||void 0===h?void 0:h.length)>v?Object(p.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:f,children:S===n&&Object(d.translateWithI18Next)(r)||Object(d.translateWithI18Next)(s)}):Object(p.jsx)(p.Fragment,{})]}):Object(p.jsx)("div",{className:"desc-box",children:h})]})};function Y(e,t){return e(Object(c.ad)(Object(c.Hd)(t),j.a.BUNDLE_OPTIONS,j.a.MEAL_OPTIONS))}var z=o(16),K=o(1170),q=o(61),J=o(1126),Q=o(35);var X=e=>{let{showLegalInfo:t,isMobile:o}=e;const{LEGALINFOTEXT1:i,LEGALINFOTEXT2:a}=I.a;return t?Object(p.jsx)("div",{className:"".concat(o?"pdp-mobile-legal-info-container":"pdp-legal-info-container"),"data-testid":"pdp-legal-info",children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"legal-info-desc",children:[Object(d.translateWithI18Next)(i),Object(p.jsx)("br",{}),Object(d.translateWithI18Next)(a)]})})}):Object(p.jsx)(p.Fragment,{})},Z=o(62),$=o(159),ee=o(1137);const te=(e,t,o,i)=>{let a={combo:[],recommendation:[],addOnRecommendedItems:[],ruleName:{}};if(Object(c.pc)(e)){var l,n;let d=e.find((e=>{let{recommendationType:o}=e;return o===t})),r=e.find((e=>{let{recommendationType:t}=e;return t===o}));a.combo=Object(c.ad)(Object(c.Td)(d),null===d||void 0===d?void 0:d.recommendedItems,[]),a.recommendation=Object(c.ad)(Object(c.Td)(r),null===r||void 0===r?void 0:r.recommendedItems,[]);let s=e.find((e=>{let{recommendationType:t}=e;return t===i}));a.ruleName=Object(N.r)(s);const u=null!==(l=null===s||void 0===s?void 0:s.recommendedItems)&&void 0!==l?l:[],v=null!==(n=null===s||void 0===s?void 0:s.restrictedItems)&&void 0!==n?n:[];a.addOnRecommendedItems=Object(c.ad)(Object(c.Td)(s),[...u,...v],[])}return a},oe=(e,t,o,i)=>{var a,l;const{PDP_PRODUCT_MOBILE_IMG:n,PDP_PRODUCT_IMG:d}=j.a,r=Object(c.qc)(null===e||void 0===e?void 0:e.content,o.containerWidth,o.containerHeight);return null!==e&&void 0!==e&&null!==(a=e.content)&&void 0!==a&&null!==(l=a.image)&&void 0!==l&&l.mainImage?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(O.a,{srcFile:r,className:"".concat(Object(c.ad)(t,n,d))})}):Object(p.jsx)(p.Fragment,{})},ie=(e,t,o,i,a,l,n,d,r,s,c)=>{a({type:i,value:Object(N.l)(e,t,o,l,n,d,r,s,c)})},ae=()=>Object(c.Cf)(Object(d.translateWithI18Next)(null===I.a||void 0===I.a?void 0:I.a.PREFERENCES_ERROR_MSG)),le=()=>Object(p.jsx)("div",{className:"pdp-custm-sopac",children:Object(p.jsx)("div",{className:"modal-body-row product-listing-component",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})}),Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})})]})})}),ne=(e,t)=>{const{PDP_CUSTOMIZATION_PAGE:o,PDP_NON_CUSTOMIZATION_PAGE:i}=j.a,a=Object(c.hb)(Object(c.Hd)(e),!t)||t;return Object(c.ad)(a,o,i)},de=(e,t,o,i,a,l)=>Object(c.pc)(t)?Object(p.jsx)(K.a,{products:t,country:null===i||void 0===i?void 0:i.country,cssClass:"pdp-combo",header:o,subHeader:"",recommendedRule:e,source:a,categoryId:l.categoryId}):null,re=(e,t,o,i,a,l,n,d)=>{const{event:r,data:s,miniPDPData:u,totalAmount:v,cartId:O,pdpDataForUpdateFoodLine:m,cartData:b,storesWithStatus:j}=e;if(O&&r){const{paymentDiscountLines:o=[]}=b;null!==o&&void 0!==o&&o.length?(e=>{let{setCouponModal:t,parms:o,setAddToClickParms:i}=e;t(!0),i(o)})({setCouponModal:n,parms:e,setAddToClickParms:l}):(t(r,s,u,O,v,m,b),l({}))}else!O&&r&&(l(e),Object(c.B)(o,null===i||void 0===i?void 0:i.tenantId,a,j))},se=function(e,t,o,i,a){var l;let n=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?a.length>=0:0===a.length;if((null===e||void 0===e||null===(l=e.discountLines)||void 0===l?void 0:l.length)>0&&(d||n))return t&&(null===e||void 0===e?void 0:e.discountLines.some((e=>e.couponCode===o)))&&Object(c.Bd)(i)},ce=(e,t)=>{const{pdpData:o,isMobile:i,imageContainerSize:a,isPdpDataLoading:l,pdpbackgroundImageData:n,displayBreadcrumbPDP:d,currentPDPProduct:r,pdpSummaryView:s}=e;return Object(p.jsxs)("div",{className:"".concat(i?"pdp-mobile-image-container-sopac":"d-flex"),children:[Object(p.jsx)("div",{className:"".concat(i?"mobile-background-image-container":"image-container"),style:Object(c.mb)(n,a.containerWidth,a.containerHeight),children:oe(o,i,a)}),i&&Object(p.jsx)("div",{className:"pdp-mobile-navigation",children:Object(N.b)(d,null===t||void 0===t?void 0:t.allowHiddenMenuViaExternalUrl,r.isHidden)}),r.modgrps&&s()]})};t.a=e=>{var t,o,a,r,s,v,b,h,g,C,T,E,x,D,y,A,_,R;let{menuPDPItemData:L}=e;const{productDetails:P,tenantData:w,isMobile:k,displayBreadcrumbPDP:F,isIpad:H,product_name:B,isStoreClosed:W,prodName:Y="",prodItems:te=[],showLegalInfo:oe,dispositionType:ue,prodURL:ve,imageContainerSize:Oe,indulgentImageContainerSize:me,storeTimeZone:be,categoryName:je,categoryUrl:pe,catalogs:he,updatedFetchMenuPayload:ge}=L,{ADD_TO_CART_CLICK:Se,DISPOSITION_DATA:Ie}=z.a,{CUSTM_EXPAND_TYPE:fe,CROSSELL:Ne,PDP:Ce,IS_IN_STOCK:Te,PDP_PAYLOAD_DATA:Ee,RESET_MODGROUP_IDS_UPDATE:xe,RESET_CUSTOMIZATION:De,CUSTOMISE_FLAG_CART:ye,SET_PDP_BUTTON_DISABLED:Ae,SHOW_PDP_ALERT_POPUP:_e}=j.a,{RECOMMENDED_HEADER_TITLE:Re,RECOMMENDED_HEADER_TITLE_CATERING:Le,ADD_TO_CART:Pe,INDULDENT_ADD_ON_MSG:we,INDULDENT_ADD_ONS_HEADING:Me,CONTINUE:ke}=I.a,[Fe,Ue]=Object(i.useState)({}),[He,Be]=Object(i.useState)(),[We,Ge]=Object(i.useState)([]),[Ve,Ye]=Object(i.useState)([]),ze=Object(n.c)((e=>e.tenantReducer)),{allowMultipleCoupon:Ke}=ze,[qe,Je]=Object(i.useState)({}),{userOrderState:Qe,userOrderStateDispatch:Xe}=Object(i.useContext)(f.a),{headerData:{pdpBackgroundImage:Ze={},pdpEventBackgroundImage:$e={}}={}}=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),et=Object(U.b)(u.b),{dispositionNew:tt}=et,ot=Object(c.Vd)(null===tt||void 0===tt?void 0:tt.type)?$e:Ze,it=Object(c.lb)(ot),{pdpPayloadData:at,isFromRecommendedSectionItemClick:lt,pdpPromoPage:nt,pdpDataForUpdateFoodLine:dt}=Qe,rt=Object(n.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),st=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),[ct,ut]=Object(i.useState)({}),[vt,Ot]=Object(i.useState)(0),[mt,bt]=Object(i.useState)(Te),[jt,pt]=Object(i.useState)({}),ht=Object(n.c)((e=>e.appStateReducer.userStatus)),{QUANTITY_ACTION:gt,EDIT_ITEM:St}=q.a,It=Object(n.c)((e=>e.cartReducer)),{cartData:ft={},isItemAdded:Nt=!1}=Object(c.sd)(It),{storesWithStatus:Ct}=Object(n.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},Tt=Object(n.b)(),Et=Object(Z.g)(),xt=null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.pdp)||void 0===a?void 0:a.showCrossSellSection,Dt=null===w||void 0===w||null===(r=w.componentOptions)||void 0===r||null===(s=r.web)||void 0===s||null===(v=s.pdp)||void 0===v?void 0:v.plpRedirectionPromoItem,yt=null===w||void 0===w||null===(b=w.componentOptions)||void 0===b||null===(h=b.web)||void 0===h||null===(g=h.pdp)||void 0===g?void 0:g.plpRedirectionWithaddOnItem,At=null===ft||void 0===ft||null===(C=ft.foodLines)||void 0===C?void 0:C.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id})),_t=(null===ft||void 0===ft||null===(T=ft.foodLines)||void 0===T?void 0:T.length)>0&&(null===Ve||void 0===Ve?void 0:Ve.filter((e=>!At.includes(e.id)))),Rt=(null===w||void 0===w||null===(E=w.componentOptions)||void 0===E||null===(x=E.web)||void 0===x||null===(D=x.pdp)||void 0===D?void 0:D.shouldFilterRecommendationListWithCartData)&&(null===ft||void 0===ft||null===(y=ft.foodLines)||void 0===y?void 0:y.length)>0?_t:Ve,Lt=Object(i.useMemo)((()=>{var e;return Object($.b)(null===Et||void 0===Et||null===(e=Et.location)||void 0===e?void 0:e.pathname)?Le:Re}),[null===Et||void 0===Et||null===(A=Et.location)||void 0===A?void 0:A.pathname]),Pt=Object(c.od)(null===ht||void 0===ht?void 0:ht.localized,null===ht||void 0===ht?void 0:ht.loggedIn),{couponCode:wt="",discountTotal:Mt=""}=Object(c.zb)(ft),[kt,Ft]=Object(i.useState)([]),[Ut,Ht]=Object(i.useState)(!1),Bt=Object(n.c)((e=>{var t;return null===(t=e.menuReducer)||void 0===t?void 0:t.isItemDetailsLoading})),[Wt,Gt]=Object(i.useState)({}),[Vt,Yt]=Object(i.useState)(!1),[zt,Kt]=Object(i.useState)({}),[qt,Jt]=Object(i.useState)(!1),Qt=JSON.parse(sessionStorage.getItem(S.Ne.INDULGENT_ADDONS_CART_CLICK)),Xt=Object(U.a)(),Zt=Object(U.b)(u.b),[$t,eo]=Object(i.useState)(""),[to,oo]=Object(i.useState)([]),io=Object(c.fb)(ze),ao=null===(_=Object(c.Jf)(ft,io))||void 0===_?void 0:_[null===P||void 0===P?void 0:P.productId];Object(i.useEffect)((()=>(Xe({type:fe,value:"single"}),()=>{Ue({}),Xe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!1})})),[]),Object(i.useEffect)((()=>{se(ft,Dt,$t,Et,kt)}),[null===ft||void 0===ft?void 0:ft.discountLines,kt]),Object(i.useEffect)((()=>{let e={productDetails:P,currentItemObject:rt,prodURL:ve,product_name:B,pdpDataForUpdateFoodLine:dt,cartData:ft,prodName:Y,prodItems:te,pdpPromoPage:nt,setPdpData:Ue,userOrderStateDispatch:Xe,setMakeItAComboData:Ge,setRecommendationData:Ye,setAddOnRecommendedData:Ft,setCurrentPDPProduct:Je,setProdQuantity:Ot,setRuleName:Kt,getPWAstorageData:Zt};Object(N.F)(e)}),[null===rt||void 0===rt?void 0:rt.id,P,nt]);const lo=(e,t,o)=>{o.preventDefault(),o.stopPropagation(),t===gt.Decrease&&vt>1&&(Ot(vt-1),Yt(!0)),t===gt.Increase&&(Ot(vt+1),Object(N.e)(vt,nt,Fe,et))},no=(e,t,o,i,a,l,n)=>{e.stopPropagation(),e.preventDefault();re({event:e,data:t,miniPDPData:o,cartId:i,totalAmount:a,pdpDataForUpdateFoodLine:l,cartData:n,storesWithStatus:Ct},ro,Tt,w,Qe,Gt,Jt)},ro=async(e,t,o,i,a,l,n)=>{var d,r,s,v;e.preventDefault();const O=(null===Ct||void 0===Ct||null===(d=Ct[0])||void 0===d||null===(r=d.summary)||void 0===r||null===(s=r.menu)||void 0===s||null===(v=s.catalogs)||void 0===v?void 0:v[0])||he;if(Tt(Object(M.d)({tenantId:null===w||void 0===w?void 0:w.tenantId,catalogName:O},ge)),sessionStorage.removeItem(S.Ne.INDULGENT_ADDONS_CART_CLICK,!0),ht.localized){let e=Object(N.m)(t),{id:d,modGrps:r,quantity:s}=e;if(pt({id:d,itemCount:s,totalAmount:a}),(null===o||void 0===o?void 0:o.flag)!==ye){const t=et[S.gd.VIEW_PRODUCT],o=null===t||void 0===t?void 0:t.couponCode;eo(o),o?(Tt(Object(Q.a)({params:{basketId:null===n||void 0===n?void 0:n.id},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,isProductPromo:nt,categoryName:je,categoryUrl:pe}],(()=>{Tt(Object(Q.b)({basketId:null===n||void 0===n?void 0:n.id,tenantId:null===w||void 0===w?void 0:w.tenantId},{couponCode:o}));let e={};e[o]=o,localStorage.setItem(S.gd.ADD_TO_ORDER,JSON.stringify(e)),Xe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),Ot(Object(N.t)(nt,null===Fe||void 0===Fe?void 0:Fe.id,l,n,et)),!Ke&&Object(c.uf)({key:_e,value:!0},Xt)}))),Ot(Object(N.t)(nt,null===Fe||void 0===Fe?void 0:Fe.id,l,n,et))):(oo(Qe),await Tt(Object(Q.a)({params:{basketId:i},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,categoryName:je,categoryUrl:pe}])),Ot(1)),Ht(!0)}else Tt(Object(Q.y)({params:{basketId:i,basketLineItemId:null===o||void 0===o?void 0:o.foodLineId},tenantId:null===w||void 0===w?void 0:w.tenantId},{Id:d,quantity:s,modGrps:r,isProductPromo:null===o||void 0===o?void 0:o.isProductPromo,categoryName:je,categoryUrl:pe},(()=>{Xt(Object(u.d)({key:S.gd.CUSTOMISE_ITEM_CART,value:!0})),null===Et||void 0===Et||Et.push({pathname:S.Ce.CART})})));window.scrollTo(0,0)}else Xe({type:Ie,value:{showDisposition:!0}}),Xe({type:Se,value:{addToCart:!0,productItemId:null===P||void 0===P?void 0:P.productId,categoryId:null===P||void 0===P?void 0:P.categoryId,oldProduct:null===P||void 0===P?void 0:P.productInfo,customizable:null===P||void 0===P?void 0:P.customizable,catalogs:null===P||void 0===P?void 0:P.catalogName,fromPdpPage:!0}})};Object(i.useEffect)((()=>{!Qt&&(e=>{var t,o;const{flatResponseData:i,analyticObjectData:a,tenantData:l,couponCode:n,discountTotal:d,isFromRecommendedSectionItemClick:r,isItemAdded:s,userType:u,modifierData:v}=e,O=null===v||void 0===v||null===(t=v.dispositionStateData)||void 0===t?void 0:t.dispositionType,m=null===i||void 0===i||null===(o=i.itemMapById)||void 0===o?void 0:o[null===a||void 0===a?void 0:a.id],{name:b="",availability:j,id:p,categoryName:h,categoryId:g}=Object(c.sd)(m),I=Object(c.Ub)(j);if(s){let{baseItemsCstmz:e,saucesCstmz:t,sidesCstmz:o,drinksCstmz:i,customizedPrice:m}=Object(c.F)(v);e=Object(c.te)(e),t=Object(c.te)(t),o=Object(c.te)(o),i=Object(c.te)(i);const j=[{item_name:b,item_id:p,price:Object(c.Z)(null===I||void 0===I?void 0:I.price,m,null===l||void 0===l?void 0:l.currencyConversionFactor),coupon:n,currency:null===l||void 0===l?void 0:l.currencyShortName,discount:Object(c.g)(d,null===l||void 0===l?void 0:l.currencyConversionFactor),item_category:h,item_list_name:Object(c.ad)(r,S.p.PDP_UPSELL,h),item_list_id:g,index:0,quantity:null===a||void 0===a?void 0:a.itemCount,originalPrice:Object(c.Ec)(I,null===l||void 0===l?void 0:l.currencyConversionFactor).toString(),baseItemsCustomisation:e,saucesCustomisation:t,sidesCustomisation:o,drinksCustomisation:i}];Object(c.sb)(r,Object(c.Hd)(localStorage.getItem(S.gd.DISPOSITION_TYPE)),Object(c.Jd)(localStorage.getItem(S.gd.DISPOSITION_TYPE))||Object(c.ge)(localStorage.getItem(S.gd.DISPOSITION_TYPE))||Object(c.Vd)(localStorage.getItem(S.gd.DISPOSITION_TYPE)))&&Object(N.a)(s,a,u,j,n,O,null===l||void 0===l?void 0:l.currencyShortName)}})({flatResponseData:st,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:lt,isItemAdded:Nt,userType:Pt,modifierData:to})}),[st,jt,w,wt,Mt,lt,Nt,Pt,Qt]),Object(i.useEffect)((()=>{ut({flatResponseData:st,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:lt,isItemAdded:Nt,userType:Pt})}),[Vt]);const so=e=>{let t=Object(p.jsx)(O.a,{srcFile:null===m.a||void 0===m.a?void 0:m.a.tickWhiteToast});Object(c.Df)(Object(d.translateWithI18Next)(we),t,"pdp-indulgent-toast pdp-modal-toast");let o=kt.filter((t=>!e.includes(null===t||void 0===t?void 0:t.id)));Ft(o),(null===kt||void 0===kt?void 0:kt.length)<=0&&Ht(!1)},co=()=>{Ht(!1),se(ft,Dt,$t,Et,kt,yt,!0)};Object(i.useEffect)((()=>{let e={pdpData:Fe,prodQuantity:vt,tenantData:w,PDP_PAYLOAD_DATA:Ee,userOrderStateDispatch:Xe,pdpPromoPage:nt,storeTimeZone:be,pdpDataForUpdateFoodLine:dt,cartData:ft,getPWAstorageData:Zt};Object(N.h)(e)}),[JSON.stringify(Fe),w.currencyConversionFactor,nt,vt,be]),Object(i.useEffect)((()=>{Object(N.i)(at,vt,null===Fe||void 0===Fe?void 0:Fe.id,Xe),Xe({type:j.a.CART_MODIFIED_DATA,value:at})}),[vt,at]),Object(i.useEffect)((()=>{var e,t;Nt&&(Xe({type:De}),Xe({type:xe}),ie(Fe,1,w.currencyConversionFactor,Ee,Xe,nt,be,dt,ft,Zt,null===w||void 0===w||null===(e=w.componentOptions)||void 0===e||null===(t=e.pdp)||void 0===t?void 0:t.enableDefaultModifierCalculation));Xe({type:Ae,value:{}})}),[Nt,null===Fe||void 0===Fe?void 0:Fe.catalogName]),Object(i.useEffect)((()=>{re({...Wt,cartId:null===ft||void 0===ft?void 0:ft.id,cartData:ft,pdpDataForUpdateFoodLine:dt,storesWithStatus:Ct},ro,Tt,w,Qe,Gt)}),[null===ft||void 0===ft?void 0:ft.id]);const uo={pdpData:Fe,isMobile:k,imageContainerSize:Oe,isPdpDataLoading:Bt,pdpbackgroundImageData:it,displayBreadcrumbPDP:F,currentPDPProduct:qe,pdpSummaryView:()=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(G,{pdpData:Fe,storeTimeZone:be,isMobile:k,isIpad:H,addtoCartClinckHandler:no,customModGrps:He,categoryId:P.categoryId,comboData:null===We||void 0===We?void 0:We.length,itemStatus:mt,prodQuantity:vt,setProdQuantity:Ot,quantityUpdate:lo,setItemStatus:bt,isItemDecreased:Vt,quantityRemovedObject:ct,isStoreClosed:W,imageContainerSize:Oe,pdpbackgroundImageData:it,"data-testid":"add-to-cart-handler"})})};return Object(c.Td)(Fe)&&Object(c.Td)(qe)&&Object(c.Td)(w)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"grid-container",children:[!k&&Object(p.jsx)("div",{className:"pdp-navigation pdp-navigation-sopac",id:"pdp-navigation-sopac",children:Object(N.b)(F,null===w||void 0===w?void 0:w.allowHiddenMenuViaExternalUrl,qe.isHidden)}),Object(p.jsx)("div",{className:"".concat(Object(c.ad)(k,"pdp-mobile-container ","pdp-details-container-sopac")),children:ce(uo,w)})]}),Object(p.jsx)("div",{style:{backgroundColor:"white"},children:Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{"data-testid":"pdp-desc-container",className:"pdp-desc-container-sopac ".concat(Object(c.ad)(k,"mobile","")),children:!!Object(c.Td)(qe)&&Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsx)(V,{longDescription:null===qe||void 0===qe||null===(R=qe.content)||void 0===R?void 0:R.longDescription,isMobile:k,dispositionType:ue,currentPDPProduct:qe})})}),Object(c.hb)(Object.prototype.hasOwnProperty.call(at,"id"),void 0!==W)&&Object(p.jsx)("div",{className:"".concat(j.a.PDP_CUSTOM_CONTAINER," ").concat(Object(c.hb)(k,S.Ye)),children:Object(p.jsx)("div",{className:"d-flex",children:Bt&&Object(p.jsx)(le,{})||Object(p.jsx)(l.a,{testId:"menu-pdp-customization-container-test",data:qe,isModal:!1,showPriceContent:!1,isMobile:k,customizable:Fe.customizable,localized:ht.localized,isStoreClosed:W,callBackToPDP:e=>{const{modifierGrp:t={}}=e;Be(t)},catalog:Fe.catalogName,categoryId:P.categoryId,importPath:ne(ue,Fe.customizable)})})}),Object(p.jsx)(X,{showLegalInfo:oe,isMobile:k}),Object(c.hb)(xt,(null===Rt||void 0===Rt?void 0:Rt.length)>0)&&(vo=Rt,Oo=Lt,mo="",bo="pdp-recommendations",Object(p.jsx)(K.a,{products:vo,country:null===w||void 0===w?void 0:w.country,cssClass:bo,header:Oo,subHeader:mo,recommendedRule:Ne,source:Ce,categoryId:P.categoryId})),(null===kt||void 0===kt?void 0:kt.length)>0&&Object(p.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:Object(p.jsx)(ee.a,{isMobile:k,openIndulgentModal:Ut,handleClose:co,removeItemCart:!1,IndulgentData:kt,imageContainerSize:me,modalTitle:Me,continueButtonText:ke,toastMassage:we,callBackMethod:so,productId:null===P||void 0===P?void 0:P.productId,ruleNameDetails:zt,"data-testid":"indulgetAddon-modal",addToCart:Pe,errorBackMethod:ae,isRestrictedDisabled:null===ao||void 0===ao?void 0:ao.isAddonsNotAddable})})]})}),de(Ne,We,Object(d.translateWithI18Next)(Lt),w,Ce,P),qt&&Object(p.jsx)(J.a,{addtoCartClinckHandler:ro,setCouponModal:Jt,setAddToClickParms:Gt,addToClickParms:Wt,flag:St})]}):Object(p.jsx)("div",{className:"d-flex justify-content-center no-results-section"});var vo,Oo,mo,bo}},1166:function(e,t,o){"use strict";o.d(t,"a",(function(){return D}));var i=o(3),a=o(62),l=o(28),n=o(2);var d=e=>{const{className:t,clickNextCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler-sopac"})};var r=e=>{const{className:t,clickPrevCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler-sopac"})},s=o(1163),c=o(35),u=o(85),v=o(16),O=o(5),m=o(24),b=o(0),j=o(262),p=o(1096),h=o(1125);var g=e=>{var t,o,i;const{cardRenderer:a,productList:l,carousal:d,header:r="",subHeader:s="",settings:c,maxLengthToScroll:u,slidesToShow:v,rangeValue:m,onUpdateRange:b,showProductListingModal:j,isMobile:g,recommendedRule:S,flagUpsellCrossell:I,tenantData:f}=e,N=null===f||void 0===f||null===(t=f.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.pdp)||void 0===i?void 0:i.shouldShowRecommendationCardCount;return Object(n.jsxs)(n.Fragment,{children:[Boolean(null===l||void 0===l?void 0:l.length)&&Object(n.jsxs)("div",{className:Object(O.c)(),"data-testid":"recommendedCard-container-test",children:[Object(n.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(n.jsxs)("div",{className:s?"pdp-carousal-header":"recommendedContainer-header",children:[Object(n.jsx)("span",{className:"main-header",children:r}),s&&Object(n.jsx)("span",{className:"sub-header",children:s})]}),N&&Object(n.jsxs)("span",{className:"count_box",children:[Math.round(m+1),"/",l.length]})]}),Object(n.jsxs)("div",{className:"recommendedCard-list",children:[Object(n.jsx)("div",{className:"recommendedCarousal-list",children:Object(n.jsx)(p.b,{settings:c,carousalRef:d,children:a()})}),l.length>u&&Object(n.jsx)("div",{className:"recommended-slideContainer",children:Object(n.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:l.length-v,value:m,id:"myRange","data-testid":"myRange",onChange:b})})]})]}),Object(O.hb)(j,S===I)&&Object(n.jsx)("div",{className:"pdp-custm-container ".concat(g?"mobile":""),children:Object(n.jsx)("div",{className:"d-flex",children:Object(n.jsx)(h.a,{})})})]})},S=o(1137),I=o(1098),f=o(1118),N=o(1177),C=o(80),T=o(132);const{PLP_PDP_DETAILS:E}=v.a,{PDP:x}=j.a,D=(e,t,o)=>{let i="recommended-card recommended-card-sopac";return e===t+o&&(i+=" recommendedCard-fade"),i};t.b=e=>{var t,o,v,p,h;const{PDP_RECOMMENDATIONS:y,CAROUSAL_CONFIG:A,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:_,FADE_CARD_INDEX:R}=N.a,{SPEED:L,SLIDES_TO_SHOW:P,SLIDES_TO_SCROLL:w}=A,{PDP_SLIDES_TO_SHOW:M,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:k,PDP_SLIDES_TO_SHOW_1024:F}=y,{products:U,storeClosedData:H,header:B="",subHeader:W="",cssClass:G="",recommendedRule:V,source:Y=""}=e,[z,K]=Object(i.useState)(0),[q,J]=Object(i.useState)(0),Q=Object(i.useRef)(null),[X,Z]=Object(i.useState)(Object(O.de)(window.innerWidth)),[$,ee]=Object(i.useState)(Object(O.be)()),{userOrderState:te,userOrderStateDispatch:oe}=Object(i.useContext)(u.a),ie=Object(l.b)(),ae=Object(T.a)(),{maxLengthToScroll:le,slidesToShow:ne}=((e,t,o,i,a,l,n)=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?l:o,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?t&&n||i:a}))(G,$,_,M,P,k,F),{dispositionStateData:de=b.eg}=te,{dispositionType:re=localStorage.getItem("dispositionType")}=de,[se]=Object(i.useState)(),ce=Object(a.g)(),{tenantReducer:ue,cartReducer:ve,userParams:Oe}=Object(l.c)((e=>({tenantReducer:Object(O.sd)(e.tenantReducer),cartReducer:Object(O.sd)(e.cartReducer),userParams:Object(O.sd)(e.appStateReducer.userStatus)}))),{cartData:me={}}=Object(O.sd)(ve),{showProductListingModal:be=!1}=Object(O.sd)(ve),je=Object(a.h)(),{PlpProductCard:pe=b.eg}=(null===ue||void 0===ue?void 0:ue.componentOptions)||b.eg,he=Object(O.Sd)(te.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):te.dispositionNew,ge=he?he.store:b.eg,Se=(null===ge||void 0===ge||null===(t=ge.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(v=o.catalogs)||void 0===v?void 0:v.length)&&(null===ge||void 0===ge||null===(p=ge.summary)||void 0===p||null===(h=p.menu)||void 0===h?void 0:h.catalogs[0])||(null===ue||void 0===ue?void 0:ue.genericMenuName)||"",Ie=null===U||void 0===U?void 0:U.filter((e=>!e.isHidden)),fe=Y===x?Ie:null===Ie||void 0===Ie?void 0:Ie.filter((e=>{let t=m.b.channel,o=(e=>{let t=b.fe;return e===b.Bb&&(t=b.yb),e===b.Fb&&(t=b.Eb),t})(re);return e.channel===t&&e.service===o})),{headerData:{pdpBackgroundImage:Ne={}}={}}=Object(l.c)((e=>{var t;return Object(O.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),Ce=Object(O.lb)(Ne),{showCartAlert:Te}=Object(f.a)(void 0,void 0,void 0,void 0,oe,ie,void 0),Ee=()=>{Te(!0)},xe={dots:!1,infinite:!1,speed:L,slidesToShow:ne,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:N.b},De=()=>{const e=Object(O.de)(window.innerWidth),t=Object(O.be)();Z(e),ee(t)};Object(i.useEffect)((()=>{window.addEventListener("resize",De)}),[X]);const ye={...xe,nextArrow:Object(n.jsx)(d,{clickNextCard:()=>{if(q<fe.length-1){let e=0;e=q+w>fe.length-ne-1?fe.length-ne:q+w,Object(S.b)(e),J(e),Q.current.slickGoTo(e)}}}),prevArrow:Object(n.jsx)(r,{clickPrevCard:()=>{q>0&&(J(q-w),Q.current.slickGoTo(q-w)),Object(S.b)(q-w)}}),beforeChange:(e,t)=>K(t),afterChange:(e,t)=>J(e)},Ae=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{let e=Object(O.dd)(Ae,te);Object(O.hb)(e,se===V)&&ie(Object(c.v)({showProductListingModal:!0,categorySelected:""}))}),[Ae,te.minipdpData.itemId,te.cartEditClicked]),Object(i.useEffect)((()=>{be&&ie(Object(c.v)({showProductListingModal:!1,categorySelected:""}))}),[je]);const _e=(e,t,o,i,a)=>{var l,n,d;e.preventDefault(),e.stopPropagation(),null===(l=window)||void 0===l||l.scrollTo(0,0);let r={productId:t,customizable:o,categoryId:i,catalogName:Se,productInfo:a,isFromPlp:!0};const s=fe.map((e=>e.id)).indexOf(t),{categoryURL:c,productPrice:u,productName:v}=a;oe({type:E,value:r}),oe({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}});const{localized:m=!1,loggedIn:p=!1}=Object(O.sd)(Oe),h=Object(O.od)(m,p),g=Object(O.Hb)(me),{couponCode:S="",amount:f=""}=Object(O.sd)(g),N=[{item_name:null===(n=v[0])||void 0===n?void 0:n.value,item_id:t,price:u,coupon:S,discount:f,currency:b.p.AUD,item_category:c&&c[0],item_list_name:b.p.PDP_UPSELL,item_list_id:b.p.SR_VALUE,index:s,quantity:1}];Object(I.b)(h,N),localStorage.setItem(b.gd.PRODUCT_DETAILS,JSON.stringify(r)),oe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),oe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),ae(Object(C.c)({key:b.gd.VIEW_PRODUCT})),ce.push({pathname:Object(O.xc)(a.categoryURL,a.prodURL,null===ce||void 0===ce||null===(d=ce.location)||void 0===d?void 0:d.pathname)})},Re=((e,t)=>{var o,i;const a=null===e||void 0===e||null===(o=e.foodLines)||void 0===o?void 0:o.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id}));return(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length)>0?null===t||void 0===t?void 0:t.filter((e=>!a.includes(e.id))):t})(me,fe),Le=e=>"False"!==e&&e;return Boolean(null===fe||void 0===fe?void 0:fe.length)&&Object(n.jsx)(g,{cardRenderer:()=>null===Re||void 0===Re?void 0:Re.map(((e,t)=>{var o;const i=Object(O.rd)(e.additionalProperties),a=i.length&&i.reduce(((e,t)=>{let{key:o,value:i}=t;return{...e,[o]:"True"===i||Le(i)}}),b.eg);return Object(n.jsx)("div",{className:D(t,q,R),children:Object(n.jsx)(s.a,{item:e,cardId:e.id,cardType:"medium",RecommendationCardItem:!0,cardFor:"recommended",configureOptions:pe,tenantData:ue,servingCount:null===a||void 0===a?void 0:a.servings,button:e.button,categoryId:e.categoryUrl,customizable:e.customizable,onCardClickHandler:_e,userParams:Oe,dName:e.dname,prodURL:e.url,storeClosedData:H,"data-testid":"menu-card-component",openAlertModal:Ee,serves:null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.serves,recommImageSizeFlag:!0,plpbackgroundImageData:Ce,...a,...e,productContent:null===e||void 0===e?void 0:e.content},e.id)})})),productList:[...Re],carousal:Q,header:B,subHeader:W,settings:ye,maxLengthToScroll:le,slidesToShow:ne,rangeValue:z,onUpdateRange:e=>{K(e.target.value),Q.current.slickGoTo(e.target.value),Object(S.b)(e.target.value)},showProductListingModal:be,isMobile:X,tenantData:ue,flagUpsellCrossell:se,...e})}},1167:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(75),d=o.n(n),r=o(1218),s=o.n(r),c=o(266),u=o(5),v=o(6),O=o(4),m=o(170),b=o(144),j=o(46),p=o(71),h=o(1161),g=o(15),S=o(418),I=o(216),f=o(0),N=o(20),C=o.n(N),T=o(2);var E=e=>{const{nutritionalDetails:t,onClickServehandler:o,onClickGramHandler:i,showPerGram:n,showPerServe:d}=e,r=localStorage.getItem(null===f.gd||void 0===f.gd?void 0:f.gd.USER_LANGUAGE),s=Object(l.c)((e=>e.tenantReducer)),c=null===s||void 0===s?void 0:s.showPer100gTab;return Object(T.jsxs)(a.a.Fragment,{children:[Object(T.jsxs)("div",{className:"nutrition-header-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:Object(v.translateWithI18Next)(O.a.NUTRITION)}),Object(T.jsxs)("div",{className:"nutrition-value",children:[Object(T.jsx)("div",{className:"nutrition-value-serve",children:Object(T.jsx)("button",{"data-testid":"per_serve_handler",type:"button",className:"per-serve"+(d&&!n?" activeServe":""),onClick:o,children:Object(v.translateWithI18Next)(O.a.PER_SERVE)})}),c&&Object(T.jsx)("div",{className:"nutrition-value-gram",children:Object(T.jsx)("button",{"data-testid":"per_gram_handler",type:"button",className:"per-gram"+(n&&!d?" activeGram":""),onClick:i,children:Object(v.translateWithI18Next)(O.a.PER_GRAM)})}),Object(T.jsx)("div",{})]})]}),Object(T.jsx)("div",{className:"nutrition-details-global",children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:((null===e||void 0===e?void 0:e.nutritionComponent)!==I.a&&n||d)&&(null===e||void 0===e?void 0:e.isActive)&&Object(T.jsxs)("div",{className:"nutrition-name-amoumt-details",children:[n&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(S.j)(e,null===e||void 0===e?void 0:e.gramWiseValue)}),d&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(S.j)(e,null===e||void 0===e?void 0:e.serveWiseValue)}),Object(T.jsxs)("div",{className:"nutrition-name-unit-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:"en"===(null===r||void 0===r?void 0:r.slice(0,2))||C()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.nutritionComponent:null===e||void 0===e?void 0:e.translationValue}),Object(T.jsxs)("div",{className:"nutrition-unit-global",children:["(",(null===e||void 0===e?void 0:e.nutritionUnit)===m.a.KJ_TEXT?Object(v.translateWithI18Next)(O.a.KJ):null===e||void 0===e?void 0:e.nutritionUnit,")"]})]})]})})))})]})},x=o(263),D=o(62);const y=e=>{const{allergenDetails:t,customizable:o,handleCloseModal:i,source:l}=e,n=localStorage.getItem(null===f.gd||void 0===f.gd?void 0:f.gd.USER_LANGUAGE);let d=Object(D.g)();const r=Object(T.jsx)("div",{className:"non-ala-carte-notification",children:Object(T.jsxs)("div",{className:"notification-alert",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Yellow,className:"non-ala-carte-alert-icon"}),Object(T.jsxs)("div",{className:"non-ala-carte-alert-text","data-testid":"navigation-click-testId",onClick:()=>(l===m.a.SOURCE&&i(),void Object(u.af)(d)),children:[Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(O.a.NON_ALA_CARTE_ALERT_TEXT)}),Object(T.jsx)("span",{className:"non-ala-carte-alert-link-text",children:Object(T.jsx)(x.a,{className:"non-ala-carte-alert-link","data-testid":"non-ala-carte-alert-link-info",children:Object(v.translateWithI18Next)(O.a.NON_ALA_CARTE_ALERT_LINK)})})]})]})}),s=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"allergen-information",children:[Object(T.jsxs)("div",{className:"allergen-notify-present",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Red,className:"alert-icon"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(O.a.ALLERGEN_PRESENT_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(O.a.ALLERGEN_PRESENT_DETAILS)})]})]}),Object(T.jsxs)("div",{className:"allergen-notify-trace",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Black,className:"alert-icon-trace"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(O.a.ALLERGEN_TRACE_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(O.a.ALLERGEN_TRACE_DETAILS)})]})]})]}),Object(T.jsx)("div",{className:"allergen-details-global",children:Object(T.jsx)("table",{children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"allergen-component",children:"en"===(null===n||void 0===n?void 0:n.slice(0,2))||C()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.allergenComponent:null===e||void 0===e?void 0:e.translationValue}),(null===e||void 0===e?void 0:e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Red})}),(null===e||void 0===e?void 0:e.isTrace)&&Object(T.jsx)("td",{className:"allergen-icon-trace",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Black})}),!(null!==e&&void 0!==e&&e.isTrace)&&!(null!==e&&void 0!==e&&e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon-text",children:Object(v.translateWithI18Next)(O.a.NOT_APPLICABLE)})]})})))})})]});return Object(T.jsxs)(a.a.Fragment,{children:[Object(T.jsx)("div",{className:"allergen-header-global",children:Object(T.jsx)("div",{className:"allergen-name-global",children:Object(v.translateWithI18Next)(O.a.ALLERGEN)})}),o?r:s]})};var A=a.a.memo(y),_=o(42),R=o.n(_);t.a=e=>{var t;const{isMobile:o,summaryData:a,source:n}=e,{nutritionalDetails:r,allergenDetails:S,customizable:I,pdpCardObject:f,calories:N,nutritionDetails:C,servesCount:x,kilojoule:D,imageName:{hideAllergenInformation:y,hideNutritionInformation:_}}=a,{dName:L}=f,{showNutritionAllergenModal:P,handleCloseModal:w}=C,{imageName:M,imageContainerSize:k,pdpbackgroundImageData:F}=a,U=Object(l.b)();Object(i.useEffect)((()=>{U(Object(h.a)({object:Object(p.a)(),contentFull:{content_type:"supportContent",include:"5","fields.title":"NutritionAllergenDisclaimer"}}))}),[U]);let H=null;const B=Object(l.c)((e=>({nutritionAllergenDisclaimerContent:R()(e,m.a.NUTRITION_ALLERGEN_ACTION_RESPONSE,null)})));var W,G,V,Y,z,K;Object(u.Td)(null===B||void 0===B?void 0:B.nutritionAllergenDisclaimerContent)&&(H=null===B||void 0===B||null===(W=B.nutritionAllergenDisclaimerContent)||void 0===W||null===(G=W.nutritionAllergenDisclaimerResp)||void 0===G||null===(V=G.items[0])||void 0===V||null===(Y=V.fields.content[0])||void 0===Y||null===(z=Y.fields)||void 0===z||null===(K=z.richText)||void 0===K?void 0:K.content);const[q,J]=Object(i.useState)(!0),[Q,X]=Object(i.useState)(!1),[Z,$]=Object(i.useState)(!1),{tenantReducer:ee}=Object(l.c)((e=>({tenantReducer:e.tenantReducer||{}}))),te={id:"NutritionAllergenModal",role:"dialog",modalTitleId:"NutritionAllergen-Modal-id",show:P,classNames:"Base-modal  NutritionAllergen-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:w,modalTitle:Object(v.translateWithI18Next)(O.a.NUTRITION_ALLERGEN_INFORMATION),modalTitleRequired:!0,closeDataTestId:"close-modal",autoFocus:!0};return d.a.createPortal(Object(T.jsx)(b.a,{...te,children:Object(T.jsxs)("div",{className:"nutrition-allergen-container-global",children:[Object(T.jsx)("div",{className:"nutrion-allergen-image-container",style:Object(u.mb)(F,k.containerWidth,k.containerHeight),children:Object(T.jsx)(j.a,{"data-testid":"",className:"nutrition-allergen-card-image-global",defaultPath:Object(u.bc)(null,ee,!0),srcFile:Object(u.qc)(M,k.containerWidth,k.containerHeight)})}),Object(T.jsxs)("div",{className:"nutrition-allergen-details-section",children:[Object(T.jsxs)("div",{className:"product-details-header",children:[Object(T.jsx)("div",{className:"d-flex strips-icon",children:Object(T.jsx)(j.a,{srcFile:o?g.a.StripsIconMobile:g.a.StripesIcon,className:"stripes-img"})}),Object(T.jsx)("div",{className:"product-name",children:L}),Object(T.jsx)("div",{className:"kj-info-details",children:N&&Object(T.jsxs)("span",{className:"kj-info",children:["".concat(N," ").concat(D)," \xa0 ",(e=>!!e&&"".concat(Object(v.translateWithI18Next)(null===O.a||void 0===O.a?void 0:O.a.SERVES)," ").concat(e))(x)]})})]}),Object(T.jsxs)("div",{className:"nutrition-allergen-list-global",children:[!_&&Object(T.jsx)(E,{nutritionalDetails:r,onClickServehandler:function(e){e.preventDefault(),J(!0),X(!1)},onClickGramHandler:function(e){e.preventDefault(),X(!0),J(!1)},showPerGram:Q,showPerServe:q}),!y&&Object(T.jsx)(A,{allergenDetails:S,customizable:I,handleCloseModal:w,source:n}),Object(T.jsx)("div",{className:"disclaimer-section ".concat(Z?"disclaimer-section-open":""),children:Object(T.jsxs)("div",{className:"global-accordian-container","data-testid":"global-accordian",children:[Object(T.jsx)("div",{className:"global-accordian-header-container ".concat(Z?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!Z)},"data-testid":"disclaimer-handle",children:Object(T.jsx)("span",{className:"global-accordian-header",children:Object(v.translateWithI18Next)(O.a.DISCLAIMER)})}),Z&&Object(T.jsx)("div",{className:"global-accordian-content",children:Object(T.jsx)("div",{className:"disclaimer-content",children:null===(t=H)||void 0===t?void 0:t.map((e=>Object(T.jsx)("ul",{dangerouslySetInnerHTML:{__html:s.a.sanitize(Object(c.documentToHtmlString)(e))},className:"protected-accordian-answer"})))})})]})})]})]})]})}),document.getElementById("modal-popups"))}},1168:function(e,t,o){"use strict";o.d(t,"a",(function(){return N}));var i=o(3),a=o(1096),l=o(1115),n=o(1116),d=o(6),r=o(0),s=o(85),c=o(61),u=o(1118),v=o(28),O=o(132),m=o(80),b=o(46),j=o(1141),p=o(396),h=o(41),g=o(425),S=o(5),I=o(2);var f=e=>{var t,o,a,l,n,f;const{ruleName:N,recommendationType:C,IndulgentData:T,catalogs:E,flatResponse:x,index:D,indulgentAddToCartHandler:y,showServesValue:A,showCaloricValue:_,item:R,INDULGENT_ADD_ON:L,productId:P}=e,w=Object(v.c)((e=>e.cartReducer)),M=Object(v.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),k=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=Object(v.c)((e=>e.tenantReducer)),U=null===F||void 0===F||null===(t=F.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.plp)||void 0===a?void 0:a.removeSingleItemInCartFromPLP,{flatResponse:{productMapByItemId:H={}}={}}=null!==(l=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},{currencyConversionFactor:B,componentOptions:{web:{global:{showPriceWithTax:W=!1}={}}={}}={}}=F,{ADD_TO_CART:G}=L,V=Object(v.c)((e=>e.tenantReducer)),{cartData:Y={}}=Object(S.sd)(w),{userOrderStateDispatch:z,userOrderState:K}=Object(i.useContext)(s.a),{timeBasedCetegory:q}=K,[J,Q]=Object(i.useState)(0),[X,Z]=Object(i.useState)(null),[$,ee]=Object(i.useState)(0),te=Object(S.fb)(V),oe=(null===R||void 0===R?void 0:R.isRestrictedAddon)||(null===R||void 0===R?void 0:R.isHidden);Object(i.useEffect)((()=>{const e=Object(S.Td)(Y)?Object(S.mc)(null===R||void 0===R?void 0:R.id,Y):{},t=Object(S.ad)(Object(S.Td)(e),e.count,0),o=Object(S.ad)(Object(S.Td)(e),e.matchedItemFoodLineId,""),i=Object(S.ad)(Object(S.Td)(e),e.itemUnitPrice,"");Q(t),Z(o),ee(i)}),[Y,null===R||void 0===R?void 0:R.id]);const{discountTotal:ie,couponCode:ae}=Object(S.zb)(Y),{QUANTITY_ACTION:le}=c.a,ne=Object(v.b)(),de=Object(O.b)(m.b),re=Object(S.od)(null===k||void 0===k?void 0:k.localized,null===k||void 0===k?void 0:k.loggedIn);return Object(I.jsxs)("div",{className:"indulgent-card",children:[Object(I.jsx)(b.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(S.bc)(null,F,!0),srcFile:Object(S.bc)(null===R||void 0===R?void 0:R.imageName,F)}),Object(I.jsxs)("div",{className:"indulgent-card-content",children:[Object(I.jsx)("div",{className:"indulgent-card-header",children:R.dname[0].value}),Object(I.jsxs)("div",{className:"indulgent-card-price",children:[F.currencySymbol,Object(S.Ic)(null===R||void 0===R||null===(n=R.availability)||void 0===n?void 0:n[0],null===R||void 0===R?void 0:R.additionalProperties,null===F||void 0===F?void 0:F.currencyConversionFactor,W),_&&Object(S.we)(null===R||void 0===R?void 0:R.content,F,A)]}),J>0?Object(I.jsx)("div",{className:"quantityAddtocart",children:Object(j.e)(J,((e,t)=>{var o;null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault();const i=Object(p.g)(null===R||void 0===R?void 0:R.itemId,null===M||void 0===M?void 0:M.flatResponse),a=Object(p.d)(null===R||void 0===R?void 0:R.itemId,q);if(!Object(p.c)({categoryUrl:i,itemInCart:a,alertType:Object(p.j)(null===q||void 0===q?void 0:q.timebasedItemInCart,null===r.Sb||void 0===r.Sb?void 0:r.Sb.ITEM),categoryId:null===R||void 0===R?void 0:R.itemId,itemId:null===R||void 0===R?void 0:R.itemId},{...q,menuData:M,foodLinesItems:(null===w||void 0===w||null===(o=w.cartData)||void 0===o?void 0:o.foodLines)||[]},z)&&k.localized){const e=Number(($/B).toFixed(2));let o={foodName:null===R||void 0===R?void 0:R.name,foodItemId:null===R||void 0===R?void 0:R.mdmId,cartPrice:e,modifiers:[],quantity:J,foodLineId:X};const{itemQuantityHandler:i,itemRemoveHandler:a}=Object(u.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===F||void 0===F?void 0:F.tenantId,void 0,H,void 0,ne,void 0,re,null===F||void 0===F?void 0:F.currencyShortName,void 0,de,ae,ie,B);t===le.Increase?i(o,le.Increase):U&&1===(null===o||void 0===o?void 0:o.quantity)?a(o):i(o,le.Decrease)}}),null===R||void 0===R||null===(f=R.dname)||void 0===f?void 0:f[0].value,F)}):Object(I.jsxs)(h.a,{className:"button redButton indulgent-card-button","aria-label":Object(d.translateWithI18Next)(G)+" "+R.dname[0].value,"data-testid":"add-to-cart",onClickHandler:e=>{e.preventDefault(),e.stopPropagation(),y({index:D,id:null===R||void 0===R?void 0:R.id,customizable:!1,dispatch:ne,cartReducer:w,tenantReducer:F,catalogs:E,flatResponse:x,category_id:null===R||void 0===R?void 0:R.categoryId,userType:re,productId:P,ruleName:N,recommendationType:C,IndulgentData:T,couponCode:ae,discountTotal:ie,...te?{isRestrictedAddon:oe}:{}})},children:[Object(d.translateWithI18Next)(G),Object(I.jsx)(b.a,{className:"add-to-cart-Icon",srcFile:g.a})]})]})]})};const N=e=>{const{INDULGENT_ADD_ON:t,IndulgentData:o,isMobile:i,tenantReducer:r,rangeValue:s,updateRangeValue:c,currentSlide:u,updateCurrentSlide:v,caroselCount:O,setCaroselCount:m,carousal:b,setPrevArrowCSS:j}=e,{ADD_TO_CART:p,HEADER:h,SLIDES_TO_SCROLL:g,SLIDES_TO_SHOW:S,RESPONSIVE_SETTINGS:N}=t,C={dots:!1,infinite:!1,speed:500,slidesToShow:S,slidesToScroll:g,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(I.jsx)(l.a,{clickNextCard:()=>{if(u<o.length-1){let e=0;e=u+g>o.length-S-1?o.length-S:u+g,j(e),v(e),b.current.slickGoTo(e)}}}),prevArrow:Object(I.jsx)(n.a,{clickPrevCard:()=>{u>0&&(v(u-g),b.current.slickGoTo(u-g)),j(u-g)}}),beforeChange:(e,t)=>c(t),afterChange:(e,t)=>v(e),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:(e,t)=>{m(Math.round(t+1))}}}]},{currencyConversionFactor:T,componentOptions:{web:{global:{showPriceWithTax:E=!1}={}}={}}={}}=r;return Object(I.jsxs)("div",{className:"indulgent-container",children:[Object(I.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(I.jsx)("span",{className:"indulgent-header",children:Object(d.translateWithI18Next)(h)}),i&&Object(I.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[O,"/",o&&o.length]})]}),Object(I.jsx)("div",{className:"indulgent-card-list",children:Object(I.jsx)(a.b,{settings:C,carousalRef:b,children:o.map(((t,o)=>Object(I.jsx)(f,{index:o,item:t,...e},o)))})}),!i&&o.length>3&&Object(I.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(I.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:o.length-(e=>{const t=window.innerWidth;return t>1350&&t<1650?4:t>1650&&t<=1920?5:e})(S),value:s,id:"myRange",onChange:e=>{c(e.target.value),b.current.slickGoTo(e.target.value)}})})]})}},1169:function(e,t,o){"use strict";var i=o(113),a=o(35),l=o(0),n=o(4),d=o(85),r=o(133),s=o(16),c=o(3),u=o(62),v=o(1107),O=o(5),m=o(28);t.a=()=>{var e,t,o;const{MENU_NAVALERT_TITLE:b,MENU_NAVALERT_SUBTITLE:j}=n.a,{userOrderStateDispatch:p}=Object(c.useContext)(d.a),h=Object(m.b)(),{dispositionNew:g}=Object(v.a)(),S=Object(u.g)(),I=Object(m.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),f=Object(m.c)((e=>e.tenantReducer)),{tenantId:N}=f,C=null===f||void 0===f||null===(e=f.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(o=t.dispositionConfig)||void 0===o?void 0:o.hideCartDeletionAlert,{cartData:T={}}=Object(m.c)((e=>e.cartReducer)),{DISPOSITION_TYPE:E}=l.gd;let x={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};const D=e=>{p({type:s.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:e,title:b,contentMsg:j}})},y=e=>{p({type:s.a.SET_DISPOSITION,value:{oldvalue:e||x,newValue:e||x}}),p({type:s.a.DISPOSITION_METHOD,value:{dispositionType:e?null===e||void 0===e?void 0:e.type:""}}),localStorage.removeItem(l.gd.DISPOSITION_TYPE),localStorage.removeItem(l.gd.DISPOSITION_OLD),localStorage.removeItem(l.gd.DISPOSITION_NEW)},A=()=>{I&&h(Object(i.a)({...I,localized:!1})),p({type:s.a.USER_LOCALIZED,value:{isLocalized:!1}}),null!==T&&void 0!==T&&T.id&&h(Object(a.g)({basketId:null===T||void 0===T?void 0:T.id},!1,{data:{},tenantId:N}))};return{handleMenuNavigation:e=>{C?S.push({pathname:e}):Object(O.Wd)(e)&&!Object(O.Vd)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?D(e):Object(O.Wd)(e)&&Object(O.Vd)(null===g||void 0===g?void 0:g.type)?S.push({pathname:l.Ce.EVENT_PAGE}):!Object(O.Wd)(e)||null!==g&&void 0!==g&&g.type?!Object(O.Wd)(e)&&Object(O.Vd)(null===g||void 0===g?void 0:g.type)&&D(e):(S.push({pathname:l.Ce.EVENT_PAGE}),localStorage.setItem(l.gd.TO_EVENT_PAGE_USING_BUTTON,!0))},handleDeliveryMenuNavigation:e=>{C?S.push({pathname:e}):Object(O.Nd)(e)&&!Object(O.Jd)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?D(e):Object(O.Nd)(e)&&Object(O.Jd)(null===g||void 0===g?void 0:g.type)?S.push({pathname:l.Ce.DELIVERY_PAGE}):!Object(O.Nd)(e)||null!==g&&void 0!==g&&g.type?(Object(O.Wd)(e)||Object(O.ce)(e))&&Object(O.Jd)(null===g||void 0===g?void 0:g.type)?D(e):S.push({pathname:e}):S.push({pathname:l.Ce.DELIVERY_PAGE})},reset:()=>{y(),A()},navigateToEvent:()=>{S.push({pathname:l.Ce.EVENT_PAGE}),y({...x,type:l.Jb.CHRISTMAS_ORDERING}),localStorage.setItem(E,l.Jb.CHRISTMAS_ORDERING),A(),p({type:s.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:r.c}})}}}},1170:function(e,t,o){"use strict";var i=o(3),a=o(1166),l=o(120),n=o(85),d=o(1103),r=o(5),s=o(262),c=o(2);t.a=e=>{var t,o;const{products:u,country:v,cssClass:O="",categoryId:m,recommendedRule:b,componentOptions:j}=e,{userOrderState:p}=Object(i.useContext)(n.a),{UPSELL:h}=s.a,{INDIA:g}=d.a,[S,I]=Object(i.useState)(!1),f=Object(i.useMemo)((()=>Object(r.Sd)(p.currentStoreInfo)?Object(r.b)(localStorage.getItem("currentStoreInfo")):p.currentStoreInfo),[p.currentStoreInfo]),{futureDates:N,scheduled:C,asap:T}=Object(r.sd)(null===f||void 0===f||null===(t=f.summary)||void 0===t?void 0:t.timings),{unavailibilities:E}=Object(r.sd)(C),{interval:x=0,startEndTime:D={}}=Object(r.sd)((null===C||void 0===C||null===(o=C.periods)||void 0===o?void 0:o.length)&&(null===C||void 0===C?void 0:C.periods[0])),{from:y,to:A}=D,_=Object(i.useCallback)((()=>{if(Object(r.Td)(f)){var e,t;let o=null===(e=f.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,i=Object(l.j)(y,A,x,null===T||void 0===T?void 0:T.isAvailable,1===(null===N||void 0===N?void 0:N.length)&&(null===v||void 0===v?void 0:v.toUpperCase())===g,E);"CLOSED"!==o||i.length?I(!1):I(!0)}else I(!1)}),[f]);return Object(i.useEffect)((()=>{_()}),[_]),((e,t,o)=>{var i,a;return e!==t||(null===o||void 0===o||null===(i=o.web)||void 0===i||null===(a=i.pdp)||void 0===a?void 0:a.makeItComboButton)})(b,h,j)?Object(c.jsx)("div",{className:"recommended-container ".concat(O),"data-testid":"recommended-container",children:Object(c.jsx)(a.b,{"data-testid":"recommended-items",categoryId:m,products:u,storeClosedData:{isStoreClosed:S},...e})}):Object(c.jsx)(c.Fragment,{})}},1171:function(e,t,o){"use strict";o.d(t,"a",(function(){return A}));var i=o(3),a=o(28),l=o(75),n=o(431),d=o(0),r=o(15),s=o(41),c=o(1105),u=o.n(c),v=o(1101),O=o(264),m=o(32),b=o(46),j=o(6),p=o(5),h=o(62),g=o(85),S=o(212),I=o(16),f=o(132),N=o(80),C=o(2);const T=e=>e?r.a.LangGlobeHeader:r.a.LangGlobeFooter,E=e=>{const{allowedLanguages:t,onChangeHandler:o,onCloseModal:i,selectedLanguage:a}=e;return Object(l.createPortal)(Object(C.jsx)("div",{className:"root-header-au",children:Object(C.jsxs)("div",{className:"hamburger-container side-nav-open",children:[Object(C.jsxs)("div",{className:"hamburger-header-container",children:[Object(C.jsx)(s.a,{className:"langmodal-close-button","data-testid":"langmodal-close",onClick:i,children:Object(C.jsx)(b.a,{srcFile:r.a.ArrowIcon,alt:"close"})}),Object(C.jsx)("span",{className:"langmodal-label",children:Object(j.translateWithI18Next)(d.O)})]}),Object(C.jsx)("div",{className:"langmodal-stripe-icon",children:Object(C.jsx)(O.a,{src:r.a.Strips})}),Object(C.jsx)("div",{className:"langmodal-list-content",children:t.map((e=>Object(C.jsx)("div",{onClick:()=>o(null,e,e.key),className:"langmodal-list",children:Object(C.jsx)("span",{className:"langmodal-list-txt ".concat(e.key===(null===a||void 0===a?void 0:a.key)?"active-lang":""),children:e.value})},e.key)))})]})}),document.getElementById("modal-popups"))},x=e=>{let{isMobile:t,defaultTooltipShow:o,allowedLanguages:i,placeHolderValue:a,onChangeHandler:l}=e;return!t&&Object(C.jsxs)("div",{className:"lang-selector-wrapper",children:[Object(C.jsx)(b.a,{className:"lang-globe-icon",srcFile:T(o),alt:S.a.LANGUAGE_SELECTOR}),Object(C.jsx)(n.a,{source:i,optionLabelFieldName:"value",optionValueFieldName:"key",placeholder:a(),langSelector:!0,onChange:l})]})},D=e=>{let{isMobile:t,setShowMobLangComp:o,hamburgerMenu:i,placeHolderValue:a}=e;return t&&Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"lang-selector-wrapper mob","data-testid":"lang-select-mob-component",onClick:()=>o(!0),children:[Object(C.jsx)(b.a,{className:"lang-globe-icon",srcFile:T(i),alt:S.a.LANGUAGE_SELECTOR}),Object(C.jsx)("span",{children:a()})]})})},y=e=>{let{showMobLangComp:t,selectedLanguage:o,allowedLanguages:i,onChangeHandler:a,onCloseModal:l}=e;return t&&Object(C.jsx)(E,{"data-testid":"languageSelectorMobComp",selectedLanguage:o,allowedLanguages:i,onChangeHandler:a,onCloseModal:l})},A=e=>{var t,o;const{userOrderState:l,userOrderStateDispatch:n}=Object(i.useContext)(g.a),[r,s]=Object(i.useState)(Object(p.de)(window.innerWidth)),[c,O]=Object(i.useState)(!1),[b,j]=Object(i.useState)(!1),{cartData:S}=Object(a.c)((e=>e.cartReducer)),{SHOW_CLEAR_CART_ALERT:T}=I.a,E=Object(h.g)(),{defaultTooltipShow:A,hamburgerMenu:_}=e,R=Object(f.a)(),{tenantReducer:{basic:{allowedLanguages:L=[],defaultLanguage:P}={},country:w="",useDeviceDefaultLanguage:M=!1}={}}=Object(a.c)((e=>e)),[k,F]=Object(i.useState)(M?Object(p.Fb)(L,P):P),U=()=>{const e=Object(p.de)(window.innerWidth);s(e)};Object(i.useEffect)((()=>{var e,t;null!==S&&void 0!==S&&null!==(e=S.foodLines)&&void 0!==e&&e.length&&null!==S&&void 0!==S&&null!==(t=S.discountLines)&&void 0!==t&&t.length||null===l||void 0===l||!l.selectedLanguage||(null===k||void 0===k?void 0:k.key)===(null===l||void 0===l?void 0:l.selectedLanguage)||H()}),[null===S||void 0===S||null===(t=S.foodLines)||void 0===t?void 0:t.length,null===S||void 0===S||null===(o=S.discountLines)||void 0===o?void 0:o.length]),Object(i.useEffect)((()=>{window.addEventListener(d.ye,U)}),[r]),Object(i.useEffect)((()=>{const e=L.find((e=>{var t,o,i;return(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())===(null===(o=localStorage)||void 0===o||null===(i=o.getItem(d.gd.USER_LANGUAGE))||void 0===i?void 0:i.toLowerCase())}));w&&e&&F(e)}),[w,L]),Object(i.useEffect)((()=>{var e,t,o;const i=(null===(e=new URLSearchParams(window.location.search))||void 0===e?void 0:e.get(d.Yc))||Object(p.jd)(),a=null===i||void 0===i?void 0:i.slice(0,2);window.OneTrust&&(null===(t=window.OneTrust)||void 0===t?void 0:t.changeLanguage)&&(null===(o=window.OneTrust)||void 0===o||o.changeLanguage(a))}),[window.OneTrust]),Object(i.useEffect)((()=>{null!==l&&void 0!==l&&l.cartClearConfirmed&&""!==(null===l||void 0===l?void 0:l.languageToChange)&&(n({type:d.Oe,value:{selectedLanguage:null===l||void 0===l?void 0:l.languageToChange}}),n({type:T,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1}}))}),[T,null===l||void 0===l?void 0:l.cartClearConfirmed,null===l||void 0===l?void 0:l.languageToChange,n]);const H=e=>{R(Object(N.d)({key:d.Se,value:!1})),R(Object(N.d)({key:d.Zc,value:d.Zc}));const t=e||(null===l||void 0===l?void 0:l.selectedLanguage)||(null===k||void 0===k?void 0:k.key);Object(m.changeLanguage)(t),localStorage.setItem(null===d.gd||void 0===d.gd?void 0:d.gd.USER_LANGUAGE,t),Object(p.Ye)({history:E}),setTimeout((()=>window.location.reload()),1e3)},B=(e,t,o)=>{var i;document.documentElement.setAttribute("lang",null===o||void 0===o?void 0:o.slice(0,2)),(null===k||void 0===k?void 0:k.key)!==o&&((null===S||void 0===S||null===(i=S.foodLines)||void 0===i?void 0:i.length)>0?(j(!0),n({type:T,value:{showCartClearAlert:!0,languageToChange:o}})):(j(!1),H(o)))},W=()=>_?u()(null===k||void 0===k?void 0:k.short_value):null===k||void 0===k?void 0:k.value;return Object(C.jsx)("div",{"data-testid":"language-selector-container",className:(G=L,"language-selector-container".concat((null===G||void 0===G?void 0:G.length)<=1?" no-border":"")),children:(null===L||void 0===L?void 0:L.length)>1&&Object(C.jsxs)("div",{children:[x({isMobile:r,defaultTooltipShow:A,allowedLanguages:L,placeHolderValue:W,onChangeHandler:B}),D({isMobile:r,setShowMobLangComp:O,hamburgerMenu:_,placeHolderValue:W}),y({showMobLangComp:c,selectedLanguage:k,allowedLanguages:L,onChangeHandler:B,onCloseModal:()=>{O(!1)}}),b&&l.showCartClearAlert?Object(C.jsx)(v.a,{langSelector:!0}):null]})});var G}},1172:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var i=o(3),a=o.n(i),l=o(6),n=o(329),d=o.n(n),r=o(46),s=o(43),c=o(5),u=o(15),v=o(269),O=o(2);const{GoogleMapLocationImage:m,SuggestionItemSearchPin:b,clearTextIcon:j,Time_Clock:p}=u.a,{SUUGESTED_ITEMS_TEXT:h,ALLOWED_SUGGESTION_LIST:g,SUGGESTION_ACTIVE_COLOR:S,SUGGESTION_ACTIVE_OPACITY:I,BRAND_BLACK:f}=s.a,N=e=>{const{currentMarket:t,placeholder:o,storeSelection:i={},address:n,inputOnChange:s,handleSelectAddress:u,onSearchError:g,locationAlert:S,negativeScenarioAlert:I,inputRef:f,keyPress:N,onClearTextHandler:C,showAutoSuggestion:T,alreadySearched:E,setSuggestedAddress:x,filteredTypes:D,maxLength:y,filterConditions:A,isAddressNotChangable:_}=e,{placesSearchInput:R=!0}=i;return Object(O.jsx)("div",{className:"search-delivery-address",children:Object(O.jsx)("div",{className:"input-delivery-address",children:Object(O.jsx)(d.a,{value:n,onChange:s,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:D},shouldFetchSuggestions:!0,onError:g,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:d,loading:s}=e;return Object(O.jsx)("div",{children:R&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(r.a,{"data-testid":"",srcFile:m,alt:" ",className:"google-location-img"}),Object(O.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:y,className:"".concat(Object(c.ad)(Object(c.qd)(S,I),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:o,ref:f}),onKeyUp:N,disabled:_}),n&&!_&&Object(O.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:C}),Object(c.hb)(Object(c.pc)(i),T)?Object(O.jsx)("div",{className:"suggestion-list",children:Object(v.d)(i,A).map(((e,t)=>(null===x||void 0===x||x(i),Object(O.jsxs)(a.a.Fragment,{children:[0===t&&Object(O.jsx)("div",{className:"suggestion-items suggest-text",children:Object(l.translateWithI18Next)(h)}),Object(O.jsx)("div",{className:"suggestion-item-container",children:Object(O.jsx)("div",{...d(e,{className:"suggestion-items"}),children:Object(O.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(O.jsx)("div",{children:Object(O.jsx)(r.a,{"data-testid":"",srcFile:Object(c.ad)(E(e.description),p,b),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(O.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},C=a.a.memo(N)},1173:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return l}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const i={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},a={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},l="subpremise"},1174:function(e,t,o){"use strict";o.d(t,"a",(function(){return _})),o.d(t,"b",(function(){return P})),o.d(t,"g",(function(){return w})),o.d(t,"h",(function(){return M})),o.d(t,"f",(function(){return k})),o.d(t,"e",(function(){return F})),o.d(t,"c",(function(){return U})),o.d(t,"d",(function(){return H}));var i=o(6),a=o(4),l=o(15),n=o(265),d=o(1158),r=o(0),s=o(41),c=o(24),u=o(969),v=o(1108),O=o(5),m=o(603),b=o(122),j=o(20),p=o.n(j),h=o(73),g=o(1111),S=o(2);const I=e=>{var t;const{orderDetails:o}=e,{storeName:l,displayOrderId:n,showOrderSummaryOnSentToPosFailed:d=!1}=o;return Object(S.jsxs)(S.Fragment,{children:[!d&&Object(S.jsx)("div",{className:"pickup-store-order",children:l}),n&&Object(S.jsx)("div",{className:"pickup-store-order red",children:(null===(t=Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},f=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:l,enableRetryCountForPickupOrderTracking:d,pickupOrderEstimatedOrCollectAtTime:r}=t,s=d?r:l;return!Object(n.r)(t)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.COLLECTED_AT)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:s})]})},N=e=>{var t,o,i,a;const{orderDetails:d}=e,{orderStatus:r,orderSummarycontentData:s}=d,c=null!==(t=null===s||void 0===s||null===(o=s.icon)||void 0===o||null===(i=o.fields)||void 0===i||null===(a=i.file)||void 0===a?void 0:a.url)&&void 0!==t?t:Object(n.jb)(d)?null===l.a||void 0===l.a?void 0:l.a.TakeawayCompleted:Object(n.gb)(d)?null===l.a||void 0===l.a?void 0:l.a.CartError:Object(n.hb)(d)?null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg:"";return""!==c&&Object(S.jsx)("img",{src:c,className:"statusIcon",alt:r})},C=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{enablePickupMethodChangePostOrder:i,buffertimepmpickup:a=30,postorderStoreShutdownPopup:l}=t;if(Object(g.q)(t),i){const e={...null===t||void 0===t?void 0:t.store,status:{currentStatus:r.Od,message:r.Od}},i=Object(O.v)(e,a);null!==i&&void 0!==i&&i.timingFlag||o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0})}else o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0});l&&(o({isPickupOrderUserConfirmedToCheckIn:!1}),T(e))},T=e=>{var t;const{orderDetails:o,updateSetOrderDetails:i}=e,{postorderStoreShutdownPopup:a,dispatch:l}=o,n={storeid:null===o||void 0===o||null===(t=o.store)||void 0===t?void 0:t.storeId,channel:null===c.b||void 0===c.b?void 0:c.b.channel,service:null===o||void 0===o?void 0:o.service};l(Object(h.n)({data:n,tenantId:null===o||void 0===o?void 0:o.tenantId},(e=>((e,t,o)=>{var i,a,l,n,d,s;t&&(null===(i=e[0])||void 0===i||null===(a=i.summary)||void 0===a||null===(l=a.status)||void 0===l?void 0:l.currentStatus)===r.Y?o({isPickupOrderUserConfirmedToCheckIn:!1,isPostorderStoreShutdownPopupModal:!0,pickupClosedInfoModal:!1}):t&&(null===(n=e[0])||void 0===n||null===(d=n.summary)||void 0===d||null===(s=d.status)||void 0===s?void 0:s.currentStatus)===r.Od&&o({isPickupOrderUserConfirmedToCheckIn:!0,isPostorderStoreShutdownPopupModal:!1})})(e,a,i))))},E=e=>{var t;const{orderDetails:o,isCheckinLoading:l,activateCheckinLimitedWindow:v,mintsBeforePickupCheckinEnabled:O}=e,{collectionPoint:m={},enablePickupMethodChangePostOrder:b,isShowCurbsidePlateNumberInputModal:j=!1,requestedDateTime:p={},selectedPickupOrderCollectionMethod:h,store:g={},hidePostOrderCollectionForAsap:I,orderSummarycontentData:f,fulfillmentDateTime:N}=o,{futureDateTime:T,isForNow:E}=p,{timeZoneIANA:x=""}=g,D=!j&&h===r.ee.CURB_SIDE&&(null===m||void 0===m?void 0:m.carNumber)&&(b||!E&&I),y=()=>{switch(h){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.I_AM_AT_DRIVE_THRU_QUEUE);case(null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE)||(null===r.ee||void 0===r.ee?void 0:r.ee.DINE_IN):return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.I_AM_INSIDE_RESTAURANT);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.I_AM_AT_CURB_SIDE);default:return""}};let A;if(v){const{timeToEnable:e,timeToDisable:t}=Object(d.f)(N,O,x);A=b&&!I&&!((e,t)=>0===e&&t>0)(e,t)}else A=l||b&&!I&&!Object(d.a)(T,x);return Object(n.jb)(o)&&(null===o||void 0===o?void 0:o.selectedPickupOrderCollectionMethod)&&(!I||!E)&&Object(S.jsxs)("div",{className:"pickup-collection-method-ready-to-prepare",children:[Object(S.jsx)("div",{className:"linebreak col-12"}),D?Object(S.jsx)("div",{className:"car-number-plate",children:I?null===f||void 0===f||null===(t=f.subHeadline)||void 0===t?void 0:t.replace(r.L,m.carNumber):"".concat(Object(i.translateWithI18Next)(a.a.CAR_NUMBER_PLATE_LABEL)," ").concat(m.carNumber)}):Object(S.jsx)("div",{children:I?null===f||void 0===f?void 0:f.subHeadline:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.READY_TO_PREPARE_MEAL)}),Object(S.jsx)(s.c,{"data-testid":"pickup-collection-method-ready-to-prepare-btn",variant:s.b.primary,style:{marginTop:"2rem"},inactive:A,loading:l,onClick:()=>(async e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{store:i,geoLocationCheckForCheckin:a}=t;if(a&&await c.b.BindLocation(),Object(n.hb)(t)&&o({isShowPickupOrderAlreadyCheckInModal:!0}),c.b.coordinates&&a){var l,d,s,v,O;const{latitude:t,longitude:a}=(null===i||void 0===i?void 0:i.location)||{},n=await Object(u.getDistanceByLatLong)({destinations:{latitude:t,longitude:a},origins:(null===c.b||void 0===c.b?void 0:c.b.coordinates)||{}});(null===n||void 0===n||null===(l=n[0])||void 0===l||null===(d=l.status)||void 0===d?void 0:d.toLowerCase())===(null===r.Qe||void 0===r.Qe||null===(s=r.Qe.ZERO_RESULTS)||void 0===s?void 0:s.toLowerCase())||(null===n||void 0===n||null===(v=n[0])||void 0===v||null===(O=v.distance)||void 0===O?void 0:O.value)>300?o({isShowPickupOrderCheckReadyToPrepareModal:!0}):C(e)}else C(e)})(e),ariaLable:y(),children:I?null===f||void 0===f?void 0:f.buttonText:y()})]})},x=e=>{const{orderDetails:t}=e,{selectedPickupOrderCollectionMethod:o,hidePostOrderCollectionForAsap:l}=t;return o&&!l&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&Object(S.jsx)("div",{className:"change-collection-method",children:Object(S.jsx)(s.c,{className:"change-collection-method-btn","data-testid":"change-collection-method-btn",variant:s.b.tertiary,onClick:()=>(e=>{const{updateSetOrderDetails:t}=e;t({selectedPickupOrderCollectionMethod:null,pickupClosedInfoModal:!1})})(e),ariaLable:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHANGE_COLLECTION_METHOD),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHANGE_COLLECTION_METHOD)})})},D=e=>{const{orderDetails:t}=e,{orderStatus:o,service:l,selectedPickupOrderCollectionMethod:d,enableRetryCountForPickupOrderTracking:s,enablePickupMethodChangePostOrder:c,hidePostOrderCollectionForAsap:u,requestedDateTime:O}=t,m=!s||c&&!u?(e=>{var t;const{hideCustomerName:o}=e,l=o?" ":", "+(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."));if(Object(n.jb)(e))switch(null===e||void 0===e?void 0:e.selectedPickupOrderCollectionMethod){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHECIN_AT_DRIVE_THRU);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHECIN_AT_IN_STORE);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHECIN_AT_CURB_SIDE);default:return"".concat(Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_RECEIVED)).concat(l)}else{if(Object(n.gb)(e))return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_ORDER);if(Object(n.hb)(e))return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ENJOY_MEAL)}return""})(t):Object(v.h)(t),b=Object(n.r)(t)||Object(n.gb)(t)?Object(v.c)(t):Object(v.i)(t);return Object(S.jsxs)("div",{children:[""!==m&&Object(S.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(l," ").concat(d," col-12 ").concat(Object(n.ib)(t)?"":"p-0px-imp"),children:[Object(S.jsx)("div",{className:"col-12 statusMessage",children:m}),E(e),c&&x(e)]}),""!==b&&!Object(n.u)(t)&&(!u||!((null===O||void 0===O||!O.isForNow)&&Object(n.ob)(t)))&&Object(S.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:b}})]})},y=e=>{const{orderDetails:t}=e,{orderSummarycontentData:o,enableClickCollectScheduleOrder:i,allowScheduleOrderForDispositions:a,service:l}=t;return i&&(null===a||void 0===a?void 0:a.includes(l))?""!==(null===o||void 0===o?void 0:o.confirmationEmailSubHeadline)&&!Object(n.u)(t)&&Object(S.jsx)("div",{className:"emailconfirmation-container",children:Object(S.jsx)("span",{className:"emailconfirmation-msg",children:null===o||void 0===o?void 0:o.confirmationEmailSubHeadline})}):null},A=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t,d=(null===o||void 0===o?void 0:o.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(n.ib)(t)&&d&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ASK_FOR_OTP)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:Object(S.jsx)("div",{className:"red otp",children:d})})]})},_=e=>Object(S.jsxs)(S.Fragment,{children:[!Object(n.ib)(null===e||void 0===e?void 0:e.orderDetails)&&I(e),Object(n.hb)(null===e||void 0===e?void 0:e.orderDetails)&&f(e),N(e),D(e),y(e),A(e)]}),R=e=>{switch(e){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DRIVE_THRU);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.IN_STORE);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CURB_SIDE)}return""},L=e=>{switch(e){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PICKUP_FROM_WINDOW);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PICKUP_INSIDE_RESTAURANT);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PICKUP_FROM_CURB_SIDE)}return""},P=e=>{var t;const{updateSetOrderDetails:o,orderDetails:l}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper curbside-plate-number",children:[Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"vehicle-details-title",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.VEHICAL_DETAILS)}),Object(S.jsx)(b.a,{id:"curbside-plate-number-input",name:"curbside-plate-number-input",className:"curbside-plate-number-input",placeholder:Object(i.translateWithI18Next)(a.a.CAR_NUMBER_PLATE),isMandatory:!0,maxLength:10,value:null===(t=l.collectionPoint)||void 0===t?void 0:t.carNumber,onChange:e=>{const t=Object(m.a)(e.target.value);o({collectionPoint:{name:r.ee.CURB_SIDE,carNumber:t}})},onKeyPress:e=>{Object(m.c)(e.key)||e.preventDefault()}})]}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{id:"confirm-car-number-btn",className:"button blackButton blackBorder save-button",onClick:()=>{l.collectionPoint.carNumber&&o({selectedPickupOrderCollectionMethod:r.ee.CURB_SIDE,pickupClosedInfoModal:!0,isShowCurbsidePlateNumberInputModal:!1})},children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CONFIRM)})})]})},w=e=>{var t;const{updateSetOrderDetails:o,orderDetails:n}=e,{postorderStoreShutdownPopup:d}=n;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.CartError,alt:"closedOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.name}),Object(S.jsx)("div",{children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.HAS_NOW_CLOSED)})]}),Object(S.jsx)("div",{className:"message-refund closing-msg "+(d&&"postorderStoreShutdownPopup-msg"),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>o({pickupClosedInfoModal:!1,isPostorderStoreShutdownPopupModal:!1}),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.OK)})})]})},M=e=>{var t,o;const{updateSetOrderDetails:n,orderDetails:d,lastCheckIn:r}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.Timeout,alt:"closingsoonOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel last-checkin",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===d||void 0===d||null===(t=d.store)||void 0===t?void 0:t.name}),Object(S.jsxs)("div",{children:[Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.LAST_ORDER_CHECKIN_AT),Object(S.jsx)("span",{className:"selected-store-name",children:r})]})]}),Object(S.jsxs)("div",{className:"message-refund closing-msg",children:[null===d||void 0===d||null===(o=d.store)||void 0===o?void 0:o.name," ",Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.IS_CLOSING_SOON)]}),Object(S.jsx)("div",{className:"message-refund ahead-time",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHECK_IN_AHEADTIME)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>n({pickupClosingSoonModal:!1}),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.OK)})})]})},k=e=>{var t,o;const{orderDetails:d,updateSetOrderDetails:s}=e,{collectionPoint:c,postOrderDetails:u={},pickupOrderAvailableCollectionPoints:v,enablePickupMethodChangePostOrder:O,hidePostOrderCollectionForAsap:m,allowedPickupCollectionMethods:b}=d,j=e=>-1!==(null===v||void 0===v?void 0:v.findIndex((t=>t.collectionPointName===e)));var h;if(!p()(null===u||void 0===u||null===(t=u.collectionPoint)||void 0===t?void 0:t.name)&&j(null===u||void 0===u||null===(o=u.collectionPoint)||void 0===o?void 0:o.name)&&p()(c)&&(O||m))return s({collectionPoint:null===u||void 0===u?void 0:u.collectionPoint,selectedPickupOrderCollectionMethod:null===u||void 0===u||null===(h=u.collectionPoint)||void 0===h?void 0:h.name,pickupClosedInfoModal:!0}),null;const g=Object(n.e)(v,r.ee);return Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-container",children:[Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method-header",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.SELECT_PICK_UP_METHOD)}),Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method",children:null===g||void 0===g?void 0:g.map((e=>{const t=null===r.ee||void 0===r.ee?void 0:r.ee[e],o=t===r.ee.CURB_SIDE,n=j(null===r.ee||void 0===r.ee?void 0:r.ee[e]);return!O&&o?null:Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-node","data-testid":"PickupCollectionMethod_"+t,onClick:()=>{n&&s(o?{isShowCurbsidePlateNumberInputModal:!0}:{collectionPoint:{name:t,carNumber:null},selectedPickupOrderCollectionMethod:t,pickupClosedInfoModal:!0})},children:[Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.TakeAwayImg,className:"methodIcon",alt:""}),Object(S.jsxs)("div",{className:"methodDetails",children:[Object(S.jsxs)("div",{className:"methodTitle",children:[R(t),!n&&Object(S.jsx)("div",{className:"methodTitle-Unavailable",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.UNAVAILABLE)})]}),Object(S.jsx)("span",{className:"methodMessage",children:L(t)})]}),n&&Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.Arrow,className:"arrowIcon",alt:""})]},e)}))})]})},F=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;return Object(S.jsxs)("div",{className:"col-12 pickupOrderCancelPanel",children:[Object(S.jsx)("span",{children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CHANGED_YOUR_MIND)}),null!==o&&void 0!==o&&o.showCancelOrderNumber?Object(S.jsx)("span",{children:Object(S.jsx)("a",{className:"pickupOrderCancelPanelBtn","data-testid":"pickupOrderCancelBtn",href:(null===r.oc||void 0===r.oc?void 0:r.oc.TEL)+Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CONTACTUS_NUMBER),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CONTACTUS_DISPLAYTEXT)})}):Object(S.jsx)("span",{"data-testid":"pickupOrderCancelPanelBtn",tabIndex:"0",className:"pickupOrderCancelPanelBtn",onClick:()=>t({isShowPickupOrderCancelModal:!0}),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_ORDER_BUTTON_TEXT)})]})},U=e=>{var t,o,n,c,u;const{closeModalHandler:v,orderDetails:m}=e,{isShowPickupOrderCancelModal:b,isShowStoreClosePickupOrderCancelModal:j}=m,p=null===m||void 0===m||null===(t=m.store)||void 0===t?void 0:t.phoneNumber,h=null===m||void 0===m||null===(o=m.paymentReferences)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.paymentType;return Object(S.jsxs)("div",{className:"pickupCancelOrderModal",children:[Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.CartError,alt:"pickupCancelOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[b&&Object(O.Jd)(null===m||void 0===m?void 0:m.service)?Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_DELIVERY_ORDER):Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_PICKUP_ORDER),j&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===m||void 0===m||null===(c=m.store)||void 0===c?void 0:c.name}),Object(S.jsx)("div",{children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.HAS_NOW_CLOSED)})]})]}),b&&Object(S.jsx)("div",{className:"message-refund",children:null===(u=Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.FULL_PAYMENT_REFUND))||void 0===u?void 0:u.replace("{{storePhoneNumber}}",p)}),h!==(null===r.Vd||void 0===r.Vd?void 0:r.Vd.PAY_BY_CASH)&&j&&Object(S.jsx)("div",{className:"message-refund",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsxs)("div",{className:"buttonItems",children:[b&&Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:v,children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.KEEP_ORDER)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>Object(d.g)(e),children:m.enableCancelOrderCallsupportModal?Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CALL_SUPPORT_ORDER_BUTTON_TEXT):Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_ORDER_BUTTON_TEXT)})]})]})},H=e=>{const{closeModalHandler:t}=e;return Object(S.jsxs)("div",{className:"pickupGeoLocationVerifyModal",children:[Object(S.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.LocationError,alt:"pickupGeoLocationVerifyModal"}),Object(S.jsx)("div",{className:"message-cancel",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.READY_TO_START_COOKING)}),Object(S.jsx)("div",{className:"message-refund",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CONFIRM_YOU_ARE_HERE_TEXT)}),Object(S.jsxs)("div",{className:"buttonItems",children:[Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.I_AM_ELSE_WHERE_TEXT)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>C(e),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.I_AM_HERE_TEXT)})]})]})}},1175:function(e,t,o){"use strict";o(3);var i=o(1142),a=o(5),l=o(2);t.a=e=>Object(a.T)(e.subCategory).map(((t,o)=>{let{categories:a="",products:n=[],id:d="",dname:r}=t;return Object(l.jsxs)("div",{id:d,children:[Object(l.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(l.jsx)("div",{children:r[0].value}),a]}),Object(l.jsx)(i.a,{productList:n,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},o)}))},1177:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));let i,a;(async()=>{let t=await(async()=>{var t,i,a,l,n;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(o.bind(null,215));return null===r||void 0===r||null===(a=r.default)||void 0===a||null===(l=a[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===l?void 0:l.RECOMMENDED_CONSTANTS})();i=null===t||void 0===t?void 0:t.RECOMMENDED_CONSTANTS,a=null===t||void 0===t?void 0:t.RESPONSIVE_CONFIG})()}).call(this,o(121))},1179:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(1130),d=o(963),r=o(55),s=o(16),c=o(85),u=o(1159),v=o(2);var O=e=>{const{DISPOSITION_DATA:t=""}=s.a,{userOrderState:o,userOrderStateDispatch:l}=Object(i.useContext)(c.a)||{};return Object(i.useEffect)((()=>{l({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(a.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(v.jsx)(n.a,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:r.y}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:r.y})]})})},m=o(5),b=o(1160);t.a=()=>{var e,t,o,i;const{DISPOSITION:a}=b.a;let n=null,d=null,r=Object(l.c)((e=>e.appStateReducer.userStatus));const s=Object(l.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(s.marketPageContent&&s.tenantReducerContent&&s.homePageContent){const{tenant:e=[]}=s.marketPageContent.headerData||{};n=Object(m.fc)(s.homePageContent)||null,d=Object(m.Yc)(e)}return Object(v.jsx)(O,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[a])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(o=null===(i=n)||void 0===i?void 0:i[a])&&void 0!==o?o:{}},userParams:r,tenantReducerData:s.tenantReducerContent})}},1180:function(e,t,o){"use strict";o.d(t,"a",(function(){return h})),o.d(t,"b",(function(){return E})),o.d(t,"c",(function(){return x})),o.d(t,"e",(function(){return D})),o.d(t,"d",(function(){return y}));var i=o(1120),a=o.n(i),l=o(6),n=o(210),d=o(4),r=o(15),s=o(1209),c=o(265),u=(o(3),o(2));var v=e=>(e=>Object(u.jsx)(n.a,{...e,testId:"order_summary_raider_details_view",importPath:"ORDER_SUMMARY_RAIDER_DETAILS_VIEW"}))(e),O=o(0),m=o(5),b=o(1108),j=o(399);const p=e=>{const{orderDetails:t,arrivalTime:o,showDeliveryEstimatedTime:i,pastOrderTimeFormat:a}=e,{orderStatus:l,deliveryOrEstimatedOrCollectAtTime:n}=t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(l,"-delivery"),children:i&&null==o?"":I(t)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:i?N({orderDetails:t,arrivalTime:o,pastOrderTimeFormat:a}):f(t)})]})},h=e=>{var t;const{orderSummarycontentData:o,total:i,currencySymbol:a,currencyConversionFactor:l}=e,n=null===o||void 0===o||null===(t=o.payOnArrivalSubheadline)||void 0===t?void 0:t.replace(O.wf,'<span class="red">'.concat(Object(m.K)(i,{currencySymbol:a,currencyConversionFactor:l}),"</span>")),d="<div class='subheadline-content'>".concat(n,"</div>");return Object(c.B)(e)?d:null===o||void 0===o?void 0:o.payOnArrivalSubheadline},g=e=>{var t,o;const{orderDetails:i,isUberServiceableEnabled:l}=e,n=null!==i&&void 0!==i&&null!==(t=i.requestedDateTime)&&void 0!==t&&t.isForNow||l&&Object(j.e)(null===i||void 0===i||null===(o=i.deliveryDetails)||void 0===o?void 0:o.partnerName)?null===i||void 0===i?void 0:i.orderTrackingProgressBarCount:null===i||void 0===i?void 0:i.orderTrackingProgressBarScheduleOrdersCount;let d=[];const r=Object(b.e)(i);return 0!==r&&a()(n,(e=>{d.push(Object(u.jsx)("div",{className:"ProgressDelivery Bar",children:Object(u.jsx)("div",{className:"subProgressDelivery ".concat(e<r?e===r-1?"play":"full":"none")},e)},e))})),r>0&&r<=n&&Object(u.jsx)("div",{className:"progress-bar-list col-12",children:d})},S=e=>{var t,o,i;const{orderDetails:a}=e,{orderStatus:l,orderSummarycontentData:n,enableRetryCountForPickupOrderTracking:d,enableClickCollectScheduleOrder:s}=a,{ConfirmedImg:v,TakeAwayImg:O,DeliveryTracker:m,DeliveryCart:b,CartError:j,TakeawayCompleted:p}=r.a,h=d&&!s?null===n||void 0===n||null===(t=n.icon)||void 0===t||null===(o=t.fields)||void 0===o||null===(i=o.file)||void 0===i?void 0:i.url:Object(c.O)(a)?v:Object(c.J)(a)?O:Object(c.G)(a)||Object(c.R)(a)?p:Object(c.P)(a)||Object(c.N)(a)||Object(c.F)(a)?m:Object(c.K)(a)?b:Object(c.I)(a)?j:v;return""!==h&&Object(u.jsx)("img",{src:h,alt:l})},I=e=>{const{orderSummarycontentData:t}=e,o=null===t||void 0===t?void 0:t.mainHeadingOne;if(null!==o&&void 0!==o&&o.includes(O.gf))return null===e||void 0===e?void 0:e.storeName;if(null!==o&&void 0!==o&&o.includes(O.tb)){const i={...t,subHeadline:o};return Object(u.jsx)("div",{className:"substatusmsgDelivered",dangerouslySetInnerHTML:{__html:Object(b.q)(i,e)}})}return Object(l.translateWithI18Next)(null===t||void 0===t?void 0:t.mainHeadingOne)},f=e=>{const{orderSummarycontentData:t,deliveryOrEstimatedOrCollectAtTime:o}=e,i=null===t||void 0===t?void 0:t.mainHeadingTwo;return null!==i&&void 0!==i&&i.includes(O.Qd)?Object(s.d)(e):i?o:void 0},N=e=>{var t;const{arrivalTime:o,orderDetails:i,pastOrderTimeFormat:a}=e;return Object(c.D)(i)?"".concat(Object(m.bd)(null===i||void 0===i||null===(t=i.deliveryDetails)||void 0===t?void 0:t.actualDeliveryTime,a)):o},C=e=>{var t;const{orderDetails:o,isUberServiceableEnabled:i}=e,{orderStatus:a,enableRetryCountForPickupOrderTracking:n,enableClickCollectScheduleOrder:r,orderSummarycontentData:s,showPinCode:v,deliveryPinDetails:O}=o,m=Object(j.e)(null===o||void 0===o||null===(t=o.deliveryDetails)||void 0===t?void 0:t.partnerName)&&i,p=!n&&!m||r?Object(c.a)(o):Object(b.h)(o),h=!Object(c.r)(o)&&!Object(c.I)(o)||r?Object(b.i)(o):Object(b.c)(o);return Object(u.jsxs)("div",{children:[""!==p&&Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(a,"-delivery-allSet col-12 ").concat(Object(c.L)(o)?"":"p-0px-imp"," ").concat(i?"allSet-smaller-font":""),children:Object(u.jsx)("span",{children:Object(l.translateWithI18Next)(p)})}),""!==h&&!Object(c.A)(o)&&Object(u.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:h}}),(null===s||void 0===s?void 0:s.description)&&Object(u.jsxs)("div",{className:"emailConfirmTxt",children:[" ",Object(l.translateWithI18Next)(null===s||void 0===s?void 0:s.description)]}),v&&O&&(null===O||void 0===O?void 0:O.isPinEnabled)&&!Object(c.L)(o)&&Object(u.jsxs)("div",{className:"row pincode-section",children:[Object(u.jsxs)("span",{children:[Object(l.translateWithI18Next)(d.a.PIN_CODE),":"]}),Object(u.jsx)("span",{children:O.pin})]})]})},T=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:i}=t,a=(null===o||void 0===o?void 0:o.otp)||(null===i||void 0===i?void 0:i.otp);return!Object(c.O)(t)&&a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ASK_FOR_OTP)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:a})})]})},E=e=>Object(u.jsxs)(u.Fragment,{children:[!Object(b.l)(null===e||void 0===e?void 0:e.orderDetails)&&!Object(c.I)(null===e||void 0===e?void 0:e.orderDetails)&&p(e),S(e),!Object(b.m)(null===e||void 0===e?void 0:e.orderDetails)&&g(e),C(e),T(e)]}),x=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:i}=t;return Object(u.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts",className:"iframe-ordertrackingmaps",title:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.TRACK_ORDER),src:(()=>{const e=(null===o||void 0===o?void 0:o.tracking_url)||(null===i||void 0===i?void 0:i.deliveryTrackingUrl);return(e&&-1===e.indexOf(O.Lc)?O.Lc:"")+e})()})},D=e=>{const{deliveryAddress:t,store:o,deliveryDetails:i}=null===e||void 0===e?void 0:e.orderDetails;if(Object(m.pe)(o)&&Object(m.pe)(t)){var a,l,d,r;const s=[null===o||void 0===o||null===(a=o.location)||void 0===a?void 0:a.latitude,null===o||void 0===o||null===(l=o.location)||void 0===l?void 0:l.longitude],c=[null===t||void 0===t||null===(d=t.location)||void 0===d?void 0:d.latitude,null===t||void 0===t||null===(r=t.location)||void 0===r?void 0:r.longitude];return(e=>Object(u.jsx)(n.a,{...e,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0,storeLatLng:s,customerLatLng:c,raiderCurrentLatLng:null===i||void 0===i?void 0:i.riderLocation,stylers:A}))(e)}},y=e=>{const{orderDetails:t}=e;return(Object(c.y)(t)||Object(c.fb)(t))&&Object(u.jsx)(v,{...e})},A=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#202124"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#202124"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e3e3e3"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17}]}]},1184:function(e,t,o){"use strict";var i=o(3),a=o(28),l=o(59),n=o(66),d=o(332),r=o(6),s=o(4),c=o(144),u=o(46),v=o(15),O=o(55),m=o(5),b=o(41),j=o(2);var p=e=>{const{onCancel:t,setOccasionNameHandler:o,updateFavouriteOrder:i,occasionName:a,isNameExist:l,isInValid:n,isEditOrderName:d=!1,onClearTextHandler:c,disaableButton:O,editFavHeading:m=!1,isAddFavOrderBox:p=!1,errorMessage:h}=e,{CANCEL:g,SAVE:S,OCCASSION_ADD_HEADING:I,OCCASSION_EDIT_HEADING:f,ORDER_PLACEHOLDER:N,NAME_EXIST:C,OCCASION_NAME_VALIDATION:T,EDIT_FAVOURITE_HEADING:E,SAVE_FAV_ORDER:x,PLEASE_FILL_OUT_THIS_FIELD:D}=s.a,y=d?m?E:f:I,A=n?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(r.translateWithI18Next)(p?x:y)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:a,type:"text","data-testid":"occasion-input",className:l||n?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>o(e,d),title:Object(r.translateWithI18Next)(D)}),Object(j.jsx)("label",{children:Object(r.translateWithI18Next)(N)}),n&&Object(j.jsxs)("div",{className:"error-text-container ".concat(A),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(r.translateWithI18Next)(h)})]}),""!==a?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>c()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(b.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(r.translateWithI18Next)(g)}),Object(j.jsx)(b.a,{disabled:O,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>i(),children:Object(r.translateWithI18Next)(S)})]})]})};t.a=e=>{const{isMobile:t,editItemId:o,setEditItemId:b,showOccassionModal:h,setOccassionModalOpen:g,cardInfo:S,toastmessage:I,hasEdit:f=!1,occasionName:N,setOccasionName:C,isAddFavOrderBox:T,updateSetOrderDetails:E,userParams:x,currencyShortName:D,currencyConversionFactor:y,orderDetail:A,productMapById:_}=e,R=Object(a.b)(),[L,P]=Object(i.useState)(""),[w,M]=Object(i.useState)(""),[k,F]=Object(i.useState)(!0),[U,H]=Object(i.useState)([]),B=Object(a.c)((e=>{var t;return Object(m.rd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:W,phone:G}=Object(a.c)((e=>{var t;return Object(m.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:V,favouriteNameMinLength:Y}=Object(a.c)((e=>Object(m.rd)(e.tenantReducer))),{tenantId:z}=Object(a.c)((e=>Object(m.sd)(e.tenantReducer))),[K,q]=Object(i.useState)(!1),[J,Q]=Object(i.useState)(!1),[X,Z]=Object(i.useState)(""),{FavoriteActiveWhite:$}=v.a,ee=Object(j.jsx)(u.a,{srcFile:$}),te=Object(r.translateWithI18Next)(s.a.FAVORITE_ORDER_NAME_EDITED),oe=Object(m.ad)(f,"occassion-modal","OccassionModal"),ie=Object(m.ad)(f,"edit-modal",""),{NAME_EXIST:ae,OCCASION_NAME_VALIDATION:le,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:ne,OCCASION_NAME_LENGTH_ERROR:de}=s.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{M(N),P(N)}),[h]),Object(i.useEffect)((()=>{L&&Object(m.hb)(!K,!J)&&(null===L||void 0===L?void 0:L.length)>=Y?F(!1):F(!0)}),[L,K,J]);const re=Object(m.ad)(f,(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===U||void 0===U?void 0:U.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),i=null===V||void 0===V?void 0:V.test(L);let a=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(m.jb)(!i,0===a))q(!0);else if(i&&t>=0&&w!==L)Q(!0),q(!1);else{const e={tenantId:z,customerId:W,phoneNumber:Object(m.Pc)(G)},t={orderId:o,name:L};R(Object(d.a)(e,t)),b(""),ce(),Object(m.Df)(te,ee,"favorites-added-toast"),setTimeout((()=>{l.b.dismiss()}),3e3)}}),(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===U||void 0===U?void 0:U.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=null===V||void 0===V?void 0:V.test(L);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(m.jb)(!o,0===i))q(!0);else if(o&&t>=0)Q(!0),q(!1);else{const{id:e}=S;R(Object(d.a)({customerId:W,tenantId:z,phoneNumber:Object(m.Pc)(G)},{orderId:e,name:L})),Object(m.hb)(h,E)&&E({saveFavoriteSummarySucess:!0}),ce(),Object(m.Df)(I,ee,"favorites-added-toast"),setTimeout((()=>{l.b.dismiss()}),3e3);const t=[],o={userType:Object(m.od)(null===x||void 0===x?void 0:x.localized,null===x||void 0===x?void 0:x.loggedIn),coupon:(null===A||void 0===A?void 0:A.discountLines)||"NA",value:((null===A||void 0===A?void 0:A.total)/y).toFixed(2),currency:D},i=(null===A||void 0===A?void 0:A.orderedItemDetails)||(null===A||void 0===A?void 0:A.filteredFoodLines);null===i||void 0===i||i.forEach(((e,o)=>{var a,l,n,d,r,s,c,u,v,O,m,b;const{categoryId:j="NA",categoryName:p="NA"}=null!==(a=null===_||void 0===_?void 0:_[null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id])&&void 0!==a?a:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)||"NA",item_id:void 0!==(null===A||void 0===A?void 0:A.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,price:Number(((null===e||void 0===e?void 0:e.amount)/y).toFixed(2))||0,item_category:""!==p?(null===(r=i[o])||void 0===r?void 0:r.categoryUrl)||(null===(s=i[o])||void 0===s||null===(c=s.item)||void 0===c?void 0:c.categoryUrl):p,item_list_name:""!==p?(null===(u=i[o])||void 0===u?void 0:u.categoryUrl)||(null===(v=i[o])||void 0===v||null===(O=v.item)||void 0===O?void 0:O.categoryUrl):p,item_list_id:void 0!==(null===A||void 0===A?void 0:A.orderedItemDetails)?""!==j?null===(m=i[o])||void 0===m?void 0:m.id:j:null===e||void 0===e||null===(b=e.item)||void 0===b?void 0:b.id,index:o,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(O.i)(t,o)}}));Object(i.useEffect)((()=>{const e=[];null===B||void 0===B||B.map((t=>{var o,i;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(o=t.name)||void 0===o||null===(i=o.toUpperCase())||void 0===i?void 0:i.trim())})),H(e),o&&(q(!1),Q(!1))}),[o]);const se={id:"occassion-modal",role:"dialog",modalTitleId:oe,show:h,classNames:"Base-modal ".concat(Object(m.ad)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>ce(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ce=Object(m.ad)(f,(()=>{Q(!1),q(!1),g(!1)}),(()=>{g(!1)}));return Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(m.Pc)(o),updateUserData:!0};i(Object(n.d)(a))}})(z,W,G,R)}),[R,z,W,G]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(c.a,{...se,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(p,{onCancel:ce,setOccasionNameHandler:(e,t)=>{var o;const i=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,a=null===U||void 0===U?void 0:U.includes(null===i||void 0===i?void 0:i.toUpperCase()),l=null===V||void 0===V?void 0:V.test(i),n=(null===i||void 0===i?void 0:i.length)<3;let d="";""!==i&&(n&&!l?d=ne:n?d=de:l?a&&(d=ae):d=le),F(!!d),q(!!d),Q(d===ae),Z(d),C(i),P(i)},updateFavouriteOrder:re,occasionName:L,isNameExist:J,isInValid:K,onClearTextHandler:()=>{C(""),P(""),Q(!1),q(!1)},disaableButton:k,isEditOrderName:f,editFavHeading:f,"data-testid":ie,isAddFavOrderBox:T,errorMessage:X})})})})})})}},1185:function(e,t,o){"use strict";o.d(t,"a",(function(){return S})),o.d(t,"b",(function(){return I}));var i=o(4),a=o(0),l=o(267);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:n}=l.b,{DELIVERY:d}=a.Jb||{},{DELIVERY_PLACEHOLDER:r,SELECT_KFC_TITLE:s,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:O,STORE_CLOSE_ERROR_DELIVERY:m,SAVED_ADDRESS:b,DELIVER_TO_YOU:j,ORDER_MODE:p,SELECT_STORE_TEXT:h,START_ORDER:g}=i.a,S="FORM",I={["".concat(d,"_").concat(S)]:{placeholder:r,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:m,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:s,orderModeScreenErrorText:m,placeholder:r,kfcStoresCountText:j,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("SAVED")]:{placeholder:r,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:m,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n}}},1186:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(41),d=o(6),r=o(4),s=o(394),c=o(85),u=o(43),v=o(80),O=o(132),m=o(2);const{SAVED_ADDRESS:b,START_ORDER:j,SAVED_ADDRESSES:p}=r.a,{SAVED_ADDRESS_LIMIT:h}=u.a,g=e=>{var t;const o=Object(O.a)(),{handleSelectAddress:a,savedAddresses:r=[],show:u,scheduleOrderDateFormat:g}=e,S=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),I=null===S||void 0===S||null===(t=S.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:f}=Object(i.useContext)(c.a),N=null===r||void 0===r?void 0:r.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,h),C=(null===r||void 0===r?void 0:r.length)>1?Object(d.translateWithI18Next)(p):Object(d.translateWithI18Next)(b),T=(null===r||void 0===r?void 0:r.length)>h?h:r.length;return u&&Object(m.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(m.jsx)("div",{className:"savedAddress-store-count",children:Object(m.jsx)("span",{className:"saved-address-count-title",children:"".concat(C," (").concat(T,")")})}),null===N||void 0===N?void 0:N.map(((e,t)=>{var i,l;return Object(m.jsx)("div",{className:"savedAddress-module-card",children:Object(m.jsxs)("div",{className:"inside-card",children:[Object(m.jsxs)("div",{className:"address-section",children:[Object(m.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),I&&Object(m.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(m.jsxs)("span",{children:[" ",null===e||void 0===e||null===(i=e.addressLines)||void 0===i||null===(l=i.filter(Boolean))||void 0===l?void 0:l.join(" ")," "]})}),!I&&Object(m.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(m.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(m.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(m.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(m.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(m.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(m.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(n.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(s.U)(e,f,a,o,v.d,g),"data-testid":"saved-start-order-click-test",children:Object(d.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},S=a.a.memo(g);t.a=S},1189:function(e,t,o){"use strict";o(3);var i=o(214),a=o(172),l=o(266),n=o(2);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?Object(i.a)(Object(l.documentToHtmlString)(e).replace(/<p>/gi,t).replace(/<\/p>/gi,t)):""},r=e=>{let{data:t}=e;const{html:o,css:i,javascript:l}=t,r=d(o),s=d(i),c=d(l,"\n\n");return Object(n.jsxs)(n.Fragment,{children:[(l||i)&&Object(n.jsxs)(a.a,{children:[l&&Object(n.jsx)("script",{type:"text/javascript",children:c}),i&&Object(n.jsx)("style",{type:"text/css",children:s})]}),o&&Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})]})};r.defaultProps={},t.a=r},1190:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(6),d=o(4),r=o(16),s=o(0),c=o(5),u=o(85),v=o(46),O=o(144),m=o(262),b=o(1095),j=o(132),p=o(80),h=o(1125),g=o(35),S=o(145),I=o(395),f=o(235),N=o(15),C=o(2);const{CHOOSE_ANY_PRODUCT:T}=d.a;t.a=e=>{var t,o,E,x,D;const{PLP_PDP_DETAILS:y,SET_MULTI_PRODUCT_VIEW_MODAL:A}=r.a,{userOrderStateDispatch:_,userOrderState:R}=Object(i.useContext)(u.a),L=Object(l.c)((e=>e.storesReducer)),P=Object(l.c)((e=>e.cartReducer)),w=Object(l.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{isDealModalOpen:M,handleClose:k,viewProductCardData:F,imageContainerSize:U,tenantId:H,addToOrderClickHandler:B}=Object(c.sd)(e),{item:W,titleValue:G,promoParams:V,priceDetails:Y}=Object(c.sd)(F),{itemDetails:z}=Object(c.sd)(W),K=Object(l.c)((e=>e.tenantReducer)),{data:{categories:q=[]}={}}=Object(l.c)((e=>{let{menuReducer:t}=e;return t||{}})),J=Object(j.a)(),Q=(null===L||void 0===L||null===(t=L.storesWithStatus)||void 0===t?void 0:t.length)&&(null===L||void 0===L||null===(o=L.storesWithStatus[0])||void 0===o||null===(E=o.summary)||void 0===E?void 0:E.timeZoneIANA),X={id:"productDetailsPopUp",role:"dialog",modalTitleId:"productDetailsPopUp",show:{isProductModalOpen:M},classNames:"multi-product-wrapper-modal",showCloseBtn:!0,closeButtonHandler:k,modalTitle:G,autoFocus:!0},{headerData:{plpBackgroundImage:Z={}}={}}=Object(l.c)((e=>{var t;return Object(c.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),$=Object(c.lb)(Z),ee=Object(c.Sd)(R.dispositionNew)?JSON.parse(localStorage.getItem(s.Hb)):R.dispositionNew,te=Object(i.useMemo)((()=>({storeInfo:ee?ee.store:{}})),[ee,R,K]),oe=Object(l.b)(),[ie,ae]=Object(i.useState)(""),[le,ne]=Object(i.useState)(!1),{ADD_TO_CART:de}=f.a,re=null===K||void 0===K||null===(x=K.componentOptions)||void 0===x||null===(D=x.PlpProductCard)||void 0===D?void 0:D.allowClickOnProductCard,se=(t,o,i,a,l,n,d,r,u)=>{var v,O,b,j,h;let g={productId:t,customizable:o,categoryId:i,catalogName:l,productInfo:a,isFromPlp:!0,categoryName:r,categoryUrl:n,url:u};const{url:S}=null!==(v=null===w||void 0===w||null===(O=w.productMapByItemId)||void 0===O?void 0:O[d])&&void 0!==v?v:{};_({type:y,value:g}),_({type:A,isFromMultiProductViewModal:!0}),localStorage.setItem(s.gd.PRODUCT_DETAILS,JSON.stringify(g)),null===e||void 0===e||null===(b=e.history)||void 0===b||b.push({pathname:Object(c.xc)(n,S||u,null===e||void 0===e||null===(j=e.history)||void 0===j||null===(h=j.location)||void 0===h?void 0:h.pathname)}),J(Object(p.d)({key:s.gd.VIEW_PRODUCT,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y}})),J(Object(p.d)({key:s.gd.PROMO_PRODUCT_CART,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y,isPromo:!0}})),_({type:m.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})},ce=t=>{var o,i,a,l,n,d;const r=null!==(o=null===w||void 0===w||null===(i=w.productMapByItemId)||void 0===i?void 0:i[t])&&void 0!==o?o:{},u=null!==(a=null===w||void 0===w||null===(l=w.productMapByItemId)||void 0===l||null===(n=l[t])||void 0===n||null===(d=n.itemMapByItemId)||void 0===d?void 0:d[t])&&void 0!==a?a:{},v=null===w||void 0===w?void 0:w.catalogName,O=null===r||void 0===r?void 0:r.customizable;ae(r),J(Object(p.d)({key:s.gd.VIEW_PRODUCT,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y}})),ne(null===r||void 0===r?void 0:r.customizable),oe(Object(S.c)({tenantId:H,catalogName:v,itemId:t})),O?oe(Object(g.v)({showProductListingModal:!0,categorySelected:null===ie||void 0===ie?void 0:ie.categoryId})):((t,o)=>{var i,a;const{id:l,categoryId:n,categoryName:d,url:r}=t;oe(Object(g.a)({params:{basketId:null===P||void 0===P||null===(i=P.cartData)||void 0===i?void 0:i.id},tenantId:H},[{Id:l,categoryId:n,quantity:(null===V||void 0===V||null===(a=V.find((e=>(null===e||void 0===e?void 0:e.itemId)===l)))||void 0===a?void 0:a.quantity)||1,modGrps:[],categoryName:d,categoryUrl:r,isProductPromo:!0}],(()=>{B({couponCode:null===W||void 0===W?void 0:W.couponCode}),k(),!o&&1===(null===z||void 0===z?void 0:z.length)&&Object(c.Qe)(e)})))})(u,O)},ue=()=>{const{Error:e}=N.a;return Object(C.jsxs)("div",{className:"unavailable-container",children:[Object(C.jsx)("img",{src:e,className:"unavailable-icon",alt:"product-unavaliable"}),Object(C.jsx)("span",{className:"unavailable-text",children:Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PRODUCT_UNAVAILABLE)})]})},ve=e=>{var t,o,i,a,l,d,r,u;let{item:O,params:m}=e;const{dname:j=[],imageName:p,content:h,availability:g=[],customizable:S,id:f,categoryUrl:N,url:T,isNotAvailable:E}=Object(c.sd)(O),x=Object(b.k)(g,Q),{caloricValue:D}=Object(c.sd)(h),y=D,{storeInfo:A}=Object(c.sd)(m);let _=N&&N[0];_=null===(t=_)||void 0===t||null===(o=t.split("-").join(" "))||void 0===o?void 0:o.toUpperCase();let R=null===q||void 0===q?void 0:q.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===_}));const L=R&&R[0],P=null===L||void 0===L?void 0:L.name,w=f,M=null===L||void 0===L?void 0:L.id,k={productName:j,productImage:p,productPrice:Object(c.Ec)(x,null===K||void 0===K?void 0:K.currencyConversionFactor,Q)},F=A&&(null===A||void 0===A||null===(i=A.summary)||void 0===i||null===(a=i.menu)||void 0===a||null===(l=a.catalogs)||void 0===l?void 0:l.length)&&(null===A||void 0===A||null===(d=A.summary)||void 0===d||null===(r=d.menu)||void 0===r?void 0:r.catalogs[0])||(null===K||void 0===K?void 0:K.genericMenuName)||"",H=(e=>null===e||void 0===e?void 0:e.map((e=>({...e,price:null!==e&&void 0!==e&&e.promoPrice&&(null===e||void 0===e?void 0:e.promoPrice)<(null===e||void 0===e?void 0:e.price)?null===e||void 0===e?void 0:e.promoPrice:null===e||void 0===e?void 0:e.price}))))(g),B=Object(b.k)(H,Q);return Object(C.jsx)("div",{class:"container","data-testid":"container-test",children:Object(C.jsx)("main",{class:"grid ".concat(E?"product-card-deactive":""),"data-testid":"card-box-test",onClick:()=>re?se(w,S,M,k,F,N,f,P,T):ce(f),children:Object(C.jsxs)("article",{children:[Object(C.jsx)("div",{className:"product-image-parent-container",style:Object(c.mb)($,U,U),children:Object(C.jsx)(v.a,{"data-testid":"multi-product-image",className:"multi-product-image",defaultPath:Object(c.bc)(null,K,!0),srcFile:Object(c.qc)(h,U,U),alt:""})}),Object(C.jsxs)("div",{class:"description-txt",children:[Object(C.jsx)("span",{className:"desc",children:null===(u=j[0])||void 0===u?void 0:u.value}),E?ue():Object(C.jsxs)("div",{className:"".concat(re?"":"align-button"),children:[Object(C.jsxs)("span",{className:"price-value",children:[null===K||void 0===K?void 0:K.currencySymbol,Object(c.Ec)(B,null===K||void 0===K?void 0:K.currencyConversionFactor,Q).toFixed(s.gg)]}),Object(C.jsx)("span",{children:y&&Object(C.jsx)("span",{className:"kj-info",children:" ".concat(y," ").concat(null===K||void 0===K?void 0:K.kilojoule)})}),!re&&Object(C.jsxs)(I.a,{tabIndex:"0",className:"button redButton model-cart-button",children:[" ",Object(n.translateWithI18Next)(de)]})]})]})]})})})};return Object(i.useEffect)((()=>{(null===w||void 0===w?void 0:w.productMapByItemId)&&1===(null===z||void 0===z?void 0:z.length)&&(e=>{var t,o,i,a,l,n,d,r,s;const{storeInfo:u,tenantReducer:v}=te,{imageName:O,dname:m,availability:j,customizable:p,id:h,categoryUrl:g}=null!==(t=(null===e||void 0===e||null===(o=e.itemDetails)||void 0===o?void 0:o.length)&&(null===e||void 0===e?void 0:e.itemDetails[0]))&&void 0!==t?t:{};if(!re)return void ce(h);let S=g&&g[0];S=null===(i=S)||void 0===i||null===(a=i.split("-").join(" "))||void 0===a?void 0:a.toUpperCase();const I=Object(b.k)(j,Q);let f=null===q||void 0===q?void 0:q.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===S}));const N=f&&f[0],C=null===N||void 0===N?void 0:N.name,T=h,E=null===N||void 0===N?void 0:N.id,x={productName:m,productImage:O,productPrice:Object(c.Ec)(I,null===v||void 0===v?void 0:v.currencyConversionFactor,Q)},D=u&&(null===u||void 0===u||null===(l=u.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===u||void 0===u||null===(r=u.summary)||void 0===r||null===(s=r.menu)||void 0===s?void 0:s.catalogs[0])||(null===v||void 0===v?void 0:v.genericMenuName)||"";se(T,p,E,x,D,g,h,C)})(W)}),[]),Object(C.jsxs)(a.a.Fragment,{children:[z&&(null===z||void 0===z?void 0:z.length)>1&&Object(C.jsx)(O.a,{...X,"data-testid":"offers-deals-modal-testid",children:Object(C.jsxs)("div",{className:"multi-product-wrapper",children:[Object(C.jsx)("div",{className:"content",children:Object(C.jsx)("h4",{children:Object(n.translateWithI18Next)(T)})}),Object(C.jsx)("div",{className:"grid-container card-items container",children:null===z||void 0===z?void 0:z.map(((e,t)=>Object(C.jsx)(ve,{item:e,params:te},"card-item-".concat(t))))})]})}),(null===P||void 0===P?void 0:P.showProductListingModal)&&le&&Object(C.jsx)(h.a,{addToOrderClickHandler:B,closeParentModal:k})]})}},1191:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return u}));var i=o(3),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},a(e,t)};var l=50,n=50;function d(e){var t=e.className,o=e.counterClockwise,a=e.dashRatio,l=e.pathRadius,n=e.strokeWidth,d=e.style;return Object(i.createElement)("path",{className:t,style:Object.assign({},d,s({pathRadius:l,dashRatio:a,counterClockwise:o})),d:r({pathRadius:l,counterClockwise:o}),strokeWidth:n,fillOpacity:0})}function r(e){var t=e.pathRadius,o=e.counterClockwise?1:0;return"\n      M "+l+","+n+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+o+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+o+" 1 1 0,-"+2*t+"\n    "}function s(e){var t=e.counterClockwise,o=e.dashRatio,i=e.pathRadius,a=2*Math.PI*i,l=(1-o)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(t?-l:l)+"px"}}var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,o=e.minValue,i=e.maxValue;return(Math.min(Math.max(t,o),i)-o)/(i-o)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,o=e.className,a=e.classes,r=e.counterClockwise,s=e.styles,c=e.strokeWidth,u=e.text,v=this.getPathRadius(),O=this.getPathRatio();return Object(i.createElement)("svg",{className:a.root+" "+o,style:s.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(i.createElement)("circle",{className:a.background,style:s.background,cx:l,cy:n,r:50}):null,Object(i.createElement)(d,{className:a.trail,counterClockwise:r,dashRatio:t,pathRadius:v,strokeWidth:c,style:s.trail}),Object(i.createElement)(d,{className:a.path,counterClockwise:r,dashRatio:O*t,pathRadius:v,strokeWidth:c,style:s.path}),u?Object(i.createElement)("text",{className:a.text,style:s.text,x:l,y:n},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(i.Component);function u(e){var t=e.rotation,o=e.strokeLinecap,i=e.textColor,a=e.textSize,l=e.pathColor,n=e.pathTransition,d=e.pathTransitionDuration,r=e.trailColor,s=e.backgroundColor,c=null==t?void 0:"rotate("+t+"turn)",u=null==t?void 0:"center center";return{root:{},path:v({stroke:l,strokeLinecap:o,transform:c,transformOrigin:u,transition:n,transitionDuration:null==d?void 0:d+"s"}),trail:v({stroke:r,strokeLinecap:o,transform:c,transformOrigin:u}),text:v({fill:i,fontSize:a}),background:v({fill:s})}}function v(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}},1192:function(e,t,o){},1193:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var i=o(3),a=o.n(i),l=o(6),n=o(41),d=o(1172),r=o(4),s=o(46),c=o(15),u=(o(1227),o(2));const{Error:v}=c.a,O=e=>{const{showConfirmBtn:t=!1,onClickHandler:o}=e,{CONFIRM_BTN_TEXT:i}=r.a;return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(d.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(n.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:o,children:Object(l.translateWithI18Next)(i)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(s.a,{srcFile:v,className:"location-alert-icon"})})]})},m=a.a.memo(O)},1194:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(6),n=o(263),d=o(46),r=o(15),s=o(5),c=o(4),u=o(2);const v=e=>{const{isAlert:t,show:o,sectionHeader:i,subSectionValue:a,orderTypeChange:v,onClickHandler:O,description:m,storeUnavailableError:b,showChangeButton:j=!0,scheduleTimeWarning:p=!1,scheduleErrMsg:h="",cssSubsection:g,specialNote:S="",dataTestid:I="",elementUniqueLocator:f}=e;return o?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(l.translateWithI18Next)(i)}),Boolean(b)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&r.a.Error_Yellow||r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(l.translateWithI18Next)(b)}})]}),Boolean(p)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:h})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(g),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:a}),m&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:m}),S&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(l.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",S]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(n.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":f?I:"dynamic-click-test",children:Object(l.translateWithI18Next)(v)})})]})]}):null},O=a.a.memo(v);t.a=O},1195:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(6),n=o(15),d=o(430),r=o(4),s=o(120),c=o(1117),u=o(46),v=o(16),O=o(2);const m=e=>{const{show:t,sectionHeader:o,selectedDate:i,selectedTime:a,changeDateValue:m,changeTimeValue:b,dateTimeArr:j,showCateringWarning:p=!1,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",scheduleErrorType:S="",scheduleWarningMsg:I="",changeTimeObj:f={},changeDateObj:N={},placeholderText:C,disableDateOption:T=!1,disableTimeOption:E=!1,enableScheduleOrderFlag:x=!1,enableOrderCapacityManagement:D=!1,orderCapacity:y={},storeId:A="",elementUniqueLocator:_,isUberStore:R=!1}=e,{SingleArrow:L}=n.a,{DATE:P,TIME:w,UBER_TIME:M}=r.a,k=x?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",F=D?Object(s.n)(y,A,i,j):[],U=D?F:null===i||void 0===i?void 0:i.timeSlots;return t?Object(O.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(O.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(l.translateWithI18Next)(o)}),Object(O.jsx)(c.a,{show:null===p||void 0===p?void 0:p.show,errorMsg:null===p||void 0===p?void 0:p.warning,errImage:null===p||void 0===p?void 0:p.image,cssClass:null===p||void 0===p?void 0:p.cssClass}),h&&Object(O.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(O.jsx)(u.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(O.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(O.jsxs)("div",{className:k,children:[Object(O.jsx)(d.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(l.translateWithI18Next)(P),setSelectedItem:m,changeDateObj:N,changeTimeObj:f,dateTimeArr:j,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:L,options:Object(s.o)(j),dropdownId:"date-id",disableOptions:T,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&I&&S===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:I,dataTestid:"schedule-date",elementUniqueLocator:_}),Object(O.jsx)(d.a,{cssClass:"date-time-dropdown ".concat(D?"date-time-dropdown--order-capacity":""),dropdownTitle:R?Object(l.translateWithI18Next)(M):Object(l.translateWithI18Next)(w),setSelectedItem:b,changeDateObj:N,changeTimeObj:f,dateTimeArr:j,selectedItem:a,imgSrc:L,options:U,dropdownId:"time-id",placeholderText:C,disableOptions:E,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&I&&S===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:I,dataTestid:"schedule-time",elementUniqueLocator:_})]})]}):null},b=a.a.memo(m);t.a=b},1196:function(e,t,o){"use strict";var i=o(5),a=o(3),l=o(1221),n=o(46),d=o(1206),r=o(133),s=o(15),c=o(0),u=o(28),v=o(2);const{UseLocationIcon:O}=s.a,m=e=>{var t,o,s,m,b;const{eligibleStores:j,loggedIn:p,defaultStoreId:h,selectedCoords:g,passAddress:S,configSearchKey:I,useCurrentLocation:f,showLocationConfirmModal:N,findAKFC:C,favouriteStores:T,useLatLngForReverseGeocode:E,disableMapSelection:x=!1,disableUseLocationIcon:D=!1,markerDragValue:y=!1,zoomLevel:A=12}=e,_=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:R,countryCode:L}=_,P=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(s=o.dispositionConfig)||void 0===s?void 0:s.showLabelOnMapPin,w=null===R||void 0===R||null===(m=R.web)||void 0===m?void 0:m.dispositionConfig,{shouldShowStoresLocation:M,shouldShowStoreCardsMap:k,shouldShowMarkerWithText:F,shouldIgnoreStoreList:U,storeOpenBtnText:H}={...null===r.d||void 0===r.d?void 0:r.d[I],...null===w||void 0===w?void 0:w[I]},[B,W]=Object(a.useState)(Object(i.de)(window.innerWidth)),[G,V]=Object(a.useState)(h),[Y,z]=Object(a.useState)({storeDetails:{},storeIndex:0}),[K,q]=Object(a.useState)([]),[J,Q]=Object(a.useState)(!0),[X,Z]=Object(a.useState)(200),[$,ee]=Object(a.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,z({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),Q(Boolean(null===j||void 0===j?void 0:j.length))},oe=()=>{var e,t;const o=Object(i.de)(window.innerWidth);W(o);const a=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,l=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let n=.9*(l-a);if(o){var d,r;n=l-a-(null===(d=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(r=Y.storeDetails)||void 0===r?void 0:r.id)))||void 0===d?void 0:d.clientHeight)}ee(n)};Object(a.useEffect)((()=>(window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)})),[B]),Object(a.useEffect)((()=>{te(G)}),[G,T]),Object(a.useEffect)((()=>{j.length>0&&te(G)}),[j,G]),Object(a.useEffect)((()=>{const e=c.cd[L]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let o=null!==g&&void 0!==g&&g.lat?g:e;null!==t&&void 0!==t&&t.length?q(t):q(o)}),[T,G,j]),Object(a.useEffect)((()=>{var e,t;const o=null===(e=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(t=Y.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;o&&Z(o)}),[null===Y||void 0===Y||null===(b=Y.storeDetails)||void 0===b?void 0:b.id]),Object(a.useEffect)((()=>{oe()}),[]);const ie=Object(i.Je)(J,k);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(x&&"block-map"),children:[Object(v.jsxs)("div",{className:C?"".concat(Object(i.ad)(ie,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(l.a,{latLongValue:K,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:S,isVisible:M,isMobile:B,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===Y||void 0===Y?void 0:Y.storeIndex)-1])||void 0===t?void 0:t.id;te(e),V(e)}else if(1===e){var o;const e=null===j||void 0===j||null===(o=j[(null===Y||void 0===Y?void 0:Y.storeIndex)+1])||void 0===o?void 0:o.id;te(e),V(e)}},setShowCard:Q,setStoreMarker:e=>{const t=Object(i.X)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),V(null===t||void 0===t?void 0:t.id))},storeCardHeight:X,isMarkerVisible:U||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:F,locationAlertProp:F,style:{height:"".concat($,"px")},defaultZoom:A,useLatLngForReverseGeocode:E,markerDragValue:y,showLabelOnMapPin:P}),!D&&Object(v.jsx)("div",{className:"use-location-icon ".concat(N?"disable-location-icon":""),children:Object(v.jsx)(n.a,{srcFile:O,alt:"",onClick:f,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:C?"".concat(Object(i.ad)(ie,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:ie&&(null===Y||void 0===Y?void 0:Y.storeDetails)&&Object(v.jsx)(d.a,{store:null===Y||void 0===Y?void 0:Y.storeDetails,isMapView:!0,loggedIn:p,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:C,storeOpenBtnText:H})})]})};m.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=m},1197:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var i=o(3),a=o.n(i),l=o(6),n=o(263),d=o(46),r=o(269),s=o(394),c=o(15),u=o(2);const{LocationImage:v}=c.a,O=e=>{const{loggedIn:t=!1,formContent:o={},useCurrentLocation:i,storeSelection:a,hideLocationLink:c,showLocationConfirmModal:O}=e,{signInLink:m,useMyLocation:b}=a,{memberText:j="",singInLink:p={},currentLocationText:h=""}=o;return Object(u.jsxs)("div",{className:"login-section",children:[m&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(r.f)(j,s.R,p)}),b&&!c&&Object(u.jsx)("span",{className:"".concat(O?"disable-location-link":""),children:Object(u.jsxs)(n.a,{onClickHandler:i,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(d.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(l.translateWithI18Next)(h)]})})]})},m=a.a.memo(O)},1198:function(e,t,o){"use strict";var i=o(3),a=o(28),l=o(5),n=o(85),d=o(0),r=o(1199),s=o(62),c=o(1111);t.a=e=>{var t,o,u,v,O,m;const b=Object(s.g)(),{isOpen:j,handleClose:p,isModalView:h=!0,showOrderSummaryHeader:g=!1,orderHistoryPage:S=!1}=e,I=Object(a.b)(),{userOrderState:f}=Object(i.useContext)(n.a),N=Object(l.Sd)(f.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):f.dispositionNew,{type:C,store:T,orderDetails:E={}}=Object(l.Td)(N)?N:{},{helpReducer:x,orderReducer:D,postOrderReducer:y,tenantReducer:A}=Object(a.c)((e=>e)),_=Object(l.ic)(x.helpResponse||null),R=S?void 0:(null===D||void 0===D||null===(t=D.response)||void 0===t||null===(o=t.order)||void 0===o?void 0:o.deliveryPartners)||(null===y||void 0===y||null===(u=y.orderAccepted)||void 0===u?void 0:u.deliveryPartners),[L,P]=Object(i.useState)(R);return Object(i.useEffect)((()=>{Object(c.d)(I),P(R)}),[]),Object(l.Td)(_)&&Object(r.e)({contentData:_,service:g?null===E||void 0===E?void 0:E.type:C,store:g?null===E||void 0===E?void 0:E.store:T,isOpen:j,handleClose:p,isModalView:h,history:b,deliveryPartner:L,NeedHelpSectionDisplayFlag:null===A||void 0===A||null===(v=A.componentOptions)||void 0===v||null===(O=v.web)||void 0===O||null===(m=O.orderPages)||void 0===m?void 0:m.getDeliveryOrderStatusMessageFlag})}},1199:function(e,t,o){"use strict";o.d(t,"e",(function(){return v})),o.d(t,"b",(function(){return m})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return p})),o.d(t,"c",(function(){return g}));var i=o(6),a=o(210),l=o(4),n=o(0),d=o(5),r=o(144),s=o(2);const c=e=>Object(s.jsx)(a.a,{...e,testId:"need_help_view",importPath:"NEED_HELP_VIEW"}),u=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case n.Jb.DELIVERY:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.DELIVERY_TITLE);case n.Jb.PICKUP:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.PICKUP_TITLE)}return""},v=e=>null!==e&&void 0!==e&&e.isModalView?O(e):c(e),O=e=>{const{service:t,handleClose:o,isOpen:i}=e,a={role:"dialog",modalTitleId:"need-help-modal",show:!0,classNames:"need-help-modal",showCloseBtn:!0,closeButtonHandler:o,modalTitle:u(t),showBackBtn:!1,closeDataTestId:"close-need-help-modal",id:"NeedHelpModal",autoFocus:!0};return i&&Object(s.jsx)(r.a,{...a,children:c(e)})},m=e=>{var t;const{service:o,contentData:i,store:a,deliveryPartner:l}=e,{helpSectionCallDetails:d}=i;switch(null===o||void 0===o?void 0:o.toUpperCase()){case n.Jb.PICKUP:return(null===a||void 0===a?void 0:a.phoneNumber)||(null===a||void 0===a||null===(t=a.contacts.find((e=>e.key===n.Zd)))||void 0===t?void 0:t.value);case n.Jb.DELIVERY:default:return j(l,d)}},b=(e,t)=>{e.preventDefault();const{contentData:o,history:i,handleClose:a}=t,{helpSectionContactDetails:l}=o;a(),i.push({pathname:null===l||void 0===l?void 0:l.url})||i.push({pathname:null===l||void 0===l?void 0:l.internalURL})},j=(e,t)=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return"".concat(null===t||void 0===t?void 0:t.skedadelContactNo);case n.Ab.UBERDIRECT:return"".concat(null===t||void 0===t?void 0:t.uberDirectContactNo);case n.Ab.KFC_GENERIC_MSG:return"".concat(null===t||void 0===t?void 0:t.kfcGenericContactNo);default:return"".concat(null===t||void 0===t?void 0:t.contactNo)}},p=e=>{const{service:t,contentData:o,deliveryPartner:a}=e,{helpSectionCallDetails:d}=o;switch(null===t||void 0===t?void 0:t.toUpperCase()){case n.Jb.PICKUP:case n.Jb.CATERING:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CALL_KFC_STORE);case n.Jb.DELIVERY:default:return"".concat(null===d||void 0===d?void 0:d.buttonText," ").concat(j(a,d))}},h=e=>{var t;return e&&Array.isArray(e)?null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value:e},g=e=>{var t,o;const{service:i,contentData:a,store:l,deliveryPartner:r}=e,{helpSectionCallDetails:c,callsupportcontent:u=[]}=a;switch(null===i||void 0===i?void 0:i.toUpperCase()){case n.Jb.PICKUP:return Object(s.jsxs)("div",{children:[!u.length&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"bold-text",children:h(null===l||void 0===l?void 0:l.name)}),Object(s.jsx)("br",{}),Object(d.ac)((null===l||void 0===l?void 0:l.address)||(null===l||void 0===l?void 0:l.addresses))]}),u.length&&Object(s.jsx)("span",{children:null===(t=u[0])||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.description})]});case n.Jb.CATERING:return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"bold-text",children:h(null===l||void 0===l?void 0:l.name)}),Object(s.jsx)("br",{}),Object(d.ac)((null===l||void 0===l?void 0:l.address)||(null===l||void 0===l?void 0:l.addresses))]});case n.Jb.DELIVERY:default:return((e,t)=>{const o=(e,o,i)=>Object(s.jsxs)("span",{children:[null===t||void 0===t?void 0:t[e]," ",Object(s.jsxs)("span",{className:"bold-text",children:[null===t||void 0===t?void 0:t[o]," "]}),null===t||void 0===t?void 0:t[i]]});switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return o("skededal1","skededal2","skededal3");case n.Ab.UBERDIRECT:return o("uberDirect1","uberDirect2","uberDirect3");case n.Ab.KFC_GENERIC_MSG:return o("kfcGenericMsg1","kfcGenericMsg2","kfcGenericMsg3");default:return o("val1","val2","val3")}})(r,c)}}},1200:function(e,t,o){"use strict";o(3);var i=o(263),a=o(62),l=o(1127),n=o(55),d=o(2);const{INSTAGRAM:r,TWITTER:s,FACEBOOK:c,FAQ:u,TERMS_OF_USE:v,GIFT_CARD:O,ORDER_LOOKUP_NAME:m,EXTERNAL:b,YOUTUBE:j,SNAPCHAT:p,LINKEDIN:h,TIKTOK:g,LINE:S}=l.a;t.a=Object(a.j)((e=>{const{linkTo:t="",name:o,dataTestId:a="",onClickHandler:l,internalurl:I="",externalurl:f=""}=e;let N=null,C="",T=";";I?(N=o===m?"":I,T="internal"):f?(N=o===m?"":f,C="_blank",T="external"):[r,s,c,j,p,h,g,S].includes(o)?(N=t,C=t?"_blank":"",T="external"):N=t;return Object(d.jsx)("li",{children:Object(d.jsx)(i.a,{className:"support-links-menu",href:N,name:o,targetWindow:C,onClickHandler:t=>{Object(n.r)(o),(e=>{let{name:t,event:o,props:i,onClickHandler:a}=e;if(t!==o.name||o.type!==b)i.children===v||i.children===u||i.children===O||a(o),window.scrollTo(0,0)})({name:o,event:t,props:e,onClickHandler:l})},tabIndex:"0","data-testid":a,type:T,children:e.children})})}))},1201:function(e,t,o){"use strict";var i=o(396),a=o(85),l=o(3),n=o(5),d=o(15),r=o(6),s=o(106),c=o(92),u=o(62),v=o(28),O=o(409),m=o(16),b=o(2);t.a=()=>{const{userOrderState:e,userOrderStateDispatch:t}=Object(l.useContext)(a.a),{menuReducer:o,contentReducer:j}=Object(v.c)((e=>e)),p=Object(v.c)((e=>Object(n.sd)(e.storesReducer))),h=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),g=Object(v.c)((e=>e.cartReducer)),{timeBasedCetegory:S,timeBasedAlertModalData:I}=e,f=Object(v.b)(),N=Object(u.g)(),{CartError:C}=d.a,T=(null===p||void 0===p?void 0:p.storesWithStatus)&&Object(O.b)(null===p||void 0===p?void 0:p.storesWithStatus[0]),E=Object(l.useCallback)((()=>{if(null===S||void 0===S||!S.supportContentAlertData){var e,o;const a=null===j||void 0===j||null===(e=j.dynamicMenuAlertData)||void 0===e||null===(o=e.includes)||void 0===o?void 0:o.Entry;null!==a&&void 0!==a&&a.length&&Object(i.s)({...S,supportContentAlertData:a},t)}}),[null===j||void 0===j?void 0:j.dynamicMenuAlertData,S,t]);return Object(l.useEffect)((()=>{E()}),[E]),Object(l.useEffect)((()=>{const a={menuReducer:o,userParams:h,updateTimebasedCategory:i.s,userOrderStateDispatch:t,dispatch:f,getStoreDetail:T,cartReducer:g,timeBasedCetegory:S,userOrderState:e};Object(i.r)(a)}),[o]),Object(b.jsx)(b.Fragment,{children:(null===I||void 0===I?void 0:I.flag)&&Object(b.jsx)(s.a,{"data-testid":"timeBasedAlert-modal",handleClose:null!==I&&void 0!==I&&I.showCrossIcon?()=>Object(i.o)(t,I):null,classNames:"clear-cart-modal catering-menu-nav-alert timebased-alert ".concat((null===I||void 0===I?void 0:I.title)!==(null===m.a||void 0===m.a?void 0:m.a.CART_REVIEW_ORDER_MODAL)?"timebased-alert-notification":"timebased-alert-popup"),CartAlertForm:Object(b.jsx)(c.a,{title:Object(n.nf)(null===I||void 0===I?void 0:I.headline,null===I||void 0===I?void 0:I.cName),contentMsg:Object(n.nf)(null===I||void 0===I?void 0:I.subHeadline,null===I||void 0===I?void 0:I.cName),contentImg:null===I||void 0===I?void 0:I.contentImg,imageSrc:null!==I&&void 0!==I&&I.contentImg?null:C,altText:"",confirmButtonText:Object(r.translateWithI18Next)(null===I||void 0===I?void 0:I.buttonText),confirmHandler:()=>Object(i.n)({timeBasedAlertModalData:I,userOrderStateDispatch:t,timeBasedCetegory:S,history:N})})})})}},1202:function(e,t,o){"use strict";o.d(t,"a",(function(){return D}));var i=o(3),a=o(28),l=o(42),n=o.n(l),d=o(46),r=o(41),s=o(0),c=o(85),u=o(5),v=o(73),O=o(192),m=o(24),b=o(1122),j=o(35),p=o(113),h=o(16);const g=(e,t,o,i)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:m.b.channel,service:t}))),store:e,tenantId:i,setStatusFlag:!1,isFavoritePage:!1};o(Object(v.d)(a))},S=e=>{const{storesWithStatus:t,dispositionNew:o,setAutoDetectFlow:i,activeDisposition:a,userOrderState:l,profileReducer:n,dispatch:d,tenantId:r,userOrderStateDispatch:c,userParams:v,tenantReducer:O,SetLocationClickHandler:m}=e,g=null===v||void 0===v?void 0:v.localized,S=null===t||void 0===t?void 0:t.filter((e=>{var t,o,i,a,l,n,d,r,c,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)===s.Od&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(c=r.timings)||void 0===c||null===(u=c.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.summary)||void 0===v||null===(O=v.timings)||void 0===O?void 0:O.asap)}));(null===S||void 0===S?void 0:S.length)>0?g?o&&i(!1):((async e=>{var t;let{finalStore:o,dispositionNew:i,activeDisposition:a,userOrderState:l,profileReducer:n,dispatch:d,tenantId:r,userOrderStateDispatch:c,userParams:v,tenantReducer:O,setAutoDetectFlow:m}=e,h={time:s.s,interval:null===(t=o.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:s.s},g=await Object(u.A)(o,Object(u.Mb)(a),null===n||void 0===n?void 0:n.customerId,h);d(Object(j.f)({data:g,tenantId:r})),Object(b.i)(i,c,l,a,o,h);let S=o||null;d(Object(p.a)({...v,localized:!0})),Object(b.j)(c,a,h,S,O),m(!1),Object(u.vf)()})({finalStore:S[0],dispositionNew:o,activeDisposition:a,userOrderState:l,profileReducer:n,dispatch:d,tenantId:r,userOrderStateDispatch:c,userParams:v,tenantReducer:O,setAutoDetectFlow:i}),c({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(i(!1),m())};var I=o(43),f=o(4),N=o(6),C=o(55),T=o(133),E=o(270),x=o(2);const D=e=>{var t,o,l,j,p;const{setLocationdata:D=[]}=e,{srcFile:y,locationMap:A,buttonText:_,textDescription:R}=D,{userOrderState:L,userOrderStateDispatch:P}=Object(i.useContext)(c.a),[w,M]=Object(i.useState)(Object(u.ee)(window.innerWidth)),k=Object(a.b)(),[F,U]=Object(i.useState)(""),[H,B]=Object(i.useState)(!1),[W,G]=Object(i.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:V,PICK_UP:Y,GRANTED:z}=E.a,{profileReducer:K,tenantReducer:q,storesReducer:J,appStateReducer:Q}=Object(a.c)((e=>e)),{storesWithStatus:X,storesSatusError:Z,count:$}=J,{allStores:ee=[],currentCount:te=0}=Object(a.c)((e=>e.allStoresReducer))||{},{storeSearch:oe={},tenantId:ie}=q,ae=null===q||void 0===q||null===(t=q.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(l=o.dispositionConfig)||void 0===l?void 0:l.enableAutoSetLocation;let le=Q.userStatus;const{maxDriveTimeMins:ne,distanceMetrics:de,geohashprecision:re,boundingBoxSizeMeters:se,boundingBoxSizeDivider:ce}=oe;let ue=null===L||void 0===L?void 0:L.dispositionNew;if(!ue){const e=localStorage.getItem(s.Hb);ue=JSON.parse(e)}const ve=Object(a.c)((e=>({marketPageContent:n()(e,"marketConfigReducer.response",null)}))),Oe=null===ve||void 0===ve||null===(j=ve.marketPageContent)||void 0===j||null===(p=j.headerData)||void 0===p?void 0:p.autodetectDistance,me=()=>{k(Object(v.u)()),Object(C.o)(),P({type:h.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),P({type:h.a.SEARCH_ORDER_DATA,value:{showSearchStore:W}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!0}}),P({type:h.a.DISPOSITION_METHOD,value:{dispositionType:s.Jb.PICKUP}}),P({type:I.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(s.gd.CONFIG_SEARCH_SCREEN,T.a)};Object(i.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.ee)(window.innerWidth);M(e)}))}),[w]);const be=Object(i.useCallback)((async()=>{if(await Object(b.g)()){const{longitude:e=0,latitude:t=0}=null===m.b||void 0===m.b?void 0:m.b.coordinates;((e,t,o,i,a,l)=>{const n={lat:e,lon:t,distanceFromCurrentLoc:o/i,geohashprecision:a},d=null===O.a||void 0===O.a?void 0:O.a.calculateGH(n);l(Object(v.v)(null===d||void 0===d?void 0:d.length))})(t,e,se,ce,re,k),Object(u.ze)(null===m.b||void 0===m.b?void 0:m.b.address,I.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(i.useEffect)((()=>{if(H&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:o,dispositionType:i,setActiveDisposition:a,distanceMetrics:l,maxDriveTimeMins:n,dispatch:d,tenantId:r,SetLocationClickHandler:s}=e;a(i);const c=Object(b.a)(t),u={stores:c,disposition:i,distanceMetrics:l,driveTime:n,distanceInMtrs:o,noOfStores:c.length,channel:m.b.channel},v=null===O.a||void 0===O.a?void 0:O.a.checkAndProceed(u);null!==v&&void 0!==v&&v.length?g(v,i,d,r):s()})({allStores:ee,maxDistance:Oe,dispositionType:Y,setActiveDisposition:U,distanceMetrics:de,maxDriveTimeMins:ne,dispatch:k,tenantId:ie,SetLocationClickHandler:me})}}),[ee,te]),Object(i.useEffect)((()=>{const e={storesWithStatus:X,dispositionNew:ue,setAutoDetectFlow:B,activeDisposition:F,userOrderState:L,profileReducer:K,dispatch:k,tenantId:ie,userOrderStateDispatch:P,userParams:le,tenantReducer:q,SetLocationClickHandler:me};H&&(null===X||void 0===X?void 0:X.length)>0&&S(e)}),[X,Z]),Object(x.jsx)(x.Fragment,{children:Object(u.Td)(D)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===s.Ce.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(x.jsx)(d.a,{"data-testid":"",srcFile:y,alt:A,className:"google-location-img"}),Object(x.jsx)("div",{className:"setLocationText",children:R}),Object(x.jsx)(r.c,{variant:r.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:ae?()=>{var e,t,o;k(Object(v.u)()),Object(C.o)(),G(!0),P({type:V,value:{autoDetectionClicked:!0}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(s.gd.CONFIG_SEARCH_SCREEN,T.a),B(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(o=t.geolocation)||void 0===o||o.getCurrentPosition((()=>{k(Object(v.p)(z)),(async()=>{await be()})()}))}:me,children:w&&window.location.pathname===s.Ce.NUTRITION_ALLERGEN?Object(N.translateWithI18Next)(null===f.a||void 0===f.a?void 0:f.a.SET_YOUR_LOCATION):_}),w&&window.location.pathname===s.Ce.NUTRITION_ALLERGEN?Object(x.jsx)("span",{className:"arrow_white"}):""]}),Object(x.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}},1203:function(e,t,o){"use strict";o.d(t,"b",(function(){return d})),o.d(t,"a",(function(){return r}));var i=o(32),a=o(3),l=o(0),n=o(2);var d=e=>{const{tabIndex:t,ariaLable:o,className:d,options:r,onChange:s,testid:c="",selectedValue:u,name:v,...O}=e;return Object(a.useEffect)((()=>{u&&(null===s||void 0===s||s({target:{value:u,name:v}}))}),[u,v]),Object(n.jsx)("select",{className:d,tabIndex:t,"aria-label":o,onChange:s,onKeyPress:e=>{const{SPACE:t,ENTER:o}=l.ag.KEY_CHAR_CODE;!s||e.charCode!==t&&e.charCode!==o||s()},"data-testid":c,defaultValue:u,name:v,...O,children:null===r||void 0===r?void 0:r.map(((e,t)=>((e,t)=>{const o=u===e?{selected:"selected"}:"";return Object(n.jsx)("option",{value:e,"data-testid":"".concat(c).concat(t),defaultValue:u===e,...o,children:Object(i.translateWithI18Next)(e)},e)})(e,t)))})};const r=e=>{const{tabIndex:t,ariaLable:o,className:i,options:a,onChange:d,testid:r="",selectedValue:s,...c}=e;return Object(n.jsxs)("select",{className:i,tabIndex:t,"aria-label":o,onChange:d,onKeyPress:e=>{const{SPACE:t,ENTER:o}=l.ag.KEY_CHAR_CODE;!d||e.charCode!==t&&e.charCode!==o||d()},"data-testid":r,defaultValue:s,...c,children:[Object(n.jsx)("option",{children:l.ag.DROPDOWN_DEFAULT_VALUE}),Object.keys(a).map(((e,t)=>{return Object(n.jsx)("optgroup",{label:e,"data-testid":"sort-visit-group",children:(o=a[e],o.map((e=>Object(n.jsx)("option",{value:e.value,title:e.category,"data-testid":"sort-visit-option",children:e.value},e.value))))},t);var o}))]})}},1204:function(e,t,o){"use strict";o(3);var i=o(210),a=o(2);t.a=e=>(e=>Object(a.jsx)(i.a,{...e,testId:"order_summary_info_details_view",importPath:"ORDER_SUMMARY_INFO_DETAILS_VIEW"}))(e)},1205:function(e,t,o){"use strict";(function(e){var i=o(3),a=o.n(i),l=o(28),n=o(1121),d=o(66),r=o(73),s=o(192),c=o(6),u=o(5),v=o(190),O=o(1212),m=o(0),b=o(4),j=o(63),p=o(1148),h=o(269),g=o(331),S=o(2);t.a=t=>{var o,I,f,N,C,T,E,x,D,y,A,_,R,L,P,w,M;const k=Object(l.b)(),{modalType:F,toggleModal:U,updateSetOrderDetails:H}=t,{HIDDEN:B,DELIVERY_SERVICE:W,CHANNEL:G,INITIAL_STATE:V,MAX_DELIVERY_DISTANCE:Y,NO_OF_STORE_FOR_DELIVERY:z}=v.b,{FIELD_NAME:K,PIN_CODE:q}=v.d,{ADDRESS_UPDATED:J,ADDRESS_SAVED:Q}=b.a,{allStores:X=[]}=Object(l.c)((e=>e.allStoresReducer)),{savedAddresses:Z}=Object(l.c)((e=>e.profileReducer)),$=Object(l.c)((e=>e.tenantReducer)),{tenantId:ee="",storeSearch:te={},country:oe,countryNameInDefaultLang:ie,componentOptions:ae}=$,le=null===ae||void 0===ae||null===(o=ae.web)||void 0===o||null===(I=o.dispositionConfig)||void 0===I||null===(f=I.deliveryStores)||void 0===f?void 0:f.shouldEnableConfirmButton,ne=Object(u.ad)(Object(u.Td)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,V),[de,re]=Object(i.useState)(ne),[se,ce]=Object(i.useState)(!1),[ue,ve]=Object(i.useState)(!0),Oe=null===te||void 0===te?void 0:te.geohashprecision,me=(null===te||void 0===te?void 0:te.boundingBoxSizeMeters)/1e3,[be,je]=Object(i.useState)(!1),[pe,he]=Object(i.useState)(!1),ge=null===$||void 0===$||null===(N=$.componentOptions)||void 0===N||null===(C=N.web)||void 0===C||null===(T=C.accountPage)||void 0===T?void 0:T.filterConditions,Se=null===$||void 0===$||null===(E=$.componentOptions)||void 0===E||null===(x=E.web)||void 0===x||null===(D=x.accountPage)||void 0===D?void 0:D.showAddressMapView,Ie=null===$||void 0===$||null===(y=$.componentOptions)||void 0===y||null===(A=y.web)||void 0===A?void 0:A.address,fe=null===$||void 0===$?void 0:$.addressRegex,[Ne,Ce]=Object(i.useState)(),[Te,Ee]=a.a.useState([]),[xe,De]=a.a.useState(!1),[ye,Ae]=a.a.useState(!1),{ready:_e,value:Re,suggestions:Le,setValue:Pe,clearSuggestions:we}=Object(n.a)({requestOptions:{componentRestrictions:{country:null===(_=e)||void 0===_||null===(R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===R?void 0:R.REACT_APP_TENANT_CODE},types:null===$||void 0===$||null===(L=$.componentOptions)||void 0===L||null===(P=L.web)||void 0===P||null===(w=P.dispositionConfig)||void 0===w||null===(M=w.DELIVERY_FORM)||void 0===M?void 0:M.filteredTypes},debounce:300}),Me={...Le,data:Object(h.d)(null===Le||void 0===Le?void 0:Le.data,ge)},ke=Object(i.useRef)(null),Fe=()=>{document.querySelector("body").style.overflow="",U(!1),k(Object(r.u)())};Object(i.useEffect)((()=>{var e,t;F&&s.a.calculateGH({lat:parseFloat(Object(u.jb)(null===de||void 0===de||null===(e=de.location)||void 0===e?void 0:e.latitude,null===de||void 0===de?void 0:de.latitude)),lon:parseFloat(Object(u.jb)(null===de||void 0===de||null===(t=de.location)||void 0===t?void 0:t.longitude,null===de||void 0===de?void 0:de.longitude)),distanceFromCurrentLoc:me,geoHashPrecision:Oe});document.querySelector("body").style.overflow=B}),[]),Object(i.useEffect)((()=>(document.addEventListener("mousedown",Ue),()=>{document.removeEventListener("mousedown",Ue)}))),Object(i.useEffect)((()=>{re(F?e=>({...e,isAddressSelected:!0}):e=>({...e,isAddressSelected:!1}))}),[F]);const Ue=e=>{ke.current&&!ke.current.contains(e.target)&&we()},He=()=>{var e,t,o,i,a,l,n,d;return(null===de||void 0===de||null===(e=de.addressLines)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(o=de.city)||void 0===o?void 0:o.length)&&(null===de||void 0===de||null===(i=de.pinCode)||void 0===i?void 0:i.length)&&(null===de||void 0===de||null===(a=de.state)||void 0===a?void 0:a.length)&&(null===de||void 0===de||null===(l=de.deliveryOptions)||void 0===l?void 0:l.length)&&(!le||(null===de||void 0===de||null===(n=de.addressLines)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.length))&&!be&&!pe},Be=e=>{var t,o,i;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.availableServicesPerChannel)||void 0===i?void 0:i.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===G&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===W})))},We=()=>{let e="".concat(Object(c.translateWithI18Next)("Address")," 1");const t=[...Z.map((e=>e.name))].filter((e=>e.indexOf(Object(c.translateWithI18Next)("Address"))>-1));return Ge(t,e)},Ge=(e,t)=>{let o=t;return e.includes(o)?(o=o.replace(/(\d+)+/g,((e,t)=>parseInt(t)+1)),Ge(e,o)):o},Ve=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:10,geohashprecision:Oe},i=s.a.calculateGH(o);k(Object(r.v)(null===i||void 0===i?void 0:i.length))};return Object(S.jsx)(O.a,{...t,dataTestId:"addressModalTest",setValue:Pe,value:Re,error:se,addresses:de,handleChange:e=>{let{target:t}=e;const{name:o,value:i}=t,a=Object(u.ad)(o===K.NAME,i,de.name);if(o===q){var l;if(!(null===(l=/^\d+$/)||void 0===l?void 0:l.test(i))&&""!==i)return;re({...de,[o]:i})}if(o===K.DELIVERY_OPTION)return void re({...de,[o]:i!==m.zb[0]?i:""});const n={addressRegex:fe,valueInfo:i,setSaveAddress:re,addresses:de,name:o};if(a){const e=(e=>!!Object(u.ad)(!F,Z,Z.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===ne||void 0===ne?void 0:ne.id)))).find((t=>{var o,i;return(null===t||void 0===t||null===(o=t.name.toUpperCase())||void 0===o?void 0:o.trim())===(null===e||void 0===e||null===(i=e.toUpperCase())||void 0===i?void 0:i.trim())})))(a);(null===fe||void 0===fe?void 0:fe.test(a))?e?(je(!0),he(!1)):(he(!1),je(!1)):(je(!1),he(!0))}else he(!1),je(!1);if(o!==K.FLOOR)if(t.type!==K.CHECKBOX)re({...de,[o]:i});else{Z.find((e=>e.isPrimary&&e.id===de.id))||re({...de,[o]:"true"!==i})}else(e=>{const{addressRegex:t,valueInfo:o,setSaveAddress:i,addresses:a,name:l}=e;if(null===t||void 0===t?void 0:t.test(o)){const e=[o,null===a||void 0===a?void 0:a.addressLines[1]];i({...a,[l]:o,addressLines:e,isFlatNumberSelected:!1})}})(n)},handleInput:e=>{if(null===de||void 0===de||!de.isAddressSelected){Pe(e.target.value);const t=[null===de||void 0===de?void 0:de.addressLines[0],e.target.value];re({...de,addressLines:t})}ve(!0)},ready:_e,suggestionRef:ke,suggestions:Me,handleSelect:t=>{let{description:o,structured_formatting:{main_text:i,secondary_text:a}}=t;return()=>{var t,i;ve(!1),ce(!1),we(),k(Object(r.u)()),Object(n.b)({address:o,componentRestrictions:{country:null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE}}).then((e=>(Object(p.e)(m.Id,e[0],Pe,re,we,He),Ce(null===de||void 0===de?void 0:de.addressLines[1]),Object(n.c)(e[0])))).then((e=>{s.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:me,geoHashPrecision:Oe}),re((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng,isAddressSelected:!0,isFlatNumberSelected:!0})))})).catch((e=>{console.log("Error: ",e)}))}},checkFormValidation:Se?()=>{var e,t,o,i;return(null===de||void 0===de||null===(e=de.addressLines[1])||void 0===e?void 0:e.length)&&(null===de||void 0===de||null===(t=de.city)||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(o=de.pinCode)||void 0===o?void 0:o.length)&&(null===de||void 0===de||null===(i=de.state)||void 0===i?void 0:i.length)&&!be&&!pe}:He,handleSubmit:e=>{const t=(e=>{var t,o;let i={},a=["",""];return a[1]=e.addressLines[1],a[0]=Object(u.jb)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),i={addressId:Object(u.ud)(null===e||void 0===e?void 0:e.id),addressName:Object(u.jb)(e.name,We()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(u.ud)(e.country),isPrimary:Object(u.sb)(e.isPrimary,Z.length<1,!1),location:{latitude:Object(u.jb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(u.jb)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:a,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions,placeId:null===e||void 0===e?void 0:e.placeId},i})(de),o=null===X||void 0===X?void 0:X.filter(Be),i=null===te||void 0===te?void 0:te.maxDriveTimeMins,a=Object(u.jb)(null===te||void 0===te?void 0:te.maxDeliveryDistanceMtrs,Y),l=s.a.checkAndProceed({stores:o,disposition:W,distanceMetrics:null===te||void 0===te?void 0:te.distanceMetrics,driveTime:i,distanceInMtrs:a,noOfStores:z});if(e&&H({savedAddressSucess:!0}),null!==l&&void 0!==l&&l.length||e){const{customerId:e,phoneNumber:o}=j.a.getInstance();k(Object(d.a)({customerId:e,phoneNumber:o,tenantId:ee,data:t})),Fe();const i=Object(u.ad)(F,Object(c.translateWithI18Next)(J),Object(c.translateWithI18Next)(Q));Object(u.Cf)(i,"","favorites-added-toast")}else ce(!0)},isNameExist:be,isInvalidName:pe,handleClose:Fe,savedAddresses:Z,showSuggestions:ue,country:oe,countryNameInDefaultLang:ie,setSaveAddress:re,nonFormattedAddress:Ne,setNonFormattedAddress:Ce,addressFormConditions:Ie,seteligibleStoreData:Ee,showStores:xe,setShowStores:De,showMapBasedField:ye,setShowMapBasedFiled:Ae,clearSuggestions:we,showAddressMapView:Se,allStores:X,getUserLatLong:e=>{k(Object(g.b)()),k(Object(r.u)()),Ve(e.userLat,e.userLong),setTimeout((()=>{k(Object(g.a)())}),2e3)},dispatch:k,setError:ce})}}).call(this,o(121))},1206:function(e,t,o){"use strict";o.d(t,"b",(function(){return w})),o.d(t,"c",(function(){return k}));var i=o(3),a=o.n(i),l=o(28),n=o(62),d=o(46),r=o(41),s=o(394),c=o(120),u=o(6),v=o(5),O=o(1131),m=o(15),b=o(4),j=o(85),p=o(16),h=o(0),g=o(43),S=o(1234),I=o(2);const{GET_DIRECTION:f,MORE_INFO:N,VIEW_MENU:C,SCHEDULE_ORDER:T,ORDER_NOW:E,BROWSE_MENU:x}=b.a,{Direction:D,AccordianArrow:y,phoneImg:A,FavoriteFillImage:_,FavoriteUnfillImage:R,InfoIcon:L}=m.a,{RESTAURANT:P}=h.Ce||{},w=(e,t,o,i)=>{const{history:a,dispatch:l,tenantId:n,userParams:d,basketId:r,foodLines:c,enableDeliveryMenuOption:u,toastData:v}=t;Object(s.H)(e,a,l,{tenantId:n,userParams:d,userOrderState:o,store:i,basketId:r,foodLines:c,enableDeliveryMenuOption:u,toastData:v}),e({type:p.a.FAV_STORE_NOT_IN_RADIUS,value:{showNotInRadiusError:!1}}),e({type:p.a.ORDER_MODE_BROWSE_MENU_CLICK,value:{orderModeBrowseMenuBtnClicked:!0}})},M=e=>{const t=Object(v.Yd)(e),o=Object(v.Xd)(e);return Boolean(o||t)},k=(e,t,o,i)=>e||t&&(!o||!i),F=e=>{const{testid:t,getStore:o,buttonText:i,orderObj:a,goToMenuObj:l,enableClickCollectScheduleOrderFlag:n,enableScheduleOrder:d,enableOrderCapacityManagement:c}=e,O=i===T?r.b.tertiary:r.b.primary;return Object(I.jsx)(r.c,{"data-testid":t,variant:O,onClickHandler:e=>(e=>{const{event:t,buttonText:o,getStore:i,orderObj:a,goToMenuObj:l,enableScheduleOrder:n,enableClickCollectScheduleOrderFlag:d,enableOrderCapacityManagement:r}=e,{store:c,userOrderStateDispatch:u,userOrderState:O,componentOptions:m}=a,b=M(c),j=Object(v.Fd)(c),h={event:t,store:c,userOrderStateDispatch:u,userOrderState:O,componentOptions:m,isFutureTimeDate:b},{open:g,storeName:S,dispositionService:I}=i||{};if(o===T)return Object(s.N)({...h,flag:T});var f,N;if(k(d,n,g,j)&&(null!==O&&void 0!==O&&null!==(N=O.reorderFlag)&&void 0!==N&&N.fromReorderFlag?(u({type:p.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!0}}),u({type:p.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),u({type:p.a.REORDER_STORE_CHANGED,value:{storeChanged:!0}}),u({type:p.a.REORDER_MODAL_OPEN,value:{reorderModalOpen:!0}}),u({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),u({type:p.a.CURRENT_STORE_INFO,value:c})):(u({type:p.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),u({type:p.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}})),u({type:p.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}})),null===O||void 0===O||null===(f=O.reorderFlag)||void 0===f||!f.fromReorderFlag){if(!r&&(d||n&&o===x)){const e={...l,toastData:{storeName:S,service:I,showToastAfterLocalization:null===m||void 0===m?void 0:m.showToastAfterLocalization}};w(u,e,O,c)}Boolean(n&&(o===E||o===x&&r))&&Object(s.N)({...h,flag:E})}})({event:e,buttonText:i,getStore:o,orderObj:a,goToMenuObj:l,enableClickCollectScheduleOrderFlag:n,enableScheduleOrder:d,enableOrderCapacityManagement:c}),children:Object(u.translateWithI18Next)(i)})},U=(e,t,o,i,a)=>Object(I.jsx)(I.Fragment,{children:i&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(r.c,{variant:"link dark","data-testid":"more-info",className:"kfcmoreInfo",onClick:()=>o(e),children:[Object(I.jsx)("img",{src:L,alt:"icon",className:"KfcMoreinfo"}),Object(I.jsx)("span",{children:Object(u.translateWithI18Next)(N)})]}),Object(I.jsx)("a",{className:"kfcdirectionLink",href:Object(v.Gb)(null===t||void 0===t?void 0:t.storeAddress,a),target:"_blank",rel:"noreferrer noopener",children:Object(I.jsxs)("span",{className:"kfcdirection",children:[Object(I.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(I.jsx)("span",{children:Object(u.translateWithI18Next)(f)})]})})]})}),H=(e,t,o,i,a,l,n)=>Object(I.jsx)(I.Fragment,{children:e&&!t&&Object(I.jsx)(r.c,{variant:null!==o&&void 0!==o&&o.storeOpen?r.b.primary:r.b.tertiary,"data-testid":"view-menu",onClick:()=>w(i,a,l,n),children:Object(u.translateWithI18Next)(C)})}),B=(e,t,o,i)=>Object(I.jsx)(I.Fragment,{children:!e&&!t&&Object(I.jsx)("div",{className:"kfcdirectionLink map-link","data-testid":"map-handler",onClick:()=>o(null===i||void 0===i?void 0:i.id),children:Object(I.jsxs)("span",{className:"kfcdirection",children:[Object(I.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(I.jsx)("span",{children:Object(u.translateWithI18Next)(f)})]})})}),W=(e,t)=>!Object(v.Jd)(null===e||void 0===e?void 0:e.service)||Boolean(!Object(v.Fd)(e)&&!M(e)||t)&&x,G=(e,t,o,i)=>e&&!t||t&&W(o,i),V=e=>{var t,o,a,m,f,N,C,D,L,k,V,Y,z,K,q,J,Q,X,Z,$,ee;const{store:te,isMapView:oe,centerIndex:ie,storeLength:ae,loggedIn:le,onClickMapHandler:ne,storeOpenBtnText:de,findAKFC:re,storeNumberFormat:se,isUberServiceableEnabled:ce=!1}=e,{tenantId:ue,componentOptions:ve={},enableOrderCapacityManagement:Oe=!1,savedAddressPage:me,is24HoursFormatEnabled:be,isViewMenuDisabled:je,enableDeliveryMenuOption:pe}=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),he=Object.keys(te).length&&Object(s.i)(null===te||void 0===te||null===(t=te.summary)||void 0===t?void 0:t.availableCollectionPoints);let ge=Object.keys(te).length&&Object(s.w)(te,re,he,null,me.showStateCityAddAddress,be);const Se=null===(o=Object(s.A)(null===ge||void 0===ge?void 0:ge.dispositionService,null===ge||void 0===ge?void 0:ge.storeTiming))||void 0===o?void 0:o.storeTimingData,Ie={};null===Se||void 0===Se||Se.forEach((e=>{var t,o;const{day:i}=e;Ie[i]||(Ie[i]={closed:!1,data:null}),(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(u.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)===Object(u.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.CLOSED_HOURS)&&(Ie[i].closed=!0,Ie[i].data=e)}));const fe=null===Se||void 0===Se?void 0:Se.filter((e=>{var t,o;const{day:i}=e;return null===(t=Ie[i])||void 0===t||!t.closed||(null===(o=Ie[i])||void 0===o?void 0:o.data)===e})),{customerId:Ne}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ce=null===ve||void 0===ve||null===(a=ve.web)||void 0===a||null===(m=a.dispositionConfig)||void 0===m?void 0:m.enableScheduleOrder,Te=null===ve||void 0===ve||null===(f=ve.web)||void 0===f||null===(N=f.storeSearch)||void 0===N?void 0:N.enableDateHighlight,Ee=null===ve||void 0===ve||null===(C=ve.web)||void 0===C||null===(D=C.dispositionConfig)||void 0===D?void 0:D.enableAsapOrder,xe=null===ve||void 0===ve||null===(L=ve.web)||void 0===L||null===(k=L.dispositionConfig)||void 0===k?void 0:k.enableClickCollectScheduleOrder,De=null===ve||void 0===ve||null===(V=ve.web)||void 0===V||null===(Y=V.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,ye=null===ve||void 0===ve||null===(z=ve.web)||void 0===z?void 0:z.findStoreRedirectionUrlRegex,Ae=null===ve||void 0===ve||null===(K=ve.web)||void 0===K||null===(q=K.dispositionConfig)||void 0===q?void 0:q.disableScheduleOrderForNotAliveStore,_e=xe&&(null===De||void 0===De?void 0:De.includes(null===ge||void 0===ge?void 0:ge.dispositionService)),Re=Ce||_e,Le=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),{id:Pe="",foodLines:we=[]}=null!==(J=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})))&&void 0!==J?J:{},Me=Object(l.b)(),{userOrderState:ke,userOrderStateDispatch:Fe}=Object(i.useContext)(j.a),Ue=Object(n.g)(),He={history:Ue,dispatch:Me,tenantId:ue,userParams:Le,basketId:Pe,foodLines:we,enableDeliveryMenuOption:pe},Be=null===ve||void 0===ve||null===(Q=ve.web)||void 0===Q||null===(X=Q.restaurantDetailPage)||void 0===X?void 0:X.favStoreToastMsg,We={enableScheduleOrderFlag:Re,store:te,userOrderStateDispatch:Fe,userOrderState:ke,componentOptions:ve},Ge=Object(c.t)(te,Re,_e,!1,!1,!1,!1,Ae,ce),Ve=(e=>{let{store:t,enableScheduleOrderFlag:o,enableAsapOrder:i,getStore:a,isStoreOrderSchedulingUnavailable:l}=e;return i&&(null===t||void 0===t?void 0:t.service)===g.a.DELIVERY_SERVICE?W(t,l):o&&Object(v.Fd)(t)&&null!==a&&void 0!==a&&a.storeOpen?E:x})({store:te,enableScheduleOrderFlag:Re,enableAsapOrder:Ee,getStore:ge,isStoreOrderSchedulingUnavailable:Ge});return Object(I.jsx)("div",{id:"store-card-".concat(null===te||void 0===te?void 0:te.id),className:"store-card-container ".concat(oe&&"map-card"),"data-testid":"store-card",children:Object(I.jsxs)("div",{className:"store-card-main-content-container",children:[Object(I.jsxs)("div",{className:"store-card-storename-dist-container",children:[Object(I.jsxs)("div",{className:"store-card-storename-dist-section ".concat(oe&&"map-view"),children:[Object(I.jsx)("div",{className:"store-card-storename store-card-name","data-testid":"store-name",children:null===ge||void 0===ge?void 0:ge.storeName}),Object(I.jsx)("div",{className:"store-distance","data-testid":"store-card-distance",children:null===ge||void 0===ge?void 0:ge.storeMile})]}),oe&&Object(I.jsx)("span",{className:"store-index",children:"".concat(ie+1," of ").concat(ae)})]}),Object(I.jsxs)("div",{className:"store-card-content-container",children:[Object(I.jsxs)("div",{className:"store-card-ordertypes",children:[null===ge||void 0===ge?void 0:ge.storeOrderTypes,(null===ge||void 0===ge?void 0:ge.dispositionService)===h.T&&null!==ge&&void 0!==ge&&ge.availabilityLevel?Object(I.jsx)("span",{className:"store-card-order-option store-card-order-option-data store-card-order-option-availability",children:"".concat(Object(u.translateWithI18Next)(g.a.AVAILABLE)," ").concat(null===ge||void 0===ge?void 0:ge.availabilityLevel)}):""]}),Object(I.jsxs)("div",{className:"store-card-store-address",children:[Object(I.jsx)("span",{className:"store-address","data-testid":"store-card-address",children:null===ge||void 0===ge?void 0:ge.storeAddress}),Object(I.jsxs)("div",{"data-testid":"toggle-hours",onClick:()=>Object(s.V)(null===te||void 0===te?void 0:te.id),id:"hours-".concat(null===te||void 0===te?void 0:te.id),className:"store-timing-msg",children:[Object(I.jsx)("span",{children:null===ge||void 0===ge?void 0:ge.storeTimeMessage}),Object(I.jsx)("span",{className:"ml-2 caretIcon",children:Object(I.jsx)(d.a,{id:"caret-".concat(null===te||void 0===te?void 0:te.id),srcFile:y,alt:"caretIcon"})})]}),Object(I.jsxs)("div",{id:"view-".concat(null===te||void 0===te?void 0:te.id),className:"hours-view hoursHidden",children:[!(null===(Z=Object(s.A)(null===ge||void 0===ge?void 0:ge.dispositionService,null===ge||void 0===ge?void 0:ge.storeTiming))||void 0===Z||null===($=Z.storeTimingData)||void 0===$||!$.length)&&Object(I.jsx)("div",{className:"dispotion-hours-text",children:Object(s.B)(null===te||void 0===te?void 0:te.service)}),null===fe||void 0===fe?void 0:fe.map((e=>Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"hours-text",children:[Object(I.jsx)("span",{className:"day-details",children:Object(S.c)(e,Te)}),Object(I.jsxs)("span",{className:"time-details",children:[Object(S.d)(e,Te,be)," "]})]})},null===e||void 0===e?void 0:e.day))),Object(s.d)(te)&&Object(I.jsxs)("div",{className:"mt15",children:[Object(I.jsx)("span",{className:"contact-icon",children:Object(I.jsx)(d.a,{id:"phoneImg-".concat(null===te||void 0===te?void 0:te.id),srcFile:A,alt:"\u2121"})}),Object(I.jsx)("a",{"data-testid":"store-number",href:"tel:".concat(Object(s.d)(te)),className:"contact-info ml-2",children:Object(s.n)(Object(s.d)(te),se)})]})]}),B(oe,re,ne,te),U(te,ge,(e=>{var t,o,i,a;const l=null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.name.split(" ").join("-").toLowerCase(),n=null===te||void 0===te||null===(o=te.addresses)||void 0===o||null===(i=o[0])||void 0===i||null===(a=i.address)||void 0===a?void 0:a.pinCode;Ue.push({pathname:"".concat(P,"/").concat(l,"/").concat(n),state:{storeId:null===e||void 0===e?void 0:e.id}}),Fe({type:p.a.DISPOSITION_DATA,value:{showDisposition:!1}}),Fe({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),Fe({type:p.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}})}),re,ye)]}),Object(I.jsx)("div",{className:"facilities",children:null===(ee=Object(O.a)(te))||void 0===ee?void 0:ee.map((e=>Object(I.jsx)(d.a,{"data-testid":"",srcFile:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.label,className:"facility-img",title:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.key)))})]}),Object(I.jsxs)("div",{className:"search-store-card-button",children:[le&&Object(I.jsx)(d.a,{"data-testid":"favorite-img",srcFile:null!==te&&void 0!==te&&te.isFavoriteStore?_:R,alt:"favorite",className:"favorite-img",onClick:()=>null!==te&&void 0!==te&&te.isFavoriteStore?Object(s.L)(te,Me,ue,Ne,Be):Object(s.a)(te,Me,ue,Ne,Be)}),H(re,Re,ge,Fe,He,ke,te),!re&&!Re&&Object(I.jsx)(r.c,{"data-testid":"schedule-order",variant:r.b.primary,onClickHandler:e=>null!==ge&&void 0!==ge&&ge.storeOpen?Object(s.N)({event:e,store:te,userOrderStateDispatch:Fe,userOrderState:ke,componentOptions:ve}):w(Fe,He,ke,te),children:Object(s.C)(re,null===ge||void 0===ge?void 0:ge.storeOpen,de)}),!je&&G(Re,Ee,te,Ge)&&F({testid:null===g.a||void 0===g.a?void 0:g.a.ORDER_NOW,getStore:ge,buttonText:Ve,orderObj:We,goToMenuObj:He,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ce,enableOrderCapacityManagement:Oe}),Re&&(M(te)||Oe)&&!Ge&&F({testid:g.a.ORDER_SCHEDULE,getStore:ge,buttonText:T,orderObj:We,goToMenuObj:He,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ce,enableOrderCapacityManagement:Oe})]})]})},null===te||void 0===te?void 0:te.id)},Y=a.a.memo(V);t.a=Y},1209:function(e,t,o){"use strict";o.d(t,"a",(function(){return y})),o.d(t,"e",(function(){return A})),o.d(t,"f",(function(){return _})),o.d(t,"c",(function(){return R})),o.d(t,"d",(function(){return L})),o.d(t,"b",(function(){return P}));var i=o(6),a=o(4),l=o(15),n=o(265),d=o(1204),r=o(5),s=o(41),c=o(46),u=o(1098),v=o(0),O=o(86),m=o(1158),b=o(2);const j=e=>Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.REORDER_FAVORITES)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"create-kfc-account-btn",className:"button transparent-btn black-border",onClick:()=>(e=>{const{orderDetails:t}=e,{total:o,currencyConversionFactor:i,customer:a}=t,{firstName:l,lastName:n,email:d,phoneNumber:s,id:c}=a;Object(u.a)(),sessionStorage.setItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT,c);const b=sessionStorage.getItem(v.Ne.MARKETING_OPT_VAL),j="&userEmail=".concat(d?Object(m.b)(d):void 0);let p="userFirstName=".concat(Object(m.b)(l),"&userLastName=").concat(n?Object(m.b)(n):void 0).concat(j,"&userPhoneNumber=").concat(Object(m.b)(s));if(b){const e=JSON.parse(b),{Email:t,Phone:o}=e;p=t?"".concat(p,"&emailSubscription=").concat(t):p,p=o?"".concat(p,"&phoneSubscription=").concat(o):p}Object(O.a)(p),Object(u.d)({orderValue:Object(r.g)(o/i)})})(e),ariaLable:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CREATE_KFC_ACCOUNT),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CREATE_KFC_ACCOUNT)})})]}),p=e=>{var t;const{orderDetails:o,savedAddresses:l}=e,d=null===o||void 0===o||null===(t=o.deliveryAddress)||void 0===t?void 0:t.location,r=null===l||void 0===l?void 0:l.find((e=>{var t,o;const i=parseFloat(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)===parseFloat(null===d||void 0===d?void 0:d.latitude),a=parseFloat(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)===parseFloat(null===d||void 0===d?void 0:d.longitude);return i&&a})),{orderSummarySaveYourOrderCompleted:u,userStatus:v,savedAddressSucess:O,saveFavoriteSummarySucess:m,hideCreateAccountPanel:p}=o;return Object(b.jsx)("div",{className:"saveYourOrdersAndCreateKFCAccountContainer col-12",children:Object(n.I)(o)||Object(n.gb)(o)?(e=>{const{orderDetails:t}=e,{helpContantData:o}=t,{helpSectionCallDetails:l}=o;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.HERE_TO_HELP)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)("a",{tabIndex:"-1",href:"tel:"+(null===l||void 0===l?void 0:l.contactNo),className:"anchorTags",children:Object(b.jsxs)(s.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"button transparent-btn black-border",children:[Object(b.jsx)(c.a,{srcFile:null===l||void 0===l?void 0:l.icon,alt:" ",className:"Messageimage"}),"".concat(null===l||void 0===l?void 0:l.buttonText," ").concat(null===l||void 0===l?void 0:l.contactNo)]})})})]})})(e):u&&null!==o&&void 0!==o&&o.deliveryAddress&&!r?(e=>{const{updateSetOrderDetails:t}=e;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.SAVE_ADDRESS_BOOK)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-delivery-address",className:"button transparent-btn black-border",onClick:()=>t({isOpenSaveDeliveryAddressModal:!0}),ariaLable:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.SAVE_DELIVERY_ADDRESS),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.SAVE_DELIVERY_ADDRESS)})})]})})(e):null===v||void 0===v||!v.loggedIn||O||m?O||m||p?void 0:j(e):(e=>{var t,o;const{orderDetails:l,updateSetOrderDetails:n,saveOrderDescriptionText:d=(null===a.a||void 0===a.a?void 0:a.a.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER),saveOrderButtonLabel:r=(null===a.a||void 0===a.a?void 0:a.a.SAVE_THIS_ORDER)}=e;return void 0===(null===l||void 0===l||null===(t=l.favouriteOrders)||void 0===t?void 0:t.find((e=>e.id===(null===l||void 0===l?void 0:l.orderId))))&&Object(b.jsxs)("div",{className:"savingdiv",children:[Object(b.jsx)("span",{className:"saving",children:null===(o=Object(i.translateWithI18Next)(d))||void 0===o?void 0:o.toUpperCase()}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:()=>n({isOpenOrderSummarySaveYourOrderCheckoutFaster:!(null!==l&&void 0!==l&&l.isOpenOrderSummarySaveYourOrderCheckoutFaster)}),ariaLable:Object(i.translateWithI18Next)(r),children:Object(i.translateWithI18Next)(r)})})]})})(e)})};var h=o(1180),g=o(1174);const S=e=>{var t;const{orderDetails:o}=e,{storeName:l,displayOrderId:n}=o;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"catering-store-order",children:l}),n&&Object(b.jsx)("div",{className:"catering-store-order red",children:(null===(t=Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},I=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:l}=t;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.COLLECTED_AT)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:l})]})},f=e=>{const{orderDetails:t}=e,{orderStatus:o}=t,i=Object(n.m)(t)?null===l.a||void 0===l.a?void 0:l.a.CartError:Object(n.n)(t)?null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg:null===l.a||void 0===l.a?void 0:l.a.clockFeature;return""!==i&&Object(b.jsx)("img",{src:i,className:"statusIcon",alt:o})},N=e=>{const{orderDetails:t}=e,{orderStatus:o,service:l,selectedCateringOrderCollectionMethod:d,deliveryOrEstimatedOrCollectAtMonthDate:r,deliveryOrEstimatedOrCollectAtTime:s}=t,c=(e=>{var t;return Object(n.m)(e)?Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CANCEL_ORDER):Object(n.n)(e)?Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ENJOY_MEAL):"".concat(Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.THANK_YOU),", ").concat(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."))})(t);return""!==c&&Object(b.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(l," ").concat(d," col-12 ").concat(Object(n.o)(t)?"":"p-0px-imp"),children:[Object(b.jsx)("div",{className:"statusMessage",children:c}),!Object(n.o)(t)&&Object(b.jsxs)("div",{className:"catering-order-deliver-details",children:["".concat(Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.YOUR_CATERING))," ",Object(b.jsx)("span",{className:"red",children:r})," ",Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.AT)," ",Object(b.jsx)("span",{className:"red",children:s})]}),!Object(n.o)(t)&&Object(b.jsx)("div",{className:"catering-confirmation-email-details",children:"".concat(Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CATERING_CONFIRMATION_EMAIL))})]})},C=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t,d=(null===o||void 0===o?void 0:o.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(n.o)(t)&&d&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ASK_FOR_OTP)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:Object(b.jsx)("div",{className:"red otp",children:d})})]})},T=e=>Object(b.jsxs)(b.Fragment,{children:[!Object(n.o)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),Object(n.n)(null===e||void 0===e?void 0:e.orderDetails)&&I(e),f(e),N(e),C(e)]}),E=e=>Object(b.jsx)(d.a,{...e}),x=()=>Object(b.jsx)("div",{className:"linebreak col-12"}),D=e=>{const t=null===e||void 0===e?void 0:e.hideCreateAccountSection,o={saveOrderDescriptionText:null===a.a||void 0===a.a?void 0:a.a.RECKON_TEXT,saveOrderButtonLabel:null===a.a||void 0===a.a?void 0:a.a.SAVE_TO_FAVOURITE_ORDER};if(!t)return Object(b.jsxs)("div",{className:"col-12 bottomPanel","data-testid":"bottomPanel",children:[x(),p({...e,...o})]})},y=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel ".concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.o)(t)?"redCard":"","  ").concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(o),children:T(e)})})}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:E(e)}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&D(e)]})},A=e=>{var t;const{orderDetails:o}=e,{service:i,isMobileView:a,hideCancelOrderPanel:l,hidePickupCheckin:d}=o;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(i),children:[(Object(n.gb)(o)&&(null===o||void 0===o?void 0:o.enableRetryCountForPickupOrderTracking)||!Object(n.gb)(o))&&Object(b.jsxs)("div",{className:"col-12 col-lg-8 leftPanel ".concat(i),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.ib)(o)?"redCard":"","  ").concat(i),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(i),children:Object(g.a)(e)})}),Object(n.jb)(o)&&!(null!==o&&void 0!==o&&o.selectedPickupOrderCollectionMethod)&&(null===o||void 0===o||null===(t=o.pickupOrderAvailableCollectionPoints)||void 0===t?void 0:t.length)>0&&d&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.f)(e)]}),Object(b.jsxs)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:[E(e),!l&&!Object(n.ib)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.e)(e)]}),!Object(n.nb)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&D(e),!l&&a&&!Object(n.ib)(o)&&Object(b.jsx)("div",{className:"col-12 ".concat(i," p-0px-imp"),children:x()})]})},_=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:E(e)}),D(e)]})},R=e=>Object(b.jsx)("div",{className:"orderSummaryContainer row giftcardorder",children:Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel",children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 redCard",children:Object(b.jsxs)("div",{className:"giftcard-content",children:[Object(b.jsx)("div",{className:"giftcard-success",children:Object(b.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg,className:"statusIcon",alt:"tex"})}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_ONE)}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_TWO)}),Object(b.jsx)("div",{className:"giftcard-success-status",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.GIFT_CARD_PURCHASE_MSG)}),Object(b.jsx)("div",{className:"gift-card-button",children:Object(b.jsx)("button",{"data-testid":"gift-card-button",className:"button giftcard-button",onClick:()=>Object(r.We)({history:e},!1,!0),children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.RETURN_TO_GIFT_CARD)})})]})})})}),L=e=>{const{displayOrderId:t}=e;return Object(b.jsxs)("div",{className:"orderNumber",children:[Object(b.jsx)("span",{className:"",children:Object(i.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_HASH)}),t]})},P=e=>{const{orderDetails:t}=e,{service:o,isMobileView:i,enableCancelOrderCallsupportModal:a,showDeliveryTrackingMap:l,showDeliveryOrderRaiderDetailsView:d,showDeliveryDriverDetails:r,showOrderSummaryInfoDetails:s,orderStatusFlag:c}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsxs)("div",{className:"col-12 ".concat(!Object(n.K)(t)||s||c?"col-lg-6":"col-lg-8 m-auto"," leftPanel ").concat(o),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 mb-1 ".concat(Object(n.L)(t)?"redCard":""," ").concat(Object(n.O)(t)||Object(n.C)(t)?Object(n.d)(t):"dasher-dropoff-updated"," "),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12",children:Object(h.b)(e)})}),l&&i&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(b.jsx)("div",{className:"mt-20px",children:w(e)}),(r||d)&&Object(h.d)(e),!i&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(b.jsx)(b.Fragment,{children:E(e)})]}),Object(n.K)(t)&&s&&Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:E(e)}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:(!Object(n.K)(t)||c)&&(l&&!i&&(Object(n.Q)(t)||Object(n.sb)(t))?w(e):Object(b.jsxs)(b.Fragment,{children:[E(e),a&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&(Object(n.ob)(t)||Object(n.C)(t))&&Object(g.e)(e)]}))}),!Object(n.nb)(t)&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&D(e)]})},w=e=>{const{orderDetails:t}=e;return null!==t&&void 0!==t&&t.showOrderTrackingIFrame?Object(h.c)(e):Object(h.e)(e)}},1210:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(20),n=o.n(l),d=o(28),r=o(419),s=o.n(r),c=o(42),u=o.n(c),v=o(1102),O=o.n(v),m=o(62),b=o(171),j=o(113),p=o(1104),h=o(73),g=o(35),S=o(6),I=o(144),f=o(1194),N=o(4),C=o(5),T=o(0),E=o(46),x=o(1117),D=o(15),y=o(169),A=o(2);var _=e=>{var t,o;const{currencySymbol:i,currencyConversionFactor:a,unavailableItem:l,orderDetails:n}=e,{YOUR_ORDER:d,TOTAL:r,ITEM_NOT_UNAVAILABLE:s,ITEM_CURRENLTY_UNAVAILABLE:c,CART_ITEM:u,REORDER_COUPON_ERROR_MESSAGE:v}=N.a,{foodLines:O=[],id:m,total:b}=Object(C.sd)(n),j=Object(S.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.ADD_HOPE),p=Object(S.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.LARGE_CARRY_BAG),h=Object(C.Tb)(O,j,p),g=null===h||void 0===h?void 0:h.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0),I=(l.length||(null===n||void 0===n||null===(t=n.discountLines)||void 0===t?void 0:t.length))>0;return Object(A.jsxs)("div",{className:"reorder-item-section",children:[Object(A.jsx)("span",{className:"reorder-section-heading",children:Object(S.translateWithI18Next)(d)}),Object(A.jsx)("div",{className:"".concat(Object(C.ad)(I,"error-can-not-deliver","hide-error-container")),children:Object(A.jsx)(x.a,{show:I,errorMsg:Object(S.translateWithI18Next)(null!==n&&void 0!==n&&null!==(o=n.discountLines)&&void 0!==o&&o.length?v:s),errImage:D.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(A.jsx)("section",{className:"reorder-accordian",children:Object(A.jsxs)(y.a,{header:"".concat(g," ").concat(Object(S.translateWithI18Next)(u)).concat(g>1?"s":""),open:!0,children:[null===h||void 0===h?void 0:h.map((e=>{var t,o,n,d,r;return Object(A.jsx)("section",{className:"",children:Object(A.jsxs)("div",{className:"reorder-order-item",children:[Object(A.jsx)("div",{className:"reorder-item-details",children:Object(A.jsx)("div",{className:"item-count-box mr",children:Object(A.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(A.jsxs)("div",{className:"item-desc-section",children:[Object(A.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(t=e.item)||void 0===t||null===(o=t.dname)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.value}),l.length>0&&l.find((t=>{var o;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)}))&&Object(A.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(A.jsx)(E.a,{srcFile:D.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(S.translateWithI18Next)(c)]})]}),!Object(C.le)()&&Object(A.jsxs)("span",{className:"item-amount item-desc-bold",children:[i,Object(C.g)((null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),a)," "]})]})})})),!Object(C.le)()&&Object(A.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(A.jsx)("span",{className:"payment-total",children:Object(S.translateWithI18Next)(r)}),Object(A.jsxs)("span",{className:"payment-total-amount",children:[i,Object(C.g)(b,a)]})]})]},"orderItem-".concat(m))})]})},R=o(41),L=o(1195),P=o(85);const{CURRENT_STORE_INFO_STORAGE:w}=T.gd||{},M=e=>{const{isGenericError:t,isPastOrderValidationLoading:o,isAddItemLoading:i,enableButton:a,enableScheduleOrder:l,isFutureDateTimeOrder:d,scheduleOrderFlag:r,selectedTime:s,hasError:c,unavailableItem:u,totalItemsLength:v}=e;return t||o||i||!a||c.error||(null===u||void 0===u?void 0:u.length)===v||l&&d&&r&&n()(s)};var k=e=>{var t,o,l,n,r,s;const{closeButtonHandler:c,onChangeDisposition:u,editDeliveryLocation:v,enableButton:O,onChangeRestaurant:m,currentOrderInfo:b,onClickOrderAgain:j,orderTypeDifferentError:p,storeError:h,locationDifferentError:g,isLocationError:E,isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:y,storeChanged:w,currentStoreInfo:k,enableScheduleOrderFlag:F,selectedDate:U,selectedTime:H,scheduleOrderFlag:B,hasError:W,changeDateValue:G,changeTimeValue:V,orderNowFlag:Y,enableSceduleCA:z,enableScheduleMode:K,dateTimeArr:q,orderSchedulingMode:J,changeScheduleOrder:Q,isFutureDateTimeOrder:X,isStoreClosed:Z,storeClosedError:$,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:oe}=Object(i.useContext)(P.a),ie=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(F,q),ae=((e,t)=>{var o;return!!e&&!(null!==t&&void 0!==t&&null!==(o=t.timeSlots)&&void 0!==o&&o.length)})(F,U),le=Object(d.c)((e=>e.tenantReducer)),ne=null===le||void 0===le||null===(t=le.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:de,disableChangeCTAForAddressChange:re,disableChangeCTAForStoreChange:se}=null===le||void 0===le||null===(o=le.componentOptions)||void 0===o||null===(l=o.web)||void 0===l?void 0:l.quickReorder,{modifiedStoreData:ce,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(C.md)(w,k,b,oe),Oe=w?Object(C.ac)(null===b||void 0===b?void 0:b.deliveryAddress,ne):Object(C.ac)(ve,ne),{REVIEW_ORDER:me,ORDER_TYPE:be,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:pe,YOUR_LOCATION:he,ORDER_AGAIN:ge,PICK_UP_TIME:Se,DELIVERY_TIME:Ie}=N.a,{DELIVERY:fe}=T.Jb,Ne=((e,t)=>{const{DELIVERY:o}=T.Jb||{},i=(null===t||void 0===t?void 0:t.toUpperCase())===o?Object(S.translateWithI18Next)(N.a.SELECT_DELIVERY_TIME):Object(S.translateWithI18Next)(N.a.SELECT_PICKUP_TIME);return e?i:Object(S.translateWithI18Next)(N.a.ASAP)})(Q,ue),Ce=Y||B&&!Q,Te=B&&Q,Ee={isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:y,enableButton:O,enableScheduleOrder:F,isFutureDateTimeOrder:X,scheduleOrderFlag:B,selectedTime:H,hasError:W,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(n=e.orderDetails)||void 0===n||null===(r=n.foodLines)||void 0===r?void 0:r.length};return Object(A.jsx)(a.a.Fragment,{children:Object(A.jsxs)(I.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:c,backButtonHandler:c,modalTitle:Object(S.translateWithI18Next)(me),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:R.b.secondary,footerBtnText:Object(S.translateWithI18Next)(ge),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:M(Ee),loadingBtn:y,children:[Object(A.jsx)(f.a,{show:!0,sectionHeader:be,subSectionValue:Object(S.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:p,isAlert:!0,showChangeButton:!de,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(A.jsx)(f.a,{show:Object(C.Jd)(ue),sectionHeader:he,subSectionValue:Oe,showChangeButton:!Object(C.Jd)(ue)||!re,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(s=ve.addressLines)||void 0===s?void 0:s[0]:null===oe||void 0===oe?void 0:oe.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(Oe)}),Object(A.jsx)(f.a,{show:!0,sectionHeader:pe,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,onClickHandler:m,showChangeButton:!se,isAlert:Z||!x,storeUnavailableError:x&&h||E&&g||Z&&$,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(A.jsx)(f.a,{show:Boolean(F&&Ce),sectionHeader:Object(C.Jd)(ue)?Ie:Se,subSectionValue:J,orderTypeChange:je,onClickHandler:K,showChangeButton:z,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(A.jsx)(L.a,{show:Boolean(F&&Te),sectionHeader:Object(C.Jd)(ue)?Ie:Se,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,changeDateValue:G,changeTimeValue:V,dateTimeArr:q,selectedDate:U,selectedTime:H,placeholderText:Ne,disableDateOption:ie,disableTimeOption:ae,scheduleTimeWarning:F&&W&&(null===W||void 0===W?void 0:W.error),scheduleErrMsg:F&&W&&(null===W||void 0===W?void 0:W.errormessage),enableScheduleOrderFlag:F,elementUniqueLocator:te}),Object(A.jsx)(_,{...e})]})})},F=o(16),U=o(43),H=o(133),B=o(120),W=o(24),G=o(12),V=o(412),Y=o(329),z=o(145),K=o(394),q=o(80),J=o(132);const Q=e=>{var t;const{enableScheduleOrder:o,isFutureTimeOrderAvailable:i,updateReorderDetails:a,storename:l,service:n}=e,{STORE_CLOSED_ERROR:d,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:r,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:s}=N.a;a(o&&i?{storeError:null,storeClosedError:Object(C.rf)(n)===T.Lb.PICKUP?Object(S.translateWithI18Next)(r):Object(S.translateWithI18Next)(s)}:{storeClosedError:null,storeError:null===(t=Object(S.translateWithI18Next)(d))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(l,"</b>"))})},X=e=>{var t;const{timings:o={},orderingAttribute:i={}}=Object(C.sd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:a={}}=o||{},{isAsapOrder:l=!1}=i||{},n=!(null!==a&&void 0!==a&&a.isAvailable);return Boolean(!n&&l)},Z=(e,t)=>Boolean(e&&t),$=e=>{var t;return e?Object(S.translateWithI18Next)(N.a.TODAY_ASAP):null===(t=Object(S.translateWithI18Next)(N.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,o,l,r,c,v,I,f,E,x;const{currentOrderInfo:D,reorderModalOpen:y,closeButtonHandler:_,source:R}=e,{service:L,id:w,store:M,name:ee}=Object(C.sd)(D),{storeId:te}=Object(C.sd)(M),oe=Object(d.b)(),ie=Object(m.g)(),{RESET_DELIVERY_ADDRESS_LINE:ae,DISPOSITION_DATA:le,SCHEDULE_ORDER_DATA:ne,SEARCH_ORDER_DATA:de,DISPOSITION_METHOD:re,USER_LOCALIZED:se,CURRENT_STORE_INFO:ce,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:Oe,SET_ASAP_SCHEDULING:me,SCHEDULE_ORDER_CLICKED:be}=F.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:pe,DISPOSITION_TYPE:he,DATE_TIME_ORDER:ge,SELECTED_TILE:Se,CONFIG_SEARCH_SCREEN:Ie,CURRENT_STORE_INFO_STORAGE:fe,STORE_INFO:Ne}=T.gd,{LOCATION_DIFFERENT_ERROR:Ce,STORE_CLOSED_ERROR:Te}=N.a,{userOrderState:Ee,userOrderStateDispatch:xe}=Object(i.useContext)(P.a);let{dispositionNew:De,reorderFlag:{storeChanged:ye=!1},currentStoreInfo:Ae={},scheduleOrderData:_e={},showOrderNowReorder:Re=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:Pe=!1}=Ee;const{changeFlow:we=!1,isAddressFlow:Me=!1}=_e;De=Object(C.ad)(Object(C.Sd)(De),JSON.parse(localStorage.getItem(je)),De);const ke=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Fe=!1,loggedIn:Ue=!1}=Object(C.sd)(ke),He=Object(C.od)(Fe,Ue),Be=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:We,currencyConversionFactor:Ge,currencySymbol:Ve,componentOptions:Ye}=Object(C.sd)(Be),ze=null===Be||void 0===Be||null===(t=Be.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,Ke=null===Be||void 0===Be||null===(o=Be.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress,qe=null===Be||void 0===Be||null===(l=Be.componentOptions)||void 0===l?void 0:l.showComma,{web:Je={}}=Ye,{shouldCheckDropOffAddress:Qe=!1}=Je,Xe=Object(d.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(C.sd)(Xe),{elementUniqueLocator:$e,timeFormat:et}=Object(d.c)((e=>e.tenantReducer||{})),tt=Object(d.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:ot={}}=Object(C.sd)(tt),{addHope:it,carryBag:at}=Be,lt=a.a.useRef(null),nt=Object(d.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:dt}=Object(C.sd)(nt),{items:rt=[]}=Object(C.sd)(dt),st=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),ct=Object(d.c)((e=>{var t,o,i;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreDetailsLoading)||(null===(i=e.LoaderReducer)||void 0===i?void 0:i.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:Ot}=Object(C.sd)(st),{discountLines:mt=[],foodLines:bt=[]}=ot,jt=Object(C.hb)(mt,(null===mt||void 0===mt?void 0:mt.length)-1),pt=Object(C.hb)(mt,mt[jt]),{couponCode:ht="",amount:gt=""}=Object(C.sd)(pt),St=Object(C.g)(gt,Ge),It=null===Ye||void 0===Ye||null===(r=Ye.web)||void 0===r?void 0:r.dispositionConfig,ft=null===Ye||void 0===Ye||null===(c=Ye.web)||void 0===c||null===(v=c.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:Nt=!1}=It,{modifiedService:Ct}=Object(C.md)(ye,Ae,D),Tt=((e,t,o)=>e&&(null===t||void 0===t?void 0:t.includes(o)))(null===Ye||void 0===Ye||null===(I=Ye.web)||void 0===I||null===(f=I.dispositionConfig)||void 0===f?void 0:f.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(E=Ye.web)||void 0===E||null===(x=E.scheduledDelivery)||void 0===x?void 0:x.allowScheduleOrderForDispositions,Ct),Et=((e,t)=>e||t)(Nt,Tt),xt={unavailableItem:[],showModal:y,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:$(Tt),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[Dt,yt]=Object(i.useState)(xt),[At,_t]=Object(i.useState)(!1),Rt=Object(i.useCallback)((e=>{yt&&yt((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=T.sb,Pt=Et?ye:we,wt=Object(J.b)(q.b);Object(i.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(T.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(i.useEffect)((()=>{lt.current=Dt}),[Dt]),Object(i.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&!Dt.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=Dt.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:Et,enableClickCollectScheduleOrderFlag:Tt,fromReorder:!0,scheduleModeClicked:Pe,timeFormat:et},o=Object(B.h)(t);Rt({dateTimeArr:o})}}),[Nt,Dt.storeDetail,L,ye,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&Dt.scheduleOrderFlag&&Dt.changeScheduleOrder){const e={shouldShowScheduleOrder:Dt.scheduleOrderFlag,store:Dt.storeDetail,updateReorderDetails:Rt,changeFlow:we,enableScheduleOrder:Et,selectedDate:Dt.selectedDate,selectedTime:Dt.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:Pe,enableClickCollectScheduleOrderFlag:Tt};Object(B.c)(e)}}),[Et,Dt.scheduleOrderFlag,ye,Dt.storeDetail,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Et,Dt.storeDetail)){var e,t,o;const i=X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),a=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),l=!n()(Dt.selectedDate)&&!n()(Dt.selectedTime),d=u()(null===Dt||void 0===Dt||null===(t=Dt.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),r=((e,t)=>Boolean(e&&!t))(null===Dt||void 0===Dt?void 0:Dt.storeClosedError,a);((e,t,o,i)=>{var a;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&o({orderSchedulingMode:i?Object(S.translateWithI18Next)(N.a.TODAY_ASAP):null===(a=Object(S.translateWithI18Next)(N.a.ASAP))||void 0===a?void 0:a.toUpperCase()})})(Dt,i,Rt,Tt);const s=(e=>{const{storeClosedError:t,asapOrderFlag:o,isFutureDateTimeOrder:i,changeScheduleOrder:a,enabledDate:l,isDateTimeSelected:n}=e;return Boolean((t||!o)&&i&&!a&&l&&!n)})({storeClosedError:null===Dt||void 0===Dt?void 0:Dt.storeClosedError,asapOrderFlag:i,isFutureDateTimeOrder:null===Dt||void 0===Dt?void 0:Dt.isFutureDateTimeOrder,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:a,isDateTimeSelected:l});s&&Rt({scheduleOrderFlag:!0,selectedDate:a,selectedTime:null===a||void 0===a?void 0:a.timeSlots[0],orderNowFlag:!1});const c=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:o,scheduleOrderFlag:i,changeScheduleOrder:a,enabledDate:l}=e;return Boolean(!t&&o&&i&&a&&l)})({storeClosedError:Dt.storeClosedError,isFutureDateTimeOrder:Dt.isFutureDateTimeOrder,scheduleOrderFlag:Dt.scheduleOrderFlag,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:a});c&&n()(Dt.selectedDate)&&Rt({selectedDate:a}),r&&Rt({storeClosedError:null,storeError:null===(o=Object(S.translateWithI18Next)(Te))||void 0===o?void 0:o.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})}}),[Et,Dt.orderNowFlag,Dt.scheduleOrderFlag,Dt.storeClosedError,Dt.changeScheduleOrder,Dt.storeDetail,Dt.isFutureDateTimeOrder,ye,Dt.dateTimeArr]),Object(i.useEffect)((()=>{if(Et&&!n()(Dt.selectedDate)&&!n()(Dt.selectedTime)){const e=Dt.selectedDate.date.value,t=Dt.selectedTime.value,o=qe?",":"",i=" ".concat(e).concat(o," ").concat(t);Rt({orderSchedulingMode:i})}}),[Dt.selectedDate,Dt.selectedTime,Et]),Object(i.useEffect)((()=>{if(Z(Et,Dt.storeDetail)){var e,t,o;const i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=Object(C.Yd)(null===(t=Dt.storeDetail)||void 0===t?void 0:t[0])||Object(C.Xd)(null===(o=Dt.storeDetail)||void 0===o?void 0:o[0]),l=((e,t,o)=>Boolean(e&&!t&&o))(a,Dt.changeScheduleOrder,i);Rt({isFutureDateTimeOrder:a,enableSceduleCA:l})}}),[Et,Dt.storeDetail,ye,Dt.dateTimeArr]),Object(i.useEffect)((()=>{null!==Dt&&void 0!==Dt&&Dt.showModal&&Et&&!ye&&xe({type:be,value:{scheduleModeClicked:!1}})}),[null===Dt||void 0===Dt?void 0:Dt.showModal,Et,ye]),Object(i.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.showModal&&ye&&!Dt.isFlowChangedLoadingFinish){var e,t,o;const i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=((e,t,o)=>Boolean(e&&t&&o))(X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),Dt.isFutureDateTimeOrder,i);a&&Rt({orderNowFlag:Re,changeScheduleOrder:!Re||Le&&(null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!Re||Le&&(null===(o=Dt.dateTimeArr)||void 0===o?void 0:o.length),isFlowChangedLoadingFinish:!0})}}),[Et,Re,Le,ye,Dt.showModal,Dt.storeDetail,Dt.dateTimeArr,Dt.isFlowChangedLoadingFinish,Dt.isFutureDateTimeOrder]);Object(i.useEffect)((()=>{Object(C.hb)(Dt.confirmed,Ot)&&(Rt({confirmed:!1}),ie.push(T.Ce.CART))}),[Dt.confirmed,Ot]);const Mt=Object(C.g)(null===ot||void 0===ot?void 0:ot.total,Ge),kt=Object(i.useCallback)((()=>{var e,t;const o=null===(e=Dt.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,i=Object(C.ac)(o);localStorage.setItem(T.gd.RETAIN_ADDRESS,i),Rt({showModal:!1}),xe({type:ae}),xe({type:le,value:{showDisposition:!0}}),xe({type:ne,value:{showScheduleOrder:!1}}),xe({type:de,value:{showSearchStore:!1}}),xe({type:Oe,value:{reorderModalOpen:!1}})}),[xe,Dt.storeDetail]),Ft=Object(i.useCallback)((e=>{const t=s()(Dt.storeDetail,{});t&&(xe({type:re,value:{dispositionType:t.service}}),Object(B.a)(Me,t,H.a,Pt,!0,e,xe),xe({type:Oe,value:{reorderModalOpen:!1}}))}),[xe,Pt,Me,Dt.storeDetail]),Ut=Object(i.useCallback)((e=>{if(!Object(C.Sd)(e)){var t;const{summary:o}=e,{futureDates:i,scheduled:a,asap:l}=Object(C.sd)(null===o||void 0===o?void 0:o.timings),{interval:n=0,startEndTime:d={}}=a&&a.periods.length&&a.periods[0],{from:r,to:s}=d;return Object(B.j)(r,s,n,null===l||void 0===l?void 0:l.isAvailable,Object(C.hb)(1===i.length,Object(C.le)())),{time:T.t,interval:null===o||void 0===o||null===(t=o.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:T.t}}})),Ht=(e,t,o)=>{const i=[];let a=0,l=[],n=Object(C.Tb)(e,it,at);return null===n||void 0===n||n.forEach((e=>{var n,d,r;const s=(e=>{const t=e;return e.forEach(((t,o)=>{var i;e[o].modifiers=null===(i=t.modifiers)||void 0===i?void 0:i.filter((e=>!0===e.isAdded))})),t})(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps),c=null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,u=Object(C.Of)(rt,s,c),{isAvailable:v,product:O}=((e,t,o)=>{var i,a,l,n,d,r;const s=o&&"ASAP"!==o?Object(G.C)(o,T.sb.lll):Object(G.e)(T.sb.lll),c=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(i=c[0])||void 0===i||null===(a=i.availability[0])||void 0===a?void 0:a.availableHours,v=null===u||void 0===u||null===(l=u.startTime)||void 0===l?void 0:l.time,O=null===u||void 0===u||null===(n=u.endTime)||void 0===n?void 0:n.time,m=Object(K.j)(Object(C.z)(v),T.sb.lll,1e3*o),b=Object(K.j)(Object(C.z)(O),T.sb.lll,1e3*o),j=null===(d=c[0])||void 0===d?void 0:d.isNotAvailable,p=Object(G.f)(s,m,b)&&!j;return(null===(r=c[0])||void 0===r?void 0:r.isHidden)?{isAvailable:"hidden",product:c}:{isAvailable:p,product:c}})(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,t,o);var m,b,j,p;v&&u?i.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===O||void 0===O||null===(m=O[0])||void 0===m||null===(b=m.categoryUrl)||void 0===b?void 0:b[0],categoryName:null===O||void 0===O||null===(j=O[0])||void 0===j?void 0:j.categoryName,categoryId:null===O||void 0===O||null===(p=O[0])||void 0===p?void 0:p.categoryId,modGrps:s}):(a+=1,l.push(e.item))})),Rt({unavailableItem:l}),{unAval:a,itemArr:i}},Bt=(e,t,o)=>{const i=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===T.Ne||void 0===T.Ne?void 0:T.Ne.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:W.b.channel,service:o});Object(z.g)(),oe(Et?Object(p.b)({tenantId:We,catalogName:e},i,(()=>Rt({isMenuFetched:!0}))):Object(p.b)({tenantId:We,catalogName:e},{storeId:t,channel:W.b.channel,service:o},(()=>Rt({isMenuFetched:!0}))))};Object(i.useEffect)((()=>{if(Object(C.j)([bt.length>0,rt.length>0,Dt.isMenuFetched])){var e;const{id:t}=Object(C.sd)(ut),o=Object(C.Tb)(bt,T.i),i=Ht(o,rt,null===(e=Dt.selectedTime)||void 0===e?void 0:e.key),a={dispatch:oe,response:i,foodLineInfo:bt,basketId:t,tenantId:We,updateReorderDetails:Rt,setupLocalization:Gt,storeDetail:Dt.storeDetail,orderinfoData:Dt.orderinfoData,closeButtonHandler:_};At||((e=>{const{dispatch:t,response:o,foodLineInfo:i,basketId:a,tenantId:l,updateReorderDetails:n,setupLocalization:d,storeDetail:r,orderinfoData:s,closeButtonHandler:c}=e;o.unAval!==i.length&&t(Object(g.a)({params:{basketId:a},tenantId:l,isFromReorder:!0},o.itemArr,(e=>{localStorage.removeItem(T.gd.ADD_TO_ORDER),d(r,s),n({confirmed:!0}),c()})))})(a),Rt({isMenuFetched:!1})),_t(!1)}}),[bt,rt,Dt.isMenuFetched]);const Wt=async function(){var e,t,o,i,a,l,n,d,r,s,c,u,v,m,b,j,p,h,I,f,E,x,D,y;let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_||_t(!1);const{lang:R,catalog:P,storeId:w,deliveryAddress:M,storename:k,service:F}=Object(C.ld)(_?A:Dt.storeDetail),H=ye?M:null===(e=Dt.orderinfoData)||void 0===e?void 0:e.deliveryAddress,B={date:null!==(t=null===(o=Dt.selectedDate)||void 0===o||null===(i=o.date)||void 0===i?void 0:i.key)&&void 0!==t?t:Object(G.h)(new Date,Lt),time:null!==(a=null===(l=Dt.selectedTime)||void 0===l?void 0:l.value)&&void 0!==a?a:T.t,selectedTime:null!==(n=null===(d=Dt.selectedTime)||void 0===d?void 0:d.value)&&void 0!==n?n:T.t,epochTime:null!==(r=Dt.selectedTime)&&void 0!==r&&r.key&&(null===(s=Dt.selectedTime)||void 0===s?void 0:s.key)!==T.t?null===(c=Dt.selectedTime)||void 0===c?void 0:c.key:T.t},W={time:T.t,date:new Date,selectedTime:T.t,epochTime:T.t},V=Et?B:W;let Y={id:w,summary:{menu:{catalogs:[P]}},addresses:[{lang:R}]};const{addressLines:z=[],customProperties:K}=(null===Dt||void 0===Dt||null===(u=Dt.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[J,X,Z,$,ee,te,ie,ae]=z,le=null===Dt||void 0===Dt||null===(v=Dt.orderinfoData)||void 0===v||null===(m=v.deliveryAddress)||void 0===m?void 0:m.name,ne=null===Dt||void 0===Dt||null===(b=Dt.orderinfoData)||void 0===b||null===(j=b.deliveryAddress)||void 0===j?void 0:j.pinCode,de=null===(p=O()(K,{key:T.V}))||void 0===p?void 0:p.value,re=null===(h=O()(K,{key:T.S}))||void 0===h?void 0:h.value,se=(null===Dt||void 0===Dt||null===(I=Dt.orderinfoData)||void 0===I||null===(f=I.customProperties)||void 0===f||null===(E=f[0])||void 0===E?void 0:E.value)||{},ce=ze&&null!==z&&void 0!==z&&z.length?{addressName:le,apartmentName:ee,chome:Z,chomeId:re,cityId:de,cityTown:X,companyName:ie,postalCode:ne,prefecture:J,roomNumber:te,specialNote:ae,streetDetailAddress:$}:{},ue=await Object(C.A)(Y,Object(C.Mb)(F),Ze,V,Object(C.ac)(H,Ke),null,ce,null===Dt||void 0===Dt||null===(x=Dt.orderinfoData)||void 0===x||null===(D=x.deliveryAddress)||void 0===D?void 0:D.addressLines);let ve=Object(G.p)();if(Et&&(null===(y=Dt.selectedTime)||void 0===y?void 0:y.key)<ve)Rt({hasError:{...Dt.hasError,error:!0,errormessage:Object(S.translateWithI18Next)(N.a.SCHEDULE_ORDER_CA)}});else{const e=Object(C.Td)(Dt.selectedTime)?Dt.selectedTime.key:"";Et&&sessionStorage.setItem(T.Ne.SCHEDULE_DATE_EPOCH,e),oe(Object(g.f)({data:ue,tenantId:We,successCallback:()=>Bt(P,w,F),errorCallback:()=>{var e,t;const o=lt.current,i=Object(C.Yd)(null===o||void 0===o||null===(e=o.storeDetail)||void 0===e?void 0:e[0])||Object(C.Xd)(null===o||void 0===o||null===(t=o.storeDetail)||void 0===t?void 0:t[0]);Q({enableScheduleOrder:Nt,isFutureTimeOrderAvailable:i,updateReorderDetails:Rt,storename:k,service:L})}}))}oe(Object(q.d)({key:T.gd.ADD_HOPE_TRIGGER,value:!0})),oe(Object(q.d)({key:null===T.se||void 0===T.se?void 0:T.se.REORDER_FLAG,value:{isReorderFlow:!0}})),oe(Object(q.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SELECTED_NOT_NOW,value:!1})),oe(Object(q.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),oe(Object(q.d)({key:null===U.a||void 0===U.a?void 0:U.a.STREET_NUMBER,value:se}))},Gt=(e,t)=>{var o,i,a,l,n,d,r,c,u,v,O,m;const b=s()(e,{});let{deliveryAddress:p,service:h}=ye?Object(C.ld)(e):t;xe({type:re,value:{dispositionType:h}});const S=ze?Object(G.S)(null===(o=Dt.selectedTime)||void 0===o?void 0:o.value,T.sb.HH_mm,T.sb.hh_mm_A):null===(i=Dt.selectedTime)||void 0===i?void 0:i.value,I={date:null!==(a=null===(l=Dt.selectedDate)||void 0===l||null===(n=l.date)||void 0===n?void 0:n.key)&&void 0!==a?a:Object(G.h)(new Date,Lt),time:null!==S&&void 0!==S?S:T.t,selectedTime:null!==S&&void 0!==S?S:T.t,epochTime:null!==(d=Dt.selectedTime)&&void 0!==d&&d.key&&(null===(r=Dt.selectedTime)||void 0===r?void 0:r.key)!==T.t?null===(c=Dt.selectedTime)||void 0===c?void 0:c.key:T.t},f=Et?I:Ut(b),N=Boolean((null===f||void 0===f?void 0:f.key)===T.t),E={type:h,store:b,date:null===f||void 0===f?void 0:f.date,time:null===f||void 0===f?void 0:f.time,epochTime:null===f||void 0===f?void 0:f.epochTime,interval:null===f||void 0===f?void 0:f.interval,selectedTime:null===f||void 0===f?void 0:f.selectedTime,deliveryAddress:Object(C.ac)(p,Ke),deliveryAddressLine:(null===p||void 0===p||null===(u=p.addressLines)||void 0===u?void 0:u.length)>=1?null===p||void 0===p||null===(v=p.addressLines)||void 0===v?void 0:v[0]:""};xe({type:ue,value:{oldvalue:De,newValue:E}}),localStorage.setItem(pe,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(E)),localStorage.setItem(je,JSON.stringify({type:h,store:b,date:null===f||void 0===f?void 0:f.date,time:null===f||void 0===f?void 0:f.time,interval:null===f||void 0===f?void 0:f.interval,selectedTime:null===f||void 0===f?void 0:f.selectedTime,epochTime:null===f||void 0===f?void 0:f.epochTime,deliveryAddress:Object(C.ac)(p,Ke),deliveryAddressLine:(null===p||void 0===p||null===(O=p.addressLines)||void 0===O?void 0:O.length)>=1?null===p||void 0===p||null===(m=p.addressLines)||void 0===m?void 0:m[0]:""})),xe({type:de,value:{showSearchStore:!1}}),xe({type:se,value:{isLocalized:!0}}),xe({type:ce,value:b}),oe(Object(j.a)({...ke,localized:!0})),localStorage.setItem(fe,JSON.stringify(b)),localStorage.setItem(Ne,JSON.stringify(b)),Et&&(xe({type:F.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),xe({type:me,value:{enableASAPScheduling:N}})),xe({type:ve,value:{selectedDateTime:f}}),localStorage.setItem(Se,JSON.stringify({})),localStorage.setItem(Ie,H.a),localStorage.setItem(he,h),localStorage.setItem(ge,JSON.stringify(f)),xe({type:F.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(C.ld)(Dt.storeDetail);if(Object(C.Td)(e)){const o=Object(C.ac)(e),i=await Object(Y.geocodeByAddress)(o),a=await Object(Y.getLatLng)(null===i||void 0===i?void 0:i[0]);Object(C.tf)(t,i),ft&&oe(Object(q.d)({key:T.se.LAT_LONG,value:a}))}localStorage.setItem(T.gd.SERVICE_TYPE,Object(C.Mb)(t));const o=T.p.AUD;let i=[];null===bt||void 0===bt||bt.forEach(((e,t)=>{var a,l,n,d;let r=Object(C.g)(null===e||void 0===e?void 0:e.unitPrice,Ge);i.push({item_name:Object(C.jb)(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(l=a.dname[0])||void 0===l?void 0:l.value,"NA"),item_id:Object(C.jb)(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id,"NA"),price:Object(C.jb)(parseFloat(r),"NA"),coupon:ht,currency:o,discount:St,item_category:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.categoryName)||"NA",item_list_name:R,item_list_id:"",index:t+0,quantity:Object(C.jb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(V.o)(i,He,o,Mt,t),bt.length>0&&oe(Object(g.r)()),Object(V.p)(He,ee)})()},Vt=(e,t)=>{const{modifiedStoreData:o}=Object(C.md)(ye,Ae,D);if(Rt({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=s()(e,{}),n=u()(t,"summary",{}),{currentStatus:d}=u()(n,"status",{}),r=u()(n,"name",{}),c=Object(C.Yd)(t)||Object(C.Xd)(t);if(d===T.Y){Q({enableScheduleOrder:Nt,isFutureTimeOrderAvailable:c,updateReorderDetails:Rt,storename:r,service:L})}var i,a,l;if(ke.localized)((e,t,o)=>{var i,a;Object(C.rf)(null===e||void 0===e?void 0:e.type)!==Object(C.rf)(t)&&o({orderTypeDifferentError:null===(i=Object(S.translateWithI18Next)(N.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===i?void 0:i.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(S.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(S.translateWithI18Next)(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toLowerCase()),"</b>"))})})(De,Ct,Rt),te!==(null===(i=De)||void 0===i||null===(a=i.store)||void 0===a?void 0:a.id)&&Rt({locationDifferentError:null===(l=Object(S.translateWithI18Next)(Ce))||void 0===l?void 0:l.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))});_t(!0),Wt(e,!0)}else{var n;Rt({storeClosedError:null,storeError:null===(n=Object(S.translateWithI18Next)(Te))||void 0===n?void 0:n.replace("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))})}};return Object(i.useEffect)((()=>{const e=null===D||void 0===D?void 0:D.service,{modifiedStoreId:t,modifiedStoreData:o,modifiedService:i,modifiedDeliveryAddress:a}=Object(C.md)(ye,Ae,D);oe(Object(h.l)({storeId:t,tenantId:We},(t=>{const l={data:Object(C.C)([o],i,a,Qe,null===wt||void 0===wt?void 0:wt.latLong),store:[{...t,service:i}],tenantId:We,setStatusFlag:!1,isFavoritePage:!1};oe(Object(h.d)(l,(t=>{Rt({storeDetail:t}),oe(Object(b.f)({tenantId:We,orderId:w,customerId:Ze,CTO:!!Object(C.Jd)(e)&&void 0},(e=>Vt(t,e))))})))})))}),[]),Object(A.jsx)(A.Fragment,{children:Dt.showModal?Object(A.jsx)(k,{...e,onChangeDisposition:kt,editDeliveryLocation:Ft,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(C.md)(ye,Ae,D),o=s()(Dt.storeDetail,{});var i;o?(Rt({showModal:!1}),xe({type:re,value:{dispositionType:o.service}}),Object(C.Gf)(xe,null===(i=o.summary)||void 0===i?void 0:i.name),xe({type:Oe,value:{reorderModalOpen:!1}})):(Rt({showModal:!1}),xe({type:re,value:{dispositionType:t}}),Object(C.Gf)(xe,null===e||void 0===e?void 0:e.name),xe({type:Oe,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Wt,storeError:Dt.storeError,locationDifferentError:Dt.locationDifferentError,currencySymbol:Ve,currencyConversionFactor:Ge,orderDetails:ot,isPastOrderValidationLoading:ct,isAddItemLoading:vt,storeChanged:ye,currentStoreInfo:Ae,enableScheduleOrderFlag:Et,changeDateValue:e=>{var t,o;const i=null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.date)||void 0===o?void 0:o.key)===(null===e||void 0===e?void 0:e.key)}));Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedDate:i,storeError:null,storeClosedError:null,selectedTime:{...null===i||void 0===i||null===(o=i.timeSlots)||void 0===o?void 0:o[0]}})},changeTimeValue:e=>{Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{Rt({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(Dt.storeClosedError),isGenericError:Boolean(Dt.storeError),isLocationError:Boolean(Dt.locationDifferentError),...Dt,elementUniqueLocator:$e}):null})}},1211:function(e,t,o){"use strict";var i=o(3),a=o(75),l=o(28),n=o(5),d=o(12),r=o(144),s=o(41),c=o(123),u=o(0),v=o(15),O=o(2);const m=e=>{const{isOpen:t,handleClose:o,OrderReducerData:a}=e,[l,d]=Object(i.useState)(Object(n.de)(window.innerWidth)),s=window.google,{RedMarker:c,BlackMarker:m}=v.a;Object(i.useEffect)((()=>(window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)})));const b=()=>{d(Object(n.de)(window.innerWidth))},j=l?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:o,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,autoFocus:!0};function p(){var e,t,o,i;const l=new s.maps.DirectionsService,n=new s.maps.DirectionsRenderer,d=new s.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===a||void 0===a||null===(e=a.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===a||void 0===a||null===(o=a.store)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.longitude)}});n.setMap(d),function(e,t){var o,i,l,n,d,r,c,u,v,O,b,j;const p={lat:Number(null===a||void 0===a||null===(o=a.store)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.latitude),lng:Number(null===a||void 0===a||null===(l=a.store)||void 0===l||null===(n=l.location)||void 0===n?void 0:n.longitude)},h=new s.maps.Map(document.getElementById("maps"),{zoom:16,center:p});e.route({origin:{lat:Number(null===a||void 0===a||null===(d=a.store)||void 0===d||null===(r=d.location)||void 0===r?void 0:r.latitude),lng:Number(null===a||void 0===a||null===(c=a.store)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.longitude)},destination:{lat:Number(null===a||void 0===a||null===(v=a.store)||void 0===v||null===(O=v.location)||void 0===O?void 0:O.latitude),lng:Number(null===a||void 0===a||null===(b=a.store)||void 0===b||null===(j=b.location)||void 0===j?void 0:j.longitude)},travelMode:s.maps.TravelMode.DRIVING},((e,o)=>{if("OK"===o){t.setDirections(e);var i=e.routes[0].legs[0];new s.maps.Marker({position:i.end_location,map:h,visible:!0,icon:m,title:"Delivery-Location"})}else new s.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(l,n)}return Object(i.useEffect)((()=>{null!==(null===a||void 0===a?void 0:a.deliveryAddress)&&null!==(null===a||void 0===a?void 0:a.store)&&Object(n.rf)(null===a||void 0===a?void 0:a.service)===Object(n.rf)(u.yb)?p():Object(n.rf)(null===a||void 0===a?void 0:a.service)!==Object(n.rf)(u.fe)&&Object(n.rf)(null===a||void 0===a?void 0:a.service)!==Object(n.rf)(u.Eb)||null===(null===a||void 0===a?void 0:a.store)||function(){var e,t,o,i;const l={lat:Number(null===a||void 0===a||null===(e=a.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===a||void 0===a||null===(o=a.store)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.longitude)},n=new s.maps.Map(document.getElementById("maps"),{zoom:16,center:l});new s.maps.Marker({position:l,map:n,visible:!0,icon:c,title:"KFC Store"})}()})),Object(O.jsx)("div",{children:t&&Object(O.jsx)(r.a,{...j,children:Object(O.jsx)("div",{children:Object(O.jsx)("div",{id:"maps"})})})})};m.defaultProps={isOpen:!1,closeModal:null};var b=m,j=o(1127),p=o(6),h=o(122),g=o(271),S=o(71),I=o(334),f=o(414);const{phoneImg:N,Direction:C}=v.a;let T=0;const E=(e,t,o)=>{let i={...e},a=i.errorMessage;var l;return i.value=t,t?(l=t,j.a.EMAIL_REGEX.test(l)?(T=0,i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(p.translateWithI18Next)("invalidYourEmailErrText"),o(!0))):(i.error=!0,i.errorMessage=Object(p.translateWithI18Next)("yourEmailHelpText"),o(!0)),a!==i.errorMessage&&(T=0),i.error&&0===T&&(T=1,Object(n.Ob)("OrderLookup",i.errorMessage)),i},x=(e,t,o,i)=>{var a,l;return(null===e||void 0===e||null===(a=e.discountLines)||void 0===a?void 0:a.length)>0&&Object(O.jsxs)("div",{className:"priceList",children:[Object(O.jsxs)("span",{className:"fonts",children:[Object(p.translateWithI18Next)(i)," (",null===e||void 0===e||null===(l=e.discountLines[0])||void 0===l?void 0:l.couponCode,")"]}),Object(O.jsxs)("span",{className:"amount",children:[" ","- ",t,o]})]})};t.a=e=>{var t,o,u;const{isOpen:v=!1,handleClose:m}=e,T=Object(l.b)(),D=Object(l.c)((e=>e.tenantReducer)),{tenantId:y,currencySymbol:A,currencyConversionFactor:_,addHope:R,carryBag:L}=D,[P,w]=Object(i.useState)(Object(n.de)(window.innerWidth)),[M,k]=Object(i.useState)(""),[F,U]=Object(i.useState)(0),[H,B]=Object(i.useState)([]),[W,G]=Object(i.useState)([]),[V,Y]=Object(i.useState)(0),[z,K]=Object(i.useState)(""),[q,J]=Object(i.useState)(""),[Q,X]=Object(i.useState)(!1),[Z,$]=Object(i.useState)(!1),[ee,te]=Object(i.useState)(!1),[oe,ie]=Object(i.useState)({}),[ae,le]=Object(i.useState)(!0),[ne,de]=Object(i.useState)(""),[re,se]=Object(i.useState)(""),[ce,ue]=Object(i.useState)(""),[ve,Oe]=Object(i.useState)(0),[me,be]=Object(i.useState)(0),[je,pe]=Object(i.useState)([]),[he,ge]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[Se,Ie]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[fe,Ne]=Object(i.useState)({value:"",errorMessage:"",error:!1}),{PHONE_NUM:Ce,ORDER_NUMBER:Te,CANCEL:Ee,SUBMIT:xe,ORDERHASH:De,YOUR_ORDER:ye,DELIVER_TO:Ae,ORDER_FROM:_e,GET_DIRECTION:Re,DISCOUNT:Le,TOTAL:Pe,COMPLETED:we,SUB_TOTAL:Me,PAYMENT:ke,ORDER_LOOKUP:Fe,EMAIL_ADDRESS:Ue,DELIVERY:He,SEARCH_IN_CART:Be,largeCarryBagText:We,addHopeText:Ge}=j.a;Object(i.useEffect)((()=>(window.addEventListener("resize",Ve),()=>{window.removeEventListener("resize",Ve)})),[P]);const Ve=()=>{w(Object(n.de)(window.innerWidth))};Object(i.useEffect)((()=>{T(Object(g.a)({object:Object(S.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((()=>{""===he.value||he.error||""===Se.value||Se.error||""===fe.value||fe.error||le(!1)})),Object(i.useEffect)((()=>{""===fe.value.trim()&&le(!0)}),[null===fe||void 0===fe?void 0:fe.value]);const{tendersContent:Ye}=Object(l.c)((e=>e.paymentsContentReducer)),{items:ze}=Ye,Ke=e=>(e/_).toFixed(2);Object(i.useEffect)((()=>T(Object(c.a)({emailId:he.value,phoneNo:Se.value,orderNo:fe.value}))),[]);const qe=Object(l.c)((e=>e.orderReducer)),{pastOrderResponse:Je=[{}]}=qe,Qe=Je[0];Object(i.useEffect)((()=>{Object(n.hb)(null===ze||void 0===ze?void 0:ze.length,null===Qe||void 0===Qe?void 0:Qe.paymentReferences)&&ze.forEach((e=>{e.fields.title===Qe.paymentReferences[0].paymentType&&ie(e)}))}),[Qe]),Object(i.useEffect)((()=>{if(null!==Qe&&void 0!==Qe&&Qe.id){X(!1),te(!0);const e=Qe.fulfillmentDateTime,t=Object(d.h)(Object(d.M)(e),"ll"),o=Object(d.h)(Object(d.M)(e),"h:mm A");if(k(t+" at "+o),B(Qe.taxLines),G(Qe.additionalChargeLines),Y(Ke(Qe.discountTotal)),J(function(e){e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Qe.store.phoneNumber)),U(Ke(Qe.subTotal)),K(Ke(Qe.total)),de(Qe.service),Object(n.hb)(R,L)){((e,t,o,i,a,l,d)=>{const{setAddHopeDataExistsId:r,setAddHopeDataPrice:s}=a,{setCarryBagDataExistsId:c,setCarryBagDataPrice:u}=l,{currencyConversionFactor:v}=d;let O=e.foodLines.length?Object(n.eb)(e.foodLines,t,v,i):{},m=Object(n.ud)(null===O||void 0===O?void 0:O.id);if(r(m),m){let t=e.foodLines.find((e=>e.id===m));s(Object(I.a)(t.amount,d))}let b=e.foodLines.length?Object(n.rb)(e.foodLines,o,v,i):{},j=Object(n.ud)(null===b||void 0===b?void 0:b.id);if(c(j),j){let t=e.foodLines.find((e=>e.id===j));u(Object(I.a)(t.amount,d))}})(Qe,R,L,Be,{setAddHopeDataExistsId:ue,setAddHopeDataPrice:Oe},{setCarryBagDataExistsId:se,setCarryBagDataPrice:be},D);let e=((e,t,o)=>e.filter((e=>{var i,a;return(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)!==t&&(null===(a=e.item)||void 0===a?void 0:a.name)!==o})))(Qe.foodLines,R,L);pe(e)}}else Qe||(te(!1),X(!0),Object(n.Ob)("OrderLookup",Object(p.translateWithI18Next)("invaidInputs")),le(!0))}),[Je]);const Xe=P?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:v,classNames:Object(n.ad)(ee,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:m,autoFocus:!0,modalTitle:Object(p.translateWithI18Next)(Fe),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:v,classNames:Object(n.ad)(ee,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:m,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};const Ze=(e,t)=>{X(!1);let o=e.target.value;if(Object(n.Ie)(o,t)){let e=o.replace(/\+|-/gi,"");Ie({...Object(n.If)(Se,e,le)})}t===Ue&&ge({...E(he,o,le)}),t===Te&&Ne({...Object(n.Kf)(fe,o,le)})},$e=Object(O.jsxs)("div",{className:"priceList",children:[Object(O.jsx)("span",{className:"fonts",children:"GST"}),Object(O.jsxs)("span",{className:"amount",children:[A,Ke(null===Qe||void 0===Qe?void 0:Qe.inclusiveTaxTotal)," "]})]}),et=W.map((function(e,t){return Object(O.jsxs)("div",{className:"priceList",children:[Object(O.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(O.jsxs)("span",{className:"amount",children:[A,Ke.call(this,e.amount)," "]})]},t)})),tt=Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"InputArea",children:[Object(O.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(O.jsxs)("div",{className:"inputLookUpNumbox",children:[!P&&Object(O.jsx)("p",{className:"lookup-mandatory-note",children:Object(p.translateWithI18Next)("mandatorynote")}),Object(O.jsx)(h.a,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Se.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Ce),onChange:e=>Ze(e,Ce),helperText:Se.errorMessage,error:Se.error}),Object(O.jsx)(h.a,{"data-testid":"user-orderId",autoComplete:"off",value:fe.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Te),onChange:e=>Ze(e,Te),helperText:fe.errorMessage,error:fe.error}),Object(O.jsx)(h.a,{"data-testid":"user-email",autoComplete:"on",value:he.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Ue),onChange:e=>Ze(e,Ue),helperText:he.errorMessage,error:he.error})]}),Q&&Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"exMark",children:"!"}),Object(O.jsx)("span",{className:"errorMessage",children:Object(p.translateWithI18Next)("invaidInputs")})]})]}),Object(O.jsxs)("div",{className:"buttonItems",children:[Object(O.jsx)(s.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>it(),children:Ee}),Object(O.jsx)(s.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:e=>ot(e),disabled:ae,children:xe})]})]}),ot=e=>{""!==Object(n.hb)(he.value,Object(n.hb)(Se.value,fe.value))&&T(Object(c.d)({emailId:he.value,phoneNo:Se.value,orderNo:fe.value,tenantId:y}))},it=()=>{te(!1),m(),T(Object(c.a)({emailId:he.value,phoneNo:Se.value,orderNo:fe.value}))};const at="tel:"+(null===Qe||void 0===Qe||null===(t=Qe.store)||void 0===t?void 0:t.phoneNumber);return Object(a.createPortal)(Object(O.jsxs)("div",{children:[v&&!ee&&Object(O.jsx)(r.a,{...Xe,children:Object(O.jsx)("div",{className:"LookUpmodalContants",children:tt})}),v&&ee&&Qe&&Object(O.jsx)(r.a,{...Xe,children:Object(O.jsx)("div",{className:"LookUpmodalContants",children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"orderLookUpData",children:[Object(O.jsxs)("div",{className:"Orderheading",children:[Object(O.jsx)("span",{className:"yourOrder",children:ye}),Object(O.jsxs)("span",{className:"idNumber",children:[De,Qe.posOrderId]})]}),Object(O.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(O.jsx)("span",{className:"completed",children:we}),Object(O.jsx)("span",{className:"dateCompleted",children:M})]}),Object(n.rf)(null===Qe||void 0===Qe?void 0:Qe.service)===He&&null!==(null===Qe||void 0===Qe?void 0:Qe.deliveryAddress)&&Object(O.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(O.jsx)("span",{className:"completed",children:Ae}),Object(O.jsx)("span",{className:"dateCompleted",children:Object(n.a)(null===Qe||void 0===Qe?void 0:Qe.deliveryAddress)})]}),Object(O.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(O.jsx)("span",{className:"completed",children:ke}),Object(O.jsx)("span",{className:"dateCompleted",children:"Only image"===oe.fields.displayFormat?Object(O.jsx)("img",{src:oe.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(O.jsx)("span",{className:"dateCompleted",children:oe.fields.displayName})})]}),Object(O.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(O.jsxs)("span",{className:"completed",children:[" ",_e]}),null!==Qe.store&&void 0!==Qe.store&&Object(O.jsxs)("span",{className:"dateCompleted",children:[Qe.store.name,Object(O.jsx)("br",{}),null===Qe||void 0===Qe||null===(o=Qe.store)||void 0===o||null===(u=o.address)||void 0===u?void 0:u.addressLines]})]}),Object(O.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(O.jsx)("span",{children:" "}),Object(O.jsxs)("span",{className:"callAndDirection",children:[Object(O.jsxs)("span",{className:"KfcphoneNums",children:[Object(O.jsx)("img",{src:N,alt:"phone",className:"KfcphoneIcon"}),Object(O.jsx)("a",{href:at,className:"anchorTags",children:q})]}),Object(O.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>{$(!0)},children:[Object(O.jsx)("img",{src:C,alt:"phone",className:"KfcDirectionIcon"}),Object(p.translateWithI18Next)(Re)]})]})]}),Object(O.jsx)("div",{className:"detailsAccordian",children:Object(f.d)(je,A,_)}),Object(O.jsxs)("div",{className:"price",children:[Object(O.jsx)("span",{className:"fonts",children:Object(p.translateWithI18Next)(Me)}),Object(O.jsxs)("span",{className:"amount",children:[A,F]})]}),H&&Object(O.jsx)("div",{children:$e}),W&&Object(O.jsx)("div",{children:et}),x(Qe,A,V,Le),"PICKUP"===ne.toUpperCase()&&re&&Object(O.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(O.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(p.translateWithI18Next)(We)}),Object(O.jsx)("span",{className:"amount",id:"amountStyle",children:me})]}),Boolean(ce)&&Object(O.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(O.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(p.translateWithI18Next)(Ge)}),Object(O.jsx)("span",{className:"amount",id:"amountStyle",children:ve})]}),z&&Object(O.jsxs)("div",{className:"totalAmount",children:[Object(O.jsx)("span",{className:"total",children:Pe}),Object(O.jsxs)("span",{className:"total",children:[A,z]})]})]}),Object(O.jsxs)("div",{className:"buttonItemsDone",children:[Object(O.jsx)(s.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:e=>{te(!1)},children:Object(p.translateWithI18Next)("backButton")}),Object(O.jsx)(s.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:e=>it(),children:Object(p.translateWithI18Next)("popoverDoneButton")})]})]})})}),Z&&Object(O.jsx)("div",{children:Object(O.jsx)(b,{"data-testid":"map-modal",isOpen:Z,handleClose:()=>$(!1),OrderReducerData:Qe})})]}),document.getElementById("modal-popups"))}},1212:function(e,t,o){"use strict";(function(e){var i=o(3),a=o(6),l=o(41),n=o(46),d=o(144),r=o(190),s=o(1203),c=o(15),u=o(0),v=o(4),O=o(5),m=o(417),b=o(394),j=o(28),p=o(1213),h=o(1148),g=o(426),S=o(73),I=o(20),f=o.n(I),N=o(2);const C=e=>{let{isNameExist:t,isInvalidName:o,SPECIAL_CHAR_ERROR:i,NAME_EXIST_ERROR:l}=e;return(t||o)&&Object(N.jsxs)("div",{className:"error-text-container",children:[Object(N.jsx)(n.a,{srcFile:c.a.Error}),Object(N.jsx)("span",{className:"error-text",children:Object(a.translateWithI18Next)(o?i:l)})]})},T=e=>{const{data:t,status:o,handleSelect:i,countryNameInDefaultLang:l}=e;return(null===o||void 0===o?void 0:o.toUpperCase())===r.b.OK?null===t||void 0===t?void 0:t.map((e=>{const{place_id:t,structured_formatting:{main_text:o,secondary_text:a}}=e;return Object(N.jsx)(N.Fragment,{children:e&&Object(N.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:i(e),children:[Object(N.jsx)(n.a,{srcFile:c.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(N.jsxs)("span",{className:"address-text",children:[o," ",a]})]},t)})})):(e=>(null===e||void 0===e?void 0:e.toUpperCase())===r.b.ZERO_RESULTS?Object(N.jsx)("div",{className:"noAddressText",children:Object(a.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.NO_ADDRESS_FOUND)}):null)(o)},E=(e,t)=>{const{floor:o,addressLines:i,isFlatNumberSelected:a}=e;return t&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>t.includes(e))))&&a?Object(b.y)(t):o||i[0]},x=(e,t,o)=>{const{addressLines:i}=e;return null!==u.mf&&void 0!==u.mf&&u.mf.some((e=>null===o||void 0===o?void 0:o.includes(e)))?o:t||(null===i||void 0===i?void 0:i[1])},D=(e,t,o)=>{((e,t,o)=>{(null===o||void 0===o?void 0:o.isAddressSelected)&&!t||e.preventDefault()})(e,t,o)};t.a=t=>{var o,I,y;const A=Object(j.c)((e=>e.tenantReducer)),_=null===A||void 0===A?void 0:A.addressValidRemove,R=null===A||void 0===A||null===(o=A.componentOptions)||void 0===o||null===(I=o.web)||void 0===I||null===(y=I.address)||void 0===y?void 0:y.addressNickNameCharacterLimit,{setValue:L,value:P,isOpen:w,handleClose:M,modalType:k,error:F,addresses:U,handleChange:H,handleInput:B,showSuggestions:W,ready:G,suggestionRef:V,suggestions:Y,handleSelect:z,checkFormValidation:K,handleSubmit:q,isNameExist:J,isInvalidName:Q,savedAddresses:X=[],isAddressFromOrderProcessing:Z=!1,countryNameInDefaultLang:$,setSaveAddress:ee,nonFormattedAddress:te,setNonFormattedAddress:oe,addressFormConditions:ie,seteligibleStoreData:ae,showStores:le,setShowStores:ne,showMapBasedField:de,setShowMapBasedFiled:re,clearSuggestions:se,showAddressMapView:ce,getUserLatLong:ue,dispatch:ve,allStores:Oe,setError:me,deliveryInstration:be=""}=t,{data:je,status:pe}=Y,{ADD_NEW_ADDRESS:he,EDIT_DELIVERY_ADDRESS:ge,NOT_SERVICEABLE:Se,SPECIAL_CHAR_ERROR:Ie,NAME_EXIST_ERROR:fe,ADDRESS_ERROR_MSG:Ne,INITIAL_STATE:Ce}=r.b,{CANCEL:Te,SAVE:Ee,ADDRESS_NICK_NAME:xe,HAND_IT_TO_ME:De,LEAVE_AT_MY_DOOR:ye,PLEASE_FILL_OUT_THIS_FIELD:Ae,DELIVERY_OPTIONS_TOOL_TIP:_e}=v.a,{ADDRESS:Re,APT_SUITE_FLOOR:Le,POSTAL_CODE:Pe,CITY_TOWN:we,MAKE_THIS_DEFAULT_ADD:Me,STATE:ke,DELIVERY_OPTION:Fe,DELIVERY_INSTRUCTION:Ue}=r.d,{disableCityTownField:He,disablePostalCodeField:Be,disableStateField:We}=ie,Ge=[De,ye],Ve=[Object(a.translateWithI18Next)(De),Object(a.translateWithI18Next)(ye)],Ye={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:w,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:M,modalTitle:k?ge:he,autoFocus:!0};Object(i.useEffect)((()=>{te&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>te.includes(e))))&&te&&ee({...U,addressLines:[Object(b.y)(te),te]})}),[te]),Object(i.useEffect)((()=>{ce&&ve(Object(S.u)())}),[]),Object(i.useEffect)((()=>{var e;de&&null!==U&&void 0!==U&&null!==(e=U.results)&&void 0!==e&&e.length&&Object(h.e)("",null===U||void 0===U?void 0:U.results[0],L,ee,se,K,"","","",de)}),[null===U||void 0===U?void 0:U.results,de]);const ze=()=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"address-form-section",children:Object(N.jsxs)("div",{className:"form-container",children:[F&&Object(N.jsx)("div",{className:"error-service-msg",children:Object(a.translateWithI18Next)(Se)}),Object(N.jsxs)("form",{autocomplete:"off",children:[!de&&Object(N.jsxs)("div",{className:"input-container",children:[(P||(null===U||void 0===U?void 0:U.addressLines[1]))&&Object(N.jsx)("div",{className:"remove-container",onClick:()=>(ee({...U,addressLines:[null===U||void 0===U?void 0:U.addressLines[0],""],isAddressSelected:!1,isFlatNumberSelected:!1}),L(""),E(Ce),void oe("")),"data-testid":"clear-text-icon",children:Object(N.jsx)("img",{alt:"",src:m.a})}),Object(N.jsx)("input",{"data-testid":"search-input-address",value:x(U,P,te),onChange:B,disabled:!G,name:"addressLine",onFocus:()=>L(P),required:!0,type:"text",title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsxs)("label",{children:[Object(a.translateWithI18Next)(Re),"*"]}),W&&Object(N.jsx)("ul",{ref:V,className:"address-list",children:T({data:je,status:pe,handleSelect:z,countryNameInDefaultLang:$})})]}),Object(N.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(N.jsxs)("div",{className:"input-container",children:[Object(N.jsx)("input",{required:!0,type:"text",name:"floor",value:E(U,te),onChange:H,"data-testid":"floor-test-id",maxLength:ce&&40,title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsx)("label",{children:Object(a.translateWithI18Next)(Le)})]}),Object(N.jsxs)("div",{className:"input-container ml5",children:[Object(N.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:e=>D(e,Be,U),onKeyPress:e=>D(e,Be,U),value:null===U||void 0===U?void 0:U.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:H,title:Object(a.translateWithI18Next)(Ae),maxLength:ce&&5}),Object(N.jsxs)("label",{children:[Object(a.translateWithI18Next)(Pe),"*"]})]})]}),Object(N.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(N.jsxs)("div",{className:"input-container",children:[Object(N.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>D(e,He,U),onKeyPress:e=>D(e,He,U),value:null===U||void 0===U?void 0:U.city,"data-testid":"city-id",onChange:H,title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsxs)("label",{children:[Object(a.translateWithI18Next)(we),"*"]})]}),Object(N.jsxs)("div",{className:"input-container ml5",children:[Object(N.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>D(e,We,U),onKeyPress:e=>D(e,We,U),value:null===U||void 0===U?void 0:U.state,"data-testid":"state-id",onChange:H,title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsxs)("label",{children:[Object(a.translateWithI18Next)(ke),"*"]})]})]}),Object(N.jsxs)("div",{className:ce?"col-12 delivery-option-select":"d-flex adjust-width flex-dir",children:[!ce&&Object(N.jsxs)("div",{className:"input-container",children:[Object(N.jsx)(s.b,{options:Ve,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:H,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:(null===U||void 0===U?void 0:U.deliveryOptions)||Object(a.translateWithI18Next)(null===Ge||void 0===Ge?void 0:Ge[0]),title:Object(a.translateWithI18Next)(_e)}),Object(N.jsxs)("label",{children:[Object(a.translateWithI18Next)(Fe),"*"]})]}),Object(N.jsxs)("div",{className:"input-container ".concat(!ce&&"ml-5"),children:[Object(N.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:(null===U||void 0===U?void 0:U.deliveryInstructions)||be,"data-testid":"deliveryInstruction-id",onChange:H,maxlength:_?r.b.TH_DELIVERY_MAX_LENGTH:r.b.DELIVERY_MAX_LENGTH,title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsx)("label",{children:Object(a.translateWithI18Next)(Ue)})]})]}),Object(N.jsxs)("div",{className:ce?"col-12 default-address-section default-address-sectionth default-selection":"default-address-section",children:[Object(N.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===U||void 0===U?void 0:U.isPrimary,checked:Object(O.jb)(null===U||void 0===U?void 0:U.isPrimary,X.length<1||k&&X.length<=1),onChange:H,disabled:X.length<1||k&&X.length<=1,title:Object(a.translateWithI18Next)(Ae)}),Object(N.jsx)("div",{className:"default-label-text",children:Object(N.jsx)("label",{htmlFor:"default-address",children:Object(a.translateWithI18Next)(Me)})})]})]})]})}),Object(N.jsxs)("div",{className:"text-center input-container",children:[Object(N.jsx)(l.a,{onClick:M,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(a.translateWithI18Next)(Te)}),Object(N.jsx)(l.a,{disabled:!K()||F,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{q(Z)},children:Object(a.translateWithI18Next)(Ee)})]})]});return Object(N.jsx)("div",{className:"".concat(ce&&"map-modal-view"),children:Object(N.jsxs)(d.a,{...Ye,"data-testid":"address-modal-landing-page",children:[Object(N.jsx)(N.Fragment,{children:J&&Object(N.jsx)("div",{className:"addr-error-container",children:Object(N.jsxs)("div",{className:"error-sub-container",children:[Object(N.jsx)(n.a,{srcFile:c.a.Error,className:"mr-1 location-alert-icon"}),Object(N.jsx)("div",{className:"error-msg",children:Object(a.translateWithI18Next)(Ne)})]})})}),(()=>{return Object(N.jsx)("div",{className:"address-form-section",children:Object(N.jsx)("div",{className:"form-container",children:Object(N.jsx)("form",{autocomplete:"off",children:Object(N.jsxs)("div",{className:"input-container ".concat((J||Q)&&"error-input-container"),children:[Object(N.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===U||void 0===U?void 0:U.name,maxLength:R,onChange:H,title:Object(a.translateWithI18Next)(Ae),className:(e=J,t=Q,e||t?"error-input":"")}),Object(N.jsx)("label",{children:Object(a.translateWithI18Next)(xe)}),C({isNameExist:J,isInvalidName:Q,SPECIAL_CHAR_ERROR:Ie,NAME_EXIST_ERROR:fe})]})})})});var e,t})(),ce&&(()=>{var t,o,i,a,l;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(p.a,{formContent:null===g.a||void 0===g.a||null===(t=g.a.contentData)||void 0===t||null===(o=t.searchStoreModalContent)||void 0===o?void 0:o.formContent,storeData:[],eligibleStoreData:[],currentMarket:null===(i=e)||void 0===i||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a||null===(l=a.REACT_APP_TENANT_CODE)||void 0===l?void 0:l.toUpperCase(),dispositionType:null===u.Jb||void 0===u.Jb?void 0:u.Jb.DELIVERY,seteligibleStoreData:ae,storeSelection:{signInLink:!0,useMyLocation:!0,placesSearchInput:!0},eligibleFavoriteStoreData:[],findAKFC:!1,finAKFCContentData:{},isMobile:!1,setShowStores:ne,showStores:le,setShowMapBasedFiled:re,addresses:U,setSaveAddress:ee,userPositionHandler:ue,allStores:Oe,setError:me}),f()(null===U||void 0===U?void 0:U.locationErrorObj)&&(null===U||void 0===U?void 0:U.isConfirmButtonClicked)&&de&&ze()]})})(),(Z||!ce)&&ze()]})})}}).call(this,o(121))},1213:function(e,t,o){"use strict";var i=o(3),a=o(28),l=o(43),n=o(85),d=o(1193),r=o(269),s=o(5),c=o(329),u=o(0),v=o(6),O=o(394),m=o(133),b=o(62),j=o(4),p=o(24),h=o(1196),g=o(15),S=o(1117),I=o(1147),f=o(1197),N=o(20),C=o.n(N),T=o(2);const{MIN_SEARCH_CHARACTER_LIMIT:E,TYPE_DELIVERY:x}=l.a,{LOCATION_BLOCKED_ERROR:D,KFC_URL:y}=j.a,{KEY_CHAR_CODE:A}=u.ag||{},{ENTER:_}=A||{},{Error_Yellow:R}=g.a;t.a=e=>{var t,o;const{userPositionHandler:l,dispositionType:u,storeSelection:g,setShowMapBasedFiled:N,addresses:x,setSaveAddress:A,formContent:L,allStores:P,setError:w}=e,M=Object(i.useRef)(null),k=Object(b.g)(),{userOrderState:F,userOrderStateDispatch:U}=Object(i.useContext)(n.a),{showLocationConfirmModal:H}=F,[B,W]=Object(i.useState)(!1),[G,V]=Object(i.useState)(!1),[Y,z]=Object(i.useState)(!1),[K,q]=Object(i.useState)(!1),[J,Q]=Object(i.useState)([]),[X,Z]=Object(i.useState)(""),[$,ee]=Object(i.useState)(!1),[te,oe]=Object(i.useState)(!1),ie=Object(a.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[ae,le]=Object(i.useState)({}),ne=Object(a.c)((e=>e.appStateReducer.userStatus)),{loggedIn:de}=Object(s.sd)(ne),{componentOptions:re}=Object(a.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),se=null===re||void 0===re||null===(t=re.web)||void 0===t?void 0:t.dispositionConfig,ce="DELIVERY_FORM",{shouldHandleKeyPress:ue,shouldPopulateFirstSuggestion:ve,filteredTypes:Oe,filterConditions:me,shouldShowLocationLink:be}={...null===m.d||void 0===m.d?void 0:m.d[ce],...null===se||void 0===se?void 0:se[ce]},je=Object(s.Je)(H,be),[pe,he]=Object(i.useState)(!1),{RETRY_BTN_TEXT:ge,ADDRESS_NOT_FOUND_ERROR:Se,VIEW_MAP_BTN_TEXT:Ie,SEARCH:fe}=j.a,Ne=Object(s.de)(window.innerWidth);Object(i.useEffect)((()=>{null!==x&&void 0!==x&&x.isLocationButtonClicked&&(null===P||void 0===P?void 0:P.length)>0?(A({...x,locationErrorObj:{}}),V(!0)):null===x||void 0===x||!x.isLocationButtonClicked||null!==P&&void 0!==P&&P.length||A({...x,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),firstBtnCTA:Te}})}),[P]),Object(i.useEffect)((()=>{var e,t,o;null!==x&&void 0!==x&&x.location&&(le({lat:parseFloat(null===x||void 0===x||null===(e=x.location)||void 0===e?void 0:e.latitude),lng:parseFloat(null===x||void 0===x||null===(t=x.location)||void 0===t?void 0:t.longitude)}),V(!0),Z(null===x||void 0===x||null===(o=x.addressLines)||void 0===o?void 0:o[1]),A({...x,isConfirmButtonClicked:!0,locationErrorObj:{}}),N(!0),oe(!0))}),[null===x||void 0===x?void 0:x.id]);const Ce=()=>{A({...x,locationErrorObj:{}}),V(!0),W(!1)},Te=()=>{var e;!Ne&&(null===M||void 0===M||null===(e=M.current)||void 0===e||e.select()),V(!1),W(!1),A({...x,name:null===x||void 0===x?void 0:x.name,locationErrorObj:{}}),he(!1)};Object(i.useEffect)((()=>{!C()(ae)&&A({...x,location:{latitude:null===ae||void 0===ae?void 0:ae.lat,longitude:null===ae||void 0===ae?void 0:ae.lng}})}),[ae]),Object(i.useEffect)((()=>{Object(O.f)(U,H)}),[U]);const Ee=Object(i.useCallback)((e=>{Object(O.I)(ue,(null===e||void 0===e?void 0:e.keyCode)===_,M,U),Object(O.K)(ve,(null===e||void 0===e?void 0:e.keyCode)===_,J,Z,X)}),[ue,null===J||void 0===J?void 0:J.length]),xe=Object(i.useCallback)((async e=>{if(A({...x}),null===e||void 0===e||e.preventDefault(),V(!0),W(!1),N(!0),oe(!0),null!==x&&void 0!==x&&x.isLocationButtonClicked)A({...x,isConfirmButtonClicked:!0});else{const e=await Object(c.geocodeByAddress)(X);A({...x,results:e,isConfirmButtonClicked:!0})}}),[ue,J,l,K,Y]),De=Object(i.useCallback)((async(e,t)=>{const o=Object(O.o)(t,ue,J,e,u);z(o),q(e),W(!0),N(!1),Z(e),(async(e,t)=>{const o=await Object(c.geocodeByAddress)(e);(null===x||void 0===x?void 0:x.isLocationButtonClicked)&&A({...x,results:o});const i=await Object(c.getLatLng)(o[0]);(null===x||void 0===x||!x.isLocationButtonClicked)&&l({userLat:i.lat,userLong:i.lng}),le(i)})(o),V(!0),he(!1)}),[ue,J,Y,K]),ye=document.getElementsByClassName("suggestion-list")[0];Object(i.useEffect)((()=>{ye||!pe||null!==x&&void 0!==x&&x.isLocationButtonClicked?A({...x,locationErrorObj:{},isConfirmButtonClicked:!(null===x||void 0===x||!x.id)}):A({...x,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),secondBtnText:Object(v.translateWithI18Next)(Ie),firstBtnCTA:Te,secondBtnCTA:Ce}})}),[ye,pe]);const Ae=()=>{var e;w(!1),Z(""),W(!1),V(!1),!Ne&&(null===M||void 0===M||null===(e=M.current)||void 0===e||e.focus()),N(!1),A({addressId:"",city:"",pinCode:"",name:null===x||void 0===x?void 0:x.name,state:"",country:"",isPrimary:null===x||void 0===x?void 0:x.isPrimary,location:{latitude:"",longitude:""},addressLines:["",""],isSelectedAddress:!1,isFlatNumberSelected:!1,deliveryInstructions:"",isLocationButtonClicked:!1,results:[],id:null===x||void 0===x?void 0:x.id}),oe(!1),le({}),z(""),q(""),he(!1)},_e=Object(i.useCallback)(((e,t)=>{var o;e.length>2&&he(!0),W(!1),oe(!1),N(!1),null!==e&&void 0!==e&&e.trim()&&(q(e),z(e)),e.trim()?Z(e):Ae(),t&&G&&Ne&&(null===M||void 0===M||null===(o=M.current)||void 0===o||o.blur())}),[Ae]),{handleSelectAddress:Re}=Object(r.a)({handleSelectAddressGlobal:De}),Le=Object(i.useCallback)((async()=>{const e=await Object(r.b)(U,ie),t=e&&await Object(c.geocodeByAddress)(p.b.address);if(e){V(!1),W(!0),A({...x,isLocationButtonClicked:!0,results:[null===t||void 0===t?void 0:t[0]],isConfirmButtonClicked:!1,locationErrorObj:{}}),Z(p.b.address),Q([{description:p.b.address}]);const{longitude:e,latitude:o}=p.b.coordinates;l({userLat:o,userLong:e}),le({lat:o,lng:e}),w(!1),oe(!1)}Object(O.s)(U,!e)}),[U,l,u]);Object(i.useEffect)((()=>{const e=Object(s.d)(X,E);ee(e)}),[X]);return Object(T.jsx)("div",{className:"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(T.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(T.jsxs)("div",{id:"search-store-global-content",className:Object(O.u)(H),children:[Object(T.jsx)(S.a,{show:je,errorMsg:Object(O.G)(D,y),errImage:R,cssClass:"location-blocked"}),Object(T.jsxs)("div",{className:"selectkfc-search-store-container",children:[Object(T.jsx)(f.a,{loggedIn:de,formContent:L,storeSelection:g,useCurrentLocation:Le,hideLocationLink:!1,showLocationConfirmModal:H}),Object(T.jsx)(d.a,{...e,dataTestId:"ConfirmSearchAddress",storeSelection:g,history:k,inputOnChange:_e,address:X,showAutoSuggestion:$,setSuggestedAddress:Q,handleSelectAddress:Re,alreadySearched:r.c,onClearTextHandler:Ae,keyPress:Ee,inputRef:M,placeholder:Object(v.translateWithI18Next)(fe),filteredTypes:Oe,filterConditions:me,showConfirmBtn:!0,onClickHandler:xe,confirm:B}),(null===x||void 0===x?void 0:x.locationErrorObj)&&Object(T.jsx)(I.a,{show:null===x||void 0===x||null===(o=x.locationErrorObj)||void 0===o?void 0:o.showError,dataTestId:"locationSearchError",errorObj:null===x||void 0===x?void 0:x.locationErrorObj})]})]}),G?Object(T.jsx)(h.a,{dataTestId:"SearchErrors",eligibleStores:[],defaultStoreId:"",loggedIn:de,selectedCoords:ae,passAddress:(e,t)=>{const o=Object(s.de)(window.innerWidth);var i;(_e(e,!0),Q([{description:e}]),le(t),l({userLat:t.lat,userLong:t.lng}),o)||(null===M||void 0===M||null===(i=M.current)||void 0===i||i.focus());G&&(e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)})(M)},configSearchKey:ce,useCurrentLocation:Le,showLocationConfirmModal:!1,findAKFC:!1,disableUseLocationIcon:!0,disableMapSelection:te,markerDragValue:!0}):null]})})}},1214:function(e,t,o){"use strict";var i=o(3),a=o(1136),l=o(2);t.a=e=>{const{endTime:t=new Date}=e,[o,n]=Object(i.useState)(Object(a.d)(t));return Object(i.useEffect)((()=>{let e;return Object(a.e)(t)?e=setTimeout((()=>{n(Object(a.d)(t))}),1e3):n("00HR : 00M : 00S"),()=>{clearTimeout(e)}})),Object(l.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:o})}},1215:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(46),n=o(264),d=o(28),r=o(41),s=o(6),c=o(15),u=o(11),v=o(14),O=o(1133),m=o(83),b=o(0),j=o(4),p=o(5),h=o(1136),g=o(1098),S=o(2);t.a=e=>{var t,o,i;const{smallText:I,titleValue:f,imageName:N,item:C,tenantId:T,setConfirmationModal:E,setViewDetailsHandler:x,showMultiProductModal:D,dispositionType:y,addToOrderClickHandler:A,startOrderClickHandler:_,promosApplied:R,basketData:L,setViewCartHandler:P,setDispositionHandler:w,createSignInURL:M,page:k,loggedIn:F,localized:U,setLocationClickHandler:H}=e,{ITEM_IN_CART:B,ONE_PROMO_APPLIED:W,DELIVERY_PROMOTION:G,PICKUP_PROMOTION:V,VIEW_MENU:Y,START_ORDER:z,VIEW_PRODUCT:K,PROMO_ADD_TO_CART:q,VIEW_DETAILS:J,CHANGE_PICKUP:Q,CHANGE_DELIVERY:X,VIEW_CART:Z,GUEST_USER_SINGIN_TEXT:$,SIGNIN_TEXT:ee,CHECK_BACK_AGAIN:te,THATS_ALL_FOR_NOW:oe,CATERING_PROMO_ERROR:ie,NO_IMAGE:ae}=j.a,{SignInCard:le,Error_Yellow:ne,GreenCheck:de,Applied_CouponIcon:re}=c.a,{DEFAULT_IMAGE_PATH:se}=O.a,ce=(null===L||void 0===L||null===(t=L.foodLines)||void 0===t?void 0:t.length)||0,ue=Object(d.c)((e=>e.tenantReducer)),ve={userType:Object(p.od)(U,F),couponCode:e.couponCode,dispositionType:e.dispositionType,titleValue:null===C||void 0===C?void 0:C.titleValue},{componentOptions:{web:{plp:{promosRewardsImage:Oe}={},coupons:me={}}={}}={}}=null!==ue&&void 0!==ue?ue:{},{cardImagePath:be,useBucketSize:je}=me,pe=null===ue||void 0===ue||null===(o=ue.componentOptions)||void 0===o||null===(i=o.coupons)||void 0===i?void 0:i.noAvailableCouponsLongText,he=t=>{if(null!==t&&void 0!==t&&t.isApplied&&ce&&null!==t&&void 0!==t&&t.itemDetails)return Object(S.jsx)("div",{onClick:t=>P(e),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(S.jsx)("u",{children:Object(s.translateWithI18Next)(Z)})});if(null!==t&&void 0!==t&&t.isApplied||!R){let e=y===b.fe?Object(s.translateWithI18Next)(X):Object(s.translateWithI18Next)(Q),t=y===b.fe?b.yb:b.fe;return Object(S.jsx)("div",{onClick:e=>w(t),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(S.jsx)("u",{children:e})})}return""},ge=()=>{return Object(S.jsx)(a.a.Fragment,{children:Object(S.jsx)("div",{className:"promosButton-item ".concat(k===b.he&&"plp-toast-item"),children:Object(S.jsxs)("div",{className:"promos-tost-container ".concat((null===C||void 0===C?void 0:C.isApplied)&&"greenbg"),children:[Object(S.jsxs)("div",{className:"promos-tost-icon ",children:[(null===C||void 0===C?void 0:C.isApplied)&&ce&&(null===C||void 0===C?void 0:C.itemDetails)&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(n.a,{src:de,className:"promos-store-image green-icon",alt:""})}),!(null!==C&&void 0!==C&&C.isApplied)&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(n.a,{src:ne,className:"promos-store-image ".concat(k===b.he&&"plp-promos-store-image"),alt:""})})]}),Object(S.jsxs)("div",{className:"promos-tost-text-container",children:[Object(S.jsx)("div",{className:"promos-tost-text",children:Object(p.Hd)(y)?Object(s.translateWithI18Next)(ie):(e=C,null!==e&&void 0!==e&&e.isApplied&&ce&&null!==e&&void 0!==e&&e.itemDetails?Object(s.translateWithI18Next)(B)+".":null!==e&&void 0!==e&&e.isApplied||!R?y===b.fe?Object(s.translateWithI18Next)(G):Object(s.translateWithI18Next)(V):Object(s.translateWithI18Next)(W))}),Object(p.Hd)(y)?null:he(C)]})]})})});var e},Se=t=>{var o,i,l,d,c;if(Object(p.hb)(Object(p.Hd)(y),!(null!==t&&void 0!==t&&t.employeePromotion)))return ge();let u=null===t||void 0===t||null===(o=t.termsAndConditions[0])||void 0===o?void 0:o.parameter;return null===t||void 0===t||null===(i=t.termsAndConditions)||void 0===i||i.forEach((e=>{var t,o;Object(p.jb)(null===e||void 0===e||null===(t=e.parameter)||void 0===t?void 0:t.includes(b.yb),null===e||void 0===e||null===(o=e.parameter)||void 0===o?void 0:o.includes(b.fe))&&(u=null===e||void 0===e?void 0:e.parameter)})),R&&Object(p.hb)(!(null!==t&&void 0!==t&&t.isApplied),!(null!==t&&void 0!==t&&t.employeePromotion))?ge():Object(p.jb)(null===(l=u)||void 0===l?void 0:l.includes(y),Object(p.hb)(!(null!==(d=u)&&void 0!==d&&d.includes(b.yb)),!(null!==(c=u)&&void 0!==c&&c.includes(b.fe))))?null!==t&&void 0!==t&&t.itemDetails?(Ie(),null!==t&&void 0!==t&&t.isApplied?ge():Object(S.jsx)(a.a.Fragment,{children:Object(S.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),"data-testid":"promos-product-button",children:Object(S.jsx)(r.c,{variant:r.b.secondary,onClick:t=>U?D(e,t):H(e),disabled:null===C||void 0===C?void 0:C.isApplied,"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(s.translateWithI18Next)(J)," ").concat(f),className:"plp-promosButton-alignment",children:Object(s.translateWithI18Next)(K)})})})):Object(S.jsxs)(a.a.Fragment,{children:[(null===C||void 0===C?void 0:C.isApplied)&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),children:[Object(S.jsx)("div",{className:"promos-checked-icon ".concat(k===b.he&&"plp-promos-checked-icon"),onClick:t=>E(e,t),"data-testid":"greentick-button",children:Object(S.jsx)(n.a,{src:re,className:"promos-appled-icon ".concat(Object(p.hb)(k===b.he,"plp-promos-appled-icon")),alt:""})}),Object(S.jsx)(r.c,{variant:null!==C&&void 0!==C&&C.isApplied&&!ce?r.b.primary:r.b.tertiary,onClick:t=>_(e,t),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(s.translateWithI18Next)(J)," ").concat(f),children:ce?Object(s.translateWithI18Next)(Y):Object(s.translateWithI18Next)(z)})]})}),!(null!==C&&void 0!==C&&C.isApplied)&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),children:Object(S.jsx)(r.c,{variant:r.b.secondary,onClick:t=>U?A(e,t):H(e),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(s.translateWithI18Next)(J)," ").concat(f),className:"plp-promosButton-alignment",children:Object(s.translateWithI18Next)(q)})})})]}):ge()},Ie=()=>{Object(p.hb)(!ce,localStorage.getItem(b.gd.ADD_TO_ORDER))&&localStorage.removeItem(b.gd.ADD_TO_ORDER)},fe=()=>Object(S.jsx)("div",{className:"slick-slide medium-card-offers-deals",children:Object(S.jsxs)("div",{className:"promosCard-content ".concat(Object(p.hb)(pe,"alignCenter")),children:[Object(S.jsx)("div",{className:"promosOnlyTextCard-title small-text ".concat(Object(p.hb)(k===b.he,"plp-empty-card-title")," ").concat(Object(p.hb)(pe,"longText")),children:Object(S.jsxs)("span",{className:"promosCard-ellipsis-text  ".concat(Object(p.hb)(pe,"longTextLines")),children:[" ",Object(s.translateWithI18Next)(oe)]})}),Object(S.jsx)("div",{className:"promosOnlyTextCard-text small-text emptycard",children:Object(s.translateWithI18Next)(te)})]})}),Ne=()=>Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(n.a,{src:le,className:"offers-store-image",alt:""}),Object(S.jsx)("h3",{className:"offer-login-text ".concat(Object(p.hb)(k===b.he,"plp-offer-login-text")),children:Object(s.translateWithI18Next)(ee)}),Object(S.jsx)("div",{className:"offer-store-btn-container ".concat(Object(p.hb)(k===b.he,"plp-offer-store-btn-container")," "),children:Object(S.jsx)(r.a,{"data-testid":"sign-in-btnid",onClick:()=>M(),className:"store-btn signin-offers-btn",children:Object(s.translateWithI18Next)($)})})]});return Object(S.jsx)(a.a.Fragment,{children:(()=>{if(Oe&&k===b.he)switch(null===C||void 0===C?void 0:C.cardType){case"empty":return fe();case"login":return Ne();default:return Object(S.jsxs)("div",{className:"plp-promosCard-content promosCard-content",children:[Object(S.jsx)("div",{className:"plp-promosOnlyTextCard-title promosOnlyTextCard-title",children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(m.l)(f)})}),Object(S.jsx)("div",{className:"plp-promosOnlyTextCard-text promosOnlyTextCard-text",children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(m.l)(I)})}),Object(S.jsx)("div",{className:"plp-view-all-text view-all-text",children:Object(S.jsx)("div",{onClick:t=>x(e),className:"plp-offersViewAll-link offersViewAll-link","data-testid":"plp-view-all-deals-handler",children:Object(S.jsx)("u",{children:Object(s.translateWithI18Next)(J)})})}),Se(C)]})}switch(null===C||void 0===C?void 0:C.cardType){case"image-text":return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"promosImageText-background",children:Object(S.jsx)(l.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:be,imageName:N}),alt:Object(s.translateWithI18Next)(ae),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(T).concat(se),className:"promosImageText-background-img"})}),Object(S.jsxs)("div",{className:"promosCard-content",children:[Object(S.jsx)("div",{className:"promosImageTextCard-title",children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text","data-testid":"promos-card-text",children:Object(m.l)(f)})}),Object(S.jsx)("div",{className:"promosCard-text",children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(m.l)(I)})}),Object(S.jsx)("div",{className:"view-all-text",children:Object(S.jsx)("div",{onClick:()=>{Object(g.f)(ve),x(e)},className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(S.jsx)("u",{"data-testid":"view-details-link",children:Object(s.translateWithI18Next)(J)})})}),Se(C)]})]});case"image":return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(l.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:be,imageName:N}),alt:Object(s.translateWithI18Next)(ae),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(T).concat(se),className:"promosOnlyImage-background"}),Object(S.jsxs)("div",{className:"promosCard-content promosFullImageCard-content ".concat(Object(p.hb)(R,"promos-applied")),children:[Object(S.jsx)("div",{className:"view-all-text fullImageText-item",children:Object(S.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(S.jsx)("u",{children:Object(s.translateWithI18Next)(J)})})}),Se(C)]})]});case"text":return Object(S.jsxs)("div",{className:"promosCard-content",children:[Object(S.jsx)("div",{className:"promosOnlyTextCard-title ".concat(k),children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(m.l)(f)})}),Object(S.jsx)("div",{className:"promosOnlyTextCard-text",children:Object(S.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(m.l)(I)})}),Object(S.jsx)("div",{className:"view-all-text",children:Object(S.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(S.jsx)("u",{children:Object(s.translateWithI18Next)(J)})})}),Se(C)]});case"empty":return fe();case"login":return Ne()}})()})}},1216:function(e,t,o){"use strict";o(3);var i=o(28),a=o(6),l=o(4),n=o(0),d=o(5),r=o(41),s=o(1202),c=o(2);t.a=e=>{var t,o,u;const{setLocationClickHandler:v,page:O}=e,{SEE_PROMOS_FOR_YOU:m,SET_LOCATION:b}=l.a,j={buttonText:Object(a.translateWithI18Next)(b)},{tenantReducer:p}=Object(i.c)((e=>e)),h=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(u=o.dispositionConfig)||void 0===u?void 0:u.enableAutoSetLocation;return Object(c.jsx)("div",{id:"startorder-container","data-testid":"set-locaton-component",children:Object(c.jsx)("div",{"data-testid":"start-order-items",className:"sc-dlnjwi redBg headerBottom ".concat(Object(d.hb)(O===n.he,"plp-headBottom")),id:"start-order-component",children:Object(c.jsxs)("div",{className:"headBottomParent",children:[Object(c.jsx)("div",{className:"headBottomTxt ".concat(Object(d.hb)(O===n.he,"plp-headBottomTxt")),children:Object(a.translateWithI18Next)(m)}),h?Object(c.jsx)(s.a,{setLocationdata:j}):Object(c.jsx)(r.c,{onClick:()=>v(),variant:r.b.secondary,inverted:!0,role:"button","aria-label":"Start Order","data-testid":"set-location-buttonId",id:"startOrderItemButton",type:"button",children:Object(c.jsx)("span",{children:Object(a.translateWithI18Next)(b)})})]})})})}},1217:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(6),n=o(15),d=o(11),r=o(14),s=o(144),c=o(41),u=o(5),v=o(83),O=o(1133),m=o(4),b=o(403),j=o(1136),p=o(28),h=o(2);const{Error_Yellow:g}=n.a,{DEFAULT_IMAGE_PATH:S}=O.a,{VIEW_DETAILS:I,VALID_TO:f,REVEIW_CONDITION:N,GOT_IT_BUTTON:C,NO_IMAGE:T,EXPIRE_DATE:E}=m.a;t.a=e=>{var t,o,i,n;const{isDealModalOpen:O,handleClose:m,viewDetailsData:x,tenantId:D}=Object(u.sd)(e),{description:y}=Object(u.sd)(x),A=null===y||void 0===y?void 0:y.replace(/\n/g,"<br />"),{item:_}=Object(u.sd)(x),{imageName:R,validityEndTime:L,titleValue:P,termsAndConditions:w,legalText:M,hideEndDate:k}=Object(u.sd)(_),F=()=>null===w||void 0===w?void 0:w.map(((e,t)=>Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.message})},t))),{componentOptions:U}=null!==(t=Object(p.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)))&&void 0!==t?t:{},{detailsImagePath:H,useBucketSize:B}=(null===U||void 0===U||null===(o=U.web)||void 0===o?void 0:o.coupons)||{},W={id:"viewDetailsPopUp",role:"dialog",modalTitleId:"viewDetailsPopUp",show:{isProductModalOpen:O},classNames:"view-details-wrapper-modal white-background",showCloseBtn:!0,closeButtonHandler:m,modalTitle:Object(l.translateWithI18Next)(I),autoFocus:!0};return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(s.a,{...W,"data-testid":"offers-deals-modal-testid",children:Object(h.jsxs)("div",{className:"view-details-wrapper",children:[_&&Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("div",{className:"view-details-img",children:Object(h.jsx)(b.a,{srcFile:Object(j.c)({tenantId:D,useBucketSize:B,imagePath:H,imageName:R}),alt:Object(l.translateWithI18Next)(T),defaultPath:"".concat(Object(r.a)(d.Qb)).concat(D).concat(S),className:"veiw-detail-img-section"})}),Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("h5",{className:"delivery-content",children:P}),Object(h.jsxs)("div",{className:"view-details-small-text",children:[Object(h.jsx)("div",{children:!k&&"".concat(Object(l.translateWithI18Next)(null!==U&&void 0!==U&&null!==(i=U.coupons)&&void 0!==i&&i.YYYYMMDDWithSlash?E:f)," ").concat(Object(v.b)(L,null===U||void 0===U||null===(n=U.coupons)||void 0===n?void 0:n.YYYYMMDDWithSlash))}),Object(h.jsx)("div",{children:M})]}),(null===w||void 0===w?void 0:w.length)&&Object(h.jsx)("div",{className:"review-condition",children:Object(h.jsxs)("div",{className:"condition-wrapper",children:[Object(h.jsx)(b.a,{srcFile:g,className:"location-alert-icon"}),Object(h.jsx)("div",{className:"review-text",children:Object(l.translateWithI18Next)(N)})]})}),Object(h.jsx)("div",{className:"list-item",children:Object(h.jsx)(F,{})}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(c.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>m(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(l.translateWithI18Next)(C)})})})]})]}),y&&Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:A}}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(c.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>m(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(l.translateWithI18Next)(C)})})})]})]})})})}},1219:function(e,t,o){"use strict";var i=o(3),a=o(75),l=o.n(a),n=o(85),d=o(62),r=o(28),s=o(410),c=o(6),u=o(92),v=o(106),O=o(1103),m=o(2);t.a=()=>{const{ALERT_TEXT:e,ALERT_CONFIRM_TEXT:t,ALERT_CANCEL_TEXT:o}=O.a,{userOrderStateDispatch:a}=Object(i.useContext)(n.a),b=Object(d.g)(),j=Object(r.b)(),{showCartAlert:p}=Object(s.a)(void 0,void 0,void 0,void 0,a,j,void 0),h=Object(m.jsx)(v.a,{handleClose:()=>p(!1),classNames:"",CartAlertForm:Object(m.jsx)(u.a,{title:Object(c.translateWithI18Next)(e),confirmButtonText:Object(c.translateWithI18Next)(t),cancelButtonText:Object(c.translateWithI18Next)(o),cancelHandler:()=>p(!1),confirmHandler:()=>(p(!1),b.push({pathname:"/cart"}),void window.scrollTo(0,0))})});return l.a.createPortal(h,document.getElementById("modal-popups"))}},1220:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o(41),o(3),o(28),o(1096),o(1115),o(1116),o(61),o(6),o(5),o(46),o(145),o(35),o(85),o(87),o(0),o(15),o(2);const i=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"}},1221:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(43),n=o(403),d=o(6),r=o(5),s=o(85),c=o(0),u=o(15),v=o(2);t.a=e=>{const{userOrderState:t}=a.a.useContext(s.a),{dispositionStateData:o={}}=t,{DISPOSITION_TYPE:O}=c.gd,{dispositionType:m=localStorage.getItem(O)}=o,{locationAlertProp:b,negativeScenarioAlertProp:j,isMobile:p,onPositionChangeHandler:h,centerIndex:g,isVisible:S,setShowCard:I,locationAlert:f,setStoreMarker:N=r.N,passAddress:C,storeCardHeight:T,latLongValue:E,isMarkerVisible:x=!0,style:D,defaultZoom:y=10,shouldShowMarkerWithText:A=m!==c.Df,useLatLngForReverseGeocode:_=!1,markerDragValue:R=!1,showLabelOnMapPin:L}=e,{PLACE_PIN:P}=l.a,{RedMarker:w,RedMarkerNoText:M,BlackMarker:k,ArrowIcon:F}=u.a,U=Object(i.useRef)(null),H=Object(i.useRef)(null),B=Object(i.useRef)([]),[W,G]=Object(i.useState)(!1),[V,Y]=Object(i.useState)(y),[z,K]=Object(i.useState)(E),[q,J]=Object(i.useState)(!1),[Q,X]=Object(i.useState)(g),Z=e=>Object(r.qd)(!S,S&&e===Q);Object(i.useEffect)((()=>{H.current=$(z),B.current=te(z)}),[Q]),Object(i.useEffect)((()=>{W||K(E)}),[E]),Object(i.useEffect)((()=>{if(B.current&&H.current){const e=H.current,t=B.current;z.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),B.current=te(z)),Array.isArray(z)&&z.length>0?(z.forEach(((e,o)=>{t[o]&&!Z(o)&&t[o].setPosition(e)})),e.setCenter(z[g])):(t[0]&&t[0].setPosition(z),e.setCenter(z))}}),[z,g]),Object(i.useEffect)((()=>{if(B.current&&H.current){B.current.forEach(((e,t)=>{t===Q?e.setIcon(ee()):e.setIcon(k)}))}}),[Q]);const $=e=>new window.google.maps.Map(U.current,{zoom:V,center:Array.isArray(e)&&e.length>0?e[g]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!p,gestureHandling:"greedy"}),ee=()=>A&&L?w:M,te=e=>{const t=new window.google.maps.Geocoder;let o=e;const i=H.current;S?(i.addListener("zoom_changed",(()=>{const e=B.current[g];e&&(N(e.internalPosition),I(!0)),J(!0)})),i.addListener("drag",(()=>{J(!0)}))):(i.addListener("drag",(()=>{R||(Y(null===i||void 0===i?void 0:i.getZoom()),o={lat:i.getCenter().lat(),lng:i.getCenter().lng()},B.current[0]&&B.current[0].setPosition(o))})),i.addListener("dragend",(function(){R||(Y(null===i||void 0===i?void 0:i.getZoom()),oe(t,i,o),G(!0))})));let a=(Array.isArray(o)&&o.length>0?o:[o]).map(((e,o)=>{const a=Z(o);let l=new window.google.maps.Marker({position:e,map:i,draggable:a&&R,visible:x,icon:a?ee():k});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){N(e.latLng),X(t),I(!0)}))})(l,o),R&&a&&((e,t,o)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var i,a;let l={lat:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lat(),lng:null===e||void 0===e||null===(a=e.latLng)||void 0===a?void 0:a.lng()};oe(o,t,l),G(!0)}))})(l,i,t),l}));return a};function oe(e,t,o){e.geocode({location:o},((e,t)=>{if(t===c.Ld){let t=((e,t)=>{let o=[];return e&&(o=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(c.ie)}))),Object(r.Rd)(o)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(c.ie))})):o})(_,e);var i;if(t[0])C(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.formatted_address,o)}}))}const ie=Object(r.Je)(p,!q,x,A);return Object(v.jsxs)(a.a.Fragment,{children:[!b&&((null===m||void 0===m?void 0:m.toUpperCase())!==c.Df||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(r.ad)(f,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(P)})})),ie&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(r.hb)(0===g,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(r.ad)(0===g,e.preventDefault(),h(0)),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(g===z.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>g===z.length-1?e.preventDefault():h(1),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:U,style:{height:"240px",...D}})]})}},1222:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(144),n=o(2);t.a=e=>{const{handleClose:t,ProductListingModalForm:o,headerText:i,modalTitleId:d="",closeDataTestId:r=""}=e;return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(l.a,{"data-testid":"ProductListingModalPopup",role:"dialog",modalTitleId:d,show:!0,classNames:"product-listing-module-modal-sopac",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,autoFocus:!0,closeDataTestId:r,children:o})})}},1223:function(e,t,o){"use strict";o.d(t,"b",(function(){return O})),o.d(t,"c",(function(){return m}));var i=o(3),a=o(85),l=o(5),n=o(28),d=o(61),r=o(1149),s=o(1132),c=o(262),u=o(0),v=o(2);const O=(e,t,o)=>{const{RECIPE:i,DEFAULT_REASON:a,MODGROUP_MAX_RADIOBUTTON:n}=c.a;return((e,t,o)=>e.every((e=>Object(l.pd)(e.additionalProperties,t)===o)))(e,a,i)||!m(t)||o===n},m=e=>{const{PEROPTIONMAX_KEY:t,PEROPTIONMIN_KEY:o,MAXDISTINCT_KEY:i}=c.a;let a=Object(l.ve)(e);return[t,o,i].every((e=>Object.prototype.hasOwnProperty.call(a,e)))&&!(0===a[t]&&0===a[o]&&0===a[i])};t.a=e=>{let{tenantData:t,modifiers:o,modgrpData:c,isModal:b,isStoreClosed:j,catalog:p}=e;const[h,g]=Object(i.useState)(Object(l.de)(window.innerWidth)),{modgrpId:S,additionalProperties:I,max:f}=c,[N,C]=Object(i.useState)({}),{userOrderState:T}=Object(i.useContext)(a.a),{resetCustomization:E}=T;let x=Object(n.c)((e=>e.appStateReducer.userStatus));const D=Object(n.c)((e=>e.cartReducer)),{isItemAdded:y=!1}=Object(l.sd)(D),[A,_]=Object(i.useState)(),[R,L]=Object(i.useState)(),[P,w]=Object(i.useState)([]),[M,k]=Object(i.useState)([]),[F,U]=Object(i.useState)(!0),[H,B]=Object(i.useState)(0),{SINGLE:W}=s.a,{PDP_MODIFIER:G}=u.Oc;Object(i.useEffect)((()=>{C({}),w([]),k([]),U(!0)}),[E]),Object(i.useEffect)((()=>{b||(C({}),w([]),k([]),U(!0))}),[p,y]),Object(i.useEffect)((()=>{if(Object(l.hb)(Object(l.Td)(I),Object(l.pc)(o))){let e=O(o,I,f);L(e);let t=!e&&m(I);_(t)}}),[I,o]);const V=()=>{const e=Object(l.de)(window.innerWidth),t=e?G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_MOBILE:G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_DESKTOP,o=Math.round(t*window.innerWidth/u.hg);B(o),g(e)};Object(i.useEffect)((()=>{window.addEventListener(u.ye,V)}),[h]),Object(i.useEffect)((()=>{V()}),[]);const{QUANTITY_ACTION:Y}=d.a,z=function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{id:l}=e;if(t===W)o.forEach((e=>{e.id===l&&w([e.id])})),k([{...e,itemId:l,modgrpId:S}]);else if(t){let t=i.some((t=>{let{id:o}=t;return o===e.id}));if(!t){let t=[...i,{...e,itemId:l,modgrpId:S}],o=null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.id));a&&w(o),k(t)}}else if(i.length){let e=i.filter((e=>{let{itemId:t}=e;return t!==l})),t=null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.id));w(t),k(e)}},K=(e,t,o,i,a)=>{var n;let d=null===N||void 0===N||null===(n=N[t])||void 0===n?void 0:n[e],r=null===N||void 0===N?void 0:N[t],s=null===N||void 0===N?void 0:N.totalQuantity;if(d){let n=o===Y.Increase?r[e].quantity+1:Object(l.ad)(o===Y.Decrease,r[e].quantity-1,i),d=o===Y.Increase?s+1:Object(l.ad)(o===Y.Decrease,s-1,s-r[e].quantity+i),c=((e,t,o,i)=>Object(l.jb)(e===t.Increase,e===t.Decrease)?o:i)(o,Y,n,a);C({...N,totalQuantity:d,[t]:{...r,[e]:{...r[e],quantity:n,quantityDisplay:c}}})}else Object(l.Td)(N[t])?C({...N,totalQuantity:s+i,[t]:{...r,[e]:{quantity:i,quantityDisplay:i}}}):C({totalQuantity:i,[t]:{[e]:{quantity:i,quantityDisplay:i}}})};return Object(l.j)([void 0!==R,void 0!==A,!!H])&&o.map(((e,o)=>{let i=Object(l.Ec)(e.availability[0],null===t||void 0===t?void 0:t.currencyConversionFactor).toFixed(u.gg);return Object(v.jsx)(r.a,{tenantData:t,modgrpData:c,cardData:e,price:i,isMobile:h,localized:x.localized,currencySymbol:null===t||void 0===t?void 0:t.currencySymbol,saveCustomizedItemCount:K,savedCustomizedModifier:N,toRenderCheckBox:R,toRenderQuantityModifier:A,savedModifierHandler:z,updatedItems:P,savedModifiers:M,isModal:b,isStoreClosed:j,initialRender:F,setInitialRender:U,catalog:p,imageContainerSize:H})}))}},1224:function(e,t,o){"use strict";o.d(t,"b",(function(){return p})),o.d(t,"d",(function(){return h})),o.d(t,"c",(function(){return g}));var i=o(3),a=o.n(i),l=o(85),n=o(6),d=o(5),r=o(262),s=o(28),c=o(1095),u=o(1223),v=o(0),O=o(1106),m=o(264),b=o(15),j=o(2);const p=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()},h=(e,t,o,i,a)=>{t&&a();let l=e.length?JSON.parse(JSON.stringify(e)):[];l.map(((e,t)=>(e.id===o&&(e.expanded=!e.expanded),e))),i([...l])},g=(e,t,o,i)=>{let a=((e,t,o)=>{let i=e.length?e:[];return null===i||void 0===i?void 0:i.map(((e,i)=>{if(Object(d.hb)(0===i,t))e.expanded=!0;else{e.expanded=!1;let t=e.modifiers.map((e=>({...e,productId:o})));e.modifiers=t}return e}))})(JSON.parse(JSON.stringify(e)),o,i);t([...a])};t.a=e=>{const{grouplist:t=[],getSelectedModifiers:o,selectedModifiers:S,source:I="",accordionDefaultOpen:f,isModal:N,isStoreClosed:C,catalog:T,localized:E=!0}=e,{PDP:x,HASH_SYMBOL:D}=r.a,{MAX_TAG:y}=O.a,[A,_]=Object(i.useState)([]),R=Object(s.c)((e=>e.cartReducer)),[L,P]=Object(i.useState)([]),{componentOptions:w,currencyConversionFactor:M,currencySymbol:k,taxAmountRoundOff:F,swapPDPContentData:U}=Object(s.c)((e=>e.tenantReducer)),{web:{global:{pricewithNumberofDecimalDigit:H},pdp:{deltaPriceInAccordion:B,showMaxBadge:W}}}=w,{isItemAdded:G=!1}=Object(d.sd)(R),V=Object(s.c)((e=>e.tenantReducer)),{userOrderState:Y}=Object(i.useContext)(l.a),{pdpScreenCommons:{currentAccordian:z},pdpPayloadData:K,pdpItemUpsizeId:q}=Y;Object(i.useEffect)((()=>{g(t,_,f,q),P([])}),[JSON.stringify(t),T,G]),Object(i.useEffect)((()=>{if(Object(d.hb)(z,I===x)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===z){var o;const t=(null===(o=e.modifiers)||void 0===o?void 0:o.length)>1?300:0;let i=document.getElementById("accordion-"+z).offsetTop;window.scrollTo({top:i-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));_([...e])}}),[z,JSON.stringify(t)]);const J=e=>{let t,o,i;if(e.length){t=e.map(JSON.stringify),o=new Set(t),i=Array.from(o).map(JSON.parse);let a=[];if(L.length){a=L;let e=L.findIndex((e=>e[0].modgrpId===i[0].modgrpId));e>=0?(a.splice(e,1,i),P([...a])):P([...a,i])}else P((e=>[...e,i]))}};Object(i.useEffect)((()=>{L.length&&o(L),S&&S(L)}),[L]);const Q=e=>{let t="",o=null===K||void 0===K?void 0:K.modGrps;if(o[e]){var i;let n=null===(i=o[e])||void 0===i?void 0:i.modifiers,d=[];for(let t in n){let o=n[t];if(o.isSelected){var a,l;const{quantity:t}=o,i=t>1?"".concat(t,"x "):"";let n=!!B&&Object(c.z)(K,"".concat(e).concat(D).concat(o.id),M,k,H);d.push("".concat(i," ").concat(null===(a=o.dname)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.value," ").concat(!1!==n?n:""))}}t=[...new Set(d)].reverse().join(", ")}return t};return Object(d.pc)(A)&&A.map(((e,t)=>{var o;let{id:i,name:l,dname:d,modifiers:r,expanded:s,min:O,max:g,additionalProperties:S}=e;const I=Object(c.g)(i,K),f=Object(c.d)(i,K),x=((e,t,o,i)=>t&&Object(u.b)(e,i,o))(r,E,g,S),D=!x&&((e,t,o)=>{const i=Object(u.c)(o);return e&&i&&t})(W,E,S);return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsxs)("div",{className:"accordian-container ",id:"accordion-"+i,"data-testid":"product-listing-accordion-".concat(t),children:[Object(j.jsxs)("div",{className:"accordian-header",children:[Object(j.jsx)("div",{className:"".concat(s?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(i),onClick:e=>h(A,e,i,_,p),children:Object(j.jsxs)("div",{className:"textbadgecontainer",children:[Object(j.jsx)("h3",{className:"accordion-test",children:null===d||void 0===d||null===(o=d[0])||void 0===o?void 0:o.value}),Object(j.jsxs)("div",{className:"badgeContainer",children:[D&&Object(j.jsx)("span",{className:"ml-2 maxBadge",children:U?"".concat(g).concat(Object(n.translateWithI18Next)(y)):"".concat(Object(n.translateWithI18Next)(y)).concat(g)}),I?Object(j.jsx)("span",{className:"updatedBadge-sopac",children:Object(n.translateWithI18Next)(v.Lf)}):null]})]})}),Object(j.jsx)("span",{className:"selected-mod",children:Q(i)})]}),!s&&f?Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(m.a,{src:null===b.a||void 0===b.a?void 0:b.a.errorIcon,className:"d-flex mr-1 ml-1"}),Object(j.jsx)("span",{children:Object(n.translateWithI18Next)("selectionRequired")})]}):null,Object(j.jsx)("div",{className:"".concat(s?"panel panel-active":"panel"),children:Object(j.jsx)(u.a,{tenantData:V,modifiers:r,modgrpData:{modgrpId:i,modGrpName:d,min:O,max:g,additionalProperties:S,modifierLength:r.length},modgroupPayloadData:J,isModal:N,isStoreClosed:C,catalog:T})})]})},t)}))}},1226:function(e,t,o){"use strict";o.d(t,"c",(function(){return f})),o.d(t,"b",(function(){return V})),o.d(t,"a",(function(){return ie}));var i=o(3),a=o.n(i),l=o(28),n=o(272),d=o(5),r=o(71),s=o(601),c=o(1113),u=o(42),v=o.n(u),O=o(1129),m=o(961),b=o(62),j=o(328),p=o(193),h=o(0),g=o(2);const S=e=>{const{hostUrl:t}=e;return Object(i.useEffect)((()=>{window.history.go(-2),window.open(t,"Popup"+(new Date).getTime())}),[t]),Object(g.jsx)(g.Fragment,{})},I=e=>{var t,o,a,u;const{routePath:I,hideNav:f}=e,[N,C]=Object(i.useState)(Object(d.de)(window.innerWidth)),T=Object(b.g)(),{marketPageContent:E,tenantReducerContent:x,userParams:D,brandPageContent:y,homePageContent:A}=Object(l.c)((e=>{var t,o,i,a;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(o=e.appStateReducer)||void 0===o?void 0:o.userStatus,brandPageContent:null===(i=e.brandPageReducer)||void 0===i?void 0:i.response,homePageContent:null===(a=e.contentReducer)||void 0===a?void 0:a.response}})),{header:_={},footer:R={}}=null!==(t=E.headerData)&&void 0!==t?t:{},{headerData:L={}}=null!==y&&void 0!==y?y:{},P=v()(L,"hostUrl",""),w=Object(d.gc)(_),M=Object(d.Wb)(R),k=null!==(o=Object(d.fc)(A))&&void 0!==o?o:{},{DISPOSITION:F}=m.default,U=Object(l.b)(),H='<iframe src="'.concat(P,'" onload=\'(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));\' style="height:100vh;width:100%;border:none;overflow:hidden;"></iframe>'),B=Object(g.jsx)("div",{children:Object(g.jsx)("div",{id:"hostedContentFrame",dangerouslySetInnerHTML:{__html:H}})}),W=()=>{const e=Object(d.de)(window.innerWidth);C(e)};return Object(i.useEffect)((()=>(window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W)})),[N]),Object(i.useEffect)((()=>{I&&U(Object(n.c)({object:Object(r.a)(),contentFull:{content_type:p.c.Template1,select:"sys.id,fields","fields.routePath":I,include:5}}))}),[U,I]),Object(i.useEffect)((()=>{U(Object(j.l)(x))}),[U,null===x||void 0===x?void 0:x.country]),Object(g.jsxs)(g.Fragment,{children:[w&&(!f||!1===f)&&Object(g.jsx)(s.default,{contentData:w,tenantReducerData:x,userParams:D}),Object(g.jsx)(O.a,{contentData:{segmentedHomePageData:null!==(a=null===k||void 0===k?void 0:k[F])&&void 0!==a?a:{},contentDispositionData:null!==(u=null===k||void 0===k?void 0:k[F])&&void 0!==u?u:{}},userParams:D,showHeader:!1}),N&&L.title===h.Kd?Object(g.jsx)(S,{hostUrl:P}):B,M&&(!f||!1===f)&&Object(g.jsx)(c.a,{history:T,contentData:M,tenantReducerData:x})]})};I.defaultProps={history:{},hideNav:!1};var f=I,N=o(266);var C=e=>{const{body:t,headline:o}=e;return Object(g.jsxs)("div",{className:"container brand-page",children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("div",{className:"row pt-3 pb-3",children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("h1",{className:"title text-uppercase font-weight-bold position-relative ng-binding",children:o})})})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:Object(N.documentToHtmlString)(t)}})})]})};var T={YES_CONSTANT:"YES",NO_CONSTANT:"NO",SLIDE_CHANGE_INTERVAL:5e3,LIGHT:"LIGHT",BLACK_COLOR:"#202124",WHITE_COLOR:"#ffffff",CAROUSEL_IMAGE_CLICK:"carouselImgClick",daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],localizedUserSampleData:{type:"",store:{id:"",name:[{value:""}]}}},E=(o(21),o(9),o(55));const x=async(e,t,o,i)=>{const a=Object(d.S)(e,t,i),{ecommerceObject:l,itemsArray:n}=a;let r=[];r.push({event:"view_promotion",ecommerce:l,userType:o,items:n}),Object(E.p)("view_promotion",{data:r[0]})};var D=o(1096),y=o(41),A=o(46);class _ extends a.a.Component{constructor(){super(),this.state={valuesIndex:0},this.progressInterval=null}componentDidMount(){this.progressInterval=setInterval((()=>{this.setState({valuesIndex:this.state.valuesIndex+1})}),this.props.interval)}componentWillUnmount(){clearInterval(this.progressInterval)}render(){return this.props.children(this.props.values[this.state.valuesIndex])}}_.defaultProps={interval:1e3};var R=_,L=o(1191),P=o(427);o(1192);const w=(e,t)=>e?h.ig:t/h.bg,M=e=>{const{SLIDE_CHANGE_INTERVAL:t,LIGHT:o,BLACK_COLOR:n,WHITE_COLOR:r}=T,{contentData:s=[],animationSpeed:c=t,clickHandler:u,clickImageAnalytics:v,isMobile:O=!1}=e,[m,b]=Object(i.useState)(0),j=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer));let p=Object(l.c)((e=>e.appStateReducer.userStatus));const{currencyShortName:h}=j,[S,I]=Object(i.useState)([]),[f,N]=Object(i.useState)(0);let C=(()=>{var e;return(null===s||void 0===s||null===(e=s[0])||void 0===e?void 0:e.textColor.toUpperCase())===o?"white-color":"black-color"})();const E={nextIndex:m,viewPromotionEventCall:S,setviewPromotionEventCall:I,isElementInViewport:d.Qd};Object(P.c)(s,x,h,E,p);const _={dots:!0,infinite:!0,autoplaySpeed:1e3*c,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;N(t!==s.length?t:0),C=(()=>{var e,t;return C=(null===s||void 0===s||null===(e=s[f])||void 0===e||null===(t=e.textColor)||void 0===t?void 0:t.toUpperCase())===o?"white-color":"black-color",C})(),b(Object(d.ad)(t!==s.length,t,0))},customPaging:e=>{let t=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),o="white-color"===C?r:n;return e===f?Object(g.jsx)(R,{values:[0,33,66,100],children:e=>Object(g.jsx)(L.a,{value:e,text:t,styles:Object(L.b)({pathTransitionDuration:w(false,c),textColor:o,pathColor:o}),tabIndex:"0"})}):Object(g.jsx)("div",{className:"".concat(C," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:()=>N(e),"aria-label":"Slide ".concat(t),tabIndex:"0",role:"button",children:Object(g.jsx)("span",{className:"carausel-pagingNo",children:t})})}},[M,k]=Object(i.useState)(window.innerHeight>window.innerWidth);Object(i.useEffect)((()=>{if("onorientationchange"in window)return window.addEventListener("orientationchange",F),()=>{window.removeEventListener("orientationchange",F)}}),[]);const F=()=>{k(window.innerHeight<window.innerWidth)};return Object(g.jsx)(D.a,{settings:_,children:s.map(((e,t)=>{const{smallText:i,largeText:l,buttonText:n,showButton:r,desktopSrc:s,mobileSrc:c,alt:m,textColor:b,analyticsData:j}=e||{},p=r.toUpperCase()===T.YES_CONSTANT,S=M||O?c:s,I="".concat(n," for ").concat(l);return Object(g.jsx)(a.a.Fragment,{children:Object(g.jsxs)("div",{className:Object(d.ad)(p,"removePointer","marketing-hero-img-div"),tabIndex:"0",role:"button","data-testid":"click-image-analytics-".concat(t),onClick:o=>(e=>{let{displayButton:t,e:o,clickImageAnalytics:i,analyticsData:a,ind:l,item:n,currencyShortName:d,clickHandler:r}=e;t||o.preventDefault(),i(a,l,n,d,r)})({displayButton:p,e:o,clickImageAnalytics:v,analyticsData:j,ind:t,item:e,currencyShortName:h,clickHandler:u}),children:[Object(g.jsx)(A.a,{"data-testid":"image-component",srcFile:S,isContentfulImage:!0,alt:m,className:"carausel-image"}),i&&Object(g.jsx)("div",{className:"".concat(b.toUpperCase()===o?"color-white":"color-black"," smallTxtHero"),children:i}),l&&Object(g.jsx)("div",{className:"".concat(b.toUpperCase()===o?"color-white":"color-black"," largeTextHero"),children:l}),p&&n&&Object(g.jsx)(y.a,{className:"button redButton carauselOrderNow ","aria-label":Object(d.ud)(I),"data-testid":"click-handler-".concat(t),onClickHandler:()=>u(j,t,null,e),children:Object(g.jsx)("span",{children:n})})]},t)},t)}))})};M.defaultProps={};var k=M,F=o(20),U=o.n(F),H=o(1110),B=o(85),W=o(212);const G=e=>{var t,o,a,u;const{routePath:v,hideNav:S}=e,[I,f]=Object(i.useState)(Object(d.de)(window.innerWidth)),{userOrderStateDispatch:N}=Object(i.useContext)(B.a),T=Object(b.g)(),{marketPageContent:E,tenantReducerContent:x,userParams:D,brandPageContent:y,homePageContent:A}=Object(l.c)((e=>{var t,o,i,a;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(o=e.appStateReducer)||void 0===o?void 0:o.userStatus,brandPageContent:null===(i=e.brandPageReducer)||void 0===i?void 0:i.response,homePageContent:null===(a=e.contentReducer)||void 0===a?void 0:a.response}})),{header:_={},footer:R={}}=null!==(t=E.headerData)&&void 0!==t?t:{},{headerData:L={}}=null!==y&&void 0!==y?y:{},{carousalContent:{fields:{carousalContent:P=""}={}}={},seoPage:{fields:{title:w=""}={}}={}}=L,M=null!==(o=P&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var t,o,i,a;const{headline:l="",subHeadline:n,altText:d="",showButton:r="",buttonType:s="",background:c="",onClick:u,name:v}=e.fields,{fields:O={}}=e.fields.analyticsData||{},{url:m}=(null===(t=e.fields.desktopImage)||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.file)||{},{url:b}=(null===(i=e.fields.mobileImage)||void 0===i||null===(a=i.fields)||void 0===a?void 0:a.file)||{};return{smallText:l,largeText:n,alt:d,desktopSrc:m,mobileSrc:b,buttonText:s,showButton:r,textColor:c,analyticsData:O,linkTo:u,name:v}}))}(P))&&void 0!==o?o:[],F=Object(d.gc)(_),G=Object(d.Wb)(R),V=null!==(a=Object(d.fc)(A))&&void 0!==a?a:{},Y=Object(l.b)(),{DISPOSITION:z}=m.default,K=Object(g.jsxs)(g.Fragment,{children:[null!==(u=Object(d.Td)(M)&&Object(g.jsx)("div",{className:"market-hero",children:Object(g.jsx)(k,{contentData:M,isMobile:I})}))&&void 0!==u?u:null,Object(g.jsx)(C,{...L})]}),q=()=>{const e=Object(d.de)(window.innerWidth);f(e)};return Object(i.useEffect)((()=>{L.title&&v&&v===h.N&&(document.title=L.title)}),[L.title]),Object(i.useEffect)((()=>(window.addEventListener("resize",q),()=>{window.removeEventListener("resize",q)})),[I]),Object(i.useEffect)((()=>(N({type:W.a.SET_HIDE_DISPOSITION_BAR,value:{hideDispositionBar:!0}}),()=>{N({type:W.a.SET_HIDE_DISPOSITION_BAR,value:{hideDispositionBar:!1}})})),[N]),Object(i.useEffect)((()=>{v&&Y(Object(n.c)({object:Object(r.a)(),contentFull:{content_type:p.c.Template2,"fields.routePath":v,include:5}}))}),[Y,v]),Object(i.useEffect)((()=>{Y(Object(j.l)(x))}),[Y,null===x||void 0===x?void 0:x.country]),Object(g.jsxs)(g.Fragment,{children:[!U()(w)&&Object(g.jsx)(H.a,{page:w}),F&&(!S||!1===S)&&Object(g.jsx)(s.default,{contentData:F,tenantReducerData:x,userParams:D}),Object(g.jsx)(O.a,{contentData:{segmentedHomePageData:null===V||void 0===V?void 0:V[z],contentDispositionData:null===V||void 0===V?void 0:V[z]},userParams:D,showHeader:!1}),!U()(L)&&K,G&&(!S||!1===S)&&Object(g.jsx)(c.a,{history:T,contentData:G,tenantReducerData:x})]})};G.defaultProps={history:{}};var V=G;var Y=e=>{var t;let{scrollRotation:o,isPositionRight:i,data:a,isSocialImpactPage:l}=e;const{ctaButton:n,description:d,headline:r,image:s,imageText:c}=(null===(t=a[0])||void 0===t?void 0:t.fields)||{},{buttonText:u=""}=(null===n||void 0===n?void 0:n.fields)||{},{file:v}=(null===s||void 0===s?void 0:s.fields)||{},O=Object(b.g)();return Object(g.jsx)("div",{className:"block-container",children:Object(g.jsx)("div",{className:"sub-container",children:Object(g.jsxs)("div",{className:"two-column-section",children:[Object(g.jsxs)("div",{className:(m=o,j=i,p=l,"image-section \n  ".concat(m&&(j?"position-right":"position-left")," \n  ").concat(j&&"image-right"," \n  ").concat(p&&"img-order","\n ")),children:[c&&Object(g.jsx)("span",{className:"image-text",children:c}),Object(g.jsx)(A.a,{srcFile:null===v||void 0===v?void 0:v.url})]}),Object(g.jsxs)("div",{className:"desc-section ".concat(o?"pr":"pl"," ").concat(i?"right-desc":"left-desc"),children:[r&&Object(g.jsx)("h2",{className:"heading-section",children:r}),Object(g.jsx)("div",{className:"short-desc-section",children:null===d||void 0===d?void 0:d.content.map(((e,t)=>{var o,i,a,r;const{content:s}=e;return Object(g.jsxs)(g.Fragment,{children:[(!l||(null===d||void 0===d||null===(o=d.content)||void 0===o?void 0:o.length)-1!==t)&&Object(g.jsx)("span",{className:"p2 ".concat(0!==t&&"mtop"),children:null===(i=s[0])||void 0===i?void 0:i.value}),(null===d||void 0===d||null===(a=d.content)||void 0===a?void 0:a.length)-1===t&&n&&Object(g.jsxs)("div",{className:"learn-more-container mtop",children:[Object(g.jsx)("span",{className:"learn-more-text",children:null===(r=s[0])||void 0===r?void 0:r.value}),Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button transparent-btn black-border",onClick:()=>{var e,t,o;return null!==n&&void 0!==n&&null!==(e=n.fields)&&void 0!==e&&e.url?O.push(null===n||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.url):window.open(null===n||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.externalUrl,"_blank")},"data-testid":"find-out-more",children:u})})]})]})}))})]})]})})});var m,j,p},z=o(15);var K=e=>{let{data:t}=e;const[o,a]=Object(i.useState)(0),[l,n]=Object(i.useState)([]),[r,s]=Object(i.useState)(null),[c,u]=Object(i.useState)(Object(d.de)(window.innerWidth)),v=Object(b.g)(),O=function(){var e,o,i,a,l;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const r=null===(e=t[d])||void 0===e||null===(o=e.fields)||void 0===o||null===(i=o.description)||void 0===i?void 0:i.content,c=null===(a=t[d])||void 0===a||null===(l=a.fields)||void 0===l?void 0:l.ctaButton,u=[];null===r||void 0===r||r.map((e=>u.push(null===e||void 0===e?void 0:e.content[0]))),n(u),s(c)};Object(i.useEffect)((()=>{O()}),[]),Object(i.useEffect)((()=>{window.addEventListener("resize",m)}),[c]);const m=()=>{u(Object(d.de)(window.innerWidth))},j=e=>{var t;return Object(g.jsxs)(g.Fragment,{children:[l.forEach((e=>(null===e||void 0===e?void 0:e.value)&&Object(g.jsx)("span",{className:"banner-desc",children:null===e||void 0===e?void 0:e.value}))),r&&Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button blackButton blackBorder local-theme-btn",onClick:()=>{var e,t,o;return null!==r&&void 0!==r&&null!==(e=r.fields)&&void 0!==e&&e.url?v.push(null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.url):window.open(null===r||void 0===r||null===(o=r.fields)||void 0===o?void 0:o.externalUrl,"_blank")},"data-testid":e,children:null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.buttonText})})]})};return Object(g.jsx)("div",{className:"local-theme-banner",children:Object(g.jsxs)("div",{className:"banner-container",children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsxs)("div",{className:"column-container",children:[Object(g.jsx)("div",{className:"column-one",children:t.map(((e,i)=>{var l;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"banner-heading ".concat(o!==i&&"inactive"),onClick:()=>{O(i),a(i)},"data-testId":"banner-heading-theme",children:null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.headline}),o===i&&c&&Object(g.jsx)(g.Fragment,{children:j("find-out-more-theme-mobile")}),i!==(null===t||void 0===t?void 0:t.length)-1&&Object(g.jsx)("div",{className:"line"})]})}))}),!c&&Object(g.jsx)("div",{className:"column-two",children:j("find-out-more-theme")})]})]})})};var q=e=>{let{data:t}=e;const{headline:o,description:i}=null===t||void 0===t?void 0:t.fields,{content:a}=null===i||void 0===i?void 0:i.content[0];return Object(g.jsxs)("div",{className:"\n      para-container \n      d-flex \n      flex-column \n      align-items-md-center\n      text-lg-center text-left",children:[o&&Object(g.jsx)("span",{className:"para-heading",children:o}),a.map((e=>Object(g.jsx)("span",{className:"p1",children:null===e||void 0===e?void 0:e.value})))]})};var J=e=>{let{data:t}=e;const{headline:o,bg:i,fg:a}=t,{file:l}=(null===i||void 0===i?void 0:i.fields)||(null===a||void 0===a?void 0:a.fields);return Object(g.jsxs)("div",{className:"social-impact-banner","data-testid":"social-impact-banner",children:[Object(g.jsx)("div",{className:"strip-icon d-flex justify-content-center",children:Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIconWhite})}),Object(g.jsxs)("div",{className:"banner-container d-flex align-items-center flex-column flex-lg-row justify-content-around",children:[Object(g.jsx)("div",{className:"column-one",children:Object(g.jsx)("h1",{className:"banner-heading",children:o})}),Object(g.jsx)("div",{className:"column-two",children:Object(g.jsx)(A.a,{srcFile:null===l||void 0===l?void 0:l.url})})]})]})};var Q=e=>{let{data:t}=e;return Object(g.jsx)("div",{className:"d-flex flex-column flex-lg-row  three-column-container",children:t.map((e=>{const{description:t,headline:o}=null===e||void 0===e?void 0:e.fields,{content:i}=null===t||void 0===t?void 0:t.content[0];return Object(g.jsxs)("div",{className:"coulm-container d-flex flex-column align-items-lg-center align-items-start",children:[Object(g.jsxs)("h3",{className:"column-heading text-center",children:[o," ",Object(g.jsx)("span",{className:"d-sm-block d-md-none",children:":"})," "]}),i.map((e=>Object(g.jsx)("span",{className:"column-desc text-lg-center text-left",children:null===e||void 0===e?void 0:e.value})))]})}))})};var X=e=>{let{data:t}=e;const o=Object(b.g)();return Object(g.jsx)("div",{className:"card-banner",children:Object(g.jsx)("div",{className:"card-row",children:t.map(((e,t)=>{const{ctaButton:i,description:a,headline:l}=null===e||void 0===e?void 0:e.fields,{content:n}=null===a||void 0===a?void 0:a.content[0],{buttonText:d}=null===i||void 0===i?void 0:i.fields;return Object(g.jsxs)("div",{className:"card-container ".concat(0===t&&"container-margin"),children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsx)("span",{className:"card-heading",children:l}),null===n||void 0===n?void 0:n.map((e=>Object(g.jsx)("span",{className:"card-short-desc",children:null===e||void 0===e?void 0:e.value}))),i&&Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button transparent-btn black-border",onClick:()=>{var e,t,a;return null!==i&&void 0!==i&&null!==(e=i.fields)&&void 0!==e&&e.url?o.push(null===i||void 0===i||null===(t=i.fields)||void 0===t?void 0:t.url):window.open(null===i||void 0===i||null===(a=i.fields)||void 0===a?void 0:a.externalUrl,"_blank")},"data-testid":"btn-two-coloumn",children:d})})]})}))})})};var Z=e=>{let{text:t}=e;return Object(g.jsxs)("div",{className:"quotes-section d-flex justify-content-center",children:[Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.RightQuotes}),Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.RightQuotes})]}),Object(g.jsx)("span",{className:"quote-desc text-center",children:t}),Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.LeftQuotes}),Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.LeftQuotes})]})]})};var $=e=>{var t,o,i;let{data:a}=e;const{headline:l,ctaButton:n,noteLine:r,image:s}=Object(d.sd)(null===a||void 0===a?void 0:a.fields),c=Object(b.g)();return Object(g.jsx)("div",{className:"kfc-timeline-banner container-fluid d-flex align-items-center justify-content-center",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-12 col-md-6 d-flex align-items-center flex-column justify-content-center mb-5 mb-md-0",children:[Object(g.jsx)("span",{className:"banner-heading text-center",children:l}),Object(g.jsx)("span",{className:"learn-more-text text-center",children:r}),n&&Object(g.jsx)("span",{className:"text-center",children:Object(g.jsx)(y.a,{className:"button black-border redButton",onClick:()=>{var e,t,o;return null!==n&&void 0!==n&&null!==(e=n.fields)&&void 0!==e&&e.url?c.push(null===n||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.url):window.open(null===n||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.externalUrl,"_blank")},"data-testid":"company-history",children:null===n||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.buttonText})})]}),Object(g.jsx)("div",{className:"col-12 col-md-6 d-flex text-center align-items-center justify-content-center",children:Object(g.jsx)(A.a,{srcFile:null===s||void 0===s||null===(o=s.fields)||void 0===o||null===(i=o.file)||void 0===i?void 0:i.url})})]})})},ee=o(1189);var te=e=>{let{data:t}=e;const{headline:o,noteLine:i,bg:a,fg:l}=t,{file:n}=(null===a||void 0===a?void 0:a.fields)||(null===l||void 0===l?void 0:l.fields),d=null===o||void 0===o?void 0:o.trim().split(" ");return Object(g.jsxs)("div",{className:"brand-page-banner d-flex align-items-center flex-column","data-testid":"brand-page-banner",children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(A.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsxs)("div",{className:"banner-container text-center d-flex align-items-center flex-column",children:[Object(g.jsx)("h1",{className:"banner-heading-sm",children:null===d||void 0===d?void 0:d.slice(0,2).join(" ")}),Object(g.jsx)("h1",{className:"banner-heading-lg",children:null===d||void 0===d?void 0:d[2]}),Object(g.jsx)("div",{className:"banner-short-desc",children:i})]}),Object(g.jsx)("div",{className:"banner-ribbon-icon",children:Object(g.jsx)(A.a,{srcFile:null===n||void 0===n?void 0:n.url})})]})};const oe=e=>{const{pageData:t,routePath:o}=e,{BRAND_PAGE_HERO:i,INTROCOPY:a,FEATURE:l,KEY_FIGURES:n,FEATURE_INTERACTIVE:d,SECTION_LINK_CARDS:r,QUOTES:s,BRAND_PAGE_TEXT:c,SECTION_LINK_HERO:u,STATIC_BRAND_PAGE:v}=h.D,{meetTheColonel:O,socialImpact:m}=p.b;return null===t||void 0===t?void 0:t.map(((e,t)=>{var b,j,p,h,S;const{imageAlign:I="",body:f,columncontent:N,scrollRotation:C="",description:T}=null===e||void 0===e?void 0:e.fields;switch(null!==(b=null===e||void 0===e||null===(j=e.sys)||void 0===j||null===(p=j.contentType)||void 0===p||null===(h=p.sys)||void 0===h?void 0:h.id)&&void 0!==b?b:""){case i:return o===O?Object(g.jsx)(te,{data:null===e||void 0===e?void 0:e.fields}):Object(g.jsx)(J,{data:null===e||void 0===e?void 0:e.fields});case a:case c:return Object(g.jsx)(q,{data:f||e});case l:return Object(g.jsx)(Y,{isPositionRight:"Left"!==I,scrollRotation:!!C,data:f,isSocialImpactPage:o===m,index:t});case n:return Object(g.jsx)(Q,{data:N});case d:return Object(g.jsx)(K,{data:f});case r:return Object(g.jsx)(X,{data:f});case s:return Object(g.jsx)(Z,{text:T});case u:return Object(g.jsx)($,{data:null===e||void 0===e||null===(S=e.fields)||void 0===S?void 0:S.headline});case v:return Object(g.jsx)(ee.a,{data:null===e||void 0===e?void 0:e.fields});default:return null}}))};oe.defaultProps={pageData:[]};var ie=oe},1227:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(62),d=o(66),r=o(6),s=o(4),c=o(41),u=o(15),v=o(5),O=o(2);const m=a.a.createRef();var b=e=>{var t;const{onClickHandler:o,currencyConversionFactor:i,isDarkMode:a=!1,dataTestId:n,title:d,onEditOccasionName:c,itemId:b,itemName:j,showContent:p,setCurrentIndex:h,currentIndex:g,index:S}=e,{AccordianArrow:I,AccordianUpArrow:f,AccordianDownDark:N,AccordianUpDark:C}=u.a,T=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:E={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},x=e=>{h(Object(v.ad)(g!==S,S,null)),!p&&(null===o||void 0===o||o(b,T,E,m.current,i))};return Object(O.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(p?"account-accordian-open":""),ref:m,children:[Object(O.jsxs)("div",{className:"global-accordian-header-container",children:[Object(O.jsx)("span",{className:"global-accordian-header",children:d&&Object(O.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(O.jsx)("span",{className:"order-accordian-heading",children:d}),Object(O.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{c(b,j)},children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.EDIT_FAVORITE_NAME)})]})}),Object(O.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:a?Object(O.jsx)("img",{src:p&&C||N,onClick:x,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(O.jsx)("img",{src:p&&f||I,onClick:x,className:"global-accordian-arrow","data-testid":n,alt:""})})]}),p&&Object(O.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=o(46),p=o(412);o(414);var h=e=>{const{occassionOrder:t,tenantReducer:o,imageContainerSize:i,plpbackgroundImageData:l}=e,{currencySymbol:n,addHope:d,carryBag:r,currencyConversionFactor:s,taxAmountRoundOff:c}=o,{items:u}=t;let m=Object(p.k)(u,d,r);return Object(O.jsx)(a.a.Fragment,{children:null===m||void 0===m?void 0:m.map((e=>{var t;return Object(O.jsx)("div",{className:"account-accordian-details-section",children:Object(O.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(O.jsx)("div",{style:Object(v.mb)(l,i.width,i.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(O.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.qc)(e.content,i.width,i.height),alt:"No-Image",defaultPath:Object(v.bc)(e.imageName,o,!0)})}),Object(O.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(O.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(O.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.K)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:n,currencyConversionFactor:s},"",c)})]})]})})}))})},g=o(332),S=o(144);var I=e=>{const{onCancelHandler:t,onRemoveHandler:o}=e,{REMOVE:i,CANCEL:a,REMOVE_FROM_FAVMODAL_MSG:l}=s.a;return Object(O.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(O.jsx)("div",{className:"remove-message-section",children:Object(O.jsx)("p",{className:"remove-message",children:Object(r.translateWithI18Next)(l)})}),Object(O.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(O.jsx)(c.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(r.translateWithI18Next)(a)}),Object(O.jsx)(c.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:o,children:Object(r.translateWithI18Next)(i)})]})]})};var f=e=>{const{item:t,setIsModalOpen:o,tenantId:i,customerId:a,currentItemId:n}=e,d=Object(l.b)(),c=Object(O.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),m=Object(r.translateWithI18Next)(s.a.REMOVED_FROM_FAVORDERS),b=()=>{o(!1)},p={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:b,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(O.jsx)("div",{children:Object(O.jsx)(S.a,{...p,children:Object(O.jsx)(I,{onCancelHandler:b,setIsModalOpen:o,onRemoveHandler:e=>{var t,l,r;const s=null===(t=e.target)||void 0===t||null===(l=t.parentElement)||void 0===l||null===(r=l.parentElement)||void 0===r?void 0:r.parentElement;null!==s&&void 0!==s&&s.classList.contains("account-accordian-open")&&(null===s||void 0===s||s.classList.remove("account-accordian-open")),o(!1),(async(e,t,o)=>{await d(Object(g.b)({tenantId:e,customerId:t,itemId:o}))})(i,a,n),Object(v.Df)(m,c,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},N=o(1210),C=o(0),T=o(1184),E=o(85),x=o(16),D=o(9),y=o(55);var A=o(406);const _=(e,t,o,i,a)=>{var l,n,d,r;const{ACCOUNT_FAV_PAGE:s}=A.d;null!==i&&void 0!==i&&null!==(l=i.classList)&&void 0!==l&&l.contains("account-accordian-open")?null===i||void 0===i||null===(n=i.classList)||void 0===n||n.remove("account-accordian-open"):null===i||void 0===i||null===(d=i.classList)||void 0===d||d.add("account-accordian-open");const c=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===c||void 0===c?void 0:c.service;((e,t)=>{var o,i,a;Object(y.p)(null===D.a||void 0===D.a||null===(o=D.a.accountViewFavItemList)||void 0===o?void 0:o.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,items:e}}})})(null===c||void 0===c||null===(r=c.items)||void 0===r?void 0:r.map(((e,t)=>{var i;const{categoryId:l="NA",categoryName:n="NA"}=null!==(i=null===o||void 0===o?void 0:o[e.id])&&void 0!==i?i:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.jb)(Number(((null===e||void 0===e?void 0:e.price)/a).toFixed(C.gg)),0),item_category:n,item_list_name:s,item_list_id:l,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.jb)(null===c||void 0===c?void 0:c.couponCode,"NA"),discount:Object(v.jb)((null===c||void 0===c?void 0:c.discountTotal)/a,0),currency:C.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:o}=e,a=Object(l.b)(),m=Object(n.g)(),{userOrderState:j,userOrderStateDispatch:p}=Object(i.useContext)(E.a),[g,S]=Object(i.useState)(""),[I,D]=Object(i.useState)(""),A=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:R,phone:L}=Object(l.c)((e=>{var t;return Object(v.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:P,currencyConversionFactor:w}=Object(l.c)((e=>e.tenantReducer||{})),M=Object(l.c)((e=>e.tenantReducer)),{cartData:k}=Object(l.c)((e=>e.cartReducer||{})),[F,U]=Object(i.useState)(!1),[H,B]=Object(i.useState)(!1),[W,G]=Object(i.useState)(!1),[V,Y]=Object(i.useState)(!1),[z,K]=Object(i.useState)(null),{SingleArrowback:q,FavouriteActiveBlack:J}=u.a,{reorderFlag:{reorderModalOpen:Q=!1}}=j,[X,Z]=Object(i.useState)({}),{headerData:{plpBackgroundImage:$={}}={}}=Object(l.c)((e=>{var t;return Object(v.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.lb)($),{REORDER_MODAL_OPEN:oe,FROM_REORDER_MODAL_OPEN:ie,REORDER_STORE_CHANGED:ae}=x.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const le=()=>{p({type:oe,value:{reorderModalOpen:!1}}),p({type:ie,value:{fromReorderFlag:!1}}),p({type:ae,value:{storeChanged:!1}})};Object(i.useEffect)((()=>()=>le()),[]);const ne=(e,t)=>{U(!0),e&&(S(e),D(t),B(!1),G(!1))};Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(v.Pc)(o),updateUserData:!0};i(Object(d.d)(a))}})(P,R,L,a)}),[a,P,R,L]);const[de,re]=Object(i.useState)(null);return Object(O.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(O.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(O.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:q,alt:"back button"}),Object(O.jsx)("span",{className:"account-setting-text-header",children:Object(r.translateWithI18Next)(s.a.FAVOURITES)})]}),Object(O.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(O.jsx)("img",{src:J,className:"account-icon mr-2",alt:""}),Object(O.jsx)("span",{className:"page-heading",children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})]}),!(null!==A&&void 0!==A&&A.length)&&Object(O.jsx)("div",{className:"no-occasion-container",children:Object(O.jsx)("p",{children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),A&&(null===A||void 0===A?void 0:A.map(((t,i)=>Object(O.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("section",{className:"account-accordian",children:Object(O.jsxs)(b,{onClickHandler:_,currencyConversionFactor:w,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:ne,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:U,currentIndex:de,setCurrentIndex:re,index:i,showContent:de===i,children:[Object(O.jsx)(h,{occassionOrder:t,tenantReducer:M,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:o}),Object(O.jsx)("section",{className:"fav-menu-event",children:Object(O.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(O.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(O.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{Y(!0),K(null===t||void 0===t?void 0:t.id)},children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.REMOVE_FAVOURITES)})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"global-accordian-right",children:Object(O.jsx)(c.a,{className:"button re-order-btn ".concat(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var o;Object(v.Hd)(null===t||void 0===t?void 0:t.service)?(o={...e,history:m},Object(v.Hd)(null===k||void 0===k?void 0:k.service)?Object(v.Re)(o):p({type:null===C.Qe||void 0===C.Qe?void 0:C.Qe.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===C.Ce||void 0===C.Ce?void 0:C.Ce.CATERING_PAGE,title:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_TITLE,contentMsg:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(y.o)(),Z(e),p({type:oe,value:{reorderModalOpen:!0}}),p({type:ie,value:{fromReorderFlag:!0}}),sessionStorage.setItem(C.gd.REORDER_CLICK,!0)})(t)},children:Object(O.jsx)("span",{children:Object(r.translateWithI18Next)(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?null===s.a||void 0===s.a?void 0:s.a.EXPLORE_CATERING:null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})})})]})})]},i)}),V&&Object(O.jsx)(f,{item:t,setIsModalOpen:Y,isModalOpen:V,tenantId:P,customerId:R,itemId:null===t||void 0===t?void 0:t.id,currentItemId:z}),F&&Object(O.jsx)(T.a,{showOccassionModal:F,setOccassionModalOpen:U,occasionName:I,setOccasionName:D,editItemId:g,setEditItemId:S,hasEdit:!0})]})})))),Q&&Object(O.jsx)(N.a,{currentOrderInfo:X,reorderModalOpen:Q,closeButtonHandler:le,source:C.xe.ACCOUNT_FAVOURITES})]})}},1228:function(e,t,o){"use strict";var i=o(27),a=o(56),l=o(191),n=o.n(l),d=o(3),r=o.n(d),s=o(237),c=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],v=r.a.forwardRef((function(e,t){var o=e.bsPrefix,l=e.className,d=e.noGutters,v=e.as,O=void 0===v?"div":v,m=Object(a.a)(e,c),b=Object(s.a)(o,"row"),j=b+"-cols",p=[];return u.forEach((function(e){var t,o=m[e];delete m[e];var i="xs"!==e?"-"+e:"";null!=(t=null!=o&&"object"===typeof o?o.cols:o)&&p.push(""+j+i+"-"+t)})),r.a.createElement(O,Object(i.a)({ref:t},m,{className:n.a.apply(void 0,[l,b,d&&"no-gutters"].concat(p))}))}));v.displayName="Row",v.defaultProps={noGutters:!1},t.a=v},1232:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(85),n=o(28),d=o(16),r=o(1246),s=o(1247),c=o(2);var u=e=>{const{unavailableItems:t,priceChangedItems:o,confirmChangesHandler:a,discardChangesHandler:n}=e,{userOrderStateDispatch:u}=Object(i.useContext)(l.a),{CART_STATES_DATA:v="",ADD_TO_CART_CLICK:O=""}=d.a,m=Object(c.jsx)(r.a,{onCartStatesMethodSubmit:(e,t)=>{e.stopPropagation(),e.preventDefault(),"discardChanges"===t?n():a()},unavailableItems:t,priceChangedItems:o});return Object(c.jsx)(s.a,{handleClose:e=>{e.stopPropagation(),e.preventDefault(),u({type:v,value:{showCartModal:!1}}),u({type:O,value:{addToCart:!1}})},CartStatesModuleForm:m})},v=o(35),O=o(145),m=o(62),b=o(5);const j=e=>{const t=Object(n.c)((e=>e.tenantReducer)),{flatResponse:{itemMapById:o={}}={},isLoading:r=!1}=Object(b.Pb)(Object(n.c)((e=>{let{menuReducer:t}=e;return t}))),{userOrderState:s,userOrderStateDispatch:m}=Object(i.useContext)(l.a),{CART_STATES_DATA:j,ADD_TO_CART_CLICK:p,MENU_URL:h}=d.a,{currencyConversionFactor:g,tenantId:S}=t,I=s.productItemId,f=s.oldProduct,N=s.categoryId,[C,T]=Object(i.useState)([]),[E,x]=Object(i.useState)([]),D=Object(n.c)((e=>e.cartReducer)),y=Object(n.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),A=Object(n.b)();Object(i.useEffect)((()=>{if(m({type:j,value:{showCartModal:!0}}),o&&g&&!r)if(I){let e=((e,t,o,i,a)=>{let l={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===i||void 0===i?void 0:i.productName,imageName:null===i||void 0===i?void 0:i.productImage,id:a}},cartPrice:null===i||void 0===i?void 0:i.productPrice,isItemPriceSame:!1};const n=null===t||void 0===t?void 0:t[e];if(n){var d,r;l.findings=[],l.toRemove=!1;const{price:e=0}=null!==(d=null===n||void 0===n||null===(r=n.availability)||void 0===r?void 0:r[0])&&void 0!==d?d:{};let t=e/o,a=i.productPrice;t!==a?(l.findings.push("Item Price has changed Cart Price(".concat(a,"), Menu price(").concat(t,")")),l.requireModification=!0,l.menuPrice=t,l.cartPrice=a):(l.menuPrice=t,l.cartPrice=a,l.isItemPriceSame=!0)}return l})(I,o,g,f,I),t=[];e.toRemove&&t.push(e),T(t);let i=[];e.requireModification&&i.push(e),x(i);const a=Object(b.l)(e.isItemPriceSame,D.cartData.id);Object(b.Nf)(a,_)}else T([]),x([])}),[g,I,JSON.stringify(o),r,D.cartData.id]),Object(i.useEffect)((()=>{y&&N&&A(Object(v.v)({showProductListingModal:!0,categorySelected:N}))}),[y]);const _=()=>{var e;(console.log("test"),C.length)?s.fromPdpPage&&R():s.customizable?A(Object(O.c)({tenantId:S,catalogName:s.catalogs,itemId:I})):(A(Object(v.a)({params:{basketId:null===D||void 0===D||null===(e=D.cartData)||void 0===e?void 0:e.id},tenantId:S},[{Id:I,categoryId:N,quantity:1,modGrps:[]}])),A(Object(v.u)(new Date)));m({type:j,value:{showCartModal:!1}}),m({type:p,value:{addToCart:!1}})},R=()=>{e.history.push({pathname:"".concat(h)})};return Object(c.jsx)(a.a.Fragment,{children:s.cartStateData.showCartState&&(C.length||E.length)&&Object(c.jsx)(u,{"data-testid":"productStatesModule",unavailableItems:C,priceChangedItems:E,confirmChangesHandler:_,discardChangesHandler:()=>{m({type:j,value:{showCartModal:!1}}),m({type:p,value:{addToCart:!1}}),s.fromPdpPage&&R()}})})};j.defaultProps={};t.a=Object(m.j)(j)},1233:function(e,t,o){"use strict";var i=o(27),a=o(56),l=o(191),n=o.n(l),d=o(3),r=o.n(d),s=o(237),c=["bsPrefix","className","as"],u=["xl","lg","md","sm","xs"],v=r.a.forwardRef((function(e,t){var o=e.bsPrefix,l=e.className,d=e.as,v=void 0===d?"div":d,O=Object(a.a)(e,c),m=Object(s.a)(o,"col"),b=[],j=[];return u.forEach((function(e){var t,o,i,a=O[e];if(delete O[e],"object"===typeof a&&null!=a){var l=a.span;t=void 0===l||l,o=a.offset,i=a.order}else t=a;var n="xs"!==e?"-"+e:"";t&&b.push(!0===t?""+m+n:""+m+n+"-"+t),null!=i&&j.push("order"+n+"-"+i),null!=o&&j.push("offset"+n+"-"+o)})),b.length||b.push(m),r.a.createElement(v,Object(i.a)({},O,{ref:t,className:n.a.apply(void 0,[l].concat(b,j))}))}));v.displayName="Col",t.a=v},1234:function(e,t,o){"use strict";o.d(t,"c",(function(){return v})),o.d(t,"b",(function(){return O})),o.d(t,"d",(function(){return m})),o.d(t,"a",(function(){return b}));var i=o(1105),a=o.n(i),l=o(394),n=o(6),d=o(4),r=o(5),s=o(12),c=o(0),u=o(2);function v(e){var t,o;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=Object(s.s)(null===e||void 0===e?void 0:e.day,"DD");return Object(u.jsxs)("span",{className:i&&+Object(s.u)()===+l?"row-highlight":null,children:[Object(n.translateWithI18Next)(a()(null===e||void 0===e?void 0:e.day))," ",i&&Object(s.s)(null===e||void 0===e?void 0:e.day),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})}const O=e=>{var t,o;return Object(u.jsxs)(u.Fragment,{children:[Object(n.translateWithI18Next)(a()(null===e||void 0===e?void 0:e.dayOfWeek)),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.endTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})};function m(e){var t,o,i,a;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const O=Object(s.s)(null===e||void 0===e?void 0:e.day,"DD"),m=v?c.sb.HH_mm:c.sb.H_MM_AA;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)!==Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)||(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)!==Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(u.jsxs)("p",{className:r&&+Object(s.u)()===+O?"row-highlight":null,children:[Object(l.j)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.from,m)," - ",Object(l.j)(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.to,m)]}):Object(u.jsx)("p",{children:Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED)})}const b=e=>{var t,o,i,a;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.endTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED):"".concat(Object(l.j)(Object(r.z)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.startTime))," - ").concat(Object(l.j)(Object(r.z)(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.endTime)))}},1237:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(264),n=o(28),d=o(73),r=o(6),s=o(35),c=o(236),u=o(92),v=o(15),O=o(85),m=o(5),b=o(1136),j=o(86),p=o(1153),h=o(52),g=o(428),S=o(4),I=o(1096),f=o(1214),N=o(1215),C=o(1216),T=o(1115),E=o(1116),x=o(0),D=o(16),y=o(1133),A=o(1217),_=o(1190),R=o(46),L=o(63),P=o(61),w=o(132),M=o(80),k=o(2);const{ANALYTICS_EVENTS:F}=P.a;t.a=e=>{var t,o,P,U,H,B,W,G,V,Y;const{page:z,isMobile:K,onClickScroll:q}=e,{PROMOS_REWARDS:J,MEMBERS_ONLY:Q,VIEW_ALL_PROMOS:X,CANCEL:Z,PROMO_REMOVE_CONFIRMATION:$,PROMO_SUCCESS_TOAST_MESSAGE:ee,PROMO_REMOVE_TOAST_MESSAGE:te,YES_REMOVE:oe}=S.a,{COUPON_MULTI_PRODUCT:ie}=h.a,{StripesIcon:ae,ViewDetailsArrowBlack:le,tickWhiteToast:ne,TimerRibbonRedOutlined:de,TimerIcon:re}=v.a,{CAROUSAL_CONFIG:se,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:ce,SILCK_RESPONSIVE_PROPERTY:ue}=y.a,{SPEED:ve,SLIDES_TO_SHOW:Oe,SLIDES_TO_SCROLL:me}=se,{DISPOSITION_DATA:be,clearCartChangeFlag:je,orderTypeAlertTitle:pe,SHOW_CLEAR_CART_ALERT:he,CLEAR_CART_CONFIRM_CANCEL_MODAL:ge}=D.a,Se=Object(w.a)(),Ie=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:fe,localized:Ne}=Ie,[Ce,Te]=Object(i.useState)([]),[Ee,xe]=Object(i.useState)(!1),[De,ye]=Object(i.useState)(!1),[Ae,_e]=Object(i.useState)({}),[Re,Le]=Object(i.useState)(null),[Pe,we]=Object(i.useState)({}),[Me,ke]=Object(i.useState)(!1),[Fe,Ue]=Object(i.useState)(!1),[He,Be]=Object(i.useState)("null"),We=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ge="",componentOptions:Ve={},allowMultipleCoupon:Ye,showRevampedRewards:ze,showOnlineCouponsNonLocalizedUsers:Ke}=We,qe=Object(m.ud)(null===Ve||void 0===Ve||null===(t=Ve.web)||void 0===t||null===(o=t.coupons)||void 0===o?void 0:o.sendViewAllDealsEvent),Je=Object(n.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{showPromoRewardsMessage:Qe=!1,navigateToPromosPage:Xe}=null===Ve||void 0===Ve||null===(P=Ve.web)||void 0===P?void 0:P.cartPage,Ze=null===Ve||void 0===Ve||null===(U=Ve.routes)||void 0===U||null===(H=U.Home)||void 0===H||null===(B=H.offersAndDeals)||void 0===B?void 0:B.shouldCheckLocalization,$e=Object(n.c)((e=>e.profileReducer)),{applicableCoupons:et=[],cartData:tt={}}=Je,{discountLines:ot=[]}=tt||{},{userOrderState:it,userOrderStateDispatch:at}=Object(i.useContext)(O.a),lt=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),nt=Object(n.b)(),dt=Object(p.a)(it),rt=Object(i.useMemo)((()=>{var e;return{dispositionType:null!==dt&&void 0!==dt&&dt.type?Object(m.Mb)(dt.type):Object(m.Mb)(null===We||void 0===We||null===(e=We.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[dt,We]),{dispositionType:st}=rt,[ct,ut]=Object(i.useState)(0),[vt,Ot]=Object(i.useState)(0),[mt,bt]=Object(i.useState)(0),[jt,pt]=Object(i.useState)("");let ht={};const gt=a.a.useRef(null),[St,It]=Object(i.useState)(0),ft=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.getCouponLoading})),[Nt,Ct]=Object(i.useState)(!0),Tt=()=>{ye(!1)},Et=(e,t)=>{_e({item:null===e||void 0===e?void 0:e.item,titleValue:null===e||void 0===e?void 0:e.titleValue,promoParams:null===e||void 0===e?void 0:e.promoParameters,priceDetails:null===e||void 0===e?void 0:e.priceDetails}),Le(t),nt(Object(s.v)({showProductListingModal:!0})),at({type:ie,value:{fromCouponSection:!0}}),ke(!0)},xt=e=>{we({item:null===e||void 0===e?void 0:e.item}),xe(!0)},Dt=e=>{const t=(null===e||void 0===e?void 0:e.couponCode)||"";ye(!0),pt(t)},yt={dots:!1,infinite:!1,speed:ve,slidesToShow:Oe,slidesToScroll:me,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(k.jsx)(T.a,{clickNextCard:()=>{if(vt<Ce.length-1){let e;e=vt+me>Ce.length-Oe-1?Ce.length-Oe:vt+me,Ot(e),gt.current.slickGoTo(e)}}}),prevArrow:Object(k.jsx)(E.a,{clickPrevCard:()=>{vt>0&&(Ot(vt-me),gt.current.slickGoTo(vt-me))}}),beforeChange:(e,t)=>ut(t),afterChange:(e,t)=>Ot(e),variableWidth:!0,accessibility:!0,responsive:ue};Object(i.useLayoutEffect)((()=>{const e=()=>{const[e,t]=Object(m.de)(window.innerWidth)?[287,20]:[347,.1*window.innerWidth],o=window.innerWidth-t;let i=Math.ceil(o/e);return 1===i&&(i+=1),i},t=()=>{bt(e()),It(window.innerWidth)};window.addEventListener(x.ye,t),t()}),[]),Object(i.useEffect)((()=>{if(et.length>0){const e=Object(b.b)(fe,Object(b.f)(et,We));At(e,He)}else{if(!Ce.length){const e=Object(b.b)(fe,[],ft);Te(e)}Ct(Object(m.ad)(Object(m.jb)(Ce.length,et.length),!1,!0))}}),[et,Ce.length]),Object(i.useEffect)((()=>{Ne&&Ge&&(null===dt||void 0===dt?void 0:dt.basketId)!==(null===tt||void 0===tt?void 0:tt.id)?(pt(""),Be("null"),Rt()):(!Ne&&!Ze||Ke)&&(fe?(null===$e||void 0===$e?void 0:$e.customerId)&&nt(Object(s.j)({tenantId:Ge,userId:null===$e||void 0===$e?void 0:$e.customerId})):nt(Object(s.k)({tenantId:Ge})))}),[Ne,fe,null===tt||void 0===tt?void 0:tt.id,null===tt||void 0===tt||null===(W=tt.customer)||void 0===W?void 0:W.id,Ge,null===dt||void 0===dt||null===(G=dt.store)||void 0===G?void 0:G.id,null===dt||void 0===dt?void 0:dt.type]),Object(i.useEffect)((()=>{var e,t;null!==lt&&void 0!==lt&&null!==(e=lt.foodLines)&&void 0!==e&&e.length||null!==lt&&void 0!==lt&&null!==(t=lt.discountLines)&&void 0!==t&&t.length||(localStorage.removeItem(x.gd.ADD_TO_ORDER),pt(""),Be("null"))}),[null===lt||void 0===lt||null===(V=lt.foodLines)||void 0===V?void 0:V.length,null===lt||void 0===lt||null===(Y=lt.discountLines)||void 0===Y?void 0:Y.length]),Object(i.useEffect)((()=>{if("null"!==He){var e;Rt();let t=He?Object(r.translateWithI18Next)(ee):Object(r.translateWithI18Next)(te);(null===it||void 0===it||null===(e=it.searchStoreData)||void 0===e||!e.showSearchStore)&&_t(t)}if((null===ot||void 0===ot?void 0:ot.length)>0&&!jt){var t;let e=null===ot||void 0===ot||null===(t=ot[0])||void 0===t?void 0:t.couponCode;pt(e)}}),[null===ot||void 0===ot?void 0:ot.length]);const At=(e,t)=>{ht={};for(let a=0;a<(null===ot||void 0===ot?void 0:ot.length);a++){var o;let e=null===(o=ot[a])||void 0===o?void 0:o.couponCode;ht[e]=e}Object.keys(ht).length>0?localStorage.setItem(x.gd.ADD_TO_ORDER,JSON.stringify(ht)):localStorage.removeItem(x.gd.ADD_TO_ORDER);for(let a in ht){let t=ht[a];e=e.map((e=>e.couponCode===t?{...e,isApplied:!0}:e))}Te(e);const i=e.some((e=>e.isApplied&&!e.employeePromotion));!Ye&&Ue(i),Ct(Object(m.ad)(Object(m.jb)(Ce.length,et.length),!1,!0))},_t=e=>{let t=Object(k.jsx)(R.a,{srcFile:ne});Object(m.Df)(e,t,"promos-rewards-toast promos-rewards-toast-pos",1e3)},Rt=()=>{var e;const{customerId:t}=L.a.getInstance();Ne&&null!==tt&&void 0!==tt&&tt.id&&t===(null===tt||void 0===tt||null===(e=tt.customer)||void 0===e?void 0:e.id)&&nt(Object(s.h)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge}))},Lt=()=>{nt(Object(d.u)()),at({type:be,value:{showDisposition:!0}}),localStorage.setItem(x.gd.RETAIN_ADDRESS,""),localStorage.setItem(x.gd.SET_LOCATION,!0),pt(null===e||void 0===e?void 0:e.couponCode)},Pt=t=>{e.history.push({pathname:null===x.Ce||void 0===x.Ce?void 0:x.Ce[null===t||void 0===t?void 0:t.toUpperCase()]}),qe&&Object(g.c)({event:"viewAllDeals"})},wt=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(b.e)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(k.jsxs)("span",{"data-testid":"promos-time-block",className:"promos-time-block",children:[Object(k.jsx)("img",{className:"promos-time-icon",src:re,alt:"Timer Icon"}),Object(k.jsx)(f.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.he&&"plp-promosRibbon-container"),children:[Object(k.jsx)(l.a,{src:de,className:"promos-ribbon timer"}),Object(k.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.he&&"plp-promosRibbon-container"),children:[Object(k.jsx)("div",{className:"angle-down"}),Object(k.jsx)("span",{className:"ribbon-text-svg",children:Object(b.h)(t)})]})}},Mt=e=>{const t=null===e||void 0===e?void 0:e.couponCode;nt(Object(s.b)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge},{couponCode:t})),Be(!0),pt(t)},kt=(t,o)=>{const i=null===t||void 0===t?void 0:t.couponCode;z===x.he?q():e.history.push({pathname:Object(m.ad)(Object(m.Hd)(st),null===x.Ce||void 0===x.Ce?void 0:x.Ce.CATERING_PAGE,"".concat(x.Ce.MENU_PAGE)),isStartOrderClick:!0}),qe&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:i})},Ft=t=>{const o=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:x.Ce.CART}),qe&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:o})},Ut=e=>{var t;if((null===lt||void 0===lt||null===(t=lt.foodLines)||void 0===t?void 0:t.length)>0){let e={flag:je,onConfirm:pe};Object(m.Fe)(at,e,he,ge)}else at({type:be,value:{showDisposition:!0}})};return Qe&&!ze&&Object(k.jsxs)("div",{id:"promosRewards",className:"promos-container ".concat(Object(m.ad)(Object(m.hb)(z===x.he,Ne),"plp-promos-container","")," ").concat(Object(m.ad)(Object(m.hb)(Nt,Ne),"plp-promos-loading","")),"data-testid":"promos-container-test",children:[Object(k.jsxs)("div",{className:"promosCard-container grid-container ".concat(Object(m.hb)(z===x.he,"plp-promosCard-container")," ").concat(Object(m.hb)(z===x.he,Ne)&&"plp-promocard"),"data-testid":"promosCard-container-test",children:[z!==x.he&&Object(k.jsx)("div",{className:"promos-Icon",children:Object(k.jsx)(l.a,{src:ae})}),Object(k.jsxs)("div",{className:"promosContainerHeader-items ".concat(Object(m.hb)(z===x.he,"plp-promosContainerHeader-items")),children:[Object(k.jsx)("h2",{className:"promosContainer-header","data-testid":"plp-promo-name",children:Object(r.translateWithI18Next)(J)}),Ne&&!fe&&Object(k.jsx)("div",{className:"promosHeader-text","data-testid":"plp-members-only",children:Object(r.translateWithI18Next)(Q)}),Ne&&Object(m.jb)(!K,z!==x.he)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"view-all-text ".concat(z===x.he&&"plp-view-all-promo-link"),children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(r.translateWithI18Next)(X)}),Object(k.jsx)(l.a,{className:"promosViewAlldeals-arrow",src:le})]})}),Object(m.hb)(K,Ne)&&z===x.he&&Object(k.jsxs)("div",{className:"plp-card-count",children:[vt+1,"/",Ce.length]})]}),(Ne||!Ze||Ke)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"promosCard-list",children:[Nt&&Object(k.jsx)("div",{className:"placeholder",children:Array(3).fill().map((()=>Object(k.jsxs)("div",{className:"table store-card-container",children:[Object(k.jsx)("div",{className:"loading card-title shorter-s"}),Object(k.jsx)("div",{className:"loading table-content"}),Object(k.jsx)("div",{className:"loading table-content"})]})))}),Object(m.hb)(Ce.length,!Nt)&&Object(k.jsx)("div",{className:"promosCarousal-list ".concat(Object(m.hb)(z===x.he,"plp-promosCarousal-list")),children:Object(k.jsx)(I.b,{settings:yt,carousalRef:gt,children:(Ht=Ce,null===Ht||void 0===Ht?void 0:Ht.map(((e,t)=>{const{couponCode:o,smallText:i,titleValue:a,imageName:l,validityEndTime:n,promoParameters:d,itemDetails:r}=e,s=null===r||void 0===r?void 0:r.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));return Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"slick-slide offers-deals-card-container ".concat(Object(m.hb)(z===x.he,"plp-slick-slide")),children:Object(k.jsxs)("div",{className:"promos-card ".concat(t===vt+mt-1&&"offersCard-fade lastOffersCard-fade"," ").concat(z===x.he&&"plp-promo-card"," ").concat(!wt(e)&&Object(m.hb)(z===x.he,"overflow-class")),children:[wt(e),Object(k.jsx)(N.a,{"data-testid":"promos-rewards-card",loggedIn:fe,localized:Ne,couponCode:o,smallText:i,titleValue:a,imageName:l,item:e,promoParameters:d,priceDetails:s,validityEndTime:n,tenantId:Ge,setModal:xe,setViewDetailsHandler:xt,setConfirmationModal:Dt,showMultiProductModal:Et,dispositionType:st,addToOrderClickHandler:Mt,startOrderClickHandler:kt,promosApplied:Fe,basketData:tt,setViewCartHandler:Ft,setDispositionHandler:Ut,createSignInURL:j.c,page:z,setLocationClickHandler:Lt,setAlertPopupCouponCode:pt,setIsAppliedInApplicableCoupon:At})]})})},t)})))})}),Object(m.hb)(Ce.length>ce,!Nt)&&Object(k.jsx)("div",{className:"promos-slideContainer ".concat(Object(m.hb)(z===x.he,"plp-promos-slideContainer")),children:Object(k.jsx)("input",{className:"promos-slider",type:"range","data-testid":"promo-slider-id",min:"0",max:Ce.length-Oe,value:ct,id:"myRange",onChange:e=>{ut(e.target.value),gt.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),Object(m.hb)(K,z===x.he)&&Object(k.jsxs)("div",{className:"view-all-text plp-view-all-promo-text",children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(r.translateWithI18Next)(X)}),Object(k.jsx)(l.a,{className:"promosViewAlldeals-arrow",src:le})]})]})]}),!Ne&&Ze&&Object(k.jsx)(C.a,{"data-testid":"promos-banner-id",setLocationClickHandler:Lt,page:z}),Ee&&Object(k.jsx)(A.a,{history:e.history,"data-testid":"view-details-modalId",tenantId:Ge,viewDetailsData:Pe,handleClose:()=>{xe(!1)}}),Object(m.hb)(Me,St)&&Object(k.jsx)(_.a,{"data-testid":"multi-product-modalId",viewProductEvent:Re,history:e.history,tenantId:Ge,viewProductCardData:Ae,handleClose:()=>{ke(!1),nt(Object(s.v)({showProductListingModal:!1})),Se(Object(M.c)({key:x.gd.VIEW_PRODUCT})),at({type:ie,value:{fromCouponSection:!1}})},imageContainerSize:St,addToOrderClickHandler:Mt,cartReducer:Je,setAlertPopupCouponCode:pt}),De&&Object(k.jsx)(c.a,{"data-testid":"remove-promo-modal",handleClose:Tt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(k.jsx)(u.a,{splitTitle:{MSGTXT1:"".concat(Object(r.translateWithI18Next)($))},imageSrc:v.a.CartError,confirmButtonText:Object(r.translateWithI18Next)(oe),cancelButtonText:Object(r.translateWithI18Next)(Z),confirmHandler:(e,t)=>{jt&&(nt(Object(s.p)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge,couponCode:jt})),Tt(),Be(!1))},cancelHandler:Tt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})})]});var Ht}},1238:function(e,t,o){"use strict";o(3);var i=o(1268),a=o.n(i),l=o(2);t.a=e=>{let{children:t,disabled:o,onClick:i,theme:n="dark"}=e;return Object(l.jsx)("div",{onClick:()=>!o&&i?i():"",style:{color:o?"#A6A6A7":"",pointerEvents:o?"none":"auto"},className:"".concat(a.a.option," ").concat(a.a[n]),children:t})}},1239:function(e,t,o){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1240:function(e,t,o){},1241:function(e,t,o){"use strict";var i=o(3),a=o(970),l=o(28),n=o(2);var d=e=>{const{className:t,clickNextCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler"})};var r=e=>{const{className:t,clickPrevCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler"})},s=o(1146),c=o(145),u=o(35),v=o(85),O=o(16),m=o(5),b=o(24),j=o(0),p=o(400),h=o(62),g=o(1096),S=o(1125);var I=e=>{const{cardRenderer:t,productList:o,carousal:i,header:a="",subHeader:l="",settings:d,maxLengthToScroll:r,slidesToShow:s,rangeValue:c,onUpdateRange:u,showProductListingModal:v,isMobile:O,recommendedRule:b,flagUpsellCrossell:j}=e;return Object(n.jsxs)(n.Fragment,{children:[Boolean(null===o||void 0===o?void 0:o.length)&&Object(n.jsxs)("div",{className:"recommendedCard-container recommendedCard-container-in","data-testid":"recommendedCard-container-test",children:[Object(n.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(n.jsxs)("div",{className:l?"pdp-carousal-header":"recommendedContainer-header",children:[Object(n.jsx)("span",{className:"main-header",children:a}),l&&Object(n.jsx)("span",{className:"sub-header",children:l})]}),Object(n.jsxs)("span",{className:"count_box",children:[Math.round(c+1),"/",o.length]})]}),Object(n.jsxs)("div",{className:"recommendedCard-list",children:[Object(n.jsx)("div",{className:"recommendedCarousal-list",children:Object(n.jsx)(g.b,{settings:d,carousalRef:i,children:t()})}),o.length>r&&Object(n.jsx)("div",{className:"recommended-slideContainer",children:Object(n.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:o.length-s,value:c,id:"myRange","data-testid":"myRange",onChange:u})})]})]}),Object(m.hb)(v,b===j)&&Object(n.jsx)("div",{className:"pdp-custm-container ".concat(O?"mobile":""),children:Object(n.jsx)("div",{className:"d-flex",children:Object(n.jsx)(S.a,{})})})]})},f=o(1220),N=o(87),C=o(410);const{PDP_RECOMMENDATIONS:T,CAROUSAL_CONFIG:E,SLIDES_TO_SCROLL_MOBILE:x,BREAKPOINT:D,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:y,FADE_CARD_INDEX:A}=a.RECOMMENDED_CONSTANTS,{ADD_TO_CART_CLICK:_,MINI_PDP_DATA:R,FROMFLAGPLP:L,EDIT_CLICKED:P,PDP_URL:w}=O.a,{RESET_MODGROUP_IDS_UPDATE:M,UPSELL:k,PDP:F}=p.a,{SPEED:U,SLIDES_TO_SHOW:H,SLIDES_TO_SCROLL:B}=E,{PDP_SLIDES_TO_SHOW:W,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:G}=T,V=(e,t)=>{let o="recommended-card";return e===t+A&&(o+=" recommendedCard-fade"),o};var Y=e=>{var t,o,a,O,p;const{products:g,storeClosedData:S,header:T="",subHeader:E="",cssClass:A="",recommendedRule:w,source:Y=""}=e,[z,K]=Object(i.useState)(0),[q,J]=Object(i.useState)(0),Q=Object(i.useRef)(null),[X,Z]=Object(i.useState)(Object(m.de)(window.innerWidth)),{userOrderState:$,userOrderStateDispatch:ee}=Object(i.useContext)(v.a),te=Object(l.b)(),{maxLengthToScroll:oe,slidesToShow:ie}=(e=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?G:y,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?W:H}))(A),{dispositionStateData:ae=j.eg}=$,{dispositionType:le=localStorage.getItem("dispositionType")}=ae,[ne,de]=Object(i.useState)(),{tenantReducer:re,cartReducer:se,userParams:ce,menuReducer:ue}=Object(l.c)((e=>({tenantReducer:Object(m.sd)(e.tenantReducer),cartReducer:Object(m.sd)(e.cartReducer),userParams:Object(m.sd)(e.appStateReducer.userStatus),menuReducer:Object(m.sd)(e.menuReducer)}))),{flatResponse:ve={}}=ue,{showProductListingModal:Oe=!1}=Object(m.sd)(se),me=Object(h.h)(),{PlpProductCard:be=j.eg}=(null===re||void 0===re?void 0:re.componentOptions)||j.eg,je=Object(m.Sd)($.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):$.dispositionNew,pe=je?je.store:j.eg,he=(null===pe||void 0===pe||null===(t=pe.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(a=o.catalogs)||void 0===a?void 0:a.length)&&(null===pe||void 0===pe||null===(O=pe.summary)||void 0===O||null===(p=O.menu)||void 0===p?void 0:p.catalogs[0])||(null===re||void 0===re?void 0:re.genericMenuName)||"",ge=null===g||void 0===g?void 0:g.filter((e=>!e.isHidden)),Se=Y===F?ge:null===ge||void 0===ge?void 0:ge.filter((e=>{let t=b.b.channel,o=(e=>{let t=j.fe;return e===j.Bb&&(t=j.yb),e===j.Fb&&(t=j.Eb),t})(le);return e.channel===t&&e.service===o})),{showCartAlert:Ie}=Object(C.a)(void 0,void 0,void 0,void 0,ee,te,void 0),fe=()=>{Ie(!0)},Ne={dots:!1,infinite:!1,speed:U,slidesToShow:ie,slidesToScroll:B,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:[{breakpoint:D,settings:{slidesToShow:x,arrows:!0,swipeToSlide:!0}}]},Ce=()=>{const e=Object(m.de)(window.innerWidth);Z(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",Ce)}),[X]);const Te={...Ne,nextArrow:Object(n.jsx)(d,{clickNextCard:()=>{if(q<Se.length-1){let e=0;e=q+B>Se.length-ie-1?Se.length-ie:q+B,Object(f.a)(e),J(e),Q.current.slickGoTo(e)}}}),prevArrow:Object(n.jsx)(r,{clickPrevCard:()=>{q>0&&(J(q-B),Q.current.slickGoTo(q-B)),Object(f.a)(q-B)}}),beforeChange:(e,t)=>K(t),afterChange:(e,t)=>J(e)},Ee=(e,t,o,i)=>{var a,l,n,d;const{id:r,product:s}=i,v=(null===r||void 0===r?void 0:r.split("_")[0])||"",{categoryId:O=""}=null!==(a=null===ve||void 0===ve||null===(l=ve.productMapById)||void 0===l?void 0:l[v])&&void 0!==a?a:{},{id:m="",name:b="",url:p=""}=null!==(n=null===ve||void 0===ve||null===(d=ve.categoryMapById)||void 0===d?void 0:d[O])&&void 0!==n?n:{};var h;(w===k&&Object(N.b)(),e&&e.stopPropagation(),ce.localized)?t?(de(w),ee({type:R,value:{id:r,flag:L,foodLineId:""}}),ee({type:M}),ee({type:P,value:{cartEditClicked:!0}}),te(Object(c.c)({tenantId:re.tenantId,catalogName:he,itemId:r}))):(te(Object(u.a)({params:{basketId:null===se||void 0===se||null===(h=se.cartData)||void 0===h?void 0:h.id},tenantId:re.tenantId},[{Id:r,categoryId:m,quantity:1,modGrps:j.dg,categoryName:b,categoryUrl:p}])),te(Object(u.u)(new Date))):ee({type:_,value:{addToCart:!0,productItemId:r,categoryId:m,oldProduct:s,customizable:t,catalogs:he,fromPdpPage:!1}})},xe=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t}));Object(i.useEffect)((()=>{let e=Object(m.dd)(xe,$);Object(m.hb)(e,ne===w)&&te(Object(u.v)({showProductListingModal:!0,categorySelected:""}))}),[xe,$.minipdpData.itemId,$.cartEditClicked]),Object(i.useEffect)((()=>{Oe&&te(Object(u.v)({showProductListingModal:!1,categorySelected:""}))}),[me]);const De=(e,t,o)=>{te(Object(c.a)({tenantId:e,customerId:o},t))},ye=(e,t,o)=>{te(Object(c.b)({tenantId:e,customerId:t,itemId:o}))};return Boolean(null===Se||void 0===Se?void 0:Se.length)&&Object(n.jsx)(I,{cardRenderer:()=>Se.map(((e,t)=>{const o=Object(m.rd)(e.additionalProperties),i=o.length&&o.reduce(((e,t)=>{let{key:o,value:i}=t;return{...e,[o]:"True"===i||"False"!==i&&i}}),j.eg);return Object(n.jsx)("div",{className:V(t,q),children:Object(n.jsx)(s.b,{item:e,cardId:e.id,cardType:"medium",cardFor:"recommended",configureOptions:be,tenantData:re,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:"",clickHandler:Ee,customizable:e.customizable,onCardClickHandler:m.N,userParams:ce,storeClosedData:S,addFavourite:De,removeFavourite:ye,"data-testid":"menu-card-component",openAlertModal:fe,...i,...e},e.id)})})),productList:[...Se],carousal:Q,header:T,subHeader:E,settings:Te,maxLengthToScroll:oe,slidesToShow:ie,rangeValue:z,onUpdateRange:e=>{K(e.target.value),Q.current.slickGoTo(e.target.value),Object(f.a)(e.target.value)},showProductListingModal:Oe,isMobile:X,flagUpsellCrossell:ne,...e})},z=o(120),K=o(398);t.a=e=>{var t,o;const{products:a,country:l,cssClass:d=""}=e,{userOrderState:r}=Object(i.useContext)(v.a),[s,c]=Object(i.useState)(!1),u=Object(i.useMemo)((()=>Object(m.Sd)(r.currentStoreInfo)?Object(m.b)(localStorage.getItem("currentStoreInfo")):r.currentStoreInfo),[r.currentStoreInfo]),{futureDates:O,scheduled:b,asap:j}=Object(m.sd)(null===u||void 0===u||null===(t=u.summary)||void 0===t?void 0:t.timings),{unavailibilities:p}=Object(m.sd)(b),{interval:h=0,startEndTime:g={}}=Object(m.sd)((null===b||void 0===b||null===(o=b.periods)||void 0===o?void 0:o.length)&&(null===b||void 0===b?void 0:b.periods[0])),{from:S,to:I}=g,f=Object(i.useCallback)((()=>{if(Object(m.Td)(u)){var e,t;let o=null===(e=u.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,i=Object(z.j)(S,I,h,null===j||void 0===j?void 0:j.isAvailable,1===(null===O||void 0===O?void 0:O.length)&&(null===l||void 0===l?void 0:l.toUpperCase())===K.m,p);"CLOSED"!==o||i.length?c(!1):c(!0)}else c(!1)}),[u]);return Object(i.useEffect)((()=>{f()}),[f]),Object(n.jsx)("div",{className:"recommended-container ".concat(d),"data-testid":"recommended-container",children:Object(n.jsx)(Y,{"data-testid":"recommended-items",products:a,storeClosedData:{isStoreClosed:s},...e})})}},1242:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));o(3),o(28),o(5),o(432),o(433);var i=o(61);o(6),o(2);o(41),o(169),o(15);o(46),o(436),o(62),o(55);const{EMPTY_CART:a}=i.a;o(972);var l=o(120),n=(o(85),o(398));const d=(e,t,o,i,a,d,r)=>Object(l.j)(e,t,o,null===i||void 0===i?void 0:i.isAvailable,1===(null===a||void 0===a?void 0:a.length)&&(null===d||void 0===d?void 0:d.toUpperCase())===n.m,r)},1243:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(28),n=o(62),d=o(1163),r=o(108),s=o.n(r),c=o(1115),u=o(1116),v=o(1096),O=o(145),m=o(16),b=o(1118),j=o(85),p=o(1130),h=o(975),g=o(55),S=o(1159),I=o(2);var f=e=>{const{DISPOSITION_DATA:t=""}=m.a,{userOrderState:o,userOrderStateDispatch:l}=Object(i.useContext)(j.a)||{};return Object(i.useEffect)((()=>{l({type:t,value:{showDisposition:!0}})}),[]),Object(I.jsx)(a.a.Fragment,{children:Object(I.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(I.jsx)(p.a,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(I.jsx)(h.SearchStoreModule,{onStoreSelectFinish:g.y}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrderCatering)&&Object(I.jsx)(S.a,{onStoreSelectFinish:g.y})]})})},N=o(5),C=o(1239);var T=()=>{var e,t,o,i;const{DISPOSITION:a}=C.a;let n=null,d=null,r=Object(l.c)((e=>e.appStateReducer.userStatus));const s=Object(l.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(s.marketPageContent&&s.tenantReducerContent&&s.homePageContent){const{tenant:e=[]}=s.marketPageContent.headerData||{};n=Object(N.fc)(s.homePageContent)||null,d=Object(N.Yc)(e)}return Object(I.jsx)(f,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[a])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(o=null===(i=n)||void 0===i?void 0:i[a])&&void 0!==o?o:{}},userParams:r,tenantReducerData:s.tenantReducerContent})},E=o(35),x=o(132),D=o(80),y=o(396),A=o(262),_=o(0),R=o(1133),L=o(61),P=o(73),w=o(434),M=o(236),k=o(92),F=o(6),U=o(15),H=o(4),B=o(1153),W=o(144),G=(o(41),o(397)),V=o(1095),Y=o(46),z=o(20),K=o.n(z),q=o(1168);const J=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Q=(e,t,o)=>e?Object(I.jsx)(Y.a,{"data-testid":"",className:"indulgentaddOns-card-image-global",defaultPath:Object(N.bc)(null,t,!0),srcFile:Object(N.qc)(e,o.containerWidth,o.containerWidth)}):null;var X=e=>{var t,o,n,d,r,s,c,u,v;const{isMobile:O,openIndulgentModal:m,handleClose:b,removeItemCart:p,IndulgentData:h,modalTitle:g,continueButtonText:S,productId:f="",ruleNameDetails:C={}}=e,T={containerHeight:165,containerWidth:768},{ruleName:E,recommendationType:x=""}=C,{INDULGENT_ADD_ON:D}=L.a,{userOrderState:y}=Object(i.useContext)(j.a),A=Object(l.b)(),{cartReducer:R,userParams:P,tenantReducer:w,storesReducer:M,menuReducer:k,marketConfigReducer:U}=Object(l.c)((e=>{var t,o;return{cartReducer:e.cartReducer||{},userParams:(null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(o=e.marketConfigReducer)||void 0===o?void 0:o.response}})),{couponCode:H,discountTotal:B}=Object(N.zb)(null===R||void 0===R?void 0:R.cartData),{headerData:{pdpBackgroundImage:Y={}}={}}=U,z=Object(N.lb)(Y),{flatResponse:X={}}=k||{},Z=(null===M||void 0===M||null===(t=M.storesWithStatus)||void 0===t?void 0:t.length)&&(null===M||void 0===M||null===(o=M.storesWithStatus[0])||void 0===o||null===(n=o.summary)||void 0===n?void 0:n.timeZoneIANA),{loggedIn:$,localized:ee}=P,te=(oe=y,K()(oe.dispositionNew)?JSON.parse(localStorage.getItem(_.gd.DISPOSITION_NEW)):oe.dispositionNew);var oe;var ie;const ae=((e,t)=>{var o,i,a,l,n;return(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n?void 0:n.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((ie=te)?ie.store:{},w),le=null===w||void 0===w||null===(d=w.componentOptions)||void 0===d||null===(r=d.web)||void 0===r||null===(s=r.global)||void 0===s?void 0:s.pricewithNumberofDecimalDigit,[ne,de]=Object(i.useState)(0),[re,se]=Object(i.useState)(0),[ce,ue]=Object(i.useState)(1),ve=null===w||void 0===w||null===(c=w.componentOptions)||void 0===c||null===(u=c.web)||void 0===u||null===(v=u.cartPage)||void 0===v?void 0:v.showIndulgentSectionView,Oe=a.a.useRef(null),me={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:m,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==R&&void 0!==R&&R.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:b,modalTitle:Object(F.translateWithI18Next)(g),autoFocus:!0},be=Object(G.n)(O),je={INDULGENT_ADD_ON:D,IndulgentData:h,isMobile:O,recommendationType:x,ruleName:E,productId:f,userType:Object(N.od)(ee,$),flatResponse:X,catalogs:ae,tenantReducer:w,cartReducer:R,dispatch:A,indulgentAddToCartHandler:G.u,rangeValue:ne,updateRangeValue:de,currentSlide:re,updateCurrentSlide:se,caroselCount:ce,setCaroselCount:ue,carousal:Oe,setPrevArrowCSS:J,couponCode:H,discountTotal:B};return ve?Object(q.a)(je):Object(I.jsx)("div",{className:"cart-indulgent-global",children:m&&!p&&ee&&Object(I.jsx)(W.a,{...me,children:Object(I.jsx)("div",{className:"indulgent-container-global",children:Object(I.jsx)("div",{className:"indulgent-card-list-global",children:null===h||void 0===h?void 0:h.map(((t,o)=>{var i,a;return Object(I.jsxs)("div",{style:Object(N.mb)(z,be.cardWidth,be.cardHeight),className:"indulgent-card-global","data-testid":"indulgent-item-card-".concat(o),onClick:o=>{o.preventDefault(),o.stopPropagation(),(t=>{var o,i;localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(N.xc)(t.categoryUrl,null===t||void 0===t?void 0:t.url,null===(o=e.history)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.pathname)})})(t)},children:[Q(null===t||void 0===t?void 0:t.content,w,T),Object(I.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(I.jsx)("div",{className:"indulgent-card-header-global",children:null===t||void 0===t||null===(i=t.dname[0])||void 0===i?void 0:i.value}),Object(I.jsxs)("div",{className:"indulgent-card-price-global",children:[null===w||void 0===w?void 0:w.currencySymbol,Object(N.Ec)((a=null===t||void 0===t?void 0:t.availability,a.length>1?Object(V.k)(a,Z):a[0]),null===w||void 0===w?void 0:w.currencyConversionFactor,Z).toFixed(le)]})]})]},null===t||void 0===t?void 0:t.id)}))})})})})},Z=o(211);const{CAROUSAL_CONFIG:$}=R.a,{SLIDES_TO_SHOW:ee,SLIDES_TO_SCROLL:te}=$,{ADD_TO_CART:oe,INDULDENT_ADD_ON_MSG:ie,INDULDENT_ADD_ONS_HEADING:ae,CONTINUE:le}=H.a,ne={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:_.G},de=(e,t)=>!!e.length&&e.map((e=>t(e))),re=(e,t,o)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:o}},se=(e,t,o)=>e&&(null===t||void 0===t?void 0:t.length)>0&&Object(I.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:o()}),ce=e=>{const{cardType:t,caroselCount:o,productList:i,settings:a,cardRenderer:l}=e;return Object(I.jsx)(I.Fragment,{children:"carousal"===t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"individual-card-counter",children:[o,"/",i.length]}),Object(I.jsx)(v.b,{settings:a,children:de(i,l)})]}):de(i,l)})},ue=e=>{const{searchMode:t,isMobileView:o,localizationFlow:i,carousal:a,productList:l,cardRenderer:n,caroselCount:d,currentSlide:r,updateCurrentSlide:s,setCaroselCount:O,cardType:m,serviceType:b}=e,j={...ne,nextArrow:Object(I.jsx)(c.a,{clickNextCard:()=>{if(r<l.length-1){let e;e=r+te>l.length-ee-1?l.length-ee:r+te,s(e),a.current.slickGoTo(e)}}}),prevArrow:Object(I.jsx)(u.a,{clickPrevCard:()=>{r>0&&(s(r-te),a.current.slickGoTo(r-te))}}),afterChange:(e,t)=>s(e),beforeChange:(e,t)=>{O(Math.round(t+1))},variableWidth:!1};return Object(I.jsx)(I.Fragment,{children:null!==t&&void 0!==t&&t.isSearchedMode&&!o?Object(I.jsxs)("div",{className:"product-container product-slider-container",children:[i&&Object(I.jsx)(T,{}),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"product-slider",children:Object(I.jsx)(v.b,{settings:j,carousalRef:a,children:de(l,n)})})})]}):Object(I.jsxs)("div",{className:"product-container ".concat(b),children:[i&&Object(I.jsx)(T,{}),ce({cardType:m,caroselCount:d,productList:l,settings:j,cardRenderer:n})]})})};t.a=Object(n.j)((e=>{var t,o,r,c,u,v,p,h,g;const{productList:S=[],cardType:f="",tenantData:C={},categoryId:T,catalogs:R,storeClosedData:W,setShowTopScrollBtn:V,isMobileView:Y,searchMode:z,viewUp:K,isNavigating:q}=e,{VIEW_MENU:J,STORE_TEXT:Q,STORE_CLOSED_TEXT:$,CHANGE:ee,CATERING_STORE_CLOSED_MSG:te}=H.a,{QUANTITY_ACTION:ne}=L.a,{ADD_TO_CART_CLICK:de,PLP_PDP_DETAILS:ce,MINI_PDP_DATA:ve,FROMFLAGPLP:Oe,CLOSED:me,NOT_WITHIN_OPERATING_HOURS:be,STORE_NOT_ALIVE:je,SCHEDULE_ORDER_DATA:pe,DOORDASH_NOT_SERVICEABLE:he,UPDATE_MENU_UPESLL_ADDONS_ID:ge,UPDATE_MENU_UPESLL_ADDONS_CONFIGS:Se}=m.a,{PlpProductCard:Ie={},web:fe={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{showGenericMenuForNonLocalizedUsers:Ne=!1}=null===e||void 0===e?void 0:e.tenantData,{shouldCheckDropOffAddress:Ce=!1}=fe,{RESET_MODGROUP_IDS_UPDATE:Te,UPSELL:Ee}=A.a,{plpWarningMsg:xe=!1}=Ie,[De,ye]=Object(i.useState)(1),Ae=Object(l.b)(),_e=a.a.useRef(null),Re=Object(l.c)((e=>e.cartReducer)),Le=Object(l.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),Pe=Object(l.c)((e=>e.tenantReducer)),{categories:we=[]}=Le||{},{cartData:Me={}}=Object(N.sd)(Re),{discountTotal:ke,couponCode:Fe}=Object(N.zb)(Me),Ue=null===Me||void 0===Me||null===(o=Me.requestedDateTime)||void 0===o?void 0:o.isForNow,He=null===Me||void 0===Me||null===(r=Me.requestedDateTime)||void 0===r?void 0:r.futureDateTime,Be=Object(l.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),We=Object(N.od)(null===Be||void 0===Be?void 0:Be.localized,null===Be||void 0===Be?void 0:Be.loggedIn),[Ge,Ve]=Object(i.useState)(e.selectedCat),[Ye,ze]=Object(i.useState)(!1),{userOrderState:Ke,userOrderStateDispatch:qe}=Object(i.useContext)(j.a),Je=Object(B.a)(Ke),Qe=Object(l.c)((e=>{var t;return(null===(t=e.storesReducer)||void 0===t?void 0:t.storesWithStatus)||[]})),[Xe,Ze]=Object(i.useState)(!1),[$e,et]=Object(i.useState)(null),[tt,ot]=Object(i.useState)(0),[it,at]=Object(i.useState)(null),{headerData:{plpBackgroundImage:lt={},plpEventBackgroundImage:nt={}}={}}=Object(l.c)((e=>{var t;return Object(N.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),{enableUpsellItemsModalInPLP:dt=!1,componentOptions:rt}=Object(l.c)((e=>e.tenantReducer||{})),st=null===rt||void 0===rt||null===(c=rt.plp)||void 0===c?void 0:c.isAddonsAndUpsellEnabled,ct=Object(N.Mb)(null!==(u=null===Je||void 0===Je?void 0:Je.type)&&void 0!==u?u:null===Pe||void 0===Pe||null===(v=Pe.authoredContent)||void 0===v?void 0:v.defaultdisposition),ut=Object(n.h)(),vt=Object(N.Vd)(null===Je||void 0===Je?void 0:Je.type)|(Object(N.Wd)(ut.pathname)&&(null===rt||void 0===rt||null===(p=rt.web)||void 0===p||null===(h=p.plp)||void 0===h?void 0:h.showEventBackgroundImage))?nt:lt,Ot=Object(N.lb)(vt),mt=Object(x.b)(D.b),{specialEventItemAvailability:bt}=Object(l.c)((e=>e.specialEventReducer||{})),[jt,pt]=Object(i.useState)(!1),[ht,gt]=Object(i.useState)({}),[St,It]=Object(i.useState)([]),{menuReducer:{exclusionsResponse:ft=[]}={}}=Object(l.c)((e=>e)),{NA:Nt}=A.a,{ADDONS:Ct}=Z.MENU_PLP_CONSTANT;Object(i.useEffect)((()=>{ze(!1)}));const{addToCartAnalyticsOnly:Tt}=Object(b.a)({cartId:null===Me||void 0===Me?void 0:Me.id},null===C||void 0===C?void 0:C.tenantId,void 0,void 0,we,void 0,Ae,void 0,void 0,C.currencyShortName),Et=(e,t,o,i,a,l,n)=>{null===e||void 0===e||e.stopPropagation(),st&&t&&qe({type:ge,value:t}),at(t);const d=s()(t)?null===t||void 0===t?void 0:t.id:t;if(Be.localized){if(o)Ve(i),qe({type:ve,value:{id:d,flag:Oe,foodLineId:""}}),qe({type:Te}),Ae(Object(O.c)({tenantId:C.tenantId,catalogName:R,itemId:d}));else if(0===a){var r;Ae(Object(E.a)({params:{basketId:null===Re||void 0===Re||null===(r=Re.cartData)||void 0===r?void 0:r.id},tenantId:C.tenantId},[{Id:t,categoryId:T,quantity:a+1,modGrps:[]}],(()=>{st&&qe({type:Se,value:{viewType:Ct}})}))),Ae(Object(E.u)(new Date)),Tt(re(t,l,n),ne.Increase,We,Fe,ke,C.currencyConversionFactor,C.currencyShortName)}else if(a>0){var c;Ae(Object(E.x)({params:{basketId:null===Re||void 0===Re||null===(c=Re.cartData)||void 0===c?void 0:c.id,basketLineItemId:n},tenantId:C.tenantId},{quantity:a+1,isBundle:Object(G.e)(d)})),Ae(Object(E.u)(new Date)),Tt(re(t,l,n),ne.Increase,We,Fe,ke,C.currencyConversionFactor,C.currencyShortName)}}else localStorage.setItem(_.gd.RETAIN_ADDRESS,""),ze(!0),qe({type:de,value:{addToCart:!0,productItemId:t,categoryId:T,oldProduct:l,customizable:o,catalogs:R,fromPdpPage:!1}})};let xt=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{xt&&Ge&&Ke.minipdpData.itemId===xt.id&&Ae(Object(E.v)({showProductListingModal:!0,categorySelected:Ge}))}),[xt]),Object(i.useEffect)((()=>{var e,t;if(null!==(e=xt)&&void 0!==e&&e.id&&null!==ht&&void 0!==ht&&ht.productId&&(null===(t=xt)||void 0===t?void 0:t.id)==(null===ht||void 0===ht?void 0:ht.productId)){var o,i,a,l,n;xt={...xt,dname:null===ht||void 0===ht||null===(o=ht.productInfo)||void 0===o?void 0:o.productName};const e=null===(i=xt)||void 0===i||null===(a=i.recommendationRules)||void 0===a?void 0:a.filter((e=>(null===e||void 0===e?void 0:e.recommendationType)===Ee)),t=((e,t,o)=>{let i=[];return null===e||void 0===e||e.forEach((e=>{null!==t&&void 0!==t&&t.some((t=>(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.id)))||i.push(e)})),i})(null===e||void 0===e||null===(l=e[0])||void 0===l||null===(n=l.recommendedItems)||void 0===n?void 0:n.filter((e=>{var t;return(null===Me||void 0===Me||null===(t=Me.foodLines)||void 0===t?void 0:t.findIndex((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.id)})))<0})),ft);(null===t||void 0===t?void 0:t.length)>0?(It([xt,...t]),pt(!0)):_t(ht)}}),[null===(g=xt)||void 0===g?void 0:g.id,null===ht||void 0===ht?void 0:ht.productId]);const Dt=Object(N.b)(localStorage.getItem(_.kb)),yt=(e,t,o,i,a)=>{if(xe){var l,n,d;const r=Object(N.C)([Dt],ct,null,Ce,null===mt||void 0===mt?void 0:mt.latLong),s={storeid:null===(l=r[0])||void 0===l?void 0:l.storeId,service:null===(n=r[0])||void 0===n?void 0:n.service,channel:null===(d=r[0])||void 0===d?void 0:d.channel},c=(e=>{let{isForNow:t,futureDateTime:o,payload:i}=e;return t?i:{...i,futureDateTimeInEpochFormat:o}})({isForNow:Ue,futureDateTime:He,payload:s});(e=>{const{e:t,userParams:o,dispatch:i,finalPayload:a,tenantData:l,productId:n,customizable:d,catId:r,productInfo:s,currentStoreInfo:c,serviceType:u,shouldCheckDropOffAddress:v,onCardClickHandler:O,latLong:m}=e;o.localized?i(Object(P.n)({data:a,tenantId:null===l||void 0===l?void 0:l.tenantId},(e=>O({e:t,productId:n,customizable:d,catId:r,productInfo:s,storesWithStatus:e})))):i(Object(P.d)({data:Object(N.C)([c],u,null,v,m),tenantId:null===l||void 0===l?void 0:l.tenantId},(e=>O({e:t,productId:n,customizable:d,catId:r,productInfo:s,storesWithStatus:e}))))})({e:e,userParams:Be,dispatch:Ae,finalPayload:c,tenantData:C,productId:t,customizable:o,catId:i,productInfo:a,currentStoreInfo:Dt,serviceType:ct,shouldCheckDropOffAddress:Ce,onCardClickHandler:At,latLong:null===mt||void 0===mt?void 0:mt.latLong})}else At({e:e,productId:t,customizable:o,catId:i,productInfo:a,storesWithStatus:Qe})},At=e=>{var t,o,i;let{e:a,productId:l,customizable:n,category_id:d,productInfo:r,storesWithStatus:s}=e;a.preventDefault(),a.stopPropagation();if((null===Ke||void 0===Ke||null===(t=Ke.timeBasedCetegory)||void 0===t?void 0:t.isTimeExpired)&&Object(y.c)({categoryUrl:null===r||void 0===r?void 0:r.categoryURL[0],itemInCart:null===Ke||void 0===Ke||null===(o=Ke.timeBasedCetegory)||void 0===o?void 0:o.timebasedItemInCart,alertType:Object(y.j)(null===Ke||void 0===Ke||null===(i=Ke.timeBasedCetegory)||void 0===i?void 0:i.timebasedItemInCart,null===_.Sb||void 0===_.Sb?void 0:_.Sb.ITEM)},null===Ke||void 0===Ke?void 0:Ke.timeBasedCetegory,qe))return;if(xe){var c,u;const e=s.find((e=>Object(N.jb)((null===e||void 0===e?void 0:e.storeId)===(null===Dt||void 0===Dt?void 0:Dt.id),(null===e||void 0===e?void 0:e.id)===(null===Dt||void 0===Dt?void 0:Dt.id)))),{summary:t={}}=Object(N.sd)(e),{status:o={}}=Object(N.sd)(t),{currentStatus:i="",message:a=""}=Object(N.sd)(o),l=(null===Dt||void 0===Dt||null===(c=Dt.summary)||void 0===c?void 0:c.orderingAttribute)&&!Object(N.Fd)(Dt)&&Ue&&(null===Re||void 0===Re||null===(u=Re.cartData)||void 0===u?void 0:u.service)===_.yb;if(i===me||l)return Ze(!0),void et(Object(N.ad)(Object(N.l)(a!==be,a!==je,Object(N.ad)(a.includes(he),he,"")!==he),a,null))}let v={productId:l,customizable:n,category_id:d,catalogName:R,productInfo:r,isFromPlp:!0};if(dt){const e=()=>{gt(v)};Ae(Object(O.c)({tenantId:null===C||void 0===C?void 0:C.tenantId,catalogName:R,itemId:l},e))}else _t(v)},_t=t=>{var o,i;qe({type:ce,value:t}),localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(N.xc)(null===t||void 0===t?void 0:t.productInfo.categoryURL,null===t||void 0===t?void 0:t.productInfo.prodURL,null===(o=e.history)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.pathname)})},Rt=(e,t,o)=>{Ae(Object(O.a)({tenantId:e,customerId:o},t))},Lt=(e,t,o)=>{Ae(Object(O.b)({tenantId:e,customerId:t,itemId:o}))},Pt=Object(N.ad)(Xe,Object(I.jsx)(M.a,{handleClose:()=>Ze(!1),classNames:"plp-warning-msg plp-page-model",CartAlertForm:Object(I.jsx)(k.a,{title:"".concat(Object(F.translateWithI18Next)($)),contentMsg:"".concat(Object(F.translateWithI18Next)(te)),imageSrc:U.a.LocationWithoutError,confirmButtonText:"".concat(Object(F.translateWithI18Next)(ee)," ").concat(Object(F.translateWithI18Next)(Q)),confirmHandler:()=>{qe({type:pe,value:{showScheduleOrderCatering:!0,selectedStoreInfo:localStorage.getItem(_.gd.STORE_INFO),changeFlow:!0}}),Ze(!1)},cancelHandler:()=>Ze(!1),cancelButtonText:Object(F.translateWithI18Next)(J)})}),null),wt=Object(I.jsx)(w.a,{handleClose:()=>Ze(!1),showAlert:Xe,onClickBtnHandler:()=>{Ze(!1),Object(N.Gf)(qe,localStorage.getItem(_.gd.RETAIN_ADDRESS))},stoerName:null===W||void 0===W?void 0:W.storeName,storeClosedMsg:$e,contentMsg:_.K});return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ue,{searchMode:z,isMobileView:Y,localizationFlow:Ye,carousal:_e,productList:S,cardRenderer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t],dname:o,url:i,content:a}=e,l=Object(N.ve)(t.additionalProperties);let n=((e,t)=>""!==e?e:t.category_id)(T,e),r=!0,s=null;if(bt&&(null===Je||void 0===Je?void 0:Je.type)===_.Cf){const t=bt.find((t=>t.id===e.id));s=null===t||void 0===t?void 0:t.nextAvailable,r=null===t||void 0===t?void 0:t.available}return Object(I.jsx)(d.a,{item:t,activeId:it,cardId:t.id,cardType:f,configureOptions:{...Ie,showGenericMenuForNonLocalizedUsers:Ne},tenantData:C,servingCount:l.servings,button:e.button,categoryId:n,clickHandler:Et,customizable:t.customizable,onCardClickHandler:yt,userParams:Be,storeClosedData:W,addFavourite:Rt,removeFavourite:Lt,setShowTopScrollBtn:V,"data-testid":"menu-card-component",dName:o,prodURL:i,productContent:a,plpbackgroundImageData:Ot,...l,...t,nextAvailableTime:s,isAvailable:r,viewUp:K,dispositionNew:Je,isNavigating:q},t.id)},caroselCount:De,currentSlide:tt,updateCurrentSlide:ot,setCaroselCount:ye,cardType:f,serviceType:ct}),Object(N.ad)(Object(N.Hd)(null===Je||void 0===Je?void 0:Je.type),Pt,wt),se(jt,St,(()=>Object(I.jsx)(X,{isMobile:!1,openIndulgentModal:!0,handleClose:()=>(pt(!1),void gt({})),removeItemCart:!1,IndulgentData:St,modalTitle:ae,continueButtonText:le,toastMassage:ie,"data-testid":"indulgetAddon-modal",addToCart:oe,history:null===e||void 0===e?void 0:e.history})))]})}))},1244:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var i=o(3),a=o(28),l=o(1);var n=o(5),d=o(24),r=o(15),s=o(2);const c=e=>{const{smartBannerData:t,showBanner:o}=Object(a.c)((e=>{var t,o,i;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(o=t.response)||void 0===o?void 0:o.smartBanner)||null,showBanner:(null===e||void 0===e||null===(i=e.splashLoaderReducer)||void 0===i?void 0:i.showSmartBanner)||null}})),{BannerCloseButton:c}=r.a,{bannerImage:u={}}=t||{},[v,O]=Object(i.useState)(Object(n.de)(window.innerWidth)),m=Object(a.b)(),b=()=>{const e=Object(n.de)(window.innerWidth);O(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",b)}),[v]);const j=()=>{var e;m((e=!1,{type:l.Ol,showSmartBanner:e}))};return v?(()=>{var e,i,a;return Object(s.jsx)(s.Fragment,{children:o&&d.b.isBrowser&&Object(n.Td)(u)&&Object(s.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(s.jsx)("img",{src:c,alt:"closeButton",className:"close-button",onClick:j,"data-testid":"close-banner"}),Object(s.jsx)("img",{src:null===u||void 0===u||null===(e=u.fields)||void 0===e||null===(i=e.file)||void 0===i?void 0:i.url,alt:null===u||void 0===u||null===(a=u.fields)||void 0===a?void 0:a.title,className:"banner-image",useMap:"#areaClickable"}),Object(s.jsx)("map",{name:"areaClickable",children:Object(s.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===t||void 0===t?void 0:t.url,"data-testid":"install-button",alt:"Install Button"})})]})})})():null}},1246:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(395),n=o(5),d=o(28),r=o(46),s=o(6),c=o(87),u=o(4),v=o(2);const{DISCARD_BUTTON_TEXT:O,CONFIRM_BUTTON_TEXT:m,INFO_TEXT:b,UNAVAILABLE_CONTENT_TEXT:j,UNAVAILABLE_CONTENT_MAIN:p,UNAVAILABLE_CART_QUERY:h,PRICE_CONTENT_TEXT:g,PRICE_CONTENT_MAIN:S,PRICE_CONTENT_QUERY:I,BOTH_CHANGE_TEXT:f,BOTH_CHANGE_MAIN:N,BOTH_CHANGE_QUERY:C}=u.a,T=(e,t,o)=>"unavailables"===e?t:o,E=(e,t,o)=>"priceChanges"===e&&Object(v.jsxs)("span",{className:"old-price",children:[o.currencySymbol,t]}),x=e=>"".concat(e&&"default-selected"," button whiteButton order-type-button"),D=e=>"".concat(e&&"default-selected"," button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),y=(e,t,o)=>!e.length&&t.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(s.translateWithI18Next)(o.PRICE_CONTENT_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(s.translateWithI18Next)(o.PRICE_CONTENT_MAIN)})," ",Object(s.translateWithI18Next)(o.PRICE_CONTENT_QUERY)]}):null,A=(e,t,o)=>e.length&&t.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(s.translateWithI18Next)(o.BOTH_CHANGE_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(s.translateWithI18Next)(o.BOTH_CHANGE_MAIN)})," ",Object(s.translateWithI18Next)(o.BOTH_CHANGE_QUERY)]}):null,_=(e,t)=>e.length&&t?Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:Object(s.translateWithI18Next)(t)})}):null;t.a=e=>{const{onCartStatesMethodSubmit:t,setRef:o=null,unavailableItems:R,priceChangedItems:L}=e,P=!1,[w,M]=Object(i.useState)(Object(n.de)(window.innerWidth)),k=Object(d.c)((e=>e.tenantReducer)),F=()=>{const e=Object(n.de)(window.innerWidth);M(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",F)}),[w]);const U=(e,t,o)=>{const{newFoodLineItem:i,cartPrice:a,menuPrice:l}=e,{item:d}=i,{dname:s,imageName:c}=d;return Object(v.jsx)("div",{className:"cart-card-row","data-testid":(u=o,"unavailables"===u?"unavailable-items":"priceChanged-items"),children:Object(v.jsxs)("div",{className:"cart-card d-flex",children:[Object(v.jsx)(r.a,{className:"cart-card-image",defaultPath:Object(n.bc)(null,k,!0),srcFile:Object(n.bc)(c,k)}),Object(v.jsxs)("div",{className:"cart-card-name",id:t,tabIndex:"0",children:[Object(v.jsx)("div",{className:"cart-item-dname",children:s[0].value}),Object(v.jsxs)("div",{className:"cart-item-price",children:[k.currencySymbol,T(o,a,l)]}),E(o,a,k)]})]})},t);var u},H=Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(l.a,{"data-testid":"cartstate-button-comp",className:x(P),onClickHandler:e=>{t(e,O)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(O),children:Object(s.translateWithI18Next)(O)},O),Object(v.jsx)(l.a,{"data-testid":"cartstate-button-comp",className:D(P),onClickHandler:e=>{t(e,m)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(s.translateWithI18Next)(m)),children:Object(s.translateWithI18Next)(m)},m)]}),B=Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(l.a,{"data-testid":"cartstate-button-comp",className:D(P),onClickHandler:e=>{t(e,m)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(s.translateWithI18Next)(m)),children:Object(s.translateWithI18Next)(m)},m),Object(v.jsx)(l.a,{"data-testid":"cartstate-button-comp",className:x(P),onClickHandler:e=>{t(e,O)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(s.translateWithI18Next)(O)),children:Object(s.translateWithI18Next)(O)},O)]});return Object(i.useEffect)((()=>{R.length&&!L.length?Object(c.c)({popupTitle:[Object(s.translateWithI18Next)(j),Object(s.translateWithI18Next)(p),Object(s.translateWithI18Next)(h)].join(" ")}):!R.length&&L.length?Object(c.c)({popupTitle:[Object(s.translateWithI18Next)(g),Object(s.translateWithI18Next)(S),Object(s.translateWithI18Next)(I)].join(" ")}):R.length&&L.length&&Object(c.c)({popupTitle:[Object(s.translateWithI18Next)(f),Object(s.translateWithI18Next)(N),Object(s.translateWithI18Next)(C)].join(" ")})}),[R,L]),Object(v.jsx)(a.a.Fragment,{children:Object(v.jsxs)("div",{ref:o,className:"cart-module-form","data-testid":"cart-modal-component",children:[(W=R,G=L,V=u.a,W.length&&!G.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(s.translateWithI18Next)(V.UNAVAILABLE_CONTENT_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(s.translateWithI18Next)(V.UNAVAILABLE_CONTENT_MAIN)})," ",Object(s.translateWithI18Next)(V.UNAVAILABLE_CART_QUERY)]}):null),y(R,L,u.a),A(R,L,u.a),_(L,b),R&&R.length?Object(v.jsx)(a.a.Fragment,{children:R.map(((e,t)=>U(e,t,"unavailables")))}):null,L&&L.length?Object(v.jsx)(a.a.Fragment,{children:L.map(((e,t)=>U(e,t,"priceChanges")))}):null,Object(v.jsx)("form",{className:"form",onSubmit:t,"data-testid":"form-component",children:Object(v.jsxs)("section",{className:"form__section",children:[Object(v.jsx)("div",{className:"order-button-section",children:w?B:H}),Object(v.jsx)("div",{className:"clearfix"})]})})]})});var W,G,V}},1247:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(144),n=o(2);t.a=e=>{const{handleClose:t,CartStatesModuleForm:o,modalTitleId:i=""}=e;return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(l.a,{id:"CartStatesModulePopup",role:"dialog",modalTitleId:i,show:!0,classNames:"cart-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,autoFocus:!0,children:o})})}},1251:function(e,t,o){"use strict";o.d(t,"d",(function(){return S})),o.d(t,"c",(function(){return I})),o.d(t,"a",(function(){return N})),o.d(t,"b",(function(){return C})),o.d(t,"e",(function(){return T})),o.d(t,"f",(function(){return x}));var i=o(6),a=o(106),l=o(92),n=o(5),d=(o(3),o(1243)),r=o(2);var s=e=>Object(n.T)(e.subCategory).map(((t,o)=>{let{categories:i="",products:a=[],id:l="",dname:n}=t;return Object(r.jsxs)("div",{id:l,children:[Object(r.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(r.jsx)("div",{children:n[0].value}),i]}),Object(r.jsx)(d.a,{productList:a,cardType:e.cardType,tenantData:e.tenantData,categoryId:l,catalogs:e.catalogs,storeClosedData:e.storeClosedData,specialEventItemAvailability:e.specialEventItemAvailability})]},o)})),c=o(20),u=o.n(c),v=o(211),O=o(41),m=o(146),b=o(15);const j=null===n.ee||void 0===n.ee?void 0:Object(n.ee)(window.innerWidth),{CARD_TYPE:{CAROUSAL:p,MEDIUM:h}}=v.MENU_PLP_CONSTANT,{CartError:g}=b.a,S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0},I=(e,t,o)=>!u()(e)&&e.map(((e,i)=>{var a;let{id:l="",isHidden:n=!1,dname:d="",url:s,categories:c=[]}=e;return Object(r.jsx)("ul",{className:"inner-ul nested",children:!n&&Object(r.jsxs)("li",{children:[Object(r.jsx)(m.Link,{"data-testid":"subcategory-click-test",className:"".concat(S(c)?"caret":""),onClick:e=>{var t;return o(e,null===(t=d[0])||void 0===t?void 0:t.value,s,i)},to:l,spy:!0,smooth:!0,onSetActive:t,activeClass:"".concat(0===i?"active":""),children:null===(a=d[0])||void 0===a?void 0:a.value}),c&&c.length>0&&I(c)]})})})),f=(e,t)=>{e(!1),t.push({pathname:"/menu"})},N=(e,t,o,d,s,c,u)=>{const O={CLEAR_ALL_MSG:{MSGTXT1:"".concat(Object(i.translateWithI18Next)(v.SORRY_THIS_FOOD)," ").concat(Object(i.translateWithI18Next)(e)," ").concat(Object(i.translateWithI18Next)(v.IS)," "),MSGTXT2:Object(i.translateWithI18Next)(v.NOT_AVAILABLE),MSGTXT3:Object(n.ad)(null===t||void 0===t?void 0:t.type,"".concat(Object(i.translateWithI18Next)(v.FOR)," ").concat(Object(i.translateWithI18Next)(o)),"")},CONTINUE:"continue"};return Object(n.hb)(d,!(null!==s&&void 0!==s&&s.isStoreClosed))&&Object(r.jsx)(a.a,{handleClose:()=>f(c,u),classNames:"clear-cart-modal",CartAlertForm:Object(r.jsx)(l.a,{splitTitle:O.CLEAR_ALL_MSG,imageSrc:g,altText:"cart-error",confirmButtonText:Object(i.translateWithI18Next)(null===O||void 0===O?void 0:O.CONTINUE),confirmHandler:()=>f(c,u)})})},C=e=>Object(n.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew,T=e=>{let{productsList:t,cardId:o,cType:i,tenantData:a,catalogs:l,storeClosedData:n,selectedCat:c,getCardCount:u,subCategories:v,specialEventItemAvailability:O,viewUp:m,isNavigating:b}=e;return null!==v&&void 0!==v&&v.length?Object(r.jsx)(s,{subCategory:v,cardType:i,tenantData:a,catalogs:l,storeClosedData:n,specialEventItemAvailability:O}):Object(r.jsx)(d.a,{productList:t,cardType:i,tenantData:a,categoryId:o,catalogs:l,selectedCat:c,storeClosedData:n,cardCount:u,specialEventItemAvailability:O,viewUp:m,isNavigating:b})},E=(e,t,o,i,a,l,n,s)=>Object(r.jsx)(d.a,{productList:e,cardType:l,tenantData:t,categoryId:n,catalogs:o,storeClosedData:i,cardCount:a,isMobileView:j,searchMode:s}),x=(e,t,o,a,l,n,d,s,c,u)=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:j?"no-mob-search-found-plp":"no-search-found-plp",children:[Object(r.jsx)("span",{children:Object(i.translateWithI18Next)(v.YOUR_SEARCH_TEXT)}),Object(r.jsx)("span",{className:"no-search-found-text-highlighted",children:" \u201c".concat(e.searchedData,"\u201d ")}),Object(r.jsx)("p",{children:Object(i.translateWithI18Next)(v.TURNED_NO_RESULTS_TEXT)}),Object(r.jsx)(O.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:t,children:Object(i.translateWithI18Next)(v.BACK_TO_MENU)})]}),Object(r.jsx)("div",{className:"horizontalLineBorder-noData"}),!(null===o||void 0===o||!o.length)&&(j?Object(r.jsxs)("div",{className:"carousal-menu-container",children:[Object(r.jsx)("div",{className:"d-flex position-relative",children:Object(r.jsx)("div",{className:"carousal-header",children:Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),E(o,a,l,n,u,p,v.CATEGORY_ID)]}):Object(r.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(r.jsx)("div",{className:"mob-plp-col mb-4",children:Object(r.jsxs)("div",{className:"recommended-menu-container recommended-menu-container-sopac medium-menu-container",children:[Object(r.jsx)("div",{className:"d-flex position-relative",children:Object(r.jsx)("div",{className:"carousal-header",children:Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),E(o,a,l,n,"",h,v.CATEGORY_ID,e)]})})})),Object(r.jsx)("div",{className:"horizontalLineBorder-noData-forMobile"})]})},1268:function(e,t,o){e.exports={option:"Option_option__1S_nM",dark:"Option_dark__2ZNrn",light:"Option_light__15g6S"}},1269:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(603),n=o(15),d=o(46),r=o(1270),s=o.n(r),c=o(2);const{ChevronUp:u,ChevronDown:v}=n.a,O=e=>{let{options:t,onOptionClick:o,label:n,disabled:r,value:O,placeholder:m,dropdownId:b,theme:j="dark"}=e;const[p,h]=Object(i.useState)(!1),g=Object(i.useMemo)((()=>p||O.key?s.a.onTop:O.key||m?"":s.a.asPlaceholder),[m,p,O]),S=Object(i.useMemo)((()=>p||O.key?s.a.selected:""),[p,O]);Object(i.useEffect)((()=>{const e=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const t=null===e||void 0===e?void 0:e.target;null!==t&&void 0!==t&&t.matches("#".concat(b))||null!==t&&void 0!==t&&t.closest("#".concat(b))||h(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[b]);return Object(c.jsxs)("div",{style:{color:r?"grey":""},className:Object(l.b)("".concat(s.a.dropdown," ").concat(s.a[j]," ").concat(S)),id:b,children:[n&&Object(c.jsx)("label",{className:g,children:n}),Object(c.jsxs)("div",{onClick:()=>r?"":h(!p),className:s.a.dropdownInput,"data-testid":"dropdown-selected-value",children:[Object(c.jsx)("span",{children:O.key||m}),p?Object(c.jsx)(d.a,{className:s.a.icon,srcFile:u}):Object(c.jsx)(d.a,{className:s.a.icon,srcFile:v})]}),!(null===t||void 0===t||!t.length)&&p&&Object(c.jsx)("div",{className:s.a.options,children:t.map((e=>Object(c.jsx)("div",{children:a.a.cloneElement(e.element,{onClick:()=>(e=>{r||(h(!p),o(e))})(e.value),theme:j})},e.value.key)))})]})};O.Option=Option,t.a=O},1270:function(e,t,o){e.exports={dropdown:"Select_dropdown__3LQLO",dropdownInput:"Select_dropdownInput__d7vjD",asPlaceholder:"Select_asPlaceholder__3Hwrv",onTop:"Select_onTop__vvmiD",options:"Select_options__32bi1",icon:"Select_icon__2qeoI",dark:"Select_dark__2dxKT",light:"Select_light__1q9vB",selected:"Select_selected__1y3TN"}},1281:function(e,t,o){"use strict";var i=o(3),a=o.n(i),l=o(2);t.a=e=>{const{ariaLable:t,className:o="",variant:n="secondary",onClickHandler:d,onKeyDownHandler:r,specialEventItemAvailability:s,cartData:c,availableSlots:u,itemMapById:v,setDisplayMagicButton:O,displayMagicButton:m,setUnavailableData:b,...j}=e,[p,h]=Object(i.useState)([]);Object(i.useEffect)((()=>{var e;if((null===c||void 0===c||null===(e=c.foodLines)||void 0===e?void 0:e.length)>0&&v&&s){var t;const e=null===c||void 0===c||null===(t=c.foodLines)||void 0===t?void 0:t.reduce(((e,t)=>(v[t.item.id]&&(e[t.item.id]=v[t.item.id]),e)),{}),o=e&&Object.values(e).map((e=>e.parentID)),i=s.filter((e=>o.includes(e.id))).filter((e=>""!==e.nextAvailable));b&&b(i),h(i),O(g(i,c,u))}}),[null===c||void 0===c?void 0:c.foodLines,s]),Object(i.useEffect)((()=>{O(g(p,c,u))}),[p,c,u]);const g=(e,t,o)=>{var i;return!!(null!==e&&void 0!==e&&e.length&&null!==t&&void 0!==t&&null!==(i=t.foodLines)&&void 0!==i&&i.length&&o)};return Object(l.jsx)(a.a.Fragment,{children:m&&Object(l.jsx)("button",{className:"button-contained ".concat(o),type:"button","data-type":n,onClick:d,onKeyDown:r,"data-testid":"magic-button",...j,children:e.children})})}},1282:function(e,t,o){"use strict";var i=o(3),a=o(146),l=o(46),n=o(15),d=o(2);t.a=e=>{const{showThreshold:t=300}=e,{GoTop:o}=n.a,[r,s]=Object(i.useState)(!1),[c,u]=Object(i.useState)(0);return Object(i.useEffect)((()=>{const e=()=>{let e=document.documentElement.scrollTop;s(!(e<t)),u(e<=0?0:e)};return a.scroller.scrollTo("root",{duration:1500,delay:100,smooth:!0,containerId:"root"}),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[c]),r&&Object(d.jsx)(a.Link,{className:"backToTop show",to:"root",spy:!0,smooth:!0,activeClass:"active",children:Object(d.jsx)(l.a,{srcFile:o,className:"back-to-top-icon",alt:"back-to-top"})})}},1284:function(e,t,o){"use strict";var i=o(6),a=o(3),l=o(0),n=o(5),d=o(85);var r=()=>{const{userOrderState:e}=Object(a.useContext)(d.a);return{currentStoreInfoData:Object(a.useMemo)((()=>{const t=Object(n.ad)(Object(n.Sd)(e.currentStoreInfo),Object(n.b)(localStorage.getItem(l.gd.CURRENT_STORE_INFO_STORAGE)),e.currentStoreInfo);return null!==t&&void 0!==t&&t.id?t:{...t,id:null===t||void 0===t?void 0:t.storeId}}),[e.currentStoreInfo])}},s=o(263),c=o(41),u=o(1297),v=o.n(u),O=o(15);const m={key:"",timeSlot:"",isProductCapacityAvailable:!1,isOrderCapacityAvailable:!1,availableProductCount:0,requestedProductCount:0};let b=function(e){return e.SUCCESS="SUCCESS",e.PARTIAL_SUCCESS="PARTIAL SUCCESS",e.ERROR="",e}({});var j=o(2);var p=e=>{let{children:t,type:o}=e;const i={[b.SUCCESS]:{backgroundColor:"#E6F3E6",iconPath:null===O.a||void 0===O.a?void 0:O.a.GreenCheck},[b.PARTIAL_SUCCESS]:{backgroundColor:"#FFF6E3",iconPath:null===O.a||void 0===O.a?void 0:O.a.Error_Yellow},[b.ERROR]:{backgroundColor:"#FEE",iconPath:null===O.a||void 0===O.a?void 0:O.a.Error_Red}},l=Object(a.useRef)(null),n=Object(a.useRef)(null);return Object(a.useEffect)((()=>{const e=l.current,t=n.current;if(e&&t){const o=parseInt(window.getComputedStyle(e).lineHeight,10);e.offsetHeight/o>1?(t.style.alignSelf="flex-start",t.style.marginTop=".3rem"):t.style.alignSelf="center"}}),[t]),Object(j.jsxs)("div",{style:{backgroundColor:i[o].backgroundColor},className:v.a.notification,children:[Object(j.jsx)("img",{ref:n,className:v.a.icon,src:i[o].iconPath,alt:"notification-status-icon"}),Object(j.jsx)("div",{ref:l,className:v.a.content,children:t})]})},h=o(1269),g=o(429),S=o(133),I=o(16),f=(o(1240),o(73)),N=o(12),C=o(1107),T=o(28),E=o(1140),x=o(62);var D=e=>{let{selectedDate:t,selectedTime:o}=e;const{dispositionNew:i}=Object(C.a)(),{userOrderStateDispatch:n}=Object(a.useContext)(d.a),{fetchEventItemAvailabilityForDisposition:s}=Object(E.a)(),{cartData:c}=Object(T.c)((e=>e.cartReducer))||{},{tenantId:u}=Object(T.c)((e=>e.tenantReducer))||{},v=Object(T.b)(),O=Object(x.g)(),m=Object(N.C)(t.epochTime,l.sb.YYYY_MM_DD),b=Object(N.V)(o.key),j=Object(N.A)(m+" "+b,"YYYY-MM-DD hh:mm"),p=Object(N.C)(j,l.sb.h_mm_A),{currentStoreInfoData:h}=r();return{handleSetTime:Object(a.useCallback)((()=>{const e={...i,epochTime:j,selectedTime:p,time:p,date:m};n({type:null===I.a||void 0===I.a?void 0:I.a.SET_DISPOSITION_NEW,value:{dispositionNew:e}}),localStorage.setItem("dispositionNew",JSON.stringify(e)),s({date:m,storeId:h.id,time:p}),v(Object(f.q)({params:{basketId:null===c||void 0===c?void 0:c.id},tenantId:u,postBody:{isForNow:!1,futureDateTime:j},orderReadyDateTimeUpdateSuccessCallback:()=>{O.push("/cart")},orderReadyDateTimeUpdateErrorCallback:()=>{throw Error("Error updating order ready date time")}}))}),[i,j,p,m,n,s,h.id,v,null===c||void 0===c?void 0:c.id,u,O])}},y=o(57),A=o(1238);var _=e=>e.map((e=>({value:e,element:Object(j.jsx)(A.a,{children:e.key})}))),R=o(43),L=o(1156),P=o(4);const w=e=>{const t=Object(N.v)(e,l.Tf),o=Object(N.h)(e,"MMMM D").split(" ");return"".concat(Object(i.translateWithI18Next)(o[0])," ").concat(o[1]).concat(Object(i.translateWithI18Next)(P.a.DAY)," ").concat(Object(i.translateWithI18Next)(null===l.ub||void 0===l.ub?void 0:l.ub[t]))};var M=()=>{var e,t,o;const i=Object(T.c)((e=>e.tenantReducer)),l=Object(T.c)((e=>e.storesReducer)),{currentStoreInfoData:n}=r(),d={...l.store},s=(null===i||void 0===i?void 0:i.orderServDateFormat)||"",c=(null===i||void 0===i||null===(e=i.componentOptions)||void 0===e||null===(t=e.app)||void 0===t||null===(o=t.scheduledDelivery)||void 0===o?void 0:o.dateFormat)||"DD/MM/YYYY",[u,v]=Object(a.useState)([]),{data:O,error:m}=Object(L.h)(),b=Object(T.b)();return Object(a.useEffect)((()=>{if(O&&!m&&d.id){const e=k(O,c);v(_(e))}}),[O,m,d.id,c,s]),Object(a.useEffect)((()=>{const e=[{disposition:{}},{store:n},{fulfillment:{}},{geolocationResult:{}}];b(Object(f.y)(e))}),[n,b]),{dateOptions:u}};const k=(e,t)=>{const o=null===e||void 0===e?void 0:e.response,a=new Date,l="".concat(a.getFullYear().toString().padStart(4,"0")).concat((a.getMonth()+1).toString().padStart(2,"0")).concat(a.getDate().toString().padStart(2,"0"));return Object.keys(o).filter((e=>e>=l)).map((e=>y.a.format({date:e,time:"",dateFormat:"YYYYMMDD",timeFormat:"",outPutFormat:t}))).map(((e,t)=>{var a,l;return{key:w(e)+"".concat(Object(i.translateWithI18Next)(null===R.a||void 0===R.a?void 0:R.a.AVAILABLE)," ").concat(Object(i.translateWithI18Next)(null===(a=o[Object.keys(o)[t]])||void 0===a||null===(l=a.availability)||void 0===l?void 0:l.toLowerCase())),epochTime:Object(N.A)(e)}}))};var F=e=>{var t;let{data:o,selectedTime:a}=e;if(null!==o&&void 0!==o&&o.closestTime)return{type:b.SUCCESS,text:"".concat(Object(N.V)(null===o||void 0===o?void 0:o.closestTime)," ").concat(Object(i.translateWithI18Next)("newTimeFound"))};const l=null===o||void 0===o||null===(t=o.availableSlots)||void 0===t?void 0:t.find((e=>e.timeSlot===a));return l&&l.availableProductCount<l.requestedProductCount&&l.availableProductCount>=1?{type:b.PARTIAL_SUCCESS,text:Object(i.translateWithI18Next)("partialListAvailable")}:l&&l.availableProductCount===l.requestedProductCount?{type:b.SUCCESS,text:Object(i.translateWithI18Next)("newTimeFound")}:(l&&l.availableProductCount,{type:b.ERROR,text:Object(i.translateWithI18Next)("noListAvailable")})};var U=e=>e.map((e=>{const{key:t,isOrderCapacityAvailable:o,availableProductCount:a,requestedProductCount:l}=e;return{value:e,element:(()=>{if(a===l){const e="".concat(t," (").concat(Object(i.translateWithI18Next)("allItemsAvailable"),")");return Object(j.jsx)(A.a,{children:e})}if(a<l&&a>=1)return Object(j.jsx)(A.a,{children:t});if(0===a){const e="".concat(t," (").concat(Object(i.translateWithI18Next)("noItemsAvailable"),")");return Object(j.jsx)(A.a,{disabled:!0,children:e})}if(!o){const e="".concat(t," (").concat(Object(i.translateWithI18Next)("outOfStock"),")");return Object(j.jsx)(A.a,{disabled:!0,children:e})}})()}}));var H=()=>{var e,t,o,i;const{dispositionNew:l}=Object(C.a)(),n=Object(T.c)((e=>e.storesReducer)),d=(null===n||void 0===n||null===(e=n.storesWithStatus[0])||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.timings)||void 0===o?void 0:o.futureDates)||[],[r,s]=Object(a.useState)({epochTime:l.epochTime,key:w(l.date)}),[c,u]=Object(a.useState)({...m,key:Object(N.Y)(l.time)}),[v,O]=Object(a.useState)(null),[j,p]=Object(a.useState)([]),[h,g]=Object(a.useState)([]),[S,I]=Object(a.useState)(!0),[f,E]=Object(a.useState)(null),{isFetching:x,data:D,error:y,refetch:A}=Object(L.j)(Object(N.A)((null===l||void 0===l?void 0:l.date)+" "+(null===c||void 0===c?void 0:c.key),"YYYY_MM_DD_hh_mm")),_=Object(a.useCallback)((()=>{f?u(f):O({type:b.ERROR,text:"No items available"})}),[f]),R=Object(a.useCallback)((()=>{A(),I(!1)}),[A]);return Object(a.useEffect)((()=>{if(null!==D&&void 0!==D&&D.response){const{response:e}=D;if(null!==e&&void 0!==e&&e.availableSlots){const t=(()=>{const e=new Date;return e.getHours().toString().padStart(2,"0")+e.getMinutes().toString().padStart(2,"0")})(),o=null===r||void 0===r?void 0:r.epochTime,i=new Date(1e3*o),a=new Date,l=i.toDateString()===a.toDateString(),n=null===e||void 0===e?void 0:e.availableSlots.map((e=>({...e,key:Object(N.V)(e.timeSlot)}))).filter((e=>l?e.timeSlot>=t:e.timeSlot));p(n),g(U(n));const d=n.find((e=>e.requestedProductCount<=e.availableProductCount||e.availableProductCount>=1&&e.availableProductCount<e.requestedProductCount));d&&E(d),c&&(null===c||void 0===c?void 0:c.key)<(null===d||void 0===d?void 0:d.key)&&u(d)}}}),[D,r]),Object(a.useEffect)((()=>{var e,t;if(!S&&!x)if((null===D||void 0===D||null===(e=D.response)||void 0===e?void 0:e.closestTime)!==c&&O(F({data:null===D||void 0===D?void 0:D.response,selectedTime:c.timeSlot})),null!==D&&void 0!==D&&null!==(t=D.response)&&void 0!==t&&t.closestTime&&!x){var o;const e=String(null===D||void 0===D||null===(o=D.response)||void 0===o?void 0:o.closestTime),t=j.find((t=>t.timeSlot===e));t&&u(t)}else _()}),[_,r,x,null===D||void 0===D||null===(i=D.response)||void 0===i?void 0:i.closestTime,j,null===D||void 0===D?void 0:D.response,c,S]),{selectedDate:r,setSelectedDate:s,selectedTime:c,setSelectedTime:u,notification:v,isFetching:x,data:D,error:y,refetch:A,futureDates:d,timeOptions:h,setSkipRecheck:I,handleSetSelectedTime:e=>{O(null),I(!0),u(e)},handleSetSelectedDate:e=>{O(null),s(e),I(!0)},handleOnFindAgainClick:R}};var B=()=>Object(j.jsx)("div",{style:{borderBottom:"1px solid #DEE2E6"}}),W=o(1298),G=o.n(W);t.a=e=>{var t,o;let{visibility:l,setVisibility:n}=e;const{selectedDate:u,selectedTime:v,handleSetSelectedTime:O,handleSetSelectedDate:m,notification:b,isFetching:f,timeOptions:N,handleOnFindAgainClick:C}=H(),{userOrderState:T,userOrderStateDispatch:E}=Object(a.useContext)(d.a),{currentStoreInfoData:x}=r(),{handleSetTime:y}=D({selectedDate:u,selectedTime:v}),{dateOptions:A}=M(),_={id:"TimeFinderPopup",role:"dialog",show:!0,showCloseBtn:!0,closeButtonHandler:()=>{n(!l)},modalTitle:Object(i.translateWithI18Next)("eventModalHeader"),autoFocus:!0};return Object(j.jsx)("section",{children:l&&!(null!==T&&void 0!==T&&null!==(t=T.searchStoreData)&&void 0!==t&&t.showSearchStore)&&Object(j.jsx)(g.a,{..._,children:Object(j.jsx)("div",{className:G.a.timeFinderModal,children:Object(j.jsxs)("div",{className:G.a.contentContainer,children:[Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(i.translateWithI18Next)("setLocation")}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[Object(j.jsx)("p",{children:(null===x||void 0===x||null===(o=x.name[0])||void 0===o?void 0:o.value)||""}),Object(j.jsx)(s.a,{onClickHandler:()=>{n(!l),E({type:I.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:S.c}})},className:G.a.cta,children:Object(i.translateWithI18Next)("change")})]}),Object(j.jsx)(B,{})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(i.translateWithI18Next)("ScheduleOrder")}),b&&!f&&Object(j.jsx)("div",{className:G.a.notificationContainer,children:Object(j.jsx)(p,{type:b.type,children:b.text})}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[u&&Object(j.jsx)("div",{className:G.a.dateSelectContainer,children:Object(j.jsx)(h.a,{dropdownId:"dateDropdown",disabled:f,placeholder:"Select date",label:Object(i.translateWithI18Next)("date"),value:u,options:A,onOptionClick:m})}),v&&Object(j.jsx)(h.a,{dropdownId:"timeDropdown",disabled:f,placeholder:"Select time",label:Object(i.translateWithI18Next)("time"),options:N,value:v,onOptionClick:O})]})]}),Object(j.jsxs)("div",{className:G.a.buttonsContainer,children:[Object(j.jsx)(c.c,{variant:c.b.tertiary,onClickHandler:()=>C(),"data-testid":"confirm-button-handler",children:Object(j.jsxs)("span",{children:[" ",Object(i.translateWithI18Next)("findAgain")]})}),Object(j.jsx)(c.c,{variant:c.b.secondary,onClickHandler:()=>{y(),n(!l)},"data-testid":"confirm-button-handler",children:Object(j.jsx)("span",{children:Object(i.translateWithI18Next)("toTheCart")})})]})]})})})})}},1297:function(e,t,o){e.exports={notification:"Notification_notification__2okmg",icon:"Notification_icon__1YHwX"}},1298:function(e,t,o){e.exports={timeFinderModal:"TimeFinderModal_timeFinderModal__SorX6",contentContainer:"TimeFinderModal_contentContainer__3zPSq",inputContainer:"TimeFinderModal_inputContainer__3UeVT",dateSelectContainer:"TimeFinderModal_dateSelectContainer__1eU03",buttonsContainer:"TimeFinderModal_buttonsContainer__25_dt",cta:"TimeFinderModal_cta__2r_vr",notificationContainer:"TimeFinderModal_notificationContainer__2Y9_e"}},1305:function(e,t,o){"use strict";o.d(t,"b",(function(){return ot})),o.d(t,"a",(function(){return nt}));var i=o(266),a=o(6),l=o(1);var n=o(3),d=o.n(n),r=o(62),s=o(2);var c=e=>{var t,o;let{value:i,className:a}=e,l=i,{category_name:n}=Object(r.i)(),d={};return n=n?n.trim().toLowerCase().replace(/-/g," "):"menu",i=null===(t=i)||void 0===t?void 0:t.replace(/ &|'/g,""),a&&(d={className:a}),Object(s.jsx)(s.Fragment,{children:n===(null===(o=i)||void 0===o?void 0:o.trim().toLowerCase())?Object(s.jsx)("h1",{...d,children:l}):Object(s.jsx)("h2",{...d,children:l})})},u=o(46),v=o(404),O=o(15),m=o(0),b=o(4),j=o(1124),p=o(1100),h=o(159),g=o(71),S=o(12),I=o(5),f=o(85),N=o(42),C=o.n(N),T=o(1237),E=o(43),x=o(16),D=o(1233),y=o(1228),A=o(28),_=o(146),R=o(443),L=o(442),P=o(1239),w=o(211),M=o(1251),k=o(402),F=o(264),U=o(1243),H=o(394),B=o(409),W=o(396),G=o(1156),V=o(1137),Y=o(397),z=o(30);const K={successToastMessage:b.a.INDULDENT_ADD_ON_MSG,cardButtonText:b.a.ADD_TO_ORDER,submitButtonText:b.a.CONTINUE_ORDERING,headerText:b.a.INDULDENT_ADD_ONS_HEADING},q={cardButtonText:b.a.ADD_TO_ORDER,headerText:b.a.WE_THINK_YOU_LOVE_THIS,slideToScroll:1,slideToShow:3};var J=e=>{var t,o,i;let{itemId:l,viewType:d,closeButtonHandler:r=(()=>{}),restData:c=(()=>{}),wrapperID:v,modalTextConfig:m=K,upsellConfig:b=q,rePosition:j=!1}=e;const p=Object(A.c)((e=>e.cartReducer)),h=Object(A.c)((e=>e.tenantReducer)),{ALL:g,ADDONS:S,UPSELL:f}=w.MENU_PLP_CONSTANT,[N,C]=Object(n.useState)(null),[T,E]=Object(n.useState)({containerHeight:0,containerWidth:0}),[x,D]=Object(n.useState)(!1),{data:y,isSuccess:_,isFetched:R}=Object(G.g)(l,g),[L,P]=Object(n.useState)(Object(I.de)(window.innerWidth)),[M,F]=Object(n.useState)(0),[U,H]=Object(n.useState)(""),B=Object(I.fb)(h),W=null===(t=Object(I.Jf)(null===p||void 0===p?void 0:p.cartData,B))||void 0===t?void 0:t[l],J={recommendationType:d,ruleName:U},Q=Object(z.debounce)((()=>{var e,t;const o=Object(I.de)(window.innerWidth);P(o);const i=Object(Y.o)(o,window.innerWidth),{containerHeight:a,containerWidth:n}=i;if(E({containerHeight:a,containerWidth:n}),null!==y&&void 0!==y&&null!==(e=y.upsell)&&void 0!==e&&null!==(t=e.recommendedItems)&&void 0!==t&&t.length)if(d===f){const e=Object(k.m)(l,v,L);F(null!==e&&void 0!==e?e:0)}else Object(k.m)(null,v),F(0)}),300),X=e=>{var t,o;return!(null===p||void 0===p||null===(t=p.cartData)||void 0===t||null===(o=t.foodLines)||void 0===o||!o.find((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e})))};return Object(n.useEffect)((()=>(window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q))),[d]),Object(n.useEffect)((()=>{var e,t;d!==f||X(l)||void 0===(null===p||void 0===p||null===(e=p.cartData)||void 0===e?void 0:e.foodLines)?d!==S||X(l)||void 0===(null===p||void 0===p||null===(t=p.cartData)||void 0===t?void 0:t.foodLines)||c():(Object(k.m)(null,v,L),D(!1),c())}),[null===p||void 0===p||null===(o=p.cartData)||void 0===o||null===(i=o.foodLines)||void 0===i?void 0:i.length]),Object(n.useEffect)((()=>{var e,t,o,i,a,n,s,c,u,O,m,b,j,h;(Object(k.m)(null,v),C([]),H(""),D(!1),R&&_&&(d===f||d===S)&&X(l))&&(d===S&&null!==y&&void 0!==y&&null!==(e=y.addons)&&void 0!==e&&null!==(t=e.recommendedItems)&&void 0!==t&&t.length&&null!==(o=Object(I.t)(null===y||void 0===y||null===(i=y.addons)||void 0===i?void 0:i.recommendedItems,null===p||void 0===p?void 0:p.cartData))&&void 0!==o&&o.length?(C(Object(I.t)(null===y||void 0===y||null===(m=y.addons)||void 0===m?void 0:m.recommendedItems,null===p||void 0===p?void 0:p.cartData)),H(null===y||void 0===y||null===(b=y.addons)||void 0===b||null===(j=b.name)||void 0===j||null===(h=j[0])||void 0===h?void 0:h.value),D(!0)):d===f&&null!==y&&void 0!==y&&null!==(a=y.upsell)&&void 0!==a&&null!==(n=a.recommendedItems)&&void 0!==n&&n.length?setTimeout((()=>{var e,t,o,i;const a=Object(k.m)(l,v,L);F(null!==a&&void 0!==a?a:0),C(null===y||void 0===y||null===(e=y.upsell)||void 0===e?void 0:e.recommendedItems),H(null===y||void 0===y||null===(t=y.upsell)||void 0===t||null===(o=t.name)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value),D(!0)}),500):d!==S||null===y||void 0===y||null===(s=y.upsell)||void 0===s||null===(c=s.recommendedItems)||void 0===c||!c.length||null!==(u=Object(I.t)(null===y||void 0===y||null===(O=y.addons)||void 0===O?void 0:O.recommendedItems,null===p||void 0===p?void 0:p.cartData))&&void 0!==u&&u.length||r())}),[d,_,j]),x&&null!==N&&void 0!==N&&N.length&&_&&d?Object(s.jsx)("div",{className:"plp-addons-modal-wrapper ".concat(d===f&&"position-absolute w-100 bg-white px-3"),style:{top:d===f?M:0,height:d===f?L?"612px":"693px":"100%"},children:Object(s.jsx)(V.a,{isMobile:L,openIndulgentModal:x,handleClose:r,removeItemCart:!1,IndulgentData:N,imageContainerSize:T,modalTitle:null===m||void 0===m?void 0:m.headerText,continueButtonText:null===m||void 0===m?void 0:m.submitButtonText,addToCart:null===m||void 0===m?void 0:m.cardButtonText,showSectionView:d===f,callBackMethod:async e=>{await Object(I.of)(e,N,(e=>{0===e.length&&d===S?r():C(e)}),(()=>null),u.a,O.a,a.translateWithI18Next,I.Df,null===m||void 0===m?void 0:m.successToastMessage)},buttonClass:"blackButton",showCaloricValue:!0,showServesValue:d===f,indulgentUpsellConstants:(Z=b,{ADD_TO_CART:Z.cardButtonText,HEADER:Z.headerText,SLIDES_TO_SCROLL:Z.slideToScroll,SLIDES_TO_SHOW:Z.slideToShow}),renderedFromPLP:!0,isRestrictedDisabled:(null===W||void 0===W?void 0:W.isAddonsNotAddable)||!1,productId:l,ruleNameDetails:J})}):Object(s.jsx)(s.Fragment,{});var Z};const{FROM:Q,TILL:X}=b.a,{CARD_TYPE:{SMALL:Z,CAROUSAL:$}}=w.MENU_PLP_CONSTANT,{View_1UP_Icon:ee,View_1UP_Icon_Inactive:te,View_carousal_Icon:oe,View_carousal_Icon_Inactive:ie,Product_Card_Icon:ae,ribbonRedOutlined:le,TimerIcon:ne}=O.a,de=e=>{let{productsList:t,cardId:o,cType:i,subCategories:a,tenantData:l,catalogs:n,storeClosedData:d,selectedCat:r,getCardCount:s,viewUp:c,specialEventItemAvailability:u,isNavigating:v}=e;return"viewup"===i&&(i=c?Z:$),Object(M.e)({productsList:t,cardId:o,cType:i,tenantData:l,catalogs:n,storeClosedData:d,selectedCat:r,getCardCount:s,subCategories:a,specialEventItemAvailability:u,viewUp:c,isNavigating:v})},re=e=>Object(I.le)()?"medium-category-name":0===e?"large-category-name":"medium-category-name",se=function(e,t,o,i){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const n=null!==l&&void 0!==l&&l.showMDPTimeIn24HourTimeFormat?m.sb.HH_mm:m.sb.H_MM_AA;return e&&null!==(null===o||void 0===o?void 0:o.startTime)?Object(s.jsxs)("div",{className:t,children:[Object(a.translateWithI18Next)(Q)," ",Object(H.j)(Object(I.z)(null===o||void 0===o?void 0:o.startTime),n)," ",Object(a.translateWithI18Next)(X)," ",Object(H.j)(Object(I.z)(null===o||void 0===o?void 0:o.endTime),n)]}):null},ce=e=>Object(I.le)()?Object(I.ad)(Object(I.Hd)(e),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):"medium-menu-container",ue=e=>{var t;let{dname:o,index:i,specials:l,discount:n,exclusive:d,timer:r,id:u,products:v,subCategories:O,tenantData:m,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,showCategoryTimings:S,specialEventItemAvailability:I,availability:f,timeZone:N,isNavigating:C}=e;const T={section:{availability:f}},{startTime:E,endTime:x}=Object(G.i)(T),D={startTime:E,endTime:x};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:re(i),children:Object(s.jsx)(c,{value:null===(t=o[0])||void 0===t?void 0:t.value})}),se(S,"dynamic-menu-time-desk",D,N,m)]}),Object(s.jsx)(F.a,{src:l?ae:n||d&&le||"",className:l?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(s.jsx)("span",{className:l?"specials-ribbon-text":"discount-ribbon-text",children:r?Object(s.jsxs)("div",{children:[Object(s.jsx)(F.a,{src:ne,className:"product-timer"}),Object(s.jsx)("span",{className:"product-timer-text",children:Object(a.translateWithI18Next)(w.TIMER_I18Next)})]}):l||n||d||null}),de(0===i?{productsList:v,cardId:u,cType:"large",subCategories:O,tenantData:m,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:I,isNavigating:C}:{productsList:v,cardId:u,cType:"medium",subCategories:O,tenantData:m,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:I,isNavigating:C})]})},ve=(e,t,o)=>{var i,a;return e&&(null===(i=document)||void 0===i||null===(a=i.getElementById("select-start-order-items"))||void 0===a?void 0:a.clientHeight)>40?0===o?"offsetFirstIndex":t||0!==o?"offsetOtherIndex":"offsetFirstIndexWithBanner":e?"offsetWithLocalized":t||0!==o?void 0:"offsetFirstIndexWithBanner"},Oe=e=>{var t,o,i;let{products:l,index:n,dname:d,id:r,subCategories:u,viewUp:v,changeViewtoUp:O,viewCarousal:m,changeViewtoCarousal:b,carouselCount:j,tenantData:p,storeClosedData:h,catalogs:g,selectedCat:S,getCardCount:f,localized:N,isSmartBannerVisible:C,showCategoryTimings:T,specialEventItemAvailability:E,availability:x,timeZone:D}=e;const y=0===n?"carousal":"viewup",A=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(o=t.PlpProductCard)||void 0===o?void 0:o.changeProductView,_={section:{availability:x}},{startTime:R,endTime:L}=Object(G.i)(_),P={startTime:R,endTime:L};return Object(s.jsx)(s.Fragment,{children:A?Object(s.jsxs)("div",{children:[Object(I.U)(l)>1&&1===n&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"product-view-section",children:[Object(s.jsxs)("span",{className:"product-view",children:[Object(a.translateWithI18Next)(w.MENU_PLP_CONSTANT.PRODUCT_VIEW_TEXT),":"]}),Object(s.jsx)(F.a,{src:v&&ee||te,className:"product-view-up-icon",onClick:O,"data-testid":"change-view-to-up"}),Object(s.jsx)(F.a,{src:m&&oe||ie,className:"product-view-carousal-icon",onClick:b,"data-testid":"change-view-to-carousal"})]}),Object(s.jsx)("hr",{className:"product-view-divider"})]}),Object(s.jsxs)("div",{className:"d-flex position-relative",children:[Object(s.jsx)("div",{className:"small-category-name",children:d[0].value}),!v&&Object(s.jsxs)("div",{className:"card-counter",children:[j,"/",Object(I.U)(l)]})]}),se(T,"dynamic-menu-time-mob",P,D),de({productsList:l,cardId:r,cType:y,subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:S,getCardCount:f,viewUp:v,specialEventItemAvailability:E})]}):Object(s.jsxs)("div",{className:ve(N,C,n),children:[Object(s.jsx)("div",{className:"d-flex position-relative",children:Object(s.jsx)(c,{className:"small-category-name",value:null===(i=d[0])||void 0===i?void 0:i.value})}),se(T,"dynamic-menu-time-mob",P,D,p),de({productsList:l,cardId:r,cType:"viewup",subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:S,getCardCount:f,viewUp:v,specialEventItemAvailability:E})]})})},me=e=>{let{searchMode:t,filterList:o,dietaryList:i,products:a,isMobile:l,viewUp:n,tenantData:d,getCardCount:r,catalogs:c,storeClosedData:u,clearSearch:v,recommendProducts:O,carouselCount:m,dispositionType:b}=e;return(t.isSearchedMode||[...o,...i].length)&&null!==a&&void 0!==a&&a.length?Object(s.jsx)("div",{className:l?"sopac-small-menu-container":ce(b),children:Object(s.jsx)(U.a,{productList:a,cardType:l?n?"small":"carousal":"medium",tenantData:d,cardCount:l&&r,categoryId:"",catalogs:c,storeClosedData:u})}):t.isSearchedMode&&Object(M.f)(t,v,O,d,c,u,l,"carousal","CAT86",m,r)},be=(e,t,o,i)=>Object(I.le)()?e?"sopac-small-menu-container":Object(I.ad)(Object(I.Hd)(i),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):e?0===t||o?"carousal-menu-container":"small-menu-container":0===t?"large-menu-container":"medium-menu-container",je=e=>{var t;let{isMobile:o,specialEventItemAvailability:i,searchMode:a,categories:l,viewCarousal:d,viewUp:r,changeViewtoUp:c,changeViewtoCarousal:u,carouselCount:v,tenantData:O,catalogs:m,storeClosedData:b,selectedCat:j,getCardCount:p,filterList:h,dietaryList:g,products:S,clearSearch:N,recommendProducts:C,localized:T,dispositionType:E,isNavigating:y}=e;const _=(null===l||void 0===l?void 0:l.length)&&Object(k.a)(l),{userOrderState:R,userOrderStateDispatch:L}=Object(n.useContext)(f.a),{timeBasedCetegory:P,timeBasedAlertModalData:M}=R,{menuReducer:F}=Object(A.c)((e=>e)),U=Object(A.c)((e=>Object(I.sd)(e.storesReducer))),{componentOptions:H}=Object(A.c)((e=>e.tenantReducer||{})),G=null===H||void 0===H||null===(t=H.plp)||void 0===t?void 0:t.isAddonsAndUpsellEnabled,V=null===R||void 0===R?void 0:R.menuUpsellAddonsData,Y=null===V||void 0===V?void 0:V.selectedItemCardId,{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:z,UPDATE_MENU_UPESLL_ADDONS_ID:K}=x.a,{UPSELL:q}=w.MENU_PLP_CONSTANT,Q=(null===U||void 0===U?void 0:U.storesWithStatus)&&Object(B.b)(null===U||void 0===U?void 0:U.storesWithStatus[0]),X=null===Q||void 0===Q?void 0:Q.timeZone;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(D.a,{className:o?"mob-plp-col":"",id:"menu-list-wrapper",children:null!==a&&void 0!==a&&a.isSearchedMode||null===_||void 0===_||!_.length?me({searchMode:a,filterList:h,dietaryList:g,products:S,isMobile:o,viewUp:r,tenantData:O,getCardCount:p,catalogs:m,storeClosedData:b,clearSearch:N,recommendProducts:C,carouselCount:v,dispositionType:E}):_.filter((e=>{let{isHidden:t}=e;return!t})).map(((e,t)=>{let{id:a,name:l,dname:n,products:h,categories:g,isHidden:S,specials:I,exclusive:f,timer:N,discount:C,isTimeSpecific:x,availability:D,showNoCategoryTimings:A}=e;const _={products:h,index:t,dname:n,id:a,categories:g,viewUp:r,tenantData:O,storeClosedData:b,catalogs:m,selectedCat:j,getCardCount:p,isTimeSpecific:x,specialEventItemAvailability:i,availability:D,timeZone:X,showCategoryTimings:x&&!A,isNavigating:y};return!S&&!(e=>{var t,o,i;if(null!==P&&void 0!==P&&P.timeDifference&&(null===M||void 0===M||!M.isReviewOrderClick))return!1;const a={categoryName:e},l=null!==R&&void 0!==R&&null!==(t=R.dispositionNew)&&void 0!==t&&t.date?null===R||void 0===R||null===(o=R.dispositionNew)||void 0===o?void 0:o.date:null===(i=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===i?void 0:i.date;return Object(W.i)({item:a,getStoreDetail:Q,menuReducer:F,showModal:!1,selectedDate:l})})(l)&&(null===h||void 0===h?void 0:h.length)>0&&Object(s.jsx)("div",{id:null===l||void 0===l?void 0:l.trim(),className:be(o,t,d,E),children:o?Object(s.jsx)(Oe,{changeViewtoUp:c,viewCarousal:d,changeViewtoCarousal:u,carouselCount:v,localized:T,isMobile:o,..._}):Object(s.jsx)(ue,{specials:I,discount:C,exclusive:f,timer:N,..._})},t)}))}),G&&Y&&Object(s.jsx)(J,{itemId:Y,viewType:null===V||void 0===V?void 0:V.viewType,wrapperID:"menu-list-wrapper",rePosition:null===a||void 0===a?void 0:a.isSearchedMode,closeButtonHandler:()=>{L({type:z,value:{viewType:q}})},restData:()=>{L({type:K})}})]})};var pe=d.a.memo(je);var he=d.a.forwardRef(((e,t)=>{let{className:o,filterList:i,dietaryList:l,sortByListMob:d,handleClearItems:r,closeSearchFilterMenu:c,handleFilteredData:m,handleSearchdata:b,setSearchModeData:j,data:p,inputSearchData:h,searchedData:g}=e;const[S,I]=Object(n.useState)(!1),[f,N]=Object(n.useState)([]),[C,T]=Object(n.useState)(""),x=Object(n.useRef)(null),{SEARCHOURMENU:D}=P.a,y=e=>{x.current&&!x.current.contains(e.target)&&I(!1)},{SearchIconGrey:A,CrossCloseIcon:_,ClearIconDark:R}=O.a;Object(n.useEffect)((()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}))),Object(n.useEffect)((()=>{T(""),I(!1)}),[h]),Object(n.useEffect)((()=>{""===g&&T("")}),[g]);const L=e=>{const{products:t}=p||{};N(t.filter((t=>!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e))).slice(0,5)),window.scrollTo(0,0)};return Object(s.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:o,children:[Object(s.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(s.jsx)("span",{className:"refineItemsText",children:Object(a.translateWithI18Next)("refineItems")}),Object(s.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:()=>c("Close"),src:_,alt:"Cross Icon"})]}),Object(s.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(s.jsxs)("div",{className:"plp-search-container",children:[Object(s.jsx)(v.a,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:e=>(e=>{T(e.target.value),(i.length||l.length||d.length)&&r(),e.target.value.toString().length>2?S||(I(!0),L(e.target.value.toLowerCase().toString())):S&&(I(!1),b(),L(""),j(!1,C))})(e),onKeyPress:e=>{var t;"Enter"===(t=e).key&&(c(),b(t.target.value.toLowerCase().toString()),j(!0,C),window.scrollTo(0,0))},value:C,placeholder:Object(a.translateWithI18Next)(D)}),Object(s.jsx)("div",{className:"search-iconMob",children:Object(s.jsx)(u.a,{srcFile:A,className:"search-icon-img"})}),C.length>2&&Object(s.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:()=>(T(""),b(),void j(!1,"")),src:R,alt:"Clear Icon"})]}),S&&Object(s.jsx)("div",{ref:x,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:(null===f||void 0===f?void 0:f.length)>0&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"SuggestionHeader",children:Object(a.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.SUUGESTED_ITEMS_TEXT)}),Object(s.jsx)("ul",{className:"autoCompleteListPLP",children:f.map(((e,t)=>{var o,i;return Object(s.jsxs)("li",{onClick:()=>(e=>{Object(k.s)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),m(e.mdmId),c(),T(e.name),j(!0,e.name),window.scrollTo(0,0)})(e),"data-testid":"fiter-data-".concat(null===e||void 0===e?void 0:e.name),className:"wrapperAutoCompletePLP",children:[Object(s.jsx)("span",{className:"searchgrey-icon-img",children:Object(s.jsx)(u.a,{srcFile:A})}),Object(s.jsx)("span",{children:null===e||void 0===e||null===(o=e.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value})]},(null===e||void 0===e?void 0:e.mdmId)+t)}))})]})})]})]})})),ge=o(395),Se=o(55);const Ie=e=>e?"mob-outer-ul":"outer-ul",fe=(e,t)=>"".concat(e(t)?"caret":""),Ne=e=>{var t,o,i;let{isMobile:a,menu:l,categories:d,setActiveMenuSelection:r,history:c,hasSubcategory:u,handleSetActive:v,getMenusSubcategory:O,onItemClick:b,onNavigationCallBack:j=(()=>{})}=e;const p=Object(n.useRef)(null);Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&(j(!1),p.current=null)}),{threshold:.1});return _.Events.scrollEvent.register("begin",((t,o)=>{p.current=o,p.current&&e.observe(p.current)})),()=>{_.Events.scrollEvent.remove("begin"),p.current&&e.unobserve(p.current)}}),[]);const h=Object(n.useCallback)((e=>{let{e:t,index:o,name:i,url:a,filterNotHiddenItem:l,categories:n,scroller:d,menuNavigationAnalyticsData:r,setActiveMenuSelection:s,history:c}=e;Object(k.v)({e:t,index:o,catergoryName:i,url:a,filterNotHiddenItem:l,categories:n,scroller:d,menuNavigationAnalyticsData:r,setActiveMenuSelection:s,history:c})}),[]),g=Object(A.c)((e=>Object(I.sd)(e.storesReducer))),S=(null===g||void 0===g?void 0:g.storesWithStatus)&&Object(B.b)(null===g||void 0===g?void 0:g.storesWithStatus[0]),N=Object(A.c)((e=>e.tenantReducer)),C=null===N||void 0===N||null===(t=N.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.plp)||void 0===i?void 0:i.setMenuScroll,T=Object(k.k)(C),E=(null===l||void 0===l?void 0:l.length)&&Object(k.a)(l),x=(null===E||void 0===E?void 0:E.length)&&Object(I.T)(E),[D,y]=Object(n.useState)(!0),{userOrderState:R,userOrderStateDispatch:L}=Object(n.useContext)(f.a),{timeBasedCetegory:P,timeBasedAlertModalData:w}=R,{menuReducer:M}=Object(A.c)((e=>e)),F=Object(n.useRef)([]);Object(n.useLayoutEffect)((()=>{var e,t,o,i;const a=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname.split("/").pop(),l=null===x||void 0===x?void 0:x.findIndex((e=>e.url===a));var n,r,s,c,u;l&&-1!==l&&Object(I.hb)((null===(o=window)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.pathname)!==m.Ce.MENU_PAGE,null===d||void 0===d?void 0:d.length)&&!C&&_.scroller.scrollTo(null===(n=x[l])||void 0===n||null===(r=n.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:0,smooth:!0,containerId:null===(s=x[l])||void 0===s?void 0:s.name,offset:(null===F||void 0===F||null===(c=F.current[l])||void 0===c||null===(u=c.props)||void 0===u?void 0:u.offset)-10})}),[]);return Object(s.jsx)("ul",{className:Ie(a),children:(null===x||void 0===x?void 0:x.length)&&x.map(((e,t)=>{let{id:o,isHidden:i,url:l,name:n,dname:p,products:g,categories:f}=e;return!i&&(null===g||void 0===g?void 0:g.length)>0&&!(e=>{var t,o,i;const a=null!==R&&void 0!==R&&null!==(t=R.dispositionNew)&&void 0!==t&&t.date?null===R||void 0===R||null===(o=R.dispositionNew)||void 0===o?void 0:o.date:null===(i=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===i?void 0:i.date;if(null!==P&&void 0!==P&&P.timeDifference&&(null===w||void 0===w||!w.isReviewOrderClick))return!1;const l={categoryName:e};return Object(W.i)({item:l,getStoreDetail:S,menuReducer:M,showModal:!1,selectedDate:a})})(n)&&Object(s.jsxs)("li",{id:"category-name-".concat(o),children:[Object(s.jsx)(_.Link,{ref:e=>F.current[t]=e,"data-testid":"category-click-test",to:n.trim(),onClick:e=>((e,t,o,i)=>{j(!0),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault(),Object(W.c)({categoryUrl:o,itemInCart:null===P||void 0===P?void 0:P.timebasedItemInCart,alertType:Object(W.j)(null===P||void 0===P?void 0:P.timebasedItemInCart,null===m.Sb||void 0===m.Sb?void 0:m.Sb.CATEGORY)},P,L)||(a?Object(k.n)(null===t||void 0===t?void 0:t.trim(),o,c):(h({e:e,index:i,name:null===t||void 0===t?void 0:t.trim(),url:o,filterNotHiddenItem:I.T,categories:d,scroller:_.scroller,menuNavigationAnalyticsData:k.o,setActiveMenuSelection:r,history:c}),Object(Se.q)(t,i)))})(e,n,l,t),spy:!0,offset:Object(I.ad)(a,T,-130),smooth:!0,duration:1500,delay:0,isDynamic:!0,activeClass:Object(I.ad)(a,"active",null),className:"".concat(D&&0===t&&"active"," ").concat(!a&&fe(u,f)),onSetActive:e=>((e,t)=>{y(!1),v(e,t)})(e,o),children:p[0].value}),!a&&O(f||[],v,b)]},t)}))})};var Ce=d.a.memo(Ne);const{DarkCloseButton:Te}=O.a,Ee=e=>{let{filterList:t,dietaryList:o,sortByList:i,searchMode:l,isMobile:n,clearSearch:d,handleClearItems:r,menu:c,categories:u,setActiveMenuSelection:v,history:O,hasSubcategory:m,handleSetActive:b,getMenusSubcategory:j,onItemClick:p,onNavigationCallBack:h}=e;return[...t,...o,...i].length>0||l.isSearchedMode?Object(s.jsxs)("div",{className:n&&"filterListRowMobView",children:[Object(s.jsx)(ge.a,{className:n?"clearAllFilterButtonMob":"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:l.isSearchedMode&&d||r,children:l.isSearchedMode&&Object(a.translateWithI18Next)(w.CLEAR_SEARCH)||Object(a.translateWithI18Next)(w.CLEAR_ALL)}),[...t,...o,...i].map((e=>Object(s.jsx)("div",{className:"",children:Object(s.jsxs)("div",{className:n?"selectedFilterButtonsMob":"selectedFilterButtons",children:[Object(s.jsx)("span",{className:"textFilteredMob",children:e}),Object(s.jsx)("img",{className:n?"mlcrossMob":"mlcross","data-testid":"clear-all-items-".concat(e),onClick:()=>r(e),src:Te,alt:"Close Button"})]})})))]}):Object(s.jsx)(Ce,{isMobile:n,menu:c,categories:u,setActiveMenuSelection:v,history:O,hasSubcategory:m,handleSetActive:b,getMenusSubcategory:j,onItemClick:p,onNavigationCallBack:h})};var xe=d.a.memo(Ee);const De=e=>{let{searchMode:t,filterList:o,dietaryList:i,isMobile:l,products:n,showItemsTextOnSearch:d=!1}=e;return t.isSearchedMode&&Object(I.U)(n)>0?Object(s.jsx)(y.a,{className:Object(I.ad)(l,"search-box","pt-5"),children:Object(s.jsxs)("h3",{className:"found-text",children:[Object(a.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(I.U)(n),d&&Object(a.translateWithI18Next)(w.NO_OF_ITEMS),' "'.concat(t.searchedData.toUpperCase(),'"')]})}):[...o,...i].length>0&&0===Object(I.U)(n)&&Object(s.jsx)(y.a,{className:Object(I.ad)(l,"search-box","pt-5 no-data-found-plp"),children:Object(s.jsxs)("h2",{className:"found-text",children:[Object(a.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(I.U)(n)," ",w.RESULTS.toUpperCase()]})})||[...o,...i].length>0&&Object(I.U)(n)>0&&Object(s.jsx)(y.a,{className:Object(I.ad)(l,"search-box","pt-5 ".concat((r=i,r.find((e=>"all"===e.toLowerCase()))?"all-data-found-plp":"data-found-plp"))),children:Object(s.jsxs)("h2",{className:"found-text",children:[Object(a.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(I.U)(n)," ",w.RESULTS.toUpperCase()]})});var r};var ye=d.a.memo(De),Ae=o(73),_e=o(1284),Re=o(41),Le=o(1281),Pe=o(429),we=o(600);const{RESULTS:Me,READ_LESS:ke,LOAD_MORE:Fe,NEXT_AVAILABLE_TIME_SLOT:Ue,OH_NO_TEXT:He,TIME_SLOT_NOT_FOUND:Be,FOR_ALL_PRODUCTS_TEXT:We,FIND_KFC_OTHER_DATA:Ge,FOR_ALL:Ve,AT_TEXT:Ye}=b.a,{SearchIcon:ze,SearchIconGrey:Ke,DarkCloseButton:qe,StripesIcon:Je,MobSearchIcon:Qe}=O.a,{YYYY_MM_DD_hh_mm:Xe,YYYY_MM_DD_h_mm_A:Ze,h_mm_A:$e}=m.sb||{};let et=null;const tt=(e,t,o,i,a)=>{const l=Object(I.Je)(Object(I.Td)(e),e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]||e[w.MENU_PLP_CONSTANT.OFFERS_DEALS],!Object(h.b)(t.location.pathname));return Object(s.jsx)(D.a,{"data-testid":"plp-promo-section-testid",sm:!i&&12,className:at(i,o),children:l&&Object(s.jsx)(T.a,{contentData:Object(I.sd)(e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]),history:t,page:m.he,isMobile:i,onClickScroll:a})})},ot=(e,t,o,i,l)=>{var n;return Object(s.jsxs)(Pe.a,{...e,"data-testid":"address-modal-landing-page",children:[Object(s.jsxs)("span",{className:"time-slot-header-content",children:[Object(s.jsx)("h4",{className:"time-slot-header-text",children:Object(a.translateWithI18Next)(He)}),Object(s.jsx)("h4",{className:"time-slot-header-text",children:Object(a.translateWithI18Next)(Be)}),Object(s.jsx)("h4",{className:"time-slot-header-text",children:"".concat(Object(a.translateWithI18Next)(Ve)," ").concat(null===l||void 0===l||null===(n=l.foodLines)||void 0===n?void 0:n.length," ").concat(Object(a.translateWithI18Next)(We)," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"short"}))})]}),Object(s.jsxs)("div",{className:"address-content",children:[Object(s.jsx)("p",{className:"address-content-header",children:Object(I.Sc)(null===i||void 0===i?void 0:i.name)}),Object(s.jsx)("p",{className:"address-content-text",children:null===t||void 0===t?void 0:t.deliveryAddress}),Object(s.jsxs)("span",{className:"d-flex",children:[Object(s.jsx)("p",{children:Object(a.translateWithI18Next)(Ye)}),Object(s.jsx)("a",{className:"address-content-link",children:"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(null===t||void 0===t?void 0:t.date).getDay()]," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"long"}))})]})]}),Object(s.jsx)("div",{className:"find-kfc-date-section",children:Object(s.jsx)(Re.c,{variant:null===Re.b||void 0===Re.b?void 0:Re.b.secondary,"aria-label":"Close","data-testid":"add-new-card-btn",onClick:o,children:Object(a.translateWithI18Next)(Ge)})})]})},it=e=>"plp-filters ".concat(Object(I.hb)(e,"margin-top-catering-plp")),at=(e,t)=>"plp-promo-section ".concat(e&&"mob-plp-col"," ").concat(Object(I.ad)(t,"promo-section-container","".concat(e?"mob-plp-promo-section":"plp-promo-non-localized"))),lt=e=>{var t,o,O,b,N,T,F,U,H,B,W,G,V;let{data:Y,selectedTile:z,tenantData:K,filterList:q=[],dietaryList:J=[],sortByList:Q=[],filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleChangeEventTime:ee,handleClearItems:te,handleCheckbox:oe,handleRadio:ie,handleFilteredData:ae,handleSearchdata:le,tempData:ne={},recommendations:de,catalogs:re,selectedCat:se,storeClosedData:ce,triggerGetRecommends:ue,setProductId:ve,specialEventItemAvailability:Oe,isMobile:me,contentData:be}=e,{menu:je,categories:ge,products:Se}=Object(I.sd)(Y);const Ie=null===be||void 0===be||null===(t=be.storeInfo)||void 0===t?void 0:t.id;null!==(o=Object.keys(ne))&&void 0!==o&&o.length&&({menu:je,categories:ge,products:Se}=ne);const{userOrderState:fe,userOrderStateDispatch:Ne}=Object(n.useContext)(f.a),[Ce,Te]=Object(n.useState)(!1),Ee=Object(n.useRef)(),De=Object(r.g)(),[Pe,He]=Object(n.useState)(!1),[Be,We]=Object(n.useState)(!0),[Ge,Ve]=Object(n.useState)(1),[Ye,at]=Object(n.useState)([]),[lt,nt]=Object(n.useState)(!0),[dt,rt]=Object(n.useState)(!1),[st,ct]=Object(n.useState)(!1),[ut,vt]=Object(n.useState)(""),[Ot,mt]=Object(n.useState)(""),[bt,jt]=Object(n.useState)(!1),[pt,ht]=Object(n.useState)([]),[gt,St]=Object(n.useState)(""),[It,ft]=Object(n.useState)([]),Nt=Object(n.useRef)(null),[Ct,Tt]=Object(n.useState)({isSearchedMode:!1,searchedData:""}),[Et,xt]=Object(n.useState)(""),Dt=Object(A.c)((e=>e.tenantReducer)),{localized:yt}=Object(A.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),At=Object(M.b)(fe),{SEARCHOURMENU:_t}=P.a,{category_name:Rt="",product_name:Lt=""}=Object(r.i)(),Pt=Object(A.c)((e=>e.cartReducer)),{applicableCoupons:wt=[],cartData:Mt={}}=Pt,kt=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_DESKTOP,D.a),Ft=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_MOBILE,y.a),[Ut,Ht]=Object(n.useState)(!1),[Bt,Wt]=Object(n.useState)(""),Gt=Object(A.c)((e=>e.storesReducer)),[Vt,Yt]=Object(n.useState)(!1),{flatResponse:{itemMapById:zt={}}={}}=null!==(O=Object(A.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==O?O:{},{store:Kt}=Object(I.Td)(At)?At:{},[qt,Jt]=Object(n.useState)(!1),[Qt,Xt]=Object(n.useState)([]),Zt=null===Dt||void 0===Dt||null===(b=Dt.componentOptions)||void 0===b||null===(N=b.web)||void 0===N||null===(T=N.plp)||void 0===T?void 0:T.showAllResultsOnMenuSearch,[$t,eo]=Object(n.useState)(!1);Object(n.useEffect)((()=>{window.addEventListener("scroll",(()=>{window.scrollY<15?Wt(""):Wt("scrolled")}))}),[]);const to=(null===At||void 0===At?void 0:At.selectedTime)||"",[oo,io]=Object(n.useState)(to),{componentOptions:{web:{plp:{showItemsTextOnSearch:ao=!1}={}}={}}={},currencyShortName:lo}=Dt,{global:{timeSlotModal:no=!1}={}}=null!==(F=null===Dt||void 0===Dt||null===(U=Dt.componentOptions)||void 0===U?void 0:U.web)&&void 0!==F?F:{},ro=Object(n.useMemo)((()=>{var e;return{tenantReducer:Object(I.Td)(Dt)?Dt:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Object(I.ad)(At,null===At||void 0===At?void 0:At.store,{}),dispositionType:Object(I.ad)(Object(I.hb)(At,null===At||void 0===At?void 0:At.type),Object(I.Mb)(null===At||void 0===At?void 0:At.type),Object(I.Mb)(null===Dt||void 0===Dt||null===(e=Dt.authoredContent)||void 0===e?void 0:e.defaultdisposition))}}),[At,Dt]),{dispositionType:so}=ro,co=Object(r.h)(),uo=so===m.T,vo=Object(A.b)();Object(n.useEffect)((()=>{if(Object.keys(co.state||{}).length>0){var e;const{storeName:t,service:o,showToastAfterLocalization:i}=(null===co||void 0===co||null===(e=co.state)||void 0===e?void 0:e.toastData)||{};Object(we.a)(t,o,i),De.replace({state:null})}}),[co,De]);const Oo=Object(n.useMemo)((()=>Object(I.Sd)(fe.currentStoreInfo)?Object(I.b)(localStorage.getItem("currentStoreInfo")):fe.currentStoreInfo),[fe.currentStoreInfo]),[mo,bo]=Object(n.useState)(""),jo=(null===Mt||void 0===Mt?void 0:Mt.foodLines)||[],po=(e,t)=>e.filter((e=>t[e.item.id])).map((e=>({productId:t[e.item.id].parentID,quantity:null===e||void 0===e?void 0:e.quantity}))),ho=localStorage.getItem("timeSlotsAPIFlag");Object(n.useEffect)((()=>{var e,t,o,i,a;no&&Object(I.Vd)(null===At||void 0===At?void 0:At.type)&&null!==Qt&&void 0!==Qt&&Qt.length&&"false"===ho&&null!==Dt&&void 0!==Dt&&Dt.capacityPerformanceTimeslotSearch&&(localStorage.setItem("timeSlotsAPIFlag",!0),(null===At||void 0===At?void 0:At.date)&&oo&&vo(Object(Ae.o)({data:{cart:(null===jo||void 0===jo?void 0:jo.length)>0?po(jo,zt):[],dayOfPickup:Object(S.A)((null===At||void 0===At?void 0:At.date)+" "+oo,Xe),storeId:null===At||void 0===At||null===(e=At.store)||void 0===e?void 0:e.id,availableHours:null===At||void 0===At||null===(t=At.store)||void 0===t||null===(o=t.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(a=i.operatingHours[0])||void 0===a?void 0:a.availableHours}})))}),[oo,null===Qt||void 0===Qt?void 0:Qt.length]),Object(n.useEffect)((()=>{localStorage.setItem("timeSlotsAPIFlag",!1)}),[null===jo||void 0===jo?void 0:jo.length]),Object(n.useEffect)((()=>{var e,t;no&&Object(I.Vd)(null===At||void 0===At?void 0:At.type)&&(null!==Gt&&void 0!==Gt&&null!==(e=Gt.timeSlotsData)&&void 0!==e&&e.closestTime?bo(null===Gt||void 0===Gt||null===(t=Gt.timeSlotsData)||void 0===t?void 0:t.closestTime):bo(""))}),[null===Gt||void 0===Gt?void 0:Gt.timeSlotsData]);const go=Object(n.useCallback)((e=>{const t=Object(S.A)("".concat(null===At||void 0===At?void 0:At.date," ").concat(e),Ze),o={...At,epochTime:t,selectedTime:e,time:e};Ne({type:null===x.a||void 0===x.a?void 0:x.a.SET_DISPOSITION_NEW,value:{dispositionNew:o}}),localStorage.setItem("dispositionNew",JSON.stringify(o))}),[At,Ne]),So=Object(n.useCallback)((e=>{const t=Object(S.V)(e),o=Object(S.A)((null===At||void 0===At?void 0:At.date)+" "+t,Xe),i=Object(S.C)(o,$e);io(i),go(i),ee({date:null===At||void 0===At?void 0:At.date,storeId:Ie,time:i}),vo(Object(Ae.q)({params:{basketId:null===Mt||void 0===Mt?void 0:Mt.id},tenantId:null===Dt||void 0===Dt?void 0:Dt.tenantId,postBody:{isForNow:!1,futureDateTime:o}}))}),[null===Mt||void 0===Mt?void 0:Mt.id,vo,null===At||void 0===At?void 0:At.date,ee,go,Ie,null===Dt||void 0===Dt?void 0:Dt.tenantId]);Object(n.useEffect)((()=>{var e;const t=null===co||void 0===co||null===(e=co.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t);Object.fromEntries(e.entries())&&Ne({type:x.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}})}}),[]),Object(n.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(n.useEffect)((()=>{uo&&oo!==to&&(io(to),go(to))}),[to,uo,oo,go]),Object(n.useEffect)((()=>{Object(I.hb)(null===fe||void 0===fe?void 0:fe.isDeepLinkURL,dt)&&Object(I.Bd)(De)}),[dt,null===fe||void 0===fe?void 0:fe.isDeepLinkURL,De]);const Io=Object(n.useCallback)((e=>{if(null!==e&&void 0!==e&&e.parentElement){const t=e.parentElement;t.scrollTo({left:e.offsetLeft-(t.clientWidth-e.offsetWidth)/2,behavior:"smooth"})}}),[]);Object(n.useEffect)((()=>{var e;vo((e={object:Object(g.a)(),contentFull:{content_type:"supportContent","fields.title":"PLPDisclaimer",include:"5"}},{type:l.af,payload:e}))}),[vo]);const fo=Object(A.c)((e=>{var t,o;return(null===(t=e.PlpDisclaimerReducerContent)||void 0===t||null===(o=t.response)||void 0===o?void 0:o.plpDisclaimerResponseData)||{}}));Object(n.useEffect)((()=>{var e;if((null===fo||void 0===fo||null===(e=fo.items)||void 0===e?void 0:e.length)>0){var t,o,i,a;const e=null===fo||void 0===fo||null===(t=fo.items[0])||void 0===t||null===(o=t.fields.content[0])||void 0===o||null===(i=o.fields)||void 0===i||null===(a=i.richText)||void 0===a?void 0:a.content;ft(e)}})),Object(n.useEffect)((()=>{var e;let t=Object(k.j)(null===De||void 0===De||null===(e=De.location)||void 0===e?void 0:e.pathname);xt(t.menuTitle)}),[null===De||void 0===De||null===(H=De.location)||void 0===H?void 0:H.pathname]),Object(n.useEffect)((()=>(document.addEventListener(m.d[0],yo),()=>{document.removeEventListener(m.d[0],yo)}))),Object(n.useEffect)((()=>{var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.products)&&void 0!==e&&e.length&&null!==Ct&&void 0!==Ct&&Ct.isSearchedMode&&null!==de&&void 0!==de&&de.length){let e=Object(k.e)(null===Y||void 0===Y?void 0:Y.products,de);at(e)}}),[Y,Ct.searchedData,de]),Object(n.useEffect)((()=>{Ct.searchedData&&ue(Ct.searchedData)}),[Ct.searchedData]),Object(n.useEffect)((()=>{const e=Object(k.a)(ge);Object(k.g)(e,Rt,Lt,ve,ct,rt,me,wt,De,No,yt)}),[ge]);const No=()=>{var e,t;const o=Object(k.a)(ge);o.length&&_.scroller.scrollTo(null===o||void 0===o||null===(e=o[0])||void 0===e||null===(t=e.name)||void 0===t?void 0:t.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(I.ad)(me,-128,-130)})};Object(n.useEffect)((()=>(et&&clearTimeout(et),et=setTimeout((()=>{if(Ot!==ut&&!fe.isMenuPageScrolling){const{selectedCategory:e,selectedSubcategory:t}=Object(k.h)(je,ut);let o=Object(k.f)({...e,currencyShortName:lo},t,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.id,null===K||void 0===K?void 0:K.currencyConversionFactor);Object(k.x)(o,so),mt((()=>ut))}}),2e3),()=>{clearTimeout(et)})),[ut]);const Co=Object(n.useCallback)(((e,t)=>{var o;me&&(null===(o=document.getElementById("category-name-".concat(t)))||void 0===o||o.scrollIntoView({inline:"center"}));vt((()=>e))}),[me]),To=Object(n.useCallback)((()=>{We(!0),He(!1)}),[]),Eo=Object(n.useCallback)((()=>{He(!0),We(!1)}),[]),xo=Object(n.useCallback)((e=>{Ve(e)}),[]),Do=()=>{var e;const t=null===(e=document)||void 0===e?void 0:e.getElementById("kfc-banner-image"),o=null===t||void 0===t?void 0:t.getBoundingClientRect();nt((null===o||void 0===o?void 0:o.bottom)>2)};Object(n.useEffect)((()=>(window.addEventListener("scroll",Do),()=>window.removeEventListener("scroll",Do))),[me]);const yo=e=>{Nt.current&&!Nt.current.contains(e.target)&&jt(!1)},Ao=Object(n.useCallback)((e=>{Object(M.d)(e)}),[]),_o=Object(n.useCallback)(((e,t,o,i)=>{var a;Object(k.o)(t,i+1),vt((()=>t));const l=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");l&&(l.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),De.push({pathname:Object(I.ad)(Object(h.b)(null===De||void 0===De||null===(a=De.location)||void 0===a?void 0:a.pathname),"".concat(m.Ce.CATERING_PAGE).concat(o),"".concat(m.Ce.MENU_PAGE).concat(o))})}),[De]),Ro=Object(n.useCallback)(((e,t)=>{Object(M.c)(e,t,Co,_o)}),[Co,_o]),Lo=Object(n.useCallback)((e=>{var t;(null===(t=Se)||void 0===t?void 0:t.length)>0&&ht(Se.filter((t=>{var o,i;return Object(I.hb)(!t.isHidden,Object(k.b)(null===t||void 0===t||null===(o=t.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value,e))})).slice(0,5))}),[Se]),Po=Object(n.useCallback)((()=>{St(""),jt(!1),Lo(""),le(),Tt({isSearchedMode:!1,searchedData:""})}),[Lo,le]),wo=Object(n.useCallback)((()=>{Object(k.d)(q,J,$,Ee,Te)}),[J,q,$]),Mo=Object(A.c)((e=>({contentReducerData:C()(e,"contentReducer.response",null)}))),ko=Object(I.wd)(Object(I.fc)(Mo.contentReducerData)),Fo=()=>{var e,t,o,i;const l=0===(null===Oo||void 0===Oo||null===(e=Oo.summary)||void 0===e||null===(t=e.timings)||void 0===t||null===(o=t.scheduled)||void 0===o||null===(i=o.periods)||void 0===i?void 0:i.length)||!1,n=(()=>{var e;if(!Ie||null===Gt||void 0===Gt||!Gt.orderCapacity||null===Gt||void 0===Gt||!Gt.orderCapacity[Ie])return[];const t=null!==(e=Object.keys(null===Gt||void 0===Gt?void 0:Gt.orderCapacity[Ie])[0])&&void 0!==e?e:null;if(!t)return[];const{date:o}=At,i=Object(S.p)(),a=null===Gt||void 0===Gt?void 0:Gt.orderCapacity[Ie][t];return Object.keys(a).filter((e=>{const t=Object(S.A)("".concat(o," ").concat(Object(S.V)(e)),"YYYY_MM_DD_hh_mm")>i;return parseInt(a[e])>0&&t})).sort(((e,t)=>Object(S.A)("".concat(o," ").concat(Object(S.V)(e)),"YYYY_MM_DD_hh_mm")-Object(S.A)("".concat(o," ").concat(Object(S.V)(t)),"YYYY_MM_DD_hh_mm")))||[]})(),d=l?[]:n,r=d&&d.length>7;return Object(s.jsxs)("div",{className:"special-event-time-nav ".concat(Ut?"":"abridged"),"data-testid":"special-event-time-nav-test",children:[Object(s.jsx)("div",{className:"special-event-time-slots","data-testid":"special-event-time-slots",children:d.map((e=>{const t=Object(S.Y)(oo)===Object(S.V)(e);return Object(s.jsx)("button",{className:"button ".concat(t?"redButton":""),onClick:()=>{So(e)},ref:t?Io:null,children:Object(I.z)(e)},e)}))}),Object(s.jsxs)("div",{className:"".concat(qt&&"special-event-time-slots-options"),children:[r&&Object(s.jsx)("button",{className:"".concat(qt?"special-event-time-slots-show-more-only":"special-event-time-slots-show-more"),"data-testid":"show-more-test",onClick:()=>{Ht(!Ut)},children:Object(s.jsxs)("div",{className:"button-content",children:[Object(s.jsx)("span",{children:Ut?Object(a.translateWithI18Next)(ke):Object(a.translateWithI18Next)(Fe)}),Object(s.jsx)("img",{src:Ut?L.a:R.a,alt:Ut?"arrow up":"arrow down"})]})}),Object(s.jsx)(Le.a,{variant:Re.b.primary,fullWidth:!0,"data-testid":"magic-button",onClick:()=>Bo(),cartData:Mt,specialEventItemAvailability:Oe,availableSlots:mo,itemMapById:zt,setDisplayMagicButton:Jt,displayMagicButton:qt,setUnavailableData:Xt,children:"".concat(Object(S.V)(mo)," ").concat(Object(a.translateWithI18Next)(Ue))})]})]})},[Uo,Ho]=Object(n.useState)(!1),Bo=()=>{mo?Ho(!0):Yt(!0)},Wo={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:!0,classNames:"time-slot-unavailable-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>{Yt(!1)},autoFocus:!0},Go=e=>{Ne({type:null===x.a||void 0===x.a?void 0:x.a.UPDATE_IS_MENU_PAGE_SCROLLING,value:e})};return Object(s.jsxs)(d.a.Fragment,{children:[Object(I.hb)(!(null!==fe&&void 0!==fe&&fe.isDeepLinkURL),Object(M.a)(st,At,so,dt,ce,rt,De)),Object(I.ad)(me,Object(s.jsxs)("div",{className:"mob-plp-au",children:[Ft&&Object(s.jsxs)(Ft,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",isSmartBannerVisible:lt,topValue:null===(B=document)||void 0===B||null===(W=B.getElementById("select-start-order-items"))||void 0===W?void 0:W.clientHeight,className:"mob-nav-row ".concat(Object(I.ad)(Ce,"hide-mob-nav-row","")).concat(Object(I.ad)(yt," localized","".concat(Bt," nonlocalized"))),children:[Object(s.jsxs)("div",{onClick:()=>(Ee.current.style.width="100%",void Te(!0)),"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(s.jsx)(u.a,{srcFile:Qe,className:"mob-search-img",alt:""}),Object(I.hb)(Object(I.jb)([...q,...J].length,Ct.isSearchedMode),Object(s.jsx)("div",{className:"totalFilterAppliedCount",children:Object(I.U)(Se)}))]}),Object(s.jsx)(xe,{filterList:q,dietaryList:J,sortByList:Q,searchMode:Ct,isMobile:me,clearSearch:Po,handleClearItems:te,menu:je,categories:ge,setActiveMenuSelection:vt,history:De,hasSubcategory:Ao,handleSetActive:Co,getMenusSubcategory:Ro,onItemClick:_o,onNavigationCallBack:Go})]}),Object(s.jsx)(ye,{searchMode:Ct,filterList:q,dietaryList:J,isMobile:me,products:Se,showItemsTextOnSearch:ao}),Object(s.jsx)(y.a,{className:"mob-plp-sections",children:!uo&&tt(ko,De,yt,me,No)}),uo?Fo():null,Object(s.jsxs)(y.a,{className:(Vo=Object(h.b)(null===De||void 0===De||null===(G=De.location)||void 0===G?void 0:G.pathname),"mob-plp-sections ".concat(Object(I.hb)(Vo,"margin-top-mob-plp-sections"))),children:[Object(s.jsx)(pe,{isMobile:me,searchMode:Ct,categories:ge,viewCarousal:Pe,viewUp:Be,changeViewtoUp:To,changeViewtoCarousal:Eo,carouselCount:Ge,tenantData:K,recommendProducts:Ye,localized:yt,catalogs:re,storeClosedData:ce,selectedCat:se,getCardCount:xo,filterList:q,dietaryList:J,products:Se,clearSearch:Po,dispositionType:so,isNavigating:null===fe||void 0===fe?void 0:fe.isMenuPageScrolling}),Object(I.ib)(Object(I.le)(),fo,Object(s.jsx)("div",{className:"mob-disclimer-content",children:null===It||void 0===It?void 0:It.map(((e,t)=>{const o=null===It||void 0===It?void 0:It.length;return Object(s.jsx)("div",{className:"info-content-mobile",id:Object(I.ad)(o===t+1,"lastElement-disclimer",""),dangerouslySetInnerHTML:{__html:Object(i.documentToHtmlString)(e)}},"disclaimer-".concat(t))}))}))]}),Object(s.jsx)(he,{ref:Ee,className:"sidenav-filter",selectedTile:z,filterList:q,dietaryList:J,sortByListMob:Q,filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleCheckbox:oe,handleClearItems:te,handleRadio:ie,closeSearchFilterMenu:wo,tempData:ne,data:Y,inputSearchData:gt,handleFilteredData:ae,handleSearchdata:le,setSearchModeData:(e,t)=>{Tt({isSearchedMode:e,searchedData:t})},searchedData:Ct.searchedData})]}),Object(s.jsxs)(y.a,{className:"plp-menu-row","data-testid":"menus-container",children:[kt&&Object(s.jsxs)(kt,{md:"3",className:"plp-left-nav plp-side-panel".concat(Object(I.ad)(yt," localized","")),children:[Object(s.jsx)(y.a,{className:"plp-stripes-section",children:Object(s.jsx)(u.a,{srcFile:Je,className:"stripes-img",alt:""})}),Object(s.jsx)(c,{className:"kfc-menu-title","data-testid":"kfc-menu-heading",value:Object(I.ad)(Object(I.jb)([...q,...J].length,Ct.isSearchedMode),"".concat(Object(I.U)(Se)," ").concat(Object(a.translateWithI18Next)(Me)),Et)}),Object(s.jsx)(xe,{filterList:q,dietaryList:J,sortByList:Q,searchMode:Ct,isMobile:me,clearSearch:Po,handleClearItems:te,menu:je,categories:ge,setActiveMenuSelection:vt,history:De,hasSubcategory:Ao,handleSetActive:Co,getMenusSubcategory:Ro,onItemClick:_o,onNavigationCallBack:Go})]}),Object(s.jsxs)(D.a,{md:"9",className:"plp-right-nav",children:[!uo&&tt(ko,De,yt,me,No),Object(s.jsx)(D.a,{sm:12,className:it(Object(h.b)(null===De||void 0===De||null===(V=De.location)||void 0===V?void 0:V.pathname)),children:Object(s.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(s.jsx)(v.a,{name:"searchInput",className:"search-menu-input",onKeyPress:e=>(e=>{if(e.key===w.ENTER){if(""===e.target.value)return;jt(!1),le(e.target.value.toLowerCase().toString()),Tt({isSearchedMode:!0,searchedData:gt}),window.scrollTo(0,0)}})(e),onChange:e=>(e=>{St(e.target.value),Object(I.sb)(q.length,J.length,Q.length)&&te(),e.target.value.toString().length>2?(jt(!0),Lo(e.target.value.toString())):bt&&(jt(!1),Lo(""),le(),Tt({isSearchedMode:!1,searchedData:""}))})(e),value:gt,placeholder:Object(a.translateWithI18Next)(_t),"aria-label":"Search our menu",onBlur:e=>e.target.placeholder="".concat(Object(a.translateWithI18Next)(_t))}),Object(s.jsx)("span",{className:"search-icon",children:Object(s.jsx)(u.a,{srcFile:ze,className:"search-icon-img",alt:""})}),Object(I.ad)(Object(I.jb)(Object(I.hb)(gt.length>2,!Ct.isSearchedMode),Object(I.hb)(Object(I.hb)(gt.length>2,Ct.isSearchedMode),Object(I.jb)(Object(I.U)(Object(I.wd)(Se))>0,0===Object(I.U)(Object(I.wd)(Se))))),Object(s.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:()=>Po(),src:qe,alt:""}),null),Object(I.hb)(bt,Object(s.jsx)("div",{ref:Nt,className:"inputAutoCompletePLP",children:(null===pt||void 0===pt?void 0:pt.length)>0&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"SuggestionHeader",children:[" ",Object(a.translateWithI18Next)(E.a.SUUGESTED_ITEMS_TEXT)]}),Object(s.jsx)("ul",{className:"autoCompleteListPLP",children:pt.map(((e,t)=>{var o,i;return Object(s.jsxs)("li",{onClick:()=>(e=>{var t,o,i,a;Object(k.s)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),Zt?le(e.name,!1):ae(e.mdmId),jt(!1),St(null===(t=e.dname)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.value),Tt({isSearchedMode:!0,searchedData:null===(i=e.dname)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value}),window.scrollTo(0,0)})(e),"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(s.jsx)("span",{className:"searchgrey-icon-img",children:Object(s.jsx)(u.a,{srcFile:Ke,alt:""})}),Object(s.jsx)("span",{children:null===(o=e.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value})]},e.mdmId+t)}))})]})}))]})}),Object(s.jsx)(ye,{searchMode:Ct,filterList:q,dietaryList:J,isMobile:me,products:Se,showItemsTextOnSearch:ao}),uo?Fo():null,Object(s.jsx)(y.a,{className:Object(I.ad)(Object(I.sb)(Ct.isSearchedMode,q.length>0,J.length>0),"position-relative","plp-sections"),children:Object(s.jsx)(pe,{isMobile:me,searchMode:Ct,categories:ge,viewCarousal:Pe,viewUp:Be,changeViewtoUp:To,changeViewtoCarousal:Eo,carouselCount:Ge,tenantData:K,catalogs:re,storeClosedData:ce,selectedCat:se,getCardCount:xo,filterList:q,dietaryList:J,products:Se,clearSearch:Po,recommendProducts:Ye,localized:yt,dispositionType:so,specialEventItemAvailability:Oe,isNavigating:null===fe||void 0===fe?void 0:fe.isMenuPageScrolling})}),Object(I.ib)(Object(I.le)(),fo,Object(s.jsx)("div",{className:"info-content",children:null===It||void 0===It?void 0:It.map(((e,t)=>Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(i.documentToHtmlString)(e)}},"some-disc-".concat(t))))}))]})]})),Uo&&Object(s.jsx)(_e.a,{visibility:Uo,setVisibility:Ho}),Vt&&ot(Wo,At,(()=>{Ho(!Uo),Yt(!1)}),Kt,Mt)]});var Vo},nt=d.a.memo(lt)},601:function(e,t,o){"use strict";o.r(t);var i=o(3),a=o(409),l=o(62),n=o(5),d=o(396),r=o(85),s=o(16),c=o(28),u=o(0),v=o(1211),O=o(41),m=o(403),b=o(2);const j=e=>{const{headerLinks:t,onNavigateHandler:o,menuImageWidth:i,menuImageHeight:a,elementUniqueLocator:l}=e;return Object(b.jsx)("div",{className:"menu-links-container",children:null===t||void 0===t?void 0:t.map(((e,t)=>Object(b.jsxs)("div",{className:"menu-link","data-testid":"menu-link-".concat(null===e||void 0===e?void 0:e.name),onKeyPress:t=>((e,t,i)=>{const{SPACE:a,ENTER:l}=u.ag.KEY_CHAR_CODE;[a,l].includes(null===e||void 0===e?void 0:e.charCode)&&o(t,i)})(t,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.pathname),onClick:()=>o(null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.pathname),children:[Object(b.jsx)("div",{"data-testid":"menu-name-".concat("".concat(l?t:null===e||void 0===e?void 0:e.name)),className:"menu-link-name".concat(l?" menu-link-name--jp":""),children:null===e||void 0===e?void 0:e.name}),Object(b.jsx)("div",{className:"menu-link-image",style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.imageUrl,"?h=").concat(a,"&w=").concat(i,")")}})]},"menu-link-".concat(null===e||void 0===e?void 0:e.name))))})};var p=o(1171),h=o(1164),g=o(239),S=o.n(g),I=o(212),f=o(35);const N=(e,t,o,i,a)=>Object(b.jsxs)("div",{className:"shopping-cart ".concat(a?"active":""),onClick:()=>t(I.a.CART,u.Ce.CART),"data-testid":a?"animated-icon":"normal-icon",name:I.a.CART,children:[Object(b.jsxs)("div",{className:"lines",children:[Object(b.jsx)("span",{className:"line first"}),Object(b.jsx)("span",{className:"line second"}),Object(b.jsx)("span",{className:"line third"})]}),Object(b.jsx)(O.a,{className:"basket basket-link ".concat(i>0?"":"blank"),style:{background:"url(".concat(null===o||void 0===o?void 0:o.url,") no-repeat")},children:i})]}),C=e=>{const{navRight:t,gotoCart:o}=e,[a,l]=Object(i.useState)(!1),[d,r]=Object(i.useState)(0),{CART_ICON_100_PERCENT:s,CART_ICON_120_PERCENT:v}=I.a,O=Object(c.b)(),m=Object(c.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),j=Object(c.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{addHope:p,carryBag:h,showCarryBagInLineItem:g}=j,{cartData:C={},isItemAdded:T=!1,isUpdateQuantityLoading:E=!1,isRemoveItemLoading:x=!1}=m,{foodLines:D=[]}=null!==(y=C)&&void 0!==y?y:{};var y;const A=Object(n.db)(D,u.i);return Object(i.useEffect)((()=>{var e,t;let o;return(0===(null===D||void 0===D||null===(e=D.filter)||void 0===e||null===(t=e.call(D,(e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.isHidden})))||void 0===t?void 0:t.length)||A)&&Object(n.sb)(T,E,x)&&(O(Object(f.l)()),l(!0)),a&&(o=setTimeout((()=>{l(!1)}),600)),()=>{o&&clearTimeout(o)}}),[T,E,m,D,x,O,a]),Object(i.useEffect)((()=>{if(p&&h){const e=Object(n.Tb)(D,p,h,g);r(S()(e,((e,t)=>e+t.quantity),0))}}),[D,p,h]),Object(b.jsx)("div",{className:"cart-image","data-testid":"cart-image",children:null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map(((e,t)=>Object(n.ib)(null===e||void 0===e?void 0:e.url,s===(null===e||void 0===e?void 0:e.title),!a)?N(0,o,e,d,!1):Object(n.ib)(null===e||void 0===e?void 0:e.url,v===(null===e||void 0===e?void 0:e.title),a)?N(0,o,e,d,!0):null)):null})};var T=o(1100),E=o(1124),x=o(15),D=o(1139);const y=(e,t)=>e&&Object(b.jsx)(D.a,{history:t}),A=e=>{var t,o,i,a,l,d,r,s;const{navRight:u,headerLinks:v,kfcLogo:g,history:S,onNavigateHandler:I,openHamburger:f,elementUniqueLocator:N}=e,D=Object(E.a)(null===T.f||void 0===T.f?void 0:T.f.HEADER_STYLES),{HamburgerMenuIcon:A,HeaderLogo:_}=x.a,{allowHiddenMenuViaExternalUrl:R}=Object(c.c)((e=>null===e||void 0===e?void 0:e.tenantReducer));return D&&Object(b.jsxs)("div",{children:[Object(b.jsxs)(D,{className:"root-header-view ".concat(Object(n.ad)(Object(n.sb)(null===S||void 0===S||null===(t=S.location)||void 0===t||null===(o=t.pathname)||void 0===o?void 0:o.includes("privacy-policy"),null===S||void 0===S||null===(i=S.location)||void 0===i||null===(a=i.pathname)||void 0===a?void 0:a.includes("terms-conditions"),null===S||void 0===S||null===(l=S.location)||void 0===l||null===(d=l.pathname)||void 0===d?void 0:d.includes("protected-disclosure")),"root-header-view-policies","")),children:[Object(b.jsx)(O.a,{"data-testid":"hamburger-button",className:"header-item-buttons header-hamburger-icon",onClick:f,children:Object(b.jsx)(m.a,{srcFile:A,alt:"hamburger-icon"})}),Object(b.jsx)("div",{"data-testid":"kfc-logo",className:"header-logo-mobile ".concat(Object(n.ad)(null===S||void 0===S||null===(r=S.location)||void 0===r||null===(s=r.pathname)||void 0===s?void 0:s.includes("cart"),"header-logo-mobile-cart","")),onClick:()=>Object(n.Ye)({history:S}),children:Object(b.jsx)(m.a,{srcFile:(null===g||void 0===g?void 0:g.src)||_,alt:"KFC LOGO"})}),Object(b.jsx)(j,{headerLinks:v,onNavigateHandler:I,elementUniqueLocator:N}),Object(b.jsxs)("div",{className:"right-nav-container",children:[Object(b.jsx)(p.a,{defaultTooltipShow:!0}),Object(b.jsx)(h.a,{navRight:u}),Object(b.jsx)(C,{gotoCart:I,navRight:u})]})]}),Object(b.jsx)("div",{className:"border",children:" "}),y(R,S)]})};var _=o(75),R=o(46),L=o(264),P=o(6),w=o(1200),M=o(169);var k=e=>{const{subCategories:t,onClickHandler:o}=e;return Object(b.jsx)("div",{children:Object(b.jsx)(M.a,{header:Object(P.translateWithI18Next)(I.a.SUPPORT),isDarkMode:!1,shouldDefaultOpen:!0,dataTestId:"support-accordian",open:!0,children:Object(b.jsx)("ul",{className:"footer-links",children:Object(b.jsx)(b.Fragment,{children:(i=t,i.map(((e,t)=>Object(b.jsxs)(w.a,{onClickHandler:o,dataTestId:"listItems-component-".concat(e.name),className:"footer-links",...e,children:[Object(b.jsx)(R.a,{srcFile:null===e||void 0===e?void 0:e.icon,alt:"location-map",className:"find-A-kfc-img"}),e.name]},t))))})})})});var i};const F=e=>{const{categoryHeaderText:t,subCategories:o,onClickHandler:i}=e;return Object(b.jsxs)("div",{className:"ul-title",children:[Object(b.jsx)("span",{role:"heading","aria-level":"2",className:"header-text-footer",children:t}),Object(b.jsx)(k,{subCategories:o,onClickHandler:i})]})},U=e=>{var t,o,a,l;const{navRight:n,navLeft:d,navMobileMenu:r,onNavigateHandler:s,showHamburger:u,closeHamburger:v,languageObj:m,menuImageWidth:g,menuImageHeight:S}=e,{supportCategory:f={}}=r,{LETS_GET_COOK:N}=I.a,T=null===f||void 0===f||null===(t=f.subCategories)||void 0===t?void 0:t.length,E=Object(c.c)((e=>e.tenantReducer)),{basic:D}=E,{PopupCloseBtn:y}=x.a;return Object(i.useEffect)((()=>{var e,t,o,i,a;return null===(e=sessionStorage)||void 0===e||e.setItem("currentPosY",null===(t=window)||void 0===t?void 0:t.scrollY),null===(o=document)||void 0===o||null===(i=o.getElementById("app-container"))||void 0===i||null===(a=i.classList)||void 0===a||a.add("scroll-lock-background"),()=>{var e,t,o,i,a,l,n;null===(e=window)||void 0===e||e.scrollTo(0,null!==(t=null===(o=sessionStorage)||void 0===o?void 0:o.getItem("currentPosY"))&&void 0!==t?t:0),null===(i=sessionStorage)||void 0===i||i.removeItem("currentPosY"),null===(a=document)||void 0===a||null===(l=a.getElementById("app-container"))||void 0===l||null===(n=l.classList)||void 0===n||n.remove("scroll-lock-background")}}),[]),Object(_.createPortal)(Object(b.jsx)("div",{className:"root-header-au",children:Object(b.jsxs)("div",{id:"hamburger-menu-comp",className:"hamburger-container".concat(u?" side-nav-open":""),children:[Object(b.jsxs)("div",{className:"hamburger-header-container",children:[Object(b.jsx)(O.a,{className:"hamburger-close-button","data-testid":"hamburger-close",onClickHandler:v,children:Object(b.jsx)(R.a,{srcFile:y,alt:"close"})}),(null===D||void 0===D||null===(o=D.allowedLanguages)||void 0===o?void 0:o.length)<=1&&Object(b.jsx)("span",{"data-testid":"header-stripes-icon",className:"header-stripes-icon",children:Object(b.jsx)(L.a,{src:x.a.Strips})}),(null===D||void 0===D||null===(a=D.allowedLanguages)||void 0===a?void 0:a.length)<=1&&Object(b.jsx)(C,{gotoCart:s,navRight:n}),Object(b.jsx)(p.a,{languageObj:m,closeHamburger:v,hamburgerMenu:!0})]}),(null===D||void 0===D||null===(l=D.allowedLanguages)||void 0===l?void 0:l.length)>1&&Object(b.jsx)("div",{className:"langmodal-stripe-icon",children:Object(b.jsx)(L.a,{src:x.a.Strips})}),Object(b.jsxs)("div",{className:"hamburger-body-container",children:[Object(b.jsx)("div",{"data-testid":"language-head-container",className:"language-head-container",children:Object(b.jsx)("div",{"data-testid":"hamburger-heading",className:"hamburger-heading",children:Object(P.translateWithI18Next)(N)})}),Object(b.jsx)(h.a,{navRight:n,closeHamburger:v,hamburgerComp:!0}),Object(b.jsx)(j,{headerLinks:d,onNavigateHandler:s,menuImageWidth:g,menuImageHeight:S}),T&&Object(b.jsx)(F,{className:"footer-links",onClickHandler:s,...f})]})]})}),document.getElementById("modal-popups"))};var H=o(106),B=o(92),W=o(159),G=o(4),V=o(11),Y=o(14),z=o(1201),K=o(80),q=o(132),J=o(1169);const{Timeout:Q}=x.a,{STORE_CLOSING_SOON:X,STORE_CLOSE_SOON_CONTENT:Z,COMPLETE_ORDER_BUTTON:$,FIND_NEARBY_STORE:ee}=G.a;t.default=e=>{var t,o;const{contentData:O={}}=e,{MENU_LINK_IMAGES:m}=u.Oc,{MENU_IMAGE_HEIGHT_MOBILE:j,MENU_IMAGE_WIDTH_MOBILE:p}=m,[h,g]=Object(i.useState)(!1),[S,f]=Object(i.useState)(!1),[N,C]=Object(i.useState)(0),[T,E]=Object(i.useState)(!1),{userOrderState:D,userOrderStateDispatch:y}=Object(i.useContext)(r.a),{alertModalData:_={},timeBasedCetegory:R}=D,L=Object(c.b)(),w=Object(l.g)(),M=Object(c.c)((e=>Object(n.sd)(e.storesReducer))),k=Object(c.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),F=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(c.c)((e=>e.cartReducer)),{cartData:oe={}}=Object(n.sd)(te),{CartError:ie}=x.a,{START_NEW_ORDER:ae,KEEP_ORDER:le}=G.a,ne=Object(n.ad)(Object(n.Sd)(D.dispositionNew),JSON.parse(localStorage.getItem(u.gd.DISPOSITION_NEW)),D.dispositionNew),de=Object(q.b)(K.b),re=Object(q.a)(),{basic:se,country:ce,tenantId:ue,elementUniqueLocator:ve,isSpecialEventEnabled:Oe,enableDeliveryMenuOption:me}=k,{navLeft:be,navRight:je,kfcLogo:pe,navMobileMenu:he,languageObj:ge}=Object(a.c)({headerData:O,basic:se,country:ce,isSpecialEventEnabled:Oe,enableDeliveryMenuOption:me}),{handleMenuNavigation:Se,handleDeliveryMenuNavigation:Ie}=Object(J.a)(),fe=()=>{y({type:s.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!1,pathname:"",title:"",contentMsg:""}})},Ne=(null===M||void 0===M?void 0:M.storesWithStatus)&&Object(a.b)(null===M||void 0===M?void 0:M.storesWithStatus[0]),Ce=Object(i.useCallback)((e=>N?clearInterval(e):null),[N]);Object(i.useEffect)((()=>{var e,t,o,i;const a=setInterval((()=>{var e;const t=Object(n.v)(null===M||void 0===M||null===(e=M.storesWithStatus[0])||void 0===e?void 0:e.summary,Object(Y.a)(V.Ob),!0);null!==R&&void 0!==R&&R.isTimeExpired||Object(d.m)(R,te,y),Object(n.yf)(ne,te,t,C,E)}),15e3);return Ce(a),R&&null!==R&&void 0!==R&&null!==(e=R.foodLinesItems)&&void 0!==e&&e.length&&(null===R||void 0===R||null===(t=R.foodLinesItems)||void 0===t?void 0:t.length)!==(null===te||void 0===te||null===(o=te.cartData)||void 0===o||null===(i=o.foodLines)||void 0===i?void 0:i.length)&&Object(d.m)(R,te,y),()=>{clearInterval(a)}}),[N,null===M||void 0===M?void 0:M.storesWithStatus,ne,null===te||void 0===te||null===(t=te.cartData)||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.length,Ce,te,R,y]);const Te=(e,t)=>{(e=>{let{headerItemSelected:t,pathname:o,userOrderStateDispatch:i,userParams:l,dispositionNew:d,setShowHamburger:r,history:c,setShowOrderLookupModal:v}=e;const{CATERING_NAVALERT_TITLE:O,CATERING_NAVALERT_SUBTITLE:m,MENU_NAVALERT_TITLE:b,MENU_NAVALERT_SUBTITLE:j}=G.a;if(Object(a.d)({headerItemSelected:t}),r(!1),t===I.a.CART)c.push({pathname:o});else if((null===t||void 0===t?void 0:t.name)===s.a.ORDER_LOOKUP)v(!0);else if(o){if(o===u.Ce.EVENT_PAGE||Object(n.Vd)(null===d||void 0===d?void 0:d.type))return Se(o);if(me&&(o===u.Ce.DELIVERY_PAGE||Object(n.Jd)(null===d||void 0===d?void 0:d.type)))return Ie(o);switch(Object(W.d)(l.localized,null===d||void 0===d?void 0:d.type,o)){case u.xf:i({type:s.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:o,title:O,contentMsg:m}});break;case u.yf:i({type:s.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:o,title:b,contentMsg:j}});break;default:c.push({pathname:o})}}})({headerItemSelected:e,pathname:t,userOrderStateDispatch:y,userParams:F,dispositionNew:ne,setShowHamburger:g,history:w,setShowOrderLookupModal:f})};return Object(i.useEffect)((()=>{null!==R&&void 0!==R&&R.isAlert1&&Object(n.uf)({key:null===u.gd||void 0===u.gd?void 0:u.gd.HIDE_ALERT_1_POPUP,value:!0},re)}),[null===R||void 0===R?void 0:R.isAlert1]),Object(i.useEffect)((()=>{(null===de||void 0===de?void 0:de.HIDE_ALERT_1_POPUP)&&setTimeout((()=>{Object(n.pf)({key:u.gd.HIDE_ALERT_1_POPUP},re)}),6e4)}),[null===de||void 0===de?void 0:de.HIDE_ALERT_1_POPUP]),Object(b.jsxs)("div",{className:"root-header au ".concat(ce),"data-testid":"HeaderItems-component",role:"banner","data-id":u.qb.HEADER_ATTR_DATA_ID,children:[Object(b.jsx)(A,{history:w,navRight:je,headerLinks:be,kfcLogo:pe,languageObj:ge,onNavigateHandler:(e,t)=>Te(e,t),openHamburger:()=>g(!0),elementUniqueLocator:ve}),Object(n.ad)(h,Object(b.jsx)(U,{showHamburger:h,closeHamburger:()=>g(!1),navRight:je,navLeft:be,menuImageWidth:p,menuImageHeight:j,languageObj:ge,navMobileMenu:he,onNavigateHandler:(e,t)=>Te(e,t)}),null),S&&Object(b.jsx)(v.a,{isOpen:!0,handleClose:()=>f(!1)}),Object(n.ad)(_.flag,Object(b.jsx)(H.a,{handleClose:fe,classNames:"clear-cart-modal item-unavailable catering-menu-nav-alert",CartAlertForm:Object(b.jsx)(B.a,{title:Object(P.translateWithI18Next)(_.title),contentMsg:Object(P.translateWithI18Next)(_.contentMsg),imageSrc:ie,altText:"",confirmButtonText:Object(P.translateWithI18Next)(ae),confirmHandler:()=>{Object(W.a)(null===oe||void 0===oe?void 0:oe.id,ue,F,L,y,Object(W.b)(_.pathname),ne),w.push({pathname:_.pathname}),fe()},cancelButtonText:Object(P.translateWithI18Next)(le),cancelHandler:fe})}),Object(b.jsx)(b.Fragment,{})),Object(n.ad)(T,Object(b.jsx)(H.a,{"data-testid":"alert-modal",handleClose:()=>E(!1),classNames:"clear-cart-modal item-unavailable store-time-msg",CartAlertForm:Object(b.jsx)(B.a,{splitTitle:{MSGTXT2:"".concat(null===Ne||void 0===Ne?void 0:Ne.storeName),MSGTXT3:"".concat(Object(P.translateWithI18Next)(X))},contentMsg:Object(P.translateWithI18Next)(Z),imageSrc:Q,cancelButtonText:Object(P.translateWithI18Next)(ee),cancelHandler:()=>{E(!1),y({type:s.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0}})},confirmButtonText:Object(P.translateWithI18Next)($),confirmHandler:()=>E(!1)})}),null),!(null!==de&&void 0!==de&&de.HIDE_ALERT_1_POPUP)&&Object(b.jsx)(z.a,{})]})}},617:function(e,t,o){"use strict";o.r(t),o.d(t,"checkLocationToShowModal",(function(){return he})),o.d(t,"onClickBtnHandler",(function(){return ge})),o.d(t,"showModalIftrue",(function(){return Se})),o.d(t,"removeStatefromPDP",(function(){return Ie})),o.d(t,"getFinalPayloadData",(function(){return fe})),o.d(t,"getStoreClosureMessage",(function(){return Ne}));var i=o(3),a=o.n(i),l=o(62),n=o(85),d=o(28),r=o(5),s=o(145),c=o(35),u=o(159),v=o(211),O=o(1125),m=o(402),b=o(16),j=o(1246),p=o(1247),h=o(2);var g=e=>{const{unavailableItems:t,priceChangedItems:o,confirmChangesHandler:a,discardChangesHandler:l}=e,{userOrderStateDispatch:d}=Object(i.useContext)(n.a),{CART_STATES_DATA:r="",ADD_TO_CART_CLICK:s=""}=b.a,c=Object(h.jsx)(j.a,{onCartStatesMethodSubmit:(e,t)=>{e.stopPropagation(),e.preventDefault(),"discardChanges"===t?l():a()},unavailableItems:t,priceChangedItems:o});return Object(h.jsx)(p.a,{handleClose:e=>{e.stopPropagation(),e.preventDefault(),d({type:r,value:{showCartModal:!1}}),d({type:s,value:{addToCart:!1}})},CartStatesModuleForm:c})};var S=Object(l.j)((e=>{const{flatResponse:t={},tenantReducer:o={}}=e,{userOrderState:l,userOrderStateDispatch:u}=Object(i.useContext)(n.a),{CART_STATES_DATA:v,ADD_TO_CART_CLICK:O,MENU_URL:m}=b.a,{currencyConversionFactor:j,tenantId:p}=o,S=l.productItemId,I=l.oldProduct,f=l.categoryId,N=Object(r.Sd)(l.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):l.dispositionNew,{date:C="",time:T=""}=N||{},[E,x]=Object(i.useState)([]),[D,y]=Object(i.useState)([]),A=Object(d.c)((e=>{let{menuReducer:{isLoading:t}}=e;return t})),_=Object(d.c)((e=>e.cartReducer)),R=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),L=Object(d.b)();Object(i.useEffect)((()=>{if(u({type:v,value:{showCartModal:!0}}),Object(r.Td)(t)&&j&&!A){const e=t.items.filter((e=>P(e)));if(S){let t=((e,t,o,i,a)=>{let l={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===i||void 0===i?void 0:i.productName,imageName:null===i||void 0===i?void 0:i.productImage,id:a}},cartPrice:null===i||void 0===i?void 0:i.productPrice};for(let n=0;n<(null===t||void 0===t?void 0:t.length);n++){const a=t[n];if(a.id===e){console.log("flatItem >>>",a),l.findings=[],l.toRemove=!1;let e=Object(r.Ec)(a.availability[0],o),t=i.productPrice;e!==t?(l.findings.push("Item Price has changed Cart Price(".concat(t,"), Menu price(").concat(e,")")),l.requireModification=!0,l.menuPrice=e,l.cartPrice=t):(l.menuPrice=e,l.cartPrice=t);break}}return l})(S,e,j,I,S),o=[];t.toRemove&&o.push(t),x(o);let i=[];t.requireModification&&i.push(t),y(i)}else x([]),y([])}}),[j,S,JSON.stringify(t),A]),Object(i.useEffect)((()=>{R&&f&&L(Object(c.v)({showProductListingModal:!0,categorySelected:f}))}),[R]);const P=e=>!!Object(r.Hc)(e.availability,C,T),w=()=>{e.history.push({pathname:"".concat(m)})};return console.log(D),Object(h.jsx)(a.a.Fragment,{children:l.cartStateData.showCartState&&(E.length||D.length)&&Object(h.jsx)(g,{"data-testid":"productStatesModule",unavailableItems:E,priceChangedItems:D,confirmChangesHandler:()=>{var e;E.length?l.fromPdpPage&&w():l.customizable?L(Object(s.c)({tenantId:p,catalogName:l.catalogs,itemId:S})):(L(Object(c.a)({params:{basketId:null===_||void 0===_||null===(e=_.cartData)||void 0===e?void 0:e.id},tenantId:p},[{Id:S,categoryId:f,quantity:1,modGrps:[]}])),L(Object(c.u)(new Date)));u({type:v,value:{showCartModal:!1}}),u({type:O,value:{addToCart:!1}})},discardChangesHandler:()=>{u({type:v,value:{showCartModal:!1}}),u({type:O,value:{addToCart:!1}}),l.fromPdpPage&&w()}})})})),I=o(59),f=o(335),N=o(120),C=o(1305),T=o(1219),E=o(1153),x=o(1140);const D=[{filterBy:["exclusive","topseller","newitem"],dietry:["all","veg"]}],y=[{name:"New",selected:!1},{name:"Bestsellers",selected:!1},{name:"Best Value",selected:!1}],A=(e,t)=>"true"===e===t,_=(e,t)=>{let o=[];return e.forEach((e=>{e[t].forEach((e=>{let t={name:e,checked:!1};o.push(t)}))})),o},R=function(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equals",a=[],l=e.categories.filter((e=>{let{isHidden:t}=e;return!t})).map((e=>{var l;let n=e.products.filter((e=>!e.isHidden&&e[t]===o));return"exists"===i&&(n="name"===t?e.products.filter((e=>{var i,a;return!e.isHidden&&-1!==e[t].toLowerCase().indexOf(o)||Object(m.b)(null===e||void 0===e||null===(i=e.dname)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value,o)})):e.products.filter((e=>{var t,i;return!e.isHidden&&-1!==(null===e||void 0===e||null===(t=e.dname)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.value.toLowerCase().indexOf(o))}))),!(null===(l=n)||void 0===l||!l.length)&&(e.products=n,a.push(n),e)})).filter(Boolean);return{productArr:a,filteredObj:l}},L=(e,t)=>e.filter((e=>e.items.find((e=>e.additionalProperties.find((e=>e.key===t.name&&A(e.value.toLowerCase(),t.checked))))))),P=(e,t)=>e.flat().filter((e=>e.items.find((e=>e.additionalProperties.find((e=>e.key===t.name&&A(e.value.toLowerCase(),t.checked))))))),w=e=>{var t,o,b,j,p,g,A,w;const[M,k]=Object(i.useState)(Object(r.de)(window.innerWidth)),F=Object(l.h)(),{contentData:U,selectedCat:H}=e,{userOrderState:B,userOrderStateDispatch:W}=Object(i.useContext)(n.a),{selectedTile:G,storeInfo:V,dispositionType:Y,tenantReducer:z}=U,{SERVICE_CHANNEL:K}=v.MENU_PLP_CONSTANT,q=Object(d.b)(),J=Object(u.c)({path:null===F||void 0===F?void 0:F.pathname,genericMenuName:null===z||void 0===z?void 0:z.genericMenuName,genericCateringName:null===z||void 0===z?void 0:z.genericCateringName,defaultdisposition:null===z||void 0===z||null===(t=z.authoredContent)||void 0===t?void 0:t.defaultdisposition,defaultcateringdisposition:null===z||void 0===z||null===(o=z.authoredContent)||void 0===o?void 0:o.defaultcateringdisposition}),Q=Object(r.sb)(null===V||void 0===V||null===(b=V.summary)||void 0===b||null===(j=b.menu)||void 0===j||null===(p=j.catalogs)||void 0===p?void 0:p[0],null===J||void 0===J?void 0:J.defaultMenuName,""),X=null===V||void 0===V?void 0:V.id,Z=Y,$=Object(d.c)((e=>e.cartReducer)),ee=Object(d.c)((e=>e.menuReducer)),te=(Object(E.a)(B),Object(r.sd)(null===ee||void 0===ee?void 0:ee.data)),oe=Object(r.sd)(ee.flatResponse),ie=Object(r.sd)(ee.recommendedProducts),[ae,le]=Object(i.useState)([]),[ne,de]=Object(i.useState)([]),[re,se]=Object(i.useState)([]),[ce,ue]=Object(i.useState)([]),[ve,Oe]=Object(i.useState)([]),[me,be]=Object(i.useState)([]),[je,pe]=Object(i.useState)(_(D,"filterBy")),[he,ge]=Object(i.useState)(_(D,"dietry")),[Se,Ie]=Object(i.useState)(y),[fe,Ne]=Object(i.useState)(!1),[Ce,Te]=Object(i.useState)(!1),[Ee,xe]=Object(i.useState)("STORE"),[De,ye]=Object(i.useState)(!1),[Ae,_e]=Object(i.useState)(""),[Re,Le]=Object(i.useState)(""),{eventAvailabilities:Pe,fetchEventItemAvailabilityForDisposition:we}=Object(x.a)({enabled:!0}),Me=Object(i.useMemo)((()=>Object(r.Sd)(B.currentStoreInfo)?Object(r.b)(localStorage.getItem("currentStoreInfo")):B.currentStoreInfo),[B.currentStoreInfo]),{futureDates:ke,scheduled:Fe,asap:Ue}=Object(r.sd)(null===Me||void 0===Me||null===(g=Me.summary)||void 0===g?void 0:g.timings),{unavailibilities:He}=Object(r.sd)(Fe),{interval:Be=0,startEndTime:We={}}=Object(r.sd)((null===Fe||void 0===Fe||null===(A=Fe.periods)||void 0===A?void 0:A.length)&&(null===Fe||void 0===Fe?void 0:Fe.periods[0])),{from:Ge,to:Ve}=We,Ye=Object(i.useCallback)((()=>{if(Object(r.Td)(Me)){var e,t,o,i,a,l,n;let d=null===(e=Me.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,r=null===(o=Me.summary)||void 0===o?void 0:o.name,s=0===(null===(i=Me.summary)||void 0===i||null===(a=i.timings)||void 0===a||null===(l=a.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length),c=((e,t,o,i,a,l,n)=>{var d;return Object(N.j)(e,t,o,null===i||void 0===i?void 0:i.isAvailable,1===(null===a||void 0===a?void 0:a.length)&&(null===l||void 0===l||null===(d=l.country)||void 0===d?void 0:d.toUpperCase())===v.INDIA,n)})(Ge,Ve,Be,Ue,ke,z,He);xe(r),((e,t,o,i)=>{let{setIsStoreClosed:a,setIsStoreNone:l,setIsModalOpen:n}=i;"CLOSED"!==o&&!e||t.length?(a(!1),l(!1),n(!1)):(a(!0),l(!1),n(!0))})(s,c,d,{setIsStoreClosed:Ne,setIsStoreNone:Te,setIsModalOpen:ye})}else Ne(!1),Te(!1),ye(!1)}),[Me]);Object(i.useEffect)((()=>{Ye()}),[Ye]),Object(i.useEffect)((()=>{const{coupons:e={}}=(null===z||void 0===z?void 0:z.componentOptions)||{},{showCouponCopied:t=!1,couponCopiedMessage:o="Coupon Copied"}=e;t&&null!==B&&void 0!==B&&B.showCouponCopied&&(I.b.dark(Object(h.jsx)("div",{className:"img-text-div","data-testid":"toast-msg",children:Object(h.jsx)("span",{className:"text",children:o})}),{className:"copied-toast-position",bodyClassName:"success-copied-toast",hideProgressBar:!0,position:I.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{I.b.dismiss(),W({type:f.a})}),4e3))}),[]);const ze=e=>{let t,o=JSON.parse(JSON.stringify(te)),i=[...o.products],a=[];if(e.find((e=>{let{name:t}=e;return"all"===t})))a.push(o.products);else{let t=e.filter((e=>{let{flag:t}=e;return t===v.FILTER_BY})),l=e.filter((e=>{let{flag:t}=e;return t===v.DIETARY})),n=((e,t,o)=>e.length>0?(e.forEach(((e,i)=>{if(0===t.length){let i=L(o,e);i.length>0&&t.push(i)}else{let i=P(o,e);t[0].push(...i)}})),t):[])(t,a,i);a=((e,t,o,i)=>(e&&e.forEach(((e,a)=>{if(0===t.length)if("all"===e.name)t.push(i.products);else{let i=L(o,e);i.length>0&&t.push(i)}else{if("all"===e.name)return null;t=P(t,e)}})),t))(l,n,i,o)}t=0===e.length?{...o}:{...o,menu:[],categories:[],products:a.flat()},le(t)};Object(i.useEffect)((()=>{$.showProductListingModal&&q(Object(c.v)({showProductListingModal:!1,categorySelected:""}))}),[F]),Object(i.useEffect)((()=>{Q&&Z&&null!==z&&void 0!==z&&z.tenantId&&q(Object(s.e)({channel:K,service:Z,tenantId:z.tenantId}))}),[X,Z,null===z||void 0===z?void 0:z.tenantId,Ae]);const Ke=()=>{const e=Object(r.de)(window.innerWidth);k(e)};return Object(i.useEffect)((()=>{window.addEventListener("resize",Ke)}),[M]),Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("div",{onClick:()=>{const e=document.getElementById(Re);e&&(e.style.border="none")},className:!M&&"plp-container plp-au-container grid-container",children:Object(h.jsx)(C.a,{...e,tenantData:z,data:te,selectedTile:G,filterList:ne,dietaryList:re,sortByList:ce,filterOptions:je,dietaryOptions:he,sortByOptions:Se,handleChangeEventTime:we,handleCheckbox:(e,t)=>{if(Object(r.de)(window.innerWidth)||Object(m.t)({eventType:"filterItems",selectedData:{filterSelected:t===v.FILTER_BY?e.target.value:"",dietarySelected:t===v.DIETARY?e.target.value:"",sortSelected:""}},"filterSelected","dietarySelected","sortSelected"),t===v.FILTER_BY){let t=[...je].map((t=>{if(t.name===e.target.value){if(t.checked){let t=[...ne];t.splice(ne.indexOf(e.target.value),1),de(t)}else{let t=[...ne];t.push(e.target.value),de(t)}return{...t,checked:!t.checked,flag:v.FILTER_BY}}return{...t}})),o=t.filter((e=>e.checked));ze([...me,...o]),Oe(o),pe(t)}else if(t===v.DIETARY){let t=[...he].map((t=>{if(t.name===e.target.value){if(t.checked){let t=[...re];t.splice(re.indexOf(e.target.value),1),se(t)}else{let t=[...re];t.push(e.target.value),se(t)}return{...t,checked:!t.checked,flag:v.DIETARY}}return{...t}})),o=t.filter((e=>e.checked));ze([...ve,...o]),be(o),ge(t)}},handleClearItems:e=>{let t="";if("string"===typeof e){let o=[...he].map((o=>e===o.name?(t="dietary",{...o,checked:!1}):{...o}));if("dietary"===t){let t=o.filter((e=>e.checked));ze([...ve,...t]),be(t),ge(o);let i=[...re];i.splice(re.indexOf(e),1),se(i)}let i=[...je].map((o=>e===o.name?(t="filter",{...o,checked:!1}):{...o}));if("filter"===t){let t=i.filter((e=>e.checked));ze([...me,...t]),Oe(t),pe(i);let o=[...ne];o.splice(ne.indexOf(e),1),de(o)}""===t&&(Ie(Se.map((e=>({...e,selected:!1})))),ue([]))}else{let e=[...he].map((e=>({...e,checked:!1})));ge(e);let t=[...je].map((e=>({...e,checked:!1})));pe(t),Ie(Se.map((e=>({...e,selected:!1})))),ze([]),de([]),se([]),ue([]),Oe([]),be([])}},handleRadio:e=>{Object(r.de)(window.innerWidth)||Object(m.t)({eventType:"filterItems",selectedData:{filterSelected:"",dietarySelected:"",sortSelected:e.target.value}},"filterSelected","dietarySelected","sortSelected");let t=[...Se].map((t=>t.name===e.target.value?{...t,selected:!t.selected}:{...t,selected:!1}));ue([t.find((e=>e.selected)).name]),Ie(t)},handleFilteredData:e=>{let t=JSON.parse(JSON.stringify(te)),{productArr:o,filteredObj:i}=R(t,"mdmId",e,"equals");const a=Object.assign(t,{menu:[],categories:i,products:o.flat()});le(a)},handleSearchdata:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){let o=JSON.parse(JSON.stringify(te)),{productArr:i,filteredObj:a}=R(o,"name",e,"exists");const l=Object.assign(o,{menu:[],categories:a,products:i.flat()});le(l),t&&Object(m.u)({eventType:"userSearch",selectedData:{searchTerm:e,resultsFound:i.flat().length}},"searchTerm","resultsFound")}else le({})},tempData:ae,recommendations:ie,catalogs:Q,selectedCat:H,triggerGetRecommends:e=>{_e(e)},storeClosedData:{isStoreClosed:fe,isStoreNone:Ce,storeName:Ee,isModalOpen:De},setProductId:Le,specialEventItemAvailability:Pe,isMobile:M})}),B.addToCart&&B.isLocalized&&!B.fromPdpPage?Object(h.jsx)(S,{flatResponse:oe,tenantReducer:z}):null,$.showProductListingModal&&!B.fromCouponSection&&Object(h.jsx)(O.a,{}),(null===(w=B.cartAlertData)||void 0===w?void 0:w.showCartAlert)&&Object(h.jsx)(T.a,{})]})};o(328),o(1129);o(1113),o(1119),o(395),o(46),o(1233),o(1228),o(404),o(146),o(1142),o(1175),o(264),o(1112);var M=o(398),k=(o(1160),o(6)),F=(o(106),o(92)),U=(o(1100),o(1124),o(15));const{SearchIcon:H,SearchIconGrey:B,DarkCloseButton:W,StripsIcon:G,Product_Card_Icon:V,ribbonRedOutlined:Y,TimerIcon:z,CartError:K}=U.a;o(158);const{MobSearchIcon:q,View_1UP_Icon:J,View_1UP_Icon_Inactive:Q,View_carousal_Icon:X,View_carousal_Icon_Inactive:Z,DarkCloseButton:$,CartError:ee}=U.a;o(144),o(1232),o(272),o(71),o(193),o(20),o(1226);var te=o(1110),oe=o(0),ie=o(1101),ae=o(1282);const le=(e,t,o)=>{let i=oe.qd,a={};const l=null===t||void 0===t?void 0:t[o];if(l){var n;const{dname:[{value:t}={}]=[],shortDescription:[{value:o}={}]=[],productMapByProductUrl:d={},imageName:s=[],content:c}=null!==l&&void 0!==l?l:{},u=Object(r.bc)(s,e),{shortDescription:v=(null!==o&&void 0!==o?o:t),image:{mainImage:O=u}={}}=c||{};a={Category:t,CategoryDescription:v,CategoryImage:O,Products:null===(n=Object.values(d))||void 0===n?void 0:n.map((e=>{var t,o,i;const{dname:[{value:a}={}]=[],shortDescription:[{value:l}={}]=[],content:n,url:d}=null!==e&&void 0!==e?e:{},r="".concat(null!==(t=null===(o=window)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.href)&&void 0!==t?t:"","/").concat(d),{shortDescription:s=l}=null!==n&&void 0!==n?n:{};return{"@type":oe.Le,name:a,description:s,url:r}}))},i=oe.od}return{seoPageName:i,seoObject:a}};var ne=o(262),de=o(1244),re=o(419),se=o.n(re),ce=o(42),ue=o.n(ce),ve=o(434),Oe=o(986),me=o(236),be=o(80),je=o(132),pe=o(4);const he=(e,t)=>{var o;return(null===t||void 0===t||null===(o=t.state)||void 0===o?void 0:o.frompdp)&&e(!0)},ge=e=>{var t;let{event:o,setShowAlert:i,props:a,stoerName:l,getLocationParam:n,userOrderStateDispatch:d}=e;o.preventDefault(),o.stopPropagation(),i(!1),null===a||void 0===a||null===(t=a.history)||void 0===t||t.replace({state:{}}),n&&Object(r.Bd)(),!n&&Object(r.Gf)(d,l)},Se=(e,t,o)=>{var i;return(null===e||void 0===e||null===(i=e.state)||void 0===i?void 0:i.frompdp)&&t&&o},Ie=(e,t)=>{var o;null===e||void 0===e||null===(o=e.history)||void 0===o||o.replace({state:{}}),t(!1)},fe=e=>{let{isForNow:t,dispositionNew:o,selectedEpochTime:i,payload:a}=e;return t||(null===o||void 0===o?void 0:o.time)===oe.s?a:{...a,futureDateTimeInEpochFormat:i}},Ne=e=>{const{NOT_WITHIN_OPERATING_HOURS:t,STORE_NOT_ALIVE:o,DOORDASH_NOT_SERVICEABLE:i}=b.a,a=e.includes(i)?i:"";return Object(r.l)(e!==t,e!==o,a!==i)?e:null};t.default=e=>{var t,o,s,c,u,v,O,j,p,g,S,I,f,N,C;const[T,E]=Object(i.useState)(oe.qd),[x,D]=Object(i.useState)(),[y,A]=Object(i.useState)(!1),{userOrderStateDispatch:_,userOrderState:R}=Object(i.useContext)(n.a),L=Object(d.c)((e=>e.tenantReducer)),P=Object(d.c)((e=>e.cartReducer)),H=Object(l.g)(),{flatResponse:{categoryMapByUrl:B={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{data:{categories:W},searchResults:{categories:G=[]}={}}=Object(r.sd)(Object(d.c)((e=>{let{menuReducer:t}=e;return t})));let V={};for(let i of W)V[i.url]=i.products.map((e=>{var t;return{"@type":"MenuItem",name:Object(r.ud)(null===e||void 0===e?void 0:e.name),description:Object(r.ud)(null===e||void 0===e?void 0:e.url),url:Object(r.ud)(null===e||void 0===e||null===(t=e.longDescription[0])||void 0===t?void 0:t.value)}}));const Y=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{tenantId:z}=Object(r.sd)(L),K=(null===L||void 0===L||null===(o=L.componentOptions)||void 0===o||null===(s=o.web)||void 0===s||null===(c=s.global)||void 0===c||c.showVipBanner,null===L||void 0===L||null===(u=L.componentOptions)||void 0===u||null===(v=u.web)||void 0===v||null===(O=v.plp)||void 0===O?void 0:O.showAdInPlp),{category_name:q}=Object(l.i)(),[J,Q]=Object(i.useState)(!0),[X,Z]=Object(i.useState)(null),[$,ee]=Object(i.useState)(!1),re=Object(d.b)(),ce=Object(l.h)(),fe=Object(je.a)(),{VIEW_MENU:Ce,STORE_TEXT:Te,STORE_CLOSED_TEXT:Ee,CHANGE:xe,CATERING_STORE_CLOSED_MSG:De}=pe.a,{START_ORDER_CLICK:ye,IS_DEEPLINK_URL:Ae,SCHEDULE_ORDER_DATA:_e,STATUS_API_CALLED:Re}=b.a,{ITME_NOT_AVAILABLE:Le,BROWSE_MENU_TITLE:Pe,BROWSE_MENU:we}=ne.a,Me=JSON.parse(localStorage.getItem(oe.gd.DISPOSITION_NEW)),ke=null===ce||void 0===ce||null===(j=ce.state)||void 0===j?void 0:j.frompdp,Fe=Object(d.c)((e=>{var t;return null===(t=e.storesReducer)||void 0===t?void 0:t.storesWithStatus})),Ue=Object(r.Sc)(null===Me||void 0===Me||null===(p=Me.store)||void 0===p?void 0:p.name)||(null===Me||void 0===Me||null===(g=Me.store)||void 0===g||null===(S=g.summary)||void 0===S?void 0:S.name)||(null===Fe||void 0===Fe||null===(I=Fe[0])||void 0===I||null===(f=I.summary)||void 0===f?void 0:f.name),He=ue()(R,oe.af,!1),Be=Object(i.useMemo)((()=>{var e;return{tenantReducer:Object(r.Td)(L)?L:JSON.parse(localStorage.getItem(oe.gd.TENANT_REDUCER)),storeInfo:Me?Me.store:{},selectedTile:R&&Object(r.Td)(R.selectedTile)?R.selectedTile:JSON.parse(localStorage.getItem(oe.gd.SELECTED_TILE)),dispositionType:null!==Me&&void 0!==Me&&Me.type?Object(r.Mb)(Me.type):Object(r.Mb)(null===(e=L.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[Me,R,L]);Object(i.useEffect)((()=>{He&&(_({type:Re,value:{statusAPICalled:!1}}),We(Fe))}),[He]),Object(i.useEffect)((()=>{var e,t,o,i,a,l;(null===Fe||void 0===Fe?void 0:Fe.length)<2&&(null===Fe||void 0===Fe||null===(e=Fe[0])||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===b.a.CLOSED&&(null===Fe||void 0===Fe||null===(i=Fe[0])||void 0===i||null===(a=i.summary)||void 0===a||null===(l=a.name)||void 0===l?void 0:l.length)>1&&We(Fe)}),[Fe]),Object(i.useEffect)((()=>{var e,t,o;0===(null===P||void 0===P||null===(e=P.cartData)||void 0===e||null===(t=e.foodLines)||void 0===t?void 0:t.length)&&fe(Object(be.d)({key:oe.gd.ADD_HOPE_TRIGGER,value:!0})),fe(Object(be.d)({key:oe.gd.INDULGENT_ADDONS_TRIGGERED,value:!1}));const i=null===ce||void 0===ce||null===(o=ce.search)||void 0===o?void 0:o.split("?")[1];if(i){const e=new URLSearchParams(i),t=Object.fromEntries(e.entries());Object(r.jb)(Object(r.hb)(null===t||void 0===t?void 0:t.ordertype,null===t||void 0===t?void 0:t.storeid),null===t||void 0===t?void 0:t.action)&&(_({type:Ae,value:{isDeepLinkURL:!0}}),Object(r.ge)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid&&Object(Oe.deepLinkWithPickupData)({storesWithStatusData:Fe,userOrderStateDispatch:_,userParams:Y,qParams:t,tenantReducer:L,history:H,setDeeplinkFlagAddToCart:A,params:Be,dispatch:re,dispositionNew:Me}),(Object(r.Jd)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid||Object(r.Od)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid||(null===t||void 0===t?void 0:t.ordertype)===oe.Ed)&&Object(Oe.deepLinkWithDeliveryData)(Y,Fe,_,H,t))}}),[]),Object(i.useEffect)((()=>{const t={pathname:null===ce||void 0===ce?void 0:ce.pathname,userParams:Y,baseCategory:G,history:null===e||void 0===e?void 0:e.history,menuNavRestricted:R.menuNavRestricted,userOrderStateDispatch:_};Object(m.p)(t),he(ee,ce)}),[null===ce||void 0===ce?void 0:ce.pathname]),Object(i.useEffect)((()=>{var e;const{seoPageName:t,seoObject:o}=null!==(e=le(L,B,q))&&void 0!==e?e:{};E(t),D(o)}),[z,q,JSON.stringify(B)]),Object(i.useEffect)((()=>()=>{window.removeEventListener(oe.je,(e=>Object(m.q)(e,Y,_)),!0)}),[]),Object(i.useEffect)((()=>{var e;Object(r.hb)(Y.localized,null===Me||void 0===Me||null===(e=Me.store)||void 0===e?void 0:e.id)&&(window.removeEventListener(oe.je,(e=>Object(m.q)(e,Y,_)),!0),window.addEventListener(oe.je,(e=>Object(m.q)(e,Y,_))))}),[null===Me||void 0===Me||null===(N=Me.store)||void 0===N?void 0:N.id,Y]);const We=e=>{var t,o,i,a,l,n;null===L||void 0===L||null===(t=L.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.orderPages)||void 0===i||i.scheduleOrderStoreClosePopUp;const d=ue()(se()(e),"summary",{}),s=(null===d||void 0===d||null===(a=d.timings)||void 0===a||null===(l=a.futureScheduled)||void 0===l||l.length,ue()(d,"status",{})),c=ue()(s,"message",""),u=ue()(R,"startOrderBtnClicked",!1);var v,O;ue()(s,oe.mb,"")===M.g?(null===R||void 0===R||null===(v=R.scheduleOrderData)||void 0===v||null===(O=v.selectedDateTimeInfo)||void 0===O?void 0:O.time)===oe.s&&(Z(Ne(c)),ee(!0)):null!==d&&void 0!==d&&d.orderingAttribute&&(null===Me||void 0===Me?void 0:Me.selectedTime)===oe.s&&!Object(r.Fd)(null===Me||void 0===Me?void 0:Me.store)&&(null===P||void 0===P||null===(n=P.cartData)||void 0===n?void 0:n.service)===oe.yb&&ee(!0);u&&_({type:ye,value:{startOrderBtnClicked:!1}})},Ge=Object(r.ad)($,Object(h.jsx)(me.a,{handleClose:()=>ee(!1),classNames:"plp-warning-msg plp-page-model",CartAlertForm:Object(h.jsx)(F.a,{title:"".concat(Object(k.translateWithI18Next)(Ee)),contentMsg:"".concat(Object(k.translateWithI18Next)(De)),imageSrc:U.a.LocationWithoutError,confirmButtonText:"".concat(Object(k.translateWithI18Next)(xe)," ").concat(Object(k.translateWithI18Next)(Te)),confirmHandler:()=>{_({type:_e,value:{showScheduleOrderCatering:!0,selectedStoreInfo:localStorage.getItem(oe.gd.STORE_INFO),changeFlow:!0}}),ee(!1)},cancelHandler:()=>ee(!1),cancelButtonText:Object(k.translateWithI18Next)(Ce)})}),null),Ve=Object(h.jsx)(ve.a,{handleClose:()=>ee(!1),showAlert:$,onClickBtnHandler:t=>ge({event:t,setShowAlert:ee,props:e,stoerName:localStorage.getItem(oe.gd.RETAIN_ADDRESS),getLocationParam:ke,userOrderStateDispatch:_}),stoerName:Ue,storeClosedMsg:X,contentMsg:oe.K}),Ye=Object(h.jsx)(ve.a,{handleClose:()=>{Ie(e,ee)},showAlert:$,imageSrc:U.a.CartError,onClickBtnHandler:t=>ge({event:t,setShowAlert:ee,props:e,stoerName:Ue,getLocationParam:ke,userOrderStateDispatch:_}),stoerName:"",storeClosedMsg:Le,contentMsg:Pe,confirmButtonText:we});return Object(h.jsxs)(a.a.Fragment,{children:[K&&Object(h.jsx)(de.a,{}),Object(h.jsx)(te.a,{page:T,seoObj:x}),Object(h.jsx)(w,{setShowTopScrollBtn:Q,contentData:Be,selectedCat:null===e||void 0===e||null===(C=e.location)||void 0===C?void 0:C.selectedCat,history:e.history}),R.showCartClearAlert&&Object(h.jsx)(ie.a,{}),J&&Object(h.jsx)(ae.a,{showThreshold:500}),Object(r.ad)(Object(r.Hd)(null===Be||void 0===Be?void 0:Be.dispositionType),Ge,Ve),Se(ce,$,Ye)]})}},961:function(e,t,o){"use strict";o.r(t);t.default={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card",LOGIN_ACTION:"login-actions/registration?client_id=",REDIRECT_PATH_NAME:"redirect_path_name",SIGNOUT:"/signout",OPEN_ID_CONNECT:"/openid-connect/",CODE_CHALLENGE:"code_challenge",CODE_VERIFIER:"code_verifier",REGISTRATIONS:"registrations?"}},962:function(e,t,o){"use strict";o.r(t),o.d(t,"removeCouponHandler",(function(){return u})),o.d(t,"quantityModifierOnClickHandler",(function(){return v}));var i=o(3),a=o(395),l=o(28),n=o(61),d=o(1126),r=o(6),s=o(4),c=o(2);const u=e=>{let{setCartItem:t,item:o,setCouponModal:i,setQuantityActionData:a,quantityAction:l}=e;i(!0),t(o),a(l)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:o,item:i,setCouponModal:a,setQuantityActionData:l,quantityAction:n,event:d,updateItemQuantity:r}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:o,item:i,setCouponModal:a,setQuantityActionData:l,quantityAction:n}):r(i,n,d)};t.default=e=>{var t,o;const{itemQuantity:u,itemCount:O,updateItemQuantity:m,quantityAction:b,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:S=!1,type:I="",paymentDiscountAmounts:f=[],removeSingleItem:N=!1,isAddonsNotAddable:C=!1}=e,{QUANTITY_INCREASE_DECREASE:T}=n.a;var E="".concat(Object(r.translateWithI18Next)(s.a.DECREASE_QUANTITY_BY)," ").concat(p),x="".concat(Object(r.translateWithI18Next)(s.a.INCREASE_QUANTITY_BY),"  ").concat(p);const D=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[y,A]=Object(i.useState)(!1),[_,R]=Object(i.useState)({}),[L,P]=Object(i.useState)(""),w=Object(l.c)((e=>{var t,o,i,a,l,n;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(o=e.cartReducer)||void 0===o?void 0:o.isUpdateQuantityLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isValidateBasketLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isCreateOrderLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isPlaceOrder)}));return Object(c.jsxs)("div",{className:"cart-food-quantity-change",children:[!N&&+O===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(c.jsx)(a.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!S&&Object(c.jsx)("span",{children:"-"})}):Object(c.jsx)(a.a,{className:"button quantity-decrease",ariaLable:E,disabled:D||w,onClickHandler:e=>v({paymentDiscountAmounts:f,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:P,quantityAction:b.Decrease,event:e,updateItemQuantity:m}),"data-testid":"quantity-minus",type:I,children:!S&&Object(c.jsx)("span",{children:"-"})}),Object(c.jsx)("span",{className:"cart-food-quantity",children:O}),Object(c.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(O)}),Object(c.jsx)(a.a,{className:".transparent-btn button quantity-increase",ariaLable:x,"data-testid":"quantity-plus",type:I,onClickHandler:e=>v({paymentDiscountAmounts:f,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:P,quantityAction:b.Increase,event:e,updateItemQuantity:m}),disabled:!!(0!==g&&h+O>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.isDiscounteditem||C)||(D||w),children:!S&&Object(c.jsx)("span",{children:"+"})}),y&&Object(c.jsx)(d.a,{cartItem:_,setCouponModal:A,quantityAction:L,updateItemQuantity:m,flag:T})]})}},963:function(e,t,o){"use strict";o.r(t),o.d(t,"SearchStoreModule",(function(){return Ot}));var i=o(11),a=o(14),l=o(6),n=o(331),d=o(73),r=o(192),s=o(24),c=o(5),u=o(85),v=o(3),O=o.n(v),m=o(28),b=o(957),j=o(16),p=o(158),h=o(408),g=o(263),S=o(46),I=o(329),f=o.n(I),N=o(41),C=o(1135),T=o(401),E=o(55),x=o(15),D=o(2);const y=e=>!0===e.includes(",")?e.replace(",",", "):e;var A=e=>{var t,o;const{onMapClickHandler:i,startOrderFormSavedAddress:a}=e,{MapImage:n}=x.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:r,START_ORDER_TEXT:s}=p.a,{savedAddresses:c}=Object(m.c)((e=>e.profileReducer)),u=null===(t=c.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o.join(" ");return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"savedAddress-store-count",children:[Object(D.jsxs)("span",{className:"saved-address-count-title",children:[c.length>1?"".concat(Object(l.translateWithI18Next)(r)," "):"".concat(Object(l.translateWithI18Next)(d))," ","(",c.length,")"," "]}),Object(D.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>i(e,"",u),children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:n,alt:"map",className:"map-img"})}),"Map"]})})]}),c.map((e=>Object(D.jsx)("div",{className:"savedAddress-module-card",children:Object(D.jsxs)("div",{className:"inside-card",children:[Object(D.jsxs)("div",{className:"address-section",children:[Object(D.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(D.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)(N.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var o;const{latitude:i,longitude:l}=t.location,n={userLat:i,userLong:l},d=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);a(d,n)})(0,e),"data-testid":"savedaddress-click-test",children:Object(l.translateWithI18Next)(s)})})]})})))]})})},_=o(147);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:o,dispositionType:i,onRetryClickHandler:a,onMapClickHandler:n,showMap:d}=e,{userOrderStateDispatch:r}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:s}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:c,TAKE_AWAY:m,TYPE_TAKE_WAY:b,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:I,CTA2_VIEW_MAP_BUTTON_TEXT:f}=p.a,{Error:C}=x.a,T=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===i?T:"error-alert-location-popup error-adjust",children:[Object(D.jsx)(S.a,{srcFile:C,className:"location-alert-icon"}),t!==c&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),o()})(e),children:Object(l.translateWithI18Next)(g)}),i.toLowerCase()!==m.toLowerCase()&&Object(D.jsx)(N.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),r({type:s,value:{dispositionType:b}})})(e),children:Object(l.translateWithI18Next)(I)})]})]}),t===c&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>a(e),children:Object(l.translateWithI18Next)(h)}),i!==m&&Object(D.jsx)(N.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>n(e),children:Object(l.translateWithI18Next)(f)})]})]})]})})},L=o(0),P=o(132),w=o(80),M=o(394);const{LocationImage:k,GoogleMapLocationImage:F,SuggestionItemSearchPin:U,clearTextIcon:H,Time_Clock:B,Error:W,MapImage:G}=x.a,{MIN_SEARCH_CHARACTER_LIMIT:V,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:z,ALREADY_SERACHED_LOCATIONS:K,COUNTRY_CODE:q,SUGGESTION_ACTIVE_COLOR:J,SUGGESTION_ACTIVE_OPACITY:Q,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:oe,DELIVERY_UNAVAILABLE:ie,DELIVERY_UNAVAILABLE_WITH_CTA:ae,NOTAVAILABLE:le,CTA1_SEARCH_DIFF_ADDRESS:ne,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:re}=p.a,se=(e,t)=>{t()},ce=e=>{var t;let{eligibleStoreData:o,suggestedAddress:i,setNegativeScenarioAlert:a,getNegativeView:n}=e,d=null===o||void 0===o?void 0:o.filter((e=>{var t,o,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(i=o.catalogs)||void 0===i?void 0:i.length)>0})),r=d.filter((e=>{var t,o,i,a,l,n;const d="CLOSED"===e.summary.status.currentStatus,r=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),s=-1!==(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(l=a.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN"));return d&&(r||s)})),s=Object(T.a)("delivery",d);var u;return Object(c.qd)(s,Object(c.qd)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===r||void 0===r?void 0:r.length)===d.length))?(Object(c.hb)((null===r||void 0===r?void 0:r.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?s=ie:null!==(u=i[0])&&void 0!==u&&u.description||(s=ae),a(s),Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(l.translateWithI18Next)(s)),n(s)):void 0},ue=(e,t,o)=>Object(D.jsx)(N.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:o,"data-loading":t,children:Object(l.translateWithI18Next)($)}),ve=(e,t,o)=>{var i,a,l,n,d;return null===e||void 0===e||null===(i=e.toString())||void 0===i||null===(a=i.replace)||void 0===a||null===(l=a.call(i,t,""))||void 0===l||null===(n=l.trim())||void 0===n||null===(d=n.replace)||void 0===d?void 0:d.call(n,o,"")};var Oe=e=>{var t;const{formContent:o={},userPositionHandler:i,singInClickhandler:a,eligibleStoreData:n}=e,{memberText:d="",singInLink:r={},currentLocationText:b="",addressBoxPlaceHolderForDelivery:p=""}=o,{RETAIN_ADDRESS:C}=L.gd,{SCHEDULE_ORDER_DATA:x,DISPOSITION_METHOD:y}=j.a,_=Object(m.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(c.sd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:ae={},dispositionStateData:Oe={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Se]=Object(v.useState)(!1),[Ie,fe]=Object(v.useState)(!1),[Ne,Ce]=Object(v.useState)(!1),[Te,Ee]=Object(v.useState)({lat:28.7,lng:77.1}),[xe,De]=Object(v.useState)(!1),[ye,Ae]=Object(v.useState)(!1),[_e,Re]=Object(v.useState)([]),[Le,Pe]=Object(v.useState)(""),we=Object(v.useRef)(null),[Me,ke]=Object(v.useState)(""),[Fe,Ue]=Object(v.useState)(""),[He,Be]=Object(v.useState)(!1),[We,Ge]=Object(v.useState)(!1),[Ve,Ye]=Object(v.useState)(!1),[ze,Ke]=Object(v.useState)(""),[qe,Je]=Object(v.useState)(!1),{dispositionType:Qe=localStorage.getItem("dispositionType")}=Oe,[Xe,Ze]=Object(v.useState)({}),$e=Object(m.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),et=Object(P.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:ot}}},postalcodeRemoveRegex:it=null,specialCharRemoveRegex:at=null}=Object(m.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),lt=Object(m.c)((e=>{var t,o,i,a;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isNearByStoresLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(T.e)(ye,Fe,h.a)}),[ye,Fe]);const nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:Object(c.qd)(Fe,e),onClearTextHandler:Ot,onRetryClickHandler:st,onMapClickHandler:dt,dispositionType:Qe,showMap:Ne})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(T.i)(Ne,Qe),Ce(!0),Ue(!1),t&&!pe&&ct(t)},rt=e=>{var t;const o=null===(t=e.toString())||void 0===t?void 0:t.split(" "),i=null===o||void 0===o?void 0:o.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===i||void 0===i?void 0:i.join(" ")},st=e=>{we.current.select(),Se(!1),De(!1),Ue(!1),Ae(!1)},ct=async function(e,t,o){var a;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Je(!1),Ke(""),Object(c.hb)(null===t,null===o)&&(null===(a=_e[0])||void 0===a?void 0:a.description)&&Ae(!0),Be(!0),De(!0);const n=await Object(I.geocodeByAddress)(e),d=await Object(I.getLatLng)(n[0]);ot&&et(Object(w.d)({key:L.se.LAT_LONG,value:d})),Ee(d),ut(e);const r=tt?ve(e,it,at):rt(e);he(r),l||Se(!0),i({userLat:d.lat,userLong:d.lng}),fe(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(C);Object(T.b)(t,Re,ct)}),[]),Object(v.useEffect)((()=>{let e=null===n||void 0===n?void 0:n.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o?void 0:o.catalogs[0])!==le})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,o;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)}));qe&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ye(!1),$({type:x,value:{deliveryAddress:ze,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):ze&&Ye(!0)}),[n,ze,qe]),Object(v.useEffect)((()=>{}),[Te]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Se(!ye):(Se(!1),Ae(!1),Ue(""));let e=Object(c.d)(pe,V);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(Ie){const e=rt(Me);he(e),ut(Me),fe(!1)}}),[ae]);const ut=e=>{Object(c.ze)(e,K)},vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(K))).includes(t);var t},Ot=()=>{he(""),Se(!1),Ue(""),Re(""),Ye(!1)},mt=async(e,t)=>{Ee({lat:t.userLat,lng:t.userLong}),Je(!0);const o=rt(e);he(o),Ze(t),ut(e),Ke(e),i(t)};return Object(D.jsxs)(O.a.Fragment,{children:[Object(D.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"login-section",children:[Object(D.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,a,r)}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(E.o)(),await s.b.BindLocation($e),Object(T.m)(),Re([]),s.b.coordinates){const{latitude:e,longitude:t}=s.b.coordinates;s.b.addFeedback("Check coordinates ".concat(JSON.stringify(s.b.coordinates))),s.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),s.b.addFeedback("Check address ".concat(s.b.address)),i({userLat:e,userLong:t}),ke(s.b.address);const o=rt(s.b.address);he(o),ct(s.b.address),fe(!0),Re([{description:s.b.address}])}Object(M.s)($,!s.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(D.jsx)(S.a,{"data-testid":"",srcFile:k,alt:" ",className:"location-img"}),Object(l.translateWithI18Next)(b)]})})]}),Object(D.jsxs)("div",{className:"delivery-address-section",children:[Object(D.jsx)("div",{className:"search-delivery-address",children:Object(D.jsx)("div",{className:"input-delivery-address",children:Object(D.jsx)(f.a,{value:pe,onChange:e=>{Be(!1),De(!1);const t=rt(e);he(t),((e,t,o)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),o(!1))})(e,Re,Ge),Je(!1),Ke(""),Ye(!1)},onSelect:ct,searchOptions:{componentRestrictions:{country:q}},shouldFetchSuggestions:!0,onError:se,children:e=>{let{getInputProps:t,suggestions:o,getSuggestionItemProps:i,loading:a}=e;return Object(D.jsxs)("div",{children:[Object(D.jsx)(S.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(c.ad)(Object(c.qd)(ye,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(l.translateWithI18Next)(p),ref:we})}),pe&&Object(D.jsx)("img",{src:H,className:"clearTextIcon",onClick:Ot,alt:"Clear Text Icon"}),Object(c.hb)(Object(c.pc)(o),We)?Object(D.jsx)("div",{className:"suggestion-list",children:o.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>z.includes(e)))){Re(o);const a=Object(c.ad)(e.active,{backgroundColor:J,opacity:Q},{backgroundColor:X});return Object(D.jsxs)(O.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",children:Object(l.translateWithI18Next)(Y)}),Object(D.jsx)("div",{style:a,children:Object(D.jsx)("div",{...i(e,{className:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(D.jsx)("div",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:Object(c.ad)(vt(e.description),B,U),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(D.jsx)("form",{children:ue(ge,lt,(e=>{var t;if(e.preventDefault(),qe)return Ve&&Se(!1),void mt(pe,Xe);if(!(He&&ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:nt})||(null===(t=_e[0])||void 0===t||!t.description)&&ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:nt}))){if(Ue(""),!xe){var o,i;const e=null===(o=_e[0])||void 0===o?void 0:o.description;return Pe(e),(null===(i=_e[0])||void 0===i?void 0:i.description)&&Ae(!0),Se(!1),void ct(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}n[0]&&(De(!1),$({type:x,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:n[0]}}))}}))})]})]}),Ve&&!lt&&Object(D.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(D.jsx)(S.a,{srcFile:W,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(ie)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ye(!1),children:Object(l.translateWithI18Next)(ne)}),Object(D.jsx)(N.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:y,value:{dispositionType:de}})},children:Object(l.translateWithI18Next)(re)})]})]}),!Ne&&Object(D.jsx)("div",{className:"my-3 store-form-separation"}),Ne||G||ye||Fe?null:be(dt),!ye&&G&&!Fe&&!Ne&&!Ve&&Object(D.jsx)(A,{userPositionHandler:i,startOrderFormSavedAddress:mt,allowOrderNow:Ve,onMapClickHandler:dt})]}),pe.length>0&&Object(c.hb)(ye,!Fe)?Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(D.jsx)(S.a,{srcFile:W,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-message",children:Object(l.translateWithI18Next)(ee)}),Object(D.jsx)("div",{className:"location-error-address",children:Object(c.qd)(null===(t=_e[0])||void 0===t?void 0:t.description,pe)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:st,children:Object(l.translateWithI18Next)(te)}),Object(D.jsx)(N.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const o=ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:nt});pe.length>0&&ye&&o||!n[0]&&o||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:x,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(c.sd)(n[0])}}),De(!1))},children:Object(l.translateWithI18Next)(oe)})]})]}):Fe&&nt(),Ne?me(ye,Te,(e=>{const t=rt(e);ct(t),he(t)}),Fe):null]})};function me(e,t,o,i){return Object(D.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(c.ad)(e,"pointer-disabled","")),children:Object(D.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(D.jsx)(C.a,{"data-testid":"map-comp",latLongValue:t,passAddress:o,locationAlertProp:e,negativeScenarioAlertProp:i,locationAlert:e})})})}function be(e){return Object(D.jsx)("div",{className:"map-button-form",children:Object(D.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(D.jsx)("span",{className:"delivery-map-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(l.translateWithI18Next)("map")]})]})})}function je(e,t,o){return Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(l.translateWithI18Next)(e),Object(D.jsx)("span",{onClick:t,children:Object(D.jsx)(g.a,{targetType:o.targetType,href:o.linkUrl,className:"delivery-signin-link",children:Object(l.translateWithI18Next)(o.linkText)})})]})}var pe=o(144);var he=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:i,headerText:a,modalTitleId:l="",showLocationError:n}=e;return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:n,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:a,autoFocus:!0,children:i})})},ge=o(62),Se=o(59),Ie=o(35),fe=o(113),Ne=o(1131),Ce=o(120),Te=o(600);const{FavoriteUnfillImage:Ee,FavoriteFillImage:xe,GreenTickImage:De}=x.a,ye=(e,t)=>{var o,i;return"INDIA"===(null===t||void 0===t||null===(o=t.country)||void 0===o?void 0:o.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(i=t.storeSearch)||void 0===i?void 0:i.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var Ae=Object(ge.j)((e=>{var t,o,i,a,n;const{storeDistance:d="",addresses:r={},isOpen:s=!1,buttonData:O={},map:b={},storeName:h="",currentMarket:I,storeInfo:f={},channels:C=[],storeStatus:E={},onStoreSelectFinish:x,onClickMapHandler:y,isMapView:A,isMobile:_,isFavoriteStore:R,addToFavoriteHandler:P,removeFromFavoriteHandler:w,loggedIn:M,centerIndex:k,storeLength:F}=e,U=null===f||void 0===f||null===(t=f.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.message,{unavailibilities:H}=(null===f||void 0===f||null===(i=f.summary)||void 0===i||null===(a=i.timings)||void 0===a?void 0:a.scheduled)||{},{buttonText:B=""}=Object(c.sd)(null===O||void 0===O?void 0:O.scheduleOrderButtonData),{buttonText:W="",display:G=!1}=Object(c.sd)(null===O||void 0===O?void 0:O.orderNowButtonData),{userOrderState:V,userOrderStateDispatch:Y}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:z="",SEARCH_ORDER_DATA:K="",SELECTED_TILE_DATA:q="",SCHEDULE_ORDER_TIME_DATA:J="",MENU_URL:Q,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:oe}=p.a,{mapText:ie=""}=b,ae=Object(ge.h)(),le=C&&Object(T.g)(C),{services:ne=[]}=Object(c.rd)(le[0]),{operatingHours:de=[]}=null!==E&&void 0!==E&&null!==(n=E.timings)&&void 0!==n&&n.operatingHours?E.timings:[],re=Object(T.c)(s,de,U,H),se=Object(m.b)(),ce=Object(m.c)((e=>e.profileReducer)),ue=Object(m.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=V.dispositionStateData,{ScheduledDeliveryComponent:Oe={},showToastAfterLocalization:me=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:be}=Oe;let je=Object(m.c)((e=>e.appStateReducer.userStatus));const pe=Object(c.Sd)(V.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):V.dispositionNew,he=async(t,o)=>{var i,a,l,n,d,r,s,u,v;t.preventDefault(),t.stopPropagation(),Object(T.l)();const{futureDates:O,scheduled:m={},asap:b}=(null===o||void 0===o||null===(i=o.summary)||void 0===i?void 0:i.timings)||{},{interval:j=0,startEndTime:p={}}=Object(c.hb)(null===m||void 0===m||null===(a=m.periods)||void 0===a?void 0:a.length,m.periods[0]),{from:h,to:g}=p,{unavailibilities:S,unavailibilityType:I}=m;Object(Ce.j)(h,g,j,null===b||void 0===b?void 0:b.isAvailable,1===O.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),S,I);let f={time:"ASAP",interval:null===(l=o.summary.timings.scheduled.periods[0])||void 0===l?void 0:l.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==o.id||pe.deliveryAddress!==(null===V||void 0===V||null===(n=V.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress)){let e=await Object(c.A)(o,Object(c.Mb)(ve),ce.customerId,f);se(Object(Ie.m)("")),se(Object(Ie.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),Y({type:X,value:{oldvalue:pe,newValue:{type:ve,store:o,date:f.date,time:f.time,interval:f.interval,selectedTime:f.selectedTime,deliveryAddress:null===V||void 0===V||null===(d=V.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:o,date:f.date,time:f.time,selectedTime:f.selectedTime,interval:f.interval,deliveryAddress:null===V||void 0===V||null===(r=V.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress})),Object(c.vf)();const N={storeID:null===o||void 0===o?void 0:o.id,disposition:ve,postCode:null===o||void 0===o||null===(s=o.addresses[0])||void 0===s||null===(u=s.address)||void 0===u?void 0:u.pinCode};x(N),Y({type:K,value:{showSearchStore:!1}}),Y({type:Z,value:{isLocalized:!0}}),Object(c.ce)(null===ae||void 0===ae?void 0:ae.pathname)&&Object(Te.a)(null===o||void 0===o||null===(v=o.summary)||void 0===v?void 0:v.name,ve,me),((t,o)=>{var i;let a=Object(c.ad)(t,t,null);Y({type:q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),Y({type:$,value:a}),se(Object(fe.a)({...je,localized:!0})),Y({type:J,value:{selectedDateTime:o}}),Y({type:ee,value:{selectContentTime:"ASAP"}}),Y({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP");const l=localStorage.getItem(L.gd.SET_LOCATION),n=null===ae||void 0===ae?void 0:ae.pathname;!V.fromPdpPage&&!l&&e.history.push({pathname:"".concat(Q),...!Object(c.ce)(n)&&{state:{toastData:{storeName:null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.name,service:ve,showToastAfterLocalization:me}}}})})(o,f)},Se=(e,t)=>{var o,i,a;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),Y({type:Z,value:{isLocalized:!0}}),Y({type:z,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),Y({type:K,value:{showSearchStore:!1}});const{futureDates:l,scheduled:n={},asap:d}=(null===t||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings)||{},{interval:r=0,startEndTime:s={}}=Object(c.hb)(null===n||void 0===n||null===(i=n.periods)||void 0===i?void 0:i.length,null===n||void 0===n||null===(a=n.periods)||void 0===a?void 0:a[0])||{},{from:u,to:v}=s,{unavailibilities:O,unavailibilityType:m}=n;Object(Ce.j)(u,v,r,null===d||void 0===d?void 0:d.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),O,m),Object(T.k)(),(e=>{let t=Object(c.ad)(e,e,null);Y({type:q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),Y({type:$,value:t})})(t)},Ae=Object(Ne.a)(f),_e=Object(D.jsxs)("div",{className:"store-card ".concat(Object(c.hb)(A,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(A&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(A&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:h})}),Object(D.jsx)("span",{className:"store-distance",children:ye(d,ue)})]}),A&&Object(D.jsx)("span",{className:"store-index",children:"".concat(k+1," of ").concat(F)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Re=ne,!!Object(c.Td)(Re)&&Re.map(((e,t)=>{const{PICK_UP:o,TAKE_AWAY:i}=p.a;return Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:De,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:e===o?Object(l.translateWithI18Next)(i):e})]},t)})))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(c.ac)(r)}),!A&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>y(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:ie})})]}),Object(D.jsxs)("div",{className:"info-timing ".concat(!s&&"info-timingClosed"),children:[s?"":Object(D.jsx)("span",{children:Object(l.translateWithI18Next)(oe)}),Object(D.jsx)("span",{className:"".concat(!s&&"list-circle"),children:re})]}),Object(D.jsx)("div",{className:"facilities",children:Ae&&Ae.map((e=>Object(D.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?R&&Object(D.jsx)(S.a,{"data-testid":"favorite-img",srcFile:xe,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(D.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Ee,alt:"favorite",className:"favorite-img",onClick:()=>P()}):"",G&&s&&Object(D.jsx)(N.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(A&&!_?"cardMapView":null),onClickHandler:e=>he(e,f),children:W}),be&&Object(D.jsx)(N.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(c.hb)(A,!_)?"cardMapView":null),onClickHandler:e=>Se(e,f),children:B})]})]});var Re;return I!==p.a.COUNTRY_CODE_INDIA||s?_e:null})),_e=o(12),Re=o(4);const{FavoriteUnfillImage:Le,FavoriteFillImage:Pe,GreenTickImage:we}=x.a,{BROWSE_MENU:Me,PICK_UP:ke,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:Ue,STORE_STATUS_CLOSED:He,INDIA:Be}=p.a,We=e=>e===ke?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ve=Object(ge.j)((e=>{var t,o,i,a,n,d,r,s,O,b,p,h;const{key:I="",storeName:f="",storeDistance:C="",orderTypes:x=[],addresses:y={},storeStatus:A={},onClickMapHandler:_,isMapView:R,isMobile:P,isFavoriteStore:w,addToFavoriteHandler:M,removeFromFavoriteHandler:k,map:F,loggedIn:U,storeInfo:H={},centerIndex:B,storeLength:W,onStoreSelectFinish:G}=e,V=((e,t)=>{var o,i,a,l,n;if((null===e||void 0===e||null===(o=e.timings)||void 0===o||null===(i=o.operatingHours[0])||void 0===i?void 0:i.day)===L.cc)return null===(a=e.timings)||void 0===a||null===(l=a.operatingHours[0])||void 0===l||null===(n=l.availableHours)||void 0===n?void 0:n.from;{var d;const o=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,i=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let a=0,l=[],n=[];var r,s,u,v;return null===o||void 0===o||o.forEach(((e,t)=>{var o;(null===e||void 0===e||null===(o=e.day)||void 0===o?void 0:o.toLowerCase())===i&&(a=t,n.push(e))})),null!==n&&void 0!==n&&n.length&&(null===n||void 0===n||n.forEach((t=>{var o;const i=Object(c.E)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(c.lf)(null===t||void 0===t||null===(o=t.availableHours)||void 0===o?void 0:o.from)>i&&l.push(t)}))),null!==l&&void 0!==l&&l.length?null===(r=l[0])||void 0===r||null===(s=r.availableHours)||void 0===s?void 0:s.from:null===(u=o[a<(null===o||void 0===o?void 0:o.length)-1?a+1:a])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(A,L.Rf),Y=V,z=null===A||void 0===A||null===(t=A.timings)||void 0===t||null===(o=t.scheduled)||void 0===o?void 0:o.unavailibilities,K=null===A||void 0===A||null===(i=A.status)||void 0===i?void 0:i.message,{mapText:q=""}=Object(c.sd)(F),{MENU_URL:J,SEARCH_ORDER_DATA:Q,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:oe,userOrderStateDispatch:ie}=Object(v.useContext)(u.a);let ae=Object(m.c)((e=>e.appStateReducer.userStatus));const le=Object(m.c)((e=>e.tenantReducer)),ne=Object(m.b)(),{futureDates:de,scheduled:re,asap:se}=Object(c.sd)(null===H||void 0===H||null===(a=H.summary)||void 0===a?void 0:a.timings),{unavailibilities:ce,unavailibilityType:ue}=Object(c.sd)(re),{interval:ve=0,startEndTime:Oe={}}=Object(c.sd)((null===re||void 0===re||null===(n=re.periods)||void 0===n?void 0:n.length)&&(null===re||void 0===re?void 0:re.periods[0])),{from:me,to:be}=Object(c.sd)(Oe),{dispositionType:je=localStorage.getItem("dispositionType")}=oe.dispositionStateData,pe=Object(c.Sd)(oe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):oe.dispositionNew,he=()=>{var e;return Object(Ce.j)(me,be,ve,null===se||void 0===se?void 0:se.isAvailable,1===de.length&&(null===le||void 0===le||null===(e=le.country)||void 0===e?void 0:e.toUpperCase())===Be,ce,ue)},ge=(e,t)=>{var o,i,a,l;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ie({type:$,value:{isLocalized:!0}}),ie({type:Q,value:{showSearchStore:!1}}),ie({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:n,scheduled:d,asap:r}=null===t||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings,{interval:s=0,startEndTime:c={}}=(null===d||void 0===d||null===(i=d.periods)||void 0===i?void 0:i.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=c;Object(Ce.j)(u,v,s,null===r||void 0===r?void 0:r.isAvailable,1===n.length&&"INDIA"===(null===le||void 0===le?void 0:le.country),ce,ue),Object(T.k)(),(e=>{let t=e||null;ie({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ie({type:X,value:t})})(t);const O={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(a=t.addresses[0])||void 0===a||null===(l=a.address)||void 0===l?void 0:l.pinCode};G(O)},Se=e=>he().length?"Today":"Tomorrow",Ie=Object(Ne.a)(H);return Object(D.jsxs)("div",{className:"store-card ".concat(R&&!P?"store-card-map-view":"store-card-mobile-view"),style:Ge(R,P),"data-testid":"closed-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:f})}),Object(D.jsx)("span",{className:"store-distance",children:ye(C,le)})]}),R&&Object(D.jsx)("span",{className:"store-index",children:"".concat(B+1," of ").concat(W)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Te=x,Te.map(((e,t)=>Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:we,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:We(e)})]},t))))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(c.ac)(y)}),!R&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:q})})]}),Object(D.jsx)("div",{className:"info-timingClosed",children:Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:Object(c.jb)((null===(d=A.status)||void 0===d?void 0:d.currentStatus)===Ue,0===(null===A||void 0===A||null===(r=A.timings)||void 0===r||null===(s=r.scheduled)||void 0===s||null===(O=s.periods)||void 0===O?void 0:O.length))?Object(D.jsx)("span",{className:"closed-text",children:He}):""}),Object(D.jsx)("li",{children:(null===z||void 0===z?void 0:z.length)>0&&Object(_e.S)(null===(b=z[0])||void 0===b?void 0:b.to,"HH MM","HH:MM")<=Object(_e.S)(be,"HH MM","HH:MM")?(()=>{var e,t,o,i,a,l;return K===L.Hc?"Open Today ".concat((null===(e=z[0])||void 0===e?void 0:e.from)&&Object(_e.S)(null===(t=z[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):K===L.Ic?"Open ".concat(Se(null===(o=A.timings)||void 0===o||null===(i=o.scheduled)||void 0===i||i.date)," ").concat(Y&&Object(_e.S)(Y,"hh mm","hh:mm a")):"Open Today ".concat((null===(a=z[0])||void 0===a?void 0:a.to)&&Object(_e.S)(null===(l=z[0])||void 0===l?void 0:l.to,"hh mm","hh:mm a"))})():"Open ".concat(Se(null===(p=A.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(Y&&Object(_e.S)(Y,"hh mm","hh:mm a"))})]})}),Object(D.jsx)("div",{className:"facilities",children:Ie&&Ie.map((e=>Object(D.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2",children:[U&&(w?Object(D.jsx)(S.a,{"data-testid":"favorite-img",srcFile:Pe,alt:"favorite",className:"favorite-img",onClick:()=>k()}):Object(D.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===he().length?Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,o;const i={storeID:null===H||void 0===H?void 0:H.id,disposition:null===H||void 0===H?void 0:H.service,postCode:null===H||void 0===H||null===(t=H.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};Object(E.y)(i),Object(c.wf)(H,ie,pe,je),ne(Object(fe.a)({...ae,localized:!0})),Object(c.vf)(),ie({type:Z,value:{showDisposition:!1}}),ie({type:Q,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(J)})},children:Object(l.translateWithI18Next)(Me)}):Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,H),children:Object(l.translateWithI18Next)(Re.a.SCHEDULE_ORDER_BTN)})]})]})]},I);var Te})),Ye=o(417),ze=o(63);const{Error:Ke,LocationImage:qe,MapImage:Je,Union:Qe,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=x.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",ot=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",it=e=>{var t,o,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(i=o.catalogs)||void 0===i?void 0:i.length)>0},at=e=>e?Qe:Je,lt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var nt=Object(ge.j)((e=>{var t;const{formContent:o={},storeData:i=[],eligibleStoreData:a=[],favoriteStoreData:n=[],userPositionHandler:r,singInClickhandler:b,currentMarket:x,storeCardLimit:y=1/0,onStoreSelectFinish:A,handleGoBack:_,noStoresList:P,favoriteStoreHandler:w}=e,{memberText:k="",singInLink:F={},currentLocationText:U="",addressBoxPlaceHolderForSearchStore:H="",mapText:B=""}=o,{MIN_SEARCH_CHARACTER_LIMIT:W,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:V,ALREADY_SERACHED_LOCATIONS:Y,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:K,SUGGESTION_ACTIVE_OPACITY:q,BRAND_BLACK:J,STORE_STATUS_OPEN:Q,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:oe,CTA2_ORDER_TAKEAWAY:ie,TAKEAWAY_UNAVAILABLE_WITH_CTA:ae,DINE_IN_SERVICE:le,DINE_IN:ne,TYPE_DELIVERY:de,TAKE_AWAY:re}=p.a,{DISPOSITION_METHOD:se}=j.a,{MENU_URL:ce,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:Oe,DISPOSITION_DATA:me,INDIA:be}=j.a,{userOrderState:je}=O.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Ie=localStorage.getItem("dispositionType")}=he,[fe,Ne]=O.a.useState(""),[Te,Ee]=Object(v.useState)({}),[xe,De]=Object(v.useState)({}),[ye,_e]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[Pe,we]=O.a.useState([]),[Me,ke]=O.a.useState(!1),[Fe,Ue]=Object(v.useState)(null),[He,Be]=Object(v.useState)(Object(c.de)(window.innerWidth));let We=0;const[Ge,Je]=Object(v.useState)(0),[Qe,tt]=Object(v.useState)(""),[nt,st]=O.a.useState(!1),[ct,ut]=O.a.useState([]),[vt,Ot]=O.a.useState([]),{userOrderStateDispatch:mt}=Object(v.useContext)(u.a);let bt,jt=0;const pt=Object(m.b)(),ht=Object(m.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:St=!1}}},postalcodeRemoveRegex:It=null,specialCharRemoveRegex:ft=null}=ht||{};let Nt=0;const[Ct,Tt]=O.a.useState(!1),Et=Object(m.c)((e=>e.appStateReducer)),{isLoading:xt}=Object(m.c)((e=>Object(c.sd)(e.LoaderReducer))),{userStatus:Dt={}}=Et,{loggedIn:yt=!1}=Dt,[At,_t]=O.a.useState([]),[Rt,Lt]=O.a.useState(!0),{customerId:Pt}=ze.a.getInstance(),[wt,Mt]=Object(v.useState)(325),[kt,Ft]=Object(v.useState)(!1),Ut=()=>{const e=Object(c.de)(window.innerWidth);Be(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)})),[He]),Object(v.useEffect)((()=>(window.addEventListener("keydown",lt),()=>{window.removeEventListener("keydown",lt)})));const Ht=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ht&&wt!==Ht&&Mt(Ht)}),[Ht]);const Bt=async e=>{const t=await Object(I.geocodeByAddress)(e),o=await Object(I.getLatLng)(t[0]);Ee(o),De(o),We=0,Vt(e),Ne(e),r({userLat:o.lat,userLong:o.lng}),ke(!1);const i=Boolean(Object(c.hb)(Object(c.qd)(fe,e),Object(c.hb)(0===We,0===jt)));st(i)},Wt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),mt({type:Oe,value:null}),mt({type:me,value:{showDisposition:!1}}),mt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ce)})},Gt=(e,t,o)=>Object(D.jsx)("div",{className:"store-card",children:Ie.toUpperCase()===Z?Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(N.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:zt,children:Object(l.translateWithI18Next)(o)})]}):Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(N.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:zt,children:Object(l.translateWithI18Next)(o)}),Object(D.jsx)(N.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),mt({type:se,value:{dispositionType:re}}),Bt(fe)})(e),children:Object(l.translateWithI18Next)(ie)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Ne(e),Bt(e)}}else Bt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(fe){let e=a.filter(it);if(e.length>0){let t=e.filter((e=>{var t,o,i,a,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===Q&&(null===(i=e.summary)||void 0===i||null===(a=i.timings)||void 0===a||null===(l=a.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)>0}));if(t.length>=y){let e=t.slice(0,y);we(e)}else if(t.length<y){let o=y-t.length,i=e.filter((e=>{var t,o,i,a,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(a=i.timings)||void 0===a||null===(l=a.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})).slice(0,o),a=t.concat(i);we(a)}}else We=0,we([])}else we([]),_t([]),ut([]),st(!1)}),[a,fe]),Object(v.useEffect)((()=>{if(a.length>0){w({userLat:xe.lat,userLong:xe.lng});const e=n.sort(((e,t)=>Object(T.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,o;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus}));_t(t)}}),[a,n.length]),Object(v.useEffect)((()=>{if(Me){const e=St?ve(Qe,It,ft):Qe;Ne(e),Vt(Qe),ke(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==fe&&(we([]),ut([]),Ue(""),_t([]));let e=Object(c.d)(fe,W);Ft(e)}),[pe,fe,Me,Qe]);const Vt=e=>{Object(c.ze)(e,Y)},Yt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(Y))).includes(t);var t},zt=()=>{Ne(""),_t([]),we([]),ut([]),st(!1),Ue(""),_e(!1)},Kt=Object(v.useCallback)((async()=>{const e=await Promise.all(Pe.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ee(e)}),[Pe]),qt=Object(v.useCallback)((async()=>{const e=await Promise.all(At.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ee(e)}),[At]),Jt=()=>{Object(T.i)(ye,Ie),_e(!ye),Le(!ye)},Qt=(e,t)=>{Ue(e),Je(t)},Xt=()=>{Kt(),Le(!0),Ue(Object(c.sd)(Pe[Ge]))},Zt=async()=>{await qt(),Le(!0),Ue(Object(c.sd)(At[Ge]))};Object(v.useEffect)((()=>{((e,t,o,i)=>{let{TYPE_TAKE_WAY:a,DINE_IN:l,dispositionType:n,callSelectedStore:d,callSelectedFavStore:r}=i;e?t.length&&[a,l].indexOf(n.toUpperCase())>-1&&d():o.length&&[a,l].indexOf(n.toUpperCase())>-1&&r()})(Rt,Pe,At,{TYPE_TAKE_WAY:Z,DINE_IN:ne,dispositionType:Ie,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=Pe.filter((e=>{var t,o,i,a,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(a=i.timings)||void 0===a||null===(l=a.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})),t=Pe.filter((e=>{var t,o,i,a,l,n,d,r,s;const c="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(l=a.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:O,scheduled:m,asap:b}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=m,{interval:h=0,startEndTime:g={}}=m&&(null===m||void 0===m||null===(r=m.periods)||void 0===r?void 0:r.length)&&(null===m||void 0===m?void 0:m.periods[0]),{from:S,to:I}=g,f=Object(Ce.j)(S,I,h,null===b||void 0===b?void 0:b.isAvailable,1===O.length&&(null===ht||void 0===ht||null===(s=ht.country)||void 0===s?void 0:s.toUpperCase())===be,j,p);return(!f||0===f.length)&&c&&(u||v)}));ut(e),Ot(t)}),[Pe,Ge,Fe,P,ne,$,Z,Ie,Kt,Rt,At]);const $t=e=>{Ue("");let t=e?Ge+1:Ge-1;Je(t),((e,t,o,i,a)=>{t(!0===e?Object(c.sd)(o[a]):null===i||void 0===i?void 0:i[a])})(Rt,Ue,Pe,At,t)},eo=e=>{Lt(e)},to=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},oo=e=>{to(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Pt,dispatch:"dispatch"})),Tt(!0)},io=e=>{to(),pt(Object(d.x)({tenantId:gt,customerId:Pt,storeId:Object(c.sd)(e.id),dispatch:"dispatch"})),Tt(!1)};Object(v.useEffect)((()=>{Ct&&Se.b.dark(Object(D.jsxs)("div",{className:"img-text-div",children:[Object(D.jsx)(S.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Se.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[n.length]),Object(v.useEffect)((()=>{0!==We||0!==jt||!nt||P||xt||(Ie.toUpperCase()===Z?Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(ae)):Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(oe)))}),[We,jt,nt,P,xt]);const ao=(e,t)=>{var o,a,l,n;const d=(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(a=o.status)||void 0===a?void 0:a.currentStatus)===Q,r=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:s=[]}=r[0],u="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(O.a.Fragment,{children:d?Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:x,isOpen:d,isMapView:!0,onStoreSelectFinish:A,isMobile:He,centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},t):Object(D.jsx)(Ve,{orderTypes:s,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:A,isMobile:He,isMapView:!0,storeInfo:e,mapText:B,onClick:()=>{Jt(),Kt()},...i[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},u)})},lo=At.map(((e,t)=>{var o,a,l,n;if((null===(o=e.summary)||void 0===o||null===(a=o.status)||void 0===a?void 0:a.currentStatus)===Q){var d,r;const o=(null===(d=e.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===Q;return o&&Nt++,Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:x,isOpen:o,onStoreSelectFinish:A,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{io(e)}},t)})}if((null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)===$){Nt++;const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:a=[]}=o[0],l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),orderTypes:a,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{io(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},l)})}})),no=Pe.map(((e,t)=>{var o,a,l,d;if(fe||we([]),We>=y||0===(null===(o=e.summary)||void 0===o||null===(a=o.timings)||void 0===a||null===(l=a.scheduled)||void 0===l||null===(d=l.periods)||void 0===d?void 0:d.length))return null;{var r,s;const o=(null===(r=e.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus)===Q;return o&&We++,Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:x,isOpen:o,onStoreSelectFinish:A,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{io(e)}},t)})}})),ro=()=>{let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie;if(bt=Object(T.a)(e,a),bt)return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:bt,onClearTextHandler:zt,dispositionType:Ie,handleGoBack:_})})},so=()=>{if(Pe.length===vt.length&&vt.length>0){let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie,t=Object(T.a)(e,a);return Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(t)),ro()}if(Pe.length===ct.length&&ct.length)return co;{let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie;return Pe.length&&(bt=Object(T.a)(e,Pe),bt)?ro():(We<5&&no.push(co),no)}},co=ct.map(((e,t)=>{const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:a=[]}=Object(c.rd)(o[0]);if(fe||we([]),jt>=y-We)return null;{jt++;const o="".concat(e.name[0].value,"_").concat(t),l=Pe.findIndex((t=>t.id===e.id));return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:a,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,l),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{io(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},o)})}})),uo=()=>{switch(Ie.split("-").join(" ").toUpperCase()){case Z:return Object(l.translateWithI18Next)(ae);case ne:return Object(l.translateWithI18Next)(oe);default:return null}},vo=()=>{Je(0),Jt(),((e,t,o)=>{!0===e?t():o()})(Rt,Kt,qt)};return Object(D.jsxs)(O.a.Fragment,{children:[Object(D.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"store-count",children:[Object(D.jsx)("span",{className:"member-signin",children:!yt&&Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(l.translateWithI18Next)(k),Object(D.jsx)("span",{onClick:b,children:Object(D.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(l.translateWithI18Next)(F.linkText)})})]})}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(E.o)(),await s.b.BindLocation(),Object(T.m)(),s.b.coordinates){const{latitude:e,longitude:t}=s.b.coordinates;s.b.addFeedback("Check coordinates ".concat(JSON.stringify(s.b.coordinates))),s.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),s.b.addFeedback("Check address ".concat(s.b.address)),We=0,Ee({lat:e,lng:t}),_e(!1),r({userLat:e,userLong:t}),st(!0),Ne(s.b.address),tt(s.b.address),ke(!0)}Object(M.s)(mt,!s.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(D.jsx)(S.a,{"data-testid":"",srcFile:qe,alt:"location",className:"location-img"}),Object(l.translateWithI18Next)(U)]})})]}),Object(D.jsx)("div",{className:"search-address",children:Object(D.jsx)("div",{className:"input-address",children:Object(D.jsx)(f.a,{"data-testid":"handle-select",value:fe,onChange:e=>{e||zt(),Ne(e),Object(c.pc)(e)<3&&Ft(!1)},onSelect:Bt,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:o,getSuggestionItemProps:i,loading:a}=e;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"".concat(bt||0===We&&0===jt&&nt&&P&&!Pe.length?"search-container-data error-border":"search-container-data"),children:[Object(D.jsx)(S.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(l.translateWithI18Next)(H)})}),fe&&Object(D.jsx)("img",{"data-testid":"clear-text-icon",src:Ye.a,className:"clearTextIcon",onClick:()=>zt(),alt:"Clear Text Icon"})]}),!!Object(c.hb)(Object(c.pc)(o),kt)&&Object(D.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:o.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>V.includes(e)))){const o=e.active?{backgroundColor:K,opacity:q}:{backgroundColor:J};return Object(D.jsxs)(O.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(l.translateWithI18Next)(G)}),Object(D.jsx)("div",{style:o,children:Object(D.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...i(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment",children:[Object(D.jsx)("div",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:Yt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(D.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(fe,ye,X,Jt,Kt),Object(D.jsxs)("form",{className:"form",children:[Object(D.jsxs)("div",{className:"store-count",children:[!!We&&Object(D.jsx)("span",{"data-testid":"tab-open-store",className:ot(yt,Rt),onClick:()=>{Je(0),eo(!0)},children:yt?Object(D.jsxs)("span",{children:[" ","".concat(Object(l.translateWithI18Next)("nearYou"))," (",We+jt,")"]}):Object(D.jsxs)("span",{children:[We+jt," ","".concat(Object(l.translateWithI18Next)("nearYou"))]})}),!!jt&&Pe.length===ct.length&&Pe.length!==vt.length&&Object(D.jsx)("span",{"data-testid":"tab-closed-store",className:ot(yt,Rt),onClick:()=>{Je(0),eo(!0)},children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===We&&0===jt&&nt&&P&&Object(D.jsx)("span",{className:"store-count-title",children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(We,")")}),rt(We,jt,yt,Nt,{firstTab:Rt,setCenterIndex:Je,handleTabChange:eo}),(!!We||!!jt)&&Pe.length!==vt.length&&Object(D.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{vo()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:at(ye),alt:"map",className:"map-img"})}),ye?Object(l.translateWithI18Next)(X):B]})}),0===We&&0===jt&&nt&&P&&Object(D.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{vo()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:at(ye),alt:"map",className:"map-img"})}),ye?Object(l.translateWithI18Next)(X):Object(l.translateWithI18Next)(B)]})})]}),ye?Object(D.jsx)("div",{className:"order-button-section",children:0===We&&0===jt&&nt&&P&&Object(D.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:uo()}),Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Wt,children:Object(l.translateWithI18Next)(ee)})]})})}):Object(D.jsxs)(D.Fragment,{children:[Object(c.hb)(!xt,Object(c.hb)(Rt,0!==We||0!==jt||!nt||P||Pe.length?so():Gt(uo,Wt,te))),yt&&!Rt&&Object(D.jsx)("div",{className:"order-button-section",children:lo})]}),Object(D.jsx)("div",{className:"clearfix"})]})]}),ye&&Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"".concat((null===Ie||void 0===Ie?void 0:Ie.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C.a,{latLongValue:Te,loadingElement:Object(D.jsx)("div",{style:{height:"100%"}}),containerElement:Object(D.jsx)("div",{style:{height:"400px"}}),mapElement:Object(D.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Ne(e)},isVisible:Ie.toUpperCase()===Z||Ie.toUpperCase()===ne,isMobile:He,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(c.ad)(Rt,(e=>{const t=Pe.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Xt(),Je(t))}),(e=>{((e,t,o,i,a)=>{const l=e.findIndex((e=>e.location.latitude===i.lat()&&e.location.longitude===i.lng()));l>-1&&(a===l&&t(),o(l))})(At,Zt,Je,e,Ge)})),storeCardHeight:wt}),Re&&Fe&&He?!bt&&ao(Fe,"Selected-Card"):null]}),Re&&Fe&&!He?Object(c.hb)(Pe.length===ct.length,Rt)&&!bt&&((e,t)=>{const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:a=[]}=Object(c.rd)(o[0]),l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(O.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:a,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,isMapView:!0,onStoreSelectFinish:A,onClick:()=>{Jt(),Kt()},storeInfo:e,...i[0],centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},l)})})(Fe,"Selected-Card")||ao(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,o,i,a){return Object(D.jsx)(D.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(D.jsxs)("div",{className:"enter-your-address-section",children:[Object(D.jsx)("span",{className:"search-store-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsx)("div",{"data-testid":"show-list-map",className:Object(c.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&i(),a()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(S.a,{"data-testid":"",srcFile:at(t),alt:"map",className:"map-img"})}),Object(c.ad)(t,Object(l.translateWithI18Next)(o),Object(l.translateWithI18Next)("map"))]})})]})})}function rt(e,t,o,i,a){let{firstTab:n,setCenterIndex:d,handleTabChange:r}=a;return Object(D.jsx)(D.Fragment,{children:(!!e||!!t)&&o&&Object(D.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(n),onClick:()=>{d(0),r(!1)},children:"".concat(Object(l.translateWithI18Next)("savedkfc")," (").concat(i,")")})})}var st=o(1154),ct=o(86),ut=o(1117),vt=o(133);const Ot=e=>{var t;const{contentData:o={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:S,ANALYTICS_LOCALISATION_SIGNIN:I}=j.a,f=Object(m.b)(),{COUNTRY_CODE:N,STORE_CARD_LIMIT:C,TYPE_TAKE_WAY:E,PICK_UP:y,TENANT_ID:A,TENATNT_SESSION_ID:_,TYPE_DELIVERY:R}=p.a,{userOrderState:P,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:k,searchStoreData:F,showLocationConfirmModal:U}=P,{dispositionType:H=localStorage.getItem("dispositionType")}=Object(c.ud)(k),{currentMarket:B=N,storeCardLimit:W=C,storeStatusUrl:G="".concat(Object(a.a)(i.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:V=A,tenantSessionID:Y=_}=F,{searchStoreHeaderText:z="",deliveryHeaderText:K="",searchStoreModalContent:q={}}=o,{formContent:J={},locationsContent:{storeData:Q=[]}}=q,[X,Z]=O.a.useState([]),[$,ee]=O.a.useState({}),[te,oe]=O.a.useState([]),[ie,ae]=O.a.useState([]),{storeSearch:le={},tenantId:ne,componentOptions:de}=Object(m.c)((e=>Object(c.sd)(e.tenantReducer))),{storesWithStatus:re=[],isStoreStatusLoading:se=!1}=Object(m.c)((e=>Object(c.sd)(e.storesReducer))),{allStores:ce=[]}=Object(m.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:me,maxPickupDistanceMtrs:be,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=le,Se=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:S,value:{showDisposition:!1}}),w({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Se(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ie=e=>{e.stopPropagation(),e.preventDefault(),w({type:S,value:{showDisposition:!0}}),w({type:g,value:{showSearchStore:!1}})},fe=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(I,JSON.stringify(!0)),Object(T.j)(),setTimeout((()=>{Object(ct.c)()}),500)},Ne=Object(m.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(w,U)}),[]),Object(v.useEffect)((()=>{Ce({userLat:$.userLat,userLong:$.userLong})}),[Ne.length]),Object(v.useEffect)((()=>{ce.length>0&&ye(ce)}),[ce]),Object(v.useEffect)((()=>{re.length>0&&we(re)}),[re]),Object(v.useEffect)((()=>{(null===H||void 0===H?void 0:H.toUpperCase())===R&&Ae(ie)}),[ie]);const Ce=e=>{Object(st.a)(e.userLat,e.userLong,Ne,Te)},Te=(e,t)=>{const o=Object(c.ad)((null===H||void 0===H?void 0:H.toUpperCase())===E,y,H),i=G.replace("{channel}",s.b.channel).replace("{service}",o).replace(" ","-"),a=Object(b.a)();Object(T.h)(e,i.toLowerCase(),V,Y||Object(b.a)(),a,Ee)},Ee=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:o,amenities:i,dname:a,id:l,location:n}=e.storeBasic;return{...e,id:l,location:n,name:a,amenities:i,addresses:o,additionalAttributes:t,storeBasic:{}}}));oe(t)},xe=e=>{f(Object(n.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),De(e.userLat,e.userLong),setTimeout((()=>{f(Object(n.a)())}),2e3)},De=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},i=r.a.calculateGH(o);f(Object(d.v)(null===i||void 0===i?void 0:i.length))},ye=e=>{const t=Object(c.Mb)(H.toUpperCase()),o=e.filter((e=>{var t,o;return Object(c.qe)(e.id)&&Object(c.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(c.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)})),i={stores:o,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(c.ad)(H.toUpperCase()===R,me,be),noOfStores:Object(c.ad)(H.toUpperCase()===R,2,o.length),channel:s.b.channel},a=r.a.checkAndProceed(i);ae(a),H.toUpperCase()===R?Ae(a):Pe(a,t)},Ae=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,i;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(st.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:o}=e;const i=Object(c.Mb)(H.toUpperCase()),a={stores:Le(t,ie),numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:s.b.channel,isDriveTimeFromAdminPortal:ge},l=r.a.getSortedNearbyStores(a);(null===l||void 0===l?void 0:l.length)>0&&Pe(l,i)},Le=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),Pe=(e,t)=>{const o={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:s.b.channel,service:t}))),store:e,tenantId:ne,setStatusFlag:!1,isFavoritePage:!1};f(Object(d.d)(o,null))},we=e=>{let t=e.filter((e=>{var t,o,i,a,l,n,d,r,s,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const o=Object(c.Mb)(H.toUpperCase());if(ge&&H.toUpperCase()===R){const e={stores:t,numberOfStores:2,disposition:o,distanceMetrics:ve,driveTime:ue,channel:s.b.channel,isDriveTimeFromAdminPortal:ge},i=r.a.getSortedNearbyStores(e);t=(null===i||void 0===i?void 0:i.length)>0?i:[]}Z(t)},Me=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:ke}=L.gd,{configSearchScreen:Fe=localStorage.getItem(ke)}=F,Ue="".concat(null===H||void 0===H?void 0:H.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:He}={...null===vt.d||void 0===vt.d?void 0:vt.d[Ue],...null===Me||void 0===Me?void 0:Me[Ue]},{Error_Yellow:Be}=x.a||{},{LOCATION_BLOCKED_ERROR:We,KFC_URL:Ge}=Re.a,Ve=Object(c.Je)(U,He),Ye=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ut.a,{show:Ve,errorMsg:Object(M.G)(We,Ge),errImage:Be,cssClass:"location-blocked"}),(null===H||void 0===H?void 0:H.toUpperCase())===R?Object(D.jsx)(Oe,{singInClickhandler:fe,formContent:J,storeData:Q,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:W,userPositionHandler:xe,currentMarket:B}):Object(D.jsx)(nt,{singInClickhandler:fe,formContent:J,storeData:Q,eligibleStoreData:X,noStoresList:se,storeCardLimit:W,userPositionHandler:xe,currentMarket:B,onStoreSelectFinish:h,handleGoBack:Ie,favoriteStoreData:te,favoriteStoreHandler:Ce})]});return Object(D.jsx)(he,{handleClose:Se,orderModeTypeItem:Ye,showLocationError:Ve,headerText:Object(c.ad)((null===H||void 0===H?void 0:H.toUpperCase())===R,Object(l.translateWithI18Next)(K),Object(l.translateWithI18Next)(z)),handleGoBack:Ie,modalTitleId:"search-store"})};Ot.defaultProps=h.a;t.default=Ot},964:function(e,t,o){"use strict";o.r(t),o.d(t,"ScheduleOrder",(function(){return O}));var i=o(3),a=o.n(i),l=o(1143),n=o(144),d=o(2);var r=e=>{const{handleClose:t,ScheduleOrderForm:o,headerText:i,modalTitleId:l="",handleGoBack:r}=e;return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:o})})},s=o(85),c=o(16),u=o(6),v=o(4);const O=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:o,userOrderStateDispatch:a}=Object(i.useContext)(s.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:O}=c.a,{scheduleOrderData:m}=o,{changeFlow:b=!1}=m,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),a({type:O,value:{selectedStoreInfo:o.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),a({type:n,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(l.a,{onStoreSelectFinish:t});return Object(d.jsx)(r,{handleGoBack:()=>{a({type:n,value:{showSearchStore:!0}}),a({type:O,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:b?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=O},966:function(e,t,o){"use strict";o.r(t),o.d(t,"getCaloriesPriceTemplate",(function(){return g}));var i=o(3),a=o(85),l=o(15),n=o(46),d=o(41),r=o(61),s=o(1106),c=o(5),u=(o(1095),o(1128)),v=o(0),O=o(6),m=o(262),b=o(264),j=o(967),p=o(4),h=o(2);const g=e=>{const{calories:t,kilojoule:o,price:i,currencySymbol:a,toRenderCheckBox:l,modgrpMax:n,pricewithNumberofDecimalDigit:d}=e,r=((e,t,o,i)=>{let a=Object(c.ad)(e<0,"-".concat(t).concat(Math.abs(e).toFixed(i)," "),"+".concat(t).concat(Math.abs(e).toFixed(i)," "));return 0!==Number(e)?Object(c.ad)(o,a,"+".concat(t).concat(Math.abs(e).toFixed(i))):Object(c.ad)(o,"",Object(O.translateWithI18Next)(v.qc))})(i,a,!(!l||l&&n>1),d),s=void 0!==i&&Object(h.jsx)("span",{className:"caloricInfo",children:r}),u=Object(h.jsx)("span",{className:"caloricInfo calorificWithPrice",children:" ".concat(t," ").concat(o)}),m=Object(h.jsx)("span",{className:"caloricInfo",children:" ".concat(t," ").concat(o)}),b=t?((e,t)=>Object(c.hb)(void 0!==e,Object(c.pc)(t)>0))(i,r)&&u||m:Object(h.jsx)(h.Fragment,{});return Object(h.jsxs)("div",{children:[s,b]})};t.default=e=>{var t,o,v,S;const{onSaveProduct:I,imageContainerSize:f,defaultImagePath:N,selectedProduct:C,price:T,isMobile:E,cardData:x,modgrpData:D,kilojoule:y,isStoreClosed:A,customizeClickHandler:_,localized:R,showButton:L,currencySymbol:P,updateItemQuantity:w,itemCount:M,isModgrpMax:k,toRenderCheckBox:F,toRenderQuantityModifier:U,dispositionType:H,handleCateringModifierQuantity:B,itemCountShouldAtModifierLevel:W,savedCustomizedModifier:G,tenantData:V}=e,Y=null===V||void 0===V||null===(t=V.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(v=o.global)||void 0===v?void 0:v.pricewithNumberofDecimalDigit,{Selection_Customize:z}=l.a,{modgrpId:K,max:q,comboL2:J=!1,modifierLength:Q}=D,{id:X,dname:Z,isHidden:$,content:ee,modgrps:te,isExcluded:oe,defaultQuantity:ie}=x,ae=Object(c.pc)(Z)&&(null===(S=Z[0])||void 0===S?void 0:S.value),le=null===ee||void 0===ee?void 0:ee.caloricValue,{userOrderState:ne}=Object(i.useContext)(a.a),{pdpPayloadData:de}=ne,{ITEM_QUANTITY:re}=s.a,{PEROPTIONMAX_KEY:se,PEROPTIONMIN_KEY:ce}=m.a,{QUANTITY_ACTION:ue}=r.a,ve=q>1?l.a.Multiselect_Check_Icon:l.a.Check_Icon,Oe=q>1?l.a.Multiselect_Uncheck_Icon:l.a.Selection_Checkbox_off,me=Object(c.qc)(ee,f,f),be=Object(c.j)([Object(c.Hd)(H),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("picture",{className:"sopac-modifier-card-tick",children:[Object(h.jsx)("source",{media:"(max-width: 1023px)",srcSet:C&&!oe&&ve||Oe,alt:C&&!oe?"checked":""}),Object(h.jsx)("img",{src:C&&!oe&&ve||Oe,alt:C?"checked":""})]}),je=me?Object(h.jsx)(n.a,{defaultPath:N,srcFile:me,className:"sopac-modifier-card-image"}):Object(h.jsx)(h.Fragment,{}),pe=()=>{const e=g({comboL2:J,calories:le,kilojoule:y,price:T,currencySymbol:P,toRenderCheckBox:F,modgrpMax:q,pricewithNumberofDecimalDigit:Y});return Object(h.jsxs)("div",{className:"sopac-modifier-card-name",tabIndex:"0",children:[Object(h.jsx)("div",{className:"title",children:ae}),oe?he():e]})},he=()=>Object(h.jsxs)("div",{className:"unavailable-container",children:[Object(h.jsx)(b.a,{src:l.a.TimerIcon,className:"unavailable-icon"}),Object(h.jsx)("div",{className:"unavailable-text",children:Object(O.translateWithI18Next)(null===p.a||void 0===p.a?void 0:p.a.CURRENTLY_UNAVAILABLE)})]}),ge=Object(c.ad)(W,Object(c.pd)(null===x||void 0===x?void 0:x.additionalProperties,se),Object(c.pd)(null===D||void 0===D?void 0:D.additionalProperties,se)),Se=W?Object(c.pd)(null===x||void 0===x?void 0:x.additionalProperties,ce):Object(c.pd)(null===D||void 0===D?void 0:D.additionalProperties,ce),Ie=E&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sopac-modifier-wrapper",children:[Object(c.j)([R,F,!A])&&be,pe()]}),je]}),fe=!E&&Object(h.jsxs)(h.Fragment,{children:[Object(c.j)([R,F,!A])&&be,je,pe()]});return!$&&Object(h.jsxs)("div",{className:"sopac-modifier ".concat(Object(c.ad)(oe,"sopac-modifier-deactive")),children:[Object(h.jsxs)("div",{className:"sopac-modifier-card d-flex","data-testid":"click-save-product",onClick:e=>!oe&&((e,t,o,i,a)=>{Object(c.j)([t,!o,a])?i():(e.preventDefault(),e.stopPropagation())})(e,R,A,I,F),children:[Ie,fe]}),L?Object(h.jsx)("div",{className:"sopac-modifier-customizeblock",children:Object(h.jsxs)(d.a,{ariaLable:"customize","data-testid":"customize-btn",className:"deepBlack font-bold customize-btn button blackBorder",disabled:!C||oe,onClick:e=>_(e,X,K),children:[Object(u.a)(x,K,de),Object(h.jsx)(n.a,{className:"customize-icon ".concat(Object(c.ad)(!C,"disabled-icon","")),srcFile:z})]})}):null,Object(c.j)([R,U,!A,!oe])&&(Object(c.j)([Object(c.Hd)(H),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"sopac-modifier-customizeblock ".concat(Object(c.hb)(k,"modgrp-greyout")),children:Object(h.jsx)(j.default,{itemCount:M||0,itemQuantity:re,updateItemQuantity:w,quantityAction:ue,item:void 0,itemName:ae,defaultQuantity:ie,maxItemCountPerLineItem:ge,cartItemCount:1,hideChild:!0,type:"button",dispositionType:H,handleQuantityForCatering:B,inputType:"number",modgrpMax:q,savedCustomizedModifier:G,minItemCountPerLineItem:Se})}))]})}},967:function(e,t,o){"use strict";o.r(t),o.d(t,"decreaseQtyCheck",(function(){return u})),o.d(t,"getCheckItemDefalutQtyEqualStatus",(function(){return v}));o(3);var i=o(395),a=o(404),l=o(5),n=o(1095),d=o(6),r=o(4),s=o(1123),c=o(2);const u=(e,t,o,i,a)=>e>t&&v(e,o)||"0"===i&&e>0||i!==a&&e>1,v=(e,t)=>e!==t;t.default=e=>{const{itemQuantity:t,itemCount:o,updateItemQuantity:O,quantityAction:m,item:b,itemName:j,maxItemCountPerLineItem:p,hideChild:h=!1,type:g="",dispositionType:S,handleQuantityForCatering:I,inputType:f="",onKeyPressHandler:N=s.c,defaultQuantity:C,modgrpMax:T,savedCustomizedModifier:E,minItemCountPerLineItem:x}=e,{quantityDecreseText:D,quantityIncreaseText:y,quantityUpdateText:A}=r.a;var _="".concat(Object(d.translateWithI18Next)(D)," ").concat(j),R="".concat(Object(d.translateWithI18Next)(y)," ").concat(j);const L=Object(l.Hd)(S)&&0===o?"cateringInputChangedZero":"";return Object(c.jsxs)("div",{className:"cart-food-quantity-change cart-food-quantity-change-sopac ".concat(Object(n.s)(S)),children:[u(o,t,C,x,p)?Object(c.jsx)(i.a,{className:"button quantity-decrease ".concat(0!==o&&"red-quantity-decrease"),ariaLable:_,onClickHandler:e=>O(b,m.Decrease,e),"data-testid":"quantity-minus",type:g,children:!h&&Object(c.jsx)("span",{children:"-"})}):Object(c.jsx)(i.a,{className:"button quantity-decrease ".concat(0!==o&&!v(o,t)&&"red-quantity-decrease"," ").concat(v(o,t)&&"quantity-decrease-disable"),disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!h&&Object(c.jsx)("span",{children:"-"})}),Object(l.Hd)(S)?Object(c.jsx)(a.a,{"aria-label":"Enter quantity",className:"quantity-input",id:"inputFocus","data-testid":"quantity-input",inputMode:"numeric",maxLength:"3",onChange:I,value:o,autocomplete:"off",inputType:f,onKeyPressHandler:N}):Object(c.jsx)("span",{className:"cart-food-quantity",children:o}),Object(c.jsx)("span",{className:"sr-only",role:"alert",children:"".concat(Object(d.translateWithI18Next)(A)," ").concat(o)}),Object(c.jsx)(i.a,{className:"transparent-btn button quantity-increase ".concat(0!==o?"red-quantity-increase":"gray-quantity-increase"," ").concat((null===E||void 0===E?void 0:E.totalQuantity)===T&&0===o&&"red-quantity-increase"," ").concat(L),ariaLable:R,"data-testid":"quantity-plus",type:g,onClickHandler:e=>O(b,m.Increase,e),disabled:!!(0!==p&&o>=p),children:!h&&Object(c.jsx)("span",{children:"+"})})]})}},968:function(e,t,o){"use strict";o.r(t),o.d(t,"addressTitle",(function(){return ue})),o.d(t,"DeliveryAddressSearchFormModule",(function(){return ve}));var i=o(3),a=o.n(i),l=o(28),n=o(267),d=o(0),r=o(85),s=o(16),c=o(6),u=o(331),v=o(1185),O=o(73),m=o(66),b=o(5),j=o(415),p=o(399);const h=e=>{let{localizationData:t={},address:o={}}=e;const{chome:i="",cityTown:a="",postalCode:l="",prefecture:n=""}=o;return{chome:null===i||void 0===i?void 0:i.replace(/\s+/g,""),cityTown:a,localizationData:t,postalCode:null===l||void 0===l?void 0:l.replace("-",""),prefecture:null===n||void 0===n?void 0:n.replace(/\s+/g,"")}},g=e=>{let{chome:t="",cityTown:o="",localizationData:i={},prefecture:a=""}=e;const{[a]:{[o]:l}={}}=i;return(Object(b.mf)(l)||{})[t]},S=e=>{let{chome:t="",localizationData:o={},postalCode:i=""}=e;const{[i]:a={}}=o;return Object(b.mf)(a)[t]};var I=o(17),f=o(269),N=o(328),C=o(20),T=o.n(C),E=o(63),x=o(4),D=o(2);const y=e=>{const{loggedIn:t=!1,formContent:o={},storeSelection:i}=e,{signInLink:a}=i,{memberText:l="",singInLink:n={}}=o;return Object(D.jsx)("div",{className:"login-section",children:a&&Object(D.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(p.g)(l,p.h,n)})})},A=a.a.memo(y);var _=o(1147);const R=e=>{const{defaultSelectedTabIndex:t,onTabSelection:o,tabsList:a}=e,[l,n]=Object(i.useState)(t);return Object(D.jsx)("div",{className:"toggle-tabs",children:a.map(((e,t)=>Object(D.jsx)("div",{className:"toggle-tabs-container",children:Object(D.jsx)("button",{className:"toggle-tabs-button ".concat(t===l?"selected":""),"aria-pressed":t===l,onClick:()=>(e=>{e!==l&&(n(e),o(e))})(t),children:Object(D.jsx)("span",{className:"toggle-tabs-button-text",children:Object(c.translateWithI18Next)(e.title)})})},e.id)))})};R.defaultProps={defaultSelectedTabIndex:0,onTabSelection:()=>null,tabsList:[]};var L=R,P=o(15);const{SearchIconGrey:w,SingleArrow:M,WhiteCloseButton:k}=P.a,F=e=>{const{cssClass:t,dropdownId:o,dropdownList:a,dropdownTitleText:l,enableSearch:d,onDropdownSelection:r,selectedText:s}=e,[u,v]=Object(i.useState)(a),[O,m]=Object(i.useState)(!1),[b,j]=Object(i.useState)(!1),[p,h]=Object(i.useState)(""),g=Object(i.useRef)(),S=Object(i.useCallback)((e=>{e&&e.focus()}),[]);Object(i.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const I=e=>{var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const o=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"";h(o),(e=>{const t=e.toLowerCase();let o=a;t&&(o=null===a||void 0===a?void 0:a.filter((e=>-1!==e.toLowerCase().indexOf(t)))),v(o)})(o)},f=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),h(""),v(a)},N=e=>{j(e)},C=()=>{m(!O),f()};return Object(D.jsxs)("div",{className:"searchable-dropdown ".concat(t),ref:g,children:[l&&Object(D.jsx)("div",{className:"searchable-dropdown-title","aria-level":"1",role:"heading",children:s!==l||O?l:""}),Object(D.jsxs)("div",{id:o,className:"searchable-dropdown-value","data-testid":"searchable-dropdown-value-id",role:"listbox",tabIndex:"0",onClick:C,children:[Object(D.jsx)("div",{className:"selected-value",children:s===l&&O?"":s}),Object(D.jsx)("img",{src:M,alt:" ",className:"down-arrow-img ".concat(O?"dropdown-open":"")})]}),O&&Object(D.jsxs)("div",{className:"searchable-dropdown-options-container",children:[d&&Object(D.jsx)("div",{className:"searchable-dropdown-form-container",children:Object(D.jsxs)("form",{className:"searchable-dropdown-form",children:[Object(D.jsx)("img",{src:w,alt:" ",className:"search-icon"}),Object(D.jsx)("input",{className:"searchable-dropdown-input","data-testid":"searchable-dropdown-search-input",type:"text",ref:S,placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),value:p,onChange:e=>I(e),onKeyDown:e=>(e=>{var t;"Enter"===e.key||13===e.keyCode?(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||null===(t=e.target)||void 0===t||t.blur()):"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),C())})(e),onFocus:()=>N(!0),onBlur:()=>N(!1)}),(b||p)&&Object(D.jsx)("button",{className:"clear-text","data-testid":"searchable-dropdown-clear-text",onClick:e=>f(e),children:Object(D.jsx)("img",{src:k,alt:" ",className:"search-icon"})})]})}),Object(D.jsx)("ul",{children:null===u||void 0===u?void 0:u.map((e=>Object(D.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),m(!O),r(t),f()})(t,e),className:"searchable-dropdown-option","data-testid":"searchable-dropdown-option-id",children:e},e)))})]})]})};F.defaultProps={cssClass:"",dropdownId:"",dropdownList:[],dropdownTitleText:"",enableSearch:!1,onDropdownSelection:()=>null,selectedText:""};var U=F,H=o(1172);const B=e=>{const{defaultPostalValue:t,verifyPostalCode:o}=e,[a,l]=Object(i.useState)(t),d=Object(i.useRef)(null);Object(i.useEffect)((()=>{t&&l(t)}),[t]),Object(i.useEffect)((()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.focus()}),[]);return Object(D.jsx)("div",{className:"delivery-address-section search-store-postal-content",children:Object(D.jsx)(H.a,{maxLength:8,onClearTextHandler:()=>{o(!1,""),l("")},placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),address:a,inputOnChange:e=>{let t=e.replace(/[^\d ]+/g,"");t=t.length>3?t.replace(/(.{3})/,"$1-"):t;const i=t.length>=8;l(t),o(i,t)},inputRef:d})})};B.defaultProps={defaultPostalValue:"",verifyPostalCode:()=>null};var W=B,G=o(122),V=o(46),Y=o(41),z=o(1186),K=o(80),q=o(132);const{DISPOSITION_METHOD:J}=s.a,{CONFIRM_LOCATION:Q,DELIVERY_SEARCH_TYPE:X,NO_STORE_WITH_DELIVERY:Z,OTHER_DELIVERY_SERVICES:$,SEARCH_DELIVERY_LOCATION:ee,SPECIAL_NOTES:te,STORES_VARY_MESSAGE:oe,SWITCH_TO_TAKE_AWAY:ie,POSTAL_CODES:ae,PREFECTURES:le}=n.b;var ne=e=>{var t;const{changeFlow:o,deliveryLocalizationData:a,formContent:s,getStoreData:u,deliverySearchType:v,onDeliveryTypeChanged:C,isDeliveryLocalizationLoading:y,storesStatusError:R,saveAddressData:P,selectedAddress:w,setSelectedAddress:M,prefectureAddressScreen:k,addressName:F,isPrimaryAddress:H,closeModal:B,modalType:te,address:ne,isAccount:de,addressNameExist:re=!1,updateSetOrderDetails:se,isAddressFromOrderProcessing:ce}=e,ue=k?d.a:"",ve=Object(l.c)((e=>e.appStateReducer.userStatus)),{postalCodePrefix:Oe,tenantId:me="",scheduleOrderDateFormat:be,fieldAddressMaxLengthFlag:je}=Object(l.c)((e=>e.tenantReducer||{})),{headerData:{footer:pe={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),he=Object(b.Yb)(pe),{loggedIn:ge}=Object(b.sd)(ve),{userOrderState:Se,userOrderStateDispatch:Ie}=Object(i.useContext)(r.a),fe=Object(l.b)(),[Ne,Ce]=Object(i.useState)(!1),[Te,Ee]=Object(i.useState)(0),[xe,De]=Object(i.useState)(!1),[ye,Ae]=Object(i.useState)(!1),[_e,Re]=Object(i.useState)(0),[Le,Pe]=Object(i.useState)(w),we=Object(p.c)(),Me=null===v||void 0===v?void 0:v.id,ke=null!==ne&&void 0!==ne&&ne.pinCode?null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE:null===n.b||void 0===n.b?void 0:n.b.ADDRESS,Fe=ne?ke:null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE,Ue=Math.max(0,we.findIndex((e=>e.id===Fe))),[He,Be]=Object(i.useState)(!1),We=Object(p.d)(),[Ge,Ve]=Object(i.useState)(!0),[Ye,ze]=Object(i.useState)({}),[Ke,qe]=Object(i.useState)(!1),Je=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t?void 0:t.isLoading)||!1})),Qe=Object(l.c)((e=>{var t,o;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t||null===(o=t.response)||void 0===o?void 0:o.deliveryAggregators)||{}})),{savedAddresses:Xe}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ze=!(null===Xe||void 0===Xe||!Xe.length||!ge),$e=Object(l.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.pwaStoragsReducer)||void 0===t||null===(o=t.pwaStorageState)||void 0===o?void 0:o.selectedFavouriteStoreAddress})),et={text:Z,cta:{label:ie}},tt={header:$,notice:oe},ot=Object(q.a)();Object(i.useEffect)((()=>{var e;(_e===(null===v||void 0===v||null===(e=v.fieldOrder)||void 0===e?void 0:e.length)||te)&&Ae(!0)}),[v,ye,_e,te]),Object(i.useEffect)((()=>{T()(Qe)&&!Je&&fe(Object(N.d)())}),[Qe,fe,Je]),Object(i.useEffect)((()=>{var e;const t=o?JSON.parse(localStorage.getItem(d.gd.SELECTED_ADDRESS)):{},i=(null===Se||void 0===Se||null===(e=Se.scheduleOrderData)||void 0===e?void 0:e.selectedAddress)||t;var a,l;i&&Object.keys(i).length>0&&(M(i),Re(null===v||void 0===v||null===(a=v.fieldOrder)||void 0===a?void 0:a.length),Ee(null===v||void 0===v||null===(l=v.fieldOrder)||void 0===l?void 0:l.length))}),[Le]),Object(i.useEffect)((()=>{Me===I.d.address&&Be(!(!(Ge&&w.prefecture&&w.cityTown&&w.chome&&w.streetDetailAddress)||re)),Me===I.d.postalCode&&Be(!(!(Ge&&w.postalCode&&w.chome&&w.streetDetailAddress)||re))}),[Me,Ge,w.postalCode,w.prefecture,w.cityTown,w.chome,w.streetDetailAddress,Be,re]);Object(i.useEffect)((()=>{const e=Me===I.d.postalCode?ae:le,t=a[e];if(!y&&!T()(t)&&Object.keys(t).length>0){var o;const e=Me===I.d.postalCode?I.d.postalCode:I.d.prefecture,a=null===Se||void 0===Se||null===(o=Se.scheduleOrderData)||void 0===o?void 0:o.storeId,n={[e]:t};let d={};if(null!==w&&void 0!==w&&w[e]&&(a||te)){d={...n};const e=(null===v||void 0===v?void 0:v.fieldOrder)||[];for(let t=1;t<e.length+1;t++){var i,l;const o=(null===(i=e[t])||void 0===i?void 0:i.id)||I.d.selectedStore,a=null===(l=e[t-1])||void 0===l?void 0:l.id,n=w[a].replace("-","");a&&n&&d[a]&&(d[o]=d[a][n])}}ze({...d,...Ye,...n})}te&&(ot(Object(K.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:w})),Pe(w))}),[a,te]);const it=e=>{let{localizationData:t={},selectedAddress:o={}}=e;const{postalCode:i}=o,a=Boolean(i),l=a?S:g;return Object(j.a)(l,h)({address:o,localizationData:t[a?ae:le]})},at=Object(i.useCallback)((async()=>{ot(Object(K.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:w}));const e=Ye[I.d.selectedStore]||it({localizationData:a,selectedAddress:w});if(k&&de||ce){ce&&se({savedAddressSucess:!0});const t=((e,t)=>{const{CITY_CODE:o,CHOME_CODE:i}=n.b,a=F||Object(p.b)(Xe);return{postalCode:null===e||void 0===e?void 0:e.postalCode,addressName:a,isPrimary:H,addressLines:[null===e||void 0===e?void 0:e.prefecture,null===e||void 0===e?void 0:e.cityTown,null===e||void 0===e?void 0:e.chome,null===e||void 0===e?void 0:e.streetDetailAddress,null===e||void 0===e?void 0:e.apartmentName,null===e||void 0===e?void 0:e.roomNumber,null===e||void 0===e?void 0:e.companyName,null===e||void 0===e?void 0:e.specialNote],customProperties:[{key:o,value:null===t||void 0===t?void 0:t[2].toString()},{key:i,value:null===t||void 0===t?void 0:t[1].toString()}]}})(w,e),{customerId:o,phoneNumber:i}=E.a.getInstance(),a=te?{addressId:null===ne||void 0===ne?void 0:ne.id,...t}:t;fe(Object(m.a)({customerId:o,phoneNumber:i,tenantId:me,data:a}));const l=te?Object(c.translateWithI18Next)(x.a.ADDRESS_UPDATED):Object(c.translateWithI18Next)(x.a.SAVED_DELIVERY_ADDRESS);Object(b.Cf)(l,"","favorites-added-toast"),se&&se({isOpenSaveDeliveryAddressModal:!1}),!se&&B()}else{let t="";Me===I.d.postalCode&&(t+="".concat(Oe).concat(null===w||void 0===w?void 0:w.postalCode)),t+="".concat(null===w||void 0===w?void 0:w.prefecture).concat(null===w||void 0===w?void 0:w.cityTown),t+="".concat(null===w||void 0===w?void 0:w.chome).concat(null===w||void 0===w?void 0:w.streetDetailAddress);const o="".concat(null===w||void 0===w?void 0:w.apartmentName," ").concat(null===w||void 0===w?void 0:w.roomNumber," ").concat(null===w||void 0===w?void 0:w.companyName);Object(f.e)(t);const i=Ye[I.d.selectedStore]||e;i?(P(t,o,i),u(i)):Ve(!1)}}),[Ye,w,H,F]);Object(i.useEffect)((()=>{Ne&&at()}),[at,Ne]),Object(i.useEffect)((()=>{Ve(!R)}),[R]),Object(i.useEffect)((()=>{if(te){var e,t,o,i,a,l,n,d;const r=(null===ne||void 0===ne?void 0:ne.pinCode)||"",s=(null===ne||void 0===ne||null===(e=ne.addressLines)||void 0===e?void 0:e[0])||"",c=(null===ne||void 0===ne||null===(t=ne.addressLines)||void 0===t?void 0:t[1])||"",u=(null===ne||void 0===ne||null===(o=ne.addressLines)||void 0===o?void 0:o[2])||"",v=(null===ne||void 0===ne||null===(i=ne.addressLines)||void 0===i?void 0:i[3])||"",O=(null===ne||void 0===ne||null===(a=ne.addressLines)||void 0===a?void 0:a[4])||"",m=(null===ne||void 0===ne||null===(l=ne.addressLines)||void 0===l?void 0:l[5])||"",b=(null===ne||void 0===ne||null===(n=ne.addressLines)||void 0===n?void 0:n[6])||"",j=(null===ne||void 0===ne||null===(d=ne.addressLines)||void 0===d?void 0:d[7])||"";M({...w,apartmentName:O,chome:u,cityTown:c,companyName:b,postalCode:r,prefecture:s,roomNumber:m,streetDetailAddress:v,specialNote:j})}}),[te]);const lt=(e,t,o,i)=>{const l=(e=>e<=1&&Me===I.d.address?Boolean(w[I.d.postalCode]):e<=1&&Me===I.d.postalCode&&Boolean(w[I.d.prefecture]))(o)?{...p.f}:{...w};if(l[t]=e,l[X]=Me,qe(!1),Re(o),Ee(o),o<v.fieldOrder.length)for(let a=o;a<v.fieldOrder.length;a++){l[v.fieldOrder[a].id]=""}if(Ve(!0),e){var n,d;const i=(null===(n=v.fieldOrder[o])||void 0===n?void 0:n.id)||I.d.selectedStore,r=e.replace("-",""),s=Me===I.d.postalCode?ae:le,c=a[s],u=Object.keys(Ye).length?null===Ye||void 0===Ye||null===(d=Ye[t])||void 0===d?void 0:d[r]:null===c||void 0===c?void 0:c[r];ze({...Ye,[i]:u}),o===v.fieldOrder.length&&Me===I.d.postalCode&&u.length>4&&(l[I.d.prefecture]=u[3]||w.prefecture,l[I.d.cityTown]=u[4]||w.cityTown),u||Ve(!1)}!i&&M({...w,...l})},nt=()=>Object(D.jsx)("div",{className:"text-field-container",children:We.map((function(e){return Object(D.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:e.id,placeholder:Object(c.translateWithI18Next)(e.title)||e.title,value:w[e.id],onChange:t=>((e,t)=>{const o=e.target.value,i={...w};i[t]=o,M({...w,...i})})(t,e.id),maxLength:je?e.maxLegth:255},e.id)}))}),dt=(e,t)=>{const o=e;De(o),o?lt(t,I.d.postalCode,1):lt("",I.d.chome,0)},rt=Object(i.useCallback)((e=>{null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);return Object(D.jsxs)("div",{className:"delivery-address-form delivery-module-form","data-testid":"delivery-container",children:[Object(D.jsxs)("div",{className:"delivery-address-form-header",children:[Object(D.jsx)(A,{loggedIn:ge,formContent:s,storeSelection:{signInLink:!0,useMyLocation:!1}}),Object(D.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(ee)||ee}),Object(D.jsx)(L,{onTabSelection:e=>{const t=we[e],o=t.id===w.deliverySearchType;C(t),Re(0),De(Boolean(w[I.d.postalCode])),Ae(!1),Ve(!0),qe(!o),o&&w[t.fieldOrder[0].id]&&Re(Te)},tabsList:we,defaultSelectedTabIndex:Ue})]}),Me===I.d.address?(()=>{const e=_e+(ye?2:0);return Object(D.jsxs)("div",{className:"address-search-form",children:[v.fieldOrder.map((function(t,o){if(o<=e){var i;const e=null===(i=v.fieldOrder[o])||void 0===i?void 0:i.id,a=Ye[e];if(!a)return null;const l=Object.keys(a),n=!Ke&&(null===w||void 0===w?void 0:w[t.id]);return Object(D.jsx)(U,{dropdownList:l,dropdownTitleText:Object(c.translateWithI18Next)(t.title)||t.title,enableSearch:!0,onDropdownSelection:e=>lt(e,t.id,o+1),selectedText:n?null===w||void 0===w?void 0:w[t.id]:Object(c.translateWithI18Next)(t.title)},t.id)}return null})),ye&&nt()]})})():(()=>{const e=Object.keys(Ye[I.d.chome]||[]).sort(),t=e.length>0;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(W,{defaultPostalValue:null===w||void 0===w?void 0:w[I.d.postalCode],verifyPostalCode:dt}),t&&(xe||ye)&&Object(D.jsx)("div",{className:"address-search-form",children:Object(D.jsx)(U,{dropdownList:e,dropdownTitleText:Object(c.translateWithI18Next)(v.fieldOrder[1].title)||v.fieldOrder[1].title,enableSearch:!0,onDropdownSelection:e=>lt(e,v.fieldOrder[1].id,2),selectedText:(null===w||void 0===w?void 0:w[v.fieldOrder[1].id])||Object(c.translateWithI18Next)(v.fieldOrder[1].title)},v.fieldOrder[1].id)}),t&&ye&&nt()]})})(),Object(D.jsx)(Y.c,{className:"delivery-address-form-confirm-cta ".concat(He?"":"disabled"),disabled:!He,onClick:at,variant:"secondary","data-testid":"delivery-address-form-confirm-cta",children:Object(D.jsx)("span",{children:Object(c.translateWithI18Next)(Q)||Q})}),Ge?"":Object(D.jsxs)("div",{className:"undeliverable-address",ref:rt,children:[Object(D.jsx)(_.a,{show:!0,comingFrom:ue,errorObj:{showError:!0,errMsg:Object(c.translateWithI18Next)(et.text),errDesc:null,firstBtnText:Object(c.translateWithI18Next)(et.cta.label),firstBtnCTA:()=>{Ie({type:J,value:{dispositionType:d.Jb.PICKUP}}),fe(Object(O.u)())}}}),!T()(Qe)&&Object(D.jsxs)("div",{className:"third-party-delivery-services",children:[Object(D.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(tt.header)}),Object(D.jsx)("div",{className:"third-party-delivery-services__list",children:null===Qe||void 0===Qe||null===(t=Qe.items)||void 0===t?void 0:t.map((e=>{var t,o,i,a,l;const n=null===e||void 0===e?void 0:e.fields;return Object(D.jsxs)("a",{href:null===n||void 0===n?void 0:n.link,target:"_blank",rel:"noreferrer",className:"third-party-delivery-services__service",children:[Object(D.jsx)("span",{className:"third-party-delivery-services__image-container",children:Object(D.jsx)(V.a,{srcFile:"".concat(I.d.https).concat(null===n||void 0===n||null===(t=n.logo)||void 0===t||null===(o=t.fields)||void 0===o||null===(i=o.file)||void 0===i?void 0:i.url),alt:null===n||void 0===n||null===(a=n.logo)||void 0===a||null===(l=a.fields)||void 0===l?void 0:l.title,className:"third-party-delivery-services__images"})}),Object(D.jsx)("span",{className:"third-party-delivery-services__label",children:null===n||void 0===n?void 0:n.name}),Object(D.jsx)(V.a,{srcFile:he,alt:"",className:"third-party-delivery-services__image"})]},null===n||void 0===n?void 0:n.name)}))}),Object(D.jsx)("p",{className:"third-party-delivery-services__notice",children:Object(c.translateWithI18Next)(tt.notice)})]})]}),Ze&&!k&&Object(D.jsxs)("div",{className:"delivery-saved-addresses",children:[Object(D.jsx)("div",{className:"placesautocomplete-border"}),Object(D.jsx)(z.a,{show:Ze,savedAddresses:Xe,handleSelectAddress:e=>{const t=e||$e;if(t){var o,i,a,l,n,d,r,s;const e=(null===t||void 0===t?void 0:t.name)||"",c=(null===t||void 0===t?void 0:t.pinCode)||"",u=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o[0])||"",v=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i[1])||"",O=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a[2])||"",m=(null===t||void 0===t||null===(l=t.addressLines)||void 0===l?void 0:l[3])||"",b=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n[4])||"",j=(null===t||void 0===t||null===(d=t.addressLines)||void 0===d?void 0:d[5])||"",p=(null===t||void 0===t||null===(r=t.addressLines)||void 0===r?void 0:r[6])||"",h=(null===t||void 0===t||null===(s=t.addressLines)||void 0===s?void 0:s[7])||"";M({...w,addressName:e,apartmentName:b,chome:O,cityTown:v,companyName:p,postalCode:c,prefecture:u,roomNumber:j,streetDetailAddress:m,specialNote:h});const g=it({localizationData:Ye,selectedAddress:w});ze({...Ye,[I.d.selectedStore]:g}),Ce(!0)}},shouldMaintainAddressObject:!0,scheduleOrderDateFormat:be})]})]})},de=o(144);const re=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:i,headerText:l,modalTitleId:n="",className:d,backDataTestId:r}=e;return Object(D.jsx)(a.a.Fragment,{children:Object(D.jsx)(de.a,{"data-testid":"deliveryAddressSearchFormModal",id:"deliveryAddressSearchForm",role:"dialog",modalTitleId:n,show:!0,classNames:"".concat(d," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:l,autoFocus:!0,backDataTestId:r,children:i})})};var se=o(190),ce=o(52);const ue=(e,t)=>e?Object(c.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.ADD_NEW_ADDRESS):Object(c.translateWithI18Next)(t),ve=e=>{var t;const{contentData:o={},deliverySearchType:O,setDeliverySearchType:m,prefectureAddressScreen:j,closeModal:h=(()=>{}),address:g,modalType:S,updateSetOrderDetails:f,isAddressFromOrderProcessing:C}=e,{CHANGE_SCHEDULE_MODE:T,CURRENT_STORE_INFO:E,DISPOSITION_DATA:y,DISPOSITION_METHOD:A,FAV_STORE_NOT_IN_RADIUS:_,FROM_REORDER_MODAL_OPEN:R,REORDER_MODAL_OPEN:L,REORDER_STORE_CHANGED:w,SCHEDULE_ORDER_DATA:M,SEARCH_ORDER_DATA:k,SET_FIND_A_KFC_VIEW:F,SET_ORDER_NOW:U,SET_REDIRECTION_PATH:H,SET_SCHEDULE_ORDER:B,SCHEDULE_ORDER_CLICKED:W,SHOW_SCHEDULE_DISPOSITION:V}=s.a,{NAME_EXIST_ERROR:Y}=se.b,{CONFIG_SEARCH_SCREEN:z,CURRENT_STORE_INFO_STORAGE:J,DISPOSITION_TYPE:Q,RENDER_COMP:X,SET_CART_CLEAR:Z,SELECTED_ADDRESS:$}=d.gd,{POSTAL_CODE_CONTENTFUL:ee,CHOMES_CONTENTFUL:te,DROPOFF_ADDRESS:oe}=n.b,{ENABLE_ADDRESS_LOCALISATION:ie,SHOW_MAP_VIEW_BUTTON:ae}=ce.a,le=Object(l.b)(),{userOrderState:de,userOrderStateDispatch:ve}=Object(i.useContext)(r.a),{dispositionStateData:Oe,searchStoreData:me,scheduleOrderData:be}=de,{changeFlow:je=!1}=be||{},{dispositionType:pe=localStorage.getItem(Q)}=Oe||"",{componentOptions:he,tenantId:ge,isUberServiceableEnabled:Se}=Object(l.c)((e=>e.tenantReducer||{})),{savedAddresses:Ie}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),fe=null===he||void 0===he||null===(t=he.web)||void 0===t?void 0:t.dispositionConfig,{searchStoreModalContent:Ne={}}=o,{formContent:Ce={}}=Ne,[Te,Ee]=Object(i.useState)(!1),{configSearchScreen:xe=localStorage.getItem(z)}=me,De="".concat(null===pe||void 0===pe?void 0:pe.toUpperCase(),"_").concat(xe),ye=Object(b.Sd)(null===de||void 0===de?void 0:de.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):null===de||void 0===de?void 0:de.dispositionNew,[Ae,_e]=a.a.useState(null===g||void 0===g?void 0:g.name),[Re,Le]=a.a.useState(!1),[Pe,we]=Object(i.useState)(!1),{modalHeaderTitle:Me,shouldShowDisposition:ke,shouldShowSearchStore:Fe}={...null===v.b||void 0===v.b?void 0:v.b[De],...null===fe||void 0===fe?void 0:fe[De]},Ue=Me,{storesWithStatus:He=[],deliveryLocalization:Be=null,isDeliveryLocalizationLoading:We=!0,isStoreStatusLoading:Ge=!1,storesSatusError:Ve=!1}=Object(l.c)((e=>e.storesReducer||{})),[Ye,ze]=Object(i.useState)(p.f),Ke=Object(q.a)(),qe=Object(i.useCallback)((e=>{var t;Se&&Object(p.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)?(ve({type:M,value:{showScheduleOrderCatering:!1,store:e}}),ve({type:k,value:{showSearchStore:!0,configSearchScreen:v.a}}),ve({type:F,value:{findAKFC:!1}}),ve({type:V,value:{showSheduleDisposition:!1}}),ve({type:E,value:e}),ve({type:T,value:{changeScheduleModeFlag:!1}}),ve({type:W,value:{scheduleModeClicked:!1}}),ve({type:U,value:{showOrderNow:!1}}),ve({type:B,value:{showScheduleOrder:!1}}),ve({type:_,value:{showNotInRadiusError:!1}}),ve({type:ie,value:!1}),ve({type:ae,value:!0})):(ve({type:M,value:{showScheduleOrderCatering:!0,store:e}}),ve({type:k,value:{showSearchStore:!1}}),ve({type:V,value:{showSheduleDisposition:!0}}),ve({type:E,value:e}),ve({type:T,value:{changeScheduleModeFlag:!1}}),ve({type:W,value:{scheduleModeClicked:!0}}),ve({type:U,value:{showOrderNow:!1}}),ve({type:B,value:{showScheduleOrder:!0}}),ve({type:_,value:{showNotInRadiusError:!1}})),localStorage.setItem(J,JSON.stringify(e))}),[T,E,J,_,W,M,k,U,B,V,ve]);Object(i.useEffect)((()=>{He.length>0&&Te&&!Ge&&qe(He[0])}),[pe,Te,Ge,qe,He]);const Je=Object(i.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(Z),localStorage.setItem(X,!0),je||ve({type:M,value:{selectedAddress:{}}}),f&&f({isOpenSaveDeliveryAddressModal:!1}),ve({type:y,value:{showDisposition:!1}}),ve({type:A,value:{dispositionType:null===ye||void 0===ye?void 0:ye.type}}),ve({type:k,value:{showSearchStore:!1}}),ve({type:H,value:{redirectionOrder:""}}),ve({type:L,value:{reorderModalOpen:!1}}),ve({type:R,value:{fromReorderFlag:!1}}),ve({type:w,value:{storeChanged:!1}}),ve({type:F,value:{findAKFC:window.location.pathname===d.Ce.FIND_STORE}}),h()}),[je,y,A,null===ye||void 0===ye?void 0:ye.type,R,X,L,w,M,k,Z,F,H,ve]);Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Je(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[Je]);const Qe=Object(D.jsxs)("div",{className:"address-field-container",children:[j&&Object(D.jsx)("div",{className:"name-field",children:Object(D.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:"name",placeholder:Object(c.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.ADDRESS_NICK_NAME),value:Ae,onChange:e=>_e(e.target.value),onBlur:e=>{const t=Ie.some((t=>t.name===e.target.value));we(!!t)},maxlength:10,errorIcon:P.a.Error,errorIconClassName:"flex-div",helperText:Object(c.translateWithI18Next)(Y),helperTextClassName:"error-text",error:Pe})}),Object(D.jsx)(ne,{changeFlow:je,formContent:Ce,dispositionType:null===pe||void 0===pe?void 0:pe.toUpperCase(),deliveryLocalizationData:Be,getStoreData:e=>{Ee(!0);const[t]=e,o=Object(b.Mb)(pe.toUpperCase()),i=[{id:t}];Object(p.a)(i,o,le,ge)},saveAddressData:(e,t,o)=>{const[i,a,l]=o,n={...Ye,chomeId:a,cityId:String(l)};localStorage.setItem(oe,JSON.stringify(e)),localStorage.setItem($,JSON.stringify(n)),Ke(Object(K.d)({key:null===d.se||void 0===d.se?void 0:d.se.SELECTED_ADDRESS,value:n})),ve({type:M,value:{deliveryAddress:e,deliveryAddressLine:t,selectedAddress:n,storeId:i}})},selectedAddress:Ye,setSelectedAddress:ze,deliverySearchType:O,onDeliveryTypeChanged:e=>{m(e)},isDeliveryLocalizationLoading:We,storesStatusError:Ve,prefectureAddressScreen:j,addressName:Ae,address:g,modalType:S,isPrimaryAddress:Re,closeModal:h,isAccount:!0,addressNameExist:Pe,updateSetOrderDetails:f,isAddressFromOrderProcessing:C}),j&&Object(D.jsxs)("div",{className:"default-address-section",children:[Object(D.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:Re,defaultChecked:(()=>{const e=!(null!==Ie&&void 0!==Ie&&Ie.length)&&!S;return(null===g||void 0===g?void 0:g.isPrimary)||e})(),onChange:()=>Le(!Re),disabled:Ie.length<1||S&&Ie.length<=1}),Object(D.jsx)("div",{className:"default-label-text",children:Object(D.jsx)("label",{htmlFor:"default-address",children:Object(c.translateWithI18Next)(d.hd)})})]})]});return Object(i.useEffect)((()=>{le(Object(u.b)());const e=(null===O||void 0===O?void 0:O.id)===I.d.postalCode?ee:te;le(Object(N.e)(e))}),[le,null===O||void 0===O?void 0:O.id,ee,te]),Object(i.useEffect)((()=>{!We&&Be&&le(Object(u.a)())}),[We,Be,le]),Object(D.jsx)(re,{handleClose:Je,orderModeTypeItem:Qe,headerText:ue(j,Ue),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),ve({type:y,value:{showDisposition:ke}}),je||ve({type:M,value:{selectedAddress:{}}}),ve({type:k,value:{showSearchStore:Fe,configSearchScreen:v.a,searchedPlaceNonLocalized:null===me||void 0===me?void 0:me.searchedPlaceNonLocalized}})},modalTitleId:"delivery-address-search-form",className:"search-store-global-container",backDataTestId:"back-btn-global-modal-id"})};ve.defaultProps=n.a;t.default=ve},969:function(e,t,o){"use strict";o.r(t),o.d(t,"getDistanceByLatLong",(function(){return O})),o.d(t,"getGeoCodeByAddress",(function(){return m})),o.d(t,"getGeoLatLngByGeoCode",(function(){return b})),o.d(t,"getGeoLatLngByAddress",(function(){return j})),o.d(t,"GoogleMap",(function(){return C}));var i,a,l,n,d=o(3),r=o.n(d),s=o(15),c=o(46),u=o(24),v=o(2);const O=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.DistanceMatrixService;return new Promise(((o,i)=>{t.getDistanceMatrix({origins:[g(null===e||void 0===e?void 0:e.origins)],destinations:[g(null===e||void 0===e?void 0:e.destinations)],travelMode:(null===e||void 0===e?void 0:e.travelMode)||window.google.maps.TravelMode.DRIVING,unitSystem:(null===e||void 0===e?void 0:e.unitSystem)||window.google.maps.UnitSystem.METRIC,avoidHighways:(null===e||void 0===e?void 0:e.avoidHighways)||!1,avoidTolls:(null===e||void 0===e?void 0:e.avoidTolls)||!1},((e,t)=>{var a,l,n,d;t!==(null===(a=window)||void 0===a||null===(l=a.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&i(t),console.debug(e);const r=[];null===e||void 0===e||e.rows.forEach(((t,o)=>{var i,a,l,n,d;return r.push({destinationAddresses:null===e||void 0===e||null===(i=e.destinationAddresses)||void 0===i?void 0:i[o],originAddresses:null===e||void 0===e||null===(a=e.originAddresses)||void 0===a?void 0:a[o],distance:null===t||void 0===t||null===(l=t.elements)||void 0===l?void 0:l[0].distance,duration:null===t||void 0===t||null===(n=t.elements)||void 0===n?void 0:n[0].duration,status:null===t||void 0===t||null===(d=t.elements)||void 0===d?void 0:d[0].status})})),o(r)}))}))}},m=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.Geocoder;return new Promise(((o,i)=>{t.geocode({address:e},((e,t)=>{var a,l,n,d;t!==(null===(a=window)||void 0===a||null===(l=a.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&i(t),o(e)}))}))}return null},b=e=>{var t,o;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e?new Promise(((t,o)=>{try{var i;const o=Array.isArray(e)?e[0]:e;t(null===o||void 0===o||null===(i=o.geometry)||void 0===i?void 0:i.location)}catch(a){o(a)}})):null},j=async e=>{const t=await m(e);return await b(t)},p=e=>{var t,o,i,a;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(i=e.gMapDetails)||void 0===i||null===(a=i.gMapInstance)||void 0===a||a.setCenter(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.latLng)))},h=(e,t)=>{var o;return null===(o=g(e))||void 0===o?void 0:o.equals(g(t))},g=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e){const t="string"===typeof e?null===e||void 0===e?void 0:e.split(","):e;if(null!==Array&&void 0!==Array&&Array.isArray(t))return new window.google.maps.LatLng(t[0],t[1]);if("object"===typeof t)return null!==t&&void 0!==t&&t.latitude&&null!==t&&void 0!==t&&t.longitude?new window.google.maps.LatLng(null===t||void 0===t?void 0:t.latitude,null===t||void 0===t?void 0:t.longitude):new window.google.maps.LatLng(t)}return e},S=e=>{var t,o,i,a,l,n;const{gMapDetails:d,directionsPolyline:r,origin:s,destination:c,isRaiderTracker:u}=e,{raiderDirectionsService:v}=d;null===v||void 0===v||null===(t=v.route({origin:s,destination:c,travelMode:null===(i=window)||void 0===i||null===(a=i.google)||void 0===a||null===(l=a.maps)||void 0===l||null===(n=l.TravelMode)||void 0===n?void 0:n.DRIVING}))||void 0===t||null===(o=t.then((e=>{var t,o,i,a,l,n;null!==e&&void 0!==e&&null!==(t=e.routes)&&void 0!==t&&t[0]&&(null===r||void 0===r||r.setPath(null===e||void 0===e||null===(o=e.routes)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.overview_path),u&&(null===d||void 0===d||null===(a=d.gMapInstance)||void 0===a||a.fitBounds(null===e||void 0===e||null===(l=e.routes)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.bounds)))})))||void 0===o||o.catch((e=>console.debug("Directions request failed due to "+e)))},I=e=>{var t,o;const{gMapDetails:i,animation:a=null,position:l,icon:n,zIndex:d=1}=e,{gMapInstance:r,isMarkerVisible:s}=i;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&r?new window.google.maps.Marker({animation:a,position:l,map:r,visible:s,icon:n,zIndex:d}):null},f=e=>{var t,o;const{gMapDetails:i,updateGMapDetails:a}=e,{gMapInstance:l,orderTracking:n,customerLatLng:d,storeLatLng:r,raiderCurrentLatLng:c,raiderCurrentMarker:u,raiderDirectionsPolyline:v,raiderLatLngList:O}=i;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&l&&n&&d&&r&&c){var m,b,j,p;if(a({raiderLatLngList:[...O,c]}),h(r,c)||(e=>{var t,o;const{gMapInstance:i,orderTracking:a,raiderPastCurrentLatLng:l,raiderCurrentLatLng:n,raiderPastStrokeColor:d,raiderPastStrokeWeight:r,raiderPastStrokeOpacity:s}=null===e||void 0===e?void 0:e.gMapDetails;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&i&&a){const t=new window.google.maps.Polyline({strokeColor:d,strokeWeight:r,strokeOpacity:s,map:i});S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:l,destination:n})}})({gMapDetails:i,updateGMapDetails:a}),S({gMapDetails:i,directionsPolyline:v,origin:c,destination:d,isRaiderTracker:!0}),null!==u)null===u||void 0===u||u.setPosition(c);else a({raiderCurrentMarker:I({gMapDetails:i,position:c,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerRaider,zIndex:5,animation:null===(m=window)||void 0===m||null===(b=m.google)||void 0===b||null===(j=b.maps)||void 0===j||null===(p=j.Animation)||void 0===p?void 0:p.DROP})});a({raiderPastCurrentLatLng:c})}},N=async e=>{if(await(async()=>(await u.b.BindLocation(),u.b.address&&u.b.coordinates))()){const{longitude:t,latitude:o}=u.b.coordinates;p({gMapDetails:e,latLng:{lat:o,lng:t}})}},C=e=>{var t,o;const i=r.a.createRef(),[a,l]=Object(d.useState)(T),n=Object(d.useCallback)((e=>{l&&l((t=>({...t,...e})))}),[]);return Object(d.useEffect)((()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&i&&(null===a||void 0===a||!a.gMapInstance)){var o,l,d,r;console.debug("GoogleMap - useEffect Map => ");const e=(e=>{var t,o;const{gMapContainerRef:i,gMapDetails:a}=e;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&i){const{center:e,disableDefaultUI:t,fullscreenControl:o,zoomControl:l,gestureHandling:n,zoom:d,minZoom:r,maxZoom:s,mapTypeId:c,panControl:u,rotateControl:v,scaleControl:O,stylers:m}=a;return new window.google.maps.Map(null===i||void 0===i?void 0:i.current,{mapTypeId:c,center:e,disableDefaultUI:t,fullscreenControl:o,zoom:d,zoomControl:l,gestureHandling:n,minZoom:r,maxZoom:s,panControl:u,rotateControl:v,scaleControl:O,styles:m})}})({gMapContainerRef:i,gMapDetails:a});null===(o=window)||void 0===o||null===(l=o.google)||void 0===l||null===(d=l.maps)||void 0===d||null===(r=d.event)||void 0===r||r.addListenerOnce(e,"tilesloaded",(()=>{console.debug("GoogleMap - useEffect Map => tilesloaded"),n({mapRenderCompleted:!0,gMapInstance:e,raiderDirectionsService:new window.google.maps.DirectionsService})}))}}),[null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect gMapInstance => "),(null===a||void 0===a?void 0:a.gMapInstance)&&(async(e,t)=>{const{orderTracking:o=!1,storeAddress:i=null,storeLatLng:a=null,customerAddress:l=null,customerLatLng:n=null}=e;let d={orderTracking:o};if(i){const e=await j(i);d={...d,storeLatLng:e,raiderPastCurrentLatLng:e,storeAddress:i}}if(a&&(d={...d,storeLatLng:g(a),raiderPastCurrentLatLng:g(a),storeAddress:i}),l){const e=await j(l);d={...d,customerLatLng:e,customerAddress:l}}n&&(d={...d,customerLatLng:g(n),customerAddress:l}),t(d)})(e,n)}),[null===a||void 0===a?void 0:a.gMapInstance]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect mapTypeId => "),(null===a||void 0===a?void 0:a.gMapInstance)&&(e=>{var t,o,i,a,l,n,d;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(i=e.gMapInstance)||void 0===i||i.setMapTypeId(null===(a=window)||void 0===a||null===(l=a.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.MapTypeId)||void 0===d?void 0:d[null===e||void 0===e?void 0:e.mapTypeId]))})(a)}),[null===a||void 0===a?void 0:a.mapTypeId]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect props mapTypeId => "),n({mapTypeId:null===e||void 0===e?void 0:e.mapTypeId})}),[null===e||void 0===e?void 0:e.mapTypeId]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,mapRenderCompleted:i}=a;e&&t&&o&&i&&(console.debug("GoogleMap - useEffect customer LatLng => "),I({gMapDetails:a,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerCustomer}),p({gMapDetails:a,latLng:o}))}),[null===a||void 0===a?void 0:a.customerLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,storeLatLng:o,mapRenderCompleted:i}=a;e&&t&&o&&i&&(console.debug("GoogleMap - useEffect store LatLng => "),I({gMapDetails:a,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerKFC}),p({gMapDetails:a,latLng:o}))}),[null===a||void 0===a?void 0:a.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,storeLatLng:i,mapRenderCompleted:l}=a;console.debug("GoogleMap - useEffect store & customer LatLng => "),e&&t&&o&&i&&l&&(e=>{var t,o,i,a;const{gMapInstance:l,orderTracking:n,customerLatLng:d,storeLatLng:r,raiderStrokeColor:s,raiderStrokeWeight:c,raiderStrokeOpacity:u}=null===e||void 0===e?void 0:e.gMapDetails;if(console.debug("GoogleMap setRaiderDirectionsServicePolyline - ",null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps,l,n),null!==(i=window)&&void 0!==i&&null!==(a=i.google)&&void 0!==a&&a.maps&&l&&n){const t=new window.google.maps.Polyline({strokeColor:s,strokeWeight:c,strokeOpacity:u,map:l});null===e||void 0===e||e.updateGMapDetails({raiderDirectionsPolyline:t}),S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:r,destination:d,isRaiderTracker:!1})}})({gMapDetails:a,updateGMapDetails:n})}),[null===a||void 0===a?void 0:a.customerLatLng,null===a||void 0===a?void 0:a.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:t,orderTracking:o,mapRenderCompleted:i}=a;console.debug("GoogleMap - useEffect props raiderCurrentLatLng => ",null===e||void 0===e?void 0:e.raiderCurrentLatLng),t&&o&&(null===e||void 0===e?void 0:e.raiderCurrentLatLng)&&i&&n({raiderCurrentLatLng:g(null===e||void 0===e?void 0:e.raiderCurrentLatLng)})}),[null===a||void 0===a?void 0:a.mapRenderCompleted,null===e||void 0===e?void 0:e.raiderCurrentLatLng]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect raiderCurrentLatLng => ",null===a||void 0===a?void 0:a.raiderCurrentLatLng),(null===a||void 0===a?void 0:a.mapRenderCompleted)&&f({gMapDetails:a,updateGMapDetails:n})}),[null===a||void 0===a?void 0:a.raiderCurrentLatLng]),Object(d.useEffect)((()=>{const{isMobile:t=(null===T||void 0===T?void 0:T.isMobile),isMarkerVisible:o=(null===T||void 0===T?void 0:T.isMarkerVisible),orderTracking:i=(null===T||void 0===T?void 0:T.orderTracking),raiderPastStrokeColor:a=(null===T||void 0===T?void 0:T.raiderPastStrokeColor),raiderPastStrokeWeight:l=(null===T||void 0===T?void 0:T.raiderPastStrokeWeight),raiderPastStrokeOpacity:d=(null===T||void 0===T?void 0:T.raiderPastStrokeOpacity),raiderStrokeColor:r=(null===T||void 0===T?void 0:T.raiderStrokeColor),raiderStrokeWeight:s=(null===T||void 0===T?void 0:T.raiderStrokeWeight),raiderStrokeOpacity:c=(null===T||void 0===T?void 0:T.raiderStrokeOpacity),stylers:u=(null===T||void 0===T?void 0:T.stylers)}=e;console.debug("GoogleMap - useEffect props config => "),n({isMobile:t,isMarkerVisible:o,orderTracking:i,raiderPastStrokeColor:a,raiderPastStrokeWeight:l,raiderPastStrokeOpacity:d,raiderStrokeColor:r,raiderStrokeWeight:s,raiderStrokeOpacity:c,stylers:u})}),[null===e||void 0===e?void 0:e.isMobile,null===e||void 0===e?void 0:e.isMarkerVisible,null===e||void 0===e?void 0:e.orderTracking,null===e||void 0===e?void 0:e.raiderPastStrokeColor,null===e||void 0===e?void 0:e.raiderPastStrokeWeight,null===e||void 0===e?void 0:e.raiderPastStrokeOpacity,null===e||void 0===e?void 0:e.raiderStrokeColor,null===e||void 0===e?void 0:e.raiderStrokeWeight,null===e||void 0===e?void 0:e.raiderStrokeOpacity,null===e||void 0===e?void 0:e.stylers]),Object(d.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps)&&(null===a||void 0===a?void 0:a.gMapInstance)&&(null===a||void 0===a||a.gMapInstance.setOptions({styles:null===a||void 0===a?void 0:a.stylers}))}),[null===a||void 0===a?void 0:a.gMapInstance,null===a||void 0===a?void 0:a.stylers]),Object(d.useEffect)((()=>{var t,o;const{customerAddress:i=null,customerLatLng:l=null,storeAddress:d=null,storeLatLng:r=null}=e;console.debug("GoogleMap - useEffect Props store & customer LatLng => "),(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===a||void 0===a?void 0:a.mapRenderCompleted)&&(!h(null===a||void 0===a?void 0:a.customerLatLng,l)||!h(null===a||void 0===a?void 0:a.storeLatLng,r))&&n({customerAddress:i,customerLatLng:g(l),storeAddress:d,storeLatLng:g(r)})}),[null===a||void 0===a?void 0:a.mapRenderCompleted,null===e||void 0===e?void 0:e.customerAddress,null===e||void 0===e?void 0:e.customerLatLng,null===e||void 0===e?void 0:e.storeAddress,null===e||void 0===e?void 0:e.storeLatLng]),Object(v.jsxs)("div",{className:"googleMapContPanel",children:[Object(v.jsx)("div",{className:"use-location-icon",children:Object(v.jsx)(c.a,{srcFile:null===s.a||void 0===s.a?void 0:s.a.UseLocationWhiteIcon,alt:"",onClick:()=>N(a),"data-testid":"use-location-icon"})}),Object(v.jsx)("div",{id:"google-map-container",ref:i,className:"googleMapContainer ".concat(null===e||void 0===e?void 0:e.className)})]})};t.default=C;const T={gMapInstance:null,defaultLatLng:[{lat:0,lng:0}],mapRenderCompleted:!1,raiderPastCurrentLatLng:null,raiderCurrentLatLng:null,raiderCurrentMarker:null,raiderDirectionsPolyline:null,raiderDirectionsService:null,raiderLatLngList:[],mapTypeId:null===(i=window)||void 0===i||null===(a=i.google)||void 0===a||null===(l=a.maps)||void 0===l||null===(n=l.MapTypeId)||void 0===n?void 0:n.ROADMAP,center:{lat:0,lng:0},disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!0,zoom:13,gestureHandling:"greedy",minZoom:6,maxZoom:20,panControl:!1,rotateControl:!0,scaleControl:!0,isMobile:!1,isMarkerVisible:!0,orderTracking:!1,customerAddress:null,customerLatLng:null,storeAddress:null,storeLatLng:null,raiderPastStrokeColor:"#202124",raiderPastStrokeWeight:2,raiderPastStrokeOpacity:.8,raiderStrokeColor:"#e4002b",raiderStrokeWeight:4,raiderStrokeOpacity:1,stylers:[]}},970:function(e,t,o){"use strict";o.r(t),o.d(t,"RECOMMENDED_CONSTANTS",(function(){return i}));const i={RECOMMENDED_HEADER_TITLE:"We Think You\u2019ll Love These",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,BREAKPOINT:1024,FADE_CARD_INDEX:3,SLIDES_TO_SCROLL_MOBILE:1,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},PDP_RECOMMENDATIONS:{PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5}}},972:function(e,t,o){"use strict";o.r(t),o.d(t,"settingsRecomendation",(function(){return F})),o.d(t,"classesBy",(function(){return U})),o.d(t,"menuCardBtnText",(function(){return H})),o.d(t,"classEnableAddToCart",(function(){return B})),o.d(t,"AddToFav",(function(){return W}));var i=o(3),a=o.n(i),l=o(41),n=o(46),d=o(61),r=o(398),s=o(1096),c=o(1115),u=o(1116),v=o(28),O=o(85),m=(o(4),o(145)),b=o(35),j=o(5),p=o(16),h=o(262),g=o(6),S=o(1112),I=o(0),f=o(15),N=o(2);const{FavouriteInActiveBlack:C,heartIcon_active_red:T,Non_veg_dot_Icon:E,Veg_dot_Icon:x}=f.a,{ADD_TO_CART_CLICK:D,MINI_PDP_DATA:y,FROMFLAGPLP:A,EDIT_CLICKED:_}=p.a,{RECOMENDATIONS:R}=d.a,{SLIDES_TO_SCROLL:L,SLIDES_TO_SHOW:P,ADD_TO_CART:w}=R,{CARD_TYPE:M}=r.o,{RESET_MODGROUP_IDS_UPDATE:k}=h.a,F=(e,t,o,i)=>({dots:!1,infinite:!1,speed:500,slidesToShow:P,slidesToScroll:L,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(N.jsx)(c.a,{clickNextCard:e}),prevArrow:Object(N.jsx)(u.a,{clickPrevCard:t}),beforeChange:(e,t)=>o(t),afterChange:(e,t)=>i(e),variableWidth:!0,responsive:I.G}),U=(e,t)=>{let o,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case M.LARGE:o="menu-cart-button";break;case M.MEDIUM:o="medium-menu-cart-button";break;case M.SMALL:o="small-menu-cart-button";break;case M.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(i," ").concat(o)},H=e=>{let t=Object(g.translateWithI18Next)(w),o="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(t="Store Closed",o="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(t="Store Closed",o="store-closed",i=!1),{btnText:t,className:o,enabled:i}},B=(e,t,o,i)=>e?"".concat(U(t,o)," ").concat(H(i).className):"button btn-black medium-menu-cart-button",W=e=>{let{saveProduct:t,favItems:o,item:i}=e;return Object(N.jsx)(n.a,{srcFile:Object(j.hb)(Array.isArray(o),null===o||void 0===o?void 0:o.find((e=>(null===e||void 0===e?void 0:e.id)===(null===i||void 0===i?void 0:i.id))))?T:C,alt:"add to favourite",className:"recomendation-item-save",onClick:t,"data-testid":"add-to-fav-image"})},G=e=>{var t,o,a,d,s,c,u,p;let{item:h,tenantData:f,storeClosedData:C}=e;const{userOrderState:T,userOrderStateDispatch:R}=Object(i.useContext)(O.a),[L,P]=Object(i.useState)(!0),[w,M]=Object(i.useState)(null),[F,U]=Object(i.useState)(0),[G,V]=Object(i.useState)(""),[Y]=Object(i.useState)(0),z=Object(v.b)();let K=Object(j.sd)(JSON.parse(localStorage.getItem("currentStoreInfo")));const q=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),J=Object(v.c)((e=>e.cartReducer)),{isAddItemLoading:Q=!1}=Object(j.sd)(J),X=h.customizable,Z=Object(v.c)((e=>{var t;return Object(j.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),$=Object(v.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),ee=null===$||void 0===$?void 0:$.id,{flatResponse:{productMapById:te={},categoryMapById:oe={}}={}}=null!==(t=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[ie,ae]=Object(i.useState)(Object(j.de)(window.innerWidth)),{RECOMMENDED_ITEM:le}=I.Oc,ne=()=>{const e=Object(j.de)(window.innerWidth),t=de(le,e);U(t),ae(e)},de=(e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:o,ITEM_IMAGE_WIDTH_MOBILE:i,ITEM_IMAGE_HEIGHT_DESKTOP:a,ITEM_IMAGE_WIDTH_DESKTOP:l}=e;return t?{height:o,width:i}:{height:a,width:l}};Object(i.useEffect)((()=>{window.addEventListener("resize",ne)}),[ie]);const re=(e,t,o,i)=>{var a;const l=Object(j.td)(null===(a=o[0])||void 0===a?void 0:a.price),n={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===f||void 0===f?void 0:f.currencyConversionFactor),additionalProperties:t.additionalProperties};var d,r,s;d=e,r=n,s=i,z(Object(m.a)({tenant_id:d,customer_id:s},r)),z(Object(b.v)({showProductListingModal:!1,categorySelected:""}))},se=(e,t,o)=>{var i,a,l;i=e,a=t,l=o.id,z(Object(m.b)({tenant_id:i,customer_id:a,item_id:l}))};Object(i.useEffect)((()=>{P(!0)}),[Y]);const ce=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{Object(j.dd)(ce,T)&&z(Object(b.v)({showProductListingModal:!0,categorySelected:G}))}),[ce]);const ue=null===h||void 0===h?void 0:h.id,ve=(null===ue||void 0===ue?void 0:ue.split("_")[0])||"",{categoryId:Oe=""}=null!==(o=null===te||void 0===te?void 0:te[ve])&&void 0!==o?o:{},{id:me="",name:be="",url:je=""}=null!==(a=null===oe||void 0===oe?void 0:oe[Oe])&&void 0!==a?a:{},pe=Q&&w===ue,{currencyConversionFactor:he=1,currencySymbol:ge="",tenantId:Se="",componentOptions:{web:{global:{showPriceWithTax:Ie=!1}={}}={}}={}}=f,{name:fe="",availability:Ne,shortDescription:Ce,imageName:Te,additionalProperties:Ee,content:xe}=h,De=Ce?Ce[0].value:"",{veg:ye}=Object(j.ve)(null===h||void 0===h?void 0:h.additionalProperties),Ae=Object(j.Ic)(Ne[0],Ee,he,Ie),_e={catId:me,catName:be,catUrl:je},Re=()=>{var e,t;return Boolean(null===h||void 0===h||null===(e=h.content)||void 0===e?void 0:e.caloricValue)&&Object(N.jsx)("div",{className:"medium-menu-price-and-KJ",children:Object(N.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(null===h||void 0===h||null===(t=h.content)||void 0===t?void 0:t.caloricValue," ").concat(null===f||void 0===f?void 0:f.kilojoule," ")," \xa0 "]})})},Le={id:ue,itemCounts:Y,product:{productName:h.dname,productImage:Te,productPrice:Object(j.Ec)(Ne[0],null===f||void 0===f?void 0:f.currencyConversionFactor)}};return Object(N.jsxs)("div",{className:"recomendation-item-container",children:[Object(N.jsx)("div",{children:Object(N.jsx)(n.a,{"data-testid":"recomendation-item-img",className:"recomendation-item-img",alt:"",inactive:null===h||void 0===h?void 0:h.isNotAvailable,disabled:null===h||void 0===h?void 0:h.isNotAvailable,defaultPath:Object(j.bc)(null,f,!0),srcFile:(()=>{var e;return null!==xe&&void 0!==xe&&null!==(e=xe.image)&&void 0!==e&&e.mainImage&&null!==F&&void 0!==F&&F.width&&null!==F&&void 0!==F&&F.height?Object(j.qc)(xe,F.width,F.height):Object(j.bc)(Te,f)})()})}),Object(N.jsxs)("div",{className:"menu-card-containers",children:[Object(N.jsx)("div",{className:"recomendation-item-name",children:fe}),Object(N.jsx)("img",{className:"recomendation-item-serving-type",src:Object(j.ad)(!ye,E,x),alt:""}),Object(N.jsxs)("span",{className:"recomendation-item-serving",children:[Object(j.ad)(!ye,Object(g.translateWithI18Next)(null===r.o||void 0===r.o?void 0:r.o.MENU_CARD.NON_VEG),Object(g.translateWithI18Next)(null===r.o||void 0===r.o?void 0:r.o.MENU_CARD.VEG)),Boolean(null===h||void 0===h||null===(d=h.content)||void 0===d?void 0:d.serves)&&Object(N.jsx)("span",{className:"Dot"}),r.o.MENU_CARD.SERVES,Boolean(null===h||void 0===h||null===(s=h.content)||void 0===s?void 0:s.serves)&&(null===h||void 0===h||null===(c=h.content)||void 0===c?void 0:c.serves)]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"recomendation-item-product-price",children:Object(N.jsxs)("span",{children:[ge,Ae]})}),Re(),Object(N.jsx)("span",{className:"recomendation-item-desc",children:null!==h&&void 0!==h&&null!==(u=h.content)&&void 0!==u&&u.shortDescription?null===h||void 0===h||null===(p=h.content)||void 0===p?void 0:p.shortDescription:De})]})]}),Object(N.jsx)("div",{className:"button-recommended",children:Object(N.jsxs)("div",{className:"cardButtonOnly-recommendation",children:[Object(N.jsxs)(l.a,{tabIndex:"1",className:B(L,"medium",pe,C),"data-testid":"add-to-cart-".concat(ue),disabled:Object(S.m)(C),onClickHandler:e=>{H(C).enabled&&((e,t,o,i)=>{const{id:a,itemCounts:l,product:n}=i,{catId:d,catName:r,catUrl:s}=o;var c,u,v,O;if(e&&e.stopPropagation(),M(a),q.localized){if(t)V(d),R({type:y,value:{id:a,flag:A,foodLineId:""}}),R({type:k}),R({type:_,value:{cartEditClicked:!0}}),z(Object(m.c)({tenantId:f.tenantId,catalogName:null===K||void 0===K||null===(c=K.summary)||void 0===c||null===(u=c.menu)||void 0===u?void 0:u.catalogs[0],itemId:a}));else if(0===l){var j;z(Object(b.a)({params:{basketId:null===J||void 0===J||null===(j=J.cartData)||void 0===j?void 0:j.id},tenantId:f.tenantId},[{Id:a,categoryId:d,quantity:l+1,modGrps:[],categoryName:r,categoryUrl:s}])),z(Object(b.u)(new Date))}}else R({type:D,value:{addToCart:!0,productItemId:a,categoryId:me,oldProduct:n,customizable:t,catalogs:null===K||void 0===K||null===(v=K.summary)||void 0===v||null===(O=v.menu)||void 0===O?void 0:O.catalogs[0],fromPdpPage:!1}})})(e,X,_e,Le),e.preventDefault(),e.stopPropagation()},"aria-label":H(C).btnText,children:[H(C).btnText,Object(j.J)(C.isStoreClosed)]}),(null===q||void 0===q?void 0:q.loggedin)&&Object(N.jsx)(W,{saveProduct:()=>{Object(j.hb)(Array.isArray(Z),null===Z||void 0===Z?void 0:Z.find((e=>(null===e||void 0===e?void 0:e.id)===(null===h||void 0===h?void 0:h.id))))?se(Se,ee,h):re(Se,h,Ne,ee)},favItems:Z,item:h})]})})]})},V=e=>{var t;let{recommendRules:o,storeClosedData:l}=e;o=null===(t=o)||void 0===t?void 0:t.filter((e=>void 0!==e.name));const n=Object(v.c)((e=>e.tenantReducer)),[d,r]=Object(i.useState)(0),[c,u]=Object(i.useState)(0),[O,m]=Object(i.useState)(Object(j.de)(window.innerWidth)),b=()=>{const e=Object(j.de)(window.innerWidth);m(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",b)}),[O]);const p=a.a.useRef(null);return Object(N.jsxs)("div",{className:"cart-recomendations-list-container-root",children:[Object(N.jsx)("div",{className:"cart-recomendations-list-container",children:o.length&&Object(N.jsx)(s.b,{settings:F((()=>{if(d<o.length-1){let e=0;e=d+L>o.length-P-1?o.length-P:d+L,r(e),p.current.slickGoTo(e)}return!0}),(()=>(d>0&&(r(d-L),p.current.slickGoTo(d-L)),!0)),u,r),carousalRef:p,children:o.map((e=>Object(N.jsx)(G,{item:e,tenantData:n,storeClosedData:l})))})}),!O&&Object(N.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(N.jsx)("input",{className:"cart-recomendations-slider",type:"range",min:"0",max:o.length-P,value:c,id:"myRange",onChange:e=>{u(e.target.value),p.current.slickGoTo(e.target.value)}})})]})};t.default=e=>{let{storeClosedData:t,recommendedProducts:o}=e;const i=Array.isArray(o)?o.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))):[],a=null===i||void 0===i?void 0:i.filter((e=>!e.isHidden));return Boolean(null===a||void 0===a?void 0:a.length)&&Object(N.jsx)("div",{className:"cart-recomendations-container recommended-container-empty-cart",children:Object(N.jsxs)("div",{className:"recommendedCard-container-in",children:[Object(N.jsx)("span",{className:"cart-recomendations-title",children:Object(g.translateWithI18Next)(d.a.EMPTY_CART.SUGGESTION_TEXT)}),Object(N.jsx)(V,{recommendRules:a,storeClosedData:t})]})})}},974:function(e,t,o){"use strict";o.r(t),o.d(t,"filteredModGroups",(function(){return y}));var i=o(3),a=o.n(i),l=o(75),n=o.n(l),d=o(28),r=o(1222),s=o(41),c=o(1144),u=o.n(c),v=o(1224),O=o(5),m=o(21);var b=o(35),j=o(1132),p=o(85),h=o(6),g=o(61),S=o(235),I=o(1099),f=o(16),N=o(1109),C=o(0),T=o(2);const E=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},x=(e,t)=>{var o,i;const{setClickEvent:a,setConfirmed:l,categoryMapById:n,categoryId:d,modifiersList:r,getItemName:s,data:c,getID:v,getUpdatedPrice:j,itemCount:p,getList:h,minipdpData:S,FROMFLAGEDIT:I,dispatch:f,cartReducer:T,tenantId:E,id:x,modifierGrp:D,userOrderStateDispatch:y,confirmUpsizeName:A}=t;let _="";e.stopPropagation(),e.preventDefault(),a(e),l(!0);const{name:R="NA"}=null!==(o=null===n||void 0===n?void 0:n[d])&&void 0!==o?o:{};var L,P;(u()(r,(e=>{_+="".concat(e[0].name,", ")})),Object(N.a)({item_name:s(c.name),item_id:v(c.id),item_category:R,price:j(p,null===(i=c.availability[0])||void 0===i?void 0:i.price),item_variant:h(_),item_list_name:R,item_list_id:d,index:1,quantity:p,currency:C.p.AUD}),S.fromFlag!==I)?f(Object(b.a)({params:{basketId:(null===T||void 0===T?void 0:T.cartData)&&(null===T||void 0===T||null===(L=T.cartData)||void 0===L?void 0:L.id)},tenantId:E},[{Id:x,categoryId:d,quantity:p,modGrps:D}])):f(Object(b.y)({params:{basketId:(null===T||void 0===T?void 0:T.cartData)&&(null===T||void 0===T||null===(P=T.cartData)||void 0===P?void 0:P.id),basketLineItemId:S.foodLineId},tenantId:E},{Id:x,quantity:p,modGrps:D}));f(Object(b.u)(new Date)),y({type:g.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:x,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await m.a.registerEvent(void 0,{data:t[0]},O.Bb)})(A)};var D=e=>{var t;const{data:o,categoryId:l,handleClose:n,showPriceContent:r=!0,source:c="",isModal:u,isStoreClosed:m,localized:b,catalog:N}=e,{id:C,modgrps:D,availability:y=[]}=o,{userOrderState:A,userOrderStateDispatch:_}=Object(i.useContext)(p.a),{confirmUpsizeName:R,minipdpData:L}=A,[P,w]=Object(i.useState)(D),[M,k]=Object(i.useState)([]),F=Object(d.b)(),U=Object(d.c)((e=>e.tenantReducer)),H=Object(d.c)((e=>e.cartReducer)),{cartData:B={},isAddItemLoading:W=!1}=H||{},{currencySymbol:G,tenantId:V,currencyConversionFactor:Y,maxItemCountPerLineItem:z,componentOptions:K}=U,{web:{pdp:{productCustomizationAccordionDefaultOpen:q}}}=K,{flatResponse:{categoryMapById:J={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Q,X]=Object(i.useState)(0),Z=Object(O.Ec)(y[0],Y),{ADDTOCART:$,UPDATECART:ee}=j.a,{FROMFLAGEDIT:te,EDIT_CLICKED:oe}=f.a,[ie,ae]=Object(i.useState)(1),[le,ne]=Object(i.useState)(0),{ITEM_QUANTITY:de}=S.a,[re,se]=Object(i.useState)(!1),[ce,ue]=Object(i.useState)(null);Object(i.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:P})}),[P]),Object(i.useEffect)((()=>{const e=Object(O.Td)(B)?Object(O.mc)(C,B):{},t=Object(O.Td)(e)?e.count:0;if(ne(t),L.fromFlag===te){const e=Object(O.Td)(B)?Object(O.nc)(L.foodLineId,B):{},t=Object(O.Td)(e)?e.count:1;ae(t)}}),[B]),Object(i.useEffect)((()=>()=>{_({type:oe,value:{cartEditClicked:!1}})}),[_,oe]);Object(i.useEffect)((()=>{re&&!W&&n(ce)}),[re,W]),Object(i.useEffect)((()=>(window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)})));const ve=L.fromFlag===te?Object(h.translateWithI18Next)(ee):Object(h.translateWithI18Next)($),Oe={setClickEvent:ue,setConfirmed:se,categoryMapById:J,categoryId:l,modifiersList:M,data:o,itemCount:ie,minipdpData:L,FROMFLAGEDIT:te,dispatch:F,cartReducer:H,tenantId:V,id:C,modifierGrp:P,userOrderStateDispatch:_,confirmUpsizeName:R,getItemName:e=>e||"NA",getID:e=>e||"NA",getUpdatedPrice:(e,t)=>e*t/Y||"NA",getList:e=>e.trim()||"NA"};return Object(T.jsxs)(a.a.Fragment,{children:[Object(T.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(T.jsx)("form",{className:"form",children:Object(O.Td)(D)?Object(T.jsx)(v.a,{grouplist:D,getSelectedModifiers:e=>{let t=0,o=[];e.forEach((e=>{let i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((e=>{let o={},a=JSON.parse(JSON.stringify(e));o.id=a.id,o.quantity=a.defaultQuantity,o.modGrps=a.modgrps,o.categoryId=l,i.modifiers.push(o);let n=Object(O.Ec)(e.availability[0],Y);t+=n})),o.push(i)})),X(Z+t),w(o)},selectedModifiers:k,source:c,accordionDefaultOpen:q,isModal:u,localized:b,isStoreClosed:m,catalog:N}):null})}),r&&Object(T.jsx)("div",{className:"price-content",children:Object(T.jsxs)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:[ie?Object(T.jsx)(I.a,{itemCount:ie,itemQuantity:de,updateItemQuantity:(e,t)=>{t===g.a.QUANTITY_ACTION.Increase?ae((e=>e+1)):ae((e=>e-1))},quantityAction:g.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:z,cartItemCount:le+1}):null,Object(T.jsxs)(s.a,{className:"button start-order-btn ".concat(W?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>x(e,Oe),children:[Object(T.jsx)("span",{className:"title-for-button",children:"".concat(ve)}),Object(T.jsx)("span",{className:"currency-symbol",children:"".concat(G," ").concat((me=Q,(ie*me).toFixed(2)))})]})]})})]});var me};const y=e=>{if(e){var t;let o=JSON.parse(JSON.stringify(e));return o.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),o}return{}};t.default=e=>{const{isModal:t=!0,showPriceContent:o=!0,data:i={},source:a="",isStoreClosed:l=!1,localized:s,catalog:c,categoryId:u=""}=e,{MODALHEADERTEXT:v=""}=j.a,m=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(O.Td)(i)?y(i):y(m),g=Object(d.b)(),S=e=>{e.stopPropagation(),e.preventDefault(),g(Object(b.v)({showProductListingModal:!1,categorySelected:""}))},I=Object(T.jsx)(D,{data:p,categoryId:u,handleClose:S,showPriceContent:o,"data-testid":"product-listing-modal-enabled",source:a,isModal:t,localized:s,isStoreClosed:l,catalog:c}),f=Object(T.jsx)(r.a,{handleClose:S,ProductListingModalForm:I,headerText:Object(h.translateWithI18Next)(v),"data-testid":"product-listing-inside-modal"}),N=Object(T.jsx)("div",{className:"pdp-custm-sopac",children:I});return t?n.a.createPortal(f,document.getElementById("modal-popups")):N}},975:function(e,t,o){"use strict";o.r(t),o.d(t,"filterStores",(function(){return Le})),o.d(t,"SearchStoreModule",(function(){return Pe}));var i=o(3),a=o.n(i),l=o(85),n=o(144),d=o(2);const r=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:i,headerText:l,modalTitleId:r="",className:s,backDataTestId:c}=e;return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsx)(n.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"".concat(s," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:l,autoFocus:!0,backDataTestId:c,children:i})})};var s=a.a.memo(r),c=o(16),u=o(43),v=o(437),O=o(192),m=o(73),b=o(394),j=o(28),p=o(331),h=o(6),g=o(5),S=o(24),I=o(86),f=o(426),N=o(46),C=o(263),T=o(1193),E=o(1197),x=o(55),D=o(269),y=o(329),A=o(41),_=o(15),R=o(4),L=o(80),P=o(132);const{Error:w}=_.a,M=e=>{var t,o;const{show:i,address:a,suggestedAddress:l,onRetryClickHandler:n,onUseThisAddressHandler:r,changeAddressErrorMsgStyle:s}=e,{LOCATION_WARNING_MESSAGE:c,RETRY_BTN_TEXT:u,USE_THIS_ADDRESS_TEXT:v}=R.a,O=Object(P.b)(L.b);return i?Object(d.jsx)("div",{className:"err-container",children:Object(d.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[!s&&Object(d.jsx)(N.a,{srcFile:w,className:"location-alert-icon"}),Object(d.jsx)("div",{className:(m=s,m?"location-error-message location-error-message-change-style":"location-error-message"),children:Object(h.translateWithI18Next)(c)}),Object(d.jsxs)("div",{className:"location-error-address",children:[Object(g.qd)(null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.description,null!==(o=Object(b.M)(O))&&void 0!==o?o:a),";"]}),Object(d.jsxs)("div",{className:"location-error-button-section",children:[Object(d.jsx)(A.a,{className:"button whiteButton blackBorder location-warning-button mr one-line-text",onClick:n,"data-testid":"location-retry-btn",children:Object(h.translateWithI18Next)(u)}),Object(d.jsx)(A.a,{className:"button whiteButton blackBorder location-warning-button ml one-line-text","data-testid":"use-this-address",onClick:r,children:Object(h.translateWithI18Next)(v)})]})]})}):null;var m},k=a.a.memo(M),{GoogleMapLocationImage:F}=_.a,U=e=>{const{show:t=!1,suggestedAddress:o="",confirmDeliveryAddressLineHandler:l,onChangeDeliveryAddressLine:n,deliveryAddressLineVal:r,shouldEnableConfirmButton:s,apartmentDetailsRegex:c}=e,{DELIVERY_ADDRESS_LINE_LABEL:v,CONFIRM_BTN_TEXT:O,PLEASE_FILL_OUT_THIS_FIELD:m}=R.a,b=Object(P.a)(),j=Object(i.useCallback)((e=>{var t;c.test(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&(n(e.target.value),b(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:e.target.value})))}),[n]);return Object(d.jsx)(a.a.Fragment,{children:t?Object(d.jsxs)("div",{"data-testid":"delivery-address-line-container",className:"err-container",children:[Object(d.jsxs)("div",{className:"alert-location-popup unit-number-container",children:[Object(d.jsxs)("div",{className:"icon-with-address",children:[Object(d.jsx)(N.a,{srcFile:F,alt:" ",className:"google-location-img"}),Object(d.jsx)("span",{className:"suggested-address-unit",children:o})]}),Object(d.jsxs)("div",{className:"unit-number-input-div",children:[Object(d.jsx)("input",{"data-testid":"delivery-address-line-input",type:"text",value:r,onChange:j,required:!0,title:Object(h.translateWithI18Next)(m)}),Object(d.jsx)("label",{children:Object(h.translateWithI18Next)(v)})]})]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)(A.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"delivery-address-line-confirm",onClick:()=>l(r),disabled:s&&!(null!==r&&void 0!==r&&r.length),children:Object(h.translateWithI18Next)(O)})})]}):null})};var H=a.a.memo(U),B=o(1117),W=o(1147),G=o(0),V=o(1186);const Y=e=>{var t;const{showKfcCount:o,showMapLink:i,typeOfView:l,toggleView:n,kfcStoresCountText:r,kfcCount:s,isStoresLoading:c}=e,u=Object(j.c)((e=>{var t,o,i;return(null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isFavoriteStoreStatusLoading)}));return Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsxs)("div",{className:"kfc-near-you-section",children:[o?Object(d.jsx)("div",{className:"kfc-count",children:null===(t=Object(h.translateWithI18Next)(r))||void 0===t?void 0:t.replace("%storeCount%",s)}):null,i?Object(d.jsx)("div",{className:"list-map-link-section","data-testid":"toggle-view-test",onClick:()=>n(),children:Object(d.jsxs)(C.a,{className:"list-map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(N.a,{"data-testid":"",srcFile:null===l||void 0===l?void 0:l.imageSrc,alt:"map",className:"map-img"})}),Object(h.translateWithI18Next)(null===l||void 0===l?void 0:l.text)]})}):null]}),(u||c)&&Object(d.jsx)("div",{className:"placeholder",children:Array(8).fill().map((()=>Object(d.jsx)(z,{})))})]})},z=()=>Object(d.jsxs)("div",{className:"table store-card-container",children:[Object(d.jsx)("div",{className:"loading card-title shorter-s"}),Object(d.jsx)("div",{className:"loading table-content"}),Object(d.jsx)("div",{className:"loading table-content"})]});var K=a.a.memo(Y),q=o(1206),J=o(133),Q=o(62),X=o(1196),Z=o(52),$=o(399);const{Error_Yellow:ee,MapImage:te}=_.a||{},{RETAIN_ADDRESS:oe,CONFIG_SEARCH_SCREEN:ie,FROM_SCHEDULE_ORDER_CONTAINER:ae,ADDRESS_COORDS:le}=G.gd||{},{SEARCH_ORDER_DATA:ne,DISPOSITION_METHOD:de,REORDER_MODAL_OPEN:re,REORDER_STORE_CHANGED:se,SCHEDULE_ORDER_DATA:ce}=c.a||{},{MIN_SEARCH_CHARACTER_LIMIT:ue,SET_LOCATION_BUTTON_FLAG:ve,SELECTED_FAV_ADDRESS:Oe,FORMATTED_DELIVERY_ADDRESS:me,SELECTED_LINE_ADDRESS_VAL:be,IS_FAV_ADDRESS_SELECTED:je,STREET_NUMBER:pe,NON_FORMATTED_ADDRESS:he,TYPE_DELIVERY:ge}=u.a,{RETRY_BTN_TEXT:Se,VIEW_MAP_BTN_TEXT:Ie,ADDRESS_NOT_FOUND_ERROR:fe,GOOGLE_API_ERROR:Ne,LOCATION_BLOCKED_ERROR:Ce,KFC_URL:Te,PLEASE_ENTER_YOUR_LOCATION:Ee,MAP:xe}=R.a,{ENTER:De}=G.ag.KEY_CHAR_CODE||{},{SET_LOCATION_INFO:ye}=Z.a;let Ae=!1;const _e=e=>{let{orderSummaryModalClose:t,eligibleStoresForList:o,loggedIn:i,onClickMapHandler:a,storeOpenBtnText:l,findAKFC:n,storeNumberFormat:r}=e;return Object(d.jsx)(d.Fragment,{children:t&&(null===o||void 0===o?void 0:o.map((e=>Object(d.jsx)(q.a,{store:e,loggedIn:i,onClickMapHandler:a,storeOpenBtnText:l,findAKFC:n,storeNumberFormat:r,isUberServiceableEnabled:!1},null===e||void 0===e?void 0:e.id))))})};var Re=e=>{var t,o,a,n,r,s,c,v,O,m,p,I,f,A,R,w,M;const{userPositionHandler:F,eligibleStoreData:U,isStoresLoading:Y,setIsStoresLoading:z=(()=>{}),dispositionType:Z,seteligibleStoreData:re,storeSelection:se,formContent:Re,eligibleFavoriteStoreData:Le,findAKFC:Pe,finAKFCContentData:we={},isMobile:Me,setShowStores:ke=null,showStores:Fe=null,currentMarket:Ue}=e,He=Object(i.useRef)(null),Be=Object(Q.g)(),We=Object(P.a)(),{userOrderState:Ge,userOrderStateDispatch:Ve}=Object(i.useContext)(l.a),{searchStoreData:Ye,scheduleOrderData:ze,setLocationClicked:Ke,showLocationConfirmModal:qe,showNotInRadiusError:Je,notInRadiusRestaurant:Qe,orderSummaryModalClose:Xe}=Ge,{configSearchScreen:Ze=localStorage.getItem(ie)}=Ye,$e=JSON.parse(localStorage.getItem(ae)),[et,tt]=Object(i.useState)(!1),[ot,it]=Object(i.useState)(!1),[at,lt]=Object(i.useState)(!1),[nt,dt]=Object(i.useState)(!1),[rt,st]=Object(i.useState)(!1),[ct,ut]=Object(i.useState)([]),[vt,Ot]=Object(i.useState)(!1),[mt,bt]=Object(i.useState)({}),[jt,pt]=Object(i.useState)(""),[ht,gt]=Object(i.useState)(!1),[St,It]=Object(i.useState)(""),[ft,Nt]=Object(i.useState)(""),[Ct,Tt]=Object(i.useState)({}),Et=Object(j.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[xt,Dt]=Object(i.useState)({}),[yt,At]=Object(i.useState)(null),[_t,Rt]=Object(i.useState)(!1),Lt=Object(j.c)((e=>e.appStateReducer.userStatus)),{loggedIn:Pt}=Object(g.sd)(Lt),{savedAddresses:wt,favouriteStores:Mt}=Object(j.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{componentOptions:kt,savedAddressPage:Ft,useLatLngForReverseGeocode:Ut,isShowDefulteMapForDelivery:Ht,isUberServiceableEnabled:Bt,enableDeliveryMenuOption:Wt}=Object(j.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Gt=G.bf,Vt=null!==(t=null===Ft||void 0===Ft?void 0:Ft.showAddressWithApartment)&&void 0!==t&&t,Yt=null===kt||void 0===kt||null===(o=kt.web)||void 0===o?void 0:o.dispositionConfig,zt=null===kt||void 0===kt||null===(a=kt.web)||void 0===a||null===(n=a.restaurantDetailPage)||void 0===n?void 0:n.storeNumberFormat,Kt=null===kt||void 0===kt||null===(r=kt.web)||void 0===r||null===(s=r.dispositionConfig)||void 0===s?void 0:s.autoSelectDeliveryStore,qt=null===kt||void 0===kt||null===(c=kt.web)||void 0===c||null===(v=c.dispositionConfig)||void 0===v||null===(O=v.deliveryStores)||void 0===O?void 0:O.shouldEnableConfirmButton,Jt=null===kt||void 0===kt||null===(m=kt.web)||void 0===m||null===(p=m.dispositionConfig)||void 0===p?void 0:p.apartmentDetailsRegex,Qt=null===kt||void 0===kt||null===(I=kt.web)||void 0===I||null===(f=I.storeSearch)||void 0===f?void 0:f.changeAddressErrorMsgStyle,Xt=(null===kt||void 0===kt||null===(A=kt.storeSelection)||void 0===A||A.hideUseMyLocationInStoresListScreen,void 0!==Ge.isMapViewConfirmBtnFlow&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===ge?Ge.isMapViewConfirmBtnFlow:null===kt||void 0===kt||null===(R=kt.web)||void 0===R||null===(w=R.storeSearch)||void 0===w?void 0:w.isMapViewConfirmBtnFlow),{enableScheduleOrder:Zt=!1}=Yt,$t="".concat(Z,"_").concat(Ze),eo=Xt&&Z===ge,{placeholder:to,shouldShowLocationWarning:oo,shouldShowDeliveryAddressLine:io,shouldHandleKeyPress:ao,serviceUnavailableError:lo,shouldShowSingleStore:no,shouldShowStoresList:ro,shouldShowKfcStoresCount:so,shouldShowMapListToggleLink:co,kfcStoresCountText:uo,shouldShowLocationLink:vo,shouldPopulateFirstSuggestion:Oo,storeOpenBtnText:mo,filteredTypes:bo,filterConditions:jo}={...null===J.d||void 0===J.d?void 0:J.d[$t],...null===Yt||void 0===Yt?void 0:Yt[$t]},{shouldShowSavedAddress:po}=(!Bt||(null===Z||void 0===Z?void 0:Z.toUpperCase())!==G.Jb.DELIVERY)&&{...null===J.d||void 0===J.d?void 0:J.d[$t],...null===Yt||void 0===Yt?void 0:Yt[$t]},ho=Object(P.b)(L.b),{errMsg:go,firstBtnText:So,firstBtnHandler:Io,secondBtnHandler:fo,secondBtnText:No,firstBtnClassName:Co}=lo||{},To=!!(Pe||Zt||eo)||no,Eo=Object(j.c)((e=>{var t,o,i,a;return Object(g.Ke)(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading,null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading,null===(i=e.storesReducer)||void 0===i?void 0:i.isFavoriteStoreStatusLoading,null===(a=e.allStoresReducer)||void 0===a?void 0:a.isNearByStoresLoading)}));Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&localStorage.removeItem(oe);const xo=JSON.parse(localStorage.getItem(null===G.gd||void 0===G.gd?void 0:G.gd.SELECTED_ADDRESS)),Do=[null===xo||void 0===xo?void 0:xo.apartmentName,null===xo||void 0===xo?void 0:xo.roomNumber,null===xo||void 0===xo?void 0:xo.companyName],yo=((e,t)=>[e,...t.filter((e=>e))].join(" "))(null===Ge||void 0===Ge||null===(M=Ge.scheduleOrderData)||void 0===M?void 0:M.deliveryAddress,Do),Ao=()=>{bt({}),eo&&Ot(!1),ke(!1),it(!0)},_o=Object(i.useCallback)((()=>{var e;tt(!1),bt({}),Tt({}),st(!1),null===He||void 0===He||null===(e=He.current)||void 0===e||e.select()}),[]);Object(i.useEffect)((()=>{(null===ho||void 0===ho?void 0:ho.selectedLineValueAddress)&&Nt(null===ho||void 0===ho?void 0:ho.selectedLineValueAddress)}),[ho]);const Ro=Object(i.useCallback)((e=>{Object(b.I)(ao,(null===e||void 0===e?void 0:e.keyCode)===De,He,Ve);const t=Object(g.Je)(ao,(null===e||void 0===e?void 0:e.keyCode)===De,!(null!==ct&&void 0!==ct&&ct.length));Object(b.K)(Oo,(null===e||void 0===e?void 0:e.keyCode)===De,ct,pt,jt);let o={showError:t,errMsg:Object(h.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Se),secondBtnText:Object(h.translateWithI18Next)(Ie),firstBtnCTA:_o,secondBtnCTA:Ao},i={showError:t,errMsg:Object(h.translateWithI18Next)(go),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(So),secondBtnText:Object(h.translateWithI18Next)(No),firstBtnCTA:null===Bo||void 0===Bo?void 0:Bo[Io],secondBtnCTA:null===Bo||void 0===Bo?void 0:Bo[fo],firstBtnClassName:Co},a=Object(g.ad)((null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY,o,i);(null===mt||void 0===mt||!mt.showError)&&bt(a),null!==o&&void 0!==o&&o.showError?(null===Ct||void 0===Ct||!Ct.showError)&&Tt(o):Tt({}),it(!1)}),[null===mt||void 0===mt?void 0:mt.showError,null===Ct||void 0===Ct?void 0:Ct.showError,_o,ao,null===ct||void 0===ct?void 0:ct.length]),Lo=async function(e,t){var o;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];It(e),Rt(!0),pt(e),Object(D.e)(e);let a=[];try{a=await Object(y.geocodeByAddress)(e),!a.length&&z(!1)}catch(s){console.error("Error occurred:",s),z(!1)}const l=null===G.mf||void 0===G.mf?void 0:G.mf.some((t=>e.includes(t)));let n;if(Object(g.tf)(Z,a,Bt),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&!i){var d;n=xt;const e={longitude:n.lng.toString(),latitude:null===(d=n)||void 0===d?void 0:d.lat.toString()};localStorage.setItem(le,JSON.stringify(e)),it(!1)}else n=await Object(y.getLatLng)(a[0]);var r;null!==Yt&&void 0!==Yt&&Yt.clearDliveryTextFilter&&Z===ge?null!==(r=Object(b.x)(a))&&void 0!==r&&r.long_name?(F({userLat:n.lat,userLong:n.lng}),Dt(n)):st(!1):(F({userLat:n.lat,userLong:n.lng}),Dt(n));l&&(We(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:Object(b.y)(e)})),Nt(Object(b.y)(e)),We(Object(L.d)({key:me,value:t.replace("".concat(Object(b.y)(e),","),"")}))),We(Object(L.d)({key:he,value:t})),We(Object(L.d)({key:pe,value:null===(o=Object(b.x)(a))||void 0===o?void 0:o.long_name}))},Po=Object(i.useCallback)((async e=>{if(e.preventDefault(),re([]),z(!0),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&!at){$e&&localStorage.setItem(ae,!1);const e=yo;Jo(e,xt),Lo(e,e)}else Lo(at,nt)}),[ao,ct,F,Z,nt,at]);Object(i.useEffect)((()=>{Ue===G.fb.TH&&null!==bo&&void 0!==bo&&bo.includes("address")&&Lo(at,nt)}),[bo]);const wo=Object(i.useCallback)((async(e,t,o)=>{const i=!$e&&Object(b.o)(t,ao,ct,e,Z);if(lt(i),dt(e),Boolean(!(null!==ze&&void 0!==ze&&ze.changeFlow)||eo)&&pt(e),Boolean(!eo||Boolean(eo&&(null===ze||void 0===ze?void 0:ze.changeFlow)))&&Lo(i,e),Z===G.Jb.DELIVERY&&Ht&&t){const e=await Object(y.geocodeByAddress)(i),t=await Object(y.getLatLng)(e[0]);Dt(t),it(o!==J.b)}}),[ao,ct,F,Z,eo,null===ze||void 0===ze?void 0:ze.changeFlow]),Mo=Object(i.useCallback)((()=>{eo&&it(!1),st(!1),Ot(io),pt(St),Vt&&Nt(St.includes("/")?St.split("/")[0]:""),Vt&&We(Object(L.c)({key:be}))}),[St,io,eo]),ko=Object(i.useCallback)((e=>{Object(b.z)(e,To,jt,ft,ke,ot,Ve,Ge,Kt,Z)}),[jt,ot,To,ft,Ve]),Fo=Object(i.useCallback)((()=>{tt(!1),Ot(!1),Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.c}}),localStorage.setItem(ie,J.c),ko(U),Boolean(Pe||ot||Zt)&&Qo(He),Boolean(Pe||ot||Zt)&&Qo(He),Ve({type:ye,value:{selectedDeliveryAddress:jt,deliveryAddressLineVal:ft}}),We(Object(L.d)({key:null===G.se||void 0===G.se?void 0:G.se.REORDER_FLAG,value:{isReorderFlow:!1}}))}),[U,ko,Ve,eo]),Uo=Object(i.useCallback)((()=>{var e;Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(G.gd.CONFIG_SEARCH_SCREEN,J.a),pt(""),st(!1),Ot(!1),bt({}),tt(!1),Tt({}),ke(!1),(!eo||Ht)&&it(!1),null===He||void 0===He||null===(e=He.current)||void 0===e||e.focus(),At(null),Rt(!1),We(Object(L.c)({key:me})),We(Object(L.c)({key:Oe})),We(Object(L.c)({key:be})),We(Object(L.c)({key:je})),Nt(""),re([])}),[re,eo]),Ho=Object(i.useCallback)((e=>{bt({}),Tt({}),st(!1),Ot(!1),eo&&e.trim()&&(dt(e),lt(e)),(null===Yt||void 0===Yt?void 0:Yt.clearDliveryTextFilter)&&Ve({type:ce,value:{showScheduleOrderCatering:!1,changeFlow:!1}}),e.trim()?pt(e):Uo(),At(null)}),[Uo,eo]),Bo=Object(i.useMemo)((()=>({focusInputBox:()=>{He.current.select(),bt({}),Tt({})},gotoMenuPage:()=>{Be.push({pathname:Object(g.sc)(Z,Wt)}),Ve({type:ne,value:{showSearchStore:!1}})},switchToPickup:()=>{Ve({type:de,value:{dispositionType:G.Jb.PICKUP}}),Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(ie,J.a),Uo()},openDeliveryAddressScreen:()=>{Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(ie,J.a),Ve({type:de,value:{dispositionType:G.Jb.DELIVERY}}),He.current.select(),bt({}),Tt({})}})),[Be,Uo,Ve]),Wo=Object(i.useCallback)((e=>{oo||ko(e)}),[oo,ko]),Go=Object(i.useCallback)(((e,t,o,i,a)=>{if((null===e||void 0===e?void 0:e.length)>0)bt({}),Tt({}),st(oo),Wo(e);else if(Object(g.Je)(null===a||void 0===a?void 0:a.length,jt,(null===Z||void 0===Z?void 0:Z.toUpperCase())!==G.Jb.DELIVERY))bt({}),Tt({}),re(a);else{let e=Object(g.Je)(jt!==St,ao,(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY),a={showError:Object(g.Je)(!o,ao),errMsg:Object(h.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Se),secondBtnText:Object(h.translateWithI18Next)(Ie),firstBtnCTA:_o,secondBtnCTA:Ao},l={showError:Object(g.Je)(!t,!o,i),errMsg:Object(h.translateWithI18Next)(go),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(So),secondBtnText:Object(h.translateWithI18Next)(No),firstBtnCTA:null===Bo||void 0===Bo?void 0:Bo[Io],secondBtnCTA:null===Bo||void 0===Bo?void 0:Bo[fo],firstBtnClassName:Co};Object(b.W)(e,a,l,bt)}}),[Wo,Bo,lo,oo,jt,Z]),{handleSelectAddress:Vo,onUseThisAddressHandler:Yo,callOnAddressConfirmHandler:zo}=Object(D.a)({handleSelectAddressGlobal:wo,onUseThisAddressHandlerGlobal:Mo,onAddressSelectionGlobal:Go}),Ko=Object(i.useCallback)((async()=>{Object(b.Q)(),Object(x.o)();const e=await Object(D.b)(Ve,Et);if(e){It(S.b.address),pt(S.b.address),Object(D.e)(S.b.address),ut([{description:S.b.address}]);const{longitude:e,latitude:t}=S.b.coordinates;let o=await Object(y.geocodeByAddress)(S.b.address);Object(g.tf)(Z,o),F({userLat:t,userLong:e}),Dt({lat:t,lng:e}),Rt(!0)}Object(b.s)(Ve,!e)}),[Ve,F,Z]),qo=Object(i.useCallback)((e=>{Object(b.e)(e,G.Uf,ut);const t=G.ge.includes(e);bt({showError:t,errMsg:Object(h.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Se),secondBtnText:null,firstBtnCTA:_o,secondBtnCTA:null})}),[_o]);Object(i.useEffect)((()=>{if(Ke){(async()=>{await Ko()})(),Ve({type:ve,value:{setLocationClicked:!1}})}}),[Ke]),Object(i.useEffect)((()=>{const e=(null===mt||void 0===mt?void 0:mt.errMsg)===Object(h.translateWithI18Next)(Ne);Object(b.D)(e,Ae),e&&(Ae=!0)}),[null===mt||void 0===mt?void 0:mt.showError]),Object(i.useEffect)((()=>{const e=(null===jt||void 0===jt?void 0:jt.length)>2&&eo;tt(e);const t=Object(g.d)(jt,ue);gt(t)}),[jt,eo]),Object(i.useEffect)((()=>{if(!Pe){var e,t;null===He||void 0===He||null===(e=He.current)||void 0===e||e.focus();const o=null===(t=localStorage)||void 0===t?void 0:t.getItem(oe);Object(b.c)(ze,Ye,ct,ut,Vo,o,jt)}it(!1)}),[Ze,Pe]),Object(i.useEffect)((()=>{var e;Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&(it(!0),At(null===Ge||void 0===Ge||null===(e=Ge.scheduleOrderData)||void 0===e?void 0:e.storeId),Lo(yo,yo,!0))}),[]),Object(i.useEffect)((()=>{Object(b.f)(Ve,qe)}),[Ve]),Object(i.useEffect)((()=>{eo?St&&zo(U,Eo,Y,St,Le):zo(U,Eo,Y,St,Le)}),[U,Eo,St,Le,Y]);const Jo=(e,t)=>{const o=Object(g.de)(window.innerWidth);var i,a;(Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?(Ho(yo),ut([{description:yo}])):(Ho(e),ut([{description:e}])),Dt(t),o)?null===He||void 0===He||null===(i=He.current)||void 0===i||i.blur():null===He||void 0===He||null===(a=He.current)||void 0===a||a.focus();ot&&Qo(He)},Qo=e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)},Xo=Object(i.useCallback)((e=>{it(!0),ke(!1),At(e)}),[]),Zo=Object(i.useCallback)((()=>{ke(ot),it(!ot),Object(b.E)(ot,Z)}),[ot]),$o=Object(g.Je)(null===wt||void 0===wt?void 0:wt.length,Pt,po,!rt,!vt,!(null!==mt&&void 0!==mt&&mt.showError)),ei=!JSON.parse($e)&&Object(g.Je)(rt,null===ct||void 0===ct?void 0:ct.length,null===U||void 0===U?void 0:U.length);Object(i.useEffect)((()=>{ei&&eo&&(null!==ze&&void 0!==ze&&ze.changeFlow||Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?Fo():Yo())}),[ei,eo,null===ze||void 0===ze?void 0:ze.changeFlow]);const ti=Object(g.Je)(null===mt||void 0===mt?void 0:mt.showError,!Eo,jt),oi=Object(g.Je)(qe,vo,!ot),ii=Object(b.T)(U,Mt,Gt,!Object(g.Je)(Fe,!(null!==mt&&void 0!==mt&&mt.showError)),ro),ai=Object(g.Ke)(null===mt||void 0===mt?void 0:mt.showError,oi,Je,ei,ti,vt),li=Object(g.Je)(so,(null===U||void 0===U?void 0:U.length)>0,!Eo,_t,!ai),ni=Object(g.Je)(jt,(null===U||void 0===U?void 0:U.length)>0,co,!Eo,_t,!ai),di=Object(b.T)(U,Mt,Gt,Object(g.Je)(Fe,!(null!==mt&&void 0!==mt&&mt.showError)),ro),ri=null!==Ct&&void 0!==Ct&&Ct.showError?[]:ii,si=ot?null===ii||void 0===ii?void 0:ii.length:null===di||void 0===di?void 0:di.length,ci=(Object(g.Ke)(ot,!vo),Object(g.Je)(si,!ot,_t)),ui=Object(g.Ke)(ai,li,ot),vi=Object(g.Je)(Pe,!ui,!ci);return Object(d.jsx)("div",{className:Pe?"".concat(Object(g.ad)(ui,"findkfc-delivery-show-container","findkfc-delivery-hide-container")," ").concat(ai&&"findkfc-delivery-error-container"," ").concat(Object(g.ad)(ot,"mapview","listview")):"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(d.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(d.jsxs)("div",{id:"search-store-global-content",className:Object(b.u)(qe),children:[Object(d.jsx)(B.a,{show:oi,errorMsg:Object(b.G)(Ce,Te),errImage:ee,cssClass:"location-blocked"}),Object(d.jsxs)("div",{className:Object(g.ad)(Pe,"findkfc-search-store-container","selectkfc-search-store-container"),children:[Object(d.jsx)(E.a,{loggedIn:Pt,formContent:Re,storeSelection:se,useCurrentLocation:Ko,hideLocationLink:!!se.hideUseMyLocationInStoresListScreen&&!vo,showLocationConfirmModal:qe}),Object(d.jsx)(T.a,{...e,storeSelection:se,history:Be,inputOnChange:Ho,address:jt,showAutoSuggestion:ht,setSuggestedAddress:ut,handleSelectAddress:Vo,alreadySearched:D.c,onClearTextHandler:Uo,keyPress:Ro,inputRef:He,onSearchError:qo,placeholder:Object(h.translateWithI18Next)(to),filteredTypes:bo,filterConditions:jo,showConfirmBtn:eo,onClickHandler:Po,confirm:et,isAddressNotChangable:Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY}),Object(d.jsx)("div",{className:"".concat(Object(g.ad)(Je,"error-can-not-deliver","hide-error-container")),children:Object(d.jsx)(B.a,{show:Je,errorMsg:[Object(d.jsxs)("span",{className:"store-name",children:[Qe," "]}),Object(h.translateWithI18Next)(u.a.CAN_NOT_DELIVER_ERROR_MSG)],errImage:_.a.Error,cssClass:"error-sub-container"})}),!eo||ot||ei||Fe||ti?null:Object(d.jsx)("div",{className:"map-button-form",children:Object(d.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:Ao,children:[Object(d.jsx)("span",{className:"delivery-map-text",children:Object(h.translateWithI18Next)(Ee)}),Object(d.jsxs)(C.a,{className:"map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(N.a,{"data-testid":"",srcFile:te,alt:" ",className:"map-img"})}),Object(h.translateWithI18Next)(xe)]})]})}),!eo&&Object(d.jsx)(k,{show:ei,onRetryClickHandler:_o,address:St,onUseThisAddressHandler:Yo,changeAddressErrorMsgStyle:Qt}),Object(d.jsx)(H,{show:vt,suggestedAddress:jt,confirmDeliveryAddressLineHandler:Fo,onChangeDeliveryAddressLine:Nt,deliveryAddressLineVal:ft,shouldEnableConfirmButton:qt,apartmentDetailsRegex:Jt}),Object(d.jsx)(W.a,{show:ti,errorObj:mt}),Object(d.jsx)(V.a,{show:$o,savedAddresses:wt,handleSelectAddress:Vo}),Object(d.jsx)(K,{showKfcCount:li,kfcCount:si,showMapLink:ni,typeOfView:Object(b.X)(ot),toggleView:Zo,kfcStoresCountText:uo,isStoresLoading:Y})]}),Object(d.jsxs)("div",{className:Pe?"".concat(Object(g.ad)(ci,"store-dynamic-card-container","store-no-card-container")):"selectkfc-card-container",children:[vi&&Object(d.jsx)(N.a,{srcFile:Me?we.mobileImage:we.desktopImage,className:"findkfc-img"}),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?(e=>{var t;let{orderSummaryModalClose:o,eligibleStoresForList:i,loggedIn:a,onClickMapHandler:l,storeOpenBtnText:n,findAKFC:r,storeNumberFormat:s}=e;return Object(d.jsx)(d.Fragment,{children:o&&Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&(null===i||void 0===i||null===(t=i.filter((e=>{var t;return Object($.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)})))||void 0===t?void 0:t.map((e=>Object(d.jsx)(q.a,{store:e,loggedIn:a,onClickMapHandler:l,storeOpenBtnText:n,findAKFC:r,storeNumberFormat:s,isUberServiceableEnabled:Bt},null===e||void 0===e?void 0:e.id))))})})({orderSummaryModalClose:Xe,eligibleStoresForList:di,loggedIn:Pt,onClickMapHandler:Xo,storeOpenBtnText:mo,findAKFC:Pe,storeNumberFormat:zt}):_e({orderSummaryModalClose:Xe,eligibleStoresForList:di,loggedIn:Pt,onClickMapHandler:Xo,storeOpenBtnText:mo,findAKFC:Pe,storeNumberFormat:zt})]})]}),ot?Object(d.jsx)(X.a,{eligibleStores:ri,defaultStoreId:yt,loggedIn:Pt,selectedCoords:xt,passAddress:Jo,configSearchKey:$t,useCurrentLocation:Ko,showLocationConfirmModal:qe,findAKFC:Pe,favouriteStores:Mt,useLatLngForReverseGeocode:Ut,markerDragValue:!0,...Bt&&{zoomLevel:19}}):null]})})};const Le=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.filter((e=>{var t,o,i,a,l,n,d,r,s,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));if(t){return o.filter((e=>e.summary.status.currentStatus===(null===c.a||void 0===c.a?void 0:c.a.CLOSED))).length===(null===e||void 0===e?void 0:e.length)?[]:o}return o},Pe=e=>{var t,o,n,r,f,N,C,T;const{contentData:E={},onStoreSelectFinish:x,finAKFCContentData:D={},isMobile:y=!1}=e,{SEARCH_ORDER_DATA:A,DISPOSITION_DATA:_,ANALYTICS_LOCALISATION_SIGNIN:R,SET_ELIGIBLE_STORE:w,SET_FIND_A_KFC_VIEW:M,SET_REDIRECTION_PATH:k,REORDER_MODAL_OPEN:F,FROM_REORDER_MODAL_OPEN:U,REORDER_STORE_CHANGED:H,FAV_STORE_NOT_IN_RADIUS:B}=c.a,{DELIVERY:W,PICKUP:V}=G.Jb,Y=Object(j.b)(),z=Object(P.a)(),{FORMATTED_DELIVERY_ADDRESS:K,SELECTED_LINE_ADDRESS_VAL:q,SELECTED_FAV_ADDRESS:Q,IS_FAV_ADDRESS_SELECTED:X,STREET_NUMBER:$,TYPE_DELIVERY:ee}=u.a,{userOrderState:te,userOrderStateDispatch:oe}=Object(i.useContext)(l.a),{dispositionStateData:ie,searchStoreData:ae,findAKFC:le}=te,{dispositionType:ne=localStorage.getItem(G.gd.DISPOSITION_TYPE)}=Object(g.ud)(ie),{storeSearch:de={},tenantId:re,countryCode:se=[],componentOptions:ce,storelocatormaxreturncount:ue=10,ispolygonrequired:ve,savedAddressPage:Oe,isUberServiceableEnabled:me}=Object(j.c)((e=>Object(g.sd)(e.tenantReducer))),be=Object(j.c)((e=>{var t;return null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading})),je=null===ce||void 0===ce||null===(t=ce.web)||void 0===t||null===(o=t.storeSearch)||void 0===o?void 0:o.addPickupAndDropoffLatLngInStatusApi,{isSendEntireStoreAsPayloadInStatusApi:pe=!1}=(null===ce||void 0===ce||null===(n=ce.web)||void 0===n?void 0:n.storeSearch)||{},he=Object(P.b)(L.b),ge=null!==(r=null===Oe||void 0===Oe?void 0:Oe.showAddressWithApartment)&&void 0!==r&&r,{storeSelection:Se,web:Ie={}}=ce,{shouldCheckDropOffAddress:fe=!1}=Ie,Ne=null===ce||void 0===ce||null===(f=ce.web)||void 0===f?void 0:f.dispositionConfig,Ce=null===ce||void 0===ce||null===(N=ce.web)||void 0===N||null===(C=N.dispositionConfig)||void 0===C?void 0:C.enableClickCollectScheduleOrder,{currentMarket:Te=(null===se||void 0===se||null===(T=se[0])||void 0===T?void 0:T.toUpperCase()),storeCardLimit:Ee=ue,configSearchScreen:xe=localStorage.getItem(G.gd.CONFIG_SEARCH_SCREEN)}=ae,De="".concat(null===ne||void 0===ne?void 0:ne.toUpperCase(),"_").concat(xe),{modalHeaderTitle:ye,shouldShowDisposition:Ae,shouldShowSearchStore:_e,shouldShowClosedStore:Pe}={...null===J.d||void 0===J.d?void 0:J.d[De],...null===Ne||void 0===Ne?void 0:Ne[De]},{searchStoreModalContent:we={}}=E,Me=ye,{formContent:ke={},locationsContent:{storeData:Fe=[]}}=we,[Ue,He]=a.a.useState(!1),[Be,We]=a.a.useState({}),[Ge,Ve]=a.a.useState([]),[Ye,ze]=a.a.useState([]),[Ke,qe]=a.a.useState([]),{maxDriveTimeMins:Je,distanceMetrics:Qe,maxDeliveryDistanceMtrs:Xe,maxPickupDistanceMtrs:Ze,maxCateringDistanceMtrs:$e,geohashprecision:et,boundingBoxSizeMeters:tt,shouldCallGoogleDistanceApi:ot,numOfStoresToShowDelivery:it,boundingBoxSizeDivider:at}=de,{allStores:lt=[],storesUpdated:nt}=Object(j.c)((e=>e.allStoresReducer))||{},[dt,rt]=Object(i.useState)(!1),{storesWithStatus:st,favoriteStoresWithStatus:ct}=Object(j.c)((e=>Object(g.sd)(e.storesReducer))),ut=e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(G.gd.SET_CART_CLEAR),localStorage.setItem(G.gd.RENDER_COMP,!0),oe({type:_,value:{showDisposition:!1}}),oe({type:A,value:{showSearchStore:!1}}),oe({type:k,value:{redirectionOrder:""}}),oe({type:F,value:{reorderModalOpen:!1}}),oe({type:U,value:{fromReorderFlag:!1}}),oe({type:H,value:{storeChanged:!1}}),oe({type:M,value:{findAKFC:window.location.pathname===G.Ce.FIND_STORE}}),z(Object(L.c)({key:K})),z(Object(L.c)({key:Q})),!ge&&z(Object(L.c)({key:q})),z(Object(L.c)({key:X})),z(Object(L.c)({key:$})),oe({type:B,value:{showNotInRadiusError:!1,notInRadiusRestaurant:""}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&ut(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const{favouriteStores:vt,savedAddresses:Ot}=Object(j.c)((e=>e.profileReducer)),{localized:mt=!1}=Object(j.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(i.useEffect)((()=>{Object(g.Je)(lt.length>0,nt)&&jt(lt)}),[lt,nt,null===vt||void 0===vt?void 0:vt.length,Be]),Object(i.useEffect)((()=>{(null===st||void 0===st?void 0:st.length)>0&&ne!==G.T?Nt(st):be||rt(!1)}),[ne,st]),Object(i.useEffect)((()=>{const e=null===ct||void 0===ct?void 0:ct.sort(((e,t)=>{var o,i,a,l;return(null===e||void 0===e||null===(o=e.distance)||void 0===o||null===(i=o.distance)||void 0===i?void 0:i.value)-(null===t||void 0===t||null===(a=t.distance)||void 0===a||null===(l=a.distance)||void 0===l?void 0:l.value)}));qe(e)}),[ct]),Object(i.useEffect)((()=>{Object(g.Je)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,ot)&&pt(Ye)}),[Ye]),Object(i.useEffect)((()=>()=>{Y(Object(m.u)())}),[le,Y]);const bt=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:tt/at,geohashprecision:et},i=O.a.calculateGH(o);Y(Object(m.v)(null===i||void 0===i?void 0:i.length))},jt=e=>{const t=Object(g.Mb)(null===ne||void 0===ne?void 0:ne.toUpperCase());let o=e.filter((e=>{var t,o;return Object(g.qe)(e.id)&&Object(g.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(g.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}));Object(g.Jd)(ne)&&ve&&(o=Object(b.S)(o,Be));const i={stores:o,disposition:t,distanceMetrics:Qe,driveTime:Je,distanceInMtrs:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,Xe,Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.PICKUP,Ze,$e)),noOfStores:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,it,o.length),channel:S.b.channel},a=O.a.checkAndProceed(i);ze(a),a&&((null===ne||void 0===ne?void 0:ne.toUpperCase())===W&&ot?pt(a):(pe&&(null===a||void 0===a?void 0:a.length)>ue&&a.splice(ue),St(a,t)))},pt=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,i;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(v.c)(t,[{lat:Be.userLat,lng:Be.userLong}],ht)},ht=e=>{let{allStoreDistance:t,originAddressText:o}=e;const i=Object(g.Mb)(ne.toUpperCase()),a={stores:gt(t,Ye),numberOfStores:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.DELIVERY,it,ue),disposition:i,distanceMetrics:Qe,driveTime:Je,distanceInMtrs:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,Xe,Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.PICKUP,Ze,$e))},l=O.a.getSortedNearbyStores(a);(null===l||void 0===l?void 0:l.length)>0&&St(l,i)},gt=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),St=(e,t)=>{const o={data:Object(g.C)(e,t,null,fe,null===he||void 0===he?void 0:he.latLong),store:e,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};Y(Object(m.d)(o))};Object(i.useEffect)((()=>{It({userLat:Be.userLat,userLong:Be.userLong})}),[vt.length,Be]);const It=e=>{var t,o;const i=localStorage.getItem(G.gd.STORE_INFO),a=i&&void 0!==i&&JSON.parse(i),l=null!==Ot&&void 0!==Ot&&Ot.length?Ot.filter((e=>e.isPrimary)):[],n=a&&mt?a:(null===l||void 0===l?void 0:l.length)&&l[0];Object(v.a)(null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,null===n||void 0===n||null===(o=n.location)||void 0===o?void 0:o.longitude,vt,ft)},ft=e=>{const t=Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===V,G.fe,ne),o=null===e||void 0===e?void 0:e.map((e=>{var t,o,i,a,l,n;return{availableServicesPerChannel:null===e||void 0===e?void 0:e.availableServicesPerChannel,distance:{distance:null===e||void 0===e?void 0:e.distance},duration:null===e||void 0===e?void 0:e.duration,id:null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id,name:null===e||void 0===e||null===(o=e.storeBasic)||void 0===o?void 0:o.dname,amenities:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.amenities,addresses:null===e||void 0===e||null===(a=e.storeBasic)||void 0===a?void 0:a.address,additionalAttributes:null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.additionalProperties,location:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.location}})),i={data:Object(g.C)(o,t,null,fe,null===he||void 0===he?void 0:he.latLong),store:o,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};!le&&i.data.length&&Y(Object(m.h)(i))},Nt=e=>{const t=Le(e,Ce,Pe);Ve(t),rt(!1),oe({type:w,value:{eligibleStore:t}})},Ct=Object(d.jsx)(Re,{singInClickhandler:e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(R,JSON.stringify(!0)),Object(b.O)(),Object(I.c)()},formContent:ke,storeData:Fe,isStoresLoading:dt,setIsStoresLoading:rt,onStoreSelectFinish:x,eligibleStoreData:Ge,storeCardLimit:Ee,userPositionHandler:e=>{Y(Object(p.b)()),Y(Object(m.u)()),je&&z(Object(L.d)({key:G.se.LAT_LONG,value:{lat:null===e||void 0===e?void 0:e.userLat,lng:null===e||void 0===e?void 0:e.userLong}})),We({userLat:e.userLat,userLong:e.userLong}),Ge&&Ve([]),bt(e.userLat,e.userLong),setTimeout((()=>{Y(Object(p.a)())}),2e3)},currentMarket:Te,dispositionType:null===ne||void 0===ne?void 0:ne.toUpperCase(),seteligibleStoreData:Ve,storeSelection:Se,eligibleFavoriteStoreData:Ke,findAKFC:le,finAKFCContentData:D,isMobile:y,setShowStores:He,showStores:Ue}),Tt=Object(d.jsx)(s,{handleClose:ut,orderModeTypeItem:Ct,headerText:Object(h.translateWithI18Next)(Me),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),He(!1),me&&(null===ne||void 0===ne?void 0:ne.toUpperCase())===ee?(oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.ENABLE_ADDRESS_LOCALISATION,value:!0}),oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.SHOW_MAP_VIEW_BUTTON,value:!1})):(oe({type:_,value:{showDisposition:Ae}}),oe({type:A,value:{showSearchStore:_e,configSearchScreen:J.a,searchedPlaceNonLocalized:null===ae||void 0===ae?void 0:ae.searchedPlaceNonLocalized}}))},modalTitleId:"search-store",className:"search-store-global-container ".concat(Object(g.hb)(Object(g.Hd)(ne),"catering-modal")),backDataTestId:"back-btn-global-modal-id"});return null!==te&&void 0!==te&&te.findAKFC?Ct:Tt};Pe.defaultProps=f.a;t.default=Pe},976:function(e,t,o){"use strict";o.r(t),o.d(t,"getSeoPageWithObject",(function(){return be})),o.d(t,"deepLinkWithPickupData",(function(){return je})),o.d(t,"deepLinkWithDeliveryData",(function(){return pe}));var i=o(3),a=o.n(i),l=o(28),n=o(85),d=o(5),r=o(1129);var s={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},c=o(1113),u=o(1119),v=o(6),O=o(145),m=o(73),b=o(24),j=o(12),p=o(961),h=o(1242),g=o(400),S=o(395),I=o(146),f=o(275),N=o(2);const C=e=>(null===e||void 0===e?void 0:e.filter((e=>null===e||void 0===e?void 0:e.isDefault)))[0],T=e=>e?Object(v.translateWithI18Next)("veg"):Object(v.translateWithI18Next)("nonveg");function E(e){const{pdpData:t,getDname:o,veg:i,Non_veg_dot_Icon:l,Veg_dot_Icon:n,modgrps:r,customizable:s,isActive:c,itemStatus:u,IS_OUT_OF_STOCK:O,setAsActiveLink:m,PDPEditIconDisabled:b,PDPEditIcon:j,isMobile:p,quantityUpdateTemplate:h,addToCartTemplate:g,makeItComboHandler:E,isIpad:x,comboData:D}=e,y=r.length>0&&s&&r.map((e=>!e.isHidden&&Object(N.jsxs)("div",{className:"pdp-receipt-modGrp-container".concat(c===e.id?" activeGroup":""),children:[c===e.id?Object(N.jsx)("span",{className:"arrowed"}):null,Object(N.jsxs)("span",{className:"pdp-receipt-modgrp",children:[Object(d.Hf)(o(e),14,x)," :"]}),Object(N.jsx)(f.a,{id:e.id,placement:"top",title:o(C(e.modifiers)),children:Object(N.jsx)("span",{className:"pdp-receipt-modifiers",children:Object(d.Hf)(o(C(e.modifiers)),16,x)})}),Object(N.jsx)("button",{className:"editIcon","data-testid":"set-active-link-handler-".concat(e.id),onClick:t=>m(t,e.id),disabled:u===O&&!0,children:Object(N.jsx)("img",{className:"pdp-summary-edit-icon",src:u===O?b:j,alt:"Summary Edit"})})]},e.id)));const A=!s&&Object(N.jsxs)("div",{className:"d-flex item_details",children:[Object(N.jsxs)("label",{children:[Object(v.translateWithI18Next)("mainEntree"),":"]}),Object(N.jsx)(f.a,{id:"entree",placement:"top",title:o(t),children:Object(N.jsx)("span",{children:Object(d.Hf)(o(t),26,x)})})]}),_=p?Object(N.jsxs)("div",{className:"pdp-mobile-quantity-price fixedDiv",children:[Object(N.jsx)("div",{className:"pdp-quantity-block",children:h()}),g()]}):Object(N.jsxs)(a.a.Fragment,{children:[Object(N.jsxs)("div",{className:"pdp-quantity-block",children:[Object(N.jsx)("label",{className:"qty",children:Object(v.translateWithI18Next)("quantity")}),h()]}),g()]}),R=Object(d.hb)(!s,D>0)&&Object(N.jsx)(I.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(N.jsx)(S.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:E,children:Object(N.jsx)("span",{children:Object(v.translateWithI18Next)("makeItACombo")})})});return Object(N.jsx)("div",{className:"pdp-receipt-card",children:Object(N.jsxs)("form",{className:"pdp-receipt-form",children:[Object(N.jsx)("div",{className:"pdp-receipt-header",children:o(t)}),Object(N.jsx)("img",{className:"pdp-summary-vegOrNonVeg-icon",src:(L=i,P=l,w=n,L?w:P),alt:"PDP Summary"}),Object(N.jsxs)("div",{className:"pdp-receipt-veg",children:[T(i)," \u2022 Serves 4"]}),Object(N.jsxs)(a.a.Fragment,{children:[Object(N.jsxs)("div",{className:"pdp-receipt-list",children:[y,A]}),_,R]})]})});var L,P,w}const x=a.a.memo(E);var D=o(1099),y=o(235),A=o(61),_=o(35),R=o(15),L=o(396),P=o(0);const w=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name";var M=e=>{var t;const{pdpData:o,addtoCartClinckHandler:a,customModGrps:r={},modifiedPrice:s,categoryId:c,isIpad:u,comboData:O,categoryName:m,categoryUrl:b}=e,{id:j,additionalProperties:p={},customizable:h=!1,availability:I,modgrps:f}=o||{},{ITEM_QUANTITY:C}=y.a,{QUANTITY_ACTION:T}=A.a,{EXPAND_ACCORDIAN:E,IS_OUT_OF_STOCK:M,IS_IN_STOCK:k}=g.a,{Non_veg_dot_Icon:F,Veg_dot_Icon:U,PDPEditIcon:H,PDPEditIconDisabled:B}=R.a,[W,G]=Object(i.useState)(Object(d.de)(window.innerWidth)),[V,Y]=Object(i.useState)(),[z,K]=Object(i.useState)(1),[q,J]=Object(i.useState)(k),Q=Object(l.b)(),X=Object(l.c)((e=>e.tenantReducer)),Z=Object(l.c)((e=>e.appStateReducer.userStatus)),$=Object(l.c)((e=>e.cartReducer)),{cartData:ee={}}=$||{},{web:{global:{showPriceWithTax:te=!1}={}}={}}=null!==(t=null===X||void 0===X?void 0:X.componentOptions)&&void 0!==t?t:{},{veg:oe}=p,ie=()=>{const e=Object(d.de)(window.innerWidth);G(e)},{userOrderState:ae,userOrderStateDispatch:le}=Object(i.useContext)(n.a),{pdpScreenCommons:{currentAccordian:ne},timeBasedCetegory:de}=ae;Object(i.useEffect)((()=>{Object(d.hb)(null===r||void 0===r?void 0:r.length,null===f||void 0===f?void 0:f.length)&&Y(f[0].id)}),[r,f]),Object(i.useEffect)((()=>{window.addEventListener("resize",ie)}),[W]);const re=(e,t)=>{if(q===M)return!1;e&&(e.preventDefault(),e.stopPropagation()),le({type:E,value:t});const o=document.getElementById("accordion-"+t);null===o||void 0===o||o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),Y(t)};Object(i.useEffect)((()=>()=>{le({type:E,value:""})}),[]),Object(i.useEffect)((()=>{ne&&re(null,ne)}),[ne]);const se=e=>{if(e.preventDefault(),Z.localized){let e=Object(d.ad)(h,r,[]);Q(Object(_.a)({params:{basketId:ee.id},tenantId:null===X||void 0===X?void 0:X.tenantId},[{Id:j,categoryId:c,quantity:z,modGrps:e,categoryName:m,categoryUrl:b}])),K(1)}else a()},ce=(e,t,o)=>{o.preventDefault(),o.stopPropagation(),t===T.Decrease&&z>1&&K(z-1),t===T.Increase&&K(z+1)},ue=(e,t)=>{let o;if(Object(d.Td)(e)&&(o=Object(d.Fc)(e,t,null===X||void 0===X?void 0:X.currencyConversionFactor,te)),h)o=e;else if(0===o)return J(M),Object(v.translateWithI18Next)("outOfStock");let i=z*o;return"".concat(null===X||void 0===X?void 0:X.currencySymbol," ").concat(Math.round(100*i)/100)};return Object(d.Td)(o)?Object(N.jsx)(x,{"data-testid":"pdp-summary-view",pdpData:o,getDname:w,veg:oe,Non_veg_dot_Icon:F,Veg_dot_Icon:U,modgrps:f,customizable:h,isActive:V,itemStatus:q,IS_OUT_OF_STOCK:M,setAsActiveLink:re,PDPEditIconDisabled:B,PDPEditIcon:H,isMobile:W,isIpad:u,quantityUpdateTemplate:()=>Object(N.jsx)("div",{className:"quantityAddtocart qty-calc mg-set ".concat(z?"cardwithQuantity "+Z.loggedIn:"cardwithNoquantity"),children:Object(N.jsx)(D.a,{itemCount:z,itemQuantity:C,updateItemQuantity:ce,quantityAction:T,item:void 0,itemName:w(o),maxItemCountPerLineItem:null===X||void 0===X?void 0:X.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})}),addToCartTemplate:()=>Object(N.jsx)(S.a,{tabIndex:"1",className:"button redButton pdp-cart-button","data-testid":"add-to-cart-handler",onClick:e=>(e=>{if(e.preventDefault(),null!==de&&void 0!==de&&de.isTimeExpired){const t=Object(L.d)(j,de);if(Object(L.c)({categoryUrl:b,itemInCart:t,categoryId:c,alertType:Object(L.j)(null===de||void 0===de?void 0:de.timebasedItemInCart,null===P.Sb||void 0===P.Sb?void 0:P.Sb.ITEM)},de,le))return;se(e)}return se(e)})(e),disabled:q===M,children:q===M?Object(N.jsx)("span",{className:"outofstock",children:Object(v.translateWithI18Next)("outOfStock")}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:Object(v.translateWithI18Next)("addToCart")}),I&&I.length&&Object(N.jsx)("span",{children:Object(d.ad)(h,ue(s),ue(I[0],null===p||void 0===p?void 0:p.pricewithouttax))})]})}),makeItComboHandler:e=>{if(q===M)return!1;e.preventDefault()},comboData:O}):Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.translateWithI18Next)("turnedNoResult")})},k=o(46);var F=e=>{const{longDescription:t,isMobile:o,tenantData:a}=e,{SHORT:l,READ_MORE:n,READ_LESS:r,LONG:s,INDIA:c,MAX_LENGTH_READ:u}=g.a,[O,m]=Object(i.useState)(""),[b,j]=Object(i.useState)(l),{StripsIcon:p}=R.a;Object(i.useEffect)((()=>{null!==t&&void 0!==t&&t.length&&m(t[0].value)}),[t]);const h=()=>{j(b===l?s:l)};return Object(N.jsxs)("div",{className:"pdp-desc",children:[Object(N.jsx)("div",{className:"d-flex pdp-custm-container-in mb-4",children:Object(N.jsx)(k.a,{srcFile:p,className:"stripes-img stripes-img-in"})}),Object(N.jsxs)("span",{className:"pdp-desc-header",children:[" ",U(v.translateWithI18Next,a,c)," "]}),o?Object(N.jsxs)("div",{className:"desc-box desc-in",children:[b===l?Object(d.Hf)(O,u,!1):O,Object(N.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:h,children:b===l?Object(v.translateWithI18Next)(n):Object(v.translateWithI18Next)(r)})]}):Object(N.jsx)("div",{className:"desc-box",children:O})]})};function U(e,t,o){return(null===t||void 0===t?void 0:t.country)===o?e("insideYourMeal"):e("mealOptions")}var H=o(1125),B=o(16),W=o(263);var G=e=>{const{redirectLink:t}=e,[o,a]=Object(i.useState)(!1),[l,n]=Object(i.useState)(0);Object(i.useEffect)((()=>{const e=()=>{let e=document.documentElement.scrollTop;a(!(e<100)),n(e<=0?0:e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[l]);return Object(N.jsxs)(W.a,{href:t,className:"".concat(o?"floating view_menu_link":"view_menu_link"),spy:!0,"data-testid":"viewMenu-test-id",children:[Object(N.jsxs)("span",{className:"grid-icon grid-icon--line2",children:[Object(N.jsxs)("span",{class:"layer layer--primary",children:[Object(N.jsx)("span",{}),Object(N.jsx)("span",{})]}),Object(N.jsxs)("span",{class:"layer layer--secondary",children:[Object(N.jsx)("span",{}),Object(N.jsx)("span",{})]})]}),Object(N.jsx)("label",{className:"view_menu",children:(()=>{let e=Object(v.translateWithI18Next)("view"),t=Object(v.translateWithI18Next)("menuTitle");return"".concat(e," ").concat(t)})()})]})},V=o(1241),Y=o(970);const z=e=>"pdp-desc-container pdp-desc-container-in ".concat(e?"mobile":""),K=(e,t,o,i)=>Object(N.jsxs)(N.Fragment,{children:[!e&&Object(N.jsx)(G,{redirectLink:"/menu"}),Object(N.jsx)(k.a,{defaultPath:Object(d.bc)(null,o,!0),srcFile:Object(d.bc)(t.imageName,o),className:"".concat(i?"pdp-product-mobile-image":"pdp-product-image")})]});var q=e=>{const{productDetails:t,tenantData:o,isMobile:a,displayBreadcrumbPDP:r,isIpad:s,product_name:c}=e,{ADD_TO_CART_CLICK:u,DISPOSITION_DATA:O}=B.a,{CUSTM_EXPAND_TYPE:m,MAKE_IT_COMBO_HEADER:b,MAKE_IT_COMBO_SUBHEADER:j,UPSELL:p,CROSSELL:h,PDP:S}=g.a,{RECOMMENDED_HEADER_TITLE:I}=Y.RECOMMENDED_CONSTANTS,{isFromPlp:f=!1}=Object(d.sd)(t),[C,T]=Object(i.useState)({}),[E,x]=Object(i.useState)(),[D,y]=Object(i.useState)(0),[A,_]=Object(i.useState)([]),[R,L]=Object(i.useState)([]),[P,w]=Object(i.useState)({}),{userOrderStateDispatch:k}=Object(i.useContext)(n.a),U=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t}));Object(i.useEffect)((()=>{k({type:m,value:"single"})}),[]),Object(i.useEffect)((()=>{if(Object(d.hb)(Object(d.Td)(U),(null===U||void 0===U?void 0:U.url)===c)){const{additionalProperties:e}=U,o=Object(d.ve)(e)||{};T({...U,additionalProperties:o,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:t.catalogName,itemId:t.productId});let i=((e,t,o)=>{let i={combo:[],recommendation:[]};if(Object(d.pc)(e)){let a=e.find((e=>{let{recommendationType:o}=e;return o===t})),l=e.find((e=>{let{recommendationType:t}=e;return t===o}));i.combo=Object(d.ad)(Object(d.Td)(a),null===a||void 0===a?void 0:a.recommendedItems,[]),i.recommendation=Object(d.ad)(Object(d.Td)(l),null===l||void 0===l?void 0:l.recommendedItems,[])}return i})(null===U||void 0===U?void 0:U.recommendationRules,p,h);_(i.combo),L(i.recommendation),w(U)}}),[JSON.stringify(U)]);const W=(e,t,i,a,l)=>Object(N.jsx)(V.a,{products:t,country:null===o||void 0===o?void 0:o.country,cssClass:l,header:i,subHeader:a,recommendedRule:e,source:S}),G=()=>{k({type:O,value:{showDisposition:!0}}),k({type:u,value:{addToCart:!0,productItemId:t.productId,categoryId:t.categoryId,oldProduct:t.productInfo,customizable:t.customizable,catalogs:t.catalogName,fromPdpPage:!0}})},q=()=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(M,{pdpData:C,isMobile:a,isIpad:s,addtoCartClinckHandler:G,customModGrps:E,modifiedPrice:D,categoryId:t.categoryId,comboData:null===A||void 0===A?void 0:A.length,categoryName:t.categoryName,categoryUrl:t.categoryUrl})});return Object(d.Td)(C)&&Object(d.Td)(P)&&Object(d.Td)(o)?Object(N.jsxs)(N.Fragment,{children:[!a&&Object(N.jsx)("div",{className:"pdp-navigation",children:r}),Object(N.jsxs)("div",{className:(J=a,"".concat(J?"pdp-mobile-container ":"pdp-details-container")),children:[!a&&Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("div",{className:"image-container",children:K(f,C,o,a)}),P.modgrps&&q()]}),a&&Object(N.jsxs)("div",{className:"pdp-mobile-image-container",children:[K(f,C,o,a),Object(N.jsx)("div",{className:"pdp-mobile-navigation",children:r}),P.modgrps&&q()]})]}),Object(N.jsx)("div",{className:z(a),children:!!Object(d.Td)(P)&&Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(F,{shortDescription:P.shortDescription,longDescription:P.longDescription,isMobile:a,tenantData:o})})}),C.customizable&&Object(N.jsx)("div",{className:"pdp-custm-container ".concat(Object(d.ad)(a,"mobile","")," pdp-custm-container-in"),children:Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(H.a,{data:P,isModal:!1,showPriceContent:!1,isMobile:a,callBackToPDP:e=>{const{modifierGrp:t={},modifiedItemPrice:o=0}=e;x(t),y(o)},source:S})})}),Object(d.hb)((null===A||void 0===A?void 0:A.length)>0,!P.customizable)&&W(p,A,Object(v.translateWithI18Next)(b),Object(v.translateWithI18Next)(j),"pdp-combo"),(null===R||void 0===R?void 0:R.length)>0&&W(h,R,I,"","pdp-recommendations")]}):Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.translateWithI18Next)("turnedNoResult")});var J},J=o(87),Q=o(272),X=o(1143),Z=o(1232),$=o(1219),ee=o(62),te=o(20),oe=o.n(te),ie=o(1226),ae=o(71),le=o(193),ne=o(132),de=o(80),re=(o(402),o(120));const se=(e,t,o,i)=>{var a,l,n,r,s,c;const u=null!==(a=null===o||void 0===o||null===(l=o.categoryMapById)||void 0===l?void 0:l[e])&&void 0!==a?a:{},v=u?Object(d.Qb)(u,o,[null===u||void 0===u?void 0:u.name],i):"",O=null!==(n=null===o||void 0===o||null===(r=o.itemMapById)||void 0===r?void 0:r[t])&&void 0!==n?n:{};return Object(d.hb)(u,O)?"".concat(v," > ").concat(null===O||void 0===O||null===(s=O.dname)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.value):""},ce=e=>{let{productObject:t,tenantObject:o,isMobile:i,category_id:a,product_id:l,product_name:n,flatResponse:d,isStoreClosed:r,catalogs:s,isIpad:c}=e;return Object(N.jsx)("div",{className:"pdp-container",children:t&&(null===o||void 0===o?void 0:o.tenantId)&&Object(N.jsx)(q,{tenantData:o,isIpad:c,productDetails:t,isMobile:i,displayBreadcrumbPDP:se(a,l,d,s),isStoreClosed:r,product_name:n})})};var ue=e=>{var t,o,a,r,s;const{tenantData:c,contentData:u,match:S,history:I,setStoreClosedInfo:f,isDeeplinkFlagAddToCart:C}=e,{params:T}=S,{category_name:E="",product_name:x=""}=T,{storeInfo:D,dispositionType:y,catalogs:A}=u,{showErrorMessageForHiddenCatogary:R,tenantId:L,currencyConversionFactor:P,country:w,componentOptions:M={web:{pdp:{}}}}=c,{selectedTime:k,selectedDate:F}=u,{web:{pdp:{showLegalInfo:U=!1},shouldCheckDropOffAddress:H=!1}}=M,{SET_PDP_DEEPLINK_MODE:W,RESET_MODGROUP_IDS_UPDATE:G,PDP_ITEM_UPSIZE_ID:V,YYYYMMDD:Y,YYYYMMDD_hhmm_A:z}=g.a,{PLP_PDP_DETAILS:K,CLOSED:q,MENU_URL:te}=B.a,{userOrderStateDispatch:se,userOrderState:ue}=Object(i.useContext)(n.a),{pdpDeepLinking:ve,ProductDetails:Oe,pdpItemUpsizeId:me,isFromMultiProductViewModal:be,isFromRecommendedSectionItemClick:je,scheduleOrderData:pe,pdpDataForUpdateFoodLine:he}=ue,{changeFlow:ge=!1,isAddressFlow:Se=!1}=pe,{isFromPlp:Ie=!1}=Object(d.sd)(Oe),[fe,Ne]=Object(i.useState)(Object(d.de)(window.innerWidth)),[Ce,Te]=Object(i.useState)(Object(d.be)()),[Ee,xe]=Object(i.useState)(""),[De,ye]=Object(i.useState)(""),Ae=Object(i.useMemo)((()=>Object(d.Td)(Oe)?Oe:{}),[Oe]),{SERVICE_CHANNEL:_e}=p.default,Re=Object(d.ud)(null===D||void 0===D?void 0:D.id),Le=y,Pe=Object(l.b)(),{menuReducer:{flatResponse:we,currentItemDetails:Me},menuReducer:ke}=Object(l.c)((e=>e)),Fe=Object(l.c)((e=>e.storesReducer)),{storesTimeSlots:Ue,storesWithStatus:He}=Fe,{cartReducer:Be}=Object(l.c)((e=>e)),{cartData:We={}}=Object(d.sd)(Be),[Ge,Ve]=Object(i.useState)(),Ye=Object(ne.b)(de.b),ze=Object(ee.h)(),Ke=null===ke||void 0===ke?void 0:ke.exclusionsResponse,qe=(null===He||void 0===He||null===(t=He[0])||void 0===t||null===(o=t.summary)||void 0===o||null===(a=o.menu)||void 0===a||null===(r=a.catalogs)||void 0===r?void 0:r[0])||A,Je=()=>{const e=Object(d.de)(window.innerWidth),t=Object(d.be)();Ne(e),Te(t)};Object(i.useEffect)((()=>{if(se({type:G}),window.scrollTo(0,0),se({type:W,value:{pdpDeepLinking:!Ie}}),Object(d.hb)(F,k)){const e=Object(X.b)(k),t=Object(j.A)(Object(j.h)(F,Y)+" "+e,z),o={storeid:Re,channel:b.b.channel,service:Le,futureDateTimeInEpochFormat:isNaN(t)?"":t};Pe(Object(m.n)({data:o,tenantId:L}))}(e=>{if(e){var t,o,i;const a=[{item_name:(null===e||void 0===e||null===(t=e.productInfo)||void 0===t||null===(o=t.productName[0])||void 0===o?void 0:o.value)||"NA",item_id:(null===e||void 0===e?void 0:e.productId)||"NA",price:(null===e||void 0===e||null===(i=e.productInfo)||void 0===i?void 0:i.productPrice)||"NA",item_category:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_name:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_id:(null===e||void 0===e?void 0:e.categoryId)||"NA",index:1,quantity:1}];Object(J.i)(a)}})(Ae)}),[]),Object(i.useEffect)((()=>{if(Object(d.Td)(Ue)){var e,t,o;const i={...D,summary:Ue},{futureDates:a,scheduled:l,asap:n}=Object(d.sd)(null===i||void 0===i||null===(e=i.summary)||void 0===e?void 0:e.timings),{unavailibilities:r}=Object(d.sd)(l),{interval:s=0,startEndTime:c={}}=Object(d.sd)((null===l||void 0===l||null===(t=l.periods)||void 0===t?void 0:t.length)&&(null===l||void 0===l?void 0:l.periods[0])),{from:u,to:v}=c,O=Object(h.a)(u,v,s,n,a,w,r);(null===Ue||void 0===Ue||null===(o=Ue.status)||void 0===o?void 0:o.currentStatus)!==q||O.length?Ve(!1):(f(i),Ve(!0),I.push({pathname:"".concat(te)}))}}),[Ue,null===ue||void 0===ue?void 0:ue.isDeepLinkURL]);Object(i.useEffect)((()=>{var e;(((e,t,o)=>e===(null===o||void 0===o?void 0:o.genericMenuName)||e&&t)(qe,Le,c)&&Pe(Object(O.d)({tenantId:L,catalogName:qe},{storeId:Re,channel:_e,service:Le})),Re&&Le&&!Ie)&&((e,t)=>{const o={data:Object(d.C)(e,t,null,H,null===Ye||void 0===Ye?void 0:Ye.latLong),store:e,tenantId:L,setStatusFlag:!1,isFavoritePage:!1};Pe(Object(m.d)(o))})([D],Object(d.Mb)(null===(e=Object(re.i)(ge,Se,Le))||void 0===e?void 0:e.dispositionValue));((e,t,o,i,a)=>{if(!Object(d.Td)(i)){let i=!1;if(Object(d.pc)(e)&&o){var l,n,r;let a=e.filter((e=>e.storeId===o||e.id===o));i=!(!Object(d.pc)(a)||(null===(l=a[0])||void 0===l||null===(n=l.summary)||void 0===n||null===(r=n.status)||void 0===r?void 0:r.currentStatus)!==t)}a(i)}})(He,q,Re,Ue,Ve)}),[Re,Le]),Object(i.useEffect)((()=>{if(""!==Ee&&Object(d.jb)(Object(d.hb)(Ee===(null===Me||void 0===Me?void 0:Me.id),ve),me===(null===Me||void 0===Me?void 0:Me.id))){var e;let t={productImage:null===Me||void 0===Me?void 0:Me.imageName,productName:null===Me||void 0===Me?void 0:Me.dname,productPrice:Object(d.Ec)(null===Me||void 0===Me?void 0:Me.availability[0],P)};const o={productId:null===Me||void 0===Me?void 0:Me.id,customizable:null===Me||void 0===Me?void 0:Me.customizable,categoryId:De,catalogName:null===ke||void 0===ke||null===(e=ke.response)||void 0===e?void 0:e.id,productInfo:t,isFromPlp:Ie};se({type:K,value:o})}}),[JSON.stringify(Me),Ee]),Object(i.useEffect)((()=>{if(C&&null!==ue&&void 0!==ue&&ue.ProductDetails&&!Ge){const e=null===ue||void 0===ue?void 0:ue.ProductDetails,{customizable:t}=e;t||Pe(Object(_.a)({params:{basketId:null===We||void 0===We?void 0:We.id},tenantId:L},[{Id:null===e||void 0===e?void 0:e.productId,quantity:1,modGrps:[]}],(()=>{Object(d.Bd)(I)})))}}),[null===ue||void 0===ue?void 0:ue.ProductDetails,C]);const[Qe,Xe]=Object(i.useState)(!1),{isBrandPageContentLoading:Ze,brandRoutePath:$e}=Object(l.c)((e=>{let{brandPageReducer:t}=e;const{isBrandPageContentLoading:o=!1,response:{headerData:{routePath:i}={}}={}}=null!==t&&void 0!==t?t:{};return{isBrandPageContentLoading:o,brandRoutePath:i}}));return Object(i.useEffect)((()=>{if(Object(d.Td)(we)){const e=((e,t,o)=>{var i;const{flatResponse:a,category_name:l,product_name:n,isFromMultiProductViewModal:r,productIdFromDetails:s,cartData:c,pdpDataForUpdateFoodLine:u,exclusionsResponse:v}=e;let O="",m="",b=[],j="";const{categoryMapByUrl:p={}}=a,h=null===p||void 0===p?void 0:p[l],g=null===h||void 0===h||null===(i=h.productMapByProductUrl)||void 0===i?void 0:i[n],S=null!==t&&void 0!==t&&t&&((null===g||void 0===g?void 0:g.isHidden)||(null===h||void 0===h?void 0:h.isHidden)),I=Object(d.n)(s,v,"");if(t&&(oe()(h)||oe()(g)||I)&&Object(d.Bd)(o),oe()(h)||oe()(g)||S)return Object(d.Bd)(o),!1;if(Object(d.Td)(g)){const e=Object.values(g.itemMapByItemId);O=((e,t,o,i,a)=>{if(null!==a&&void 0!==a&&a.foodLineId){var l,n;let e=null===a||void 0===a?void 0:a.foodLineId,t=null===i||void 0===i||null===(l=i.foodLines)||void 0===l?void 0:l.find((t=>{let{id:o}=t;return o===e}));return null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id}var d,r;return t?o||(null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.id):null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.id})(e,r,s,c,u),m=g.dname,b=e,j=g.url}return{id:O,name:m,items:b,url:j,categoryName:null===h||void 0===h?void 0:h.name,categoryId:null===h||void 0===h?void 0:h.id}})({flatResponse:we,category_name:E,product_name:x,isFromMultiProductViewModal:be,isFromRecommendedSectionItemClick:je,productIdFromDetails:null===Ae||void 0===Ae?void 0:Ae.productId,cartData:We,pdpDataForUpdateFoodLine:he,exclusionsResponse:null===ke||void 0===ke?void 0:ke.exclusionsResponse,showErrorMessageForHiddenCatogary:R},null===ue||void 0===ue?void 0:ue.isDeepLinkURL,I),{categoryId:t="",id:o}=e,i=o;i?(ye(t),xe(i),se({type:V,value:{pdpItemUpsizeId:i}}),Pe(Object(O.c)({tenantId:L,catalogName:qe,itemId:i}))):ve&&!Qe&&null!==ze&&void 0!==ze&&ze.pathname&&(Xe(!1),Pe(Object(Q.c)({object:Object(ae.a)(),contentFull:{content_type:le.c.Template2,select:"sys.id,fields","fields.routePath":null===ze||void 0===ze?void 0:ze.pathname,include:5}})))}}),[JSON.stringify(we),ve,x,Ke]),Object(i.useEffect)((()=>{Qe&&!Ze&&oe()($e)&&(I.push({pathname:"".concat(te)}),Object(d.Cf)(Object(v.translateWithI18Next)("exploreFoodItem")))}),[Qe,Ze,$e]),Object(i.useEffect)((()=>{window.addEventListener("resize",Je)}),[Ee]),Object(i.useEffect)((()=>{window.addEventListener("resize",Je)}),[fe,Ce]),$e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ie.b,{routePath:null===ze||void 0===ze?void 0:ze.pathname,hideNav:!0,...e}),";"]}):Object(N.jsxs)(N.Fragment,{children:[ce({productObject:Ae,tenantObject:c,isMobile:fe,category_id:De,product_id:Ee,product_name:x,flatResponse:we,isStoreClosed:Ge,catalogs:A,isIpad:Ce}),ue.addToCart&&ue.isLocalized&&ue.fromPdpPage&&Object(N.jsx)(Z.a,{flatResponse:we,tenantReducer:c}),(null===(s=ue.cartAlertData)||void 0===s?void 0:s.showCartAlert)&&Object(N.jsx)($.a,{})]})},ve=o(1101),Oe=o(328),me=o(1110);const be=(e,t,o,i)=>{var a;const l=null===t||void 0===t?void 0:t[o],n=null===l||void 0===l||null===(a=l.productMapByProductUrl)||void 0===a?void 0:a[i];if(l&&n){var r,s,c;const{dname:[{value:t}={}]=[],shortDescription:[{value:i}={}]=[],imageName:a,imageObj:u=[],content:v}=null!==n&&void 0!==n?n:{},O=a||Object(d.bc)(u,e),{shortDescription:m=i,image:{mainImage:b=O}={}}=v||{},j=P.me,{dname:[{value:p}={}]=[]}=null!==l&&void 0!==l?l:{};return{seoPageName:j,seoObject:{Category:p,CategoryURL:"".concat(null!==(r=null===(s=window)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.origin)&&void 0!==r?r:"/","/menu/").concat(o),Product:t,ProductDescription:m,ProductImage:b}}}},je=e=>{var t,o,i;const{storesWithStatus:a,userOrderStateDispatch:l,userParams:n,qParams:r,tenantReducer:s,history:c,setDeeplinkFlagAddToCart:u,params:v,dispatch:O,dispositionNew:m}=e;if((null===a||void 0===a||null===(t=a[0])||void 0===t||null===(o=t.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)!==B.a.CLOSED){const e=Object(d.ad)((null===r||void 0===r?void 0:r.action)===P.k,!0,!1);if(l({type:B.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==n&&void 0!==n&&n.localized)if(null!==n&&void 0!==n&&n.localized){var b;Object(d.jb)((null===v||void 0===v||null===(b=v.storeInfo)||void 0===b?void 0:b.id)!==(null===r||void 0===r?void 0:r.storeid),Object(d.rf)(m.type)!==Object(d.rf)(null===r||void 0===r?void 0:r.ordertype))?Object(d.Bd)(c):u(e)}else Object(d.Bd)(c);else Object(d.ye)({dispatch:O,service:null===r||void 0===r?void 0:r.ordertype,storeId:null===r||void 0===r?void 0:r.storeid,tenantId:null===s||void 0===s?void 0:s.tenantId,userOrderStateDispatch:l,userParams:n,shouldCheckDropOffAddress:!1,history:c}),u(e)}else l({type:B.a.DISPOSITION_DATA,value:{showDisposition:!0}})},pe=(e,t,o,i,a,l,n,r)=>{var s,c,u;if(o({type:B.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==e&&void 0!==e&&e.localized){if(null!==e&&void 0!==e&&e.localized&&(null===a||void 0===a?void 0:a.ordertype)!==P.Ed){var v,O,m,b,j,p;if((null===t||void 0===t||null===(v=t[0])||void 0===v||null===(O=v.summary)||void 0===O||null===(m=O.status)||void 0===m?void 0:m.currentStatus)===B.a.CLOSED&&o({type:B.a.DISPOSITION_DATA,value:{showDisposition:!0}}),(null===t||void 0===t||null===(b=t[0])||void 0===b||null===(j=b.summary)||void 0===j||null===(p=j.status)||void 0===p?void 0:p.currentStatus)!==B.a.CLOSED){const t=Object(d.ad)((null===a||void 0===a?void 0:a.action)===P.k,!0,!1);var h;if(null!==e&&void 0!==e&&e.localized)Object(d.jb)((null===n||void 0===n||null===(h=n.storeInfo)||void 0===h?void 0:h.id)!==(null===a||void 0===a?void 0:a.storeid),Object(d.rf)(r.type)!==Object(d.rf)(null===a||void 0===a?void 0:a.ordertype))?Object(d.Bd)(i):l(t);else Object(d.Bd)(i)}}}else(null===t||void 0===t||null===(s=t[0])||void 0===s||null===(c=s.summary)||void 0===c||null===(u=c.status)||void 0===u?void 0:u.currentStatus)!==B.a.CLOSED?o({type:B.a.DISPOSITION_DATA,value:{showDisposition:!0}}):Object(d.Bd)(i)};t.default=e=>{var t,o,v;const{userOrderState:O,userOrderStateDispatch:m}=Object(i.useContext)(n.a),b=Object(l.c)((e=>e.tenantReducer)),{flatResponse:{categoryMapByUrl:j={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{category_name:p,product_name:h}=Object(ee.i)(),[g,S]=Object(i.useState)(P.me),[I,f]=Object(i.useState)(),C=Object(l.c)((e=>e.storesReducer)),[T,E]=Object(i.useState)(!1),{storesWithStatus:x}=C,D=Object(d.ad)(Object(d.Sd)(null===O||void 0===O?void 0:O.dispositionNew),JSON.parse(localStorage.getItem(P.gd.DISPOSITION_NEW)),null===O||void 0===O?void 0:O.dispositionNew),y=Object(i.useMemo)((()=>{var e,t;return{tenantReducer:null!==b&&void 0!==b?b:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===D||void 0===D?void 0:D.store)&&void 0!==e?e:{},selectedDate:null===D||void 0===D?void 0:D.date,selectedTime:null===D||void 0===D?void 0:D.time,dispositionType:Object(d.Mb)((null===D||void 0===D?void 0:D.type)||(null===(t=b.authoredContent)||void 0===t?void 0:t.defaultdisposition)),selectedTile:(null===O||void 0===O?void 0:O.selectedTile)||JSON.parse(localStorage.getItem("selectedTile"))}}),[D,b,O]),{pdpDeepLinking:A}=O;let _=null,R=null,L=null;const{DISPOSITION:w}=s,M=Object(l.b)(),k=Object(ee.h)(),F=Object(ee.g)();let U=Object(l.c)((e=>e.appStateReducer.userStatus));Object(i.useEffect)((()=>{var e;const t=null===k||void 0===k||null===(e=k.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t),o=Object.fromEntries(e.entries());(Object(d.ge)(null===o||void 0===o?void 0:o.ordertype)&&null!==o&&void 0!==o&&o.storeid||Object(d.Od)(null===o||void 0===o?void 0:o.ordertype)&&null!==o&&void 0!==o&&o.storeid)&&je({storesWithStatus:x,userOrderStateDispatch:m,userParams:U,qParams:o,tenantReducer:b,history:F,setDeeplinkFlagAddToCart:E,params:y,dispatch:M,dispositionNew:D}),(Object(d.Jd)(null===o||void 0===o?void 0:o.ordertype)&&null!==o&&void 0!==o&&o.storeid||(null===o||void 0===o?void 0:o.ordertype)===P.Ed)&&pe(U,x,m,F,o,E,y,D)}}),[]),Object(i.useEffect)((()=>{M(Object(Oe.l)(b))}),[M,null===b||void 0===b?void 0:b.country]),Object(i.useEffect)((()=>{M(Object(Oe.c)(U))}),[M,U]),Object(i.useEffect)((()=>{var e;const{seoPageName:t,seoObject:o}=null!==(e=be(b,j,p,h))&&void 0!==e?e:{};S(t),f(o)}),[p,h,JSON.stringify(j)]);const H=Object(l.c)((e=>({homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantReducerContent:e.tenantReducer})));if(H.marketPageContent&&H.tenantReducerContent&&H.homePageContent){_=Object(d.fc)(H.homePageContent)||null;const{header:e={},footer:t={}}=H.marketPageContent.headerData||{};R=Object(d.gc)(e),L=Object(d.Wb)(t)}return Object(N.jsxs)(a.a.Fragment,{children:[g&&Object(N.jsx)(me.a,{page:g,seoObj:I}),R&&!A&&Object(N.jsx)(u.a,{contentData:R,tenantReducerData:H.tenantReducerContent,userParams:U}),!A&&Object(N.jsx)(r.a,{contentData:{segmentedHomePageData:null===(o=_)||void 0===o?void 0:o[w],contentDispositionData:null===(v=_)||void 0===v?void 0:v[w]},userParams:U}),Object(N.jsx)(ue,{tenantData:b,contentData:y,...e,setStoreClosedInfo:e=>{Object(d.wf)(e,m,D,Object(d.Jb)(y.dispositionType))},isDeeplinkFlagAddToCart:T}),L&&!A&&Object(N.jsx)(c.a,{history:e.history,contentData:L,tenantReducerData:H.tenantReducerContent}),O.showCartClearAlert&&Object(N.jsx)(ve.a,{})]})}},977:function(e,t,o){"use strict";o.r(t),o.d(t,"getModgrpBySelectedModifier",(function(){return L}));var i=o(3),a=o.n(i),l=o(75),n=o.n(l),d=o(28),r=o(1222),s=o(85),c=o(41),u=o(6),v=o(5),O=o(1223),m=o(1224),b=o(1106),j=o(1095),p=o(262),h=o(4),g=o(2);var S=e=>{const{grouplist:t=[],tenantData:o,isModal:l,isStoreClosed:n,localized:r=!0,catalog:c}=e,{HASH_SYMBOL:S}=p.a,{componentOptions:I={web:{pdp:{}}},currencyConversionFactor:f,currencySymbol:N}=o,{web:{pdp:{productCustomizationAccordionDefaultOpen:C,showMaxBadge:T}}}=I,[E,x]=Object(i.useState)(JSON.parse(JSON.stringify(t))),D=Object(d.c)((e=>e.cartReducer)),{MAX_TAG:y}=b.a,{CUSTOM:A}=h.a,_=Object(i.useRef)([]),{userOrderState:R}=Object(i.useContext)(s.a),{pdpPayloadData:L,sopacPDPCustomization:P}=R,{isItemAdded:w=!1}=Object(v.sd)(D);Object(i.useEffect)((()=>{Object(m.c)(t,x,C)}),[JSON.stringify(t)]),Object(i.useEffect)((()=>{!l&&Object(m.c)(t,x,C)}),[w,c]);const M=(e,t)=>{const{showCustomizationModId:o="",showCustomizationModGrpId:i=""}=P;return e?"".concat(i).concat(S).concat(o).concat(S).concat(t):"".concat(t)},k=(e,t,o,i)=>{let a=M(l,e),n=t&&o>1;return Object(j.y)(L,a,f,n,N,i)};return E.map(((e,t)=>{var i;let{id:d,name:s,modifiers:b,expanded:p,min:h,max:S,additionalProperties:I,dname:f}=e;const N=((e,t)=>{var o;let i=!1;const a=null!==(o=Object(j.q)(t,e))&&void 0!==o?o:{},{modifiers:l}=a;return l&&Object.entries(l).forEach((e=>{let[t,o]=e,a=null!==(null===(l=o)||void 0===l?void 0:l.newSelectedFlag)?null===l||void 0===l?void 0:l.newSelectedFlag:null===l||void 0===l?void 0:l.isSelected;var l;let n=null!==(null===o||void 0===o?void 0:o.newQuantity)?null===o||void 0===o?void 0:o.newQuantity:null===o||void 0===o?void 0:o.quantity,d=null!==o&&void 0!==o&&o.isInitialDefault?null===o||void 0===o?void 0:o.isInitialDefault:null===o||void 0===o?void 0:o.isDefault;(d!==a||!0===d&&(null===o||void 0===o?void 0:o.defaultQuantity)!==n)&&(i=!0)})),i})(M(l,d),L),C=((e,t,o,i)=>t&&Object(O.b)(e,i,o))(b,r,S,I),D=!C&&((e,t,o)=>{let i=Object(O.c)(o);return Object(v.j)([e,t,i])})(T,r,I),R=Object(j.d)(d,L);return Object(g.jsx)(a.a.Fragment,{children:Object(g.jsxs)("div",{className:"accordian-container ".concat(!p&&R?"accordian-container-highlight":""),id:"accordion-"+d,"data-testid":"product-listing-accordion-".concat(t),children:[Object(g.jsxs)("div",{className:"accordian-header",children:[Object(g.jsx)("div",{className:"".concat(p?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(d),onClick:e=>Object(m.d)(E,e,d,x,m.b),children:Object(g.jsxs)("div",{className:"textbadgecontainer",children:[Object(g.jsx)("span",{className:"accordion-test",children:null===f||void 0===f||null===(i=f[0])||void 0===i?void 0:i.value}),Object(g.jsxs)("div",{className:"badgeContainer",children:[D&&Object(g.jsx)("span",{className:"ml-2 maxBadge",children:"".concat(Object(u.translateWithI18Next)(y)," ").concat(S)}),N?Object(g.jsx)("span",{className:"updatedBadge-sopac",children:Object(u.translateWithI18Next)(A)}):null]})]})}),Object(g.jsx)("div",{className:"mod-group-sub-header selected-mod",children:k(d,C,S,o)})]}),Object(g.jsx)("div",{className:"".concat(p?"panel panel-active":"panel"),children:Object(g.jsx)(O.a,{tenantData:o,modifiers:b,modgrpData:{modgrpId:d,modGrpName:s,min:h,max:S,additionalProperties:I,modifierLength:b.length},modgroupPayloadData:_,isModal:l,isStoreClosed:n,catalog:c})})]})},t)}))},I=o(1132),f=o(15),N=o(46),C=o(16);const T=e=>{const{classNames:t,show:o,autoFocus:a,modalTitleId:l,childrenTemplate:n}=e,{AUTO:d,HIDDEN:r}=C.a;return Object(i.useEffect)((()=>(document.querySelector("body").style.overflow=r,()=>{document.querySelector("body").style.overflow=d}))),Object(g.jsx)("div",{show:o.toString(),className:t,autoFocus:a||!1,"data-testid":l,children:Object(g.jsx)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":l,role:"dialog",children:n})})};var E=e=>Object(g.jsx)(T,{...e});var x=e=>Object(g.jsx)(E,{onExitedCallback:e.onModalExitedCallback,...e}),D=o(1123),y=o(0);const A=e=>0!==e?"confirmButtonWithPrice":"";var _=e=>{const{data:t,confirmHandler:o,showPriceContent:l=!0,isModal:n,onDismissedSelection:r,isStoreClosed:O,localized:m,catalog:j}=e,{modgrps:h}=t,{CONFIRMBUTTONTXT:C}=I.a,T=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:E,currencyConversionFactor:_}=T,{userOrderState:R,userOrderStateDispatch:L}=Object(i.useContext)(s.a),{sopacPDPCustomization:P,pdpPayloadData:w,pdpAddtoCartConfirmButtonDisabled:M}=R,{updatedPrice:k=0}=P,{ErrorImage:F,PopupCloseBtn:U}=f.a,{SHOWTOASTALERT:H}=p.a,{DISMISS_CHANGES_ALERT_TEXT:B,DISMISS_SELECTIONS:W}=b.a,{PLUS:G,DASH:V}=y.R,Y=Object(g.jsxs)("div",{className:"img-text-div",children:[Object(g.jsxs)("div",{className:"text",children:[Object(g.jsxs)("div",{className:"titleImg-container",children:[Object(g.jsx)(N.a,{className:"error-image",srcFile:F}),Object(g.jsx)("p",{children:Object(u.translateWithI18Next)(B)})]}),Object(g.jsx)(c.a,{onClick:()=>r(w),className:"dismiss",children:Object(u.translateWithI18Next)(W)})]}),Object(g.jsxs)(c.a,{className:"custom-modal-close","data-testid":"custom-modal-close",onClick:()=>{L({type:H,value:!1})},children:[" ",Object(g.jsx)(N.a,{srcFile:U})]})]}),z=Object(g.jsx)(x,{id:"PDPToastAlert",role:"dialog",show:!0,classNames:"savedCustomizeClearAlert-modal",closeDataTestId:"handler-close",autoFocus:!0,childrenTemplate:Y});return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(g.jsx)("form",{className:"form",children:Object(v.pc)(h)?Object(g.jsx)(S,{grouplist:h,getSelectedModifiers:null,selectedModifiers:null,tenantData:T,isModal:n,isStoreClosed:O,localized:m,catalog:j}):null})}),l&&Object(g.jsx)("div",{className:"price-content price-content-sopac",children:Object(g.jsx)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:Object(g.jsxs)(c.a,{className:"button start-order-btn redButton  confirmButton ".concat(A(k)," ").concat(Object(D.b)(M)),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:o,disabled:Object(v.k)(M),children:[Object(g.jsx)("span",{children:Object(u.translateWithI18Next)(C)}),Object(v.ad)(0!==k,(e=>{const t=e>=0?e:e.toString().replace(/^-/,""),o="".concat(E).concat((e=>(e/_).toFixed(y.gg))(t));return Object(v.ad)(e>0,"".concat(G," ").concat(o),"".concat(V," ").concat(o))})(k),"")]})})}),R.showToastAlert&&z]})},R=o(974);const L=(e,t,o)=>{let i={};if(e){var a;let n=null===(a=e.modgrps)||void 0===a?void 0:a.find((e=>e.id===o));var l;if(Object(v.Td)(n))i=null===(l=n.modifiers)||void 0===l?void 0:l.find((e=>e.id===t))}return i};t.default=e=>{var t,o,a,l;const{isModal:c=!0,showPriceContent:O=!0,data:m={},isStoreClosed:b=!1,localized:S,catalog:I}=e,{PDP_PAYLOAD_DATA:f,SHOWTOASTALERT:N,RESET_SHOW_PDP_CUSTOM_MODAL:C,HASH_SYMBOL:T,SET_PDP_BUTTON_DISABLED:E}=p.a,{userOrderState:x,userOrderStateDispatch:D}=Object(i.useContext)(s.a),{pdpPayloadData:y,sopacPDPCustomization:A}=x,{showCustomizationModId:P="",showCustomizationModGrpId:w="",showCustomizationModGrpName:M=""}=A,k=Object(d.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),F=Object(v.Td)(m)?Object(R.filteredModGroups)(m):L(k,P,w),U=e=>{D({type:N,value:!1});let t=Object(j.D)(e,"".concat(w).concat(T).concat(P));D({type:f,value:t}),D({type:E,value:{}}),D({type:C})},H=e=>{e.stopPropagation(),e.preventDefault(),Object(j.f)(y,"".concat(w).concat(T).concat(P))?D({type:N,value:!0}):U(y)},B=Object(g.jsx)(_,{data:F,handleClose:H,confirmHandler:e=>{e.stopPropagation(),e.preventDefault();let t=Object(j.J)(y,"".concat(w).concat(T).concat(P));t=Object(j.D)(t,"".concat(w).concat(T).concat(P)),U(t)},showPriceContent:O,"data-testid":"product-listing-modal-enabled",isModal:c,isStoreClosed:b,localized:S,onDismissedSelection:U,catalog:I}),W=Object(g.jsx)(r.a,{handleClose:H,ProductListingModalForm:B,headerText:null===(t="".concat(null===(o=Object(u.translateWithI18Next)(h.a.CUSTOMISE_YOUR))||void 0===o?void 0:o.toLowerCase()," ").concat(null===M||void 0===M||null===(a=M[0])||void 0===a||null===(l=a.value)||void 0===l?void 0:l.toLowerCase()))||void 0===t?void 0:t.replace(/\b(\w)/g,(e=>null===e||void 0===e?void 0:e.toUpperCase())),"data-testid":"product-listing-inside-modal",closeDataTestId:"handle-close"}),G=Object(g.jsx)("div",{className:"pdp-custm-sopac",children:B});return c?n.a.createPortal(W,document.getElementById("modal-popups")):G}},986:function(e,t,o){"use strict";o.r(t),o.d(t,"startOrderComponentView",(function(){return Y})),o.d(t,"deepLinkWithPickupData",(function(){return z})),o.d(t,"deepLinkWithDeliveryData",(function(){return K}));var i=o(3),a=o.n(i),l=o(28),n=o(85),d=o(5),r=o(6),s=o(145),c=o(73),u=o(0),v=o(961),O=o(20),m=o.n(O),b=o(1242),j=o(262),p=o(1165),h=o(1098),g=o(16),S=o(1232),I=o(1219),f=o(977),N=o(92),C=o(106),T=o(15),E=o(120),x=o(397),D=o(402),y=o(1095),A=o(132),_=o(80),R=o(4),L=o(2);const P=(e,t,o,i)=>{var a;let l=null===(a=t.categoryMapById)||void 0===a?void 0:a[e.parentID];return l&&(o.push({text:l.name,url:l.url}),P(l,t,o,i)),o.slice().reverse()},w=(e,t,o)=>{var i,a,l;const n=null===t||void 0===t||null===(i=t.categoryMapById)||void 0===i?void 0:i[e];return n?P(n,t,[{text:null===(a=n.dname)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.value,url:n.url}],o):[]},M=e=>{var t,o;const{productObject:i,tenantObject:a,isMobile:l,category_id:n,product_name:d,flatResponse:r,isStoreClosed:s,catalogs:c,isIpad:u,segmentedHomePageData:v,selectedProduct:O,showLegalInfo:m,dispositionType:b,imageContainerSize:j,indulgentImageContainerSize:h,storesWithStatus:g,updatedFetchMenuPayload:S}=e,I=g&&(null===(t=g[0])||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timeZoneIANA);let f={tenantData:a,isIpad:u,productDetails:i,prodName:O.selectedProductName,prodItems:O.selectedProductItems,prodURL:O.url,categoryName:O.selectedCategoryName,categoryUrl:O.selectedCategoryUrl,isMobile:l,dispositionType:b,displayBreadcrumbPDP:w(n,r,c),isStoreClosed:s,product_name:d,segmentedHomePageData:v,showLegalInfo:m,storeTimeZone:I,imageContainerSize:j,indulgentImageContainerSize:h,updatedFetchMenuPayload:S,catalogs:c};return Object(L.jsx)("div",{className:"pdp-container pdp-container-sopac",children:i&&(null===a||void 0===a?void 0:a.tenantId)&&Object(L.jsx)(p.a,{menuPDPItemData:f})})};var k=e=>{var t,o,O,p,P,w,k,F,U,H,B,W;const{tenantData:G,contentData:V,match:Y,history:z,setStoreClosedInfo:K,segmentedHomePageData:q}=e,{params:J}=Y,{category_name:Q="",product_name:X=""}=J,{storeInfo:Z,dispositionType:$,catalogs:ee,isFromCatering:te}=V,{showErrorMessageForHiddenCatogary:oe,tenantId:ie,currencyConversionFactor:ae,allowHiddenMenuViaExternalUrl:le,country:ne,componentOptions:de={web:{pdp:{}}},currencyShortName:re}=G,se=Object(l.c)((e=>e.tenantReducer)),{enableScheduleOrder:ce=!1,enableClickCollectScheduleOrder:ue=!1}=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,ve=null!==(o=null===de||void 0===de||null===(O=de.web)||void 0===O||null===(p=O.scheduledDelivery)||void 0===p?void 0:p.allowScheduleOrderForDispositions)&&void 0!==o?o:[],Oe=ce||ue,{web:{pdp:{showLegalInfo:me=!1},shouldCheckDropOffAddress:be=!1}}=de,{SET_PDP_DEEPLINK_MODE:je,RESET_MODGROUP_IDS_UPDATE:pe,PDP_PAYLOAD_DATA:he,RESET_SHOW_PDP_CUSTOM_MODAL:ge,PDP_ITEM_UPSIZE_ID:Se,BROWSE_MENU_TITLE:Ie,ITME_NOT_AVAILABLE:fe,BROWSE_MENU:Ne,EXCLUDED:Ce,NA:Te,PUSH:Ee}=j.a,{PLP_PDP_DETAILS:xe,CLOSED:De}=g.a,{userOrderStateDispatch:ye,userOrderState:Ae}=Object(i.useContext)(n.a),{pdpDeepLinking:_e,ProductDetails:Re,pdpItemUpsizeId:Le,isFromMultiProductViewModal:Pe,isFromRecommendedSectionItemClick:we,sopacPDPCustomization:Me,scheduleOrderData:ke,pdpDataForUpdateFoodLine:Fe}=Ae,{changeFlow:Ue=!1,isAddressFlow:He=!1}=ke,{showPDPCustomization:Be}=Me,{isFromPlp:We=!1}=Object(d.sd)(Re),[Ge,Ve]=Object(i.useState)(Object(d.de)(window.innerWidth)),[Ye,ze]=Object(i.useState)(Object(d.be)()),[Ke,qe]=Object(i.useState)(""),[Je,Qe]=Object(i.useState)({}),[Xe,Ze]=Object(i.useState)(""),$e=Object(i.useMemo)((()=>Object(d.Td)(Re)?Re:{}),[Re]),{SERVICE_CHANNEL:et}=v.default,tt=Object(d.ud)(null===Z||void 0===Z?void 0:Z.id),ot=$,it=Object(l.b)();let{menuReducer:{flatResponse:at,currentItemDetails:lt},menuReducer:nt}=Object(l.c)((e=>e));const dt=Object(l.c)((e=>e.storesReducer)),{storesTimeSlots:rt,storesWithStatus:st}=dt,{cartReducer:ct}=Object(l.c)((e=>e)),{cartData:ut={}}=Object(d.sd)(ct),[vt,Ot]=Object(i.useState)(),mt=Object(A.b)(_.b),[bt,jt]=Object(i.useState)((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.pdpAlertPopup)&&void 0!==t&&t})(mt)),[pt,ht]=Object(i.useState)({containerHeight:0,containerWidth:0}),[gt,St]=Object(i.useState)({containerHeight:0,containerWidth:0}),{CartError:It}=T.a,ft=null===ut||void 0===ut||null===(P=ut.requestedDateTime)||void 0===P?void 0:P.isForNow;let Nt={storeId:tt,channel:et,service:ot};const Ct={enableScheduleOrderFlag:Oe,showOrderNow:ft,allowScheduleOrderForDispositions:ve},Tt=Object(D.r)(Nt,ot,Ct),Et=null===nt||void 0===nt?void 0:nt.exclusionsResponse,xt=(null===st||void 0===st||null===(w=st[0])||void 0===w||null===(k=w.summary)||void 0===k||null===(F=k.menu)||void 0===F||null===(U=F.catalogs)||void 0===U?void 0:U[0])||ee,{countryCode:Dt=[]}=se,yt=null===Dt||void 0===Dt||null===(H=Dt[0])||void 0===H?void 0:H.toUpperCase();null!==se&&void 0!==se&&se.enableDeliveryMenuOption||yt!==u.fb.JP||null===xt||void 0===xt||!xt.toUpperCase().includes(null===u.Jb||void 0===u.Jb||null===(B=u.Jb.DELIVERY)||void 0===B?void 0:B.toUpperCase())||m()(at)||(at.categories[0].name=u.qd,at.categories[0].dname[0].value=Object(r.translateWithI18Next)(null===R.a||void 0===R.a?void 0:R.a.MENU),at.categories[0].url=u.nd);Object(i.useEffect)((()=>{var e,t,o,i,a,l;lt&&(void 0===(null===lt||void 0===lt||null===(e=lt.modgrps)||void 0===e||null===(t=e[0])||void 0===t||null===(o=t.modifiers)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.isInitialDefault)||(null===se||void 0===se||null===(a=se.countryCode)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.toUpperCase())===(null===u.fb||void 0===u.fb?void 0:u.fb.JP))&&(()=>{if(Object(d.Td)($e)){var e,t,o,i,a,l,n;const r=Object(d.Hb)(ut),{couponCode:s="",amount:c=""}=Object(d.sd)(r),v=null===at||void 0===at||null===(e=at.categoryMapByUrl)||void 0===e?void 0:e[Q],O=null===v||void 0===v?void 0:v.name,m=[{item_name:Object(d.jb)(null===$e||void 0===$e||null===(t=$e.productInfo)||void 0===t||null===(o=t.productName[0])||void 0===o?void 0:o.value,u.Fd),item_id:(null===lt||void 0===lt?void 0:lt.id)||u.Fd,price:Object(d.jb)(null===$e||void 0===$e||null===(i=$e.productInfo)||void 0===i?void 0:i.productPrice,u.Fd),coupon:s,currency:re,discount:c,item_category:Object(d.jb)(O,u.Fd),item_list_name:u.p.PDP_UPSELL,item_list_id:(null===lt||void 0===lt?void 0:lt.categoryId)||u.Fd,index:1,quantity:1,item_variant:Object(d.oc)(null===(a="".concat(Object(d.uc)(null===lt||void 0===lt?void 0:lt.modgrps)))||void 0===a?void 0:a.trim())}];(null===se||void 0===se||null===(l=se.countryCode)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.toUpperCase())===(null===u.fb||void 0===u.fb?void 0:u.fb.JP)&&Object(h.c)(m),Object(h.g)(m,$)}})()}),[lt]),Object(i.useEffect)((()=>((()=>{const e=Object(d.de)(window.innerWidth),t=Object(d.be)();Ve(e),ze(t);const o=Object(x.m)(e);ht(o);const i=Object(x.o)(e,window.innerWidth);St({containerHeight:i.containerHeight,containerWidth:i.containerWidth})})(),ye({type:pe}),window.scrollTo(0,0),ye({type:je,value:{pdpDeepLinking:!We}}),()=>{qe(""),Qe({}),ye({type:he,value:{}}),ye({type:ge}),ye({type:Se,value:{pdpItemUpsizeId:""}})})),[]),Object(i.useEffect)((()=>{if(Object(d.Td)(rt)){var e,t,o;const i={...Z,summary:rt},{futureDates:a,scheduled:l,asap:n}=Object(d.sd)(null===i||void 0===i||null===(e=i.summary)||void 0===e?void 0:e.timings),{unavailibilities:r}=Object(d.sd)(l),{interval:s=0,startEndTime:c={}}=Object(d.sd)((null===l||void 0===l||null===(t=l.periods)||void 0===t?void 0:t.length)&&(null===l||void 0===l?void 0:l.periods[0])),{from:u,to:v}=c,O=Object(b.a)(u,v,s,n,a,ne,r);(null===rt||void 0===rt||null===(o=rt.status)||void 0===o?void 0:o.currentStatus)!==De||O.length?Ot(!1):(K(i),Ot(!0),Object(y.C)(te,z))}}),[rt]);Object(i.useEffect)((()=>{var e;(((e,t,o)=>e===(null===o||void 0===o?void 0:o.genericMenuName)||e&&t)(xt,ot,G)&&it(Object(s.d)({tenantId:ie,catalogName:xt},Tt)),tt&&ot&&!We)&&((e,t)=>{const o={data:Object(d.C)(e,t,null,be,null===mt||void 0===mt?void 0:mt.latLong),store:e,tenantId:ie,setStatusFlag:!1,isFavoritePage:!1};it(Object(c.d)(o))})([Z],Object(d.Mb)(null===(e=Object(E.i)(Ue,He,ot))||void 0===e?void 0:e.dispositionValue));((e,t,o,i,a)=>{if(!Object(d.Td)(i)){let i=!1;if(Object(d.pc)(e)&&o){var l,n,r;let a=e.filter((e=>e.storeId===o||e.id===o));i=!(!Object(d.pc)(a)||(null===(l=a[0])||void 0===l||null===(n=l.summary)||void 0===n||null===(r=n.status)||void 0===r?void 0:r.currentStatus)!==t)}a(i)}})(st,De,tt,rt,Ot)}),[tt,ot]),Object(i.useEffect)((()=>{if(""!==Ke){var e,t;if(Object(d.jb)(Object(d.hb)(Ke===(null===lt||void 0===lt?void 0:lt.id),_e),Le===(null===lt||void 0===lt?void 0:lt.id))){var o;let e={productImage:null===lt||void 0===lt?void 0:lt.imageName,productName:null===lt||void 0===lt?void 0:lt.dname,productPrice:Object(d.Ec)(null===lt||void 0===lt?void 0:lt.availability[0],ae)};const t={productId:null===lt||void 0===lt?void 0:lt.id,customizable:null===lt||void 0===lt?void 0:lt.customizable,categoryId:Xe,catalogName:null===nt||void 0===nt||null===(o=nt.response)||void 0===o?void 0:o.id,productInfo:e,isFromPlp:We};ye({type:xe,value:t})}if(Le===(null===lt||void 0===lt?void 0:lt.id)&&qe(Le),(null===nt||void 0===nt||null===(e=nt.exclusionsResponse)||void 0===e?void 0:e.length)>0)((e,t,o,i)=>{var a;null!==e&&void 0!==e&&e.id&&(e[o]=Object(d.n)(null===e||void 0===e?void 0:e.id,t,i)),null===e||void 0===e||null===(a=e.modgrps)||void 0===a||a.map((e=>{var a;return null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.map((e=>{var a;return e[o]=Object(d.n)(null===e||void 0===e?void 0:e.id,t,i),null===e||void 0===e||null===(a=e.modgrps)||void 0===a||a.map((e=>{var a;return null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.map((e=>(e[o]=Object(d.n)(e.id,t,i),e))),e})),e})),e}))})(lt,null===nt||void 0===nt?void 0:nt.exclusionsResponse,Ce,Te),null===lt||void 0===lt||null===(t=lt.recommendationRules)||void 0===t||t.forEach((e=>{Object(d.R)(null===e||void 0===e?void 0:e.recommendedItems,null===nt||void 0===nt?void 0:nt.exclusionsResponse,Te)}))}}),[null===lt||void 0===lt?void 0:lt.id,Ke]),Object(i.useEffect)((()=>{if(Object(d.Td)(at)){const e=((e,t,o)=>{var i;const a=sessionStorage.getItem(u.Ne.CUSTOMISE_PDP_FLAG),l=(null===o||void 0===o?void 0:o.action)===j.a.PUSH,{flatResponse:n,category_name:r,product_name:s,setIsModalOpen:c,isFromMultiProductViewModal:v,productIdFromDetails:O,cartData:b,pdpDataForUpdateFoodLine:p,isFromRecommendedSectionItemClick:h,exclusionsResponse:g,showErrorMessageForHiddenCatogary:S}=e;let I="",f="",N=[],C="";const{categoryMapByUrl:T={}}=n,E=null===T||void 0===T?void 0:T[r],x=null===E||void 0===E||null===(i=E.productMapByProductUrl)||void 0===i?void 0:i[s],D=null!==t&&void 0!==t&&t&&((null===x||void 0===x?void 0:x.isHidden)||(null===E||void 0===E?void 0:E.isHidden)),y=((e,t,o,i,a)=>(e||!(null!==o&&void 0!==o&&o||i||null!==a&&void 0!==a&&a))&&(null===t||void 0===t?void 0:t.isHidden))(S,E,v,h,a);sessionStorage.removeItem(u.Ne.CUSTOMISE_PDP_FLAG);const A=Object(d.n)(O,g,"");if(!t&&(m()(E)||m()(x)||A)&&c(!0),t&&(m()(E)||m()(x)||A)&&Object(d.Bd)(o),m()(E)||m()(x)||D||y&&!l)return!t&&y&&c(!0),!1;if(Object(d.Td)(x)){const e=Object.values(x.itemMapByItemId);I=((e,t,o,i,a)=>{if(null!==a&&void 0!==a&&a.foodLineId){var l,n;let e=null===a||void 0===a?void 0:a.foodLineId,t=null===i||void 0===i||null===(l=i.foodLines)||void 0===l?void 0:l.find((t=>{let{id:o}=t;return o===e}));return null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id}var d,r;return t?o||(null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.id):null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.id})(e,v,O,b,p),f=x.dname,N=e,C=x.url}return{id:I,name:f,items:N,url:C,categoryName:null===E||void 0===E?void 0:E.name,categoryId:null===E||void 0===E?void 0:E.id}})({flatResponse:at,category_name:Q,product_name:X,setIsModalOpen:jt,isFromMultiProductViewModal:Pe,isFromRecommendedSectionItemClick:we,productIdFromDetails:null===$e||void 0===$e?void 0:$e.productId,cartData:ut,pdpDataForUpdateFoodLine:Fe,exclusionsResponse:null===nt||void 0===nt?void 0:nt.exclusionsResponse,showErrorMessageForHiddenCatogary:oe},null===Ae||void 0===Ae?void 0:Ae.isDeepLinkURL,z),{categoryId:t="",categoryName:o="",id:i,name:a,url:l,items:n}=e,r=i;r&&(Ze(t),qe(r),Qe({selectedProductName:a,selectedProductItems:n,url:l,selectedCategoryName:o,selectedCategoryUrl:Q}),ye({type:Se,value:{pdpItemUpsizeId:r}}),it(Object(s.c)({tenantId:ie,catalogName:xt,itemId:r})))}}),[null===at||void 0===at?void 0:at.categoryMapByUrl,_e,X,Et]);const At=()=>{Object(y.C)(te,z),jt(!1)},_t={productObject:$e,tenantObject:G,isMobile:Ge,category_id:Xe,product_name:X,flatResponse:at,isStoreClosed:vt,catalogs:ee,isIpad:Ye,segmentedHomePageData:q,selectedProduct:Je,showLegalInfo:me,dispositionType:$,imageContainerSize:pt,indulgentImageContainerSize:gt,storesWithStatus:st,updatedFetchMenuPayload:Tt};return Object(L.jsxs)(a.a.Fragment,{children:[Object(d.ad)(Object(d.hb)(pt.containerHeight,gt.containerHeight),M(_t),Object(L.jsx)(L.Fragment,{})),Ae.addToCart&&Ae.isLocalized&&Ae.fromPdpPage&&Object(L.jsx)(S.a,{flatResponse:at,tenantReducer:G}),(null===(W=Ae.cartAlertData)||void 0===W?void 0:W.showCartAlert)&&Object(L.jsx)(I.a,{}),Be&&Object(L.jsx)(f.default,{}),bt?Object(L.jsx)(C.a,{handleClose:At,classNames:"clear-cart-modal item-unavailable",CartAlertForm:Object(L.jsx)(N.a,{title:Object(r.translateWithI18Next)(fe),contentMsg:Object(r.translateWithI18Next)(Ie),imageSrc:It,altText:Object(r.translateWithI18Next)(Ne),confirmButtonText:Object(r.translateWithI18Next)(Ne),confirmHandler:At})}):null]})},F=o(1101),U=o(1129),H=o(62),B=o(159),W=o(35),G=o(976),V=o(1110);const Y=(e,t,o)=>{var i,a;return Object(L.jsx)(U.a,{contentData:{segmentedHomePageData:null!==(i=null===e||void 0===e?void 0:e[o])&&void 0!==i?i:{},contentDispositionData:null!==(a=null===e||void 0===e?void 0:e[o])&&void 0!==a?a:{}},userParams:t})},z=e=>{var t,o,i;const{storesWithStatus:a,userOrderStateDispatch:l,userParams:n,qParams:r,tenantReducer:s,history:c,setDeeplinkFlagAddToCart:v,params:O,dispatch:m,dispositionNew:b}=e;if((null===a||void 0===a||null===(t=a[0])||void 0===t||null===(o=t.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)!==g.a.CLOSED){const e=Object(d.ad)((null===r||void 0===r?void 0:r.action)===u.k,!0,!1);l({type:g.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),Object(d.ye)({dispatch:m,service:null===r||void 0===r?void 0:r.ordertype,storeId:null===r||void 0===r?void 0:r.storeid,tenantId:null===s||void 0===s?void 0:s.tenantId,userOrderStateDispatch:l,userParams:n,shouldCheckDropOffAddress:!1,history:c}),v(e)}else l({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}})},K=(e,t,o,i,a)=>{var l,n,r;if(o({type:g.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==e&&void 0!==e&&e.localized){if(null!==e&&void 0!==e&&e.localized&&(null===a||void 0===a?void 0:a.ordertype)!==u.Ed){var s,c,v;(null===t||void 0===t||null===(s=t[0])||void 0===s||null===(c=s.summary)||void 0===c||null===(v=c.status)||void 0===v?void 0:v.currentStatus)===g.a.CLOSED&&o({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}})}}else(null===t||void 0===t||null===(l=t[0])||void 0===l||null===(n=l.summary)||void 0===n||null===(r=n.status)||void 0===r?void 0:r.currentStatus)!==g.a.CLOSED?o({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}}):Object(d.Bd)(i)};t.default=e=>{var t,o,r,s,c;const{userOrderState:v,userOrderStateDispatch:O}=Object(i.useContext)(n.a),{menuNavRestricted:m}=v,b=Object(l.c)((e=>e.tenantReducer)),p=Object(d.ad)(Object(d.Sd)(null===v||void 0===v?void 0:v.dispositionNew),JSON.parse(localStorage.getItem(u.gd.DISPOSITION_NEW)),null===v||void 0===v?void 0:v.dispositionNew),h=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),{flatResponse:{categoryMapByUrl:g={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{category_name:S,product_name:I}=Object(H.i)(),[f,N]=Object(i.useState)(u.me),[C,T]=Object(i.useState)(),[E,x]=a.a.useState(Object(d.de)(window.innerWidth)),A=Object(H.h)(),R=Object(l.b)(),P=Object(H.g)(),w=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=null===v||void 0===v?void 0:v.pdpDataForUpdateFoodLine,{pdpPayloadData:U,isDeepLinkURL:Y}=v,[q,J]=Object(i.useState)(!1),[Q,X]=Object(i.useState)(!1),Z=Object(l.c)((e=>e.cartReducer)),$=Object(l.c)((e=>e.storesReducer)),{storesWithStatus:ee}=$,{cartData:te={}}=Object(d.sd)(Z),oe=()=>{const e=Object(d.de)(window.innerWidth);x(e)};Object(i.useEffect)((()=>{var e;const{seoPageName:t,seoObject:o}=null!==(e=Object(G.getSeoPageWithObject)(b,g,S,I))&&void 0!==e?e:{};T(o),N(t)}),[S,I,null===g||void 0===g?void 0:g[S]]),Object(i.useEffect)((()=>(O({type:j.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}}),()=>{O({type:j.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!1}}),O({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}}),O({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),R(Object(_.c)({key:u.gd.VIEW_PRODUCT}))})),[O]),Object(i.useEffect)((()=>{const e=()=>{R(Object(_.c)({key:u.gd.VIEW_PRODUCT}))};return window.addEventListener(u.v,e),()=>{window.removeEventListener(u.v,e)}}),[]),Object(i.useEffect)((()=>{window.addEventListener(u.ye,oe)}),[E]);const ie=Object(i.useMemo)((()=>{var t,o,i,a,l,n,r;const s=Object(B.c)({path:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname,genericMenuName:null===b||void 0===b?void 0:b.genericMenuName,genericCateringName:null===b||void 0===b?void 0:b.genericCateringName,defaultdisposition:null===b||void 0===b||null===(o=b.authoredContent)||void 0===o?void 0:o.defaultdisposition,defaultcateringdisposition:null===b||void 0===b||null===(i=b.authoredContent)||void 0===i?void 0:i.defaultcateringdisposition}),c=Object(d.sd)(null===p||void 0===p?void 0:p.store);return{tenantReducer:Object(d.ad)(Object(d.Td)(b),b,JSON.parse(localStorage.getItem(u.gd.TENANT_REDUCER))),storeInfo:c,selectedDate:null===p||void 0===p?void 0:p.date,selectedTime:null===p||void 0===p?void 0:p.time,dispositionType:Object(d.ad)(null===p||void 0===p?void 0:p.type,Object(d.Mb)(null===p||void 0===p?void 0:p.type),Object(d.Mb)(null===s||void 0===s?void 0:s.defaultdispostitionType)),selectedTile:Object(d.ad)(Object(d.Td)(null===v||void 0===v?void 0:v.selectedTile),null===v||void 0===v?void 0:v.selectedTile,JSON.parse(localStorage.getItem(u.gd.SELECTED_TILE))),catalogs:Object(d.sb)(null===c||void 0===c||null===(a=c.summary)||void 0===a||null===(l=a.menu)||void 0===l||null===(n=l.catalogs)||void 0===n?void 0:n[0],null===s||void 0===s?void 0:s.defaultMenuName,""),isFromCatering:Object(B.b)(null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.pathname)}}),[p,b,v,null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.pathname]);Object(i.useEffect)((()=>{var t;let o=[{url:Object(d.ad)((null===p||void 0===p||null===(t=p.type)||void 0===t?void 0:t.toLowerCase())===u.M,u.M,u.nd)}];const i={pathname:null===A||void 0===A?void 0:A.pathname,userParams:w,baseCategory:o,history:null===e||void 0===e?void 0:e.history,menuNavRestricted:m,userOrderStateDispatch:O};Object(D.p)(i)}),[null===A||void 0===A?void 0:A.pathname]);return Object(i.useEffect)((()=>{if(Object(d.l)(h,Object(d.Td)(U),Y)){const{customizable:e,isExcluded:t}=h;if(!Y&&Object(d.sb)(t,Object(y.c)(U)))return void Object(d.Bd)(P);e||X(!0)}}),[h,U,ee,Y]),Object(i.useEffect)((()=>{var e;const t=null===A||void 0===A||null===(e=A.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t),o=Object.fromEntries(e.entries());Object(d.ge)(null===o||void 0===o?void 0:o.ordertype)&&null!==o&&void 0!==o&&o.storeid&&z({storesWithStatus:ee,userOrderStateDispatch:O,userParams:w,qParams:o,tenantReducer:b,history:P,setDeeplinkFlagAddToCart:J,params:ie,dispatch:R,dispositionNew:p}),(Object(d.Jd)(null===o||void 0===o?void 0:o.ordertype)&&null!==o&&void 0!==o&&o.storeid||(null===o||void 0===o?void 0:o.ordertype)===u.Ed)&&K(w,ee,O,P,o)}}),[null===ee||void 0===ee||null===(r=ee[0])||void 0===r||null===(s=r.summary)||void 0===s||null===(c=s.status)||void 0===c?void 0:c.currentStatus]),Object(i.useEffect)((()=>{if(Object(d.l)(Q,q,Object(d.Td)(U),null===te||void 0===te?void 0:te.id,null===U||void 0===U?void 0:U.id)){J(!1);let e=Object(y.m)(U);R(Object(W.a)({params:{basketId:null===te||void 0===te?void 0:te.id},tenantId:null===b||void 0===b?void 0:b.tenantId},[e],(()=>{Object(d.Bd)(P)})))}}),[R,M,U,q,te,b,Q]),Object(L.jsxs)(a.a.Fragment,{children:[C&&Object(L.jsx)(V.a,{page:f,seoObj:C}),Object(L.jsx)(k,{tenantData:b,contentData:ie,...e,setStoreClosedInfo:e=>{Object(d.wf)(e,O,p,Object(d.Jb)(ie.dispositionType))}}),Object(d.ad)(v.showCartClearAlert,Object(L.jsx)(F.a,{}),null)]})}}}]);