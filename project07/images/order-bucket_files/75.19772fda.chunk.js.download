(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[75,115],{1080:function(e,t,o){"use strict";o.r(t);var n=o(3),i=o(28),l=o(62),r=o(6),d=o(332);var u={ORDERS_NOW:"ordersNow",TRACK_ORDER:"trackOrder",WE_ARE_WORKING_ON:"weAreWorkingOn",YOUR_ORDER:"yourOrder",HAS_BEEN_CONFIRMED:"hasBeenConfirmed",HAS_SCHEDULED:"hasScheduled",PICKUP:"takeaway",AT:"At",DELIVERY:"delivery"},c=o(0),a=o(5),v=o(1207),s=o(210),O=o(2);t.default=e=>{var t,o,E;const f=Object(i.b)(),g={history:Object(l.g)()},{tenantReducer:I,orderHistoryReducer:b,profileReducer:D,appStateReducer:{userStatus:{loggedIn:m}={}}={}}=Object(i.c)((e=>e)),[h,R]=Object(n.useState)(!1),[p,T]=Object(n.useState)(""),[P,S]=Object(n.useState)(),A=Object(i.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),_=null===I||void 0===I||null===(t=I.componentOptions)||void 0===t||null===(o=t.homePage)||void 0===o?void 0:o.enableGuestOrderTracking,j=()=>{P&&(clearTimeout(P),S(void 0))},C=localStorage.getItem("guestActiveOrders");let y;try{y=JSON.parse(C)}catch(V){y=[]}const N=(null===(E=y)||void 0===E?void 0:E.length)>0?y:null===b||void 0===b?void 0:b.activeOrderHistory;Object(n.useEffect)((()=>(j(),f(Object(d.e)()),()=>j())),[]);const L=()=>{if(m&&null!==D&&void 0!==D&&D.customerId&&null!==I&&void 0!==I&&I.tenantId&&null!==e&&void 0!==e&&e.isHeaderTrackOrderEnabled()){const e={OrderStatus:"",OrderMode:""};f(Object(d.c)({customerId:null===D||void 0===D?void 0:D.customerId,tenantId:null===I||void 0===I?void 0:I.tenantId},e))}};Object(n.useEffect)((()=>{j(),L()}),[null===D||void 0===D?void 0:D.customerId,null===I||void 0===I?void 0:I.tenantId]);Object(n.useEffect)((()=>{var t,o,n,i;(b&&null!==b&&void 0!==b&&b.activeOrderHistory&&(null===b||void 0===b||!b.activeOrderHistoryLoading)||(null===N||void 0===N?void 0:N.length)>0)&&(null!==b&&void 0!==b&&null!==(t=b.activeOrderHistory)&&void 0!==t&&t.length||null!==N&&void 0!==N&&N.length?(!1!==(null===I||void 0===I||null===(o=I.componentOptions)||void 0===o||null===(n=o.web)||void 0===n||null===(i=n.global)||void 0===i?void 0:i.showBlackStripWithOrderTracker)&&(null!==A&&void 0!==A&&A.LoggedIn||!_)||e.setShowBlackStripeContent(!0),!h&&R(!0),T(w()),!P&&S(setTimeout((()=>{j(),L()}),18e4))):h&&R(!1))}),[null===b||void 0===b?void 0:b.activeOrderHistory]);const w=()=>{var e,t;if(1!==(null===b||void 0===b||null===(e=b.activeOrderHistory)||void 0===e?void 0:e.length)&&1!==(null===N||void 0===N?void 0:N.length))return"".concat(Object(r.translateWithI18Next)(u.WE_ARE_WORKING_ON)," ").concat((null===b||void 0===b||null===(t=b.activeOrderHistory)||void 0===t?void 0:t.length)||(null===N||void 0===N?void 0:N.length)," ").concat(Object(r.translateWithI18Next)(u.ORDERS_NOW));{var o;const e=(null===b||void 0===b?void 0:b.activeOrderHistory[0])||(null===N||void 0===N?void 0:N[0]);if(!1===(null===e||void 0===e||null===(o=e.requestedDateTime)||void 0===o?void 0:o.isForNow)){const t="".concat(Object(r.translateWithI18Next)(u.YOUR_ORDER)," # ").concat((null===e||void 0===e?void 0:e.posOrderId)||(null===e||void 0===e?void 0:e.referenceNumber)," ").concat(Object(r.translateWithI18Next)(u.HAS_SCHEDULED)," ");return Object(a.rf)(null===e||void 0===e?void 0:e.service)===c.Jb.DELIVERY?"".concat(t," ").concat(Object(r.translateWithI18Next)(u.DELIVERY)," ").concat(Object(r.translateWithI18Next)(u.AT)):Object(a.rf)(null===e||void 0===e?void 0:e.service)===c.Jb.PICKUP?"".concat(t," ").concat(Object(r.translateWithI18Next)(u.PICKUP)," ").concat(Object(r.translateWithI18Next)(u.AT)):"".concat(t)}if(Object(a.rf)(null===e||void 0===e?void 0:e.service)===c.Jb.DELIVERY)return"".concat(Object(r.translateWithI18Next)(u.YOUR_ORDER)," # ").concat((null===e||void 0===e?void 0:e.posOrderId)||(null===e||void 0===e?void 0:e.referenceNumber)||(null===N||void 0===N?void 0:N.referenceNumber)," ").concat(Object(r.translateWithI18Next)(u.HAS_BEEN_CONFIRMED));var n;if(Object(a.rf)(null===e||void 0===e?void 0:e.service)===c.Jb.PICKUP||Object(a.rf)(null===e||void 0===e?void 0:e.service)===c.Jb.DINE_IN)return"".concat(Object(r.translateWithI18Next)(u.WE_ARE_WORKING_ON)," ").concat((null===b||void 0===b||null===(n=b.activeOrderHistory)||void 0===n?void 0:n.length)||(null===N||void 0===N?void 0:N.length)," ").concat(Object(r.translateWithI18Next)(u.ORDERS_NOW))}},k=Object(n.useCallback)((()=>{var e,t;if((null===b||void 0===b||null===(e=b.activeOrderHistory)||void 0===e?void 0:e.length)>1||(null===N||void 0===N?void 0:N.length)>1)Object(a.Me)(g);else if(1===(null===b||void 0===b||null===(t=b.activeOrderHistory)||void 0===t?void 0:t.length)||1===(null===N||void 0===N?void 0:N.length)){(e=>{if(null!==e&&void 0!==e&&e.id){const t={...e,customer:null===D||void 0===D?void 0:D.basic},o=Object(v.w)(null===I||void 0===I?void 0:I.tenantId,t);o.postOrderDetails={},sessionStorage.setItem(c.gd.ORDER_TRACKING,JSON.stringify(o)),Object(a.le)()?Object(a.cf)(g):Object(a.ff)(g)}else console.error(JSON.stringify(e)),Object(a.ef)(g)})((null===b||void 0===b?void 0:b.activeOrderHistory[0])||(null===N||void 0===N?void 0:N[0]))}}),[b]);return(h||(null===N||void 0===N?void 0:N.length)>0)&&Object(O.jsx)(s.a,{...e,testId:"HeaderTrackOrderItems",importPath:"APP_HEADER_ORDER_TRACKER_VIEW",buttonText:Object(r.translateWithI18Next)(u.TRACK_ORDER),trackOrderTitle:p,onTrackOrderBtnClickHandler:k})}},1097:function(e,t,o){var n=o(327),i=o(213),l=o(330);e.exports=function(e){return function(t,o,r){var d=Object(t);if(!i(t)){var u=n(o,3);t=l(t),o=function(e){return u(d[e],e,d)}}var c=e(t,o,r);return c>-1?d[u?t[c]:c]:void 0}}},1102:function(e,t,o){var n=o(1097)(o(405));e.exports=n},1104:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return l}));var n=o(1);function i(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:n.qk,payload:{data:e,tenantId:t},successCallback:o,errorCallback:i}}function l(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:n.lk,menuPayload:e,exclusionPayload:t,successCallback:o}}},1105:function(e,t,o){var n=o(268),i=o(597);e.exports=function(e){return i(n(e).toLowerCase())}},1114:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(1);function i(e){return{type:n.he,payload:e}}},1120:function(e,t,o){var n=o(598),i=o(596),l=o(599),r=4294967295,d=Math.min;e.exports=function(e,t){if((e=l(e))<1||e>9007199254740991)return[];var o=r,u=d(e,r);t=i(t),e-=r;for(var c=n(u,t);++o<e;)t(o);return c}},1121:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return u}));var n=o(3);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i.apply(this,arguments)}var l=function(e){var t=Object(n.useRef)(e);return t.current=e,t},r=function(e){var t=void 0===e?{}:e,o=t.requestOptions,r=t.debounce,d=void 0===r?200:r,u=t.cache,c=void 0===u?86400:u,a=t.cacheKey,v=t.googleMaps,s=t.callbackName,O=t.defaultValue,E=void 0===O?"":O,f=t.initOnMount,g=void 0===f||f,I=Object(n.useState)(!1),b=I[0],D=I[1],m=Object(n.useState)(E),h=m[0],R=m[1],p=Object(n.useState)({loading:!1,status:"",data:[]}),T=p[0],P=p[1],S=Object(n.useRef)(null),A=l(o),_=l(v),j=a?"upa-"+a:"upa",C=Object(n.useCallback)((function(){var e;if(!S.current){var t=window.google,o=_.current,n=(null==o?void 0:o.places)||(null==t||null==(e=t.maps)?void 0:e.places);n?(S.current=new n.AutocompleteService,D(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),y=Object(n.useCallback)((function(){P({loading:!1,status:"",data:[]})}),[]),N=Object(n.useCallback)((function(){try{sessionStorage.removeItem(j)}catch(e){}}),[]),L=Object(n.useCallback)(function(e,t){var o;return function(){for(var n=this,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];null!==o&&(clearTimeout(o),o=null),o=setTimeout((function(){return e.apply(n,l)}),t)}}((function(e){if(e){P((function(e){return i({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(j)||"{}")}catch(o){}c&&(t=Object.keys(t).reduce((function(e,o){return t[o].maxAge-Date.now()>=0&&(e[o]=t[o]),e}),{}))[e]?P({loading:!1,status:"OK",data:t[e].data}):S.current.getPlacePredictions(i({},A.current,{input:e}),(function(n,i){if(P({loading:!1,status:i,data:n||[]}),c&&"OK"===i){t[e]={data:n,maxAge:Date.now()+1e3*c};try{sessionStorage.setItem(j,JSON.stringify(t))}catch(o){}}}))}else y()}),d),[d,y]),w=Object(n.useCallback)((function(e,t){void 0===t&&(t=!0),R(e),S.current&&t&&L(e)}),[L]);return Object(n.useEffect)((function(){if(!g)return function(){return null};var e=window.google;return _.current||null!=e&&e.maps||!s?C():window[s]=C,function(){window[s]&&delete window[s]}}),[s,C]),{ready:b,value:h,suggestions:T,setValue:w,clearSuggestions:y,clearCache:N,init:C}},d=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(o,n){t.geocode(e,(function(t,i){"OK"!==i&&n(i),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),o(t)),o(t)}))}))},u=function(e){return new Promise((function(t,o){try{var n=e.geometry.location,i=n.lat,l=n.lng;t({lat:i(),lng:l()})}catch(r){o(r)}}))}},1178:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"b",(function(){return l})),o.d(t,"d",(function(){return r}));const n=20,i=5e3,l=15e3,r=18e4},1207:function(e,t,o){"use strict";o.d(t,"p",(function(){return s})),o.d(t,"o",(function(){return O})),o.d(t,"l",(function(){return E})),o.d(t,"f",(function(){return f})),o.d(t,"m",(function(){return g})),o.d(t,"n",(function(){return I})),o.d(t,"h",(function(){return b})),o.d(t,"j",(function(){return D})),o.d(t,"i",(function(){return m})),o.d(t,"g",(function(){return h})),o.d(t,"k",(function(){return R})),o.d(t,"r",(function(){return T})),o.d(t,"a",(function(){return P})),o.d(t,"b",(function(){return A})),o.d(t,"d",(function(){return _})),o.d(t,"c",(function(){return j})),o.d(t,"s",(function(){return C})),o.d(t,"v",(function(){return y})),o.d(t,"q",(function(){return N})),o.d(t,"u",(function(){return L})),o.d(t,"w",(function(){return w})),o.d(t,"e",(function(){return k})),o.d(t,"t",(function(){return V}));var n=o(171),i=o(123),l=o(35),r=o(5),d=o(1111),u=o(0),c=o(1178),a=o(24),v=o(49);const s=e=>p(e)===u.Pd.STAGED_ACCEPTED,O=e=>p(e)===u.Pd.PICKUP_DELIVERY_DINE_IN,E=e=>Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.DELIVERY&&O(e),f=e=>Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.DELIVERY&&(E(e)||b(e)||D(e)||m(e)||h(e)),g=e=>f(e)&&(null===e||void 0===e?void 0:e.deliveryPartner),I=e=>f(e)&&!m(e)&&!h(e),b=e=>p(e)===u.Pd.DELIVERY_DISTA_CREATE_ASSIGN,D=e=>p(e)===u.Pd.DELIVERY_DISTA,m=e=>p(e)===u.Pd.DELIVERY_DISTA_DELIVERED,h=e=>p(e)===u.Pd.CANCELLED,R=e=>D(e)||h(e)||m(e),p=e=>{switch(Object(r.rf)(null===e||void 0===e?void 0:e.status)){case u.Rd.STAGED:case u.Rd.ACCEPTED:return a.b.shouldGoogleSpotIgnoreOloFailure?u.Pd.PICKUP_DELIVERY_DINE_IN:u.Pd.STAGED_ACCEPTED;case u.Rd.SENT_TO_POS_COMPLETED:if(Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.PICKUP||Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.DINE_IN||Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.DELIVERY||Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.CHRISTMAS_ORDERING)return u.Pd.PICKUP_DELIVERY_DINE_IN;break;case u.Rd.CREATED:case u.Rd.ASSIGNED:return u.Pd.DELIVERY_DISTA_CREATE_ASSIGN;case u.Rd.PICKED_UP:case u.Rd.OUT_FOR_DELIVERY:case u.Rd.ARRIVED:return u.Pd.DELIVERY_DISTA;case u.Rd.DELIVERED:return u.Pd.DELIVERY_DISTA_DELIVERED;case u.Rd.CANCELLED:case u.Rd.CANCEL:return Object(r.rf)(null===e||void 0===e?void 0:e.service)===u.Lb.DELIVERY?u.Pd.CANCELLED:u.Pd.FAILED;case u.Rd.SENT_TO_POS_FAILED:case u.Rd.PAYMENT_FAILED:return u.Pd.FAILED}},T=(e,t,o)=>{if(null!==e&&void 0!==e&&e.orderAcceptedLoading)return Promise.resolve(!1);switch(p(e)){case u.Pd.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case u.Pd.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case u.Pd.DELIVERY_DISTA_CREATE_ASSIGN:case u.Pd.DELIVERY_DISTA:case u.Pd.DELIVERY_DISTA_DELIVERED:case u.Pd.CANCELLED:return t(!1),Promise.resolve(!1);case u.Pd.FAILED:return localStorage.setItem(u.Ud.STATUS_TEXT,u.Ud.FAILED),Object(r.ef)(o),Promise.resolve(!1)}},P=e=>{let{dispatch:t,orderDetails:o,orderAccepted:n,cartData:i,userOrderState:d,appStateReducer:c,isBasketLoading:v,status:s,qrCodeScanTime:O}=e;if(s){const e=c.userStatus,s=a.b.shouldGoogleSpotIgnoreOloFailure||Object(r.rf)(null===n||void 0===n?void 0:n.status)===u.Rd.SENT_TO_POS_COMPLETED;Object(r.l)(s,!v,null===i||void 0===i?void 0:i.id,e.localized,null===o||void 0===o?void 0:o.tenantId)&&Object(r.I)(t,l.f,null===o||void 0===o?void 0:o.tenantId,d,O)}},S=(e,t,o)=>{t&&(o=setTimeout((()=>{t(e),o&&clearTimeout(o)}),c.c))},A=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},r=o+1;e(Object(i.d)(l,(()=>S(r,n,null))))},_=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:(null===t||void 0===t?void 0:t.customerId)||null},r=o+1;e(Object(n.f)(l,(()=>S(r,i,null))))},j=function(e,t){var o,i;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;const a=null===u||void 0===u||null===(o=u.componentOptions)||void 0===o||null===(i=o.homePage)||void 0===i?void 0:i.enableGuestOrderTracking;null!==t&&void 0!==t&&t.isExternalTrackOrder?A(e,t,l,r):a&&null!==t&&void 0!==t&&t.isActiveGuestTracking&&Object(d.l)(t)||null!==t&&void 0!==t&&t.orderTrackingEmail?function(e,t){var o;let i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=arguments.length>4?arguments[4]:void 0;try{const e=new URL(null===t||void 0===t?void 0:t.otu);i=new URLSearchParams(e.search).get("PhoneNo")}catch(a){console.error("Error extracting phone number:",a),i="0"}const u={orderId:(null===t||void 0===t?void 0:t.orderId)||(null===t||void 0===t||null===(o=t.postOrderDetails)||void 0===o?void 0:o.id)||(null===t||void 0===t?void 0:t.orderTrackingID),tenantId:null===t||void 0===t?void 0:t.tenantId,Email:null!==t&&void 0!==t&&t.orderTrackingViewEnabled?null===t||void 0===t?void 0:t.orderTrackingEmail:i},c=l+1;e(Object(n.g)(u,(e=>{let o=!1;e.errors&&e.errors.length>0&&(o=!0),null!==t&&void 0!==t&&t.orderTrackingViewEnabled&&d({...t,orderTrackingHasError:o}),S(c,r,null)})))}(e,t,l,r,c):_(e,t,l,r,u)},C=(e,t,o,n,i,l,d,a)=>{null!==t&&void 0!==t&&t.orderId||null!==t&&void 0!==t&&t.orderTrackingID?0===o||s(n)&&o<c.a?j(e,t,o,i,d,a):s(n)&&o>=c.a&&(localStorage.setItem("paymentStatus",u.Ud.FAILED),Object(r.ef)(l)):Object(r.Ye)(l)},y=(e,t,o,n,i)=>{n&&E(e)?Object(r.ef)(i):null!==e&&void 0!==e&&e.status&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?o({...t,status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,fulfillmentDateTime:null===e||void 0===e?void 0:e.fulfillmentDateTime,requestedDateTime:null===e||void 0===e?void 0:e.requestedDateTime,deliveryDetails:null===e||void 0===e?void 0:e.deliveryDetails,store:null===e||void 0===e?void 0:e.store,otu:(null===e||void 0===e?void 0:e.otu)||(null===t||void 0===t?void 0:t.otu),isActiveGuestTracking:(null===e||void 0===e?void 0:e.isActiveGuestTracking)||(null===t||void 0===t?void 0:t.isActiveGuestTracking),deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}):o({...t,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1,fulfillmentDateTime:null===e||void 0===e?void 0:e.fulfillmentDateTime,requestedDateTime:null===e||void 0===e?void 0:e.requestedDateTime,deliveryDetails:null===e||void 0===e?void 0:e.deliveryDetails,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,otu:(null===e||void 0===e?void 0:e.otu)||(null===t||void 0===t?void 0:t.otu),isActiveGuestTracking:(null===e||void 0===e?void 0:e.isActiveGuestTracking)||(null===t||void 0===t?void 0:t.isActiveGuestTracking),store:null===e||void 0===e?void 0:e.store})},N=(e,t,o)=>{if(E(e)&&!t){const e=setTimeout((()=>{e&&clearTimeout(e)}),c.d)}},L=(e,t,o,n)=>{var i,l,r,d,u,c,a,v,s,O,E,f,g;const I=null===(i=new URLSearchParams(window.location.search))||void 0===i?void 0:i.get("orderId"),b=(null===(l=new URLSearchParams(window.location.search))||void 0===l?void 0:l.get("email"))||(null===(r=new URLSearchParams(window.location.search))||void 0===r?void 0:r.get("PhoneNo")),D=null===(d=window)||void 0===d||null===(u=d.location)||void 0===u||null===(c=u.pathname)||void 0===c?void 0:c.includes("order-tracking");return I!==(null===(a=t)||void 0===a?void 0:a.id)&&null!==(v=t)&&void 0!==v&&v.id&&D&&(t={}),{...w(e,t,!1,o),orderAcceptedLoading:(null===(s=t)||void 0===s?void 0:s.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:(null===n||void 0===n||null===(O=n.store)||void 0===O||null===(E=O.summary)||void 0===E?void 0:E.timings)||(null===(f=t)||void 0===f||null===(g=f.store)||void 0===g?void 0:g.timings),...I&&{orderTrackingID:I},...b&&{orderTrackingEmail:b},...D&&{orderTrackingViewEnabled:!0}}},w=function(e,t){var o,n,i,l,r,d,u,c;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const O={orderId:(null===t||void 0===t?void 0:t.id)||(null===v||void 0===v?void 0:v.id),customerId:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.id)||(null===v||void 0===v||null===(n=v.customer)||void 0===n?void 0:n.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===v||void 0===v?void 0:v.service),status:(null===t||void 0===t?void 0:t.status)||(null===v||void 0===v?void 0:v.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===v||void 0===v?void 0:v.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===v||void 0===v?void 0:v.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===v||void 0===v?void 0:v.posOrderId),userEmail:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.email)||(null===v||void 0===v||null===(l=v.customer)||void 0===l?void 0:l.email),userPhone:(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phoneNumber)||(null===t||void 0===t||null===(d=t.customer)||void 0===d?void 0:d.phone)||(null===v||void 0===v||null===(u=v.customer)||void 0===u?void 0:u.phoneNumber),postOrderDetails:t,isExternalTrackOrder:a,isActiveGuestTracking:null===t||void 0===t?void 0:t.isActiveGuestTracking,otu:null===t||void 0===t?void 0:t.otu};var E,f,g;null!==s&&void 0!==s&&null!==(c=s.storesWithStatus)&&void 0!==c&&c.length&&(O.operatingTime=null===s||void 0===s||null===(E=s.storesWithStatus)||void 0===E||null===(f=E[0])||void 0===f||null===(g=f.summary)||void 0===g?void 0:g.timings);return O},k=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=(e=>{var t;return null!==e&&void 0!==e&&e.orderAccepted&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&null!==e&&void 0!==e&&null!==(t=e.orderAccepted)&&void 0!==t&&t.id?null===e||void 0===e?void 0:e.orderAccepted:null})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return null===n&&(n=(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.pastOrderResponse)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&e.pastOrderResponse[0].id?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null})(e),o&&null===n&&(n=t&&Object.keys(null===t||void 0===t?void 0:t.postOrderDetails).length?null===t||void 0===t?void 0:t.postOrderDetails:{})),n||{}},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(localStorage.getItem(u.gd.PAYMENT_STATUS)!==u.Ud.FAILED){var o,l,r,d;if(t&&(null===(o=window)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.pathname)===(null===u.Ce||void 0===u.Ce?void 0:u.Ce.PAYMENT_SUCCESS)||(null===(r=window)||void 0===r||null===(d=r.location)||void 0===d?void 0:d.pathname)===(null===u.Ce||void 0===u.Ce?void 0:u.Ce.CHECKOUT))return!1;(e=>{e(Object(n.h)())})(e),(e=>{e(Object(i.e)())})(e)}(e=>{e(Object(v.z)())})(e),(e=>{e(Object(i.a)({value:[]}))})(e),sessionStorage.removeItem(u.gd.ORDER_TRACKING)}}}]);