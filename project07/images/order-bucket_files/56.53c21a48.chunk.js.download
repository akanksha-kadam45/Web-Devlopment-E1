(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[56],{1063:function(e,t,a){"use strict";a.r(t);var i=a(3),o=a.n(i),n=a(28),l=a(42),s=a.n(l),d=a(1102),r=a.n(d),c=a(17),u=a(115),v=a(24),b=a(424),O=a(62),m=a(394),j=a(73),p=a(5),h=a(1110),g=a(0),S=a(1274),I=a(71),N=a(15),x=a(2);const f=(e,t)=>{var a;const{RedMarker:l}=N.a;let s,d=o.a.createRef();const r=Object(n.b)();return Object(i.useEffect)((()=>()=>{r(Object(j.r)())}),[]),Object(i.useEffect)((()=>{var a,i;const o={lat:null===e||void 0===e||null===(a=e.latLong)||void 0===a?void 0:a.latitude,lng:null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.longitude};s=(e=>{const a=window.google&&new window.google.maps.Map(d.current,{zoom:10,center:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!t,gestureHandling:"greedy"});return new window.google.maps.Marker({position:e,map:a,visible:!0,icon:l}),a})(o)}),[null===(a=window)||void 0===a?void 0:a.google]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{id:"google-map",className:"rest-map-view",ref:d})})};var T=o.a.memo(f),C=a(46),E=a(112),y=a(85),D=a(1312),A=a(1228),_=a(1233),w=a(41),R=a(1131),L=a(16),k=a(169),M=a(6),F=a(4),P=a(1234),H=a(1206),U=a(1153);const{AMENITIES:W,CLOSED_BTN_TEXT:B,GET_DIRECTION:Y,TRADING_HRS:G,DELIVERY_HRS:V,KFC_WEB_APP:J,RDP_NO_DELIVERY:z,DELIVERY:K,HOURS:q,CLOSED:X}=F.a,Q=(e,t,a,i)=>(null===e||void 0===e?void 0:e.length)>0?Object(x.jsx)("div",{className:"rdp-accordian-container",children:Object(x.jsx)(k.a,{header:t,onClickHandler:a,children:e.map(((e,t)=>i(e)))})}):"",Z=(e,t,a,i,o)=>e.rdpDeliveryBlk&&t&&Object(x.jsxs)("div",{className:"delivery-blk",children:[Object(x.jsx)("h2",{className:"delivery-title",children:Object(M.translateWithI18Next)(K)}),Object(x.jsx)("div",{className:"separator"}),a&&!a.length&&Object(x.jsx)("div",{className:"delivery-not-available",children:Object(M.translateWithI18Next)(z)}),a&&a.map((e=>(null===e||void 0===e?void 0:e.channelName)===g.qb.VIEWPORT_AGENT_BROWSER?Object(x.jsxs)(E.b,{to:"/",className:"kfc-lockup",children:[Object(x.jsx)(C.a,{srcFile:i?null===e||void 0===e?void 0:e.mobileImage:null===e||void 0===e?void 0:e.desktopImage,alt:null===e||void 0===e?void 0:e.channelName,className:"KFCbucket"}),Object(x.jsx)("div",{className:"kfc-lockup-cnt",children:Object(M.translateWithI18Next)(J)})]}):null)),Object(x.jsx)("div",{className:"aggregator-logo-wrap",children:a&&a.map((e=>(null===e||void 0===e?void 0:e.channelName)!==g.qb.VIEWPORT_AGENT_BROWSER?Object(x.jsxs)("a",{href:null===e||void 0===e?void 0:e.linkUrl,target:"_blank",rel:"noreferrer noopener",className:"aggregator-logo ".concat(null!==e&&void 0!==e&&e.linkUrl?"haslink":"nolink"),children:[Object(x.jsx)("div",{className:"aggregator-logo-img",children:Object(x.jsx)(C.a,{srcFile:i?null===e||void 0===e?void 0:e.mobileImage:null===e||void 0===e?void 0:e.desktopImage,alt:null===e||void 0===e?void 0:e.channelName})}),Object(x.jsxs)("div",{className:"aggregator-url",children:[null===e||void 0===e?void 0:e.channelName,Object(x.jsx)(C.a,{srcFile:o,alt:"External url",className:""})]})]}):null))})]}),$=e=>{var t,a,o,l,s,d,r,u,v,b,j,h,S,I,f,T,E,k,F,B,J,z;const{StripsIcon:K,FavoriteFillImage:$,FavoriteUnfillImage:ee,phoneImg:te,External_url:ae,Direction:ie}=N.a,{loggedIn:oe,restarantDetails:ne,restrauntContentful:le,isMobile:se,storeNumberFormat:de}=e,{favouriteStores:re}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),ce=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),{userOrderState:ue,userOrderStateDispatch:ve}=Object(i.useContext)(y.a),be=Object(O.g)(),Oe=null===re||void 0===re?void 0:re.map((e=>{var t;return null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id})),me=null!==Oe&&void 0!==Oe&&Oe.includes(null===ne||void 0===ne?void 0:ne.id)?{...ne,isFavoriteStore:!0}:ne;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const je=Object(n.c)((e=>e.tenantReducer)),pe=Object(U.a)(ue),he=null===je||void 0===je?void 0:je.enableDeliveryMenuOption,ge=null===je||void 0===je||null===(t=je.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.dispositionConfig)||void 0===o?void 0:o.enableClickCollectScheduleOrder,Se=null===je||void 0===je?void 0:je.isViewMenuDisabled,Ie=null===je||void 0===je||null===(l=je.componentOptions)||void 0===l||null===(s=l.web)||void 0===s||null===(d=s.dispositionConfig)||void 0===d?void 0:d.enableScheduleOrder,Ne=null===je||void 0===je||null===(r=je.componentOptions)||void 0===r||null===(u=r.web)||void 0===u||null===(v=u.dispositionConfig)||void 0===v?void 0:v.showOutboundInRDP,xe=null===je||void 0===je||null===(b=je.componentOptions)||void 0===b||null===(j=b.web)||void 0===j||null===(h=j.scheduledDelivery)||void 0===h?void 0:h.allowScheduleOrderForDispositions,fe=null===je||void 0===je||null===(S=je.componentOptions)||void 0===S||null===(I=S.web)||void 0===I||null===(f=I.restaurantDetailPage)||void 0===f?void 0:f.favStoreToastMsg,Te=ge&&(null===xe||void 0===xe?void 0:xe.includes(null===pe||void 0===pe||null===(T=pe.type)||void 0===T?void 0:T.toLowerCase())),Ce=(Ee=Te,Ie||Ee);var Ee;let ye=me&&Object.keys(me).length&&Object(m.w)(me,!0);const De=me&&Object.keys(me).length&&Object(m.t)(null===le||void 0===le||null===(E=le.details)||void 0===E||null===(k=E.fields)||void 0===k?void 0:k.icons,null===me||void 0===me?void 0:me.availableServicesPerChannel),Ae=me&&Object.keys(me).length&&Object(m.h)(null===me||void 0===me?void 0:me.availableCollectionPoints),_e=Object(n.b)(),{customerId:we}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{tenantId:Re,componentOptions:{web:{rdpPage:Le}},savedAddressPage:ke}=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Me=e=>{const t=e.target.parentElement.parentElement.parentElement;t.classList.contains("rdp-accordian-open")?t.classList.remove("rdp-accordian-open"):t.classList.add("rdp-accordian-open")},Fe={storeData:me,enableClickCollectScheduleOrderFlag:Te,enableScheduleOrder:Ie,userOrderStateDispatch:ve,goToMenuObj:{history:be,dispatch:_e,tenantId:Re,userParams:ce},userOrderState:ue,enableScheduleOrderFlag:Ce},Pe=e=>Object(x.jsx)("div",{className:"hours-view",children:Object(x.jsxs)("div",{className:"hours-text",children:[Object(x.jsx)("span",{className:"day-details",children:Object(P.b)(e)}),Object(x.jsx)("span",{className:"time-details",children:Object(x.jsx)("p",{children:Object(P.a)(e)})})]})},null===e||void 0===e?void 0:e.day);return Object(x.jsxs)(D.a,{className:"retaurant-view-container",children:[Object(x.jsx)("div",{className:"strips-Icon",children:Object(x.jsx)(C.a,{srcFile:K,alt:"stripsIcon"})}),Object(x.jsx)("div",{className:"fav-icon",children:oe&&Object(x.jsx)(C.a,{"data-testid":"favorite-img",srcFile:Object(p.ad)(null===me||void 0===me?void 0:me.isFavoriteStore,$,ee),alt:"favorite",className:"favorite-img",onClick:()=>null!==me&&void 0!==me&&me.isFavoriteStore?Object(m.L)(me,_e,Re,we,fe):Object(m.a)(me,_e,Re,we,fe)})}),Object(x.jsxs)(A.a,{className:"restraunt-detail-wrapper",children:[Le.rdpAddress&&Object(x.jsxs)(_.a,{md:"5",className:"restraunt-detail-addr",children:[Object(x.jsx)("h1",{className:"store-name-rdp",children:null===me||void 0===me||null===(F=me.name)||void 0===F||null===(B=F[0])||void 0===B?void 0:B.value}),Object(x.jsx)("div",{className:"store-address",children:Object(p.ac)(null===me||void 0===me?void 0:me.addresses,ke.showStateCityAddAddress)}),Object(x.jsx)("div",{className:"store-channel-details",children:Object(m.v)(me,Ae)}),Object(x.jsxs)("div",{className:"store-contact-wrapper",children:[Object(m.d)(me)&&Object(x.jsxs)("div",{className:"mt15 store-contact",children:[Object(x.jsx)("span",{className:"contact-icon",children:Object(x.jsx)(C.a,{srcFile:te,alt:"\u2121"})}),Object(x.jsx)("a",{"data-testid":"store-number",href:"".concat(c.d.tel).concat(Object(m.d)(me)),className:"contact-info ml-2",children:Object(m.n)(Object(m.d)(me),de)})]}),Object(x.jsx)("a",{href:Object(p.Gb)(null===ye||void 0===ye?void 0:ye.storeAddress),target:"_blank",rel:"noreferrer noopener",children:Object(x.jsxs)("span",{className:"kfcdirection",children:[Object(x.jsx)("img",{src:ie,alt:"direction",className:"KfcDirectionIcon"}),Object(x.jsx)("span",{children:Object(M.translateWithI18Next)(Y)})]})})]}),(!Se||(null===ye||void 0===ye?void 0:ye.storeOpen))&&Object(p.l)(null===me||void 0===me?void 0:me.summary,Object(x.jsx)(w.c,{"data-testid":"start-order",variant:Object(p.ad)(null===ye||void 0===ye?void 0:ye.storeOpen,w.b.primary,w.b.tertiary),onClickHandler:e=>null!==ye&&void 0!==ye&&ye.storeOpen?(e=>{var t,a;const{storeData:i,enableClickCollectScheduleOrderFlag:o,enableScheduleOrder:n,userOrderStateDispatch:l,goToMenuObj:s,userOrderState:d,enableScheduleOrderFlag:r}=e,c=(null===i||void 0===i||null===(t=i.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===g.Od,u=Object(p.Fd)(i);Object(H.c)(o,n,c,u)&&o?(l({type:L.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),l({type:L.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),l({type:L.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}}),Object(H.b)(l,s,d,i,r,o)):l({type:L.a.DISPOSITION_DATA,value:{showDisposition:!0}})})(Fe):(Object(m.H)(ve,be,_e,{tenantId:Re,userParams:ce,userOrderState:ue,store:me,enableDeliveryMenuOption:he}),ve({type:L.a.FAV_STORE_NOT_IN_RADIUS,value:{showNotInRadiusError:!1}}),void ve({type:L.a.ORDER_MODE_BROWSE_MENU_CLICK,value:{orderModeBrowseMenuBtnClicked:!0}})),children:Object(m.C)(!0,null===ye||void 0===ye?void 0:ye.storeOpen)}))]}),Object(x.jsxs)(_.a,{md:"7",className:"restraunt-detail-cnt",children:[Le.rdpHrsblock&&Object(x.jsxs)("div",{className:"hour-blk-wrapper",children:[Object(x.jsxs)("div",{className:"hour-blk",children:[Object(x.jsx)("h2",{className:"hour-title",children:Object(M.translateWithI18Next)(q)}),Object(x.jsxs)("div",{className:"opening-hrs",children:[Object(p.l)(null===me||void 0===me?void 0:me.summary,Object(x.jsx)("span",{children:null===ye||void 0===ye?void 0:ye.storeTimeMessage})),Object(p.l)(!(null!==me&&void 0!==me&&me.summary),Object(x.jsx)("span",{class:"closed-text",children:Object(M.translateWithI18Next)(X)}))]})]}),Object(x.jsxs)("div",{className:"accordian-blk",children:[Q(null===me||void 0===me?void 0:me.availableTradingHours,Object(M.translateWithI18Next)(G),Me,Pe),Q(null===me||void 0===me?void 0:me.availableDeliveryHours,Object(M.translateWithI18Next)(V),Me,Pe)]})]}),!(null===me||void 0===me||null===(J=me.amenities)||void 0===J||!J.length)&&Le.rdpAmenitiesBlk&&Object(x.jsxs)("div",{className:"amenities-blk",children:[Object(x.jsx)("h3",{className:"amenities-title",children:Object(M.translateWithI18Next)(W)}),Object(x.jsx)("div",{className:"separator"}),Object(x.jsx)("div",{className:"amenities-cnt",children:Object(x.jsx)("ul",{className:"amenities-list-wrapper",children:null===(z=Object(R.a)(me,"rdp"))||void 0===z?void 0:z.map((e=>Object(x.jsxs)("li",{className:"amenities-list",children:[Object(x.jsx)(C.a,{"data-testid":"",srcFile:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.label,className:"amenities-img",title:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.key),Object(p.ad)(null===e||void 0===e?void 0:e.label,null===e||void 0===e?void 0:e.label,null===e||void 0===e?void 0:e.key)]})))})})]}),Z(Le,Ne,De,se,ae)]})]})]})};var ee=o.a.memo($);const te=()=>Object(x.jsxs)("div",{className:"restraunt-detail-wrapper row",children:[Object(x.jsx)("div",{className:"restraunt-detail-addr col-md-5 placeholder",children:Object(x.jsxs)("div",{className:"table retaurant-view-container container",children:[Object(x.jsx)("div",{className:"loading card-title shorter-s"}),Object(x.jsx)("div",{className:"loading card-title shorter-m"}),Object(x.jsx)("div",{className:"loading table-content"}),Object(x.jsx)("div",{className:"loading table-content"}),Object(x.jsx)("div",{className:"loading table-content"})]})}),Object(x.jsx)("div",{className:"restraunt-detail-cnt col-md-7 placeholder",children:Object(x.jsxs)("div",{className:"table retaurant-view-container container",children:[Object(x.jsx)("div",{className:"loading card-title shorter-s"}),Object(x.jsx)("div",{className:"loading card-title shorter-m"}),Object(x.jsx)("div",{className:"loading table-content"}),Object(x.jsx)("div",{className:"loading table-content"}),Object(x.jsx)("div",{className:"loading table-content"})]})})]});var ae=o.a.memo(te),ie=a(1287),oe=a.n(ie);const ne=()=>{var e,t,a,o,l,d;const N=Object(n.c)((e=>Object(p.sd)(e.storesReducer))),{selectedRestaurantDetailsDL:f,storeDetailsContentFull:C,selectedRestaurantDetailsDLError:E,isRestaurantDetailsLoading:y}=N,D=Object(n.c)((e=>({homePageContent:s()(e,"contentReducer.response",null)}))),{store_name:A="",post_code:_=""}=Object(O.i)(),[w,R]=Object(i.useState)(),[L,k]=Object(i.useState)(),[M,F]=Object(i.useState)(null),[P,H]=Object(i.useState)([]),[U,W]=Object(i.useState)(!1),[B,Y]=Object(i.useState)({}),G=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),V=null===G||void 0===G||null===(e=G.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(a=t.restaurantDetailPage)||void 0===a?void 0:a.storeNumberFormat,J=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[z,K]=Object(i.useState)(Object(p.de)(window.innerWidth)),{tenantId:q,componentOptions:{web:{rdpPage:X}}}=G,Q=Object(O.h)(),Z=Object(n.b)(),[$,te]=Object(i.useState)(null);Object(i.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{null!==D&&void 0!==D&&D.homePageContent&&te(Object(p.wd)(Object(p.fc)(null===D||void 0===D?void 0:D.homePageContent)))}),[null===D||void 0===D?void 0:D.homePageContent]),Object(i.useEffect)((()=>{Z(Object(u.c)({object:Object(I.a)(),contentFull:{content_type:"landingPage","fields.channel":v.b.channel,include:"5"},userParams:J})),Z(Object(j.b)({object:Object(I.a)(),contentFull:{content_type:"aggregatorImage",include:"5"}}))}),[Z,q,null===Q||void 0===Q||null===(o=Q.state)||void 0===o?void 0:o.storeId,J]),Object(i.useEffect)((()=>{Z(Object(j.j)({storeName:A,postCode:_,tenantId:q},(e=>{var t;const a={data:[{channel:v.b.channel,service:g.fe,storeId:(null===e||void 0===e?void 0:e.id)||(null===Q||void 0===Q||null===(t=Q.state)||void 0===t?void 0:t.storeId)}],tenantId:q};Z(Object(j.d)(a,(e=>{H(e)})))})))}),[Z]),Object(i.useEffect)((()=>{var e,t;f&&Object.keys(f).length&&Y({service:null===(e=P[0])||void 0===e?void 0:e.service,summary:null===(t=P[0])||void 0===t?void 0:t.summary,...f})}),[f,P]),Object(i.useEffect)((()=>{const e=setInterval((()=>{window.google&&(W(!0),clearInterval(e))}),100)}),[W]),Object(i.useEffect)((()=>{var e,t,a,i,o;F(null===D||void 0===D||null===(e=D.homePageContent)||void 0===e||null===(t=e.seoStructureData)||void 0===t?void 0:t.seo);const n=Object(p.sd)(null===C||void 0===C||null===(a=C.details)||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.icons),l=Object(p.wd)(r()(n,(e=>{var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.category)===g.qb.VIEWPORT_AGENT_BROWSER}))),{state:s,city:d,pinCode:u}=Object(p.sd)((null===B||void 0===B?void 0:B.addresses)&&(null===B||void 0===B||null===(o=B.addresses[0])||void 0===o?void 0:o.address)),v=Object(p.Ef)(null===B||void 0===B?void 0:B.availableTradingHours),b=B&&Object.keys(B).length&&Object(m.h)(null===B||void 0===B?void 0:B.availableCollectionPoints,g.Me),O=Object(m.l)(null===B||void 0===B?void 0:B.availableServicesPerChannel);if(b&&O){var j,h,S,I,N,x,f,T,E,y,A,_;const e=[...b,...O],t={StoreName:Object(p.wd)(null===B||void 0===B||null===(j=B.summary)||void 0===j?void 0:j.name),StoreOptions:null===(h=Object(m.v)(B,"",g.Me))||void 0===h||null===(S=h.orderTypes)||void 0===S?void 0:S.join(", "),StoreImage:"".concat(c.d.https).concat(null===l||void 0===l||null===(I=l.fields)||void 0===I||null===(N=I.desktopImage)||void 0===N||null===(x=N.fields)||void 0===x||null===(f=x.file)||void 0===f?void 0:f.url),StoreLat:null===(T=Object(p.wd)(null===B||void 0===B||null===(E=B.location)||void 0===E?void 0:E.latitude))||void 0===T?void 0:T.toString(),StoreLong:null===(y=Object(p.wd)(null===B||void 0===B||null===(A=B.location)||void 0===A?void 0:A.longitude))||void 0===y?void 0:y.toString(),StoreLocation:d,StoreAddress:Object(p.ac)((null===B||void 0===B?void 0:B.addresses)&&(null===B||void 0===B?void 0:B.addresses)),StorePostcode:u,StoreRegion:s,StoreAmenities:Object(m.b)(e),StorePhone:null===(_=oe()(null===B||void 0===B?void 0:B.contacts,["key",g.Zd])[0])||void 0===_?void 0:_.value,...v};k(t),R(g.ze)}}),[M,B,null===D||void 0===D?void 0:D.homePageContent,null===C||void 0===C||null===(l=C.details)||void 0===l||null===(d=l.fields)||void 0===d?void 0:d.icons]);const ie=()=>{const e=Object(p.de)(window.innerWidth);K(e)};return Object(i.useEffect)((()=>(window.addEventListener(g.ye,ie),()=>{window.removeEventListener(g.ye,ie)})),[z]),Object(p.ad)(!E,Object(x.jsxs)(x.Fragment,{children:[Object(p.l)(L,Object(x.jsx)(h.a,{page:w,seoObj:L})),Object(p.l)(Object(p.Td)(B),U,X.rdpMap,Object(x.jsx)(T,{isMobile:z,latLong:null===B||void 0===B?void 0:B.location})),Object(p.l)(y,Object(x.jsx)(ae,{})),Object(p.l)(Object(p.Td)(B),Object(x.jsx)(ee,{loggedIn:null===J||void 0===J?void 0:J.loggedIn,isMobile:z,restarantDetails:B,restrauntContentful:C,storeNumberFormat:V})),!y&&Object(p.Td)(B)&&Object(p.Td)($)&&X.rdpLickinFingerBlk&&$.crmSignUp&&Object(x.jsx)(S.a,{customTag:"h3",contentData:Object(p.sd)($.crmSignUp)})||null]}),Object(x.jsx)(b.a,{}))};t.default=o.a.memo(ne)},1110:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a(3),o=a(28),n=a(172),l=a(214),s=a(20),d=a.n(s),r=a(266),c=a(0),u=a(2);const v=(e,t)=>{if(e&&t){const a={};e.replace(/%(.*?)%/g,((e,t)=>{a[e]=t})),Object.entries(a).forEach((a=>{const[i,o]=a,n=((e,t)=>{var a;return null!==(a=e[t])&&void 0!==a?a:"N/A"})(t,o);if("string"==typeof n){const t=new RegExp(i,"ig");e=e.replace(t,n)}else{let t=JSON.parse(e);for(let e in t)t[e]===i&&(t[e]=n);e=JSON.stringify(t)}}))}return e},b=e=>{let{page:t,seoObj:a,seoTemplate:s}=e;const[b,O]=Object(i.useState)(null),[m,j]=Object(i.useState)(""),{seoContent:p}=Object(o.c)((e=>{var t,a,i;return{seoContent:null!==(t=null===e||void 0===e||null===(a=e.contentReducer)||void 0===a||null===(i=a.response)||void 0===i?void 0:i.seoStructureData)&&void 0!==t?t:null}}));return Object(i.useEffect)((()=>{var e,i,o,n,u,b;const m={...a,PageURL:null!==(e=null===(i=window)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.href)&&void 0!==e?e:"",HomeURL:null!==(n=null===(u=window)||void 0===u||null===(b=u.location)||void 0===b?void 0:b.origin)&&void 0!==n?n:"/"};if(!d()(p)){var h,g;const e=null!==(h=null!==s&&void 0!==s?s:null===p||void 0===p||null===(g=p.seo)||void 0===g?void 0:g.find((e=>{var a;return(null===(a=e.fields)||void 0===a?void 0:a.title)===t})))&&void 0!==h?h:{},{fields:{templateData:a={},data:i={}}={}}=e,{template:o={}}=null!==p&&void 0!==p?p:{},n=Object(r.documentToHtmlString)(o);if(!d()(n)){let e=Object(l.a)(n.replace(/<p>|<\/p>/gi,""));e=v(e,a),e=v(e,m);const t=Object(l.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t,a,i;return!((null===e||void 0===e?void 0:e.type)===c.tf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children)||(null===e||void 0===e?void 0:e.type)===c.sd&&(null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.name)===c.ke&&"N/A"===(null===e||void 0===e||null===(i=e.props)||void 0===i?void 0:i.content))})))}if(!d()(i)){let e=JSON.stringify(i);e=v(e,m),O(e)}}}),[t,p,a,s]),Object(u.jsxs)(n.a,{children:[m,Object(u.jsx)("script",{type:"application/ld+json",children:b})]})};b.defaultProps={page:"",seoTemplate:null,seoObj:null}},1112:function(e,t,a){"use strict";a.d(t,"g",(function(){return O})),a.d(t,"j",(function(){return m})),a.d(t,"l",(function(){return j})),a.d(t,"k",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"n",(function(){return I})),a.d(t,"e",(function(){return N})),a.d(t,"d",(function(){return x})),a.d(t,"m",(function(){return f})),a.d(t,"f",(function(){return T})),a.d(t,"h",(function(){return C})),a.d(t,"i",(function(){return E})),a.d(t,"a",(function(){return y}));var i=a(21),o=a(5),n=a(9),l=a(146),s=a(6),d=a(406),r=a(398),c=a(20),u=a.n(c),v=a(0),b=a(2);const O=async(e,t)=>{var a;await i.a.registerEvent(null===n.a||void 0===n.a||null===(a=n.a.menuNavigation)||void 0===a?void 0:a.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},o.Bb)},m=async(e,t)=>{const a=[];a.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:a[0]},o.Bb)},j=async(e,t,a)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a]}),await i.a.registerEvent(e.eventType,{data:n[0]},o.Bb)},p=async(e,t,a,n)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a],[n]:e.selectedData[n]}),await i.a.registerEvent(void 0,{data:l[0]},o.Bb)},h=(e,t)=>{const a=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===a||void 0===a?void 0:a.find((t=>{let{isHidden:a=!1,items:i}=t;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},g=(e,t,a,i,o,n)=>{var l;let s=[];return s=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.length)&&0===Object.keys(t).length?S(e.categories[0],a,i,o):Object.keys(t).length>0?S(t,a,i,o):S(e,a,i,o),s},S=(e,t,a,i)=>{var n;let l={},s=[];return s=null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.map((e=>(e.items.forEach(((e,n)=>{let s=e.additionalProperties.find((e=>e.key.toLowerCase()===r.o.PRICE_WITHOUT_TAX.toLowerCase())),d=Object(o.Jc)(s.value,i).toFixed(2);d=d?parseFloat(d):"NA",l={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:d,item_category:t,item_list_name:t,item_list_id:a,index:n,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),l))),s},I=async e=>{var t,a,l;await i.a.registerEvent(null===n.a||void 0===n.a||null===(t=n.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}},o.Bb)},N=(e,t)=>{let a={},i=e.find((e=>{var a;return(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const o in e.categories)if(e.categories[o].id===t)return a=e.categories[o],!0;return!1}))),{selectedCategory:i,selectedSubcategory:a}},x=function(e,t,a,i){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const n=(d=t,null===(s=e)||void 0===s?void 0:s.find((e=>{let{url:t,isHidden:a,categories:i}=e,o=!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===d||void 0===d?void 0:d.toLowerCase());return o||(o=i.find((e=>{let{url:t,isHidden:a}=e;return!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===d||void 0===d?void 0:d.toLowerCase())}))),o})));var s,d,r;if(u()(n)){if(t&&(a("category"),i(!0)),!u()(e)){var c;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&l.scroller.scrollTo(null===t||void 0===t||null===(c=t.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-140:-100})}}else l.scroller.scrollTo(null===n||void 0===n||null===(r=n.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-150:-100});return!u()(n)},f=e=>null===e||void 0===e?void 0:e.isStoreClosed,T=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:a}=d.d;let i=Object(s.translateWithI18Next)(t),o=Object(s.translateWithI18Next)(a);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=o),{btnText:i}},C=(e,t)=>{0===e.length&&Object(o.Ob)(document.title,Object(s.translateWithI18Next)(r.w)+" \u201c".concat(t,"\u201d ")+Object(s.translateWithI18Next)(r.s))},E=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let a=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;a.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),a},y=e=>{const{searchMode:t,filterList:a,dietaryList:i,products:o,viewUp:n,tenantData:l,getCardCount:s,catalogs:d,storeClosedData:r,setShowTopScrollBtn:c,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:O}=e;return(t.isSearchedMode||[...a,...i].length)&&null!==o&&void 0!==o&&o.length?Object(b.jsx)("div",{className:n?"small-menu-container":"medium-menu-container",children:Object(b.jsx)(v,{productList:o,cardType:n?"small":"medium",tenantData:l,cardCount:s,catalogs:d,storeClosedData:r,setShowTopScrollBtn:c,categoryId:O})}):t.isSearchedMode&&u()}},1130:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var i=a(3),o=a.n(i),n=a(62),l=a(28),s=a(73),d=a(5),r=a(35),c=a(6),u=a(41),v=a(2);var b=e=>{const{modalContent:t,onDispositionMethodSubmit:a,setRef:i=null}=e,{contentText:n="",infoObject:l=null,orderTypes:s=[]}=t,d=s.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{a(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),l&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:l.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:a,"data-testid":"form-component",children:d})]})})},O=a(144),m=a(55);var j=e=>{Object(i.useEffect)((()=>{Object(m.o)()}),[]);const{handleClose:t,DispositionModuleForm:a,headerText:n,modalTitleId:l=""}=e;return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsx)(O.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:l,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:a})})},p=a(21),h=a(9),g=a(0),S=a(407),I=a(16);const N=(e,t)=>{const a=[];for(const n of e){var i,o;const e=null===n||void 0===n||null===(i=n.fields)||void 0===i||null===(o=i.name)||void 0===o?void 0:o.split("-"),l=e[e.length-1].trim().toUpperCase();if(t&&null!==l&&void 0!==l&&l.includes(S.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:s="",selectDefault:d=!1,name:r,showOption:c=!0,id:u="",dispositionType:v}=n.fields;a.push({buttonText:s,selectDefault:d,type:r,showOption:c,id:u,dispositionType:v})}return a},x=e=>{const{headline:t="",subHeadline:a="",subHeadlineType:i="",title:o=""}=e[0].fields||{};return{modalHeaderText:o,contentText:t,infoObject:{type:i,infoText:a}}},f=(e,t,a,i)=>{var o;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:l}=I.a;null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length&&!i?Object(d.Fe)(t,{},l,n,a):a()};var T=a(85),C=a(24),E=a(113),y=a(92),D=a(236),A=a(1103),_=a(158),w=a(133),R=a(52);var L=e=>{const{CURRENTLY_CLOSED:t,SORRY:a}=A.a,{userOrderState:o,userOrderStateDispatch:u}=Object(i.useContext)(T.a),{contentData:O={}}=o.dispositionStateData,L=Object(l.c)((e=>e.tenantReducer)),{tenantId:k,disableOrderTypeAnalytic:M,isSpecialEventEnabled:F,enableDeliveryMenuOption:P}=L,{deeplinkSelectedStoreId:H,deepLinkStoreMode:U,isDeepLinkURL:W}=o,B=Object(d.Td)(O)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:o=[],supportedDispositions:n=[]}=i,l={modalHeaderText:"",modalContent:{}},s=a?n:n.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(a=t.dispositionType)||void 0===a?void 0:a.toUpperCase())!==g.Cf}));l.modalContent.orderTypes=N(s,t);const{modalHeaderText:d,contentText:r,infoObject:c}=x(o);return l.modalHeaderText=d,l.modalContent.contentText=r,l.modalContent.infoObject=c,l}({dispositionData:O,deepLinkStoreMode:U,isSpecialEventEnabled:F,enableDeliveryMenuOption:P});let{modalContent:Y={},modalHeaderText:G=""}=B;const{SEARCH_ORDER_DATA:V,MENU_URL:J,DISPOSITION_DATA:z,CURRENT_STORE_INFO:K,SCHEDULE_ORDER_TIME_DATA:q,SELECTED_TILE_DATA:X,DISPOSITION_METHOD:Q,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ae,SET_REDIRECTION_PATH:ie}=I.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:oe,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:le,TYPE_CHRISTMAS_ORDERING:se},FIND_OPEN_KFC_TEXT:de,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:be,SWITCH_TO_DINEIN_TEXT:Oe}=S.a,{ENABLE_ADDRESS_LOCALISATION:me,SHOW_MAP_VIEW_BUTTON:je}=R.a,pe=o&&o.dispositionStateData&&o.dispositionStateData.dispositionType?o.dispositionStateData.dispositionType:null;let he="";const ge=Object(d.Sd)(o.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):o.dispositionNew,Se=Object(l.b)(),Ie=Object(n.g)(),[Ne,xe]=Object(i.useState)(""),[fe,Te]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ce={},qrCodeScanTime:Ee}=Object(l.c)((e=>e.cartReducer)),{customerId:ye=""}=Object(l.c)((e=>e.profileReducer));let De=Object(l.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:we={}}=Object(l.c)((e=>Object(d.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Re}}=S.a;Object(i.useEffect)((()=>{Se(Object(s.u)()),Se(Object(s.t)()),Se(Object(s.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(U,Ie)}),[Se]);const Le=Object(i.useCallback)(((e,t)=>{e.stopPropagation();f(Ce,u,(()=>{Te({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Re,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Re,u,Ce]);Object(i.useEffect)((()=>{U&&Se(Object(s.l)({storeId:H,tenantId:k},null,(()=>{Te({showError:!0,errMsg:Object(c.translateWithI18Next)(re),errDesc:null,buttonText:Object(c.translateWithI18Next)(de),buttonCTA:e=>Le(e,!1)})})))}),[de,re,U,H,Se,k]);const ke=(e,t,a,i)=>{e.stopPropagation(),e.preventDefault();const o=t.split("-");if(he=o[o.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=oe),i&&(he=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(d.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},d.Bb)})({selectedDispositionType:he}),U){const e={data:[{storeId:H,channel:C.b.channel,service:g.fe},{storeId:H,channel:C.b.channel,service:g.Eb}],store:[{...we,service:g.fe},{...we,service:g.Eb}],tenantId:k,setStatusFlag:!1,isFavoritePage:!1},t=()=>{xe(he),Se(Object(s.d)(e)),u({type:Q,value:{dispositionType:he}})};f(Ce,u,t,a)}else[oe,ne,le,se].includes(he.toUpperCase())&&(u({type:ae,value:{findAKFC:!1}}),u({type:V,value:{showSearchStore:!0,configSearchScreen:w.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,w.a),u({type:z,value:{showDisposition:!1}}),u({type:Q,value:{dispositionType:he}}),u({type:me,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:l=!1}=De,r=Object(d.od)(n,l);((e,t)=>{var a;t||Object(m.p)(null===h.a||void 0===h.a||null===(a=h.a.selectOrderType)||void 0===a?void 0:a.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(d.h)(he),"%userType%":r},M)},Me=async(e,t)=>{const a=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(d.Mb)(t)));if(null!==a&&void 0!==a&&a.length){var i,n,l,s,v,b,O,j,p,h,S,I,N;const e={time:"ASAP",interval:null===a||void 0===a||null===(i=a[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(d.nb)(Se,!0,Ee,null===a||void 0===a?void 0:a[0],Object(d.Mb)(t),ye,e);Se(Object(r.f)({data:c,tenantId:k})),u({type:$,value:{oldvalue:ge,newValue:{store:null===a||void 0===a?void 0:a[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===a||void 0===a?void 0:a[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(l=o.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress})),Object(d.ze)(null===a||void 0===a||null===(s=a[0])||void 0===s||null===(v=s.addresses)||void 0===v||null===(b=v[0])||void 0===b||null===(O=b.address)||void 0===O||null===(j=O.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(d.vf)();const g={storeID:null===a||void 0===a||null===(p=a[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===a||void 0===a||null===(h=a[0])||void 0===h||null===(S=h.addresses)||void 0===S||null===(I=S[0])||void 0===I||null===(N=I.address)||void 0===N?void 0:N.pinCode};Object(m.y)(g),u({type:z,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let a=e||null;u({value:{selectedData:{}},type:X}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),u({value:a,type:K}),Se(Object(E.a)({...De,localized:!0})),u({value:{selectedDateTime:t},type:q}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Re,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(L)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),Ie.push({pathname:"".concat(J)})})(null===a||void 0===a?void 0:a[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===oe?Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(be),buttonCTA:e=>ke(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>ke(e,g.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(Ae.length>0&&!_e&&Ne&&U){var e,i,o;((e,i)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Te({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(a)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(de),buttonCTA:e=>Le(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,a,i,o,n,l,s,d,r,c,u,v,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(s=l.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(r=d.timings)||void 0===r||null===(c=r.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(b=v.asap)||void 0===b?void 0:b.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(i=e.name)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value)}}),[Ae,_e,U]);const Fe=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:z,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Re,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:ae,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),W&&Object(d.Bd)(Ie)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Fe(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Pe=Object(v.jsx)(b,{modalContent:Y,onDispositionMethodSubmit:ke}),He=Object(v.jsx)(j,{handleClose:Fe,DispositionModuleForm:Pe,headerText:G,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===fe||void 0===fe?void 0:fe.showError)&&Object(v.jsx)(D.a,{handleClose:null,CartAlertForm:Object(v.jsx)(y.a,{title:null===fe||void 0===fe?void 0:fe.errMsg,contentMsg:null===fe||void 0===fe?void 0:fe.errDesc,confirmButtonText:null===fe||void 0===fe?void 0:fe.buttonText,confirmHandler:null===fe||void 0===fe?void 0:fe.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),He]})}},1135:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(158),l=a(403),s=a(6),d=a(5),r=a(85),c=a(0),u=a(15),v=a(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:a,isMobile:b,onPositionChangeHandler:O,centerIndex:m,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=d.N,passAddress:S,storeCardHeight:I,latLongValue:N}=e,{PLACE_PIN:x}=n.a,{userOrderState:f}=o.a.useContext(r.a),{dispositionStateData:T={}}=f,{dispositionType:C=localStorage.getItem("dispositionType")}=T;let E,y,D=o.a.createRef();const[A,_]=Object(i.useState)(N),[w,R]=Object(i.useState)(!1),{RedMarker:L,RedMarkerNoText:k,BlackMarker:M,ArrowIcon:F}=u.a;Object(i.useEffect)((()=>{E=P(A),y=H(A)}),[]),Object(i.useEffect)((()=>{_(N),R(!1)}),[N]),Object(i.useEffect)((()=>{P(A),y=H(A)}),[A,m,w]);const P=e=>new window.google.maps.Map(D.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[m]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!b,gestureHandling:"greedy"}),H=e=>{const t=new window.google.maps.Geocoder;let a=e;E=P(a),j?w||(E.addListener("zoom_changed",(()=>{p(!1),R(!0)})),E.addListener("drag",(()=>{p(!1),R(!0)}))):(E.addListener("drag",(()=>{a={lat:E.getCenter().lat(),lng:E.getCenter().lng()},y.setPosition(a)})),window.google.maps.event.addListener(E,"dragend",(function(){!function(e,t,a){e.geocode({location:a},((e,t)=>{"OK"===t&&e[0]&&S(e[0].formatted_address)}))}(t,0,a)})));let i=Object(d.ad)(Array.isArray(a)&&a.length>0,a,[a]).map(((e,t)=>{let a=new window.google.maps.Marker({position:e,map:E,visible:!0,icon:Object(d.qd)(!j,!w&&j&&t===m)?(null===C||void 0===C?void 0:C.toUpperCase())===c.Df?k:L:M});return a.addListener("click",(function(e){g(e.latLng)})),a}));return Object(d.ad)(Array.isArray(a),i,i[0])};return Object(v.jsxs)(o.a.Fragment,{children:[!t&&((null===C||void 0===C?void 0:C.toUpperCase())!==c.Df||""!==a&&a?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(d.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(s.translateWithI18Next)(x)})})),b&&!w&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(I+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(d.hb)(0===m,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(d.ad)(0===m,e.preventDefault(),O(0)),children:Object(v.jsx)(l.a,{srcFile:F,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(m===A.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>m===A.length-1?e.preventDefault():O(1),children:Object(v.jsx)(l.a,{srcFile:F,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:D})]})}},1142:function(e,t,a){"use strict";var i=a(3),o=a(28),n=a(62),l=a(1146),s=a(1096),d=a(145),r=a(16),c=a(410),u=a(85),v=a(1179),b=a(35),O=a(5),m=a(400),j=a(0),p=a(61),h=a(398),g=a(20),S=a.n(g),I=a(397),N=a(2);const x={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},f=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),T=(e,t,a)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:a}};t.a=Object(n.j)((e=>{var t,a;const{productList:n=[],cardType:j="",tenantData:g={},categoryId:C,categoryName:E,categoryUrl:y,catalogs:D,storeClosedData:A,setShowTopScrollBtn:_}=e,{QUANTITY_ACTION:w}=p.a,{ADD_TO_CART_CLICK:R,PLP_PDP_DETAILS:L,MINI_PDP_DATA:k,FROMFLAGPLP:M}=r.a,{PlpProductCard:F={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:P}=m.a,[H,U]=Object(i.useState)(1),W=Object(o.b)(),B=Object(o.c)((e=>e.cartReducer)),{flatResponse:{productMapById:Y={},categoryMapById:G={}}={}}=null!==(a=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==a?a:{},{cartData:V={}}=Object(O.sd)(B),J=Object(o.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[z,K]=Object(i.useState)(e.selectedCat),[q,X]=Object(i.useState)(!1),{userOrderState:Q,userOrderStateDispatch:Z}=Object(i.useContext)(u.a),[$,ee]=Object(i.useState)(null),{showCartAlert:te}=Object(c.a)(void 0,void 0,void 0,void 0,Z,W,void 0);Object(i.useEffect)((()=>{X(!1)}));const{addToCartAnalyticsOnly:ae}=Object(c.a)({cartId:null===V||void 0===V?void 0:V.id},null===g||void 0===g?void 0:g.tenantId,void 0,Y,void 0,W,void 0),ie=(e,t,a,i)=>{var o;if(J.localized&&S()(null===B||void 0===B||null===(o=B.cartData)||void 0===o?void 0:o.id)){const{id:e,itemCount:t}=i,a=[{Id:e,categoryId:C,quantity:t+1,modGrps:[]}],o=!0;Object(O.I)(W,b.f,null===g||void 0===g?void 0:g.tenantId,Q,null===B||void 0===B?void 0:B.qrCodeScanTime,o,a)}else((e,t,a,i)=>{var o;const{id:n,itemCount:l,product:s,itemFoodlineId:r}=i,{catId:c}=a,{id:u="",name:v="",url:O=""}=null!==(o=null===G||void 0===G?void 0:G[c])&&void 0!==o?o:{};if(e&&e.stopPropagation(),ee(n),J.localized){if(t)K(c),Z({type:k,value:{id:n,flag:M,foodLineId:""}}),Z({type:P}),W(Object(d.c)({tenantId:g.tenantId,catalogName:D,itemId:n}));else if(0===l){var m;W(Object(b.a)({params:{basketId:null===B||void 0===B||null===(m=B.cartData)||void 0===m?void 0:m.id},tenantId:g.tenantId},[{Id:n,categoryId:u,quantity:l+1,modGrps:[],categoryName:v,categoryUrl:O}])),W(Object(b.u)(new Date)),ae(T(n,s,r),w.Increase,g.currencyConversionFactor)}else if(l>0){var j;W(Object(b.x)({params:{basketId:null===B||void 0===B||null===(j=B.cartData)||void 0===j?void 0:j.id,basketLineItemId:r},tenantId:g.tenantId},{quantity:l+1,isBundle:Object(I.e)(n)})),W(Object(b.u)(new Date)),ae(T(n,s,r),w.Increase)}}else X(!0),Z({type:R,value:{addToCart:!0,productItemId:n,categoryId:C,oldProduct:s,customizable:t,catalogs:D,fromPdpPage:!1}})})(e,t,a,i)},oe=Object(o.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{oe&&z&&Q.minipdpData.itemId===oe.id&&W(Object(b.v)({showProductListingModal:!0,categorySelected:z}))}),[oe]);const ne=()=>{te(!0)},le={...x,beforeChange:(e,t)=>{U(Math.round(t+1))},variableWidth:!1},se=(t,a,i,o)=>{const{catId:n,catName:l,catUrl:s}=o,{productId:d,productInfo:r}=a;t.preventDefault(),t.stopPropagation();const c={productId:d,customizable:i,catId:n,catalogName:D,productInfo:r,isFromPlp:!0,categoryName:l,categoryUrl:s};Z({type:L,value:c}),localStorage.setItem(h.p,JSON.stringify(c)),e.history.push({pathname:"/pdp/".concat(C,"/").concat(d)})},de=(e,t,a)=>{W(Object(d.a)({tenantId:e,customerId:a},t))},re=(e,t,a)=>{W(Object(d.b)({tenantId:e,customerId:t,itemId:a}))},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,a=Object(O.ve)(t.additionalProperties);return Object(N.jsx)(l.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:F,tenantData:g,servingCount:a.servings,button:e.button,categoryId:C,categoryName:E,categoryUrl:y,clickHandler:ie,customizable:t.customizable,onCardClickHandler:se,userParams:J,openAlertModal:ne,storeClosedData:A,addFavourite:de,removeFavourite:re,setShowTopScrollBtn:_,"data-testid":"menu-card-component",...a,...t},t.id)};return Object(N.jsxs)("div",{className:"product-container",children:[q&&Object(N.jsx)(v.a,{}),"carousal"===j?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"individual-card-counter",children:[H,"/",n.length]}),Object(N.jsx)(s.b,{settings:le,children:f(n,ce)})]}):f(n,ce)]})}))},1143:function(e,t,a){"use strict";a.d(t,"b",(function(){return X}));var i=a(3),o=a.n(i),n=a(420),l=a.n(n),s=a(395),d=a(404),r=a(263),c=a(85),u=a(16),v=a(120),b=a(28),O=a(73),m=a(12),j=a(5),p=a(62),h=a(113),g=a(158),S=a(46),I=a(6),N=a(4),x=a(35),f=a(24),T=a(107),C=a(0),E=a(394),y=a(411),D=(a(1155),a(15)),A=a(55),_=a(600),w=a(2);const{ORDER_TYPE:R,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:k,EDIT:M,SCHEDULE_FOR_YOUR_ORDER_TEXT:F,DATE:P,TIME:H,CONFIRM_BTN_TEXT:U,DELIVERY_UNAVAILABLE_ERROR:W,SWITCH_TO_TAKEAWAY_TEXT:B,ERROR_MESSAGE_IN_ACTIVE:Y,DELIVERY_PICKUP_MESSAGE:G,ERROR_MESSAGE_CLOSED:V,SCHEDULE_ORDER:J,CHANGE_ORDER_TITLE:z,ASAP_SERVES_Warning_Message:K}=N.a,q=(e,t,a)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(a)),X=e=>"ASAP"!==e&&"-"!==e?e:Object(m.S)(Object(m.o)(),g.a.HHMM,g.a.LT),Q=(e,t)=>{let a={};return"-"!==e&&"ASAP"!==e?a={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(a={isForNow:!0,futureDateTime:0}),a},Z=(e,t,a)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Kb)(i.type):t?C.Mb.PICKUP:Object(j.Kb)(a)};function $(e,t,a){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||a(null===(i=e[0])||void 0===i?void 0:i.timestr):a("-")}t.a=Object(p.j)((e=>{var t,a,n,p,N,te,ae,ie,oe,ne,le,se,de,re,ce,ue,ve;const{SingleArrow:be,Calendar:Oe,Error:me}=D.a,je=Object(i.useRef)(null),pe=Object(i.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Se,SCHEDULE_ORDER_DATA:Ie,DISPOSITION_DATA:Ne,SCHEDULE_ORDER_TIME_DATA:xe,CLOSED:fe,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Te,MENU_URL:Ce,PDP_URL:Ee,SELECTED_TILE_DATA:ye,DISPOSITION_METHOD:De,SET_DISPOSITION:Ae,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:we,CLEAR_CART_CONFIRM_CANCEL_MODAL:Re,clearCartChangeFlag:Le,orderTypeAlertTitle:ke,searchStoreAlertTitle:Me,CURRENT_STORE_INFO:Fe,SET_FORCERELOAD:Pe}=u.a,He=Object(b.c)((e=>e.profileReducer)),{userOrderState:Ue,userOrderStateDispatch:We}=Object(i.useContext)(c.a),{dispositionStateData:Be={},scheduleOrderData:Ye={}}=Ue,{changeFlow:Ge=!1,isAddressFlow:Ve=!1}=Ye,Je=Ye&&Object(j.Td)(Ye.storeInfo)?Ye.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:ze=""}=Be,Ke=ze||localStorage.getItem("dispositionType"),{value:qe=""}=(null===Ye||void 0===Ye||null===(t=Ye.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Xe=""}=Ye&&(null===(a=Ye.selectedDateTimeInfo)||void 0===a||null===(n=a.date)||void 0===n?void 0:n.length)>0?Ye.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Qe=Ye&&(null===(p=Ye.selectContentData)||void 0===p||null===(N=p.savedTime)||void 0===N?void 0:N.length)>0?null===(te=Ye.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(ae=Ye.storeInfo)||void 0===ae||null===(ie=ae.summary)||void 0===ie?void 0:ie.timings)||{},tt=Object(j.Sd)(Ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ue.dispositionNew,{unavailibilities:at,unavailibilityType:it}=$e,{interval:ot=0,startEndTime:nt={}}=$e&&(null===$e||void 0===$e||null===(oe=$e.periods)||void 0===oe?void 0:oe.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:lt,to:st}=nt;let dt=Object(b.c)((e=>e.appStateReducer.userStatus));const rt=Object(b.b)(),ct=Object(b.c)((e=>e.tenantReducer)),ut=Object(b.c)((e=>e.storesReducer)),vt=Object(b.c)((e=>e.cartReducer)),{cartData:bt}=vt,{storesAvilableTimeSlots:Ot,storesTimeSlots:mt}=ut,[jt,pt]=Object(i.useState)(!1),[ht,gt]=Object(i.useState)({error:!1,errormessage:""}),[St,It]=Object(i.useState)({from:lt,to:st,interval:ot}),[Nt,xt]=Object(i.useState)({error:!1,openStoreTime:""}),ft=(null===(ne=Ye.storeInfo)||void 0===ne||null===(le=ne.summary)||void 0===le||null===(se=le.status)||void 0===se?void 0:se.currentStatus)===fe,Tt=()=>{var e;return Ge?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ve&&(null===Ke||void 0===Ke?void 0:Ke.toUpperCase())===g.a.TYPE_DELIVERY},[Ct,Et]=Object(i.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[yt,Dt]=Object(i.useState)(et&&et.isAvailable?"ASAP":Object(m.S)(null===nt||void 0===nt?void 0:nt.from,"hh:mm","LT")),[At,_t]=Object(i.useState)([]),[wt,Rt]=Object(i.useState)(!1),[Lt,kt]=Object(i.useState)(!1),[Mt,Ft]=Object(i.useState)(Object(j.de)(window.innerWidth)),Pt=()=>{Ft(Object(j.de)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Pt)}),[Mt]),Object(i.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country)){var e;const t={storeid:null===Ye||void 0===Ye||null===(e=Ye.storeInfo)||void 0===e?void 0:e.id,channel:f.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};rt(Object(O.c)({data:t,tenantId:ct.tenantId}))}let t=Object(v.j)(lt,st,ot,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);return _t(t),()=>{rt(Object(O.a)())}}),[]);const Ht=e=>{var t,a;if("INDIA"===(null===ct||void 0===ct?void 0:ct.country))return;const i=Object(m.h)(e,"YYYY-MM-DD");if($e.date===i){let t=Object(v.j)(lt,st,ot,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);return _t(t),Dt(t[0].timestr),It({from:lt,to:st,interval:ot}),Et(e),gt({...ht,error:!1,errormessage:""}),Rt(!1),void kt(!1)}const o={storeid:null===Ye||void 0===Ye||null===(t=Ye.storeInfo)||void 0===t?void 0:t.id,channel:f.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:i};if(rt(Object(O.c)({data:o,tenantId:ct.tenantId})),Et(e),(null===Ot||void 0===Ot||null===(a=Ot.periods)||void 0===a?void 0:a.length)>0){const{startEndTime:e,interval:t}=Ot.periods[0],{from:a,to:i}=e;let o=Object(v.j)(a,i,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);It({from:a,to:i,interval:t}),_t(o)}gt({...ht,error:!1,errormessage:""})},Ut=e=>{const t=new Date,a=new Date(e.split("T")[0]);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},Wt=e=>{var t;Dt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let a=Object(v.f)(lt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ut(Xe)?"Today":"Tomorrow"});Et(a),Rt(!1),kt(!1),gt({...ht,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Qe;Xe&&Ht(new Date(Xe)),((e,t,a,i,o,n)=>{if(e&&t){const e=Object(m.S)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===a||void 0===a?void 0:a.split(":")[0]),Number(null===a||void 0===a?void 0:a.split(":")[1]),0)?n(o):n(t)}})(Ge,e,lt,Xe,Qe,Wt),((e,t,a,i,o)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var n;const e={storeid:null===t||void 0===t||null===(n=t.storeInfo)||void 0===n?void 0:n.id,channel:f.b.channel,service:Object(j.Mb)(a()).toString().toLowerCase(),date:""};i(Object(O.c)({data:e,tenantId:null===o||void 0===o?void 0:o.tenantId}))}})(Ze,Ye,$t,rt,ct)}),[]),Object(i.useEffect)((()=>{let e=Object(j.ad)(Ge,Object(I.translateWithI18Next)(z),Object(I.translateWithI18Next)(J));var t;if(Object(j.Td)(mt)&&jt)if((null===mt||void 0===mt||null===(t=mt.status)||void 0===t?void 0:t.currentStatus)===fe)gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(V)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(V));else{let t=new Date;if(new Date(Ct).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(m.o)().add(et.promiseTime,"minutes").format("LT");Object(m.c)(t,yt,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(Y)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(Y))):q(he,Ce,Ee)?Bt():Yt()}else q(he,Ce,Ee)?Bt():Yt()}}),[mt,He]);const Bt=()=>{var t,a;We({type:ye,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(ct)),localStorage.setItem("selectedTile",JSON.stringify({}));const i=null===he||void 0===he?void 0:he.pathname,o=null===Je||void 0===Je||null===(t=Je.summary)||void 0===t?void 0:t.name,n=null===ct||void 0===ct||null===(a=ct.componentOptions)||void 0===a?void 0:a.showToastAfterLocalization;Yt(),e.history.push({pathname:"".concat(Ce),...!Object(j.ce)(i)&&{state:{toastData:{storeName:o,service:Ke,showToastAfterLocalization:n}}}})},Yt=async()=>{We({type:Ie,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ye||void 0===Ye?void 0:Ye.storeInfo,changeFlow:!0}}),We({type:De,value:{dispositionType:Ke}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ye&&void 0!==Ye&&Ye.storeInfo?JSON.stringify(Ye.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ye&&void 0!==Ye&&Ye.storeInfo?JSON.stringify(Ye.storeInfo):JSON.stringify({})),We({type:Fe,value:Object(j.sd)(null===Ye||void 0===Ye?void 0:Ye.storeInfo)}),We({type:Se,value:{showSearchStore:!1}});let e="",t="";"ASAP"===yt||"-"===yt?(e="ASAP",t="ASAP"):(e=yt,t=yt),We({type:Pe,value:{forceReload:!0}});let a=X(yt);const i=Object(m.A)(Object(m.h)(Ct,"YYYY-MM-DD")+" "+a,"YYYY-MM-DD hh:mm A");let o={time:e,interval:St.interval,date:Ct,epochTime:i,selectedTime:yt},n=(null===Ye||void 0===Ye?void 0:Ye.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==Je.id||tt.deliveryAddress!==Ye.deliveryAddress){let e=await Object(j.A)(Je,Object(j.Mb)(Ke),null===He||void 0===He?void 0:He.customerId,o,n,null===Ye||void 0===Ye?void 0:Ye.deliveryAddressLine);rt(Object(x.m)("")),rt(Object(x.f)({data:e,tenantId:ct.tenantId}))}rt(Object(h.a)({...dt,localized:!0})),We({type:Ae,value:{oldvalue:tt,newValue:{type:$t(),store:Je,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:Je,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n})),Object(j.vf)(),We({type:xe,value:{selectedDateTime:o}}),We({type:Te,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,a={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(Ot||{}).length){var i,o,n;const{startEndTime:e,interval:s}=Object(j.qd)(null===(i=Ot[0])||void 0===i?void 0:i.periods[0],a),{startEndTime:d}=Object(j.qd)(null===(o=Ot[1])||void 0===o?void 0:o.periods[0],a),{from:r}=e,{to:c}=d;var l;if(t=Object(v.j)(r,c,s,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(n=Ot[0])||void 0===n?void 0:n.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it),It({from:r,to:c,interval:s}),_t(t),$(t,Qe,Wt),!Ot.find((e=>e.date===Xe.split("T")[0])))Et(new Date(null===(l=Ot[0])||void 0===l?void 0:l.date))}else if(Object.keys(Ot||{}).length){var s,d;const{startEndTime:e,interval:i}=Object(j.qd)(null===(s=Ot[0])||void 0===s?void 0:s.periods[0],a),{from:o,to:n}=e;var r;if(t=Object(v.j)(o,n,i,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===ct||void 0===ct?void 0:ct.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(d=Ot[0])||void 0===d?void 0:d.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),at,it),It({from:o,to:n,interval:i}),_t(t),$(t,Qe,Wt),!Ot.find((e=>e.date===Xe.split("T")[0])))Et(new Date(null===(r=Ot[0])||void 0===r?void 0:r.date))}const c=localStorage.getItem("modalSource");var u;null!==ct&&void 0!==ct&&ct.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&ft&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&xt({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(Ot)]);const Gt=e=>{var t,a;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(a=pe.current)&&void 0!==a&&a.contains(e.target)||(Rt(!1),kt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Gt),()=>{document.removeEventListener("mousedown",Gt)})),[]);const Vt=()=>{We({type:Se,value:{showSearchStore:!0}}),We({type:Ie,value:{showDisposition:!1}}),We({type:De,value:{dispositionType:"Pickup"}})},Jt=null===Ye||void 0===Ye||null===(de=Ye.storeInfo)||void 0===de||null===(re=de.availableServicesPerChannel)||void 0===re||null===(ce=re.find((e=>"web"===e.channel)))||void 0===ce?void 0:ce.services,zt=null===Jt||void 0===Jt?void 0:Jt.includes("delivery"),Kt=Object(j.hb)(Tt(),!zt),qt=()=>{let e=Object(I.translateWithI18Next)(G),t=!1;return zt&&(e=Object(I.translateWithI18Next)(W),t=!0),{showTakeWayButton:t,message:e}},{message:Xt}=qt();Object(i.useEffect)((()=>{Object(T.g)(Ge,Xt)}),[Xt]);const Qt=()=>{const{message:e,showTakeWayButton:t}=qt();return Object(w.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(w.jsx)(S.a,{srcFile:me,className:"location-alert-icon"}),Object(w.jsx)("div",{className:"location-error-message",children:e}),Object(w.jsx)("div",{className:"location-error-button-section",children:t&&Object(w.jsx)(s.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Vt,children:Object(I.translateWithI18Next)(B)})})]})},Zt=e=>{var t;let{orderType:a}=e,i=Object(I.translateWithI18Next)(K),o=null===i||void 0===i?void 0:i.replace("%time%",Nt.openStoreTime);return o=null===(t=o)||void 0===t?void 0:t.replace("%servesName%",a),Object(w.jsxs)("div",{className:"asap-warning-container",children:[Object(w.jsx)("span",{className:"error-img"}),o]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ge&&e?e.type:Ve?"Pickup":Ke},ea=Ge?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ye.deliveryAddress;return Object(w.jsxs)("div",{className:"scheduleOrder-form",children:[Object(w.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(R)}),Object(w.jsxs)("div",{className:"ordertype-input-div",children:[Object(w.jsx)(d.a,{value:Z(Ge,Ve,Ke),className:"w-100"}),Object(w.jsx)("div",{className:"edit-input",children:Object(w.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(bt&&(null===bt||void 0===bt||null===(e=bt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:ke};Object(j.Fe)(We,e,we,Re)}else We({type:Ne,value:{showDisposition:!0}});We({type:Ie,value:{showScheduleOrderCatering:!1}}),We({type:Se,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(I.translateWithI18Next)(M)})})]}),ht&&ht.error&&Object(w.jsxs)("div",{className:"error-container",children:[Object(w.jsx)("span",{className:"error-img"}),ht.errormessage]}),Mt&&Kt&&Object(w.jsx)(Qt,{}),Object(w.jsx)("h3",{className:"order-type",children:Tt()?Object(I.translateWithI18Next)(k):Object(I.translateWithI18Next)(L)}),Object(w.jsxs)("div",{className:"ordertype-input-div",children:[Object(w.jsx)(d.a,{value:Tt()?ea:qe||"",className:"w-100"}),Object(w.jsx)("div",{className:"edit-input",children:Tt()?Object(w.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(We({type:De,value:{dispositionType:Ge?JSON.parse(localStorage.getItem("dispositionNew")).type:Ke}}),bt&&(null===bt||void 0===bt||null===(e=bt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(We,e,we,Re)}else We({type:Se,value:{showSearchStore:!0}});We({type:Ie,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(I.translateWithI18Next)(M)}):Object(w.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===bt||void 0===bt||null===(e=bt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(We,e,we,Re)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ve)We({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ye.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];We({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}We({type:Ie,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ge)}}),We({type:De,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(I.translateWithI18Next)(M)})})]}),!Mt&&Kt&&Object(w.jsx)(Qt,{}),(null===Nt||void 0===Nt?void 0:Nt.error)&&Object(w.jsx)(Zt,{orderType:Z(Ge,Ve,Ke)}),Object(w.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(F)}),Object(w.jsxs)("div",{className:"schedule-date-time",children:[Object(w.jsxs)("div",{className:"schedule-date",children:[Object(w.jsx)("div",{className:"dateTitleDatePicker",children:Object(I.translateWithI18Next)(P)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===ct||void 0===ct?void 0:ct.country)?Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsxs)("div",{ref:je,onClick:()=>kt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(w.jsx)(l.a,{selected:Ct,showPopperArrow:!1,onChange:e=>Ht(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(w.jsx)("img",{src:Oe,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(w.jsx)("span",{className:"dropdown-img"})]}):Object(w.jsx)(o.a.Fragment,{children:Object(w.jsx)("div",{className:"time-input time-input-container",children:Object(m.h)(Ct,"YYYYMMDD")===Object(m.e)("YYYYMMDD")&&Object(I.translateWithI18Next)("today")||Object(I.translateWithI18Next)("tomorrow")})})]}),Object(w.jsxs)("div",{className:"schedule-time",children:[Object(w.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(I.translateWithI18Next)(H)}),Object(w.jsxs)("div",{className:ee(At),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Rt(!wt),onClick:()=>0!==$e.periods.length&&Rt(!wt),children:[Object(w.jsx)("div",{className:"time-input asap-default",children:yt}),Object(w.jsx)("img",{src:be,alt:" ",className:"downarrow-time-list"})]}),wt&&Object(w.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(w.jsx)("ul",{children:!(null===At||void 0===At||!At.length)&&(null===At||void 0===At?void 0:At.map((e=>Object(w.jsx)("li",{tabIndex:"0",onClick:()=>{xt((e=>({...e,error:!1}))),Wt(e)},onKeyPress:()=>Wt(e),children:e.timestr}))))})})]})]}),Object(w.jsx)("div",{className:"text-center schedule-btn-div",children:Object(w.jsx)(s.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(I.translateWithI18Next)(U),onClickHandler:e=>{var t,a,i,o,n;Object(A.D)(),e.stopPropagation(),e.preventDefault();const l={storeID:null===Je||void 0===Je?void 0:Je.id,disposition:Ke,postCode:null===Je||void 0===Je||null===(t=Je.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};ge(l),Object(E.J)(l,yt),Object(y.a)(Ye),pt(!0);let s=X(yt);const d=Object(m.A)(Object(m.h)(Ct,"YYYY-MM-DD")+" "+s,"YYYY-MM-DD hh:mm A"),r={storeid:null===Ye||void 0===Ye||null===(i=Ye.storeInfo)||void 0===i?void 0:i.id,channel:f.b.channel,service:null===(o=Object(j.Mb)($t()))||void 0===o||null===(n=o.toString())||void 0===n?void 0:n.toLowerCase(),futureDateTimeInEpochFormat:d,asap:yt===C.s};rt(Object(O.n)({data:r,tenantId:ct.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const a=null===Je||void 0===Je||null===(e=Je.summary)||void 0===e?void 0:e.name,i=null===ct||void 0===ct||null===(t=ct.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(_.a)(a,Ke,i)}}))),null!==bt&&void 0!==bt&&bt.id&&rt(Object(O.q)({params:{basketId:null===bt||void 0===bt?void 0:bt.id},tenantId:ct.tenantId,postBody:Q(yt,d)})),We({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(I.translateWithI18Next)(U)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var i=a(3),o=a(28),n=a(398),l=a(5),s=a(235),d=a(61),r=a(410),c=a(6),u=a(35),v=a(395),b=a(46),O=a(264),m=a(1099),j=a(1112),p=a(1134),h=a(0),g=a(15),S=a(145),I=a(85),N=a(16),x=a(262),f=a(2);const T=(e,t,a,i,o)=>Object(l.ad)(e||t||a||i||o,g.a.ribbonRedOutlined,null);var C=function(e){var t,a,r;const{getCardTypeName:C,cardType:E,allowClickOnProductCard:y,discount:D,specials:A,exclusive:_,timer:w,cardId:R,customizable:L,getProductImageClassName:k,tenantData:M,imageName:F,onCardClickHandler:P,categoryId:H,categoryName:U,categoryUrl:W,dname:B,availability:Y=[],newitem:G,topseller:V,customlabelfield:J,getSpecificRibbonBanner:z,userParams:K,favouriteItems:q,item:X,classFavouriteIconActive:Q,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ae,veg:ie,servingCount:oe,getVegNonvegClassName:ne,menuProductPriceClassName:le,checkForBasePriceInMenu:se,baseprice:de,cardCat:re,displayPrice:ce,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:be,updateItemQuantity:Oe,configureOptions:me,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Se,menuCardBtnText:Ie,clickHandler:Ne,itemFoodlineId:xe,openCostomizedModal:fe,setOpenCostomizedModal:Te,filteredPreviousData:Ce,cartData:Ee,CARD_TYPE:ye,setShowTopScrollBtn:De,pricewithouttax:Ae}=e,_e=Object(o.b)(),{RESET_MODGROUP_IDS_UPDATE:we}=x.a,{MINI_PDP_DATA:Re,FROMFLAGEDIT:Le,EDIT_CLICKED:ke}=N.a,{userOrderStateDispatch:Me}=Object(i.useContext)(I.a),[Fe,Pe]=Object(i.useState)(!1),[He,Ue]=Object(i.useState)(Object(l.de)(window.innerWidth)),{ITEM_QUANTITY:We}=s.a,{QUANTITY_ACTION:Be}=d.a,Ye=Object(l.ad)(null===K||void 0===K?void 0:K.loggedIn,h.cg,""),{allowAddToCartButton:Ge=!0}=me,{web:{global:{showPriceWithTax:Ve=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Je,Veg_dot_Icon:ze,Product_Card_Icon:Ke,TimerIcon:qe,FavoriteInActiveWhite:Xe,heartIcon_active:Qe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(i.useEffect)((()=>{window.addEventListener(h.ye,et)}),[He]);const et=()=>{Ue(Object(l.de)(window.innerWidth))},tt=()=>Object(f.jsxs)("div",{className:le(E),children:[Object(l.hb)(se(de,re),ce(de,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(f.jsxs)("span",{className:ue(de,re),children:[n.o.MENU_CARD.CURRENCY,Object(l.Fc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve).toFixed(2)]})]}),at=()=>Object(f.jsxs)("div",{className:ne(E),children:[Object(l.hb)(He,Object(f.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ie,Je,ze)})),Object(l.hb)(!He,Object(l.ad)(!ie,Object(c.translateWithI18Next)(n.o.MENU_CARD.NON_VEG),Object(c.translateWithI18Next)(n.o.MENU_CARD.VEG))),Object(l.hb)(oe,Object(f.jsx)("div",{className:"Dot"})),n.o.MENU_CARD.SERVES,oe]}),it=()=>{if(null!==K&&void 0!==K&&K.loggedIn)return Object(f.jsxs)("picture",{children:[Object(f.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(l.ad)("small-menu-product-card"===Z,Object(l.ad)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Q(E),te(E)),Object(l.ad)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"fav-item-source",onClick:()=>$()}),Object(f.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(l.ad)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Qe,Xe),alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(f.jsx)("img",{src:Object(l.hb)(Array.isArray(q),null===q||void 0===q?void 0:q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))))?Qe:Xe,alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"save-product-".concat(R),onClick:()=>$()})]})},ot=()=>Object(f.jsx)(b.a,{"data-testid":"product-image",className:k(E),defaultPath:Object(l.bc)(null,M,!0),srcFile:Object(l.bc)(F,M),onClick:e=>Object(l.Nf)(y,P,[e,R,L,H,{productName:B,productImage:F,productPrice:Object(l.Fc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}]),alt:""}),nt={productId:R,productInfo:{productName:B,productImage:F,productPrice:Object(l.Fc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}},lt={catId:H,catName:U,catUrl:W},st={id:R,itemCount:ee,product:{productName:B,productImage:F,productPrice:Object(l.Ec)(Y[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:xe};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:C(E,y,D,A,_,w),"data-testid":"click-allow-on-product-".concat(R),id:R,children:[Object(l.Zd)()&&L&&Object(f.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),E!==ye.SMALL&&ot(),Object(f.jsx)(O.a,{src:Object(l.ad)(A,Ke,T(J,D,_,G,V)),className:Object(l.ad)(A,"specials-product-ribbon",Object(l.ad)(Object(l.jb)(_,J),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(f.jsx)("span",{className:Object(l.ad)(A,"specials-ribbon-text","discount-ribbon-text"),children:w?Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{src:qe,className:"product-timer"}),Object(f.jsx)("span",{className:"product-timer-text",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.TIMER)})]}):z(A,D,_,G,V,J)}),Object(l.hb)(!He,it()),Object(f.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{y&&P(e,nt,L,lt)},children:[Object(f.jsx)("div",{className:ae(E,D,A,_,{timer:w,newitem:G,topseller:V,customlabelfield:J}),children:null===B||void 0===B?void 0:B[0].value}),He?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"description-and-image",children:[Object(f.jsx)("div",{className:ve(E),id:"longDescription",children:be[0].value}),E===ye.SMALL&&ot()]}),Object(f.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),at(),Object(f.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ie,Je,ze)}),at(),tt(),Object(f.jsx)("div",{className:ve(E),id:"longDescription",children:be[0].value})]})]}),Object(f.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ye:"cardwithNoquantity"),children:[!!ee&&(dt=ee,rt=Oe,ct=null===B||void 0===B?void 0:B[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(f.jsx)(m.a,{itemCount:dt,itemQuantity:We,updateItemQuantity:rt,quantityAction:Be,item:void 0,itemName:ct,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ge&&je&&Object(f.jsx)("div",{className:pe(ee,Ye),children:ee<1?Object(f.jsxs)(v.a,{tabIndex:"0",className:he(ge,E,Se,je),"data-testid":"add-to-cart-".concat(R),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Ie(je))&&void 0!==t&&t.enabled&&ee<=0&&Ne(e,L,lt,st)},"aria-label":(null===(a=Ie(je))||void 0===a?void 0:a.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(r=Ie(je))||void 0===r?void 0:r.btnText,Object(l.J)(je.isStoreClosed)]}):L&&Object(f.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Re,value:{id:null===X||void 0===X?void 0:X.mdmId,flag:Le,foodLineId:xe}}),Me({type:we}),Me({type:ke,value:{cartEditClicked:!1}}),_e(Object(S.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===Ee||void 0===Ee?void 0:Ee.catalog,itemId:null===X||void 0===X?void 0:X.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:H}))):(Pe(!0),Te(!0))},children:Object(c.translateWithI18Next)(n.o.EDIT_SELECTIONS)})})]})]}),Object(f.jsx)("div",{children:fe&&(()=>{var t;return Object(f.jsx)(p.a,{handleClose:()=>{Te(!1),Pe(!1)},filteredPreviousData:Ce,updateItemQuantity:Oe,tenantData:M,dname:B,clickHandler:Ne,cardId:R,categoryId:H,categoryName:U,categoryUrl:W,itemCount:ee,availability:Y,pricewithouttax:Ae,imageName:F,itemFoodlineId:xe,customizable:L,setOpenCostomizedModal:Te,openCostomizedModal:fe,cartData:Ee,setShowTopScrollBtn:De,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Fe,headerText:Object(l.ad)(Fe,Object(c.translateWithI18Next)(n.o.EDIT_QUANTITY),Object(c.translateWithI18Next)(n.o.SELECT_QUANTITY))})})()})]});var dt,rt,ct,ut};const{CARD_TYPE:E}=n.o,{FavoriteInActiveWhite:y,heartIcon_active:D,heartIcon_activeFavourite:A,heartIcon_inactive_red:_}=g.a,w=(e,t,a,i,o,n)=>e===E.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===E.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===E.SMALL?((e,t,a,i,o)=>e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||o)?"small-menu-product-card product-card-active":!e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,o,n):e===E.CAROUSAL?"carousal-menu-product-card":void 0,R=e=>e===E.LARGE?"menu-product-image":e===E.MEDIUM?"medium-menu-product-image":e===E.SMALL?"small-menu-product-image":e===E.CAROUSAL?"carousal-menu-product-image":void 0,L=(e,t,a,i,o)=>{let{timer:n,newitem:l,topseller:s,customlabelfield:d}=o;return e===E.LARGE?"menu-product-header":e===E.MEDIUM?"medium-menu-product-header":e===E.SMALL?t||a||i||n||l||s||d?"small-menu-product-header-shift":"small-menu-product-header":e===E.CAROUSAL?"carousal-menu-product-header":void 0},k=e=>e===E.LARGE?"menu-vegOrNonVeg":e===E.MEDIUM?"medium-menu-vegOrNonVeg":e===E.SMALL?"small-menu-vegOrNonVeg":e===E.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===E.LARGE?"menu-product-price":e===E.MEDIUM?"medium-menu-product-price":e===E.SMALL?"small-menu-product-price":e===E.CAROUSAL?"carousal-menu-product-price":"",F=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",P=e=>e===E.LARGE?"menu-product-description":e===E.MEDIUM?"medium-menu-product-description":e===E.SMALL?"small-menu-product-description":e===E.CAROUSAL?"carousal-menu-product-description":"",H=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,U=e=>{const{ADD_TO_CART:t}=s.a;let a=Object(c.translateWithI18Next)(t),i="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",i="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",i="store-closed",o=!1),{btnText:a,className:i,enabled:o}},W=(e,t,a,i)=>e?"".concat(((e,t)=>{let a,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case E.LARGE:a="menu-cart-button";break;case E.MEDIUM:a="medium-menu-cart-button";break;case E.SMALL:a="small-menu-cart-button";break;case E.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(i," ").concat(a)})(t,a)," ").concat(U(i).className):"button btn-black medium-menu-cart-button",B=(e,t,a,i,o,s)=>{let d;return d=s?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:s}):e||(t||(a?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(f.jsx)("span",{"data-testid":"new-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.NEW)}):Object(l.ad)(o,Object(f.jsx)("span",{"data-testid":"topseller-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.TOP_SELLER)}),null))),d},Y=e=>e===E.CAROUSAL?D:A,G=e=>e===E.CAROUSAL?y:_,V=(e,t)=>Boolean(e)&&"recommended"!==t,J=(e,t)=>{let a;return a=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"price-display",children:"old price"}),Object(f.jsxs)("span",{className:"base-price-menu",children:[n.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.b=e=>{var t,a;const{cardId:n,cardType:s,discount:c,specials:v,exclusive:b,timer:O,availability:m=[],tenantData:p,customizable:h,categoryId:g,activeId:S,addFavourite:I,removeFavourite:N,item:x,isHidden:T,cardFor:y,setShowTopScrollBtn:D,userParams:A}=e,{QUANTITY_ACTION:_}=d.a,z=Object(o.b)(),K=null===p||void 0===p?void 0:p.tenantId,{componentOptions:q={}}=p,{PlpProductCard:X={}}=q,{allowClickOnProductCard:Q=!1}=X,Z=Object(o.c)((e=>e.cartReducer)),$=Object(o.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(l.sd)(Z),[ae,ie]=Object(i.useState)(0),[oe,ne]=Object(i.useState)(null),[le,se]=Object(i.useState)(0),de=null===$||void 0===$?void 0:$.id,re=Object(o.c)((e=>{var t;return Object(l.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[ce,ue]=Object(i.useState)(!0),[ve,be]=Object(i.useState)("product"),{flatResponse:{productMapById:Oe={}}={}}=null!==(t=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[me,je]=Object(i.useState)(""),[pe,he]=Object(i.useState)(0),[ge,Se]=Object(i.useState)([]),[Ie,Ne]=Object(i.useState)(!1),[xe,fe]=Object(i.useState)(""),{couponCode:Te="",amount:Ce=0}=(null===ee||void 0===ee||null===(a=ee.discountLines)||void 0===a?void 0:a[0])||{},{foodLines:Ee,total:ye}=ee,De=Number((ye/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:Te,amount:Number((Ce/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{y&&be(y)}),[y]),Object(i.useEffect)((()=>{const e=Object(l.Td)(ee)?Object(l.mc)(n,ee):{},t=Object(l.ad)(Object(l.Td)(e),e.count,0),a=Object(l.ad)(Object(l.Td)(e),e.matchedItemFoodLineId,""),i=Object(l.ad)(Object(l.Td)(e),e.entriesCount,0),o=Object(l.ad)(Object(l.Td)(e),e.itemUnitPrice,"");ie(t),ne(a),se(i),he(o)}),[ee,n]);const _e=Object(i.useCallback)((()=>{je(w(s,Q,c,v,b,O))}));Object(i.useEffect)((()=>{_e()}),[_e]);Object(i.useEffect)((()=>{ue(!0)}),[ae]);const we=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Se(t)}fe(e),Ne(!0)},Re=Object(l.hb)(te,S===n);return!T&&Object(f.jsx)(C,{...e,getCardTypeName:w,"data-testid":"MenuPlpTestId",allowClickOnProductCard:Q,getProductImageClassName:R,getSpecificRibbonBanner:B,favouriteItems:re,classFavouriteIconActive:Y,getCardName:me,favouriteButtonClickHandler:()=>{Object(l.hb)(Array.isArray(re),null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.id)===(null===x||void 0===x?void 0:x.id))))?N(K,de,x.id):((e,t,a,i)=>{var o;const n=Object(l.td)(null===(o=a[0])||void 0===o?void 0:o.price),s={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};I(e,s,i),z(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(K,x,m,de)},itemCount:ae,classFavouriteIconInActive:G,getMenuProductHeader:L,getVegNonvegClassName:k,menuProductPriceClassName:M,checkForBasePriceInMenu:V,cardCat:ve,displayPrice:J,getPriceClassName:F,menuProductDescriptionClassName:P,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let a={foodName:null===x||void 0===x?void 0:x.name,foodItemId:null===x||void 0===x?void 0:x.mdmId,cartPrice:e,modifiers:Object(j.i)(x),customizable:null===x||void 0===x?void 0:x.customizable,quantity:ae,foodLineId:oe};const{itemQuantityHandler:i}=Object(r.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:Ee,totalAmount:De},null===p||void 0===p?void 0:p.tenantId,void 0,Oe,void 0,z,void 0);t===_.Increase?h&&ae>=1?we(null===a||void 0===a?void 0:a.foodItemId):(!h&&ue(!1),i(a,_.Increase)):le>1?we(null===a||void 0===a?void 0:a.foodItemId):(ue(!1),i(a,_.Decrease))}},classesCardButton:H,classEnableAddToCart:W,enableAddToCartButton:ce,checkLoading:Re,menuCardBtnText:U,itemFoodlineId:oe,openCostomizedModal:Ie,filteredPreviousData:ge,setOpenCostomizedModal:Ne,cartData:ee,CARD_TYPE:E,setShowTopScrollBtn:D,FoodId:xe})}},1153:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(6),a(106),a(92);var i=a(5),o=(a(1175),a(1142),a(20),a(398)),n=(a(41),a(146),a(15));a(2);const{CARD_TYPE:{CAROUSAL:l,MEDIUM:s}}=o.o,{CartError:d}=n.a,r=e=>Object(i.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return v}));var i=a(158);let o,n,l,s,d=[],r="";const c=(e,t,a,i)=>{if(o=e,n=t,d=a,s=i,d.length>0){let a=d.map((e=>{const{latitude:t,longitude:a}=e&&e.storeBasic.location;return{lat:t,lng:a}})),i=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...i].slice(0,24),destinations:[...a].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else s([],"")},u=(e,t)=>{let a=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e));let o=e&&e.originAddresses&&e.originAddresses[0]||"";a=d.map(((e,t)=>({...e,...i[t]}))),s(a,o)},v=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},b),l=a},b=(e,t)=>{if(t===i.a.OK_STATUS){let t=[],a=e&&e.rows&&e.rows.map((e=>e));t=null===a||void 0===a?void 0:a.map((e=>e.elements[0])),r=e&&e.originAddresses||[],l({allStoreDistance:t,originAddressText:r})}}},1159:function(e,t,a){"use strict";var i=a(964);a.d(t,"a",(function(){return i.default}))},1160:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1175:function(e,t,a){"use strict";a(3);var i=a(1142),o=a(5),n=a(2);t.a=e=>Object(o.T)(e.subCategory).map(((t,a)=>{let{categories:o="",products:l=[],id:s="",dname:d}=t;return Object(n.jsxs)("div",{id:s,children:[Object(n.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(n.jsx)("div",{children:d[0].value}),o]}),Object(n.jsx)(i.a,{productList:l,cardType:e.cardType,tenantData:e.tenantData,categoryId:s,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},a)}))},1179:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(28),l=a(1130),s=a(963),d=a(55),r=a(16),c=a(85),u=a(1159),v=a(2);var b=e=>{const{DISPOSITION_DATA:t=""}=r.a,{userOrderState:a,userOrderStateDispatch:n}=Object(i.useContext)(c.a)||{};return Object(i.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(v.jsx)(l.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(v.jsx)(s.default,{onStoreSelectFinish:d.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:d.y})]})})},O=a(5),m=a(1160);t.a=()=>{var e,t,a,i;const{DISPOSITION:o}=m.a;let l=null,s=null,d=Object(n.c)((e=>e.appStateReducer.userStatus));const r=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};l=Object(O.fc)(r.homePageContent)||null,s=Object(O.Yc)(e)}return Object(v.jsx)(b,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[o])&&void 0!==e?e:{},dispositionData:s,contentDispositionData:null!==(a=null===(i=l)||void 0===i?void 0:i[o])&&void 0!==a?a:{}},userParams:d,tenantReducerData:r.tenantReducerContent})}},1231:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var i=a(21),o=a(5);const n=e=>{var t,a,i,o;const{DesktopImage:n,button:l,email:s="",headline:d="",subHeadline:r="",mobileImage:c,subHeadline2:u="",icon:v}=e,{url:b=""}=n&&n.fields&&n.fields.file,{url:O=""}=c&&c.fields&&c.fields.file,{buttonText:m="",name:j="",url:p=""}=l&&(null===l||void 0===l?void 0:l.fields)||{};return{desktopSrc:b,mobileSrc:O,email:s,headline:d,subHeadline:r,buttonText:m,buttonItem:j,buttonUrl:p,subHeadline2:u,stripesIcon:null===v||void 0===v||null===(t=v.fields)||void 0===t||null===(a=t.desktopImage)||void 0===a||null===(i=a.fields)||void 0===i||null===(o=i.file)||void 0===o?void 0:o.url}},l=async e=>{const t=[];t.push(e),await i.a.registerEvent(void 0,{data:t[0]},o.Bb)}},1265:function(e,t,a){var i={"./LoyaltyCrmItems":[971,37],"./LoyaltyCrmItems.js":[971,37],"./SignMeUPBannerContainer":[973,15],"./SignMeUPBannerContainer.js":[973,15]};function o(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return a.e(t[1]).then((function(){return a(o)}))}o.keys=function(){return Object.keys(i)},o.id=1265,e.exports=o},1274:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(3),o=a(1231),n=a(0),l=a(2);const s=e=>{const{contentData:t}=e,s=t&&Object(o.a)(t),d=Object(i.lazy)((()=>a(1265)("./"+n.Ue)));return Object(l.jsxs)(i.Suspense,{fallback:Object(l.jsx)("div",{children:"Loding..."}),children:[" ",Object(l.jsx)(d,{contentData:s,customTag:e.customTag})," "]})}},963:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return bt}));var i=a(11),o=a(14),n=a(6),l=a(331),s=a(73),d=a(192),r=a(24),c=a(5),u=a(85),v=a(3),b=a.n(v),O=a(28),m=a(957),j=a(16),p=a(158),h=a(408),g=a(263),S=a(46),I=a(329),N=a.n(I),x=a(41),f=a(1135),T=a(401),C=a(55),E=a(15),y=a(2);const D=e=>!0===e.includes(",")?e.replace(",",", "):e;var A=e=>{var t,a;const{onMapClickHandler:i,startOrderFormSavedAddress:o}=e,{MapImage:l}=E.a,{SAVED_ADDRESS:s,SAVED_ADDRESSES:d,START_ORDER_TEXT:r}=p.a,{savedAddresses:c}=Object(O.c)((e=>e.profileReducer)),u=null===(t=c.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"savedAddress-store-count",children:[Object(y.jsxs)("span",{className:"saved-address-count-title",children:[c.length>1?"".concat(Object(n.translateWithI18Next)(d)," "):"".concat(Object(n.translateWithI18Next)(s))," ","(",c.length,")"," "]}),Object(y.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>i(e,"",u),children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:l,alt:"map",className:"map-img"})}),"Map"]})})]}),c.map((e=>Object(y.jsx)("div",{className:"savedAddress-module-card",children:Object(y.jsxs)("div",{className:"inside-card",children:[Object(y.jsxs)("div",{className:"address-section",children:[Object(y.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(y.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(x.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var a;const{latitude:i,longitude:n}=t.location,l={userLat:i,userLong:n},s=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);o(s,l)})(0,e),"data-testid":"savedaddress-click-test",children:Object(n.translateWithI18Next)(r)})})]})})))]})})},_=a(147);var w=e=>{const{errorMsgToShow:t,onClearTextHandler:a,dispositionType:i,onRetryClickHandler:o,onMapClickHandler:l,showMap:s}=e,{userOrderStateDispatch:d}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:r}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:c,TAKE_AWAY:O,TYPE_TAKE_WAY:m,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:I,CTA2_VIEW_MAP_BUTTON_TEXT:N}=p.a,{Error:f}=E.a,T=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":s});return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===i?T:"error-alert-location-popup error-adjust",children:[Object(y.jsx)(S.a,{srcFile:f,className:"location-alert-icon"}),t!==c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),a()})(e),children:Object(n.translateWithI18Next)(g)}),i.toLowerCase()!==O.toLowerCase()&&Object(y.jsx)(x.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),d({type:r,value:{dispositionType:m}})})(e),children:Object(n.translateWithI18Next)(I)})]})]}),t===c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>o(e),children:Object(n.translateWithI18Next)(h)}),i!==O&&Object(y.jsx)(x.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>l(e),children:Object(n.translateWithI18Next)(N)})]})]})]})})},R=a(0),L=a(132),k=a(80),M=a(394);const{LocationImage:F,GoogleMapLocationImage:P,SuggestionItemSearchPin:H,clearTextIcon:U,Time_Clock:W,Error:B,MapImage:Y}=E.a,{MIN_SEARCH_CHARACTER_LIMIT:G,SUUGESTED_ITEMS_TEXT:V,ALLOWED_SUGGESTION_LIST:J,ALREADY_SERACHED_LOCATIONS:z,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:X,BRAND_BLACK:Q,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ae,DELIVERY_UNAVAILABLE:ie,DELIVERY_UNAVAILABLE_WITH_CTA:oe,NOTAVAILABLE:ne,CTA1_SEARCH_DIFF_ADDRESS:le,TAKE_AWAY:se,CTA2_ORDER_TAKEAWAY:de}=p.a,re=(e,t)=>{t()},ce=e=>{var t;let{eligibleStoreData:a,suggestedAddress:i,setNegativeScenarioAlert:o,getNegativeView:l}=e,s=null===a||void 0===a?void 0:a.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0})),d=s.filter((e=>{var t,a,i,o,n,l;const s="CLOSED"===e.summary.status.currentStatus,d=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),r=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN"));return s&&(d||r)})),r=Object(T.a)("delivery",s);var u;return Object(c.qd)(r,Object(c.qd)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===d||void 0===d?void 0:d.length)===s.length))?(Object(c.hb)((null===d||void 0===d?void 0:d.length)===(null===s||void 0===s?void 0:s.length),null===s||void 0===s?void 0:s.length)?r=ie:null!==(u=i[0])&&void 0!==u&&u.description||(r=oe),o(r),Object(c.Ob)(Object(n.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(n.translateWithI18Next)(r)),l(r)):void 0},ue=(e,t,a)=>Object(y.jsx)(x.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(n.translateWithI18Next)($)}),ve=(e,t,a)=>{var i,o,n,l,s;return null===e||void 0===e||null===(i=e.toString())||void 0===i||null===(o=i.replace)||void 0===o||null===(n=o.call(i,t,""))||void 0===n||null===(l=n.trim())||void 0===l||null===(s=l.replace)||void 0===s?void 0:s.call(l,a,"")};var be=e=>{var t;const{formContent:a={},userPositionHandler:i,singInClickhandler:o,eligibleStoreData:l}=e,{memberText:s="",singInLink:d={},currentLocationText:m="",addressBoxPlaceHolderForDelivery:p=""}=a,{RETAIN_ADDRESS:f}=R.gd,{SCHEDULE_ORDER_DATA:E,DISPOSITION_METHOD:D}=j.a,_=Object(O.c)((e=>e.appStateReducer.userStatus)),{loggedIn:Y}=Object(c.sd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:oe={},dispositionStateData:be={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Se]=Object(v.useState)(!1),[Ie,Ne]=Object(v.useState)(!1),[xe,fe]=Object(v.useState)(!1),[Te,Ce]=Object(v.useState)({lat:28.7,lng:77.1}),[Ee,ye]=Object(v.useState)(!1),[De,Ae]=Object(v.useState)(!1),[_e,we]=Object(v.useState)([]),[Re,Le]=Object(v.useState)(""),ke=Object(v.useRef)(null),[Me,Fe]=Object(v.useState)(""),[Pe,He]=Object(v.useState)(""),[Ue,We]=Object(v.useState)(!1),[Be,Ye]=Object(v.useState)(!1),[Ge,Ve]=Object(v.useState)(!1),[Je,ze]=Object(v.useState)(""),[Ke,qe]=Object(v.useState)(!1),{dispositionType:Xe=localStorage.getItem("dispositionType")}=be,[Qe,Ze]=Object(v.useState)({}),$e=Object(O.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),et=Object(L.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:at}}},postalcodeRemoveRegex:it=null,specialCharRemoveRegex:ot=null}=Object(O.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),nt=Object(O.c)((e=>{var t,a,i,o;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(T.e)(De,Pe,h.a)}),[De,Pe]);const lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(w,{errorMsgToShow:Object(c.qd)(Pe,e),onClearTextHandler:bt,onRetryClickHandler:rt,onMapClickHandler:st,dispositionType:Xe,showMap:xe})})},st=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(T.i)(xe,Xe),fe(!0),He(!1),t&&!pe&&ct(t)},dt=e=>{var t;const a=null===(t=e.toString())||void 0===t?void 0:t.split(" "),i=null===a||void 0===a?void 0:a.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===i||void 0===i?void 0:i.join(" ")},rt=e=>{ke.current.select(),Se(!1),ye(!1),He(!1),Ae(!1)},ct=async function(e,t,a){var o;let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];qe(!1),ze(""),Object(c.hb)(null===t,null===a)&&(null===(o=_e[0])||void 0===o?void 0:o.description)&&Ae(!0),We(!0),ye(!0);const l=await Object(I.geocodeByAddress)(e),s=await Object(I.getLatLng)(l[0]);at&&et(Object(k.d)({key:R.se.LAT_LONG,value:s})),Ce(s),ut(e);const d=tt?ve(e,it,ot):dt(e);he(d),n||Se(!0),i({userLat:s.lat,userLong:s.lng}),Ne(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(f);Object(T.b)(t,we,ct)}),[]),Object(v.useEffect)((()=>{let e=null===l||void 0===l?void 0:l.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==ne})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));Ke&&Je&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),$({type:E,value:{deliveryAddress:Je,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):Je&&Ve(!0)}),[l,Je,Ke]),Object(v.useEffect)((()=>{}),[Te]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Se(!De):(Se(!1),Ae(!1),He(""));let e=Object(c.d)(pe,G);Ye(e)}),[pe]),Object(v.useEffect)((()=>{if(Ie){const e=dt(Me);he(e),ut(Me),Ne(!1)}}),[oe]);const ut=e=>{Object(c.ze)(e,z)},vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(z))).includes(t);var t},bt=()=>{he(""),Se(!1),He(""),we(""),Ve(!1)},Ot=async(e,t)=>{Ce({lat:t.userLat,lng:t.userLong}),qe(!0);const a=dt(e);he(a),Ze(t),ut(e),ze(e),i(t)};return Object(y.jsxs)(b.a.Fragment,{children:[Object(y.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"login-section",children:[Object(y.jsx)("span",{className:"delivery-member-signin",children:!Y&&je(s,o,d)}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await r.b.BindLocation($e),Object(T.m)(),we([]),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),i({userLat:e,userLong:t}),Fe(r.b.address);const a=dt(r.b.address);he(a),ct(r.b.address),Ne(!0),we([{description:r.b.address}])}Object(M.s)($,!r.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(y.jsx)(S.a,{"data-testid":"",srcFile:F,alt:" ",className:"location-img"}),Object(n.translateWithI18Next)(m)]})})]}),Object(y.jsxs)("div",{className:"delivery-address-section",children:[Object(y.jsx)("div",{className:"search-delivery-address",children:Object(y.jsx)("div",{className:"input-delivery-address",children:Object(y.jsx)(N.a,{value:pe,onChange:e=>{We(!1),ye(!1);const t=dt(e);he(t),((e,t,a)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))})(e,we,Ye),qe(!1),ze(""),Ve(!1)},onSelect:ct,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:re,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:o}=e;return Object(y.jsxs)("div",{children:[Object(y.jsx)(S.a,{"data-testid":"",srcFile:P,alt:" ",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(c.ad)(Object(c.qd)(De,Pe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(n.translateWithI18Next)(p),ref:ke})}),pe&&Object(y.jsx)("img",{src:U,className:"clearTextIcon",onClick:bt,alt:"Clear Text Icon"}),Object(c.hb)(Object(c.pc)(a),Be)?Object(y.jsx)("div",{className:"suggestion-list",children:a.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>J.includes(e)))){we(a);const o=Object(c.ad)(e.active,{backgroundColor:q,opacity:X},{backgroundColor:Q});return Object(y.jsxs)(b.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",children:Object(n.translateWithI18Next)(V)}),Object(y.jsx)("div",{style:o,children:Object(y.jsx)("div",{...i(e,{className:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(y.jsx)("div",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:Object(c.ad)(vt(e.description),W,H),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(y.jsx)("form",{children:ue(ge,nt,(e=>{var t;if(e.preventDefault(),Ke)return Ge&&Se(!1),void Ot(pe,Qe);if(!(Ue&&ce({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:lt})||(null===(t=_e[0])||void 0===t||!t.description)&&ce({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:lt}))){if(He(""),!Ee){var a,i;const e=null===(a=_e[0])||void 0===a?void 0:a.description;return Le(e),(null===(i=_e[0])||void 0===i?void 0:i.description)&&Ae(!0),Se(!1),void ct(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}l[0]&&(ye(!1),$({type:E,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),Ge&&!nt&&Object(y.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(y.jsx)(S.a,{srcFile:B,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(ie)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ve(!1),children:Object(n.translateWithI18Next)(le)}),Object(y.jsx)(x.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:D,value:{dispositionType:se}})},children:Object(n.translateWithI18Next)(de)})]})]}),!xe&&Object(y.jsx)("div",{className:"my-3 store-form-separation"}),xe||Y||De||Pe?null:me(st),!De&&Y&&!Pe&&!xe&&!Ge&&Object(y.jsx)(A,{userPositionHandler:i,startOrderFormSavedAddress:Ot,allowOrderNow:Ge,onMapClickHandler:st})]}),pe.length>0&&Object(c.hb)(De,!Pe)?Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(y.jsx)(S.a,{srcFile:B,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-message",children:Object(n.translateWithI18Next)(ee)}),Object(y.jsx)("div",{className:"location-error-address",children:Object(c.qd)(null===(t=_e[0])||void 0===t?void 0:t.description,pe)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:rt,children:Object(n.translateWithI18Next)(te)}),Object(y.jsx)(x.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const a=ce({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:lt});pe.length>0&&De&&a||!l[0]&&a||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:E,value:{deliveryAddress:Re,showScheduleOrderCatering:!0,selectedStoreInfo:Object(c.sd)(l[0])}}),ye(!1))},children:Object(n.translateWithI18Next)(ae)})]})]}):Pe&&lt(),xe?Oe(De,Te,(e=>{const t=dt(e);ct(t),he(t)}),Pe):null]})};function Oe(e,t,a,i){return Object(y.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(c.ad)(e,"pointer-disabled","")),children:Object(y.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(y.jsx)(f.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:i,locationAlert:e})})})}function me(e){return Object(y.jsx)("div",{className:"map-button-form",children:Object(y.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(y.jsx)("span",{className:"delivery-map-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:Y,alt:" ",className:"map-img"})}),Object(n.translateWithI18Next)("map")]})]})})}function je(e,t,a){return Object(y.jsxs)("div",{"data-id":R.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(n.translateWithI18Next)(e),Object(y.jsx)("span",{onClick:t,children:Object(y.jsx)(g.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(n.translateWithI18Next)(a.linkText)})})]})}var pe=a(144);var he=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:i,headerText:o,modalTitleId:n="",showLocationError:l}=e;return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:l,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:o,autoFocus:!0,children:i})})},ge=a(62),Se=a(59),Ie=a(35),Ne=a(113),xe=a(1131),fe=a(120),Te=a(600);const{FavoriteUnfillImage:Ce,FavoriteFillImage:Ee,GreenTickImage:ye}=E.a,De=(e,t)=>{var a,i;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(i=t.storeSearch)||void 0===i?void 0:i.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var Ae=Object(ge.j)((e=>{var t,a,i,o,l;const{storeDistance:s="",addresses:d={},isOpen:r=!1,buttonData:b={},map:m={},storeName:h="",currentMarket:I,storeInfo:N={},channels:f=[],storeStatus:C={},onStoreSelectFinish:E,onClickMapHandler:D,isMapView:A,isMobile:_,isFavoriteStore:w,addToFavoriteHandler:L,removeFromFavoriteHandler:k,loggedIn:M,centerIndex:F,storeLength:P}=e,H=null===N||void 0===N||null===(t=N.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.message,{unavailibilities:U}=(null===N||void 0===N||null===(i=N.summary)||void 0===i||null===(o=i.timings)||void 0===o?void 0:o.scheduled)||{},{buttonText:W=""}=Object(c.sd)(null===b||void 0===b?void 0:b.scheduleOrderButtonData),{buttonText:B="",display:Y=!1}=Object(c.sd)(null===b||void 0===b?void 0:b.orderNowButtonData),{userOrderState:G,userOrderStateDispatch:V}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:J="",SEARCH_ORDER_DATA:z="",SELECTED_TILE_DATA:K="",SCHEDULE_ORDER_TIME_DATA:q="",MENU_URL:X,SET_DISPOSITION:Q,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ae}=p.a,{mapText:ie=""}=m,oe=Object(ge.h)(),ne=f&&Object(T.g)(f),{services:le=[]}=Object(c.rd)(ne[0]),{operatingHours:se=[]}=null!==C&&void 0!==C&&null!==(l=C.timings)&&void 0!==l&&l.operatingHours?C.timings:[],de=Object(T.c)(r,se,H,U),re=Object(O.b)(),ce=Object(O.c)((e=>e.profileReducer)),ue=Object(O.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=G.dispositionStateData,{ScheduledDeliveryComponent:be={},showToastAfterLocalization:Oe=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:me}=be;let je=Object(O.c)((e=>e.appStateReducer.userStatus));const pe=Object(c.Sd)(G.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):G.dispositionNew,he=async(t,a)=>{var i,o,n,l,s,d,r,u,v;t.preventDefault(),t.stopPropagation(),Object(T.l)();const{futureDates:b,scheduled:O={},asap:m}=(null===a||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings)||{},{interval:j=0,startEndTime:p={}}=Object(c.hb)(null===O||void 0===O||null===(o=O.periods)||void 0===o?void 0:o.length,O.periods[0]),{from:h,to:g}=p,{unavailibilities:S,unavailibilityType:I}=O;Object(fe.j)(h,g,j,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),S,I);let N={time:"ASAP",interval:null===(n=a.summary.timings.scheduled.periods[0])||void 0===n?void 0:n.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==a.id||pe.deliveryAddress!==(null===G||void 0===G||null===(l=G.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress)){let e=await Object(c.A)(a,Object(c.Mb)(ve),ce.customerId,N);re(Object(Ie.m)("")),re(Object(Ie.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),V({type:Q,value:{oldvalue:pe,newValue:{type:ve,store:a,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:null===G||void 0===G||null===(s=G.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:a,date:N.date,time:N.time,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:null===G||void 0===G||null===(d=G.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),Object(c.vf)();const x={storeID:null===a||void 0===a?void 0:a.id,disposition:ve,postCode:null===a||void 0===a||null===(r=a.addresses[0])||void 0===r||null===(u=r.address)||void 0===u?void 0:u.pinCode};E(x),V({type:z,value:{showSearchStore:!1}}),V({type:Z,value:{isLocalized:!0}}),Object(c.ce)(null===oe||void 0===oe?void 0:oe.pathname)&&Object(Te.a)(null===a||void 0===a||null===(v=a.summary)||void 0===v?void 0:v.name,ve,Oe),((t,a)=>{var i;let o=Object(c.ad)(t,t,null);V({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),V({type:$,value:o}),re(Object(Ne.a)({...je,localized:!0})),V({type:q,value:{selectedDateTime:a}}),V({type:ee,value:{selectContentTime:"ASAP"}}),V({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP");const n=localStorage.getItem(R.gd.SET_LOCATION),l=null===oe||void 0===oe?void 0:oe.pathname;!G.fromPdpPage&&!n&&e.history.push({pathname:"".concat(X),...!Object(c.ce)(l)&&{state:{toastData:{storeName:null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.name,service:ve,showToastAfterLocalization:Oe}}}})})(a,N)},Se=(e,t)=>{var a,i,o;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),V({type:Z,value:{isLocalized:!0}}),V({type:J,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),V({type:z,value:{showSearchStore:!1}});const{futureDates:n,scheduled:l={},asap:s}=(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings)||{},{interval:d=0,startEndTime:r={}}=Object(c.hb)(null===l||void 0===l||null===(i=l.periods)||void 0===i?void 0:i.length,null===l||void 0===l||null===(o=l.periods)||void 0===o?void 0:o[0])||{},{from:u,to:v}=r,{unavailibilities:b,unavailibilityType:O}=l;Object(fe.j)(u,v,d,null===s||void 0===s?void 0:s.isAvailable,1===(null===n||void 0===n?void 0:n.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),b,O),Object(T.k)(),(e=>{let t=Object(c.ad)(e,e,null);V({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),V({type:$,value:t})})(t)},Ae=Object(xe.a)(N),_e=Object(y.jsxs)("div",{className:"store-card ".concat(Object(c.hb)(A,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(A&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(A&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:h})}),Object(y.jsx)("span",{className:"store-distance",children:De(s,ue)})]}),A&&Object(y.jsx)("span",{className:"store-index",children:"".concat(F+1," of ").concat(P)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(we=le,!!Object(c.Td)(we)&&we.map(((e,t)=>{const{PICK_UP:a,TAKE_AWAY:i}=p.a;return Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ye,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:e===a?Object(n.translateWithI18Next)(i):e})]},t)})))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(c.ac)(d)}),!A&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>D(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:ie})})]}),Object(y.jsxs)("div",{className:"info-timing ".concat(!r&&"info-timingClosed"),children:[r?"":Object(y.jsx)("span",{children:Object(n.translateWithI18Next)(ae)}),Object(y.jsx)("span",{className:"".concat(!r&&"list-circle"),children:de})]}),Object(y.jsx)("div",{className:"facilities",children:Ae&&Ae.map((e=>Object(y.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?w&&Object(y.jsx)(S.a,{"data-testid":"favorite-img",srcFile:Ee,alt:"favorite",className:"favorite-img",onClick:()=>k()})||Object(y.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Ce,alt:"favorite",className:"favorite-img",onClick:()=>L()}):"",Y&&r&&Object(y.jsx)(x.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(A&&!_?"cardMapView":null),onClickHandler:e=>he(e,N),children:B}),me&&Object(y.jsx)(x.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(c.hb)(A,!_)?"cardMapView":null),onClickHandler:e=>Se(e,N),children:W})]})]});var we;return I!==p.a.COUNTRY_CODE_INDIA||r?_e:null})),_e=a(12),we=a(4);const{FavoriteUnfillImage:Re,FavoriteFillImage:Le,GreenTickImage:ke}=E.a,{BROWSE_MENU:Me,PICK_UP:Fe,TAKE_AWAY:Pe,STORE_STATUS_CLOSED_CAPS:He,STORE_STATUS_CLOSED:Ue,INDIA:We}=p.a,Be=e=>e===Fe?Pe:e,Ye=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ge=Object(ge.j)((e=>{var t,a,i,o,l,s,d,r,b,m,p,h;const{key:I="",storeName:N="",storeDistance:f="",orderTypes:E=[],addresses:D={},storeStatus:A={},onClickMapHandler:_,isMapView:w,isMobile:L,isFavoriteStore:k,addToFavoriteHandler:M,removeFromFavoriteHandler:F,map:P,loggedIn:H,storeInfo:U={},centerIndex:W,storeLength:B,onStoreSelectFinish:Y}=e,G=((e,t)=>{var a,i,o,n,l;if((null===e||void 0===e||null===(a=e.timings)||void 0===a||null===(i=a.operatingHours[0])||void 0===i?void 0:i.day)===R.cc)return null===(o=e.timings)||void 0===o||null===(n=o.operatingHours[0])||void 0===n||null===(l=n.availableHours)||void 0===l?void 0:l.from;{var s;const a=null===e||void 0===e||null===(s=e.timings)||void 0===s?void 0:s.operatingHours,i=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let o=0,n=[],l=[];var d,r,u,v;return null===a||void 0===a||a.forEach(((e,t)=>{var a;(null===e||void 0===e||null===(a=e.day)||void 0===a?void 0:a.toLowerCase())===i&&(o=t,l.push(e))})),null!==l&&void 0!==l&&l.length&&(null===l||void 0===l||l.forEach((t=>{var a;const i=Object(c.E)(null===e||void 0===e?void 0:e.timeZone,R.sb.HHmm);Object(c.lf)(null===t||void 0===t||null===(a=t.availableHours)||void 0===a?void 0:a.from)>i&&n.push(t)}))),null!==n&&void 0!==n&&n.length?null===(d=n[0])||void 0===d||null===(r=d.availableHours)||void 0===r?void 0:r.from:null===(u=a[o<(null===a||void 0===a?void 0:a.length)-1?o+1:o])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(A,R.Rf),V=G,J=null===A||void 0===A||null===(t=A.timings)||void 0===t||null===(a=t.scheduled)||void 0===a?void 0:a.unavailibilities,z=null===A||void 0===A||null===(i=A.status)||void 0===i?void 0:i.message,{mapText:K=""}=Object(c.sd)(P),{MENU_URL:q,SEARCH_ORDER_DATA:X,CURRENT_STORE_INFO:Q,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ae,userOrderStateDispatch:ie}=Object(v.useContext)(u.a);let oe=Object(O.c)((e=>e.appStateReducer.userStatus));const ne=Object(O.c)((e=>e.tenantReducer)),le=Object(O.b)(),{futureDates:se,scheduled:de,asap:re}=Object(c.sd)(null===U||void 0===U||null===(o=U.summary)||void 0===o?void 0:o.timings),{unavailibilities:ce,unavailibilityType:ue}=Object(c.sd)(de),{interval:ve=0,startEndTime:be={}}=Object(c.sd)((null===de||void 0===de||null===(l=de.periods)||void 0===l?void 0:l.length)&&(null===de||void 0===de?void 0:de.periods[0])),{from:Oe,to:me}=Object(c.sd)(be),{dispositionType:je=localStorage.getItem("dispositionType")}=ae.dispositionStateData,pe=Object(c.Sd)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,he=()=>{var e;return Object(fe.j)(Oe,me,ve,null===re||void 0===re?void 0:re.isAvailable,1===se.length&&(null===ne||void 0===ne||null===(e=ne.country)||void 0===e?void 0:e.toUpperCase())===We,ce,ue)},ge=(e,t)=>{var a,i,o,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ie({type:$,value:{isLocalized:!0}}),ie({type:X,value:{showSearchStore:!1}}),ie({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:l,scheduled:s,asap:d}=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,{interval:r=0,startEndTime:c={}}=(null===s||void 0===s||null===(i=s.periods)||void 0===i?void 0:i.length)&&(null===s||void 0===s?void 0:s.periods[0]),{from:u,to:v}=c;Object(fe.j)(u,v,r,null===d||void 0===d?void 0:d.isAvailable,1===l.length&&"INDIA"===(null===ne||void 0===ne?void 0:ne.country),ce,ue),Object(T.k)(),(e=>{let t=e||null;ie({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ie({type:Q,value:t})})(t);const b={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(o=t.addresses[0])||void 0===o||null===(n=o.address)||void 0===n?void 0:n.pinCode};Y(b)},Se=e=>he().length?"Today":"Tomorrow",Ie=Object(xe.a)(U);return Object(y.jsxs)("div",{className:"store-card ".concat(w&&!L?"store-card-map-view":"store-card-mobile-view"),style:Ye(w,L),"data-testid":"closed-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(w&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:N})}),Object(y.jsx)("span",{className:"store-distance",children:De(f,ne)})]}),w&&Object(y.jsx)("span",{className:"store-index",children:"".concat(W+1," of ").concat(B)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(Te=E,Te.map(((e,t)=>Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ke,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:Be(e)})]},t))))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(c.ac)(D)}),!w&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:K})})]}),Object(y.jsx)("div",{className:"info-timingClosed",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(c.jb)((null===(s=A.status)||void 0===s?void 0:s.currentStatus)===He,0===(null===A||void 0===A||null===(d=A.timings)||void 0===d||null===(r=d.scheduled)||void 0===r||null===(b=r.periods)||void 0===b?void 0:b.length))?Object(y.jsx)("span",{className:"closed-text",children:Ue}):""}),Object(y.jsx)("li",{children:(null===J||void 0===J?void 0:J.length)>0&&Object(_e.S)(null===(m=J[0])||void 0===m?void 0:m.to,"HH MM","HH:MM")<=Object(_e.S)(me,"HH MM","HH:MM")?(()=>{var e,t,a,i,o,n;return z===R.Hc?"Open Today ".concat((null===(e=J[0])||void 0===e?void 0:e.from)&&Object(_e.S)(null===(t=J[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):z===R.Ic?"Open ".concat(Se(null===(a=A.timings)||void 0===a||null===(i=a.scheduled)||void 0===i||i.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a")):"Open Today ".concat((null===(o=J[0])||void 0===o?void 0:o.to)&&Object(_e.S)(null===(n=J[0])||void 0===n?void 0:n.to,"hh mm","hh:mm a"))})():"Open ".concat(Se(null===(p=A.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a"))})]})}),Object(y.jsx)("div",{className:"facilities",children:Ie&&Ie.map((e=>Object(y.jsx)(S.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2",children:[H&&(k?Object(y.jsx)(S.a,{"data-testid":"favorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>F()}):Object(y.jsx)(S.a,{"data-testid":"unfavorite-img",srcFile:Re,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===he().length?Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,a;const i={storeID:null===U||void 0===U?void 0:U.id,disposition:null===U||void 0===U?void 0:U.service,postCode:null===U||void 0===U||null===(t=U.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(C.y)(i),Object(c.wf)(U,ie,pe,je),le(Object(Ne.a)({...oe,localized:!0})),Object(c.vf)(),ie({type:Z,value:{showDisposition:!1}}),ie({type:X,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(q)})},children:Object(n.translateWithI18Next)(Me)}):Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,U),children:Object(n.translateWithI18Next)(we.a.SCHEDULE_ORDER_BTN)})]})]})]},I);var Te})),Ve=a(417),Je=a(63);const{Error:ze,LocationImage:Ke,MapImage:qe,Union:Xe,GoogleMapLocationImage:Qe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=E.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",at=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",it=e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0},ot=e=>e?Xe:qe,nt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var lt=Object(ge.j)((e=>{var t;const{formContent:a={},storeData:i=[],eligibleStoreData:o=[],favoriteStoreData:l=[],userPositionHandler:d,singInClickhandler:m,currentMarket:E,storeCardLimit:D=1/0,onStoreSelectFinish:A,handleGoBack:_,noStoresList:L,favoriteStoreHandler:k}=e,{memberText:F="",singInLink:P={},currentLocationText:H="",addressBoxPlaceHolderForSearchStore:U="",mapText:W=""}=a,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:G,ALREADY_SERACHED_LOCATIONS:V,COUNTRY_CODE:J,SUGGESTION_ACTIVE_COLOR:z,SUGGESTION_ACTIVE_OPACITY:K,BRAND_BLACK:q,STORE_STATUS_OPEN:X,LIST_TEXT:Q,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ae,CTA2_ORDER_TAKEAWAY:ie,TAKEAWAY_UNAVAILABLE_WITH_CTA:oe,DINE_IN_SERVICE:ne,DINE_IN:le,TYPE_DELIVERY:se,TAKE_AWAY:de}=p.a,{DISPOSITION_METHOD:re}=j.a,{MENU_URL:ce,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:be,DISPOSITION_DATA:Oe,INDIA:me}=j.a,{userOrderState:je}=b.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Ie=localStorage.getItem("dispositionType")}=he,[Ne,xe]=b.a.useState(""),[Te,Ce]=Object(v.useState)({}),[Ee,ye]=Object(v.useState)({}),[De,_e]=Object(v.useState)(!1),[we,Re]=Object(v.useState)(!1),[Le,ke]=b.a.useState([]),[Me,Fe]=b.a.useState(!1),[Pe,He]=Object(v.useState)(null),[Ue,We]=Object(v.useState)(Object(c.de)(window.innerWidth));let Be=0;const[Ye,qe]=Object(v.useState)(0),[Xe,tt]=Object(v.useState)(""),[lt,rt]=b.a.useState(!1),[ct,ut]=b.a.useState([]),[vt,bt]=b.a.useState([]),{userOrderStateDispatch:Ot}=Object(v.useContext)(u.a);let mt,jt=0;const pt=Object(O.b)(),ht=Object(O.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:St=!1}}},postalcodeRemoveRegex:It=null,specialCharRemoveRegex:Nt=null}=ht||{};let xt=0;const[ft,Tt]=b.a.useState(!1),Ct=Object(O.c)((e=>e.appStateReducer)),{isLoading:Et}=Object(O.c)((e=>Object(c.sd)(e.LoaderReducer))),{userStatus:yt={}}=Ct,{loggedIn:Dt=!1}=yt,[At,_t]=b.a.useState([]),[wt,Rt]=b.a.useState(!0),{customerId:Lt}=Je.a.getInstance(),[kt,Mt]=Object(v.useState)(325),[Ft,Pt]=Object(v.useState)(!1),Ht=()=>{const e=Object(c.de)(window.innerWidth);We(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ht),()=>{window.removeEventListener("resize",Ht)})),[Ue]),Object(v.useEffect)((()=>(window.addEventListener("keydown",nt),()=>{window.removeEventListener("keydown",nt)})));const Ut=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ut&&kt!==Ut&&Mt(Ut)}),[Ut]);const Wt=async e=>{const t=await Object(I.geocodeByAddress)(e),a=await Object(I.getLatLng)(t[0]);Ce(a),ye(a),Be=0,Gt(e),xe(e),d({userLat:a.lat,userLong:a.lng}),Fe(!1);const i=Boolean(Object(c.hb)(Object(c.qd)(Ne,e),Object(c.hb)(0===Be,0===jt)));rt(i)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),Ot({type:be,value:null}),Ot({type:Oe,value:{showDisposition:!1}}),Ot({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ce)})},Yt=(e,t,a)=>Object(y.jsx)("div",{className:"store-card",children:Ie.toUpperCase()===Z?Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(x.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Jt,children:Object(n.translateWithI18Next)(a)})]}):Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(x.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Jt,children:Object(n.translateWithI18Next)(a)}),Object(y.jsx)(x.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),Ot({type:re,value:{dispositionType:de}}),Wt(Ne)})(e),children:Object(n.translateWithI18Next)(ie)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");xe(e),Wt(e)}}else Wt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Ne){let e=o.filter(it);if(e.length>0){let t=e.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===X&&(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)>0}));if(t.length>=D){let e=t.slice(0,D);ke(e)}else if(t.length<D){let a=D-t.length,i=e.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})).slice(0,a),o=t.concat(i);ke(o)}}else Be=0,ke([])}else ke([]),_t([]),ut([]),rt(!1)}),[o,Ne]),Object(v.useEffect)((()=>{if(o.length>0){k({userLat:Ee.lat,userLong:Ee.lng});const e=l.sort(((e,t)=>Object(T.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));_t(t)}}),[o,l.length]),Object(v.useEffect)((()=>{if(Me){const e=St?ve(Xe,It,Nt):Xe;xe(e),Gt(Xe),Fe(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Ne&&(ke([]),ut([]),He(""),_t([]));let e=Object(c.d)(Ne,B);Pt(e)}),[pe,Ne,Me,Xe]);const Gt=e=>{Object(c.ze)(e,V)},Vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(V))).includes(t);var t},Jt=()=>{xe(""),_t([]),ke([]),ut([]),rt(!1),He(""),_e(!1)},zt=Object(v.useCallback)((async()=>{const e=await Promise.all(Le.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[Le]),Kt=Object(v.useCallback)((async()=>{const e=await Promise.all(At.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[At]),qt=()=>{Object(T.i)(De,Ie),_e(!De),Re(!De)},Xt=(e,t)=>{He(e),qe(t)},Qt=()=>{zt(),Re(!0),He(Object(c.sd)(Le[Ye]))},Zt=async()=>{await Kt(),Re(!0),He(Object(c.sd)(At[Ye]))};Object(v.useEffect)((()=>{((e,t,a,i)=>{let{TYPE_TAKE_WAY:o,DINE_IN:n,dispositionType:l,callSelectedStore:s,callSelectedFavStore:d}=i;e?t.length&&[o,n].indexOf(l.toUpperCase())>-1&&s():a.length&&[o,n].indexOf(l.toUpperCase())>-1&&d()})(wt,Le,At,{TYPE_TAKE_WAY:Z,DINE_IN:le,dispositionType:Ie,callSelectedStore:Qt,callSelectedFavStore:Zt});let e=Le.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})),t=Le.filter((e=>{var t,a,i,o,n,l,s,d,r;const c="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:b,scheduled:O,asap:m}=null===e||void 0===e||null===(s=e.summary)||void 0===s?void 0:s.timings,{unavailibilities:j,unavailibilityType:p}=O,{interval:h=0,startEndTime:g={}}=O&&(null===O||void 0===O||null===(d=O.periods)||void 0===d?void 0:d.length)&&(null===O||void 0===O?void 0:O.periods[0]),{from:S,to:I}=g,N=Object(fe.j)(S,I,h,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&(null===ht||void 0===ht||null===(r=ht.country)||void 0===r?void 0:r.toUpperCase())===me,j,p);return(!N||0===N.length)&&c&&(u||v)}));ut(e),bt(t)}),[Le,Ye,Pe,L,le,$,Z,Ie,zt,wt,At]);const $t=e=>{He("");let t=e?Ye+1:Ye-1;qe(t),((e,t,a,i,o)=>{t(!0===e?Object(c.sd)(a[o]):null===i||void 0===i?void 0:i[o])})(wt,He,Le,At,t)},ea=e=>{Rt(e)},ta=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},aa=e=>{ta(),pt(Object(s.w)({data:{storeId:e.id},tenantId:gt,customerId:Lt,dispatch:"dispatch"})),Tt(!0)},ia=e=>{ta(),pt(Object(s.x)({tenantId:gt,customerId:Lt,storeId:Object(c.sd)(e.id),dispatch:"dispatch"})),Tt(!1)};Object(v.useEffect)((()=>{ft&&Se.b.dark(Object(y.jsxs)("div",{className:"img-text-div",children:[Object(y.jsx)(S.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Se.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[l.length]),Object(v.useEffect)((()=>{0!==Be||0!==jt||!lt||L||Et||(Ie.toUpperCase()===Z?Object(c.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(oe)):Object(c.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(ae)))}),[Be,jt,lt,L,Et]);const oa=(e,t)=>{var a,o,n,l;const s=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)===X,d=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:r=[]}=d[0],u="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(b.a.Fragment,{children:s?Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:s,isMapView:!0,onStoreSelectFinish:A,isMobile:Ue,centerIndex:Ye,storeLength:Object(c.ad)(wt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},t):Object(y.jsx)(Ge,{orderTypes:r,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:A,isMobile:Ue,isMapView:!0,storeInfo:e,mapText:W,onClick:()=>{qt(),zt()},...i[0],onPositionChangeHandler:$t,centerIndex:Ye,storeLength:Object(c.ad)(wt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},u)})},na=At.map(((e,t)=>{var a,o,n,l;if((null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)===X){var s,d;const a=(null===(s=e.summary)||void 0===s||null===(d=s.status)||void 0===d?void 0:d.currentStatus)===X;return a&&xt++,Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:a,onStoreSelectFinish:A,isMobile:Ue,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}if((null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)===$){xt++;const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:o=[]}=a[0],n="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(Ge,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},n)})}})),la=Le.map(((e,t)=>{var a,o,n,s;if(Ne||ke([]),Be>=D||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(s=n.periods)||void 0===s?void 0:s.length))return null;{var d,r;const a=(null===(d=e.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===X;return a&&Be++,Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:a,onStoreSelectFinish:A,isMobile:Ue,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}})),sa=()=>{let e=-1!==Ie.toLowerCase().indexOf("dine")?ne:Ie;if(mt=Object(T.a)(e,o),mt)return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(w,{errorMsgToShow:mt,onClearTextHandler:Jt,dispositionType:Ie,handleGoBack:_})})},da=()=>{if(Le.length===vt.length&&vt.length>0){let e=-1!==Ie.toLowerCase().indexOf("dine")?ne:Ie,t=Object(T.a)(e,o);return Object(c.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(t)),sa()}if(Le.length===ct.length&&ct.length)return ra;{let e=-1!==Ie.toLowerCase().indexOf("dine")?ne:Ie;return Le.length&&(mt=Object(T.a)(e,Le),mt)?sa():(Be<5&&la.push(ra),la)}},ra=ct.map(((e,t)=>{const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:o=[]}=Object(c.rd)(a[0]);if(Ne||ke([]),jt>=D-Be)return null;{jt++;const a="".concat(e.name[0].value,"_").concat(t),n=Le.findIndex((t=>t.id===e.id));return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(Ge,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,n),qt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},a)})}})),ca=()=>{switch(Ie.split("-").join(" ").toUpperCase()){case Z:return Object(n.translateWithI18Next)(oe);case le:return Object(n.translateWithI18Next)(ae);default:return null}},ua=()=>{qe(0),qt(),((e,t,a)=>{!0===e?t():a()})(wt,zt,Kt)};return Object(y.jsxs)(b.a.Fragment,{children:[Object(y.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"store-count",children:[Object(y.jsx)("span",{className:"member-signin",children:!Dt&&Object(y.jsxs)("div",{"data-id":R.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(n.translateWithI18Next)(F),Object(y.jsx)("span",{onClick:m,children:Object(y.jsx)(g.a,{className:"store-signin-link",targettype:P.targetType,href:P.linkUrl,"data-testid":"store-signin-link",children:Object(n.translateWithI18Next)(P.linkText)})})]})}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await r.b.BindLocation(),Object(T.m)(),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),Be=0,Ce({lat:e,lng:t}),_e(!1),d({userLat:e,userLong:t}),rt(!0),xe(r.b.address),tt(r.b.address),Fe(!0)}Object(M.s)(Ot,!r.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(y.jsx)(S.a,{"data-testid":"",srcFile:Ke,alt:"location",className:"location-img"}),Object(n.translateWithI18Next)(H)]})})]}),Object(y.jsx)("div",{className:"search-address",children:Object(y.jsx)("div",{className:"input-address",children:Object(y.jsx)(N.a,{"data-testid":"handle-select",value:Ne,onChange:e=>{e||Jt(),xe(e),Object(c.pc)(e)<3&&Pt(!1)},onSelect:Wt,searchOptions:{componentRestrictions:{country:J}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:o}=e;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"".concat(mt||0===Be&&0===jt&&lt&&L&&!Le.length?"search-container-data error-border":"search-container-data"),children:[Object(y.jsx)(S.a,{"data-testid":"",srcFile:Qe,alt:"googleMapLocation",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(n.translateWithI18Next)(U)})}),Ne&&Object(y.jsx)("img",{"data-testid":"clear-text-icon",src:Ve.a,className:"clearTextIcon",onClick:()=>Jt(),alt:"Clear Text Icon"})]}),!!Object(c.hb)(Object(c.pc)(a),Ft)&&Object(y.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:a.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>G.includes(e)))){const a=e.active?{backgroundColor:z,opacity:K}:{backgroundColor:q};return Object(y.jsxs)(b.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(n.translateWithI18Next)(Y)}),Object(y.jsx)("div",{style:a,children:Object(y.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...i(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment",children:[Object(y.jsx)("div",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:Vt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(y.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),st(Ne,De,Q,qt,zt),Object(y.jsxs)("form",{className:"form",children:[Object(y.jsxs)("div",{className:"store-count",children:[!!Be&&Object(y.jsx)("span",{"data-testid":"tab-open-store",className:at(Dt,wt),onClick:()=>{qe(0),ea(!0)},children:Dt?Object(y.jsxs)("span",{children:[" ","".concat(Object(n.translateWithI18Next)("nearYou"))," (",Be+jt,")"]}):Object(y.jsxs)("span",{children:[Be+jt," ","".concat(Object(n.translateWithI18Next)("nearYou"))]})}),!!jt&&Le.length===ct.length&&Le.length!==vt.length&&Object(y.jsx)("span",{"data-testid":"tab-closed-store",className:at(Dt,wt),onClick:()=>{qe(0),ea(!0)},children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Be&&0===jt&&lt&&L&&Object(y.jsx)("span",{className:"store-count-title",children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(Be,")")}),dt(Be,jt,Dt,xt,{firstTab:wt,setCenterIndex:qe,handleTabChange:ea}),(!!Be||!!jt)&&Le.length!==vt.length&&Object(y.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ua()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(Q):W]})}),0===Be&&0===jt&&lt&&L&&Object(y.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ua()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(Q):Object(n.translateWithI18Next)(W)]})})]}),De?Object(y.jsx)("div",{className:"order-button-section",children:0===Be&&0===jt&&lt&&L&&Object(y.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:ca()}),Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(n.translateWithI18Next)(ee)})]})})}):Object(y.jsxs)(y.Fragment,{children:[Object(c.hb)(!Et,Object(c.hb)(wt,0!==Be||0!==jt||!lt||L||Le.length?da():Yt(ca,Bt,te))),Dt&&!wt&&Object(y.jsx)("div",{className:"order-button-section",children:na})]}),Object(y.jsx)("div",{className:"clearfix"})]})]}),De&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"".concat((null===Ie||void 0===Ie?void 0:Ie.toUpperCase())!==se&&"takeawayDineInMap"," delivery-map"),children:[Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{latLongValue:Te,loadingElement:Object(y.jsx)("div",{style:{height:"100%"}}),containerElement:Object(y.jsx)("div",{style:{height:"400px"}}),mapElement:Object(y.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{xe(e)},isVisible:Ie.toUpperCase()===Z||Ie.toUpperCase()===le,isMobile:Ue,centerIndex:Ye,onPositionChangeHandler:$t,setShowCard:Re,setStoreMarker:Object(c.ad)(wt,(e=>{const t=Le.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ye===t&&Qt(),qe(t))}),(e=>{((e,t,a,i,o)=>{const n=e.findIndex((e=>e.location.latitude===i.lat()&&e.location.longitude===i.lng()));n>-1&&(o===n&&t(),a(n))})(At,Zt,qe,e,Ye)})),storeCardHeight:kt}),we&&Pe&&Ue?!mt&&oa(Pe,"Selected-Card"):null]}),we&&Pe&&!Ue?Object(c.hb)(Le.length===ct.length,wt)&&!mt&&((e,t)=>{const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:o=[]}=Object(c.rd)(a[0]),n="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(b.a.Fragment,{children:Object(y.jsx)(Ge,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,isMapView:!0,onStoreSelectFinish:A,onClick:()=>{qt(),zt()},storeInfo:e,...i[0],centerIndex:Ye,storeLength:Object(c.ad)(wt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},n)})})(Pe,"Selected-Card")||oa(Pe,"Selected-Card"):""]})})]})}));function st(e,t,a,i,o){return Object(y.jsx)(y.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(y.jsxs)("div",{className:"enter-your-address-section",children:[Object(y.jsx)("span",{className:"search-store-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsx)("div",{"data-testid":"show-list-map",className:Object(c.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&i(),o()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(S.a,{"data-testid":"",srcFile:ot(t),alt:"map",className:"map-img"})}),Object(c.ad)(t,Object(n.translateWithI18Next)(a),Object(n.translateWithI18Next)("map"))]})})]})})}function dt(e,t,a,i,o){let{firstTab:l,setCenterIndex:s,handleTabChange:d}=o;return Object(y.jsx)(y.Fragment,{children:(!!e||!!t)&&a&&Object(y.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(l),onClick:()=>{s(0),d(!1)},children:"".concat(Object(n.translateWithI18Next)("savedkfc")," (").concat(i,")")})})}var rt=a(1154),ct=a(86),ut=a(1117),vt=a(133);const bt=e=>{var t;const{contentData:a={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:S,ANALYTICS_LOCALISATION_SIGNIN:I}=j.a,N=Object(O.b)(),{COUNTRY_CODE:x,STORE_CARD_LIMIT:f,TYPE_TAKE_WAY:C,PICK_UP:D,TENANT_ID:A,TENATNT_SESSION_ID:_,TYPE_DELIVERY:w}=p.a,{userOrderState:L,userOrderStateDispatch:k}=Object(v.useContext)(u.a),{dispositionStateData:F,searchStoreData:P,showLocationConfirmModal:H}=L,{dispositionType:U=localStorage.getItem("dispositionType")}=Object(c.ud)(F),{currentMarket:W=x,storeCardLimit:B=f,storeStatusUrl:Y="".concat(Object(o.a)(i.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:G=A,tenantSessionID:V=_}=P,{searchStoreHeaderText:J="",deliveryHeaderText:z="",searchStoreModalContent:K={}}=a,{formContent:q={},locationsContent:{storeData:X=[]}}=K,[Q,Z]=b.a.useState([]),[$,ee]=b.a.useState({}),[te,ae]=b.a.useState([]),[ie,oe]=b.a.useState([]),{storeSearch:ne={},tenantId:le,componentOptions:se}=Object(O.c)((e=>Object(c.sd)(e.tenantReducer))),{storesWithStatus:de=[],isStoreStatusLoading:re=!1}=Object(O.c)((e=>Object(c.sd)(e.storesReducer))),{allStores:ce=[]}=Object(O.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:Oe,maxPickupDistanceMtrs:me,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=ne,Se=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),k({type:S,value:{showDisposition:!1}}),k({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Se(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ie=e=>{e.stopPropagation(),e.preventDefault(),k({type:S,value:{showDisposition:!0}}),k({type:g,value:{showSearchStore:!1}})},Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(I,JSON.stringify(!0)),Object(T.j)(),setTimeout((()=>{Object(ct.c)()}),500)},xe=Object(O.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(k,H)}),[]),Object(v.useEffect)((()=>{fe({userLat:$.userLat,userLong:$.userLong})}),[xe.length]),Object(v.useEffect)((()=>{ce.length>0&&De(ce)}),[ce]),Object(v.useEffect)((()=>{de.length>0&&ke(de)}),[de]),Object(v.useEffect)((()=>{(null===U||void 0===U?void 0:U.toUpperCase())===w&&Ae(ie)}),[ie]);const fe=e=>{Object(rt.a)(e.userLat,e.userLong,xe,Te)},Te=(e,t)=>{const a=Object(c.ad)((null===U||void 0===U?void 0:U.toUpperCase())===C,D,U),i=Y.replace("{channel}",r.b.channel).replace("{service}",a).replace(" ","-"),o=Object(m.a)();Object(T.h)(e,i.toLowerCase(),G,V||Object(m.a)(),o,Ce)},Ce=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:a,amenities:i,dname:o,id:n,location:l}=e.storeBasic;return{...e,id:n,location:l,name:o,amenities:i,addresses:a,additionalAttributes:t,storeBasic:{}}}));ae(t)},Ee=e=>{N(Object(l.b)()),ee({userLat:e.userLat,userLong:e.userLong}),Q&&Z([]),ye(e.userLat,e.userLong),setTimeout((()=>{N(Object(l.a)())}),2e3)},ye=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},i=d.a.calculateGH(a);N(Object(s.v)(null===i||void 0===i?void 0:i.length))},De=e=>{const t=Object(c.Mb)(U.toUpperCase()),a=e.filter((e=>{var t,a;return Object(c.qe)(e.id)&&Object(c.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(c.qe)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),i={stores:a,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(c.ad)(U.toUpperCase()===w,Oe,me),noOfStores:Object(c.ad)(U.toUpperCase()===w,2,a.length),channel:r.b.channel},o=d.a.checkAndProceed(i);oe(o),U.toUpperCase()===w?Ae(o):Le(o,t)},Ae=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,i;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(rt.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:a}=e;const i=Object(c.Mb)(U.toUpperCase()),o={stores:Re(t,ie),numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},n=d.a.getSortedNearbyStores(o);(null===n||void 0===n?void 0:n.length)>0&&Le(n,i)},Re=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),Le=(e,t)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:r.b.channel,service:t}))),store:e,tenantId:le,setStatusFlag:!1,isFavoritePage:!1};N(Object(s.d)(a,null))},ke=e=>{let t=e.filter((e=>{var t,a,i,o,n,l,s,d,r,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(s=l.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(r=d.timings)||void 0===r||null===(c=r.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const a=Object(c.Mb)(U.toUpperCase());if(ge&&U.toUpperCase()===w){const e={stores:t,numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},i=d.a.getSortedNearbyStores(e);t=(null===i||void 0===i?void 0:i.length)>0?i:[]}Z(t)},Me=null===se||void 0===se||null===(t=se.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Fe}=R.gd,{configSearchScreen:Pe=localStorage.getItem(Fe)}=P,He="".concat(null===U||void 0===U?void 0:U.toUpperCase(),"_").concat(Pe),{shouldShowLocationLink:Ue}={...null===vt.d||void 0===vt.d?void 0:vt.d[He],...null===Me||void 0===Me?void 0:Me[He]},{Error_Yellow:We}=E.a||{},{LOCATION_BLOCKED_ERROR:Be,KFC_URL:Ye}=we.a,Ge=Object(c.Je)(H,Ue),Ve=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ut.a,{show:Ge,errorMsg:Object(M.G)(Be,Ye),errImage:We,cssClass:"location-blocked"}),(null===U||void 0===U?void 0:U.toUpperCase())===w?Object(y.jsx)(be,{singInClickhandler:Ne,formContent:q,storeData:X,onStoreSelectFinish:h,eligibleStoreData:Q,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W}):Object(y.jsx)(lt,{singInClickhandler:Ne,formContent:q,storeData:X,eligibleStoreData:Q,noStoresList:re,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W,onStoreSelectFinish:h,handleGoBack:Ie,favoriteStoreData:te,favoriteStoreHandler:fe})]});return Object(y.jsx)(he,{handleClose:Se,orderModeTypeItem:Ve,showLocationError:Ge,headerText:Object(c.ad)((null===U||void 0===U?void 0:U.toUpperCase())===w,Object(n.translateWithI18Next)(z),Object(n.translateWithI18Next)(J)),handleGoBack:Ie,modalTitleId:"search-store"})};bt.defaultProps=h.a;t.default=bt},964:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleOrder",(function(){return b}));var i=a(3),o=a.n(i),n=a(1143),l=a(144),s=a(2);var d=e=>{const{handleClose:t,ScheduleOrderForm:a,headerText:i,modalTitleId:n="",handleGoBack:d}=e;return Object(s.jsx)(o.a.Fragment,{children:Object(s.jsx)(l.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:d,children:a})})},r=a(85),c=a(16),u=a(6),v=a(4);const b=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:a,userOrderStateDispatch:o}=Object(i.useContext)(r.a),{SEARCH_ORDER_DATA:l,SCHEDULE_ORDER_DATA:b}=c.a,{scheduleOrderData:O}=a,{changeFlow:m=!1}=O,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),o({type:b,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),o({type:l,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(s.jsx)(n.a,{onStoreSelectFinish:t});return Object(s.jsx)(d,{handleGoBack:()=>{o({type:l,value:{showSearchStore:!0}}),o({type:b,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:m?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=b}}]);