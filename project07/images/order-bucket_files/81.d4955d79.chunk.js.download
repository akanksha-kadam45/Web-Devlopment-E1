(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[81,115],{1069:function(e,t,i){"use strict";i.r(t);var a=i(3),o=i.n(a),n=i(5),l=i(6),c=i(41),r=i(4),s=i(0),d=i(15),u=i(12),v=i(1108),b=i(1111),O=i(265);const j=e=>{var t;const{postActiveOrderDetail:i}=e;let a="";return Object(n.Hd)(null===i||void 0===i?void 0:i.service)?a=Object(n.rf)(Object(l.translateWithI18Next)(null===i||void 0===i?void 0:i.service)):!1===(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow)?a=Object(n.rf)(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.SCHEDULED)):Object(n.Kd)(null===i||void 0===i?void 0:i.service)&&(a=Object(n.rf)(Object(l.translateWithI18Next)(null===i||void 0===i?void 0:i.service))),"".concat(a," ").concat(null===(null===i||void 0===i?void 0:i.referenceNumber)?Object(n.rf)(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDER)):"".concat(Object(n.rf)(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDER_HASH))," ").concat(Object(v.f)(i)))},f=e=>{var t;const{postActiveOrderDetail:i}=e;if(!1===(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow))return Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER_IS_SCHEDULED);if(Object(n.Jd)(null===i||void 0===i?void 0:i.service)){const e={service:null===i||void 0===i?void 0:i.service,status:Object(O.c)(i)};return Object(l.translateWithI18Next)(Object(O.a)(e)||(null===r.a||void 0===r.a?void 0:r.a.ORDER_GETTING_READY))}return""},p=e=>{var t;const{postActiveOrderDetail:i}=e,{pickupTrackOrderButtonLabel:a}=null===e||void 0===e?void 0:e.activeTrackerDetails;return Object(n.Hd)(null===i||void 0===i?void 0:i.service)?Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.VIEW_DETAILS):!1===(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.TRACK_ORDER):Object(n.Jd)(null===i||void 0===i?void 0:i.service)?Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.TRACK_DELIVERY):Object(n.ge)(null===i||void 0===i?void 0:i.service)?Object(l.translateWithI18Next)(a):""},m=e=>{var t;const{postActiveOrderDetail:i}=e;var a;if(Object(n.Hd)(null===i||void 0===i?void 0:i.service))return"".concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.READY_TO_COLLECT)," ").concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.AT),": ").concat(Object(u.D)(i.fulfillmentDateTime,null===i||void 0===i||null===(a=i.store)||void 0===a?void 0:a.timeZoneIANA,null===s.sb||void 0===s.sb?void 0:s.sb.H_MM_A));if(!1===(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow))return Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.SCHEDULED_TIME);if(Object(n.Jd)(null===i||void 0===i?void 0:i.service)){var o;const e={service:null===i||void 0===i?void 0:i.service,status:Object(O.c)(i)};return Object(O.K)(e)?"".concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.DELIVERED_AT),": ").concat(Object(n.bd)((null===i||void 0===i?void 0:i.estimatedDeliveryTime)||(null===i||void 0===i||null===(o=i.deliveryDetails)||void 0===o?void 0:o.estimatedDeliveryTime))):"".concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ESTIMATED_ARRIVAL),": ").concat(Object(n.bd)(null===i||void 0===i?void 0:i.fulfillmentDateTime))}return Object(n.ge)(null===i||void 0===i?void 0:i.service)?Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.READY_TO_COLLECT):""};var h=i(2);const D=e=>{const{postActiveOrderHistoryDetailsList:t}=null===e||void 0===e?void 0:e.activeTrackerDetails;return(null===t||void 0===t?void 0:t.length)>0&&Object(h.jsxs)("div",{className:"active-orders-title col-12",children:[Object(h.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.Strips,alt:"Red Strip",class:"account-icon"}),Object(h.jsx)("h4",{class:"currentStatus",children:"".concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.CURRENT_ORDERS)," (").concat(null===t||void 0===t?void 0:t.length,")")})]})},g=e=>Object(h.jsx)("div",{className:"active-orders-details-info col-12",children:Object(h.jsx)("span",{children:j(e)})}),N=e=>{const{postActiveOrderDetail:t,dateFormat:i,changeDateFormatOrder:a}=e;if(Object(l.translateWithI18Next)(Object(n.he)(null===t||void 0===t?void 0:t.service))){var o,c,d;const e=Object(u.M)(null===t||void 0===t?void 0:t.fulfillmentDateTime),n=null===(o=Object(u.D)(null===t||void 0===t?void 0:t.fulfillmentDateTime,null===t||void 0===t||null===(c=t.store)||void 0===c?void 0:c.timeZoneIANA,null===s.sb||void 0===s.sb?void 0:s.sb.YYYY_MM_DD))||void 0===o?void 0:o.split("-");return Object(h.jsxs)("span",{className:"col-12",children:[Object(h.jsx)("span",{children:a&&n[1]&&n[2]?"".concat(n[1]).concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.MONTH)).concat(n[2]).concat(Object(l.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.DAY)).concat(Object(l.translateWithI18Next)(s.ub[new Date(e).getDay()])):"".concat(Object(l.translateWithI18Next)(s.ub[new Date(e).getDay()])," ").concat(Object(u.h)(e,i))}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{children:[" ",null===t||void 0===t||null===(d=t.store)||void 0===d?void 0:d.name]})]})}return Object(h.jsx)("span",{className:"col-12",children:f(e)})},x=e=>Object(h.jsx)("div",{className:"active-orders-details-panel-info col-12 col-lg-8",children:N(e)}),T=e=>Object(h.jsx)(c.a,{"data-testid":"active-track-order-button",className:"button col-12","aria-label":p(e),onClickHandler:()=>(e=>{const{postActiveOrderDetail:t,activeTrackerDetails:i,redirectTo:a}=e,{props:o,postActiveOrderHistoryDetailsList:n}=i;localStorage.setItem(s.gd.FROM_ORDERTRACING_BUTTON,!0),(null===n||void 0===n?void 0:n.length)>0&&Object(b.s)({trackDetails:i,orderDetails:t,redirectTo:a,props:o})})(e),id:"activeTrackOrderItemButton",type:"submit",children:Object(h.jsx)("span",{children:p(e)})}),I=e=>{const{enableReadytoCollectLabel:t}=e;return t&&Object(h.jsx)("span",{children:m(e)})},A=e=>{var t,i;const{postActiveOrderHistoryDetailsList:a,enableGlobalOrderTracking:o,enableReadytoCollectLabel:c}=null===e||void 0===e?void 0:e.activeTrackerDetails,{tenantReducer:d}=e,{dateFormat:v,componentOptions:b}=d,O=null===b||void 0===b||null===(t=b.web)||void 0===t||null===(i=t.dispositionConfig)||void 0===i?void 0:i.changeDateFormatOrder,j=null===d||void 0===d?void 0:d.showCustomerPhoneNumber;return a&&a.map((t=>{var i,a,d;const b=Object(n.ge)(null===t||void 0===t?void 0:t.service)||Object(n.Vd)(null===t||void 0===t?void 0:t.service);return Object(h.jsxs)("div",{className:"active-orders-panel col-12 col-lg-7",children:[Object(h.jsx)("div",{class:"circle-top-left"}),Object(h.jsxs)("div",{className:"active-orders-details",children:[g({postActiveOrderDetail:{...t,enableGlobalOrderTracking:o}}),b&&j&&(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.phoneNumber)&&Object(h.jsxs)("div",{className:"active-orders-details-add-info phoneNumber col-12",children:[Object(l.translateWithI18Next)(r.a.PHONE_STATIC_TEXT),":"," ",null===t||void 0===t||null===(a=t.customer)||void 0===a?void 0:a.phoneNumber]}),Object(h.jsxs)("div",{className:"active-orders-details-panel p-top col-12",children:[x({postActiveOrderDetail:t,dateFormat:v,changeDateFormatOrder:O}),Object(h.jsx)("div",{className:"active-track-order-btn col-12 col-lg-4",children:T({postActiveOrderDetail:t,...e})})]}),Object(h.jsxs)("div",{className:"active-orders-details-add-info col-12",children:[!b&&I({postActiveOrderDetail:t,enableReadytoCollectLabel:c}),!!c&&Object(h.jsx)("span",{className:"ml-2",children:Object(u.D)(t.fulfillmentDateTime,null===t||void 0===t||null===(d=t.store)||void 0===d?void 0:d.timeZoneIANA,null===s.sb||void 0===s.sb?void 0:s.sb.H_MM_A)})]})]}),Object(h.jsx)("div",{class:"circle-bottom-right"})]})}))},R=e=>Object(h.jsxs)("div",{className:"active-orders au col-12",children:[D(e),Object(h.jsx)("div",{className:"active-orders-list col-12",children:A({...e,redirectTo:n.cf})})]});t.default=o.a.memo(R)},1097:function(e,t,i){var a=i(327),o=i(213),n=i(330);e.exports=function(e){return function(t,i,l){var c=Object(t);if(!o(t)){var r=a(i,3);t=n(t),i=function(e){return r(c[e],e,c)}}var s=e(t,i,l);return s>-1?c[r?t[s]:s]:void 0}}},1102:function(e,t,i){var a=i(1097)(i(405));e.exports=a},1104:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n}));var a=i(1);function o(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.qk,payload:{data:e,tenantId:t},successCallback:i,errorCallback:o}}function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a.lk,menuPayload:e,exclusionPayload:t,successCallback:i}}},1105:function(e,t,i){var a=i(268),o=i(597);e.exports=function(e){return o(a(e).toLowerCase())}},1114:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i(1);function o(e){return{type:a.he,payload:e}}},1120:function(e,t,i){var a=i(598),o=i(596),n=i(599),l=4294967295,c=Math.min;e.exports=function(e,t){if((e=n(e))<1||e>9007199254740991)return[];var i=l,r=c(e,l);t=o(t),e-=l;for(var s=a(r,t);++i<e;)t(i);return s}},1121:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return r}));var a=i(3);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o.apply(this,arguments)}var n=function(e){var t=Object(a.useRef)(e);return t.current=e,t},l=function(e){var t=void 0===e?{}:e,i=t.requestOptions,l=t.debounce,c=void 0===l?200:l,r=t.cache,s=void 0===r?86400:r,d=t.cacheKey,u=t.googleMaps,v=t.callbackName,b=t.defaultValue,O=void 0===b?"":b,j=t.initOnMount,f=void 0===j||j,p=Object(a.useState)(!1),m=p[0],h=p[1],D=Object(a.useState)(O),g=D[0],N=D[1],x=Object(a.useState)({loading:!1,status:"",data:[]}),T=x[0],I=x[1],A=Object(a.useRef)(null),R=n(i),y=n(u),w=d?"upa-"+d:"upa",E=Object(a.useCallback)((function(){var e;if(!A.current){var t=window.google,i=y.current,a=(null==i?void 0:i.places)||(null==t||null==(e=t.maps)?void 0:e.places);a?(A.current=new a.AutocompleteService,h(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),C=Object(a.useCallback)((function(){I({loading:!1,status:"",data:[]})}),[]),k=Object(a.useCallback)((function(){try{sessionStorage.removeItem(w)}catch(e){}}),[]),_=Object(a.useCallback)(function(e,t){var i;return function(){for(var a=this,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];null!==i&&(clearTimeout(i),i=null),i=setTimeout((function(){return e.apply(a,n)}),t)}}((function(e){if(e){I((function(e){return o({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(w)||"{}")}catch(i){}s&&(t=Object.keys(t).reduce((function(e,i){return t[i].maxAge-Date.now()>=0&&(e[i]=t[i]),e}),{}))[e]?I({loading:!1,status:"OK",data:t[e].data}):A.current.getPlacePredictions(o({},R.current,{input:e}),(function(a,o){if(I({loading:!1,status:o,data:a||[]}),s&&"OK"===o){t[e]={data:a,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(w,JSON.stringify(t))}catch(i){}}}))}else C()}),c),[c,C]),W=Object(a.useCallback)((function(e,t){void 0===t&&(t=!0),N(e),A.current&&t&&_(e)}),[_]);return Object(a.useEffect)((function(){if(!f)return function(){return null};var e=window.google;return y.current||null!=e&&e.maps||!v?E():window[v]=E,function(){window[v]&&delete window[v]}}),[v,E]),{ready:m,value:g,suggestions:T,setValue:W,clearSuggestions:C,clearCache:k,init:E}},c=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(i,a){t.geocode(e,(function(t,o){"OK"!==o&&a(o),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),i(t)),i(t)}))}))},r=function(e){return new Promise((function(t,i){try{var a=e.geometry.location,o=a.lat,n=a.lng;t({lat:o(),lng:n()})}catch(l){i(l)}}))}}}]);