(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[104],{1065:function(e,t,s){"use strict";s.r(t);var l=s(3),i=s(28),a=s(62),n=s(6),d=s(171),c=s(144),o=s(1262);var r=s(0);const u=e=>{var t,s,l;return(null===e||void 0===e?void 0:e.fulfillmentDateTime)&&(null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.phoneNumber)&&(null===e||void 0===e||null===(s=e.foodLines)||void 0===s?void 0:s.length)&&(null===e||void 0===e?void 0:e.subTotal)&&(null===e||void 0===e?void 0:e.total)&&(null===e||void 0===e||null===(l=e.paymentReferences)||void 0===l?void 0:l.length)&&(null===e||void 0===e?void 0:e.posOrderId)&&(null===e||void 0===e?void 0:e.service)};var m=s(2);t.default=()=>{const[e,t]=Object(l.useState)(!1),{tenantReducer:s,profileReducer:v,postOrderReducer:j={}}=Object(i.c)((e=>e)),{orderAccepted:p={}}=j,b=Object(i.b)(),O=Object(a.g)(),{order_id:h}=Object(a.i)(),x=()=>{t(!1),O.push({pathname:r.Ce.ORDER_DETAILS})};Object(l.useEffect)((()=>{const e={tenantId:null===s||void 0===s?void 0:s.tenantId,orderId:h,customerId:null===v||void 0===v?void 0:v.customerId};(null===s||void 0===s?void 0:s.tenantId)&&b(Object(d.f)(e,(e=>{var s;null!==e&&void 0!==e&&e.id&&(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.toUpperCase())===r.Rd.SENT_TO_POS_COMPLETED&&u(e)?t(!0):x()}),x))}),[null===s||void 0===s?void 0:s.tenantId,null===v||void 0===v?void 0:v.customerId]);const N={role:"dialog",modalTitleId:"order-details-modal",show:!0,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,closeButtonHandler:()=>{t(!1),O.push({pathname:r.Ce.HOME_PAGE})},modalTitle:Object(n.translateWithI18Next)("orderReceipt"),showBackBtn:!1,closeDataTestId:"close-order-details-modal",id:"OrderDetailsModal",autoFocus:!0};return u(p)&&e?Object(m.jsx)(c.a,{...N,children:Object(m.jsx)("div",{"data-testid":"order-details-receipt-modal",className:"ReceiptModal",children:Object(m.jsx)(o.a,{orderItem:p})})}):null}},1230:function(e,t,s){"use strict";var l=s(3),i=s(5),a=s(144),n=s(0),d=s(15),c=s(2);const o=e=>{const{isOpen:t,handleClose:s,OrderReducerData:o}=e,[r,u]=Object(l.useState)(Object(i.de)(window.innerWidth)),m=window.google,{RedMarker:v,BlackMarker:j}=d.a;Object(l.useEffect)((()=>(window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})));const p=()=>{u(Object(i.de)(window.innerWidth))},b=r?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:s,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,autoFocus:!0};function O(){var e,t,s,l;const i=new m.maps.DirectionsService,a=new m.maps.DirectionsRenderer,n=new m.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===o||void 0===o||null===(e=o.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===o||void 0===o||null===(s=o.store)||void 0===s||null===(l=s.location)||void 0===l?void 0:l.longitude)}});a.setMap(n),function(e,t){var s,l,i,a,n,d,c,r,u,v,p,b;const O={lat:Number(null===o||void 0===o||null===(s=o.store)||void 0===s||null===(l=s.location)||void 0===l?void 0:l.latitude),lng:Number(null===o||void 0===o||null===(i=o.store)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.longitude)},h=new m.maps.Map(document.getElementById("maps"),{zoom:16,center:O});e.route({origin:{lat:Number(null===o||void 0===o||null===(n=o.store)||void 0===n||null===(d=n.location)||void 0===d?void 0:d.latitude),lng:Number(null===o||void 0===o||null===(c=o.store)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude)},destination:{lat:Number(null===o||void 0===o||null===(u=o.store)||void 0===u||null===(v=u.location)||void 0===v?void 0:v.latitude),lng:Number(null===o||void 0===o||null===(p=o.store)||void 0===p||null===(b=p.location)||void 0===b?void 0:b.longitude)},travelMode:m.maps.TravelMode.DRIVING},((e,s)=>{if("OK"===s){t.setDirections(e);var l=e.routes[0].legs[0];new m.maps.Marker({position:l.end_location,map:h,visible:!0,icon:j,title:"Delivery-Location"})}else new m.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(i,a)}return Object(l.useEffect)((()=>{null!==(null===o||void 0===o?void 0:o.deliveryAddress)&&null!==(null===o||void 0===o?void 0:o.store)&&Object(i.rf)(null===o||void 0===o?void 0:o.service)===Object(i.rf)(n.yb)?O():Object(i.rf)(null===o||void 0===o?void 0:o.service)!==Object(i.rf)(n.fe)&&Object(i.rf)(null===o||void 0===o?void 0:o.service)!==Object(i.rf)(n.Eb)||null===(null===o||void 0===o?void 0:o.store)||function(){var e,t,s,l;const i={lat:Number(null===o||void 0===o||null===(e=o.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===o||void 0===o||null===(s=o.store)||void 0===s||null===(l=s.location)||void 0===l?void 0:l.longitude)},a=new m.maps.Map(document.getElementById("maps"),{zoom:16,center:i});new m.maps.Marker({position:i,map:a,visible:!0,icon:v,title:"KFC Store"})}()})),Object(c.jsx)("div",{children:t&&Object(c.jsx)(a.a,{...b,children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{id:"maps"})})})})};o.defaultProps={isOpen:!1,closeModal:null},t.a=o},1262:function(e,t,s){"use strict";var l=s(3),i=s(169),a=s(12),n=s(406),d=s(419),c=s.n(d),o=s(42),r=s.n(o),u=s(6),m=s(28),v=s(5),j=s(414),p=s(1230),b=s(271),O=s(71),h=s(15),x=s(4),N=s(2);t.a=e=>{var t,s;const{orderItem:d}=e,o=Object(m.c)((e=>e.tenantReducer)),{currencySymbol:y,currencyConversionFactor:f,addHope:I,carryBag:g,showCustomDeliveryFee:E}=o||{},{tendersContent:T}=Object(m.c)((e=>e.paymentsContentReducer)),{items:D=[]}=T,{phoneImg:R,Direction:C}=h.a,{fulfillmentDateTime:w,deliveryAddress:L,store:S,foodLines:M,subTotal:B,total:_,taxLines:A,paymentReferences:W,posOrderId:P,inclusiveTaxTotal:k,additionalChargeLines:F,discountTotal:H,service:U}=d,{phoneNumber:z}=S,{YOUR_ORDER:G,DELIVER_TO:K,PAYMENT:Y,ORDER_FROM:q,GET_DIRECTION:V,TOTAL:J,SUBTOTAL:X,ORDER:Q,AT:Z,COMPLETED:$,GST:ee,DISCOUNT:te,SEARCH_IN_CART:se,LARGE_CARRY_BAG:le,ADD_HOPE_TEXT:ie}=n.d,ae=Object(a.C)(w,"ll"),ne=Object(a.C)(w,"h:mm A"),[de,ce]=Object(l.useState)(""),[oe,re]=Object(l.useState)(""),[ue,me]=Object(l.useState)(0),[ve,je]=Object(l.useState)(0),[pe,be]=Object(l.useState)([]),[Oe,he]=Object(l.useState)(!1),xe=Object(m.b)();Object(l.useEffect)((()=>{xe(Object(b.a)({object:Object(O.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(l.useEffect)((()=>{if(Object(v.hb)(I,g)){let e={setAddHopeDataExistsId:re,setAddHopeDataPrice:me},t={setCarryBagDataExistsId:ce,setCarryBagDataPrice:je};Object(j.i)(d,I,g,se,e,t,o);let s=Object(v.Tb)(M,I,g);be(s)}}),[d]);const Ne=e=>(e/f).toFixed(2);return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"reciept-header",children:[Object(N.jsx)("span",{className:"your-order",children:Object(u.translateWithI18Next)(G)}),Object(N.jsxs)("span",{className:"receipt-number",children:[Object(u.translateWithI18Next)(Q),"# ",P]})]}),Object(N.jsx)("hr",{className:"horizontal-bar"}),Object(N.jsxs)("div",{className:"reciept-order-detail",children:[Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)($)}),Object(N.jsx)("span",{className:"receipt-sub-detail",children:ae+" ".concat(Object(u.translateWithI18Next)(Z)," ")+ne})]}),L&&Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(K)}),Object(N.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===L||void 0===L?void 0:L.addressLines[2])&&Object(N.jsxs)("span",{children:[null===L||void 0===L?void 0:L.addressLines[2],", "]}),(null===L||void 0===L?void 0:L.addressLines[1])&&Object(N.jsxs)("span",{children:[null===L||void 0===L?void 0:L.addressLines[1],", "]}),(null===L||void 0===L?void 0:L.addressLines[0])&&Object(N.jsxs)("span",{children:[null===L||void 0===L?void 0:L.addressLines[0],", "]}),(null===L||void 0===L?void 0:L.state)&&Object(N.jsxs)("span",{children:[null===L||void 0===L?void 0:L.state,", "]}),(null===L||void 0===L?void 0:L.pinCode)&&Object(N.jsxs)("span",{children:[null===L||void 0===L?void 0:L.pinCode,", "]}),(null===L||void 0===L?void 0:L.country)&&Object(N.jsx)("span",{children:null===L||void 0===L?void 0:L.country})]})]}),Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(Y)}),Object(N.jsx)("span",{className:"receipt-sub-detail",children:(()=>{var e,t,s,l,i,a,n,d;const o=c()(W,{}),r=c()(D.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===o||void 0===o?void 0:o.paymentType)})),{});return"Only image"===(null===r||void 0===r||null===(e=r.fields)||void 0===e?void 0:e.displayFormat)?Object(N.jsx)("img",{src:null===r||void 0===r||null===(t=r.fields)||void 0===t||null===(s=t.icon)||void 0===s||null===(l=s.fields)||void 0===l||null===(i=l.desktopImage)||void 0===i||null===(a=i.fields)||void 0===a||null===(n=a.file)||void 0===n?void 0:n.url,alt:"paymentMethod"}):Object(N.jsx)("span",{className:"dateCompleted",children:null===r||void 0===r||null===(d=r.fields)||void 0===d?void 0:d.displayName})})()})]}),Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(q)}),null!==S&&void 0!==S&&Object(N.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[S.name,Object(N.jsx)("br",{}),null===S||void 0===S||null===(t=S.address)||void 0===t?void 0:t.addressLines]})]}),Object(N.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(N.jsx)("span",{children:" "}),Object(N.jsxs)("span",{className:"callAndDirection",children:[Object(N.jsxs)("span",{className:"KfcphoneNums",children:[Object(N.jsx)("img",{src:R,alt:"phone",className:"KfcphoneIcon"}),Object(N.jsx)("a",{href:"tel:"+z,className:"anchorTags",children:(e=>{e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)})(z)})]}),Object(N.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>he(!0),children:[Object(N.jsx)("img",{src:C,alt:"phone",className:"KfcDirectionIcon"}),Object(u.translateWithI18Next)(V)]})]})]})]}),Object(N.jsx)("section",{className:"reciept-accordian",children:Object(N.jsx)(i.a,{header:"".concat(pe.length," ITEM"),children:pe.map((e=>{return Object(N.jsx)("section",{className:"",children:Object(N.jsxs)("div",{className:"reciept-order-item",children:[Object(N.jsxs)("div",{className:"reciept-item-details",children:[Object(N.jsx)("div",{className:"item-count-box mr",children:Object(N.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(N.jsxs)("div",{className:"item-desc-section",children:[Object(N.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(N.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,r()(t,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>"".concat(e.quantity,"x ").concat(e.name))).join())})]})]}),Object(N.jsxs)("span",{className:"item-amount",children:[y,Ne.call(void 0,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(d.id))}),Object(N.jsxs)("div",{className:"reciept-order-detail",children:[Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(X)}),Object(N.jsxs)("span",{className:"payment-amount",children:[y,Ne(B)]})]}),A&&Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:ee}),Object(N.jsxs)("span",{className:"payment-amount",children:[y,Ne(k)]})]}),E&&(e=>{var t;return null===e||void 0===e||null===(t=e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))))||void 0===t?void 0:t.map(((e,t)=>Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.DELIVERY_FEE)}),Object(N.jsxs)("span",{className:"payment-amount",children:[y,Ne.call(void 0,null===e||void 0===e?void 0:e.amount)," "]})]},t)))})(F),E&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.IN_DELIVERY_FEE)}),Object(N.jsxs)("span",{className:"payment-amount",children:[y,Ne.call(void 0,null===t||void 0===t?void 0:t.amount)," "]})]})})(F),!E&&(null===F||void 0===F||null===(s=F.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===s?void 0:s.map(((e,t)=>Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(N.jsxs)("span",{className:"payment-amount",children:[y,Ne.call(void 0,e.amount)," "]})]},t)))),H>0&&Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(te)}),Object(N.jsxs)("span",{className:"payment-amount",children:[" ","- ",y,Ne(H)]})]}),"PICKUP"===U.toUpperCase()&&de&&Object(N.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(N.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(le)}),Object(N.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ve})]}),Boolean(oe)&&Object(N.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(N.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(ie)}),Object(N.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ue})]}),Object(N.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(N.jsx)("span",{className:"payment-total",children:Object(u.translateWithI18Next)(J)}),Object(N.jsxs)("span",{className:"payment-total-amount",children:[y,Ne(_)]})]}),Oe&&Object(N.jsx)("div",{children:Object(N.jsx)(p.a,{"data-testid":"map-modal",isOpen:Oe,handleClose:()=>he(!1),OrderReducerData:d})})]})]})}}}]);