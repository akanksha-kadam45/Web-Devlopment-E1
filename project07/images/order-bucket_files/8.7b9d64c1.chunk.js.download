(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[8,112],{1096:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));a(3);var i=a(1181),o=a.n(i),n=(a(1182),a(1183),a(2));const d=t=>{const{settings:e,carousalRef:a}=t;return Object(n.jsx)(o.a,{...e,ref:a,children:t.children})};d.defaultProps={settings:null,carousalRef:null},e.b=d},1099:function(t,e,a){"use strict";var i=a(962);a.d(e,"a",(function(){return i.default}))},1103:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var e,i,o,n,d;const l=null===(e=t)||void 0===e||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(a.bind(null,215));return null===c||void 0===c||null===(o=c.default)||void 0===o||null===(n=o[null===l||void 0===l||null===(d=l.toUpperCase)||void 0===d?void 0:d.call(l)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,a(121))},1109:function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return u}));var i=a(21),o=a(9),n=a(5),d=a(12);a(0);const l=async function(t,e,a,d){var l;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await i.a.registerEvent(null===o.a||void 0===o.a||null===(l=o.a.add_to_cart)||void 0===l?void 0:l.name,{data:{event:"add_to_cart",userType:e||"",ecommerce:{items:[t],currency:c,value:a||"",coupon:d||""}}},n.Bb)},c=t=>{i.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":t.firstName||"NA","%lastName%":t.lastName||"NA","%email%":t.email||t.emailId||"NA","%phone%":t.phone||t.phoneNumber||"NA","%dateOfBirth%":t.dateOfBirth||t.year&&"".concat(t.year,"-").concat(Object(d.P)(t.month),"-").concat(t.day)||"NA","%postCode%":t.postalCode||"NA","%user_id%":t.user_id||"NA","%braze_dob%":t.year&&"".concat(t.year,", ").concat(Object(d.P)(t.month),", ").concat(t.day)||"NA"},n.Bb)},s=t=>{i.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":t.find((t=>"marketing-emails"===t))?"true":"false","%editorAndCustomerFavourites%":t.find((t=>"editor-pick"===t))?"true":"false","%newsAndAnnouncements%":t.find((t=>"kfc-news"===t))?"true":"false","%doNotSellInformation%":t.find((t=>"do-not-sell"===t))?"true":"false","%receiveSMS%":t.find((t=>"receive-sms"===t))?"true":"false"},n.Bb)},r=async t=>{await i.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":t||"NA"},n.Bb)},u=async t=>{await i.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},n.Bb)}},1126:function(t,e,a){"use strict";var i=a(106),o=a(92),n=a(4),d=a(61),l=a(6),c=a(3),s=a(85),r=a(44),u=a(132),m=a(2);e.a=t=>{const{isAddedPromosCoupon:e=!1,cartItem:a={},setConfirmationModel:v=null,itemRemoveHandler:b=null,isRemoveItemLoading:p=!1,setCouponModal:O=null,setRemoveItem:I=null,flag:C="",quantityAction:j="",updateItemQuantity:A=null,addtoCartClinckHandler:y=null,setAddToClickParms:N=null,addToClickParms:f={},selectedStoreData:E=null,clickHandler:h=null,title:T="",confirmButtonText:_="",removeCouponHandler:D=null,couponCode:P="",couponTitle:x="",itemRemoveWrapper:S=null,giftCardOrVoucherErrMsg:g="",giftCardErrFirstMsg:R=""}=t,{userOrderStateDispatch:L}=Object(c.useContext)(s.a),M=Object(u.a)(),{REMOVE_COUPON:k}=d.a,{CONTINUE:H,CANCEL_BTN_TXT:q,REMOVE_GIFT_CARD_VOUCHER:w,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:F,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:U}=n.a;return Object(m.jsx)(i.a,{handleClose:()=>O(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(m.jsx)(o.a,{title:C===k?T:Object(l.translateWithI18Next)(w),giftCardOrVoucherErrMsg:C===k?g:Object(l.translateWithI18Next)(U),giftCardErrFirstMsg:C===k?R:Object(l.translateWithI18Next)(F),altText:"",confirmButtonText:C===k?_:Object(l.translateWithI18Next)(H),confirmHandler:t=>(t=>{let{isAddedPromosCoupon:e,cartItem:a,setConfirmationModel:i,itemRemoveHandler:o,isRemoveItemLoading:n,setCouponModal:l,setRemoveItem:c,flag:s,quantityAction:u,updateItemQuantity:m,addtoCartClinckHandler:v,setAddToClickParms:b,addToClickParms:p,selectedStoreData:O,clickHandler:I,events:C,removeCouponHandler:j,couponCode:A,couponTitle:y,itemRemoveWrapper:N,userOrderStateDispatch:f,sliceDispatch:E}=t;const{EDIT_ITEM:h,REMOVE_ITEM:T,QUANTITY_INCREASE_DECREASE:_,STORE_DISPOSITION_UPDATE:D,REMOVE_COUPON:P}=d.a;if(l(!1),s===T&&N({isAddedPromosCoupon:e,item:a,setConfirmationModel:i,itemRemoveHandler:o,isRemoveItemLoading:n,setRemoveItem:c,sliceDispatch:E}),s===_&&(f({type:r.p,value:{couponErrorMessage:"REMOVE"}}),m(a,u,C)),s===h){const{event:t,data:e,miniPDPData:a,totalAmount:i,cartId:o,pdpDataForUpdateFoodLine:n,cartData:d}=p;v(t,e,a,o,i,n,d),b({}),l(!1)}s===D&&I(C,O),s===P&&j(A,y)})({isAddedPromosCoupon:e,cartItem:a,setConfirmationModel:v,itemRemoveHandler:b,isRemoveItemLoading:p,itemRemoveWrapper:S,setCouponModal:O,setRemoveItem:I,flag:C,quantityAction:j,updateItemQuantity:A,addtoCartClinckHandler:y,setAddToClickParms:N,addToClickParms:f,selectedStoreData:E,clickHandler:h,events:t,removeCouponHandler:D,couponCode:P,couponTitle:x,userOrderStateDispatch:L,sliceDispatch:M}),cancelHandler:()=>O(!1),cancelButtonText:Object(l.translateWithI18Next)(q)})})}},1134:function(t,e,a){"use strict";a.d(e,"a",(function(){return E}));var i=a(3),o=a(75),n=a.n(o),d=a(144),l=a(5),c=(a(0),a(1099)),s=a(61),r=a(85),u=a(16),m=a(28),v=a(145),b=a(262),p=a(35),O=a(15),I=a(2);const C=t=>{const{basketLineItemId:e,customizableFoodItemsList:a,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:n,isEditSelection:d}=t,C=Object(m.b)(),{RESET_MODGROUP_IDS_UPDATE:j}=b.a,{userOrderState:A,userOrderStateDispatch:y}=Object(i.useContext)(r.a),{MINI_PDP_DATA:N,FROMFLAGEDIT:f,EDIT_CLICKED:E}=u.a,{QUANTITY_ACTION:h}=s.a,T=a[e],_=Object(m.c)((t=>{let{menuReducer:e}=t;return null===e||void 0===e?void 0:e.currentItemDetails})),[D,P]=Object(i.useState)(!1),{Single_Arrow_Edit:x}=O.a,S=(t,i)=>{T.quantity=i===h.Increase?(null===T||void 0===T?void 0:T.quantity)+1:(null===T||void 0===T?void 0:T.quantity)-1;const d=a;d[e]=T,o(d),n()};Object(i.useEffect)((()=>{var t;let e=!0;null===T||void 0===T||null===(t=T.modGrps)||void 0===t||t.forEach((t=>{e*=t.modifiers[0].isDefault}))}),[T.modGrps]),Object(i.useEffect)((()=>{Object(l.tc)(_,T,A,D,C,p.v),P(!1)}),[_,D]);return Object(I.jsxs)(I.Fragment,{children:[d?Object(I.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var t,a;y({type:N,value:{id:null===T||void 0===T||null===(t=T.foodItems)||void 0===t?void 0:t.id,flag:f,foodLineId:e}}),y({type:j}),y({type:E,value:{cartEditClicked:!1}}),C(Object(v.c)({tenantId:null===T||void 0===T?void 0:T.tenantId,catalogName:null===T||void 0===T?void 0:T.catalog,itemId:null===T||void 0===T||null===(a=T.foodItems)||void 0===a?void 0:a.id})),P(!0)})(),children:Object(I.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"DisplayNameFont",children:null===T||void 0===T?void 0:T.displayName}),Object(I.jsx)("div",{className:"customizableProducts-Default",children:Object(l.uc)(T.modGrps)})]}),Object(I.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:x,alt:"Arrow Icon"})]})}):Object(I.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"DisplayNameFont",children:null===T||void 0===T?void 0:T.displayName}),Object(I.jsx)("div",{className:"customizableProducts-Default",children:Object(l.uc)(T.modGrps)})]}),Object(I.jsx)("div",{className:"PlusAndMinus",children:Object(I.jsx)(c.a,{itemCount:null===T||void 0===T?void 0:T.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:S,quantityAction:h,maxItemCountPerLineItem:null===T||void 0===T?void 0:T.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(I.jsx)("div",{className:"LineSeparator"})]})},j={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var A=a(6);const y=t=>{const{addNewProductHandler:e,currencySymbol:a,updateCartHandler:i,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,totalAmount:d,calculateTotalAmountHandler:l,isEditSelection:c,handleClose:s,checkItemExpiry:r}=t,{ADD_NEW_PRODUCT:u,UPDATE_CART:m}=j,v=Object.keys(o).length;return Object(I.jsxs)("div",{children:[Object.keys(o).map((t=>Object(I.jsx)(C,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:e,basketLineItemId:t,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,calculateTotalAmountHandler:l,isEditSelection:c,handleClose:s}))),c?Object(I.jsx)("div",{className:"editSelectionsItem",children:Object(I.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>e(),children:Object(A.translateWithI18Next)(u)})}):Object(I.jsxs)("div",{className:v<2?"FinalButton":"FinalDivButtons",children:[Object(I.jsx)("div",{className:"AddNew",children:Object(I.jsx)("span",{className:"addNewItem",onClick:e,children:Object(A.translateWithI18Next)(u)})}),Object(I.jsx)("div",{className:"ButtonAndPopupLink",children:Object(I.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:e=>{r({event:e,cardId:null===t||void 0===t?void 0:t.cardId,productInfo:null===t||void 0===t?void 0:t.productInfo,orderClickHandler:i,props:t})},children:[Object(I.jsx)("span",{className:"TextInButton",children:Object(A.translateWithI18Next)(m)+" "}),Object(I.jsx)("span",{children:a+d})]})})]})]})};var N=a(1109),f=a(397);const E=t=>{var e;const{filteredPreviousData:a,tenantData:o,dname:c,cardId:s,categoryId:r,categoryName:u,categoryUrl:v,itemCount:b,availability:O,imageName:C,itemFoodlineId:j,customizable:A,isFavouriteMenu:E=!1,cartData:h,clickHandler:T,handleClose:_,foodId:D,isEditSelection:P,headerText:x,pricewithouttax:S}=t,g=Object(m.b)(),{discountTotal:R="",couponCode:L=""}=Object(l.zb)(h)||{},M=Object(m.c)((t=>{var e;return null===t||void 0===t||null===(e=t.appStateReducer)||void 0===e?void 0:e.userStatus})),k=Object(l.od)(null===M||void 0===M?void 0:M.localized,null===M||void 0===M?void 0:M.loggedIn),{flatResponse:{productMapById:H={}}={}}=null!==(e=Object(l.Pb)(Object(m.c)((t=>{let{menuReducer:e}=t;return e}))))&&void 0!==e?e:{},{tenantId:q}=o,[w,F]=Object(i.useState)({}),[U,B]=Object(i.useState)(0),{currencyConversionFactor:Q,currencySymbol:W,componentOptions:z}=o,{web:{global:{showPriceWithTax:G=!1}={}}={}}=null!==z&&void 0!==z?z:{},V={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:_,modalTitle:x},[Y,K]=Object(i.useState)(-1),[X,J]=Object(i.useState)([]),Z=()=>{K(-1),_&&_()},$=()=>{0===X.length&&0===Y?Z():X&&null!==X&&void 0!==X&&X.length&&Y<=X.length&&((()=>{var t,e,a,i;g(Object(p.x)({params:{basketId:null===h||void 0===h?void 0:h.id,basketLineItemId:null===(t=X[Y])||void 0===t?void 0:t.basketLineItemId},tenantId:q},{quantity:null===(e=X[Y])||void 0===e?void 0:e.quantity,isBundle:Object(f.e)((null===(a=X[Y])||void 0===a?void 0:a.foodItemId)||(null===(i=X[Y])||void 0===i?void 0:i.mdmId))}))})(),K(Y+1))};Object(i.useEffect)((()=>{$()}),[X]),Object(i.useEffect)((()=>{if(-1===Y){var t;const e={...w};null===h||void 0===h||null===(t=h.foodLines)||void 0===t||t.forEach((t=>{var a,i;if(null!==t&&void 0!==t&&null!==(a=t.item)&&void 0!==a&&a.customizable&&(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===D){var n,d;const a=Object(l.fd)(null===t||void 0===t?void 0:t.amount,null===t||void 0===t?void 0:t.taxAmount,null===t||void 0===t?void 0:t.quantity);e[null===t||void 0===t?void 0:t.id]={tenantId:q,basketLineItemId:null===t||void 0===t?void 0:t.id,quantity:null===t||void 0===t?void 0:t.quantity,unitPrice:null===t||void 0===t?void 0:t.unitPrice,unitPriceWithoutTax:a,displayName:null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.displayName,modGrps:null===t||void 0===t||null===(d=t.item)||void 0===d?void 0:d.modGrps,maxItemCountPerLineItem:null===o||void 0===o?void 0:o.maxItemCountPerLineItem,previousQty:null===t||void 0===t?void 0:t.quantity,foodItems:null===t||void 0===t?void 0:t.item,catalog:null===h||void 0===h?void 0:h.catalog,categorySelected:r}}})),F(e),K(0)}else Y===X.length?(Z(),g(Object(p.u)(new Date))):$()}),[null===h||void 0===h?void 0:h.foodLines]),Object(i.useEffect)((()=>{tt()}),[w]);const tt=()=>{let t=0;Object.values(w).forEach((e=>{const a=G?e.unitPrice:e.unitPriceWithoutTax;t+=e.quantity*a})),B((t/Q).toFixed(2))},et=Object(I.jsx)(d.a,{...V,children:Object(I.jsx)(y,{...t,"data-testid":"ModalTemplate",filteredPreviousData:a,addNewProductHandler:t=>{const e={id:s,itemCount:b,product:{productName:c,productImage:C,productPrice:Object(l.Fc)(O[0],S,Q,G)},itemFoodlineId:j},a={catId:r,catName:u,catUrl:v};E?T(t,e,A,a):(T(t,e,A,a),_&&_())},currencySymbol:W,currencyConversionFactor:Q,updateCartHandler:()=>{if(null!==h&&void 0!==h&&h.id&&q){var t,e;const a=Object.values(w),i=a.filter((t=>(null===t||void 0===t?void 0:t.previousQty)!==(null===t||void 0===t?void 0:t.quantity)&&t));J(i);const n=null===a||void 0===a?void 0:a[0],{foodItems:d,unitPrice:c,quantity:s,previousQty:r}=null!==n&&void 0!==n?n:{},u=s-r;let m="".concat(Object(l.uc)(null===d||void 0===d?void 0:d.modGrps));const{categoryId:v="NA",categoryName:b="NA"}=null!==(t=null===H||void 0===H?void 0:H[null===d||void 0===d?void 0:d.id])&&void 0!==t?t:{};Object(N.a)({item_name:Object(l.oc)(null===d||void 0===d?void 0:d.name),item_id:Object(l.oc)(null===d||void 0===d?void 0:d.id),item_category:b,price:Object(l.oc)(c/Q),item_variant:Object(l.oc)(null===m||void 0===m?void 0:m.trim()),item_list_name:b,item_list_id:v,index:1,quantity:u,coupon:L,discount:R/Q,currency:null===o||void 0===o?void 0:o.currencyShortName},k,u*(null===l.oc||void 0===l.oc||null===(e=Object(l.oc)(c/Q))||void 0===e?void 0:e.toFixed(2)),L,null===o||void 0===o?void 0:o.currencyShortName)}},customizableFoodItemsList:w,SetCustomizableFoodItemsList:F,totalAmount:U,calculateTotalAmountHandler:tt,isEditSelection:P,handleClose:_})});return n.a.createPortal(et,document.getElementById("modal-popups"))}},962:function(t,e,a){"use strict";a.r(e),a.d(e,"removeCouponHandler",(function(){return u})),a.d(e,"quantityModifierOnClickHandler",(function(){return m}));var i=a(3),o=a(395),n=a(28),d=a(61),l=a(1126),c=a(6),s=a(4),r=a(2);const u=t=>{let{setCartItem:e,item:a,setCouponModal:i,setQuantityActionData:o,quantityAction:n}=t;i(!0),e(a),o(n)},m=t=>{let{paymentDiscountAmounts:e,setCartItem:a,item:i,setCouponModal:o,setQuantityActionData:n,quantityAction:d,event:l,updateItemQuantity:c}=t;null!==e&&void 0!==e&&e.length?u({setCartItem:a,item:i,setCouponModal:o,setQuantityActionData:n,quantityAction:d}):c(i,d,l)};e.default=t=>{var e,a;const{itemQuantity:u,itemCount:v,updateItemQuantity:b,quantityAction:p,item:O,itemName:I,cartItemCount:C,maxItemCountPerLineItem:j,hideChild:A=!1,type:y="",paymentDiscountAmounts:N=[],removeSingleItem:f=!1,isAddonsNotAddable:E=!1}=t,{QUANTITY_INCREASE_DECREASE:h}=d.a;var T="".concat(Object(c.translateWithI18Next)(s.a.DECREASE_QUANTITY_BY)," ").concat(I),_="".concat(Object(c.translateWithI18Next)(s.a.INCREASE_QUANTITY_BY),"  ").concat(I);const D=Object(n.c)((t=>{var e;return null===(e=t.cartReducer)||void 0===e?void 0:e.isUpdateQuantityLoading})),[P,x]=Object(i.useState)(!1),[S,g]=Object(i.useState)({}),[R,L]=Object(i.useState)(""),M=Object(n.c)((t=>{var e,a,i,o,n,d;return(null===(e=t.cartReducer)||void 0===e?void 0:e.isBasketDetailsLoading)||(null===(a=t.cartReducer)||void 0===a?void 0:a.isUpdateQuantityLoading)||(null===(i=t.cartReducer)||void 0===i?void 0:i.isValidateBasketLoading)||(null===(o=t.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(n=t.orderReducer)||void 0===n?void 0:n.isCreateOrderLoading)||(null===(d=t.orderReducer)||void 0===d?void 0:d.isPlaceOrder)}));return Object(r.jsxs)("div",{className:"cart-food-quantity-change",children:[!f&&+v===+u||null!==O&&void 0!==O&&O.isProductPromo&&(null===O||void 0===O?void 0:O.minQuantity)===(null===O||void 0===O?void 0:O.maxQuantity)?Object(r.jsx)(o.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!A&&Object(r.jsx)("span",{children:"-"})}):Object(r.jsx)(o.a,{className:"button quantity-decrease",ariaLable:T,disabled:D||M,onClickHandler:t=>m({paymentDiscountAmounts:N,setCartItem:g,item:O,setCouponModal:x,setQuantityActionData:L,quantityAction:p.Decrease,event:t,updateItemQuantity:b}),"data-testid":"quantity-minus",type:y,children:!A&&Object(r.jsx)("span",{children:"-"})}),Object(r.jsx)("span",{className:"cart-food-quantity",children:v}),Object(r.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(v)}),Object(r.jsx)(o.a,{className:".transparent-btn button quantity-increase",ariaLable:_,"data-testid":"quantity-plus",type:y,onClickHandler:t=>m({paymentDiscountAmounts:N,setCartItem:g,item:O,setCouponModal:x,setQuantityActionData:L,quantityAction:p.Increase,event:t,updateItemQuantity:b}),disabled:!!(0!==j&&C+v>j||null!==O&&void 0!==O&&null!==(e=O.discountComponents)&&void 0!==e&&null!==(a=e[0])&&void 0!==a&&a.isDiscounteditem||E)||(D||M),children:!A&&Object(r.jsx)("span",{children:"+"})}),P&&Object(r.jsx)(l.a,{cartItem:S,setCouponModal:x,quantityAction:R,updateItemQuantity:b,flag:h})]})}}}]);