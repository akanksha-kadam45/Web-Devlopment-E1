(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[78,115],{1097:function(e,t,o){var r=o(327),n=o(213),d=o(330);e.exports=function(e){return function(t,o,i){var l=Object(t);if(!n(t)){var a=r(o,3);t=d(t),o=function(e){return a(l[e],e,l)}}var u=e(t,o,i);return u>-1?l[a?t[u]:u]:void 0}}},1102:function(e,t,o){var r=o(1097)(o(405));e.exports=r},1104:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return d}));var r=o(1);function n(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.qk,payload:{data:e,tenantId:t},successCallback:o,errorCallback:n}}function d(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:r.lk,menuPayload:e,exclusionPayload:t,successCallback:o}}},1105:function(e,t,o){var r=o(268),n=o(597);e.exports=function(e){return n(r(e).toLowerCase())}},1114:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o(1);function n(e){return{type:r.he,payload:e}}},1120:function(e,t,o){var r=o(598),n=o(596),d=o(599),i=4294967295,l=Math.min;e.exports=function(e,t){if((e=d(e))<1||e>9007199254740991)return[];var o=i,a=l(e,i);t=n(t),e-=i;for(var u=r(a,t);++o<e;)t(o);return u}},1121:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return a}));var r=o(3);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n.apply(this,arguments)}var d=function(e){var t=Object(r.useRef)(e);return t.current=e,t},i=function(e){var t=void 0===e?{}:e,o=t.requestOptions,i=t.debounce,l=void 0===i?200:i,a=t.cache,u=void 0===a?86400:a,c=t.cacheKey,s=t.googleMaps,v=t.callbackName,O=t.defaultValue,p=void 0===O?"":O,b=t.initOnMount,f=void 0===b||b,m=Object(r.useState)(!1),h=m[0],y=m[1],g=Object(r.useState)(p),w=g[0],j=g[1],D=Object(r.useState)({loading:!1,status:"",data:[]}),R=D[0],S=D[1],I=Object(r.useRef)(null),H=d(o),T=d(s),C=c?"upa-"+c:"upa",k=Object(r.useCallback)((function(){var e;if(!I.current){var t=window.google,o=T.current,r=(null==o?void 0:o.places)||(null==t||null==(e=t.maps)?void 0:e.places);r?(I.current=new r.AutocompleteService,y(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),E=Object(r.useCallback)((function(){S({loading:!1,status:"",data:[]})}),[]),P=Object(r.useCallback)((function(){try{sessionStorage.removeItem(C)}catch(e){}}),[]),M=Object(r.useCallback)(function(e,t){var o;return function(){for(var r=this,n=arguments.length,d=new Array(n),i=0;i<n;i++)d[i]=arguments[i];null!==o&&(clearTimeout(o),o=null),o=setTimeout((function(){return e.apply(r,d)}),t)}}((function(e){if(e){S((function(e){return n({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(C)||"{}")}catch(o){}u&&(t=Object.keys(t).reduce((function(e,o){return t[o].maxAge-Date.now()>=0&&(e[o]=t[o]),e}),{}))[e]?S({loading:!1,status:"OK",data:t[e].data}):I.current.getPlacePredictions(n({},H.current,{input:e}),(function(r,n){if(S({loading:!1,status:n,data:r||[]}),u&&"OK"===n){t[e]={data:r,maxAge:Date.now()+1e3*u};try{sessionStorage.setItem(C,JSON.stringify(t))}catch(o){}}}))}else E()}),l),[l,E]),F=Object(r.useCallback)((function(e,t){void 0===t&&(t=!0),j(e),I.current&&t&&M(e)}),[M]);return Object(r.useEffect)((function(){if(!f)return function(){return null};var e=window.google;return T.current||null!=e&&e.maps||!v?k():window[v]=k,function(){window[v]&&delete window[v]}}),[v,k]),{ready:h,value:w,suggestions:R,setValue:F,clearSuggestions:E,clearCache:P,init:k}},l=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(o,r){t.geocode(e,(function(t,n){"OK"!==n&&r(n),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),o(t)),o(t)}))}))},a=function(e){return new Promise((function(t,o){try{var r=e.geometry.location,n=r.lat,d=r.lng;t({lat:n(),lng:d()})}catch(i){o(i)}}))}},1271:function(e,t,o){"use strict";o.d(t,"a",(function(){return v})),o.d(t,"b",(function(){return O})),o.d(t,"d",(function(){return p})),o.d(t,"m",(function(){return b})),o.d(t,"g",(function(){return f})),o.d(t,"f",(function(){return m})),o.d(t,"l",(function(){return h})),o.d(t,"j",(function(){return y})),o.d(t,"i",(function(){return g})),o.d(t,"k",(function(){return w})),o.d(t,"e",(function(){return j})),o.d(t,"c",(function(){return D})),o.d(t,"h",(function(){return R}));var r=o(6),n=o(123),d=o(332),i=o(4),l=o(1108),a=o(265),u=o(12),c=o(5),s=o(1111);const v={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,showCarryBagInLineItem:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null,showTaxLines:!1,showTaxExcluded:!0},O=e=>{const{dispatch:t,customerId:o,tenantId:r}=e,n=Object(c.zc)(12);t(Object(d.d)({customerId:o,tenantId:r},n))},p=e=>{const{dispatch:t,tenantId:o,selectedOrderId:r,orderDetails:d}=e,i=null===d||void 0===d?void 0:d.service;Object(c.qe)(r)&&t(Object(n.c)({orderId:r,tenantId:o,CTO:!!Object(c.Jd)(i)&&void 0}))},b=e=>{var t,o,r,n,d,i,l,a,u,c,s,v,O,p,b,f,m,h,y,g,w,j,D,R,S,I,H,T,C,k,E,P,M,F,x,N,A,_;const{props:L,dispatch:B,tenantReducer:W,profileReducer:G,updateSetOrderHistoryDetails:V,openReorderModal:J,userOrderStateDispatch:K}=e,{authoredContent:U,tenantId:Y,currencySymbol:q,currencyConversionFactor:z,addHope:Q,carryBag:Z,showCarryBagInLineItem:X,pastOrderDateformat:$="",pastOrderTimeFormat:ee="",componentOptions:te,scheduleOrderDateFormat:oe,dateFormat:re,timeFormat:ne}=W;V({props:L,dispatch:B,authoredContent:U,tenantId:Y,currencySymbol:q,currencyConversionFactor:z,addHope:Q,carryBag:Z,showCarryBagInLineItem:X,pastOrderDateformat:$,pastOrderTimeFormat:ee,scheduleOrderDateFormat:oe,dateFormat:re,timeFormat:ne,customerId:null===G||void 0===G?void 0:G.customerId,customer:null===G||void 0===G?void 0:G.basic,favoriteItems:(null===G||void 0===G?void 0:G.favouriteItems)||[],openReorderModal:J,userOrderStateDispatch:K,showTaxLines:null===te||void 0===te||null===(t=te.web)||void 0===t||null===(o=t.cartPage)||void 0===o?void 0:o.showTaxLines,showTaxExcluded:null===te||void 0===te||null===(r=te.web)||void 0===r||null===(n=r.checkout)||void 0===n?void 0:n.showTaxExcluded,enableGlobalOrderTracking:null===W||void 0===W||null===(d=W.componentOptions)||void 0===d||null===(i=d.web)||void 0===i||null===(l=i.orderPages)||void 0===l?void 0:l.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===W||void 0===W||null===(a=W.componentOptions)||void 0===a||null===(u=a.web)||void 0===u||null===(c=u.orderPages)||void 0===c?void 0:c.enableRetryCountForPickupOrderTracking,pickupTrackOrderButtonLabel:null===W||void 0===W||null===(s=W.componentOptions)||void 0===s||null===(v=s.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.pickupTrackOrderButtonLabel,enableClickCollectScheduleOrder:null===te||void 0===te||null===(p=te.web)||void 0===p||null===(b=p.dispositionConfig)||void 0===b?void 0:b.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===te||void 0===te||null===(f=te.web)||void 0===f||null===(m=f.scheduledDelivery)||void 0===m?void 0:m.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===W||void 0===W||null===(h=W.componentOptions)||void 0===h||null===(y=h.web)||void 0===y||null===(g=y.orderPages)||void 0===g?void 0:g.showGiftCardOrVoucherSummary,showPromosSummary:null===W||void 0===W||null===(w=W.componentOptions)||void 0===w||null===(j=w.web)||void 0===j||null===(D=j.orderPages)||void 0===D?void 0:D.showPromosSummary,enableScheduleOrder:null===W||void 0===W||null===(R=W.componentOptions)||void 0===R||null===(S=R.web)||void 0===S||null===(I=S.dispositionConfig)||void 0===I?void 0:I.enableScheduleOrder,showStoreRegistrationNumber:null===te||void 0===te||null===(H=te.web)||void 0===H||null===(T=H.orderPages)||void 0===T?void 0:T.showStoreRegistrationNumber,showStoreOrderNumber:null===te||void 0===te||null===(C=te.web)||void 0===C||null===(k=C.orderPages)||void 0===k?void 0:k.showStoreOrderNumber,showOrderDateTime:null===te||void 0===te||null===(E=te.web)||void 0===E||null===(P=E.orderPages)||void 0===P?void 0:P.showOrderDateTime,showOrderMode:null===te||void 0===te||null===(M=te.web)||void 0===M||null===(F=M.orderPages)||void 0===F?void 0:F.showOrderMode,showOrderStatus:null===te||void 0===te||null===(x=te.web)||void 0===x||null===(N=x.orderPages)||void 0===N?void 0:N.showOrderStatus,showPickupOrDeliveryTime:null===te||void 0===te||null===(A=te.web)||void 0===A||null===(_=A.orderPages)||void 0===_?void 0:_.showPickupOrDeliveryTime})},f=e=>{const{cartReducer:t,updateSetOrderHistoryDetails:o}=e,{cartData:r}=t;o({cartDataService:null===r||void 0===r?void 0:r.service})},m=e=>{const{appStateReducer:t,updateSetOrderHistoryDetails:o}=e;o({userStatus:null===t||void 0===t?void 0:t.userStatus})},h=e=>{const{paymentsContentReducer:t,updateSetOrderHistoryDetails:o}=e;o({paymentsContentReducer:t})},y=e=>{var t,o,r;const{orderHistoryReducer:n,orderHistoryDetails:d,updateSetOrderHistoryDetails:i,tenantReducer:a}=e;i({selectedOrderId:"",orderHistory:null!==n&&void 0!==n&&n.orderHistory&&Array.isArray(null===n||void 0===n?void 0:n.orderHistory)&&(null===n||void 0===n||null===(t=n.orderHistory)||void 0===t?void 0:t.length)>0?null===n||void 0===n||null===(o=n.orderHistory)||void 0===o||null===(r=o.sort(((e,t)=>(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch))))||void 0===r?void 0:r.map((t=>{var o;const r=Object(l.k)({postOrPastOrderDetails:{...t,customer:null===d||void 0===d?void 0:d.customer,phoneNum:null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber},orderDetails:d,paymentsContentReducer:null===d||void 0===d?void 0:d.paymentsContentReducer,tenantReducer:a});return r.enableGlobalOrderTracking=null===d||void 0===d?void 0:d.enableGlobalOrderTracking,r.enableRetryCountForPickupOrderTracking=null===d||void 0===d?void 0:d.enableRetryCountForPickupOrderTracking,(e=>{const{profileReducer:t,orderDetails:o}=e,{favouriteOrders:r}=t;if(Object(c.pe)(o)&&(null===r||void 0===r?void 0:r.length)>0){const e=null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.orderId)));Object(c.pe)(e)&&(o.isOrderSavedAsFavorite=!0,o.favoriteOrderName=null===e||void 0===e?void 0:e.name)}return o})({orderDetails:r,...e})})):[]})},g=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:o}=e,{orderHistory:r}=t;o({currentOrderHistory:null===r||void 0===r?void 0:r.filter((e=>!Object(a.cb)(e)&&!Object(a.bb)(e))),completedOrderHistory:null===r||void 0===r?void 0:r.filter((e=>Object(a.cb)(e)||Object(a.bb)(e)))})},w=e=>{const{orderReducer:t,orderHistoryDetails:o,updateSetOrderHistoryDetails:r,tenantReducer:n}=e;r({orderDetails:Object(l.k)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:o,paymentsContentReducer:null===o||void 0===o?void 0:o.paymentsContentReducer,tenantReducer:n})})},j=e=>{const{orderDetails:t,orderHistoryDetails:o,redirectTo:r}=e,{props:n}=o;(null===t||void 0===t?void 0:t.orderId)&&Object(s.s)({trackDetails:o,orderDetails:t,redirectTo:r,props:n})},D=e=>{var t,o,n,d;const{orderHistoryDetails:l,orderDetails:s,tenantReducer:v}=e,{orderDateOn:O,displayTodayDate:p,displayFormatOrderTime:b,service:f,statusUpdatedDate:m,showOrderingTime:h}=s,{showOrderDateTime:y}=l,g=y?h:b,w=null===O||void 0===O?void 0:O.split(" "),j=!!(null===v||void 0===v||null===(t=v.componentOptions)||void 0===t||null===(o=t.orderHistory)||void 0===o?void 0:o.showGiftCardRefundStatus)&&Object(a.Z)(null===s||void 0===s?void 0:s.postOrderDetails),D=Object(c.Jd)(f)?Object(a.A)(s):Object(a.u)(s),{isMobileView:R}=l;var S,I;if(Object(a.ab)(s))return"".concat(Object(r.translateWithI18Next)(Object(a.lb)(s)||Object(a.kb)(s)?j?null===i.a||void 0===i.a?void 0:i.a.GIFT_CARD_PROVIDED:null===i.a||void 0===i.a?void 0:i.a.REFUNDED:null===i.a||void 0===i.a?void 0:i.a.CANCELED),": ").concat(Object(r.translateWithI18Next)(null===w||void 0===w?void 0:w[0])+" "+(null!==(S=null===w||void 0===w?void 0:w[1])&&void 0!==S?S:"")+" "+(null!==(I=null===w||void 0===w?void 0:w[2])&&void 0!==I?I:"")+" "+g);if(!D&&Object(u.J)(m)&&O===p){var H,T;let e="".concat(Object(r.translateWithI18Next)(null===w||void 0===w?void 0:w[0])+" "+(null!==(H=null===w||void 0===w?void 0:w[1])&&void 0!==H?H:"")+" "+(null!==(T=null===w||void 0===w?void 0:w[2])&&void 0!==T?T:"")," ").concat(Object(r.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.AT)," ");return O===p&&(e=Object(r.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.SCHEDULE)+" ".concat(Object(r.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.FOR)," ")+Object(r.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.TODAY_AT)),"".concat(e," ").concat(g)}return"".concat(Object(r.translateWithI18Next)(null===w||void 0===w?void 0:w[0])+" "+(null!==(n=null===w||void 0===w?void 0:w[1])&&void 0!==n?n:"")+" "+(null!==(d=null===w||void 0===w?void 0:w[2])&&void 0!==d?d:"")," ").concat(R?" "+g:Object(r.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.AT)+" "+g)},R=e=>{const{contentReducer:t,updateSetOrderHistoryDetails:o}=e;o({StoreRegistrationNumber:Object(c.Uc)(t),...Object(c.Tc)(t)})}},981:function(e,t,o){"use strict";o.r(t);var r=o(3),n=o(28),d=o(123),i=o(332),l=o(210),a=o(85),u=o(0),c=o(5),s=o(1271),v=o(1111),O=o(2);t.default=e=>{var t,o,p,b,f,m,h;const y=Object(n.b)(),{userOrderState:g,userOrderStateDispatch:w}=Object(r.useContext)(a.a),{tenantReducer:j,orderHistoryReducer:D,orderReducer:R,profileReducer:S,cartReducer:I,paymentsContentReducer:H,appStateReducer:T,contentReducer:C}=Object(n.c)((e=>e)),k=null===j||void 0===j||null===(t=j.componentOptions)||void 0===t||null===(o=t.orderHistory)||void 0===o?void 0:o.hideAddToFavourite,E=null===j||void 0===j||null===(p=j.componentOptions)||void 0===p||null===(b=p.orderHistory)||void 0===b?void 0:b.hideReorderButton,{flatResponse:{productMapById:P={}}={}}=null!==(f=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==f?f:{},[M,F]=Object(r.useState)(s.a),[x,N]=Object(r.useState)({height:0,width:0}),{ORDER_HISTORY_ITEM:A}=u.Oc,{ITEM_IMAGE_HEIGHT_MOBILE:_,ITEM_IMAGE_WIDTH_MOBILE:L,ITEM_WIDTH_DESK_PRCNT:B}=A,W=Object(r.useCallback)((e=>{F&&F((t=>({...t,...e})))}),[]),G=()=>{const e=Object(c.de)(window.innerWidth);W({isMobileView:e});const t=Object(c.ad)(e,{height:_,width:L},{height:Object(c.Bc)(window.innerWidth,B),width:Object(c.Bc)(window.innerWidth,B)});N(t)};return Object(r.useEffect)((()=>(window.scrollTo(0,0),window.addEventListener(u.ye,G),G(),()=>{y(Object(i.f)()),localStorage.removeItem(null===u.gd||void 0===u.gd?void 0:u.gd.LOAD_MORE_ORDER_HISTORY)})),[]),Object(r.useEffect)((()=>{Object(v.f)(y)}),[y]),Object(r.useEffect)((()=>{var t;null!==j&&void 0!==j&&j.tenantId&&null!==S&&void 0!==S&&S.customerId&&Object(s.m)({props:e,dispatch:y,tenantReducer:j,profileReducer:S,updateSetOrderHistoryDetails:W,openReorderModal:null===g||void 0===g||null===(t=g.reorderFlag)||void 0===t?void 0:t.reorderModalOpen,userOrderStateDispatch:w})}),[null===j||void 0===j?void 0:j.tenantId,null===S||void 0===S?void 0:S.customerId,null===g||void 0===g||null===(m=g.reorderFlag)||void 0===m?void 0:m.reorderModalOpen,j]),Object(r.useEffect)((()=>{null!==T&&void 0!==T&&T.userStatus&&Object(s.f)({appStateReducer:T,updateSetOrderHistoryDetails:W})}),[null===T||void 0===T?void 0:T.userStatus]),Object(r.useEffect)((()=>{H&&Object(s.l)({paymentsContentReducer:H,updateSetOrderHistoryDetails:W})}),[H]),Object(r.useEffect)((()=>{var e;null!==I&&void 0!==I&&I.cartData&&null!==I&&void 0!==I&&null!==(e=I.cartData)&&void 0!==e&&e.id&&Object(s.g)({cartReducer:I,updateSetOrderHistoryDetails:W})}),[null===I||void 0===I?void 0:I.cartData]),Object(r.useEffect)((()=>{(null===M||void 0===M?void 0:M.tenantId)&&Object(s.b)(M)}),[null===M||void 0===M?void 0:M.tenantId]),Object(r.useEffect)((()=>{(null===D||void 0===D?void 0:D.orderHistory)&&(null===S||void 0===S?void 0:S.customerId)&&(null===M||void 0===M||!M.showFavoriteModal)&&Object(s.j)({orderHistoryReducer:D,orderHistoryDetails:M,profileReducer:S,updateSetOrderHistoryDetails:W,tenantReducer:j})}),[null===D||void 0===D?void 0:D.orderHistory,null===S||void 0===S?void 0:S.favouriteOrders]),Object(r.useEffect)((()=>{W({orderHistoryLoading:null===D||void 0===D?void 0:D.orderHistoryLoading})}),[null===D||void 0===D?void 0:D.orderHistoryLoading]),Object(r.useEffect)((()=>{Object(c.pe)(null===R||void 0===R?void 0:R.response)&&Object(s.k)({orderReducer:R,orderHistoryDetails:M,updateSetOrderHistoryDetails:W,tenantReducer:j})}),[null===R||void 0===R?void 0:R.response]),Object(r.useEffect)((()=>{var e;(null===M||void 0===M||null===(e=M.orderHistory)||void 0===e?void 0:e.length)>0&&Object(s.i)({orderHistoryDetails:M,updateSetOrderHistoryDetails:W})}),[null===M||void 0===M?void 0:M.orderHistory]),Object(r.useEffect)((()=>{null!==M&&void 0!==M&&M.selectedOrderId?Object(s.d)(M):y(Object(d.e)())}),[null===M||void 0===M?void 0:M.selectedOrderId]),Object(r.useEffect)((()=>{var e,t;(null===M||void 0===M||null===(e=M.completedOrderHistory)||void 0===e?void 0:e.length)>0&&W({totalNumOfPages:Math.ceil((null===M||void 0===M||null===(t=M.completedOrderHistory)||void 0===t?void 0:t.length)/(null===M||void 0===M?void 0:M.displayNumOfRecords))})}),[null===M||void 0===M?void 0:M.completedOrderHistory]),Object(r.useEffect)((()=>{Object(s.h)({contentReducer:C,updateSetOrderHistoryDetails:W})}),[null===C||void 0===C||null===(h=C.response)||void 0===h?void 0:h.homeContentfulResp]),Object(c.ad)(x.height,(V={orderHistoryDetails:M,updateSetOrderHistoryDetails:W,imageOrderContainerSize:x,userParams:null===T||void 0===T?void 0:T.userStatus,tenantReducer:j,contentReducer:C,productMapById:P,hideReorderButton:E,hideAddToFavorite:k},Object(O.jsx)(l.a,{...V,testId:"order_history_view",importPath:"ORDER_HISTORY_VIEW"})),Object(O.jsx)(O.Fragment,{}));var V}}}]);