/*! For license information please see 5.bed6956d.chunk.js.LICENSE.txt */
(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[5],{1156:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return fe})),n.d(t,"c",(function(){return me})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return Ce})),n.d(t,"d",(function(){return be})),n.d(t,"k",(function(){return Qe})),n.d(t,"h",(function(){return Ve})),n.d(t,"j",(function(){return Xe})),n.d(t,"i",(function(){return Ze})),n.d(t,"g",(function(){return ot}));var r=n(36);class i{constructor(e){this.contentType=e}}class o extends i{constructor(e,t,n,r){super(e),this.name=t,this.text=n,this.type=r}}var s=n(1314),a=n(1315);class u extends i{constructor(e,t,n,r){super(e),this.name=t,this.bodyCopy=n,this.plaintextBody=r}}class l extends i{constructor(e,t,n,r,i,o){super(e),this.name=t,this.ctaText=n,this.urlApp=r,this.urlWeb=i,this.ctaType=o}}class c extends i{constructor(e,t,n,r){super(e),this.alignment=t,this.name=n,this.list=r}}class d extends i{constructor(e,t,n){super(e),this.name=t,this.image=n}}class v{constructor(e,t,n,r,i){this.title=e,this.description=t,this.url=n,this.width=r,this.height=i}}function p(e){const t=e;if(!t||!t.fields){const e=[];throw t||e.push("contentData is null or undefined"),t&&!t.fields&&e.push("fields are missing"),new Error("Invalid RAW IMAGE: ".concat(e.join(", ")))}const{title:n,file:{url:r,details:{image:{width:i,height:o}}},description:s}=t.fields;return new v(n,s,r,i,o)}const h="fctModuleComponentCta",f="fctModuleComponentCtaList",E="fctModuleComponentHeadline",m="fctModuleComponentPictogram",S="fctModuleComponentText";function O(e){const t=e;if(!t||!t.sys||!t.sys.contentType||!t.sys.contentType.sys||!t.sys.contentType.sys.id)return null;const n=t.sys.contentType.sys.id;let r=null;try{switch(n){case h:r=function(e,t){const n=e;if(!n||!n.name||!n.ctaText||!n.urlApp||!n.urlWeb||!n.ctaType){const e=[];throw n||e.push("contentData is null or undefined"),n&&!n.name&&e.push("name is missing"),n&&!n.ctaText&&e.push("ctaText is missing"),n&&!n.urlApp&&e.push("urlApp is missing"),n&&!n.urlWeb&&e.push("urlWeb is missing"),n&&!n.ctaType&&e.push("ctaType is missing"),new Error("Invalid CTA: ".concat(e.join(", ")))}return new l(t,n.name,n.ctaText,n.urlApp,n.urlWeb,n.ctaType)}(t.fields,n);break;case f:r=function(e,t){const n=e;if(!n||!n.alignment||!n.name||!n.listOfCtas){const e=[];throw n||e.push("contentData is null or undefined"),n&&!n.alignment&&e.push("alignment is missing"),n&&!n.name&&e.push("name is missing"),n&&!n.listOfCtas&&e.push("listOfCtas is missing"),new Error("Invalid CTA List: ".concat(e.join(", ")))}const r=n.listOfCtas.map((e=>O(e)));return new c(t,n.alignment,n.name,r)}(t.fields,n);break;case E:r=function(e,t){const n=e;if(!n||!n.name||!n.text||!n.type){const e=[];throw n||e.push("contentData is null or undefined"),n&&!n.name&&e.push("name is missing"),n&&!n.text&&e.push("text is missing"),n&&!n.type&&e.push("type is missing"),new Error("Invalid HEADLINE: ".concat(e.join(", ")))}return new o(t,n.name,n.text,n.type)}(t.fields,n);break;case m:r=function(e,t){const n=e;if(!n||!n.name||!n.image){const e=[];throw n||e.push("contentData is null or undefined"),n&&!n.name&&e.push("name is missing"),n&&!n.image&&e.push("image is missing"),new Error("Invalid PICTOGRAM: ".concat(e.join(", ")))}const{name:r,image:i}=n,o=p(i);return new d(t,r,o)}(t.fields,n);break;case S:r=function(e,t){const n=e;if(!n||!n.name||!n.fctText){const e=[];throw n||e.push("contentData is null or undefined"),n&&!n.name&&e.push("name is missing"),n&&!n.fctText&&e.push("fctText is missing"),new Error("Invalid TEXT: ".concat(e.join(", ")))}const r=Object(s.documentToHtmlString)(n.fctText),i=Object(a.documentToPlainTextString)(n.fctText);return new u(t,n.name,r,i)}(t.fields,n);break;default:throw new Error("Unknown content type: ".concat(n))}}catch(i){}return r}var L;!function(e){e.Promotion="PromotionListModule",e.Flexible="FlexibleToutModule"}(L||(L={}));const y="Private",T="Loyalty",I="unauthenticatedFallback",C="nonLoyalizedFallback",g="emptyFallback";function A(e,t){if(!e)return null;switch(e.promoType){case y:return function(e,t){if(!function(e){return e&&e.isLoggedIn}(t))return D(e[I]);if(!t.hasPrivateCoupons)return D(e[g]);return R(e,t)}(e,t);case T:return D(e[C]);default:return R(e,t)}}function D(e){return e?H(e):null}function R(e,t){const n=e.name,r=t.processString(e.title),i=e.promoType,o=e.category,u=e.layout,l=e.description?Object(s.documentToHtmlString)(e.description):null,c=e.description?Object(a.documentToPlainTextString)(e.description):null,d=e.pictogram?p(e.pictogram):null,v=e.productBackgroundImage?p(e.productBackgroundImage):null;return{type:L.Promotion,name:n,title:r,promoType:i,category:o,layout:u,description:l,plainTextDescription:c,pictogram:d,productBackgroundImage:v}}var _=n(42),b=n.n(_),B=n(63),N=n(33);class K{constructor(){var e;this.user=B.a.getInstance(),this.cart=b()(null===(e=N.c.getState())||void 0===e?void 0:e.cartReducer,"cartData",null)}static getInstance(){if(!K.instance){const e=new K;K.instance=e}return K.instance}get isLoggedIn(){return this.user.isMember}get givenName(){var e,t,n,r,i;return null!==(e=null===(t=this.user)||void 0===t||null===(n=t.authTokens)||void 0===n||null===(r=n.accessToken)||void 0===r||null===(i=r.claims)||void 0===i?void 0:i.givenName)&&void 0!==e?e:""}get hasPrivateCoupons(){var e,t,n,r;return null!==(e=(null===(t=this.cart)||void 0===t||null===(n=t.customer)||void 0===n||null===(r=n.couponCodes)||void 0===r?void 0:r.length)>0)&&void 0!==e&&e}processString(e){var t;return null!==(t=null===e||void 0===e?void 0:e.replace("${user.givenName}",this.givenName))&&void 0!==t?t:e}}const M="fctPageModuleFlexibleTout",P="fctPageModuleCouponList";function H(e){const t=e.sys.contentType.sys.id,n=e.fields,r=K.getInstance();switch(t){case M:return function(e){const t=e.componentName,n=e.title,r=e.backgroundColor,i=e.foregroundColor,o=e.isAppCentered,s=e.isWebCentered,a=e.column1?e.column1.map((e=>O(e))).filter((e=>null!==e)):[],u=e.column2?e.column2.map((e=>O(e))).filter((e=>null!==e)):[];return{type:L.Flexible,componentName:t,title:n,backgroundColor:r,foregroundColor:i,isAppCentered:o,isWebCentered:s,column1:a,column2:u}}(n);case P:return A(n,r);default:return}}const w=e=>H(e);var j=n(37),k=n(84),U=n(250),x=n(176),G=n(164);class Y extends x.a{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),Q(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Object(j.p)(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const i=this.hasListeners();i&&F(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();const o=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return function(e,t,n){if(n.keepPreviousData)return!1;if(void 0!==n.placeholderData)return t.isPlaceholderData;if(!Object(j.p)(e.getCurrentResult(),t))return!0;return!1}(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach((n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})})),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(){let{refetchPage:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,t)))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(j.i)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),j.e||this.currentResult.isStale||!Object(j.f)(this.options.staleTime))return;const e=Object(j.r)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),e)}computeRefetchInterval(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!j.e&&!1!==this.options.enabled&&Object(j.f)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||U.a.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const n=this.currentQuery,r=this.options,i=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,a=e!==n,u=a?e.state:this.currentQueryInitialState,l=a?this.currentResult:this.previousQueryResult,{state:c}=e;let d,{dataUpdatedAt:v,error:p,errorUpdatedAt:h,fetchStatus:f,status:E}=c,m=!1,S=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&Q(e,t),s=i&&F(e,n,t,r);(o||s)&&(f=Object(G.a)(e.options.networkMode)?"fetching":"paused",v||(E="loading")),"isRestoring"===t._optimisticResults&&(f="idle")}if(t.keepPreviousData&&!c.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==E)d=l.data,v=l.dataUpdatedAt,E=l.status,m=!0;else if(t.select&&"undefined"!==typeof c.data)if(i&&c.data===(null==o?void 0:o.data)&&t.select===this.selectFn)d=this.selectResult;else try{this.selectFn=t.select,d=t.select(c.data),d=Object(j.n)(null==i?void 0:i.data,d,t),this.selectResult=d,this.selectError=null}catch(T){0,this.selectError=T}else d=c.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof d&&"loading"===E){let e;if(null!=i&&i.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))e=i.data;else if(e="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof e)try{e=t.select(e),this.selectError=null}catch(T){0,this.selectError=T}"undefined"!==typeof e&&(E="success",d=Object(j.n)(null==i?void 0:i.data,e,t),S=!0)}this.selectError&&(p=this.selectError,d=this.selectResult,h=Date.now(),E="error");const O="fetching"===f,L="loading"===E,y="error"===E;return{status:E,fetchStatus:f,isLoading:L,isSuccess:"success"===E,isError:y,isInitialLoading:L&&O,data:d,dataUpdatedAt:v,error:p,errorUpdatedAt:h,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:O,isRefetching:O&&!L,isLoadingError:y&&0===c.dataUpdatedAt,isPaused:"paused"===f,isPlaceholderData:S,isPreviousData:m,isRefetchError:y&&0!==c.dataUpdatedAt,isStale:W(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Object(j.p)(n,t))return;this.currentResult=n;const r={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"===typeof e?e():e;if("all"===n||!n&&!this.trackedProps.size)return!0;const r=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some((e=>{const n=e;return this.currentResult[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||Object(G.c)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){k.a.batch((()=>{var t,n,r,i;if(e.onSuccess)null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(r=(i=this.options).onSettled)||r.call(i,this.currentResult.data,null);else if(e.onError){var o,s,a,u;null==(o=(s=this.options).onError)||o.call(s,this.currentResult.error),null==(a=(u=this.options).onSettled)||a.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach((e=>{let{listener:t}=e;t(this.currentResult)})),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function Q(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&q(e,t,t.refetchOnMount)}function q(e,t,n){if(!1!==t.enabled){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&W(e,t)}return!1}function F(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&W(e,n)}function W(e,t){return e.isStaleByTime(t.staleTime)}var V=n(3);const z=n(1342).useSyncExternalStore;function J(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const X=V.createContext(J()),Z=()=>V.useContext(X);var $=n(987),ee=n(988);function te(e,t){return"function"===typeof e?e(...t):!!e}const ne=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},re=e=>{V.useEffect((()=>{e.clearReset()}),[e])},ie=e=>{let{result:t,errorResetBoundary:n,useErrorBoundary:r,query:i}=e;return t.isError&&!n.isReset()&&!t.isFetching&&te(r,[t.error,i])},oe=e=>{e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)},se=(e,t,n)=>(null==e?void 0:e.suspense)&&((e,t)=>e.isLoading&&e.isFetching&&!t)(t,n),ae=(e,t,n)=>t.fetchOptimistic(e).then((t=>{let{data:n}=t;null==e.onSuccess||e.onSuccess(n),null==e.onSettled||e.onSettled(n,null)})).catch((t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}));function ue(e,t,n){return function(e,t){const n=Object($.b)({context:e.context}),r=Object(ee.b)(),i=Z(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=k.a.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=k.a.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=k.a.batchCalls(o.onSettled)),oe(o),ne(o,i),re(i);const[s]=V.useState((()=>new t(n,o))),a=s.getOptimisticResult(o);if(z(V.useCallback((e=>{const t=r?()=>{}:s.subscribe(k.a.batchCalls(e));return s.updateResult(),t}),[s,r]),(()=>s.getCurrentResult()),(()=>s.getCurrentResult())),V.useEffect((()=>{s.setOptions(o,{listeners:!1})}),[o,s]),se(o,a,r))throw ae(o,s,i);if(ie({result:a,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw a.error;return o.notifyOnChangeProps?a:s.trackResult(a)}(Object(j.l)(e,t,n),Y)}var le=n(276),ce=n.n(le),de=n(444),ve=n(14);async function pe(e,t,n){const r=Object(ve.a)("CONTENTFUL_SPACE"),i=Object(ve.a)("CONTENTFUL_ENVIRONMENT"),o=function(e,t,n,r){let i="include=10&access_token=".concat(t,"&content_type=").concat(encodeURI(e));n&&(i+="&select=".concat(encodeURI(n)));r&&(i+="&".concat(r));return i}(e,Object(ve.a)("CONTENTFUL_ACCESS_TOKEN"),t,n),s=function(e,t,n){return"https://cdn.contentful.com/spaces/".concat(e,"/environments/").concat(t,"/entries?").concat(n)}(r,i,o),a=await ce.a.get(s);return Object(de.default)(a.data)[0]}async function he(e){try{return function(e){const t=e.fields.title,n=new Array;for(const r of e.fields.modules)if(null!==r&&void 0!==r&&r.sys.contentType.sys.id){const e=H(r);e&&n.push(e)}return{title:t,modules:n}}(await pe("fctLandingPage",null,"fields.title=".concat(e)))}catch(t){return null}}const fe=e=>(e=>ue({queryKey:["page",e,K.getInstance().givenName],queryFn:()=>he(e),cacheTime:6e4,staleTime:5e3}))(e);var Ee=n(28);const me=()=>(()=>{var e,t,n,r;const i=Object(Ee.c)((e=>b()(e,"contentfulReducer",{})));var o,s,a;return null!==i&&void 0!==i&&null!==(e=i.response)&&void 0!==e&&null!==(t=e.OfflineCouponsContent)&&void 0!==t&&t.items&&(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(r=n.OfflineCouponsContent)||void 0===r?void 0:r.items.length)>0?{bannerButtonText:null===(o=i.response.OfflineCouponsContent)||void 0===o?void 0:o.items[0].fields.bannerButtonText,bannerHeaderTextMobile:null===(s=i.response.OfflineCouponsContent)||void 0===s?void 0:s.items[0].fields.bannerHeaderTextMobile,bannerHeaderTextDesktop:null===(a=i.response.OfflineCouponsContent)||void 0===a?void 0:a.items[0].fields.bannerHeaderTextDesktop}:{bannerButtonText:"",bannerHeaderTextMobile:"",bannerHeaderTextDesktop:""}})();class Se{}function Oe(e,t,n){var r,i;if(!e)return null;const o=new Se;return o.code=e.id,o.endDate=null,o.isAppliedVal=!1,o.inCart=!1,o.pickupOnly=!1,o.deliveryOnly=!1,o.reward=!1,o.usageRemaining=null,o.energyValue=null,o.showTimer=!1,o.bannerText=null,o.legalText=null,o.pickupOnly=!1,o.deliveryOnly=!1,o.image=(null===(r=e.content)||void 0===r||null===(i=r.image)||void 0===i?void 0:i.mainImage)+"?h=600&w=800&fit=fill&fm=webp",o.remediations=new Array,o.overlayAction=null,o.overlayActionRNA=null,function(e,t,n){var r,i;n.cardAction="/pdp/".concat(t.url,"/").concat(e.url),n.cardActionRNA="/pdp/"+((null===(r=e.items)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.id)||e.id)}(e,t,o),function(e,t){var n,r,i,o;t.title=null===(n=e.dname)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.value,t.description=null===(i=e.longDescription)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value}(e,o),function(e,t,n){var r,i,o,s,a;t.price=n.getCouponsDisplayCurrency(null===(r=e.items)||void 0===r||null===(i=r[0])||void 0===i||null===(o=i.availability)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.price),t.strikethroughPrice=null,t.fromPrice=(null===(a=e.items)||void 0===a?void 0:a.length)>1}(e,o,n),function(e,t){var n,r,i,o,s;if(null!==(n=e.content)&&void 0!==n&&n.caloricValue)t.energyValue=(null===(s=e.content)||void 0===s?void 0:s.caloricValue)+"kJ";else if(null!==(r=e.items)&&void 0!==r&&r.length&&e.items[0].content&&null!==(i=e.items[0].content)&&void 0!==i&&null!==(o=i.nutritionalInformation)&&void 0!==o&&o.length){var a,u,l,c;t.energyValue=(null===(a=e.items[0].content)||void 0===a||null===(u=a.nutritionalInformation)||void 0===u||null===(l=u.filter((e=>"Energy"===e.nutritionComponent)))||void 0===l||null===(c=l[0])||void 0===c?void 0:c.serveWiseValue)+" kJ"}}(e,o),function(e,t,n){const r=n.basketFoodItemIDs;if(r.length>0)for(const i of e.items)if(r.includes(null===i||void 0===i?void 0:i.id)){t.inCart=!0,t.isAppliedVal=!1;break}}(e,o,n),o}var Le=n(957);class ye{constructor(){var e,t;this.cart=b()(null===(e=N.c.getState())||void 0===e?void 0:e.cartReducer,"cartData",null),this.tenant=null===(t=N.c.getState())||void 0===t?void 0:t.tenantReducer,this.user=B.a.getInstance()}updateContext(){var e,t;this.cart=b()(null===(e=N.c.getState())||void 0===e?void 0:e.cartReducer,"cartData",null),this.tenant=null===(t=N.c.getState())||void 0===t?void 0:t.tenantReducer}static getInstance(){if(!ye.instance){const e=new ye;ye.instance=e}return ye.instance.updateContext(),ye.instance}get basketId(){return this.cart.id}get basketAppliedDiscountIDs(){var e,t;return(null!==(e=null===(t=this.cart)||void 0===t?void 0:t.discountLines)&&void 0!==e?e:[]).filter((e=>{var t;return"Applied"===(null===(t=e.status)||void 0===t?void 0:t.name)})).map((e=>{var t;return null!==(t=e.couponCode)&&void 0!==t?t:""}))}get basketUnappliedDiscountIDs(){var e,t;return(null!==(e=null===(t=this.cart)||void 0===t?void 0:t.discountLines)&&void 0!==e?e:[]).filter((e=>{var t;return"Applied"!==(null===(t=e.status)||void 0===t?void 0:t.name)})).map((e=>{var t;return null!==(t=e.couponCode)&&void 0!==t?t:""}))}get basketDisposition(){return this.cart.service}get catalogName(){return this.cart.catalog}get basketFoodItemIDs(){var e,t;return(null!==(e=null===(t=this.cart)||void 0===t?void 0:t.foodLines)&&void 0!==e?e:[]).filter((e=>{var t;return null===(t=e.item)||void 0===t?void 0:t.id})).map((e=>e.item.id))}getCouponsDisplayCurrency(e){const t=this.tenant.currencyConversionFactor,n=this.tenant.currencySymbol,r=((e||0)/t).toFixed(2);return"".concat(n).concat(r)}get imageVersion(){return this.tenant.imageVersion}get tenantId(){return this.tenant.tenantId}async getBearerToken(){return await this.user.checkAndGetAuthToken()}get isLoggedIn(){return this.user.isMember}get givenName(){var e,t,n,r,i;return null!==(e=null===(t=this.user)||void 0===t||null===(n=t.authTokens)||void 0===n||null===(r=n.accessToken)||void 0===r||null===(i=r.claims)||void 0===i?void 0:i.givenName)&&void 0!==e?e:""}get channel(){return this.channel}get service(){return this.service}}const Te=(e,t)=>{const n=((e,t)=>{for(const r of(null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.categories)||[]){var n;if(r.id===t)return r}return null})(e.categories,t.category);if(!n)return[];const r=(e=>{const t=ye.getInstance(),n=new Array;for(const r of e.products){const i=Oe(r,e,t);i&&n.push(i)}return n})(n);return"Single"===t.layout?r.slice(0,5):r},Ie=e=>{const t=e.category,n=ye.getInstance();return ue({queryKey:["menuCoupons",e.promoType,t],queryFn:()=>async function(e,t){const n=Object(ve.a)("TENANT_OS_ENDPOINT_BASE_URL"),r="v1/catalogs/{TENANT_ID}/{CATALOG_NAME}".replace("{TENANT_ID}",t).replace("{CATALOG_NAME}",e),i={headers:{Accept:"application/json","x-tenant-id":t,"x-correlation-request-id":Object(Le.a)(),"x-correlation-session-id":Object(Le.a)()}},o=await ce.a.get(n+r,i);return 200!=o.status?null:o.data}(n.catalogName,n.tenantId),enabled:!!e.promoType&&!!t&&!!n.catalogName&&!!n.tenantId,cacheTime:864e5,staleTime:5e3,select:t=>Te(t,e)})},Ce=e=>Ie(e);class ge{constructor(e,t,n,r,i,o){this.message=e,this.isMessageKey=t,this.action=n,this.actionTextKey=r,this.secondaryMessage=i,this.type=o}}function Ae(e,t,n,r){var i,o;if(!e||!function(e){return e&&!e.isCouponHidden&&e.usageCount<e.maxUsage}(e))return null;const s=new Se;return s.code=e.code,s.conflictingCouponNames=new Array,s.endDate=e.endDateTime,s.showTimer=!1,s.isAppliedVal=!1,s.inCart=!1,s.pickupOnly=!1,s.deliveryOnly=!1,s.reward=e.isRewards,s.energyValue=null,s.cardAction="rewardsOverlay/"+e.code,s.cardActionRNA="rewardsOverlay/"+e.code,s.conditionTextList=new Array,s.isAutoApply=null===(i=e.promotionDetails)||void 0===i?void 0:i.isAutoApply,s.legacyConditions=null===(o=e.promotionDetails)||void 0===o?void 0:o.conditions,s.legacyItemDetails=e.itemDetails,s.legacyDoesNotGoWith=e.doesNotGoWith,s.remediations=new Array,s.usageRemaining=function(e){return!e.isRewards&&e.maxUsage<=1e5?e.maxUsage-e.usageCount:null}(e),function(e,t,n){const r=e.doesNotGoWith?e.doesNotGoWith.couponCode:null;r&&(t.conflictingCouponNames=r.map((e=>{const{name:t=null}=n.find((t=>{let{code:n}=t;return n===e}))||{};return t})))}(e,s,r),function(e,t,n,r){var i,o,s,a,u,l;const c=t.promotionDetails;e.title=null===c||void 0===c||null===(i=c.title)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value,e.description=null===c||void 0===c||null===(s=c.description)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.value,e.image="".concat(n).concat(null===c||void 0===c||null===(u=c.image)||void 0===u||null===(l=u[0])||void 0===l?void 0:l.value,".png?ver=").concat(r.imageVersion)}(s,e,t,n),function(e,t){var n;const r=(null===(n=e.promotionDetails)||void 0===n?void 0:n.customProperties)||[];for(const i of r)"showTimer"===i.key&&(t.showTimer="true"===i.value),"header"===i.key&&(t.bannerText=i.value),"legalText"===i.key&&(t.legalText=i.value)}(e,s),function(e,t){var n,r;const i=null!==(n=null===(r=e.promotionDetails)||void 0===r?void 0:r.conditions)&&void 0!==n?n:[];i.forEach((e=>{var n,r;const i=null===(n=e.displayMessage)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.value;if(i&&t.conditionTextList.push(i),"ValidService"===e.name)try{var o;const n=JSON.parse(null!==(o=e.parameter)&&void 0!==o?o:"[]");if(1===n.length){const e=n[0];t.pickupOnly="pickup"===e,t.deliveryOnly="delivery"===e}}catch(s){}})),t.legalText&&t.conditionTextList.push(t.legalText)}(e,s),function(e,t){const n=t.basketAppliedDiscountIDs||[],r=t.basketUnappliedDiscountIDs||[];n.includes(e.code)?(e.isAppliedVal=!0,e.inCart=!1):r.includes(e.code)?(e.isAppliedVal=!1,e.inCart=!0):(e.isAppliedVal=!1,e.inCart=!1)}(s,n),function(e,t){var n,r,i;if(e.itemDetails&&0!=(null===(n=e.itemDetails)||void 0===n?void 0:n.length)){if(1==(null===(r=e.itemDetails)||void 0===r?void 0:r.length)){var o,s,a,u,l,c,d,v;t.overlayAction="/pdp/".concat(null===(o=e.itemDetails)||void 0===o||null===(s=o[0])||void 0===s||null===(a=s.categoryUrl)||void 0===a?void 0:a[0],"/").concat(null===(u=e.itemDetails)||void 0===u||null===(l=u[0])||void 0===l?void 0:l.url),t.overlayActionRNA="/pdp/"+(null===(c=e.itemDetails)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.id),t.productIds=Re(null===(v=e.promotionDetails)||void 0===v?void 0:v.conditions)}else if((null===(i=e.itemDetails)||void 0===i?void 0:i.length)>1){var p;t.overlayAction="/plp",t.overlayActionRNA="/plp",t.productIds=Re(null===(p=e.promotionDetails)||void 0===p?void 0:p.conditions)}}else t.overlayAction="/redeem/"+e.code,t.overlayActionRNA="/redeem/"+e.code}(e,s),function(e,t,n){(function(e){(e.inCart||e.isAppliedVal)&&De(e,new ge({translationKey:"haveDealInCart"},!0,"viewCart","/cart",null,"success"))})(t),function(e){var t;if((null===(t=e.conflictingCouponNames)||void 0===t?void 0:t.length)>0){const t={translationKey:"conflictingCouponsAlert",params:{couponName:e.conflictingCouponNames[0]}};De(e,new ge(t,!0,"viewCart","/cart",null,"warn"))}}(t),function(e,t,n){var r,i;null===(r=e.promotionDetails)||void 0===r||null===(i=r.conditions)||void 0===i||i.forEach((e=>{var r;const{name:i,displayMessage:o,parameter:s}=e,a=null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.value;if("IsRegisterUser"!==i||n&&n.isLoggedIn){if("ValidService"===i)try{const e=JSON.parse(null!==s&&void 0!==s?s:"[]");if(e.length>0&&!e.includes(n.basketDisposition)){const n={translationKey:a||"remediation".concat(i)},r="change".concat(e[0].charAt(0).toUpperCase()).concat(e[0].slice(1));De(t,new ge(n,!a,r,"/modifyOrder",null,"warn"))}}catch(u){}}else{const e={translationKey:a||"remediation".concat(i)};De(t,new ge(e,!a,"signInOrUp","/login",{translationKey:"toRedeemNow"},"warn"))}}))}(e,t,n)}(e,s,n),function(e,t,n){var r,i;const o=null===(r=e.itemDetails)||void 0===r?void 0:r[0],s=null===o||void 0===o||null===(i=o.availability)||void 0===i?void 0:i[0],a=null===s||void 0===s?void 0:s.price,u=null===s||void 0===s?void 0:s.promoPrice;if(a){var l;t.strikethroughPrice=u?n.getCouponsDisplayCurrency(a):null,t.price=n.getCouponsDisplayCurrency(null!==u&&void 0!==u?u:a),t.fromPrice=(null===(l=e.itemDetails)||void 0===l?void 0:l.length)>1}else t.price=null,t.strikethroughPrice=null,t.fromPrice=!1}(e,s,n),s}function De(e,t){e.remediations.push(t)}function Re(e){var t;let n=null;if(e)try{var r;const t=e.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name))),i=null===t||void 0===t||null===(r=t[0])||void 0===r?void 0:r.parameter;i&&(n=i&&JSON.parse(i))}catch(i){}return null===(t=n)||void 0===t?void 0:t.items}async function _e(e){var t;const n=Object(ve.a)("TENANT_IMAGE_BASE_URL"),r="".concat(n).concat(e.tenantId).concat("/images/offers/card/"),i=await async function(e){var t,n,r;const i=null===e||void 0===e||null===(t=e.cart)||void 0===t?void 0:t.store,o=null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.channel,s=null===e||void 0===e||null===(r=e.cart)||void 0===r?void 0:r.service,a="v1/stores/".concat(null===i||void 0===i?void 0:i.storeId,"/").concat(o,"/").concat(s,"/item-exclusions"),u=Object(ve.a)("TENANT_OS_ENDPOINT_BASE_URL"),l={headers:{Authorization:"Bearer "+await e.getBearerToken(),Accept:"application/json","x-tenant-id":e.tenantId,"x-correlation-request-id":Object(Le.a)(),"x-correlation-session-id":Object(Le.a)()}},c=await ce.a.get(u+a,l);if(200!=c.status)return[];return c.data}(e),o=await async function(e){const t="v1/baskets/{BASKET_ID}/applicable-coupons",n=Object(ve.a)("TENANT_OS_ENDPOINT_BASE_URL"),r=t.replace("{BASKET_ID}",e.basketId),i={headers:{Authorization:"Bearer "+await e.getBearerToken(),Accept:"application/json","x-tenant-id":e.tenantId,"x-correlation-request-id":Object(Le.a)(),"x-correlation-session-id":Object(Le.a)()}},o=await ce.a.get(n+r,i);if(200!=o.status)return[];return o.data}(e);let s=new Array;const a=o.map((e=>{var t,n,r;return{code:e.code,name:null===(t=e.promotionDetails)||void 0===t||null===(n=t.title)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.value}}));for(const u of o){const t=Ae(u,r,e,a);t&&s.push(t)}return null!==(t=s)&&void 0!==t&&t.length&&(s=function(e,t){if(0===(null===e||void 0===e?void 0:e.length))return e;const n=new Map(t.map((e=>[null===e||void 0===e?void 0:e.itemId,e])));return null===e||void 0===e||e.forEach((e=>{var t;const r=[];null!==e&&void 0!==e&&e.legacyItemDetails&&(null===e||void 0===e||e.legacyItemDetails.forEach((e=>{e.isNotAvailable=n.has(e.id),n.has(null===e||void 0===e?void 0:e.id)&&r.push(e.id)}))),e.allItemsNotAvailable=!((null===e||void 0===e||null===(t=e.legacyItemDetails)||void 0===t?void 0:t.length)>(null===r||void 0===r?void 0:r.length))})),e}(s,i)),s}const be=e=>(e=>{const t=ye.getInstance();return ue({queryKey:["applicableCoupons",e.promoType,t.givenName],queryFn:()=>_e(t),enabled:!!e.promoType&&!!t.basketId,cacheTime:36e5,staleTime:5e3,select:t=>((e,t)=>{const n=((e,t)=>{switch(t){case"Public":return e.filter((e=>!e.reward));case"Private":return e.filter((e=>e.reward));default:return[]}})(e,t.promoType);return"Single"===t.layout?n.slice(0,5):n})(t,e)})})(e);var Be=n(532);class Ne extends x.a{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=this.client.defaultMutationOptions(e),Object(j.p)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Object(Be.b)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){k.a.batch((()=>{var t,n,r,i;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(i=this.mutateOptions).onSettled)||r.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var o,s,a,u;null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(u=this.mutateOptions).onSettled)||a.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{let{listener:t}=e;t(this.currentResult)}))}))}}function Ke(){}var Me=n(8),Pe=n(7);var He=n(421);const we=e=>null===e||void 0===e?void 0:e.replace(/\D/g,"");var je=n(57);var ke=n(30);const Ue=(e,t,n)=>{const r=Object(Ee.b)(),i=Object(ke.get)(Object(Ee.c)((e=>b()(e,"specialEventReducer",{}))),"specialEventItemAvailability",[]),o={cart:e,dayOfPickup:t,storeId:n},s=je.a.formatValue(je.a.getUnix(t.toString()),"HHmm");return function(e,t,n){const r=Object(j.k)(e,t,n),i=Object($.b)({context:r.context}),[o]=V.useState((()=>new Ne(i,r)));V.useEffect((()=>{o.setOptions(r)}),[o,r]);const s=z(V.useCallback((e=>o.subscribe(k.a.batchCalls(e))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),a=V.useCallback(((e,t)=>{o.mutate(e,t).catch(Ke)}),[o]);if(s.error&&te(o.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}({mutationFn:()=>(e=>{const t={...b()(Me.a,"specialEvenCartAvailability"),showLoader:!0};return Object(Pe.d)(t,null,null,e,null,null)})(o),onSuccess:t=>{var n;const o=null!==(n=null===t||void 0===t?void 0:t.response)&&void 0!==n?n:[],a=((e,t,n,r)=>e.map((e=>{const i=n.find((t=>t.productId===e.id));return i?{...e,stock:b()(t,"[".concat(i.productId,"][").concat(we(r),"]"),0)}:e})))(i,o,e,s);r(Object(He.c)(a))}})},xe={id:null,productIdsAndQuantity:[],foodLines:[],store:{storeId:"-1"},requestedDateTime:{futureDateTime:-1},customer:null},Ge=()=>Object(Ee.c)((e=>b()(e,"menuReducer.menuResponse.response",{}))),Ye=()=>{const e=(()=>{var e,t,n,r,i,o;const s=Object(Ee.c)((e=>b()(e,"cartReducer.cartData",xe)));return{id:null!==(e=null===s||void 0===s?void 0:s.id)&&void 0!==e?e:xe.id,productIdsAndQuantity:null!==(t=null===s||void 0===s?void 0:s.productIdsAndQuantity)&&void 0!==t?t:xe.productIdsAndQuantity,foodLines:null!==(n=null===s||void 0===s?void 0:s.foodLines)&&void 0!==n?n:xe.foodLines,store:{storeId:(null!==(r=null===s||void 0===s?void 0:s.store)&&void 0!==r?r:xe.store).storeId},requestedDateTime:{futureDateTime:(null!==(i=null===s||void 0===s?void 0:s.requestedDateTime)&&void 0!==i?i:xe.requestedDateTime).futureDateTime},customer:null!==(o=null===s||void 0===s?void 0:s.customer)&&void 0!==o?o:xe.customer}})(),t=Ge(),n=e.foodLines;let r=[];return t&&Array.isArray(t.categories)&&t.categories.length>0&&(r=((e,t)=>{const n=[],r=[];return null===t||void 0===t||t.forEach((e=>{e.products.forEach((e=>{n.push(e)}))})),null===e||void 0===e||e.forEach((e=>{const t=n.filter((t=>{var n,r;return(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id)===(null===t||void 0===t||null===(r=t.items[0])||void 0===r?void 0:r.id)}));var i;t&&t.length>0&&r.push({productId:null===(i=t[0])||void 0===i?void 0:i.id,quantity:null===e||void 0===e?void 0:e.quantity})})),r})(n,t.categories[0].categories)),{id:e.id,productIdsAndQuantity:r,foodLines:e.foodLines,store:e.store,requestedDateTime:e.requestedDateTime,customer:e.customer}},Qe=()=>{const e=Ye();return Ue(e.productIdsAndQuantity,e.requestedDateTime.futureDateTime,e.store.storeId)},qe=e=>{const t={queryProps:{storeId:e}};return ue({queryKey:["storeAvailability",t.queryProps.storeId],queryFn:()=>(e=>{const t={...b()(Me.a,"specialEventStoreAvailability"),showLoader:!0};return Object(Pe.d)(t,e)})(t),enabled:!!t.queryProps.storeId,cacheTime:3e5,staleTime:6e4})},Fe={id:"-1",summary:{timeZoneIANA:"",timings:{operatingHours:[{availableHours:{from:"00:00",to:"23:59"}}]},menu:void 0}},We=()=>(()=>{var e,t,n,r,i,o,s;const a=Object(Ee.c)((e=>b()(e,"storesReducer.store",Fe))),u=Object(Ee.c)((e=>b()(e,"cartReducer.cartData.store.storeId",Fe.id))),l=null!==(e=null===a||void 0===a||null===(t=a.summary)||void 0===t||null===(n=t.timings)||void 0===n?void 0:n.operatingHours)&&void 0!==e?e:Fe.summary.timings.operatingHours,c=l.length>0?l[0]:Fe.summary.timings.operatingHours[0],d=null!==(r=null===c||void 0===c?void 0:c.availableHours)&&void 0!==r?r:Fe.summary.timings.operatingHours[0].availableHours,v=(null===a||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timeZoneIANA)||"";return{id:null!==u&&void 0!==u?u:Fe.id,summary:{timeZoneIANA:v,timings:{operatingHours:[{availableHours:{from:null!==(o=null===d||void 0===d?void 0:d.from)&&void 0!==o?o:Fe.summary.timings.operatingHours[0].availableHours.from,to:null!==(s=null===d||void 0===d?void 0:d.to)&&void 0!==s?s:Fe.summary.timings.operatingHours[0].availableHours.to}}]},menu:void 0}}})(),Ve=()=>{const e=We().id;return qe(e)};var ze=n(17);const Je=e=>{const t={...b()(Me.a,ze.d.cartItemsTimeslotAvailability),showLoader:!0};return Object(Pe.d)(t,null,null,e,null,null)};const Xe=e=>{const t=Ye(),n=We();return((e,t,n,r)=>{const i={cart:e,dayOfPickup:t,storeId:n,availableHours:r};return ue({queryKey:["timeslot",n,je.a.getUnix(t.toString()).format("DD-MM-YYYY")],queryFn:()=>Je(i),enabled:!!n,cacheTime:3e5,staleTime:6e4})})(t.productIdsAndQuantity,e,t.store.storeId,n.summary.timings.operatingHours[0].availableHours)},Ze=e=>{var t,n,r,i,o;const s=null===(t=We())||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timeZoneIANA,a=s&&je.a.dayjs().tz(s),u=null===(r=Ye())||void 0===r||null===(i=r.requestedDateTime)||void 0===i?void 0:i.futureDateTime,l=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],c=null===e||void 0===e||null===(o=e.section)||void 0===o?void 0:o.availability,d=!u||0===u||"object"===typeof u&&0===Object.keys(u).length?l[(new Date).getDay()]:l[je.a.tz(je.a.getUnix(null===u||void 0===u?void 0:u.toString()),s).day()],v=null===c||void 0===c?void 0:c.find((e=>{var t;return"EVERYDAY"===(null===e||void 0===e||null===(t=e.dayOfWeek)||void 0===t?void 0:t.day)}));if(v){const{startTime:e,endTime:t}=v.availableHours;return{startTime:e.time,endTime:t.time}}const p=null===c||void 0===c?void 0:c.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.dayOfWeek)||void 0===t?void 0:t.day)===d}));if(p&&(null===p||void 0===p?void 0:p.length)>0){const e=je.a.dayjs(a).format("HHmm"),t=p.find((t=>{const n=t.availableHours.startTime.time,r=t.availableHours.endTime.time;return e>=n&&e<=r}));if(t)return{startTime:t.availableHours.startTime.time,endTime:t.availableHours.endTime.time};const n=p[0];return{startTime:n.availableHours.startTime.time,endTime:n.availableHours.endTime.time}}return{startTime:null,endTime:null}};var $e=async function(e){const t="v1/catalogs/".concat(e.tenantId,"/").concat(e.catalogName,"/items/").concat(e.itemId),n=Object(ve.a)("TENANT_OS_ENDPOINT_BASE_URL"),r={headers:{Accept:"application/json","x-tenant-id":e.tenantId,"x-correlation-request-id":Object(Le.a)(),"x-correlation-session-id":Object(Le.a)()}},i=await async function(e){var t,n,r;const i=null===e||void 0===e||null===(t=e.cart)||void 0===t?void 0:t.store,o=null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.channel,s=null===e||void 0===e||null===(r=e.cart)||void 0===r?void 0:r.service,a="v1/stores/".concat(null===i||void 0===i?void 0:i.storeId,"/").concat(o,"/").concat(s,"/item-exclusions"),u=Object(ve.a)("TENANT_OS_ENDPOINT_BASE_URL"),l={headers:{Authorization:"Bearer "+await e.getBearerToken(),Accept:"application/json","x-tenant-id":e.tenantId,"x-correlation-request-id":Object(Le.a)(),"x-correlation-session-id":Object(Le.a)()}},c=await ce.a.get(u+a,l);if(200!=c.status)return[];return c.data}(e),o=await ce.a.get(n+t,r);return 200!=o.status?[]:{...o.data,exclusionsResponse:i}};class et{constructor(){var e,t,n,r;this.tenant=null===(e=N.c.getState())||void 0===e?void 0:e.tenantReducer,this.store=b()(null===(t=N.c.getState())||void 0===t?void 0:t.storesReducer,"store",null),this.menu=b()(null===(n=N.c.getState())||void 0===n?void 0:n.menuReducer,"response",null),this.cart=b()(null===(r=N.c.getState())||void 0===r?void 0:r.cartReducer,"cartData",null),this.user=B.a.getInstance(),this.prodItemInMenu=Object.create(null)}updateContext(){var e,t,n,r;this.store=b()(null===(e=N.c.getState())||void 0===e?void 0:e.storesReducer,"store",null),this.tenant=null===(t=N.c.getState())||void 0===t?void 0:t.tenantReducer,this.menu=b()(null===(n=N.c.getState())||void 0===n?void 0:n.menuReducer,"response",null),this.cart=b()(null===(r=N.c.getState())||void 0===r?void 0:r.cartReducer,"cartData",null),this.prodItemInMenu=this.allProdItemInMenu}static getInstance(e){if(!et.instance){const e=new et;et.instance=e}return et.instance.updateContext(),void 0!==e&&(et.instance.itemId=e),et.instance}itemContent(e){var t;const n=null!==e&&void 0!==e&&e.endsWith("-prod")?e:"".concat(e,"-prod");return null===(t=this.allProdItemInMenu[n])||void 0===t?void 0:t.content}get tenantId(){var e;return null===(e=this.tenant)||void 0===e?void 0:e.tenantId}get catalogName(){var e,t,n,r;return null===(e=this.store)||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(r=n.catalogs)||void 0===r?void 0:r[0]}get allProdItemInMenu(){var e,t,n,r;const i=(null===(e=this.menu)||void 0===e||null===(t=e.categories)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.categories)||void 0===r?void 0:r.flatMap((e=>null===e||void 0===e?void 0:e.products)))||[];return Object.fromEntries(null===i||void 0===i?void 0:i.map((e=>[null===e||void 0===e?void 0:e.id,e])))}async getBearerToken(){return await this.user.checkAndGetAuthToken()}}var tt=n(18),nt=n.n(tt);const rt=(e,t,n,r)=>null===e||void 0===e?void 0:e.map((e=>({...e,content:null===t||void 0===t?void 0:t.itemContent(e.id),ruleName:r,parentId:n}))),it=(e,t)=>{const n=et.getInstance(e);return ue({queryKey:["recommendedProducts",null===n||void 0===n?void 0:n.tenantId,null===n||void 0===n?void 0:n.catalogName,null===n||void 0===n?void 0:n.itemId],queryFn:()=>$e(n),cacheTime:0,staleTime:0,select:r=>((e,t,n,r)=>{var i,o,s,a;if(!e)return{};const u=nt()(),l=(null===e||void 0===e||null===(i=e.exclusionsResponse)||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.itemId)))||[];var c;return t===ze.d.all?null===e||void 0===e||null===(c=e.recommendationRules)||void 0===c?void 0:c.reduce(((e,t)=>{var i;const{endDateTime:o,recommendationType:s,recommendedItems:a=[],restrictedItems:c=[],name:d,...v}=t;return e[s]={...v,name:d,recommendationType:s,endDateTime:o},!o||null!==nt.a&&void 0!==nt.a&&null!==(i=nt.a.unix(o))&&void 0!==i&&i.isAfter(u)?e[s].recommendedItems=rt([...a||[],...c||[]].filter((e=>!(null!==l&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e.id)))),r,n,d):e[s].recommendedItems=[],e}),{}):(null===e||void 0===e||null===(o=e.recommendationRules)||void 0===o||null===(s=o.filter((e=>(null===e||void 0===e?void 0:e.recommendationType)===t)))||void 0===s||null===(a=s.filter((e=>{var t;return!(null!==e&&void 0!==e&&e.endDateTime)||(null===nt.a||void 0===nt.a||null===(t=nt.a.unix(null===e||void 0===e?void 0:e.endDateTime))||void 0===t?void 0:t.isAfter(u))})))||void 0===a?void 0:a.reduce(((e,t)=>{const{recommendedItems:i=[],restrictedItems:o=[],name:s,endDateTime:a,...u}=t;return e.data={...u,name:s,endDateTime:a,recommendedItems:rt([...i,...o],r,n,s)},e.data}),{}))||{}})(r,t,e,n),enabled:!!(null!==n&&void 0!==n&&n.tenantId&&null!==n&&void 0!==n&&n.catalogName&&null!==n&&void 0!==n&&n.itemId),refetchOnMount:!0,refetchOnWindowFocus:!1})},ot=(e,t)=>it(e,t);r.a},1314:function(e,t,n){"use strict";(function(e){var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};"function"===typeof SuppressedError&&SuppressedError;var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o,s={},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.BLOCKS=void 0,function(e){e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block",e.EMBEDDED_RESOURCE="embedded-resource-block",e.TABLE="table",e.TABLE_ROW="table-row",e.TABLE_CELL="table-cell",e.TABLE_HEADER_CELL="table-header-cell"}(o||(a.BLOCKS=o={}));var u,l={};Object.defineProperty(l,"__esModule",{value:!0}),l.INLINES=void 0,function(e){e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline",e.EMBEDDED_RESOURCE="embedded-resource-inline",e.ENTRY_HYPERLINK="entry-hyperlink",e.HYPERLINK="hyperlink",e.RESOURCE_HYPERLINK="resource-hyperlink"}(u||(l.INLINES=u={}));var c,d={};Object.defineProperty(d,"__esModule",{value:!0}),d.MARKS=void 0,function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.CODE="code",e.SUPERSCRIPT="superscript",e.SUBSCRIPT="subscript",e.STRIKETHROUGH="strikethrough"}(c||(d.MARKS=c={}));var v={};!function(e){var t,n=r&&r.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.V1_MARKS=e.V1_NODE_TYPES=e.TEXT_CONTAINERS=e.HEADINGS=e.CONTAINERS=e.VOID_BLOCKS=e.TABLE_BLOCKS=e.LIST_ITEM_BLOCKS=e.TOP_LEVEL_BLOCKS=void 0;var i=a,o=l,s=d;e.TOP_LEVEL_BLOCKS=[i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE,i.BLOCKS.TABLE],e.LIST_ITEM_BLOCKS=[i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE],e.TABLE_BLOCKS=[i.BLOCKS.TABLE,i.BLOCKS.TABLE_ROW,i.BLOCKS.TABLE_CELL,i.BLOCKS.TABLE_HEADER_CELL],e.VOID_BLOCKS=[i.BLOCKS.HR,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE],e.CONTAINERS=((t={})[i.BLOCKS.OL_LIST]=[i.BLOCKS.LIST_ITEM],t[i.BLOCKS.UL_LIST]=[i.BLOCKS.LIST_ITEM],t[i.BLOCKS.LIST_ITEM]=e.LIST_ITEM_BLOCKS,t[i.BLOCKS.QUOTE]=[i.BLOCKS.PARAGRAPH],t[i.BLOCKS.TABLE]=[i.BLOCKS.TABLE_ROW],t[i.BLOCKS.TABLE_ROW]=[i.BLOCKS.TABLE_CELL,i.BLOCKS.TABLE_HEADER_CELL],t[i.BLOCKS.TABLE_CELL]=[i.BLOCKS.PARAGRAPH,i.BLOCKS.UL_LIST,i.BLOCKS.OL_LIST],t[i.BLOCKS.TABLE_HEADER_CELL]=[i.BLOCKS.PARAGRAPH],t),e.HEADINGS=[i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6],e.TEXT_CONTAINERS=n([i.BLOCKS.PARAGRAPH],e.HEADINGS,!0),e.V1_NODE_TYPES=[i.BLOCKS.DOCUMENT,i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.LIST_ITEM,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,o.INLINES.HYPERLINK,o.INLINES.ENTRY_HYPERLINK,o.INLINES.ASSET_HYPERLINK,o.INLINES.EMBEDDED_ENTRY,"text"],e.V1_MARKS=[s.MARKS.BOLD,s.MARKS.CODE,s.MARKS.ITALIC,s.MARKS.UNDERLINE]}(v);var p={};Object.defineProperty(p,"__esModule",{value:!0});var h={};Object.defineProperty(h,"__esModule",{value:!0});var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.EMPTY_DOCUMENT=void 0;var E=a;f.EMPTY_DOCUMENT={nodeType:E.BLOCKS.DOCUMENT,data:{},content:[{nodeType:E.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.isInline=function(e){return L(O.INLINES,e.nodeType)},m.isBlock=function(e){return L(S.BLOCKS,e.nodeType)},m.isText=function(e){return"text"===e.nodeType};var S=a,O=l;function L(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){if(t===e[r[n]])return!0}return!1}var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.getSchemaWithNodeType=function(e){try{return function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}("./generated/".concat(e,".json"))}catch(t){throw new Error('Schema for nodeType "'.concat(e,'" was not found.'))}},function(e){var t=r&&r.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=r&&r.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)},o=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaWithNodeType=e.helpers=e.EMPTY_DOCUMENT=e.MARKS=e.INLINES=e.BLOCKS=void 0;var s=a;Object.defineProperty(e,"BLOCKS",{enumerable:!0,get:function(){return s.BLOCKS}});var u=l;Object.defineProperty(e,"INLINES",{enumerable:!0,get:function(){return u.INLINES}});var c=d;Object.defineProperty(e,"MARKS",{enumerable:!0,get:function(){return c.MARKS}}),i(v,e),i(p,e),i(h,e);var E=f;Object.defineProperty(e,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return E.EMPTY_DOCUMENT}});var S=o(m);e.helpers=S;var O=y;Object.defineProperty(e,"getSchemaWithNodeType",{enumerable:!0,get:function(){return O.getSchemaWithNodeType}})}(s);var T=/["'&<>]/,I=function(e){var t,n=""+e,r=T.exec(n);if(!r)return n;var i="",o=0,s=0;for(o=r.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==o&&(i+=n.substring(s,o)),s=o+1,i+=t}return s!==o?i+n.substring(s,o):i};var C,g,A=i(I),D=((C={})[s.BLOCKS.PARAGRAPH]=function(e,t){return"<p>".concat(t(e.content),"</p>")},C[s.BLOCKS.HEADING_1]=function(e,t){return"<h1>".concat(t(e.content),"</h1>")},C[s.BLOCKS.HEADING_2]=function(e,t){return"<h2>".concat(t(e.content),"</h2>")},C[s.BLOCKS.HEADING_3]=function(e,t){return"<h3>".concat(t(e.content),"</h3>")},C[s.BLOCKS.HEADING_4]=function(e,t){return"<h4>".concat(t(e.content),"</h4>")},C[s.BLOCKS.HEADING_5]=function(e,t){return"<h5>".concat(t(e.content),"</h5>")},C[s.BLOCKS.HEADING_6]=function(e,t){return"<h6>".concat(t(e.content),"</h6>")},C[s.BLOCKS.EMBEDDED_ENTRY]=function(e,t){return"<div>".concat(t(e.content),"</div>")},C[s.BLOCKS.EMBEDDED_RESOURCE]=function(e,t){return"<div>".concat(t(e.content),"</div>")},C[s.BLOCKS.UL_LIST]=function(e,t){return"<ul>".concat(t(e.content),"</ul>")},C[s.BLOCKS.OL_LIST]=function(e,t){return"<ol>".concat(t(e.content),"</ol>")},C[s.BLOCKS.LIST_ITEM]=function(e,t){return"<li>".concat(t(e.content),"</li>")},C[s.BLOCKS.QUOTE]=function(e,t){return"<blockquote>".concat(t(e.content),"</blockquote>")},C[s.BLOCKS.HR]=function(){return"<hr/>"},C[s.BLOCKS.TABLE]=function(e,t){return"<table>".concat(t(e.content),"</table>")},C[s.BLOCKS.TABLE_ROW]=function(e,t){return"<tr>".concat(t(e.content),"</tr>")},C[s.BLOCKS.TABLE_HEADER_CELL]=function(e,t){return"<th>".concat(t(e.content),"</th>")},C[s.BLOCKS.TABLE_CELL]=function(e,t){return"<td>".concat(t(e.content),"</td>")},C[s.INLINES.ASSET_HYPERLINK]=function(e){return _(s.INLINES.ASSET_HYPERLINK,e)},C[s.INLINES.ENTRY_HYPERLINK]=function(e){return _(s.INLINES.ENTRY_HYPERLINK,e)},C[s.INLINES.RESOURCE_HYPERLINK]=function(e){return b(s.INLINES.RESOURCE_HYPERLINK,e)},C[s.INLINES.EMBEDDED_ENTRY]=function(e){return _(s.INLINES.EMBEDDED_ENTRY,e)},C[s.INLINES.EMBEDDED_RESOURCE]=function(e){return b(s.INLINES.EMBEDDED_RESOURCE,e)},C[s.INLINES.HYPERLINK]=function(e,t){var n,r="string"===typeof e.data.uri?e.data.uri:"";return"<a href=".concat((n=r,'"'.concat(n.replace(/"/g,"&quot;"),'"')),">").concat(t(e.content),"</a>")},C),R=((g={})[s.MARKS.BOLD]=function(e){return"<b>".concat(e,"</b>")},g[s.MARKS.ITALIC]=function(e){return"<i>".concat(e,"</i>")},g[s.MARKS.UNDERLINE]=function(e){return"<u>".concat(e,"</u>")},g[s.MARKS.CODE]=function(e){return"<code>".concat(e,"</code>")},g[s.MARKS.SUPERSCRIPT]=function(e){return"<sup>".concat(e,"</sup>")},g[s.MARKS.SUBSCRIPT]=function(e){return"<sub>".concat(e,"</sub>")},g[s.MARKS.STRIKETHROUGH]=function(e){return"<s>".concat(e,"</s>")},g),_=function(e,t){return"<span>type: ".concat(A(e)," id: ").concat(A(t.data.target.sys.id),"</span>")},b=function(e,t){return"<span>type: ".concat(A(e)," urn: ").concat(A(t.data.target.sys.urn),"</span>")};function B(e,t){var n=t.renderNode,r=t.renderMark,i=t.preserveWhitespace;return e.map((function(e){return function(e,t){var n=t.renderNode,r=t.renderMark,i=t.preserveWhitespace;if(s.helpers.isText(e)){var o=A(e.value);return i&&(o=o.replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(e){return"&nbsp;".repeat(e.length)}))),e.marks.length>0?e.marks.reduce((function(e,t){return r[t.type]?r[t.type](e):e}),o):o}var a=function(e){return B(e,{renderMark:r,renderNode:n,preserveWhitespace:i})};return e.nodeType&&n[e.nodeType]?n[e.nodeType](e,a):""}(e,{renderNode:n,renderMark:r,preserveWhitespace:i})})).join("")}t.documentToHtmlString=function(e,t){return void 0===t&&(t={}),e&&e.content?B(e.content,{renderNode:n(n({},D),t.renderNode),renderMark:n(n({},R),t.renderMark),preserveWhitespace:t.preserveWhitespace}):""}}).call(this,n(81))},1315:function(e,t,n){"use strict";(function(e){var n,r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},i={},o={};Object.defineProperty(o,"__esModule",{value:!0}),o.BLOCKS=void 0,function(e){e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block",e.EMBEDDED_RESOURCE="embedded-resource-block",e.TABLE="table",e.TABLE_ROW="table-row",e.TABLE_CELL="table-cell",e.TABLE_HEADER_CELL="table-header-cell"}(n||(o.BLOCKS=n={}));var s,a={};Object.defineProperty(a,"__esModule",{value:!0}),a.INLINES=void 0,function(e){e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline",e.EMBEDDED_RESOURCE="embedded-resource-inline",e.ENTRY_HYPERLINK="entry-hyperlink",e.HYPERLINK="hyperlink",e.RESOURCE_HYPERLINK="resource-hyperlink"}(s||(a.INLINES=s={}));var u,l={};Object.defineProperty(l,"__esModule",{value:!0}),l.MARKS=void 0,function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.CODE="code",e.SUPERSCRIPT="superscript",e.SUBSCRIPT="subscript",e.STRIKETHROUGH="strikethrough"}(u||(l.MARKS=u={}));var c={};!function(e){var t,n=r&&r.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.V1_MARKS=e.V1_NODE_TYPES=e.TEXT_CONTAINERS=e.HEADINGS=e.CONTAINERS=e.VOID_BLOCKS=e.TABLE_BLOCKS=e.LIST_ITEM_BLOCKS=e.TOP_LEVEL_BLOCKS=void 0;var i=o,s=a,u=l;e.TOP_LEVEL_BLOCKS=[i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE,i.BLOCKS.TABLE],e.LIST_ITEM_BLOCKS=[i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE],e.TABLE_BLOCKS=[i.BLOCKS.TABLE,i.BLOCKS.TABLE_ROW,i.BLOCKS.TABLE_CELL,i.BLOCKS.TABLE_HEADER_CELL],e.VOID_BLOCKS=[i.BLOCKS.HR,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,i.BLOCKS.EMBEDDED_RESOURCE],e.CONTAINERS=((t={})[i.BLOCKS.OL_LIST]=[i.BLOCKS.LIST_ITEM],t[i.BLOCKS.UL_LIST]=[i.BLOCKS.LIST_ITEM],t[i.BLOCKS.LIST_ITEM]=e.LIST_ITEM_BLOCKS,t[i.BLOCKS.QUOTE]=[i.BLOCKS.PARAGRAPH],t[i.BLOCKS.TABLE]=[i.BLOCKS.TABLE_ROW],t[i.BLOCKS.TABLE_ROW]=[i.BLOCKS.TABLE_CELL,i.BLOCKS.TABLE_HEADER_CELL],t[i.BLOCKS.TABLE_CELL]=[i.BLOCKS.PARAGRAPH,i.BLOCKS.UL_LIST,i.BLOCKS.OL_LIST],t[i.BLOCKS.TABLE_HEADER_CELL]=[i.BLOCKS.PARAGRAPH],t),e.HEADINGS=[i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6],e.TEXT_CONTAINERS=n([i.BLOCKS.PARAGRAPH],e.HEADINGS,!0),e.V1_NODE_TYPES=[i.BLOCKS.DOCUMENT,i.BLOCKS.PARAGRAPH,i.BLOCKS.HEADING_1,i.BLOCKS.HEADING_2,i.BLOCKS.HEADING_3,i.BLOCKS.HEADING_4,i.BLOCKS.HEADING_5,i.BLOCKS.HEADING_6,i.BLOCKS.OL_LIST,i.BLOCKS.UL_LIST,i.BLOCKS.LIST_ITEM,i.BLOCKS.HR,i.BLOCKS.QUOTE,i.BLOCKS.EMBEDDED_ENTRY,i.BLOCKS.EMBEDDED_ASSET,s.INLINES.HYPERLINK,s.INLINES.ENTRY_HYPERLINK,s.INLINES.ASSET_HYPERLINK,s.INLINES.EMBEDDED_ENTRY,"text"],e.V1_MARKS=[u.MARKS.BOLD,u.MARKS.CODE,u.MARKS.ITALIC,u.MARKS.UNDERLINE]}(c);var d={};Object.defineProperty(d,"__esModule",{value:!0});var v={};Object.defineProperty(v,"__esModule",{value:!0});var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.EMPTY_DOCUMENT=void 0;var h=o;p.EMPTY_DOCUMENT={nodeType:h.BLOCKS.DOCUMENT,data:{},content:[{nodeType:h.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.isInline=function(e){return S(m.INLINES,e.nodeType)},f.isBlock=function(e){return S(E.BLOCKS,e.nodeType)},f.isText=function(e){return"text"===e.nodeType};var E=o,m=a;function S(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){if(t===e[r[n]])return!0}return!1}var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.getSchemaWithNodeType=function(e){try{return function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}("./generated/".concat(e,".json"))}catch(t){throw new Error('Schema for nodeType "'.concat(e,'" was not found.'))}},function(e){var t=r&&r.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=r&&r.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)},s=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaWithNodeType=e.helpers=e.EMPTY_DOCUMENT=e.MARKS=e.INLINES=e.BLOCKS=void 0;var u=o;Object.defineProperty(e,"BLOCKS",{enumerable:!0,get:function(){return u.BLOCKS}});var h=a;Object.defineProperty(e,"INLINES",{enumerable:!0,get:function(){return h.INLINES}});var E=l;Object.defineProperty(e,"MARKS",{enumerable:!0,get:function(){return E.MARKS}}),i(c,e),i(d,e),i(v,e);var m=p;Object.defineProperty(e,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return m.EMPTY_DOCUMENT}});var S=s(f);e.helpers=S;var L=O;Object.defineProperty(e,"getSchemaWithNodeType",{enumerable:!0,get:function(){return L.getSchemaWithNodeType}})}(i),t.documentToPlainTextString=function e(t,n){return void 0===n&&(n=" "),t&&t.content&&Array.isArray(t.content)?t.content.reduce((function(r,o,s){var a;if(i.helpers.isText(o))a=o.value;else if((i.helpers.isBlock(o)||i.helpers.isInline(o))&&!(a=e(o,n)).length)return r;var u=t.content[s+1];return r+a+(u&&i.helpers.isBlock(u)?n:"")}),""):""}}).call(this,n(81))},1342:function(e,t,n){"use strict";e.exports=n(1343)},1343:function(e,t,n){"use strict";var r=n(3);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return a((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),s((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c}}]);