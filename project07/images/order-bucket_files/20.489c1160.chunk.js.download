(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[20,115],{1097:function(e,t,n){var a=n(327),o=n(213),c=n(330);e.exports=function(e){return function(t,n,l){var i=Object(t);if(!o(t)){var r=a(n,3);t=c(t),n=function(e){return r(i[e],e,i)}}var d=e(t,n,l);return d>-1?i[r?t[d]:d]:void 0}}},1102:function(e,t,n){var a=n(1097)(n(405));e.exports=a},1104:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(1);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.qk,payload:{data:e,tenantId:t},successCallback:n,errorCallback:o}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a.lk,menuPayload:e,exclusionPayload:t,successCallback:n}}},1105:function(e,t,n){var a=n(268),o=n(597);e.exports=function(e){return o(a(e).toLowerCase())}},1114:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1);function o(e){return{type:a.he,payload:e}}},1120:function(e,t,n){var a=n(598),o=n(596),c=n(599),l=4294967295,i=Math.min;e.exports=function(e,t){if((e=c(e))<1||e>9007199254740991)return[];var n=l,r=i(e,l);t=o(t),e-=l;for(var d=a(r,t);++n<e;)t(n);return d}},1121:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));var a=n(3);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}var c=function(e){var t=Object(a.useRef)(e);return t.current=e,t},l=function(e){var t=void 0===e?{}:e,n=t.requestOptions,l=t.debounce,i=void 0===l?200:l,r=t.cache,d=void 0===r?86400:r,s=t.cacheKey,u=t.googleMaps,v=t.callbackName,b=t.defaultValue,O=void 0===b?"":b,j=t.initOnMount,h=void 0===j||j,p=Object(a.useState)(!1),m=p[0],g=p[1],f=Object(a.useState)(O),C=f[0],N=f[1],x=Object(a.useState)({loading:!1,status:"",data:[]}),w=x[0],S=x[1],I=Object(a.useRef)(null),y=c(n),R=c(u),E=s?"upa-"+s:"upa",k=Object(a.useCallback)((function(){var e;if(!I.current){var t=window.google,n=R.current,a=(null==n?void 0:n.places)||(null==t||null==(e=t.maps)?void 0:e.places);a?(I.current=new a.AutocompleteService,g(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),A=Object(a.useCallback)((function(){S({loading:!1,status:"",data:[]})}),[]),_=Object(a.useCallback)((function(){try{sessionStorage.removeItem(E)}catch(e){}}),[]),T=Object(a.useCallback)(function(e,t){var n;return function(){for(var a=this,o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];null!==n&&(clearTimeout(n),n=null),n=setTimeout((function(){return e.apply(a,c)}),t)}}((function(e){if(e){S((function(e){return o({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(E)||"{}")}catch(n){}d&&(t=Object.keys(t).reduce((function(e,n){return t[n].maxAge-Date.now()>=0&&(e[n]=t[n]),e}),{}))[e]?S({loading:!1,status:"OK",data:t[e].data}):I.current.getPlacePredictions(o({},y.current,{input:e}),(function(a,o){if(S({loading:!1,status:o,data:a||[]}),d&&"OK"===o){t[e]={data:a,maxAge:Date.now()+1e3*d};try{sessionStorage.setItem(E,JSON.stringify(t))}catch(n){}}}))}else A()}),i),[i,A]),H=Object(a.useCallback)((function(e,t){void 0===t&&(t=!0),N(e),I.current&&t&&T(e)}),[T]);return Object(a.useEffect)((function(){if(!h)return function(){return null};var e=window.google;return R.current||null!=e&&e.maps||!v?k():window[v]=k,function(){window[v]&&delete window[v]}}),[v,k]),{ready:m,value:C,suggestions:w,setValue:H,clearSuggestions:A,clearCache:_,init:k}},i=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode(e,(function(t,o){"OK"!==o&&a(o),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)}))}))},r=function(e){return new Promise((function(t,n){try{var a=e.geometry.location,o=a.lat,c=a.lng;t({lat:o(),lng:c()})}catch(l){n(l)}}))}},1164:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(3),o=n(28),c=n(62),l=n(0),i=n(24),r=n(86),d=n(46),s=n(212),u=n(6),v=n(413),b=n(132),O=n(80),j=n(15),h=n(2);const p=e=>{var t,n,p,m,g,f;const{navRight:C,hamburgerComp:N,closeHamburger:x}=e,w=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{showContentCards:S=!1,showNeedhelpModal:I}=Object(o.c)((e=>{var t,n,a;return(null===(t=e.tenantReducer)||void 0===t||null===(n=t.componentOptions)||void 0===n||null===(a=n.web)||void 0===a?void 0:a.global)||{}})),y=!(i.b.isGoogle&&null!==w&&void 0!==w&&w.loggedIn),R=Object(c.g)(),{LOGGEDIN_USER_SIGNIN_TEXT:E,GUEST_USER_SINGIN_TEXT:k,SIGN_IN_LINK:A}=s.a,[_,T]=Object(a.useState)(0),H=Object(b.b)(O.b),D=(null===H||void 0===H?void 0:H.brazeInitialized)&&(null===(t=window)||void 0===t||null===(n=t.appboy)||void 0===n||null===(p=n.getCachedContentCards())||void 0===p||null===(m=p.cards)||void 0===m||null===(g=m.filter((e=>!e.isControl&&!e.viewed)))||void 0===g?void 0:g.length),{Arrow_Icon:M}=j.a;Object(a.useEffect)((()=>{T(D)}),[D]);const P=()=>{null!==w&&void 0!==w&&w.loggedIn?(null===x||void 0===x||x(),R.push({pathname:l.Ce.ACCOUNT})):Object(r.c)()},G=e=>N?Object(u.translateWithI18Next)(k):null===e||void 0===e?void 0:e.name;return Object(h.jsx)("div",{className:"sign-in-container","data-testid":e["data-testid"],"data-id":(L=y,L?l.qb.HEADER_SIGN_IN_ATTR_DATA_ID:""),children:null===C||void 0===C||null===(f=C.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toUpperCase())===A})))||void 0===f?void 0:f.map((e=>Object(h.jsxs)("div",{className:"account-container","data-testid":"account-container",onClick:P,children:[Object(v.p)((null===e||void 0===e?void 0:e.url)||(null===e||void 0===e?void 0:e.imageUrl),"HEADER_SIGN_IN","account-icon"),S&&!!_&&(null===w||void 0===w?void 0:w.loggedIn)&&Object(h.jsx)("span",{className:"msg-badge",children:_}),Object(h.jsx)("span",{className:"sign-in-text".concat(""," ").concat(I?"":"not-cart-icon"),children:null!==w&&void 0!==w&&w.loggedIn?Object(u.translateWithI18Next)(E):G(e)}),N?Object(h.jsx)(d.a,{srcFile:M,className:"arrow"}):null]},null===e||void 0===e?void 0:e.title)))});var L}},1201:function(e,t,n){"use strict";var a=n(396),o=n(85),c=n(3),l=n(5),i=n(15),r=n(6),d=n(106),s=n(92),u=n(62),v=n(28),b=n(409),O=n(16),j=n(2);t.a=()=>{const{userOrderState:e,userOrderStateDispatch:t}=Object(c.useContext)(o.a),{menuReducer:n,contentReducer:h}=Object(v.c)((e=>e)),p=Object(v.c)((e=>Object(l.sd)(e.storesReducer))),m=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),g=Object(v.c)((e=>e.cartReducer)),{timeBasedCetegory:f,timeBasedAlertModalData:C}=e,N=Object(v.b)(),x=Object(u.g)(),{CartError:w}=i.a,S=(null===p||void 0===p?void 0:p.storesWithStatus)&&Object(b.b)(null===p||void 0===p?void 0:p.storesWithStatus[0]),I=Object(c.useCallback)((()=>{if(null===f||void 0===f||!f.supportContentAlertData){var e,n;const o=null===h||void 0===h||null===(e=h.dynamicMenuAlertData)||void 0===e||null===(n=e.includes)||void 0===n?void 0:n.Entry;null!==o&&void 0!==o&&o.length&&Object(a.s)({...f,supportContentAlertData:o},t)}}),[null===h||void 0===h?void 0:h.dynamicMenuAlertData,f,t]);return Object(c.useEffect)((()=>{I()}),[I]),Object(c.useEffect)((()=>{const o={menuReducer:n,userParams:m,updateTimebasedCategory:a.s,userOrderStateDispatch:t,dispatch:N,getStoreDetail:S,cartReducer:g,timeBasedCetegory:f,userOrderState:e};Object(a.r)(o)}),[n]),Object(j.jsx)(j.Fragment,{children:(null===C||void 0===C?void 0:C.flag)&&Object(j.jsx)(d.a,{"data-testid":"timeBasedAlert-modal",handleClose:null!==C&&void 0!==C&&C.showCrossIcon?()=>Object(a.o)(t,C):null,classNames:"clear-cart-modal catering-menu-nav-alert timebased-alert ".concat((null===C||void 0===C?void 0:C.title)!==(null===O.a||void 0===O.a?void 0:O.a.CART_REVIEW_ORDER_MODAL)?"timebased-alert-notification":"timebased-alert-popup"),CartAlertForm:Object(j.jsx)(s.a,{title:Object(l.nf)(null===C||void 0===C?void 0:C.headline,null===C||void 0===C?void 0:C.cName),contentMsg:Object(l.nf)(null===C||void 0===C?void 0:C.subHeadline,null===C||void 0===C?void 0:C.cName),contentImg:null===C||void 0===C?void 0:C.contentImg,imageSrc:null!==C&&void 0!==C&&C.contentImg?null:w,altText:"",confirmButtonText:Object(r.translateWithI18Next)(null===C||void 0===C?void 0:C.buttonText),confirmHandler:()=>Object(a.n)({timeBasedAlertModalData:C,userOrderStateDispatch:t,timeBasedCetegory:f,history:x})})})})}},621:function(e,t,n){"use strict";n.r(t);var a=n(5),o=n(396),c=n(3),l=n(28),i=n(6),r=n(20),d=n.n(r),s=n(46),u=n(85),v=n(0),b=n(15),O=n(62),j=n(212),h=n(409),p=n(86),m=n(2);const g=e=>{const{children:t,pathname:n,signInLink:o,loggedIn:c,setOrderComplete:l,...i}=e,r=Object(O.g)();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{...i,onClick:()=>{o&&!c?Object(p.c)():n===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.HOME_PAGE)?(l&&localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_COMPLETE,!0),Object(a.Ye)({history:r})):n===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.CHECKOUT)?Object(a.Se)({history:r},!1,!1,!1,!1,!1,!0):r.push({pathname:n})},children:t})})};var f=n(1164),C=n(1198),N=n(41),x=n(265),w=n(4),S=n(263);const I=()=>Object(x.j)()?v.Ce.HOME_PAGE:v.Ce.CART,y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?Object(m.jsx)("span",{"data-testid":"back-to-cart-btn",className:"back-text",children:Object(i.translateWithI18Next)(Object(x.j)()?j.a.GO_BACK:j.a.BACK_TO_CART)}):Object(m.jsx)("span",{"data-testid":"goto-home-btn",className:"back-text",children:t?Object(i.translateWithI18Next)(w.a.BACK_BUTTON):Object(i.translateWithI18Next)(j.a.GO_BACK)})},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return null!==n&&void 0!==n&&n.includes(null===v.fb||void 0===v.fb?void 0:v.fb.TH.toLowerCase())?e?I():t?v.Ce.CHECKOUT:v.Ce.CART:e?I():t?v.Ce.CHECKOUT:v.Ce.HOME_PAGE},E=(e,t)=>"need-help-container right-nav-item".concat(e?"":" payment-help-btn"," ").concat(t?"disable-supportbtn":""),k=(e,t)=>t||e?"back-icon":"display-none",A=(e,t)=>t||e?"display-none":"help-icon",_=e=>{const{hideNeedHelpModal:t,showNeedhelpModal:n,checkoutHeader:o,multiDeliverySupport:c,toggleModal:l,contentReducer:r}=e,{NEED_HELP:u}=j.a,O=d()(Object(a.Sb)(r));return Object(m.jsxs)(m.Fragment,{children:[!t&&n&&Object(m.jsxs)("div",{"data-testid":"help-btn ac",className:E(o,c),onClick:()=>O?l(!0):window.open(Object(a.Sb)(r),"_blank"),children:[Object(m.jsx)(s.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:"help-icon",alt:"help icon"}),Object(m.jsx)("span",{className:"help-text",children:Object(i.translateWithI18Next)(u)})]}),!n&&Object(m.jsx)("div",{"data-testid":"help-btn ac",className:E(o,c),children:Object(m.jsxs)(S.a,{className:"need-help-desk",href:v.Ce.HELP,children:[Object(m.jsx)(s.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:"help-icon",alt:"help icon"}),Object(m.jsx)("span",{className:"help-text need-help",children:Object(i.translateWithI18Next)(u)})]})})]})};var T=e=>{var t,n,o,i,r,d,j,p;const{contentData:w,tenantReducerData:S={},checkoutHeader:I=!1,showOrderSummaryHeader:E=!1,showBackToCart:T=!0,showNeedHelp:H=!0,showMobileKfcLogo:D=!1,hideNeedHelpModal:M=!1,showSavedPaymentTextInHeader:P=!1,showBack:G=!1,contentReducer:L={}}=e,B=Object(O.g)(),{basic:F,countryCode:W}=S,{showSecondaryHeader:K=!1}=(null===S||void 0===S||null===(t=S.componentOptions)||void 0===t||null===(n=t.web)||void 0===n?void 0:n.global)||{},{navRight:U,kfcLogo:Y}=Object(h.c)(w,F),{HOME_PAGE:V}=v.Ce,{userOrderState:J}=Object(c.useContext)(u.a),q=Object(a.Sd)(null===J||void 0===J?void 0:J.dispositionNew)?JSON.parse(localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW)):J.dispositionNew,[z,X]=Object(c.useState)(!1),[Q,Z]=Object(c.useState)(!1),$=Object(l.c)((e=>e.tenantReducer)),{postOrderReducer:ee}=Object(l.c)((e=>e)),{showNeedhelpModal:te=!1}=(null===$||void 0===$||null===(o=$.componentOptions)||void 0===o||null===(i=o.web)||void 0===i?void 0:i.global)||{},{isWicodeFinaliseFailed:ne=!1}=Object(a.kc)(ee),[ae,oe]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{var e,t,n,o;"/order-summary"===(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)&&(X(!0),((e,t)=>{var n,o;null!==e&&void 0!==e&&null!==(n=e.orderAccepted)&&void 0!==n&&n.deliveryPartners||Object(a.ge)(null===e||void 0===e||null===(o=e.orderAccepted)||void 0===o?void 0:o.service)?t(!1):t(!0)})(ee,X)),(null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.PAYMENT_FAILURE)&&oe((e=>{var t,n,a,o;return(null===e||void 0===e||null===(t=e.orderAccepted)||void 0===t||null===(n=t.paymentReferences)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.paymentType)===(null===v.Vd||void 0===v.Vd?void 0:v.Vd.TRUE_MONEY_WALLET)&&(null===e||void 0===e||null===(o=e.orderAccepted)||void 0===o?void 0:o.status)===(null===v.Rd||void 0===v.Rd?void 0:v.Rd.PAYMENT_FAILED)})(ee))}),[B,ee]),Object(m.jsxs)("div",{"data-testid":"secondary-header-container",className:"secondary-header-container",children:[(null===(r=window)||void 0===r||null===(d=r.location)||void 0===d?void 0:d.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_PROCESSING)&&T&&!ae&&Object(m.jsxs)("div",{className:"back-button-container","data-testid":"order-confirmation-return-button",children:[Object(m.jsx)(g,{pathname:R(I,ae,W),setOrderComplete:!I,children:Object(a.de)(window.innerWidth)||Object(x.Y)()?Object(m.jsx)(s.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.ArrowIcon,className:k(I,G),alt:"Back to Cart"}):Object(m.jsx)(N.c,{variant:N.b.tertiary,className:te?"":"button whiteButton blackBorder",children:y(I,G)})}),!M&&te&&(!Object(x.Y)()||!Object(x.T)())&&Object(m.jsx)("div",{"data-testid":"help-btn",className:"payment-help-container",onClick:()=>Z(!0),children:Object(m.jsx)(s.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:A(I,G),alt:"help icon"})})]}),Object(m.jsxs)("div",{className:"kfc-header-container",children:[!D&&Object(m.jsx)(g,{"data-testid":"home-btn",pathname:V,setOrderComplete:!I,children:Object(m.jsx)(s.a,{className:"kfc-header-icon",srcFile:(null===Y||void 0===Y?void 0:Y.src)||(null===b.a||void 0===b.a?void 0:b.a.HeaderLogo),alt:null===Y||void 0===Y?void 0:Y.alt})}),!D&&Object(m.jsx)("span",{className:"text-icon",children:Object(h.a)({checkoutHeader:I,showOrderSummaryHeader:E,dispositionNew:q,isWicodeFinaliseFailed:ne,showSavedPaymentTextInHeader:P})}),D&&Object(m.jsx)("div",{"data-testid":"kfc-logo",className:"header-logo-mobile",onClick:()=>Object(a.Ye)({history:B}),children:Object(m.jsx)(s.a,{srcFile:(null===Y||void 0===Y?void 0:Y.src)||(null===b.a||void 0===b.a?void 0:b.a.HeaderLogo),alt:"KFC LOGO"})})]}),(null===(j=window)||void 0===j||null===(p=j.location)||void 0===p?void 0:p.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_PROCESSING)&&H&&Object(m.jsxs)("div",{className:"right-nav-container",children:[Object(m.jsx)(_,{hideNeedHelpModal:M,showNeedhelpModal:te,checkoutHeader:I,multiDeliverySupport:z,toggleModal:Z,contentReducer:L}),I&&K?Object(m.jsx)(f.a,{"data-testid":"sign-in-container",navRight:U}):null,Object(m.jsx)(g,{pathname:V,setOrderComplete:!0,"data-testid":"header-close-btn",className:I?"display-none":"header-close-btn",children:Object(m.jsx)(s.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.PopupCloseBtn,alt:"close-btn"})})]}),Q&&Object(m.jsx)(C.a,{isOpen:Q,orderHistoryPage:Object(a.i)(),checkoutHeader:I,showOrderSummaryHeader:E,handleClose:()=>{Z(!1)}})]})},H=n(16),D=n(1201);t.default=e=>{var t,n;const{contentData:i={},checkoutHeader:r}=e,[d,s]=Object(c.useState)(0),{userOrderState:b,userOrderStateDispatch:O}=Object(c.useContext)(u.a),{timeBasedCetegory:j}=b,h=Object(l.c)((e=>Object(a.sd)(e.storesReducer))),p=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),g=Object(l.c)((e=>null===e||void 0===e?void 0:e.contentReducer)),f=Object(l.c)((e=>e.cartReducer)),C=Object(a.ad)(Object(a.Sd)(b.dispositionNew),Object(o.k)(H.a.DISPOSITION_NEW),b.dispositionNew),N=Object(c.useCallback)((e=>d?clearInterval(e):null),[d]);return Object(c.useEffect)((()=>{const e=setInterval((()=>{var e;const t=Object(a.v)(null===h||void 0===h||null===(e=h.storesWithStatus[0])||void 0===e?void 0:e.summary,v.qb.STORE_CLOSING_SOON_MODAL_TIMING,!0);Object(o.m)(j,f,O),Object(o.p)(j,O),Object(a.yf)(C,f,t,s)}),15e3);return N(e),()=>{clearInterval(e)}}),[d,null===h||void 0===h?void 0:h.storesWithStatus,C,null===f||void 0===f||null===(t=f.cartData)||void 0===t||null===(n=t.foodLines)||void 0===n?void 0:n.length,N,f,j,O]),Object(m.jsxs)("div",{className:"secondary-header au","data-testid":"HeaderItems-component",children:[Object(m.jsx)(T,{contentData:i,checkoutHeader:r,tenantReducerData:p,...e,contentReducer:g}),Object(m.jsx)(D.a,{})]})}}}]);