(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[26],{1104:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return a}));var l=o(1);function n(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:l.qk,payload:{data:e,tenantId:t},successCallback:o,errorCallback:n}}function a(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:l.lk,menuPayload:e,exclusionPayload:t,successCallback:o}}},1105:function(e,t,o){var l=o(268),n=o(597);e.exports=function(e){return n(l(e).toLowerCase())}},975:function(e,t,o){"use strict";o.r(t),o.d(t,"filterStores",(function(){return _e})),o.d(t,"SearchStoreModule",(function(){return we}));var l=o(3),n=o.n(l),a=o(85),i=o(144),s=o(2);const r=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:l,headerText:a,modalTitleId:r="",className:d,backDataTestId:c}=e;return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsx)(i.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"".concat(d," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:a,autoFocus:!0,backDataTestId:c,children:l})})};var d=n.a.memo(r),c=o(16),u=o(43),v=o(437),b=o(192),O=o(73),j=o(394),S=o(28),h=o(331),g=o(6),E=o(5),p=o(24),m=o(86),C=o(426),f=o(46),D=o(263),I=o(1193),A=o(1197),L=o(55),N=o(269),R=o(329),T=o(41),y=o(15),x=o(4),_=o(80),w=o(132);const{Error:k}=y.a,F=e=>{var t,o;const{show:l,address:n,suggestedAddress:a,onRetryClickHandler:i,onUseThisAddressHandler:r,changeAddressErrorMsgStyle:d}=e,{LOCATION_WARNING_MESSAGE:c,RETRY_BTN_TEXT:u,USE_THIS_ADDRESS_TEXT:v}=x.a,b=Object(w.b)(_.b);return l?Object(s.jsx)("div",{className:"err-container",children:Object(s.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[!d&&Object(s.jsx)(f.a,{srcFile:k,className:"location-alert-icon"}),Object(s.jsx)("div",{className:(O=d,O?"location-error-message location-error-message-change-style":"location-error-message"),children:Object(g.translateWithI18Next)(c)}),Object(s.jsxs)("div",{className:"location-error-address",children:[Object(E.qd)(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.description,null!==(o=Object(j.M)(b))&&void 0!==o?o:n),";"]}),Object(s.jsxs)("div",{className:"location-error-button-section",children:[Object(s.jsx)(T.a,{className:"button whiteButton blackBorder location-warning-button mr one-line-text",onClick:i,"data-testid":"location-retry-btn",children:Object(g.translateWithI18Next)(u)}),Object(s.jsx)(T.a,{className:"button whiteButton blackBorder location-warning-button ml one-line-text","data-testid":"use-this-address",onClick:r,children:Object(g.translateWithI18Next)(v)})]})]})}):null;var O},B=n.a.memo(F),{GoogleMapLocationImage:M}=y.a,U=e=>{const{show:t=!1,suggestedAddress:o="",confirmDeliveryAddressLineHandler:a,onChangeDeliveryAddressLine:i,deliveryAddressLineVal:r,shouldEnableConfirmButton:d,apartmentDetailsRegex:c}=e,{DELIVERY_ADDRESS_LINE_LABEL:v,CONFIRM_BTN_TEXT:b,PLEASE_FILL_OUT_THIS_FIELD:O}=x.a,j=Object(w.a)(),S=Object(l.useCallback)((e=>{var t;c.test(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&(i(e.target.value),j(Object(_.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:e.target.value})))}),[i]);return Object(s.jsx)(n.a.Fragment,{children:t?Object(s.jsxs)("div",{"data-testid":"delivery-address-line-container",className:"err-container",children:[Object(s.jsxs)("div",{className:"alert-location-popup unit-number-container",children:[Object(s.jsxs)("div",{className:"icon-with-address",children:[Object(s.jsx)(f.a,{srcFile:M,alt:" ",className:"google-location-img"}),Object(s.jsx)("span",{className:"suggested-address-unit",children:o})]}),Object(s.jsxs)("div",{className:"unit-number-input-div",children:[Object(s.jsx)("input",{"data-testid":"delivery-address-line-input",type:"text",value:r,onChange:S,required:!0,title:Object(g.translateWithI18Next)(O)}),Object(s.jsx)("label",{children:Object(g.translateWithI18Next)(v)})]})]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(T.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"delivery-address-line-confirm",onClick:()=>a(r),disabled:d&&!(null!==r&&void 0!==r&&r.length),children:Object(g.translateWithI18Next)(b)})})]}):null})};var P=n.a.memo(U),V=o(1117),H=o(1147),J=o(0),W=o(1186);const K=e=>{var t;const{showKfcCount:o,showMapLink:l,typeOfView:a,toggleView:i,kfcStoresCountText:r,kfcCount:d,isStoresLoading:c}=e,u=Object(S.c)((e=>{var t,o,l;return(null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(l=e.storesReducer)||void 0===l?void 0:l.isFavoriteStoreStatusLoading)}));return Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsxs)("div",{className:"kfc-near-you-section",children:[o?Object(s.jsx)("div",{className:"kfc-count",children:null===(t=Object(g.translateWithI18Next)(r))||void 0===t?void 0:t.replace("%storeCount%",d)}):null,l?Object(s.jsx)("div",{className:"list-map-link-section","data-testid":"toggle-view-test",onClick:()=>i(),children:Object(s.jsxs)(D.a,{className:"list-map-link",children:[Object(s.jsx)("span",{children:Object(s.jsx)(f.a,{"data-testid":"",srcFile:null===a||void 0===a?void 0:a.imageSrc,alt:"map",className:"map-img"})}),Object(g.translateWithI18Next)(null===a||void 0===a?void 0:a.text)]})}):null]}),(u||c)&&Object(s.jsx)("div",{className:"placeholder",children:Array(8).fill().map((()=>Object(s.jsx)(Y,{})))})]})},Y=()=>Object(s.jsxs)("div",{className:"table store-card-container",children:[Object(s.jsx)("div",{className:"loading card-title shorter-s"}),Object(s.jsx)("div",{className:"loading table-content"}),Object(s.jsx)("div",{className:"loading table-content"})]});var G=n.a.memo(K),q=o(1206),z=o(133),X=o(62),Q=o(1196),Z=o(52),$=o(399);const{Error_Yellow:ee,MapImage:te}=y.a||{},{RETAIN_ADDRESS:oe,CONFIG_SEARCH_SCREEN:le,FROM_SCHEDULE_ORDER_CONTAINER:ne,ADDRESS_COORDS:ae}=J.gd||{},{SEARCH_ORDER_DATA:ie,DISPOSITION_METHOD:se,REORDER_MODAL_OPEN:re,REORDER_STORE_CHANGED:de,SCHEDULE_ORDER_DATA:ce}=c.a||{},{MIN_SEARCH_CHARACTER_LIMIT:ue,SET_LOCATION_BUTTON_FLAG:ve,SELECTED_FAV_ADDRESS:be,FORMATTED_DELIVERY_ADDRESS:Oe,SELECTED_LINE_ADDRESS_VAL:je,IS_FAV_ADDRESS_SELECTED:Se,STREET_NUMBER:he,NON_FORMATTED_ADDRESS:ge,TYPE_DELIVERY:Ee}=u.a,{RETRY_BTN_TEXT:pe,VIEW_MAP_BTN_TEXT:me,ADDRESS_NOT_FOUND_ERROR:Ce,GOOGLE_API_ERROR:fe,LOCATION_BLOCKED_ERROR:De,KFC_URL:Ie,PLEASE_ENTER_YOUR_LOCATION:Ae,MAP:Le}=x.a,{ENTER:Ne}=J.ag.KEY_CHAR_CODE||{},{SET_LOCATION_INFO:Re}=Z.a;let Te=!1;const ye=e=>{let{orderSummaryModalClose:t,eligibleStoresForList:o,loggedIn:l,onClickMapHandler:n,storeOpenBtnText:a,findAKFC:i,storeNumberFormat:r}=e;return Object(s.jsx)(s.Fragment,{children:t&&(null===o||void 0===o?void 0:o.map((e=>Object(s.jsx)(q.a,{store:e,loggedIn:l,onClickMapHandler:n,storeOpenBtnText:a,findAKFC:i,storeNumberFormat:r,isUberServiceableEnabled:!1},null===e||void 0===e?void 0:e.id))))})};var xe=e=>{var t,o,n,i,r,d,c,v,b,O,h,m,C,T,x,k,F;const{userPositionHandler:M,eligibleStoreData:U,isStoresLoading:K,setIsStoresLoading:Y=(()=>{}),dispositionType:Z,seteligibleStoreData:re,storeSelection:de,formContent:xe,eligibleFavoriteStoreData:_e,findAKFC:we,finAKFCContentData:ke={},isMobile:Fe,setShowStores:Be=null,showStores:Me=null,currentMarket:Ue}=e,Pe=Object(l.useRef)(null),Ve=Object(X.g)(),He=Object(w.a)(),{userOrderState:Je,userOrderStateDispatch:We}=Object(l.useContext)(a.a),{searchStoreData:Ke,scheduleOrderData:Ye,setLocationClicked:Ge,showLocationConfirmModal:qe,showNotInRadiusError:ze,notInRadiusRestaurant:Xe,orderSummaryModalClose:Qe}=Je,{configSearchScreen:Ze=localStorage.getItem(le)}=Ke,$e=JSON.parse(localStorage.getItem(ne)),[et,tt]=Object(l.useState)(!1),[ot,lt]=Object(l.useState)(!1),[nt,at]=Object(l.useState)(!1),[it,st]=Object(l.useState)(!1),[rt,dt]=Object(l.useState)(!1),[ct,ut]=Object(l.useState)([]),[vt,bt]=Object(l.useState)(!1),[Ot,jt]=Object(l.useState)({}),[St,ht]=Object(l.useState)(""),[gt,Et]=Object(l.useState)(!1),[pt,mt]=Object(l.useState)(""),[Ct,ft]=Object(l.useState)(""),[Dt,It]=Object(l.useState)({}),At=Object(S.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[Lt,Nt]=Object(l.useState)({}),[Rt,Tt]=Object(l.useState)(null),[yt,xt]=Object(l.useState)(!1),_t=Object(S.c)((e=>e.appStateReducer.userStatus)),{loggedIn:wt}=Object(E.sd)(_t),{savedAddresses:kt,favouriteStores:Ft}=Object(S.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{componentOptions:Bt,savedAddressPage:Mt,useLatLngForReverseGeocode:Ut,isShowDefulteMapForDelivery:Pt,isUberServiceableEnabled:Vt,enableDeliveryMenuOption:Ht}=Object(S.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Jt=J.bf,Wt=null!==(t=null===Mt||void 0===Mt?void 0:Mt.showAddressWithApartment)&&void 0!==t&&t,Kt=null===Bt||void 0===Bt||null===(o=Bt.web)||void 0===o?void 0:o.dispositionConfig,Yt=null===Bt||void 0===Bt||null===(n=Bt.web)||void 0===n||null===(i=n.restaurantDetailPage)||void 0===i?void 0:i.storeNumberFormat,Gt=null===Bt||void 0===Bt||null===(r=Bt.web)||void 0===r||null===(d=r.dispositionConfig)||void 0===d?void 0:d.autoSelectDeliveryStore,qt=null===Bt||void 0===Bt||null===(c=Bt.web)||void 0===c||null===(v=c.dispositionConfig)||void 0===v||null===(b=v.deliveryStores)||void 0===b?void 0:b.shouldEnableConfirmButton,zt=null===Bt||void 0===Bt||null===(O=Bt.web)||void 0===O||null===(h=O.dispositionConfig)||void 0===h?void 0:h.apartmentDetailsRegex,Xt=null===Bt||void 0===Bt||null===(m=Bt.web)||void 0===m||null===(C=m.storeSearch)||void 0===C?void 0:C.changeAddressErrorMsgStyle,Qt=(null===Bt||void 0===Bt||null===(T=Bt.storeSelection)||void 0===T||T.hideUseMyLocationInStoresListScreen,void 0!==Je.isMapViewConfirmBtnFlow&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===Ee?Je.isMapViewConfirmBtnFlow:null===Bt||void 0===Bt||null===(x=Bt.web)||void 0===x||null===(k=x.storeSearch)||void 0===k?void 0:k.isMapViewConfirmBtnFlow),{enableScheduleOrder:Zt=!1}=Kt,$t="".concat(Z,"_").concat(Ze),eo=Qt&&Z===Ee,{placeholder:to,shouldShowLocationWarning:oo,shouldShowDeliveryAddressLine:lo,shouldHandleKeyPress:no,serviceUnavailableError:ao,shouldShowSingleStore:io,shouldShowStoresList:so,shouldShowKfcStoresCount:ro,shouldShowMapListToggleLink:co,kfcStoresCountText:uo,shouldShowLocationLink:vo,shouldPopulateFirstSuggestion:bo,storeOpenBtnText:Oo,filteredTypes:jo,filterConditions:So}={...null===z.d||void 0===z.d?void 0:z.d[$t],...null===Kt||void 0===Kt?void 0:Kt[$t]},{shouldShowSavedAddress:ho}=(!Vt||(null===Z||void 0===Z?void 0:Z.toUpperCase())!==J.Jb.DELIVERY)&&{...null===z.d||void 0===z.d?void 0:z.d[$t],...null===Kt||void 0===Kt?void 0:Kt[$t]},go=Object(w.b)(_.b),{errMsg:Eo,firstBtnText:po,firstBtnHandler:mo,secondBtnHandler:Co,secondBtnText:fo,firstBtnClassName:Do}=ao||{},Io=!!(we||Zt||eo)||io,Ao=Object(S.c)((e=>{var t,o,l,n;return Object(E.Ke)(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading,null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading,null===(l=e.storesReducer)||void 0===l?void 0:l.isFavoriteStoreStatusLoading,null===(n=e.allStoresReducer)||void 0===n?void 0:n.isNearByStoresLoading)}));Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY&&localStorage.removeItem(oe);const Lo=JSON.parse(localStorage.getItem(null===J.gd||void 0===J.gd?void 0:J.gd.SELECTED_ADDRESS)),No=[null===Lo||void 0===Lo?void 0:Lo.apartmentName,null===Lo||void 0===Lo?void 0:Lo.roomNumber,null===Lo||void 0===Lo?void 0:Lo.companyName],Ro=((e,t)=>[e,...t.filter((e=>e))].join(" "))(null===Je||void 0===Je||null===(F=Je.scheduleOrderData)||void 0===F?void 0:F.deliveryAddress,No),To=()=>{jt({}),eo&&bt(!1),Be(!1),lt(!0)},yo=Object(l.useCallback)((()=>{var e;tt(!1),jt({}),It({}),dt(!1),null===Pe||void 0===Pe||null===(e=Pe.current)||void 0===e||e.select()}),[]);Object(l.useEffect)((()=>{(null===go||void 0===go?void 0:go.selectedLineValueAddress)&&ft(null===go||void 0===go?void 0:go.selectedLineValueAddress)}),[go]);const xo=Object(l.useCallback)((e=>{Object(j.I)(no,(null===e||void 0===e?void 0:e.keyCode)===Ne,Pe,We);const t=Object(E.Je)(no,(null===e||void 0===e?void 0:e.keyCode)===Ne,!(null!==ct&&void 0!==ct&&ct.length));Object(j.K)(bo,(null===e||void 0===e?void 0:e.keyCode)===Ne,ct,ht,St);let o={showError:t,errMsg:Object(g.translateWithI18Next)(Ce),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:Object(g.translateWithI18Next)(me),firstBtnCTA:yo,secondBtnCTA:To},l={showError:t,errMsg:Object(g.translateWithI18Next)(Eo),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(po),secondBtnText:Object(g.translateWithI18Next)(fo),firstBtnCTA:null===Vo||void 0===Vo?void 0:Vo[mo],secondBtnCTA:null===Vo||void 0===Vo?void 0:Vo[Co],firstBtnClassName:Do},n=Object(E.ad)((null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY,o,l);(null===Ot||void 0===Ot||!Ot.showError)&&jt(n),null!==o&&void 0!==o&&o.showError?(null===Dt||void 0===Dt||!Dt.showError)&&It(o):It({}),lt(!1)}),[null===Ot||void 0===Ot?void 0:Ot.showError,null===Dt||void 0===Dt?void 0:Dt.showError,yo,no,null===ct||void 0===ct?void 0:ct.length]),_o=async function(e,t){var o;let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];mt(e),xt(!0),ht(e),Object(N.e)(e);let n=[];try{n=await Object(R.geocodeByAddress)(e),!n.length&&Y(!1)}catch(d){console.error("Error occurred:",d),Y(!1)}const a=null===J.mf||void 0===J.mf?void 0:J.mf.some((t=>e.includes(t)));let i;if(Object(E.tf)(Z,n,Vt),Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY&&!l){var s;i=Lt;const e={longitude:i.lng.toString(),latitude:null===(s=i)||void 0===s?void 0:s.lat.toString()};localStorage.setItem(ae,JSON.stringify(e)),lt(!1)}else i=await Object(R.getLatLng)(n[0]);var r;null!==Kt&&void 0!==Kt&&Kt.clearDliveryTextFilter&&Z===Ee?null!==(r=Object(j.x)(n))&&void 0!==r&&r.long_name?(M({userLat:i.lat,userLong:i.lng}),Nt(i)):dt(!1):(M({userLat:i.lat,userLong:i.lng}),Nt(i));a&&(He(Object(_.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:Object(j.y)(e)})),ft(Object(j.y)(e)),He(Object(_.d)({key:Oe,value:t.replace("".concat(Object(j.y)(e),","),"")}))),He(Object(_.d)({key:ge,value:t})),He(Object(_.d)({key:he,value:null===(o=Object(j.x)(n))||void 0===o?void 0:o.long_name}))},wo=Object(l.useCallback)((async e=>{if(e.preventDefault(),re([]),Y(!0),Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY&&!nt){$e&&localStorage.setItem(ne,!1);const e=Ro;zo(e,Lt),_o(e,e)}else _o(nt,it)}),[no,ct,M,Z,it,nt]);Object(l.useEffect)((()=>{Ue===J.fb.TH&&null!==jo&&void 0!==jo&&jo.includes("address")&&_o(nt,it)}),[jo]);const ko=Object(l.useCallback)((async(e,t,o)=>{const l=!$e&&Object(j.o)(t,no,ct,e,Z);if(at(l),st(e),Boolean(!(null!==Ye&&void 0!==Ye&&Ye.changeFlow)||eo)&&ht(e),Boolean(!eo||Boolean(eo&&(null===Ye||void 0===Ye?void 0:Ye.changeFlow)))&&_o(l,e),Z===J.Jb.DELIVERY&&Pt&&t){const e=await Object(R.geocodeByAddress)(l),t=await Object(R.getLatLng)(e[0]);Nt(t),lt(o!==z.b)}}),[no,ct,M,Z,eo,null===Ye||void 0===Ye?void 0:Ye.changeFlow]),Fo=Object(l.useCallback)((()=>{eo&&lt(!1),dt(!1),bt(lo),ht(pt),Wt&&ft(pt.includes("/")?pt.split("/")[0]:""),Wt&&He(Object(_.c)({key:je}))}),[pt,lo,eo]),Bo=Object(l.useCallback)((e=>{Object(j.z)(e,Io,St,Ct,Be,ot,We,Je,Gt,Z)}),[St,ot,Io,Ct,We]),Mo=Object(l.useCallback)((()=>{tt(!1),bt(!1),We({type:ie,value:{showSearchStore:!0,configSearchScreen:z.c}}),localStorage.setItem(le,z.c),Bo(U),Boolean(we||ot||Zt)&&Xo(Pe),Boolean(we||ot||Zt)&&Xo(Pe),We({type:Re,value:{selectedDeliveryAddress:St,deliveryAddressLineVal:Ct}}),He(Object(_.d)({key:null===J.se||void 0===J.se?void 0:J.se.REORDER_FLAG,value:{isReorderFlow:!1}}))}),[U,Bo,We,eo]),Uo=Object(l.useCallback)((()=>{var e;We({type:ie,value:{showSearchStore:!0,configSearchScreen:z.a}}),localStorage.setItem(J.gd.CONFIG_SEARCH_SCREEN,z.a),ht(""),dt(!1),bt(!1),jt({}),tt(!1),It({}),Be(!1),(!eo||Pt)&&lt(!1),null===Pe||void 0===Pe||null===(e=Pe.current)||void 0===e||e.focus(),Tt(null),xt(!1),He(Object(_.c)({key:Oe})),He(Object(_.c)({key:be})),He(Object(_.c)({key:je})),He(Object(_.c)({key:Se})),ft(""),re([])}),[re,eo]),Po=Object(l.useCallback)((e=>{jt({}),It({}),dt(!1),bt(!1),eo&&e.trim()&&(st(e),at(e)),(null===Kt||void 0===Kt?void 0:Kt.clearDliveryTextFilter)&&We({type:ce,value:{showScheduleOrderCatering:!1,changeFlow:!1}}),e.trim()?ht(e):Uo(),Tt(null)}),[Uo,eo]),Vo=Object(l.useMemo)((()=>({focusInputBox:()=>{Pe.current.select(),jt({}),It({})},gotoMenuPage:()=>{Ve.push({pathname:Object(E.sc)(Z,Ht)}),We({type:ie,value:{showSearchStore:!1}})},switchToPickup:()=>{We({type:se,value:{dispositionType:J.Jb.PICKUP}}),We({type:ie,value:{showSearchStore:!0,configSearchScreen:z.a}}),localStorage.setItem(le,z.a),Uo()},openDeliveryAddressScreen:()=>{We({type:ie,value:{showSearchStore:!0,configSearchScreen:z.a}}),localStorage.setItem(le,z.a),We({type:se,value:{dispositionType:J.Jb.DELIVERY}}),Pe.current.select(),jt({}),It({})}})),[Ve,Uo,We]),Ho=Object(l.useCallback)((e=>{oo||Bo(e)}),[oo,Bo]),Jo=Object(l.useCallback)(((e,t,o,l,n)=>{if((null===e||void 0===e?void 0:e.length)>0)jt({}),It({}),dt(oo),Ho(e);else if(Object(E.Je)(null===n||void 0===n?void 0:n.length,St,(null===Z||void 0===Z?void 0:Z.toUpperCase())!==J.Jb.DELIVERY))jt({}),It({}),re(n);else{let e=Object(E.Je)(St!==pt,no,(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY),n={showError:Object(E.Je)(!o,no),errMsg:Object(g.translateWithI18Next)(Ce),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:Object(g.translateWithI18Next)(me),firstBtnCTA:yo,secondBtnCTA:To},a={showError:Object(E.Je)(!t,!o,l),errMsg:Object(g.translateWithI18Next)(Eo),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(po),secondBtnText:Object(g.translateWithI18Next)(fo),firstBtnCTA:null===Vo||void 0===Vo?void 0:Vo[mo],secondBtnCTA:null===Vo||void 0===Vo?void 0:Vo[Co],firstBtnClassName:Do};Object(j.W)(e,n,a,jt)}}),[Ho,Vo,ao,oo,St,Z]),{handleSelectAddress:Wo,onUseThisAddressHandler:Ko,callOnAddressConfirmHandler:Yo}=Object(N.a)({handleSelectAddressGlobal:ko,onUseThisAddressHandlerGlobal:Fo,onAddressSelectionGlobal:Jo}),Go=Object(l.useCallback)((async()=>{Object(j.Q)(),Object(L.o)();const e=await Object(N.b)(We,At);if(e){mt(p.b.address),ht(p.b.address),Object(N.e)(p.b.address),ut([{description:p.b.address}]);const{longitude:e,latitude:t}=p.b.coordinates;let o=await Object(R.geocodeByAddress)(p.b.address);Object(E.tf)(Z,o),M({userLat:t,userLong:e}),Nt({lat:t,lng:e}),xt(!0)}Object(j.s)(We,!e)}),[We,M,Z]),qo=Object(l.useCallback)((e=>{Object(j.e)(e,J.Uf,ut);const t=J.ge.includes(e);jt({showError:t,errMsg:Object(g.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:null,firstBtnCTA:yo,secondBtnCTA:null})}),[yo]);Object(l.useEffect)((()=>{if(Ge){(async()=>{await Go()})(),We({type:ve,value:{setLocationClicked:!1}})}}),[Ge]),Object(l.useEffect)((()=>{const e=(null===Ot||void 0===Ot?void 0:Ot.errMsg)===Object(g.translateWithI18Next)(fe);Object(j.D)(e,Te),e&&(Te=!0)}),[null===Ot||void 0===Ot?void 0:Ot.showError]),Object(l.useEffect)((()=>{const e=(null===St||void 0===St?void 0:St.length)>2&&eo;tt(e);const t=Object(E.d)(St,ue);Et(t)}),[St,eo]),Object(l.useEffect)((()=>{if(!we){var e,t;null===Pe||void 0===Pe||null===(e=Pe.current)||void 0===e||e.focus();const o=null===(t=localStorage)||void 0===t?void 0:t.getItem(oe);Object(j.c)(Ye,Ke,ct,ut,Wo,o,St)}lt(!1)}),[Ze,we]),Object(l.useEffect)((()=>{var e;Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY&&(lt(!0),Tt(null===Je||void 0===Je||null===(e=Je.scheduleOrderData)||void 0===e?void 0:e.storeId),_o(Ro,Ro,!0))}),[]),Object(l.useEffect)((()=>{Object(j.f)(We,qe)}),[We]),Object(l.useEffect)((()=>{eo?pt&&Yo(U,Ao,K,pt,_e):Yo(U,Ao,K,pt,_e)}),[U,Ao,pt,_e,K]);const zo=(e,t)=>{const o=Object(E.de)(window.innerWidth);var l,n;(Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY?(Po(Ro),ut([{description:Ro}])):(Po(e),ut([{description:e}])),Nt(t),o)?null===Pe||void 0===Pe||null===(l=Pe.current)||void 0===l||l.blur():null===Pe||void 0===Pe||null===(n=Pe.current)||void 0===n||n.focus();ot&&Xo(Pe)},Xo=e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)},Qo=Object(l.useCallback)((e=>{lt(!0),Be(!1),Tt(e)}),[]),Zo=Object(l.useCallback)((()=>{Be(ot),lt(!ot),Object(j.E)(ot,Z)}),[ot]),$o=Object(E.Je)(null===kt||void 0===kt?void 0:kt.length,wt,ho,!rt,!vt,!(null!==Ot&&void 0!==Ot&&Ot.showError)),el=!JSON.parse($e)&&Object(E.Je)(rt,null===ct||void 0===ct?void 0:ct.length,null===U||void 0===U?void 0:U.length);Object(l.useEffect)((()=>{el&&eo&&(null!==Ye&&void 0!==Ye&&Ye.changeFlow||Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY?Mo():Ko())}),[el,eo,null===Ye||void 0===Ye?void 0:Ye.changeFlow]);const tl=Object(E.Je)(null===Ot||void 0===Ot?void 0:Ot.showError,!Ao,St),ol=Object(E.Je)(qe,vo,!ot),ll=Object(j.T)(U,Ft,Jt,!Object(E.Je)(Me,!(null!==Ot&&void 0!==Ot&&Ot.showError)),so),nl=Object(E.Ke)(null===Ot||void 0===Ot?void 0:Ot.showError,ol,ze,el,tl,vt),al=Object(E.Je)(ro,(null===U||void 0===U?void 0:U.length)>0,!Ao,yt,!nl),il=Object(E.Je)(St,(null===U||void 0===U?void 0:U.length)>0,co,!Ao,yt,!nl),sl=Object(j.T)(U,Ft,Jt,Object(E.Je)(Me,!(null!==Ot&&void 0!==Ot&&Ot.showError)),so),rl=null!==Dt&&void 0!==Dt&&Dt.showError?[]:ll,dl=ot?null===ll||void 0===ll?void 0:ll.length:null===sl||void 0===sl?void 0:sl.length,cl=(Object(E.Ke)(ot,!vo),Object(E.Je)(dl,!ot,yt)),ul=Object(E.Ke)(nl,al,ot),vl=Object(E.Je)(we,!ul,!cl);return Object(s.jsx)("div",{className:we?"".concat(Object(E.ad)(ul,"findkfc-delivery-show-container","findkfc-delivery-hide-container")," ").concat(nl&&"findkfc-delivery-error-container"," ").concat(Object(E.ad)(ot,"mapview","listview")):"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(s.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(s.jsxs)("div",{id:"search-store-global-content",className:Object(j.u)(qe),children:[Object(s.jsx)(V.a,{show:ol,errorMsg:Object(j.G)(De,Ie),errImage:ee,cssClass:"location-blocked"}),Object(s.jsxs)("div",{className:Object(E.ad)(we,"findkfc-search-store-container","selectkfc-search-store-container"),children:[Object(s.jsx)(A.a,{loggedIn:wt,formContent:xe,storeSelection:de,useCurrentLocation:Go,hideLocationLink:!!de.hideUseMyLocationInStoresListScreen&&!vo,showLocationConfirmModal:qe}),Object(s.jsx)(I.a,{...e,storeSelection:de,history:Ve,inputOnChange:Po,address:St,showAutoSuggestion:gt,setSuggestedAddress:ut,handleSelectAddress:Wo,alreadySearched:N.c,onClearTextHandler:Uo,keyPress:xo,inputRef:Pe,onSearchError:qo,placeholder:Object(g.translateWithI18Next)(to),filteredTypes:jo,filterConditions:So,showConfirmBtn:eo,onClickHandler:wo,confirm:et,isAddressNotChangable:Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY}),Object(s.jsx)("div",{className:"".concat(Object(E.ad)(ze,"error-can-not-deliver","hide-error-container")),children:Object(s.jsx)(V.a,{show:ze,errorMsg:[Object(s.jsxs)("span",{className:"store-name",children:[Xe," "]}),Object(g.translateWithI18Next)(u.a.CAN_NOT_DELIVER_ERROR_MSG)],errImage:y.a.Error,cssClass:"error-sub-container"})}),!eo||ot||el||Me||tl?null:Object(s.jsx)("div",{className:"map-button-form",children:Object(s.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:To,children:[Object(s.jsx)("span",{className:"delivery-map-text",children:Object(g.translateWithI18Next)(Ae)}),Object(s.jsxs)(D.a,{className:"map-link",children:[Object(s.jsx)("span",{children:Object(s.jsx)(f.a,{"data-testid":"",srcFile:te,alt:" ",className:"map-img"})}),Object(g.translateWithI18Next)(Le)]})]})}),!eo&&Object(s.jsx)(B,{show:el,onRetryClickHandler:yo,address:pt,onUseThisAddressHandler:Ko,changeAddressErrorMsgStyle:Xt}),Object(s.jsx)(P,{show:vt,suggestedAddress:St,confirmDeliveryAddressLineHandler:Mo,onChangeDeliveryAddressLine:ft,deliveryAddressLineVal:Ct,shouldEnableConfirmButton:qt,apartmentDetailsRegex:zt}),Object(s.jsx)(H.a,{show:tl,errorObj:Ot}),Object(s.jsx)(W.a,{show:$o,savedAddresses:kt,handleSelectAddress:Wo}),Object(s.jsx)(G,{showKfcCount:al,kfcCount:dl,showMapLink:il,typeOfView:Object(j.X)(ot),toggleView:Zo,kfcStoresCountText:uo,isStoresLoading:K})]}),Object(s.jsxs)("div",{className:we?"".concat(Object(E.ad)(cl,"store-dynamic-card-container","store-no-card-container")):"selectkfc-card-container",children:[vl&&Object(s.jsx)(f.a,{srcFile:Fe?ke.mobileImage:ke.desktopImage,className:"findkfc-img"}),Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY?(e=>{var t;let{orderSummaryModalClose:o,eligibleStoresForList:l,loggedIn:n,onClickMapHandler:a,storeOpenBtnText:i,findAKFC:r,storeNumberFormat:d}=e;return Object(s.jsx)(s.Fragment,{children:o&&Vt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===J.Jb.DELIVERY&&(null===l||void 0===l||null===(t=l.filter((e=>{var t;return Object($.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)})))||void 0===t?void 0:t.map((e=>Object(s.jsx)(q.a,{store:e,loggedIn:n,onClickMapHandler:a,storeOpenBtnText:i,findAKFC:r,storeNumberFormat:d,isUberServiceableEnabled:Vt},null===e||void 0===e?void 0:e.id))))})})({orderSummaryModalClose:Qe,eligibleStoresForList:sl,loggedIn:wt,onClickMapHandler:Qo,storeOpenBtnText:Oo,findAKFC:we,storeNumberFormat:Yt}):ye({orderSummaryModalClose:Qe,eligibleStoresForList:sl,loggedIn:wt,onClickMapHandler:Qo,storeOpenBtnText:Oo,findAKFC:we,storeNumberFormat:Yt})]})]}),ot?Object(s.jsx)(Q.a,{eligibleStores:rl,defaultStoreId:Rt,loggedIn:wt,selectedCoords:Lt,passAddress:zo,configSearchKey:$t,useCurrentLocation:Go,showLocationConfirmModal:qe,findAKFC:we,favouriteStores:Ft,useLatLngForReverseGeocode:Ut,markerDragValue:!0,...Vt&&{zoomLevel:19}}):null]})})};const _e=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.filter((e=>{var t,o,l,n,a,i,s,r,d,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.menu)||void 0===i||null===(s=i.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(d=r.timings)||void 0===d||null===(c=d.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));if(t){return o.filter((e=>e.summary.status.currentStatus===(null===c.a||void 0===c.a?void 0:c.a.CLOSED))).length===(null===e||void 0===e?void 0:e.length)?[]:o}return o},we=e=>{var t,o,i,r,C,f,D,I;const{contentData:A={},onStoreSelectFinish:L,finAKFCContentData:N={},isMobile:R=!1}=e,{SEARCH_ORDER_DATA:T,DISPOSITION_DATA:y,ANALYTICS_LOCALISATION_SIGNIN:x,SET_ELIGIBLE_STORE:k,SET_FIND_A_KFC_VIEW:F,SET_REDIRECTION_PATH:B,REORDER_MODAL_OPEN:M,FROM_REORDER_MODAL_OPEN:U,REORDER_STORE_CHANGED:P,FAV_STORE_NOT_IN_RADIUS:V}=c.a,{DELIVERY:H,PICKUP:W}=J.Jb,K=Object(S.b)(),Y=Object(w.a)(),{FORMATTED_DELIVERY_ADDRESS:G,SELECTED_LINE_ADDRESS_VAL:q,SELECTED_FAV_ADDRESS:X,IS_FAV_ADDRESS_SELECTED:Q,STREET_NUMBER:$,TYPE_DELIVERY:ee}=u.a,{userOrderState:te,userOrderStateDispatch:oe}=Object(l.useContext)(a.a),{dispositionStateData:le,searchStoreData:ne,findAKFC:ae}=te,{dispositionType:ie=localStorage.getItem(J.gd.DISPOSITION_TYPE)}=Object(E.ud)(le),{storeSearch:se={},tenantId:re,countryCode:de=[],componentOptions:ce,storelocatormaxreturncount:ue=10,ispolygonrequired:ve,savedAddressPage:be,isUberServiceableEnabled:Oe}=Object(S.c)((e=>Object(E.sd)(e.tenantReducer))),je=Object(S.c)((e=>{var t;return null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading})),Se=null===ce||void 0===ce||null===(t=ce.web)||void 0===t||null===(o=t.storeSearch)||void 0===o?void 0:o.addPickupAndDropoffLatLngInStatusApi,{isSendEntireStoreAsPayloadInStatusApi:he=!1}=(null===ce||void 0===ce||null===(i=ce.web)||void 0===i?void 0:i.storeSearch)||{},ge=Object(w.b)(_.b),Ee=null!==(r=null===be||void 0===be?void 0:be.showAddressWithApartment)&&void 0!==r&&r,{storeSelection:pe,web:me={}}=ce,{shouldCheckDropOffAddress:Ce=!1}=me,fe=null===ce||void 0===ce||null===(C=ce.web)||void 0===C?void 0:C.dispositionConfig,De=null===ce||void 0===ce||null===(f=ce.web)||void 0===f||null===(D=f.dispositionConfig)||void 0===D?void 0:D.enableClickCollectScheduleOrder,{currentMarket:Ie=(null===de||void 0===de||null===(I=de[0])||void 0===I?void 0:I.toUpperCase()),storeCardLimit:Ae=ue,configSearchScreen:Le=localStorage.getItem(J.gd.CONFIG_SEARCH_SCREEN)}=ne,Ne="".concat(null===ie||void 0===ie?void 0:ie.toUpperCase(),"_").concat(Le),{modalHeaderTitle:Re,shouldShowDisposition:Te,shouldShowSearchStore:ye,shouldShowClosedStore:we}={...null===z.d||void 0===z.d?void 0:z.d[Ne],...null===fe||void 0===fe?void 0:fe[Ne]},{searchStoreModalContent:ke={}}=A,Fe=Re,{formContent:Be={},locationsContent:{storeData:Me=[]}}=ke,[Ue,Pe]=n.a.useState(!1),[Ve,He]=n.a.useState({}),[Je,We]=n.a.useState([]),[Ke,Ye]=n.a.useState([]),[Ge,qe]=n.a.useState([]),{maxDriveTimeMins:ze,distanceMetrics:Xe,maxDeliveryDistanceMtrs:Qe,maxPickupDistanceMtrs:Ze,maxCateringDistanceMtrs:$e,geohashprecision:et,boundingBoxSizeMeters:tt,shouldCallGoogleDistanceApi:ot,numOfStoresToShowDelivery:lt,boundingBoxSizeDivider:nt}=se,{allStores:at=[],storesUpdated:it}=Object(S.c)((e=>e.allStoresReducer))||{},[st,rt]=Object(l.useState)(!1),{storesWithStatus:dt,favoriteStoresWithStatus:ct}=Object(S.c)((e=>Object(E.sd)(e.storesReducer))),ut=e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(J.gd.SET_CART_CLEAR),localStorage.setItem(J.gd.RENDER_COMP,!0),oe({type:y,value:{showDisposition:!1}}),oe({type:T,value:{showSearchStore:!1}}),oe({type:B,value:{redirectionOrder:""}}),oe({type:M,value:{reorderModalOpen:!1}}),oe({type:U,value:{fromReorderFlag:!1}}),oe({type:P,value:{storeChanged:!1}}),oe({type:F,value:{findAKFC:window.location.pathname===J.Ce.FIND_STORE}}),Y(Object(_.c)({key:G})),Y(Object(_.c)({key:X})),!Ee&&Y(Object(_.c)({key:q})),Y(Object(_.c)({key:Q})),Y(Object(_.c)({key:$})),oe({type:V,value:{showNotInRadiusError:!1,notInRadiusRestaurant:""}})};Object(l.useEffect)((()=>{const e=e=>{27===e.keyCode&&ut(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const{favouriteStores:vt,savedAddresses:bt}=Object(S.c)((e=>e.profileReducer)),{localized:Ot=!1}=Object(S.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(l.useEffect)((()=>{Object(E.Je)(at.length>0,it)&&St(at)}),[at,it,null===vt||void 0===vt?void 0:vt.length,Ve]),Object(l.useEffect)((()=>{(null===dt||void 0===dt?void 0:dt.length)>0&&ie!==J.T?ft(dt):je||rt(!1)}),[ie,dt]),Object(l.useEffect)((()=>{const e=null===ct||void 0===ct?void 0:ct.sort(((e,t)=>{var o,l,n,a;return(null===e||void 0===e||null===(o=e.distance)||void 0===o||null===(l=o.distance)||void 0===l?void 0:l.value)-(null===t||void 0===t||null===(n=t.distance)||void 0===n||null===(a=n.distance)||void 0===a?void 0:a.value)}));qe(e)}),[ct]),Object(l.useEffect)((()=>{Object(E.Je)((null===ie||void 0===ie?void 0:ie.toUpperCase())===H,ot)&&ht(Ke)}),[Ke]),Object(l.useEffect)((()=>()=>{K(Object(O.u)())}),[ae,K]);const jt=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:tt/nt,geohashprecision:et},l=b.a.calculateGH(o);K(Object(O.v)(null===l||void 0===l?void 0:l.length))},St=e=>{const t=Object(E.Mb)(null===ie||void 0===ie?void 0:ie.toUpperCase());let o=e.filter((e=>{var t,o;return Object(E.qe)(e.id)&&Object(E.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(E.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}));Object(E.Jd)(ie)&&ve&&(o=Object(j.S)(o,Ve));const l={stores:o,disposition:t,distanceMetrics:Xe,driveTime:ze,distanceInMtrs:Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===H,Qe,Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===J.Jb.PICKUP,Ze,$e)),noOfStores:Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===H,lt,o.length),channel:p.b.channel},n=b.a.checkAndProceed(l);Ye(n),n&&((null===ie||void 0===ie?void 0:ie.toUpperCase())===H&&ot?ht(n):(he&&(null===n||void 0===n?void 0:n.length)>ue&&n.splice(ue),pt(n,t)))},ht=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,l;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(l=e.location)||void 0===l?void 0:l.longitude})})),Object(v.c)(t,[{lat:Ve.userLat,lng:Ve.userLong}],gt)},gt=e=>{let{allStoreDistance:t,originAddressText:o}=e;const l=Object(E.Mb)(ie.toUpperCase()),n={stores:Et(t,Ke),numberOfStores:Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===J.Jb.DELIVERY,lt,ue),disposition:l,distanceMetrics:Xe,driveTime:ze,distanceInMtrs:Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===H,Qe,Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===J.Jb.PICKUP,Ze,$e))},a=b.a.getSortedNearbyStores(n);(null===a||void 0===a?void 0:a.length)>0&&pt(a,l)},Et=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),pt=(e,t)=>{const o={data:Object(E.C)(e,t,null,Ce,null===ge||void 0===ge?void 0:ge.latLong),store:e,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};K(Object(O.d)(o))};Object(l.useEffect)((()=>{mt({userLat:Ve.userLat,userLong:Ve.userLong})}),[vt.length,Ve]);const mt=e=>{var t,o;const l=localStorage.getItem(J.gd.STORE_INFO),n=l&&void 0!==l&&JSON.parse(l),a=null!==bt&&void 0!==bt&&bt.length?bt.filter((e=>e.isPrimary)):[],i=n&&Ot?n:(null===a||void 0===a?void 0:a.length)&&a[0];Object(v.a)(null===i||void 0===i||null===(t=i.location)||void 0===t?void 0:t.latitude,null===i||void 0===i||null===(o=i.location)||void 0===o?void 0:o.longitude,vt,Ct)},Ct=e=>{const t=Object(E.ad)((null===ie||void 0===ie?void 0:ie.toUpperCase())===W,J.fe,ie),o=null===e||void 0===e?void 0:e.map((e=>{var t,o,l,n,a,i;return{availableServicesPerChannel:null===e||void 0===e?void 0:e.availableServicesPerChannel,distance:{distance:null===e||void 0===e?void 0:e.distance},duration:null===e||void 0===e?void 0:e.duration,id:null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id,name:null===e||void 0===e||null===(o=e.storeBasic)||void 0===o?void 0:o.dname,amenities:null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.amenities,addresses:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.address,additionalAttributes:null===e||void 0===e||null===(a=e.storeBasic)||void 0===a?void 0:a.additionalProperties,location:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.location}})),l={data:Object(E.C)(o,t,null,Ce,null===ge||void 0===ge?void 0:ge.latLong),store:o,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};!ae&&l.data.length&&K(Object(O.h)(l))},ft=e=>{const t=_e(e,De,we);We(t),rt(!1),oe({type:k,value:{eligibleStore:t}})},Dt=Object(s.jsx)(xe,{singInClickhandler:e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(x,JSON.stringify(!0)),Object(j.O)(),Object(m.c)()},formContent:Be,storeData:Me,isStoresLoading:st,setIsStoresLoading:rt,onStoreSelectFinish:L,eligibleStoreData:Je,storeCardLimit:Ae,userPositionHandler:e=>{K(Object(h.b)()),K(Object(O.u)()),Se&&Y(Object(_.d)({key:J.se.LAT_LONG,value:{lat:null===e||void 0===e?void 0:e.userLat,lng:null===e||void 0===e?void 0:e.userLong}})),He({userLat:e.userLat,userLong:e.userLong}),Je&&We([]),jt(e.userLat,e.userLong),setTimeout((()=>{K(Object(h.a)())}),2e3)},currentMarket:Ie,dispositionType:null===ie||void 0===ie?void 0:ie.toUpperCase(),seteligibleStoreData:We,storeSelection:pe,eligibleFavoriteStoreData:Ge,findAKFC:ae,finAKFCContentData:N,isMobile:R,setShowStores:Pe,showStores:Ue}),It=Object(s.jsx)(d,{handleClose:ut,orderModeTypeItem:Dt,headerText:Object(g.translateWithI18Next)(Fe),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),Pe(!1),Oe&&(null===ie||void 0===ie?void 0:ie.toUpperCase())===ee?(oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.ENABLE_ADDRESS_LOCALISATION,value:!0}),oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.SHOW_MAP_VIEW_BUTTON,value:!1})):(oe({type:y,value:{showDisposition:Te}}),oe({type:T,value:{showSearchStore:ye,configSearchScreen:z.a,searchedPlaceNonLocalized:null===ne||void 0===ne?void 0:ne.searchedPlaceNonLocalized}}))},modalTitleId:"search-store",className:"search-store-global-container ".concat(Object(E.hb)(Object(E.Hd)(ie),"catering-modal")),backDataTestId:"back-btn-global-modal-id"});return null!==te&&void 0!==te&&te.findAKFC?Dt:It};we.defaultProps=C.a;t.default=we}}]);