(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[100],{1033:function(e,t,i){"use strict";i.r(t);var l=i(3),n=i.n(l),o=i(62),a=i(28),s=i(41),r=i(46),d=i(85),c=i(5),u=i(1152),v=i(1157),O=i(1122),T=i(15),m=i(6),E=i(4),b=i(2);t.default=e=>{var t;const{contentData:i={},clickHandler:S=null,dispositionChange:N,activeDisposition:I,selectedInfo:j={},showBlackStripeContent:_=!0,headerTrackOrder:h}=e,{GoogleMapLocationImage:p,Clock:R}=T.a,{headline:D="",subHeadline:g=null,supportedDispositionsData:A=[],src:f="",alt:y,ariaLabel:x=""}=i;let C=Object(a.c)((e=>e.tenantReducer));const L=Object(o.h)(),{userOrderState:M}=Object(l.useContext)(d.a),{ORDER_TYPE_STORE_INFO_FROM:P,ORDER_TYPE_STORE_INFO_TO:H,ORDER_TYPE_STORE_INFO_AT:F,HOMEPATHSELECT:Y,HOMEPATH:W}=u.c,w=Object(c.Sd)(j.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):j.dispositionNew,B=w?w.type:"",U=w?w.store:{},k=w?w.date:"",G=w?w.time:"",J=w?w.interval:0,K=Object(c.sd)(null===w||void 0===w?void 0:w.store),V={date:k,time:G,interval:J},[q,z]=Object(l.useState)(!1),X="Delivery"===B?H:"Pickup"===B&&P||F;return Object(l.useEffect)((()=>{(null===L||void 0===L?void 0:L.pathname)===W||(null===L||void 0===L?void 0:L.pathname)===Y?z(!0):z(!1)}),[L,W,Y]),Object(b.jsxs)(n.a.Fragment,{children:[Object(c.Td)(U)&&_&&Object(b.jsx)("div",{className:"headerBottom content-ribbon","data-testid":"select-start-order-items",children:Object(b.jsxs)("div",{className:"headBottomParent content-parent",children:[Object(b.jsxs)("div",{className:"headBottomTxt content-text",children:[Object(b.jsxs)("div",{className:"store-location",children:[Object(b.jsx)("div",{children:Object(b.jsx)(r.a,{srcFile:p,alt:y||"location-icon",className:"content-location-img"})}),Object(b.jsx)("div",{className:"content-stroe-wrap",children:Object(b.jsxs)("span",{className:"content-store address",children:[Object(c.Kb)(B)," ",X,":"," ","delivery"===B.toLowerCase()?null===w||void 0===w?void 0:w.deliveryAddress:null===U||void 0===U||null===(t=U.summary)||void 0===t?void 0:t.name]})})]}),Object(b.jsxs)("div",{className:"content-time",children:[Object(b.jsx)("span",{children:Object(b.jsx)(r.a,{srcFile:R,alt:y||"location-icon",className:"content-clock-img"})}),Object(b.jsxs)("span",{className:"content-store",children:[" ",V&&Object(v.a)(V,K,C)]})]})]}),Object(b.jsx)(s.a,{className:"button transparent-btn white-border change-store-btn","aria-label":x||Object(m.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.CHANGE),onClickHandler:e=>{localStorage.setItem("modalSource","fromChangeStoreButton"),S(e,U)},id:"changeOrderItemButton","data-testid":"changeOrderItemButton",type:"submit",children:Object(b.jsx)("span",{children:Object(m.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.CHANGE)})})]})}),h&&h(),M.showLocationBlockBanner&&Object(O.e)(),q?Object(b.jsxs)("div",{className:"select-content-disposition",children:[Object(b.jsx)("div",{className:"stripes",children:Object(b.jsx)(r.a,{srcFile:f,alt:y||""})}),Object(b.jsx)("div",{className:"disposition-headline",children:D}),Object(b.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(b.jsx)("span",{children:g})}),Object(b.jsx)("div",{className:"disposition-btns mb-2",children:A.map((e=>{var t;return Object(b.jsx)(s.a,{className:I===(null===e||void 0===e||null===(t=e.dispositionType)||void 0===t?void 0:t.toUpperCase())?"button grayButton active-disposition":"button grayButton","data-testid":"disposition-change-btn",onClickHandler:t=>{var i;N(t,null===e||void 0===e||null===(i=e.dispositionType)||void 0===i?void 0:i.toUpperCase())},"aria-label":e.buttonText,children:e.buttonText},e.buttonText)}))})]}):null]})}},1122:function(e,t,i){"use strict";i.d(t,"b",(function(){return B})),i.d(t,"f",(function(){return U})),i.d(t,"i",(function(){return k})),i.d(t,"c",(function(){return G})),i.d(t,"j",(function(){return J})),i.d(t,"h",(function(){return q})),i.d(t,"d",(function(){return X})),i.d(t,"e",(function(){return Z})),i.d(t,"g",(function(){return $})),i.d(t,"a",(function(){return Q}));var l=i(16),n=i(106),o=i(92),a=i(270),s=i(6),r=i(46),d=i(24),c=i(0),u=i(5),v=i(15),O=i(2);const{Location_Error:T,errorIcon:m}=v.a,{TAKEAWAY_TITLE:E,TAKEAWAY_CONTENT:b,TAKEAWAY_TOAST_MSG:S,DINEIN_TITLE:N,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:j,NOSTORE_TITLE:_,NOSTORE_CONTENT:h,NOSTORE_TOAST_MSG:p,CLOSED_STORE_TITLE:R,CLOSED_STORE_CONTENT:D,LOCATION_ALERT_MSG:g,CLOSED_STORE_TOAST_MSG:A}=a.b,{DINE_IN:f,DISTANCE_20000MR:y,START_ORDER_BUTTON:x,BROWSE_MENU_BUTTON:C}=a.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:M="",SCHEDULE_ORDER_TIME_DATA:P="",SET_DISPOSITION:H,USER_LOCALIZED:F,CURRENT_STORE_INFO:Y,SCHEDULE_ORDER_TIME_PRESERVE_TIME:W,SET_FORCERELOAD:w}=l.a,B=(e,t,i,l,n,o)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?o(e):n(e,t):null!==e&&void 0!==e&&e.length||l(t,i)},U=function(e,t,i,l,n,o,a,s,r,u,v,O){var T;let m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:E,maxDriveTimeMins:b,geoLocation:S}=m;let N=e.filter((e=>{var t,i,l,n,o,a,s,r,d,c,u,v,O,T;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(a=o.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(r=s.menu)||void 0===r||null===(d=r.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(T=O.timings)||void 0===T?void 0:T.asap)}));if((null===(T=N)||void 0===T?void 0:T.length)>0){if(E&&o===c.yb){const e={stores:N,numberOfStores:2,disposition:o,distanceMetrics:n,driveTime:b,channel:d.b.channel,isDriveTimeFromAdminPortal:E},t=null===S||void 0===S?void 0:S.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(o,n);N=t}if(s){var I=JSON.parse(localStorage.getItem(c.Hb));I&&(N[0].id!==I.store.id||N[0].service!==I.type?(r(!0),i(!1),v(N[0])):i(!1))}else t(N[0])}else O(!0),u(o,n)},k=(e,t,i,l,n,o)=>{var a,s;t({type:H,value:{oldvalue:e,newValue:{type:l,store:n,date:o.date,time:o.time,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:null===i||void 0===i||null===(a=i.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:l,store:n,date:o.date,time:o.time,selectedTime:o.selectedTime,interval:o.interval,deliveryAddress:null===i||void 0===i||null===(s=i.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:F,value:{isLocalized:!0}})},G=(e,t,i,n)=>{const{SCHEDULE_ORDER_DATA:o,DISPOSITION_METHOD:a}=l.a,{DISPOSITION_TYPE:s,DISPOSITION_NEW:r,CURRENT_STORE_INFO_STORAGE:d,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:O,SAVED_TIME_ORDER:T}=c.gd;let m={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:H,value:{oldvalue:m,newValue:m}}),localStorage.removeItem(v),localStorage.removeItem(r),e({type:P,value:{selectedDateTime:{}}}),e({type:W,value:{}}),localStorage.removeItem(O),localStorage.removeItem(T),i(t({...n,localized:!1})),e({type:F,value:{isLocalized:!1}}),e({type:o,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:a,value:{dispositionType:""}}),localStorage.removeItem(s),localStorage.removeItem(u),localStorage.removeItem(d),e({type:Y,value:{}})},J=(e,t,i,l,n)=>{e({type:M,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(l)),e({type:Y,value:l}),e({type:P,value:{selectedDateTime:i}}),e({type:W,value:{selectContentTime:"ASAP"}}),e({type:w,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(n)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(l)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP")},K=(e,t,i,l)=>{let n="";return e?n=l===f?Object(s.translateWithI18Next)(N):Object(s.translateWithI18Next)(E):i?n=Object(s.translateWithI18Next)(_):t&&(n=Object(s.translateWithI18Next)(R)),n},V=(e,t,i,l)=>{let n="";return e?n=l===f?Object(s.translateWithI18Next)(I):Object(s.translateWithI18Next)(b):i?n=Object(s.translateWithI18Next)(h):t&&(n=Object(s.translateWithI18Next)(D)),n},q=(e,t,i,l,n,o,a,r)=>{let d="";return e?(o(!1),d=l===f?Object(s.translateWithI18Next)(j):Object(s.translateWithI18Next)(S)):i?(a(!1),d=Object(s.translateWithI18Next)(p)):t&&(r(!1),d="".concat(Object(s.translateWithI18Next)(A)," ").concat(z(null===n||void 0===n?void 0:n.from)," to ").concat(z(null===n||void 0===n?void 0:n.to))),d},z=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function X(e,t,i,l,a,s,r,d,c,u,v){const m={HEADER_MSG:{MSGTXT1:K(i,l,a,s)},CONTENT_MSG:V(i,l,a,s)};return(i||l||a)&&Object(O.jsx)(n.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(O.jsx)(o.a,{splitTitle:m.HEADER_MSG,contentMsg:m.CONTENT_MSG,imageSrc:T,altText:"location-error",confirmButtonText:C,cancelButtonText:i?x:null,cancelHandler:i?t:null,confirmHandler:()=>{e(l,a)}})})}const Z=()=>Object(O.jsx)("div",{className:"location-notification col-6",children:Object(O.jsxs)("div",{className:"notify-alert",children:[Object(O.jsx)(r.a,{srcFile:m,className:"location-alert-icon"}),Object(O.jsx)("span",{children:Object(s.translateWithI18Next)(g)})]})}),$=async()=>(await d.b.BindLocation(),d.b.address&&d.b.coordinates),Q=e=>e.filter((e=>{var t,i;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)}))},1152:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return n}));const l="outOfService",n="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1157:function(e,t,i){"use strict";i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return v}));var l=i(12),n=i(1152),o=i(6),a=i(5),s=i(120),r=i(21),d=i(0);const c=e=>{var t,i,l,n,o,a,s,r;const{url:d=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(i=t.fields)||void 0===i||null===(l=i.desktopImage)||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(o=e.headline[0])||void 0===o||null===(a=o.fields)||void 0===a||null===(s=a.desktopImage)||void 0===s?void 0:s.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(r=e.headline[1])||void 0===r?void 0:r.fields)||{},{supportedDispositions:O=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:O.map((e=>e.fields)),src:d,alt:c}},u=(e,t,i)=>{var r,d,c,u,v;const O=(null===t||void 0===t||null===(r=t.summary)||void 0===r||null===(d=r.status)||void 0===d?void 0:d.currentStatus)||n.a,{futureDates:T,scheduled:m,asap:E}=Object(a.sd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:b}=Object(a.sd)(m),{interval:S=0,startEndTime:N={}}=Object(a.sd)((null===m||void 0===m||null===(u=m.periods)||void 0===u?void 0:u.length)&&(null===m||void 0===m?void 0:m.periods[0])),{from:I,to:j}=Object(a.sd)(N);let _=Object(s.j)(I,j,S,null===E||void 0===E?void 0:E.isAvailable,1===(null===T||void 0===T?void 0:T.length)&&"INDIA"===(null===i||void 0===i||null===(v=i.country)||void 0===v?void 0:v.toUpperCase()),b);if(O===n.a&&!_.length||null===e||void 0===e||!e.time)return Object(o.translateWithI18Next)(n.b);const h=e.time,p=e.interval,R="object"==typeof e.date?e.date:new Date(e.date),D=Object(l.R)(Object(l.h)(R,"YYYY-MM-DD")+" "+h,"YYYY-MM-DD hh:mm A"),g=Object(l.a)(D,p,"minutes"),A=Object(l.k)(g,"LT");return"ASAP"===h?"".concat(h):"".concat(h," - ").concat(A)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await r.a.registerEvent(void 0,{data:t[0]},a.Bb)},{ORDER_TYPE_STORE_INFO_FROM:O,ORDER_TYPE_STORE_INFO_TO:T,ORDER_TYPE_STORE_INFO_AT:m}=n.c,{DELIVERY:E,DINE_IN:b,PICKUP:S}=d.Jb||{}}}]);