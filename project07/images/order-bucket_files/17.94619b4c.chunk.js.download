(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[17,0,1,8,9,26,91,112],{1095:function(e,t,o){"use strict";o.d(t,"j",(function(){return C})),o.d(t,"k",(function(){return E})),o.d(t,"l",(function(){return T})),o.d(t,"m",(function(){return w})),o.d(t,"e",(function(){return F})),o.d(t,"o",(function(){return H})),o.d(t,"p",(function(){return U})),o.d(t,"n",(function(){return B})),o.d(t,"q",(function(){return W})),o.d(t,"x",(function(){return G})),o.d(t,"u",(function(){return V})),o.d(t,"v",(function(){return Y})),o.d(t,"w",(function(){return z})),o.d(t,"K",(function(){return Q})),o.d(t,"I",(function(){return X})),o.d(t,"J",(function(){return Z})),o.d(t,"D",(function(){return $})),o.d(t,"E",(function(){return ee})),o.d(t,"f",(function(){return te})),o.d(t,"g",(function(){return oe})),o.d(t,"G",(function(){return ae})),o.d(t,"y",(function(){return ie})),o.d(t,"z",(function(){return le})),o.d(t,"H",(function(){return ne})),o.d(t,"L",(function(){return ce})),o.d(t,"s",(function(){return re})),o.d(t,"b",(function(){return se})),o.d(t,"d",(function(){return ue})),o.d(t,"c",(function(){return ve})),o.d(t,"C",(function(){return me})),o.d(t,"a",(function(){return Oe})),o.d(t,"A",(function(){return be})),o.d(t,"B",(function(){return je})),o.d(t,"F",(function(){return pe})),o.d(t,"i",(function(){return he})),o.d(t,"h",(function(){return ge})),o.d(t,"t",(function(){return Ie})),o.d(t,"r",(function(){return Ne}));var a=o(6),i=o(5),l=(o(1123),o(61)),n=o(262),d=o(0),c=o(4),r=o(1149),s=o(263),u=o(15),v=o(59),m=o(1102),O=o.n(m),b=o(12),j=o(403),p=o(55),h=o(1128),g=o(1165),I=o(1188),S=o.n(I),N=o(2);const C=(e,t,o,a,l,n)=>{let c;if(o){var r,s,u,v,m;const o=null===n||void 0===n?void 0:n[d.gd.VIEW_PRODUCT],c=[E(null===o||void 0===o||null===(r=o.priceDetails)||void 0===r||null===(s=r.find((e=>(null===e||void 0===e?void 0:e.id)===a)))||void 0===s?void 0:s.availability,l)],O=(null===c||void 0===c||null===(u=c[0])||void 0===u?void 0:u.promoPrice)<(null===c||void 0===c||null===(v=c[0])||void 0===v?void 0:v.price)?null===c||void 0===c||null===(m=c[0])||void 0===m?void 0:m.promoPrice:0,b=O?{...null===c||void 0===c?void 0:c[0],price:O}:e;return Object(i.Ec)(b,t,l)||0}return Object(i.Td)(e)&&(c=Object(i.Ec)(e,t,l)||0),c},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=0,a="",l="";if(t||(t=Object(i.Vc)()),e.length>1){const c=Object(i.E)(t),r=t&&Object(b.E)(t,d.Rf);return e.forEach((e=>{const{price:t=0,availableHours:i={},dayOfWeek:{day:n=""}}=e,{startTime:s={},endTime:u={}}=i,v=parseInt(s.time,10),m=parseInt(u.time,10),O=((e,t,o,a,i)=>e>=t&&e<=o&&a>i||o<t&&e<o)(c,v,m,t,o);a=n,l=O,n===d.cc?(v<m&&O||v>m&&(c>=v||c<=m)&&t>o)&&(o=t):n===r&&O&&(o=t)})),a===d.cc?l?e[1]:e[0]:O()(e,[n.a.DAY_OF_WEEK,{day:null===r||void 0===r?void 0:r.toUpperCase()}])}return e[0]},T=(e,t,o,a,l,d,c,r,s)=>{const{id:u,name:v,modgrps:m,availability:O=[]}=Object(i.Pb)(JSON.parse(JSON.stringify(e))),b=l?E(O,l):O[0];let j=null!==d&&void 0!==d&&d.foodLineId&&f(null===d||void 0===d?void 0:d.foodLineId,c,u)&&!a?x(null===d||void 0===d?void 0:d.foodLineId,c):Math.round(C(b,o,a,u,l,r)*o);var p;Object(i.pc)(null===e||void 0===e?void 0:e.modgrps)&&(null===d||void 0===d?void 0:d.flag)!==n.a.CUSTOMISE_FLAG_CART&&s&&(null===e||void 0===e||null===(p=e.modgrps)||void 0===p||p.map((e=>{var t;const o=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));if(Object(i.pc)(o)){var a,l,n,d;let e=null!==(a=null===(l=o[0])||void 0===l||null===(n=l.availability)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.price)&&void 0!==a?a:0;j+=e}})));return{id:u,quantity:null!==t&&void 0!==t?t:0,name:v,basePrice:j,newBasePrice:j,unitPrice:t?j*t:0,modGrps:R(m,o,u)}},f=(e,t,o)=>{var a,i;let l=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:o}=t;return o===e}));return(null===l||void 0===l||null===(i=l.item)||void 0===i?void 0:i.id)===o},x=(e,t)=>{var o;let a=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((t=>{let{id:o}=t;return o===e}));if(a)return null===a||void 0===a?void 0:a.unitPrice},D=(e,t)=>{e&&null!==t&&void 0!==t&&t.custom&&(t.isDefault=!1,t.quantity=0)},A=e=>{var t;let o=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));return(null===o||void 0===o?void 0:o.length)>1},y=e=>null!==e&&void 0!==e&&e.isInitialDefault?e.isInitialDefault:e.isDefault,_=(e,t,o)=>{var a,i;let l=null===e||void 0===e?void 0:e.filter((e=>{let{id:o}=e;return o===t}));return null===l||void 0===l||null===(a=l[0])||void 0===a||null===(i=a.modifiers)||void 0===i?void 0:i.filter((e=>{let{id:t}=e;return t===o}))},R=(e,t,o)=>{let a={};return null===e||void 0===e||e.forEach(((e,i)=>a[e.id]={id:e.id,name:e.name,parentId:o,modifiers:P(e.modifiers,t,"".concat(o).concat(n.a.HASH_SYMBOL).concat(e.id)),orderIndex:i,min:e.min})),a},L=e=>null!==e&&void 0!==e&&e.quantity?null===e||void 0===e?void 0:e.quantity:null!==e&&void 0!==e&&e.isDefault?null===e||void 0===e?void 0:e.defaultQuantity:0,P=(e,t,o)=>{let a={};return e.forEach((e=>{let l=+Math.round(Object(i.Ec)(e.availability[0],t)*t);a[e.id]={id:e.id,parentId:o,name:e.name,dname:e.dname,quantity:L(e),isSelected:e.isDefault,modGrps:Object(i.pc)(e.modgrps)?R(e.modgrps,t,"".concat(o).concat(n.a.HASH_SYMBOL).concat(e.id)):{},basePrice:l,unitPrice:e.isDefault?e.defaultQuantity*l:0,newQuantity:null,newUnitPrice:null,newSelectedFlag:null,isDefault:e.isAdded?"":e.isDefault,defaultQuantity:e.defaultQuantity,isEditConfirmed:!!e.isEditConfirmed&&e.isEditConfirmed,isExcluded:e.isExcluded,isInitialDefault:null===e||void 0===e?void 0:e.isInitialDefault}})),a},w=e=>{let{id:t,quantity:o}=e;return{id:t,quantity:o,modGrps:M(e.modGrps)}},M=e=>Object.values(e).filter((e=>Object.keys(e.modifiers).length>0)).map((e=>{let{id:t,name:o,orderIndex:a}=e;return{id:t,name:o,modifiers:k(e.modifiers),orderIndex:a}})).sort(((e,t)=>+e.orderIndex-+t.orderIndex)),k=e=>Object.values(e).filter((e=>e.quantity>0&&!e.isExcluded)).map((e=>{let{id:t,name:o,quantity:a,modGrps:i}=e;return{id:t,name:o,quantity:a,modGrps:Object.keys(i).length>0?M(i):[]}})),F=(e,t,o,i)=>{var l,n;const r=e+1,s=null===i||void 0===i?void 0:i[d.gd.PROMO_PRODUCT_CART],m=(null===o||void 0===o?void 0:o.id)||(null===o||void 0===o?void 0:o.foodItemId);var O;if(r===(null!==o&&void 0!==o&&o.maxQuantity?+(null===o||void 0===o?void 0:o.maxQuantity):+(null===s||void 0===s||null===(l=s.promoParams)||void 0===l||null===(n=l.find((e=>(null===e||void 0===e?void 0:e.itemId)===m)))||void 0===n?void 0:n.maxQuantity))&&t)return Object(v.b)(Object(N.jsxs)("div",{"data-testid":"validate-toast",className:"img-text-container",children:[Object(N.jsx)("div",{className:"image",children:Object(N.jsx)(j.a,{srcFile:u.a.ErrorImage})}),Object(N.jsx)("span",{className:"text",children:Object(a.translateWithI18Next)(c.a.MAX_ORDER_PROMO)})]}),{bodyClassName:"pdp-promo-toast",className:"pdp-promo-toast-container err-toast",hideProgressBar:!0,position:null===v.b||void 0===v.b||null===(O=v.b.POSITION)||void 0===O?void 0:O.BOTTOM_CENTER,closeButton:!1,autoClose:!0})},H=(e,t,o,a)=>{if(e){var i,l;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(l=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.maxQuantity);return e||a}return a},U=(e,t,o,a)=>{if(e){var i,l;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(l=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.minQuantity);return e||a}return a},B=(e,t,o,a)=>{if(e){var i,l;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(l=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===o)))||void 0===l?void 0:l.quantity);return e||a}return a},W=(e,t)=>{const o=t.includes(n.a.HASH_SYMBOL)?t.split(n.a.HASH_SYMBOL):[t];if(Object(i.pc)(o)&&0!==(null===e||void 0===e?void 0:e.length)&&Object(i.pc)(Object.keys(null===e||void 0===e?void 0:e.modGrps))){let t=e;return o.forEach(((e,o)=>{var a,i;o%2===0?t=null===(a=t)||void 0===a?void 0:a.modGrps[e]:t=null===(i=t)||void 0===i?void 0:i.modifiers[e]})),t}return!1},G=(e,t)=>{let o=W(e,t);return Object(i.Td)(o)?null===o.newQuantity&&o.quantity||o.newQuantity:null},V=(e,t)=>{let o=W(e,t);return Object(i.Td)(o)?null===o.newSelectedFlag?o.isSelected:o.newSelectedFlag:null},Y=(e,t)=>{let o=W(e,t);return Object(i.Td)(o)?o.isEditConfirmed:null},z=(e,t,o)=>{let a=W(e,t);return Object(i.Td)(a)?q(a,o):0},q=(e,t)=>{let o=K(e.modGrps,[e]);return 0===o.length?0:o.filter((t=>!0===((null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.isSelected)))).reduce(((o,a)=>{let i=(null===a||void 0===a?void 0:a.id)===(null===e||void 0===e?void 0:e.id)?t:null===e||void 0===e?void 0:e.quantity;return o+(null===a||void 0===a?void 0:a.basePrice)*i}),0)},K=(e,t)=>{let o=[];return Object(i.Td)(e)&&(o=Object.values(e).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})),o.forEach((e=>(t.push(e),Object(i.Td)(e.modGrps)?K(e.modGrps,t):K({},t))))),t},J=(e,t,o,a)=>{const l=t.split(n.a.HASH_SYMBOL),{quantityKey:d,unitPriceKey:c,isSelectedKey:r}=a,s=W(e,t);if(Object(i.pc)(l)&&e&&Object(i.pc)(Object.keys(e.modGrps))){let t=null;switch(l.length){case 2:t=e.modGrps[l[0]].modifiers[l[1]];break;case 4:t=e.modGrps[l[0]].modifiers[l[1]].modGrps[l[2]].modifiers[l[3]]}t[d]=o,t[c]=o?o*s.basePrice:s.basePrice,t[r]=!!o}return e},Q=(e,t,o)=>J(e,t,o,{quantityKey:"newQuantity",unitPriceKey:"newUnitPrice",isSelectedKey:"newSelectedFlag"}),X=(e,t,o)=>J(e,t,o,{quantityKey:"quantity",unitPriceKey:"unitPrice",isSelectedKey:"isSelected"}),Z=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),a=e.modGrps[o[0]].modifiers[o[1]];let l=!1;return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{let t=Object(i.ad)(e.isInitialDefault,e.defaultQuantity,0);(Object(i.j)([null!==e.newQuantity,e.newQuantity!==e.quantity,e.newQuantity!==t])||Object(i.hb)(null==e.newQuantity,e.quantity!==t)||Object(i.j)([null!==e.newQuantity,e.newQuantity===e.quantity,e.newQuantity!==t]))&&(l=!0),null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&e.newQuantity!==e.quantity&&(e.quantity=e.newQuantity,e.unitPrice=e.newUnitPrice,e.isSelected=e.newSelectedFlag)})),a.isEditConfirmed=l,e.basePrice=e.newBasePrice,e.unitPrice=e.newBasePrice*e.quantity,e},$=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),a=e.modGrps[o[0]].modifiers[o[1]];return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&(e.newQuantity=e.newUnitPrice=e.newSelectedFlag=null)})),e.newBasePrice=e.basePrice,e},ee=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),a=e.modGrps[o[0]].modifiers[o[1]];if(Object(i.pc)(Object.values(a.modGrps))){Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{e.isSelected=e.isDefault,e.quantity=e.isDefault?e.defaultQuantity:0,e.unitPrice=e.isDefault?e.defaultQuantity*e.basePrice:0})),a.isEditConfirmed=!1}return e},te=(e,t)=>{const o=t.split(n.a.HASH_SYMBOL),a=e.modGrps[o[0]].modifiers[o[1]];return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).some((e=>null!==e.newQuantity&&e.newQuantity!==e.quantity))},oe=(e,t)=>{var o;const a=null===t||void 0===t||null===(o=t.modGrps)||void 0===o?void 0:o[e];if(Object(i.Td)(a)){return Object.values(a.modifiers).some((e=>e.isInitialDefault&&!e.isSelected||e.isSelected&&e.isEditConfirmed))}return!1},ae=(e,t,o)=>{let{price:a,flag:i}=t;const{BASEPRICE:d,NEWBASEPRICE:c}=n.a,{QUANTITY_ACTION:r}=l.a;let s=o?c:d,u=e[s],v=i===r.Increase?u+a:u-a,m={...e,[s]:v,unitPrice:s===d?e.quantity*v:e.unitPrice};return s===d&&(m.newBasePrice=v),m},ie=(e,t,o,l,n,r)=>{var s,v,m;const O=null===r||void 0===r||null===(s=r.componentOptions)||void 0===s||null===(v=s.web)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.showNoWordWhenModifierOutOfStock,{NO:b}=c.a;let p=W(e,t);if(p&&Object(i.pc)(Object.keys(p))){const e=Object.values(null===p||void 0===p?void 0:p.modifiers);let t=l?e:(e=>e.filter((e=>(null===(null===e||void 0===e?void 0:e.newQuantity)?null===e||void 0===e?void 0:e.quantity:null===e||void 0===e?void 0:e.newQuantity)>=1)))(e),i=[];return t.map(((e,t)=>{let{name:c,quantity:r,newQuantity:s,basePrice:v,newUnitPrice:m,isExcluded:p}=e,h=null!==s?s:r,g=null!==m?m:v*h;return h>0?null===i||void 0===i||i.push(t):i.filter((e=>e!==t)),Object(N.jsxs)("span",{children:[(null===i||void 0===i?void 0:i.length)>1&&!!h&&Object(N.jsx)("span",{children:","})," ",p&&Object(N.jsxs)("span",{children:[Object(N.jsx)(j.a,{srcFile:u.a.Error_Yellow,className:"location-alert-icon mr-1"}),O&&"".concat(Object(a.translateWithI18Next)(b))," ",c," ",O&&"(-)"]}),!p&&Object(N.jsxs)(N.Fragment,{children:[h>1&&Object(N.jsxs)("span",{children:[" ",h,"x "]}),h>0&&c,0!==g&&h>0&&Object(N.jsxs)("span",{children:[" ","(+ ",n+(g/o).toFixed(d.gg),")"]}),0===h&&!!r&&l&&Object(N.jsxs)("span",{children:[O&&"".concat(Object(a.translateWithI18Next)(b))," ",c," ",O&&"(-)"," "]})]})]})}))}},le=function(e,t,o,l){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const{INEXTRAS:c}=n.a;let r=W(e,t);if(r&&Object(i.Td)(r)&&Object(i.Td)(null===r||void 0===r?void 0:r.modGrps)){let e=Object.values(null===r||void 0===r?void 0:r.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).filter((e=>e.quantity>0)).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.basePrice)*(null===t||void 0===t?void 0:t.quantity)}),0);return 0!==e&&" (+ ".concat(l).concat((e/o).toFixed(d)," ").concat(Object(a.translateWithI18Next)(c),")")}return 0!==r.basePrice&&"(+ ".concat(l).concat((r.basePrice*r.quantity/o).toFixed(d),")")},ne=e=>{var t;let{pdpPayloadData:o,forModal:a,modgrps:n,getPayloadUpdated:d,modifierPrice:c,isL3Custom:r,getUpdatedPrice:s,userOrderState:u,flag:v}=e;const{QUANTITY_ACTION:m}=l.a;let O=null===u||void 0===u||null===(t=u.sopacPDPCustomization)||void 0===t?void 0:t.updatedPrice;return Object(i.Td)(o)&&!a&&(Object(i.pc)(n)||(d=ae(o,{price:c,flag:v},r)),r&&(s=v===m.Decrease?O-c:O+c)),{getPayloadUpdated:d,getUpdatedPrice:s}},de=(e,t)=>S()(t)?{valueToDisplay:e,valueToCount:t}:{valueToDisplay:e,valueToCount:e},ce=(e,t)=>{const{modgrpMax:o,modgrpMin:a,modifierMax:l,modifierMin:n,modgrpCount:d,itemCount:c,SET_PDP_BUTTON_DISABLED:s,userOrderStateDispatch:u,userOrderState:v,modgrpId:m,pdpCateringItemQuantityLimit:O}=t;let b=Number(e.target.value),j=e.target.value;if(!isNaN(b)&&S()(b)){if(Object(i.hb)(""===j,o))return Object(r.b)(d-c,a,s,u,v,m),de(j,n);if(""===j)return de(j);if(j=+j,j>O)return de(!1);if(void 0!==o){let e=d-c+j,t=o-e,n=l-j;if(t<0){let t=o-d+c;Object(r.b)(e,a,s,u,v,m);let n=Object(i.ad)(t<=l,t,l);return de(n)}if(t>=0)return Object(r.b)(e,a,s,u,v,m),de(n>=0?j:l)}return de(j)}return de(!1)},re=e=>Object(i.ad)(Object(i.Hd)(e),"","retail-item-qty"),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.pc)(e)?null===e||void 0===e?void 0:e.map(((o,l)=>{var n;let c;return c=t&&o.url===d.Vd.COUPON?d.Ce.PROMOS_REWARDS_PAGE:Object(i.ad)(0===l,"/".concat(o.url),"/".concat(e[0].url,"/").concat(o.url)),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.a,{"data-testid":"pdp-links-".concat(o.text),className:"pdp-anchor-link",href:c,children:Object(a.translateWithI18Next)(null===o||void 0===o||null===(n=o.text)||void 0===n?void 0:n.toLowerCase())}),Object(N.jsx)("span",{children:Object(i.ad)(l===e.length-1,""," > ")})]})})):Object(N.jsx)(N.Fragment,{})},ue=(e,t)=>{var o;let a=!1;const l=null===t||void 0===t||null===(o=t.modGrps)||void 0===o?void 0:o[e];if(Object(i.Td)(l)){const e=Object.values(null===l||void 0===l?void 0:l.modifiers);a=(null===l||void 0===l?void 0:l.min)>0&&(e.some((e=>e.isSelected&&(null===e||void 0===e?void 0:e.isExcluded)))||e.every((e=>!e.isSelected)))}return a},ve=e=>{let t=!1,o=null===e||void 0===e?void 0:e.modGrps;for(let n in o){var a,i;if(t=ue(null===(a=o[n])||void 0===a?void 0:a.id,e),t)return!0;let d=null===(i=o[n])||void 0===i?void 0:i.modifiers;for(let e in d){var l;if(null!==d&&void 0!==d&&null!==(l=d[e])&&void 0!==l&&l.isSelected&&(t=ve(null===d||void 0===d?void 0:d[e]),t))return!0}}return t},me=(e,t)=>{e?Object(i.Re)({history:t}):Object(i.Ze)({history:t})},Oe=function(e,t,o,a,i,l){let n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";null!==t&&void 0!==t&&t.id&&e&&Object(p.f)(o,a,null===t||void 0===t?void 0:t.totalAmount,i,n,l)},be=e=>{const{modgrpMax:t,selectedProduct:o,modgrpMin:a,name:l,size:n,location:d,setInitialRender:c,savedModifierHandler:r,setSelectedProduct:s,cardData:u,savedModifiers:v,userOrderState:m,userOrderStateDispatch:O,modGrpName:b,pdpPayloadData:j,objPath:p,isModal:g}=e;if(Object(i.jb)(Object(i.hb)(1===t,!o),0===a)){let e={name:l,size:n},I=Object(i.Ab)(d.pathname),S={analyticsObjectData:e,currLocationInfo:I};c(!1),Object(h.c)(e,I,S,a,t,o,r,s,u,v,m,O,b,j,p,g,!1)}},je=(e,t,o)=>{e.preventDefault();let a=ce(e,{pdpCateringItemQuantityLimit:t}).valueToCount;!1!==a&&o(a);const i=e.target.selectionStart,l=e.target;window.requestAnimationFrame((()=>{l.selectionStart=i,l.selectionEnd=i}))},pe=e=>{const{productDetails:t,currentItemObject:o,prodURL:a,product_name:l,pdpDataForUpdateFoodLine:d,cartData:c,prodName:r,prodItems:s,pdpPromoPage:u,setPdpData:v,userOrderStateDispatch:m,setMakeItAComboData:O,setRecommendationData:b,setAddOnRecommendedData:j,setCurrentPDPProduct:p,setProdQuantity:h,setRuleName:I,getPWAstorageData:S}=e,{UPSELL:N,CROSSELL:C,PDP_ITEM_CUSTOM_TYPE:E,SET_PDP_BUTTON_DISABLED:T,ADDONS:f}=n.a;if(Object(i.j)([Object(i.Td)(t),Object(i.Td)(o),a===l,(null===t||void 0===t?void 0:t.productId)===(null===o||void 0===o?void 0:o.id)])){var x,R,L;const{additionalProperties:e}=o,a=Object(i.ve)(e)||{},l=((e,t,o)=>{var a,i;let l=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:o}=t;return o===e})),n=null===l||void 0===l||null===(i=l.item)||void 0===i?void 0:i.modGrps;return null===o||void 0===o||o.forEach(((e,t)=>{var a,i,l;null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.forEach(((a,i)=>{let l=_(n,e.id,a.id);var d,c;(null===l||void 0===l?void 0:l.length)>0&&((a={...a,...null===l||void 0===l?void 0:l[0]}).mdmId=a.id,o[t].modifiers[i]=a,null===(d=a)||void 0===d||null===(c=d.modgrps)||void 0===c||c.forEach(((e,n)=>{var d;null===e||void 0===e||null===(d=e.modifiers)||void 0===d||d.forEach(((e,d)=>{var c,r;let s=null===(c=l[0].modGrps[n])||void 0===c||null===(r=c.modifiers)||void 0===r?void 0:r.filter((t=>{let{id:o}=t;return o===e.id}));var u,v;(null===s||void 0===s?void 0:s.length)>0&&((e={...e,...null===s||void 0===s?void 0:s[0]}).mdmId=e.id,e.isEditConfirmed=null===(u=e)||void 0===u?void 0:u.custom,null!==(v=e)&&void 0!==v&&v.custom&&(a.isEditConfirmed=!0),o[t].modifiers[i].modgrps[n].modifiers[d]=e)}))})))}));let d=null===e||void 0===e||null===(i=e.modifiers)||void 0===i?void 0:i.some((e=>e.isAdded)),c=A(e);null===e||void 0===e||null===(l=e.modifiers)||void 0===l||l.forEach((e=>{var t;e.isInitialDefault=y(e),d&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(c,e),null===e||void 0===e||null===(t=e.modgrps)||void 0===t||t.forEach(((e,t)=>{var o,a;let i=null===e||void 0===e||null===(o=e.modifiers)||void 0===o?void 0:o.some((e=>e.isAdded)),l=A(e);null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.forEach((e=>{e.isInitialDefault=y(e),i&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(l,e)}))}))}))})),o})(null===d||void 0===d?void 0:d.foodLineId,c,null===o||void 0===o?void 0:o.modgrps);v({...o,additionalProperties:a,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:null===t||void 0===t?void 0:t.catalogName,itemId:null===t||void 0===t?void 0:t.productId,dname:r,items:s,modgrps:l}),m({type:E,value:null===o||void 0===o?void 0:o.customizable});let n=Object(g.b)(null===o||void 0===o?void 0:o.recommendationRules,N,C,f);O(n.combo),b(n.recommendation);const P=null!==(x=null===c||void 0===c||null===(R=c.foodLines)||void 0===R?void 0:R.map((e=>{let{item:t}=e;return t.id})))&&void 0!==x?x:[];j(null===n||void 0===n||null===(L=n.addOnRecommendedItems)||void 0===L?void 0:L.filter((e=>{let{id:t}=e;return!P.includes(t)}))),I(null===n||void 0===n?void 0:n.ruleName),p(o),m({type:T,value:{}}),h(Ie(u,null===o||void 0===o?void 0:o.id,d,c,S)),window.scrollTo(0,0)}},he=(e,t,o,a)=>{if(Object(i.hb)(e.quantity!==t,(null===e||void 0===e?void 0:e.id)===o)){let o=((e,t)=>({...e,quantity:null!==t&&void 0!==t?t:0,unitPrice:t?e.basePrice*t:0}))(e,t);a({type:n.a.PDP_PAYLOAD_DATA,value:o})}},ge=e=>{const{pdpData:t,prodQuantity:o,tenantData:a,PDP_PAYLOAD_DATA:l,userOrderStateDispatch:n,pdpPromoPage:d,storeTimeZone:c,pdpDataForUpdateFoodLine:r,cartData:s,getPWAstorageData:u}=e;var v,m;Object(i.j)([Object(i.Td)(t),Object(i.Td)(a)])&&Object(g.c)(t,o,a.currencyConversionFactor,l,n,d,c,r,s,u,null===a||void 0===a||null===(v=a.componentOptions)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.enableDefaultModifierCalculation)},Ie=(e,t,o,a,i)=>{const l=i[d.gd.VIEW_PRODUCT];var n,c,r;return e?+(null!==(n=null===l||void 0===l||null===(c=l.promoParams)||void 0===c||null===(r=c.find((e=>(null===e||void 0===e?void 0:e.itemId)===t)))||void 0===r?void 0:r.quantity)&&void 0!==n?n:1):Se(o,a)},Se=(e,t)=>{let o=1;const a=null===e||void 0===e?void 0:e.foodLineId;if(""!==a){var i;let e=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((e=>{let{id:t}=e;return t===a}));o=null===e||void 0===e?void 0:e.quantity}return o},Ne=e=>{var t;const{name:o=[],recommendationType:a=""}=null!==e&&void 0!==e?e:{};return{ruleName:(null===(t=o[0])||void 0===t?void 0:t.value)||"",recommendationType:a}}},1096:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o(3);var a=o(1181),i=o.n(a),l=(o(1182),o(1183),o(2));const n=e=>{const{settings:t,carousalRef:o}=e;return Object(l.jsx)(i.a,{...t,ref:o,children:e.children})};n.defaultProps={settings:null,carousalRef:null},t.b=n},1098:function(e,t,o){"use strict";o.d(t,"e",(function(){return c})),o.d(t,"f",(function(){return r})),o.d(t,"d",(function(){return s})),o.d(t,"h",(function(){return u})),o.d(t,"g",(function(){return v})),o.d(t,"a",(function(){return m})),o.d(t,"b",(function(){return O})),o.d(t,"c",(function(){return b}));var a=o(21),i=o(9),l=o(5),n=o(398),d=o(0);const c=async(e,t)=>{var o;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===i.a||void 0===i.a||null===(o=i.a.upsizeSelectedPwa)||void 0===o?void 0:o.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},l.Bb))},r=async e=>{var t;await a.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},l.Bb)},s=async e=>{var t;await a.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},l.Bb)},u=async e=>{var t,o,n,d,c;const{eventFlag:r,itemsArray:s,userType:u="",totalAmount:v="",couponCode:m="",currencyShortName:O=""}=e,b=await(null===s||void 0===s?void 0:s.length)>0&&((null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.item_name)===(null===s||void 0===s||null===(o=s[1])||void 0===o?void 0:o.item_name)?[null===s||void 0===s?void 0:s[0]]:s);await(null===s||void 0===s?void 0:s.length)>0&&a.a.registerEvent(null===i.a||void 0===i.a||null===(n=i.a[r])||void 0===n?void 0:n.name,{data:{event:r,userType:u||"",ecommerce:{items:b,currency:O||"",value:v||(null===b||void 0===b||null===(d=b[0])||void 0===d?void 0:d.price)*(null===b||void 0===b||null===(c=b[0])||void 0===c?void 0:c.quantity)||"",coupon:m||""}}},l.Bb)},v=async(e,t)=>{var o;await a.a.registerEvent(null===i.a||void 0===i.a||null===(o=i.a.viewItemList)||void 0===o?void 0:o.name,{data:{event:n.u,disposition:Object(l.h)(t),ecommerce:{items:e||[]}}},l.Bb)},m=async()=>{var e;await a.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},l.Bb)},O=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:o}}}}))},b=async e=>{var t,o,n;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_name,item_list_id:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_id,ecommerce:{items:e||[]}}},l.Bb))}},1099:function(e,t,o){"use strict";var a=o(962);o.d(t,"a",(function(){return a.default}))},1100:function(e,t,o){"use strict";o.d(t,"e",(function(){return a})),o.d(t,"d",(function(){return i})),o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return d}));const a=9999,i="#fff",l="#202124",n="#dbdbdb",d="National 2 Regular";t.f={HEADER_STYLES:"HEADER_STYLES",START_ORDER_STYLES:"START_ORDER_STYLES",START_ORDER_BTN_STYLES:"START_ORDER_BTN_STYLES",DISPOSITION_BAR_STYLES:"DISPOSITION_BAR_STYLES",FOOTER_STYLES:"FOOTER_STYLES",STICKY_TOP_VALUES:"STICKY_TOP_VALUES",MENU_CATEGORY_STYLES_DESKTOP:"MENU_CATEGORY_STYLES_DESKTOP",MENU_CATEGORY_STYLES_MOBILE:"MENU_CATEGORY_STYLES_MOBILE",CONTACT_US_CONTAINER_STYLES:"CONTACT_US_CONTAINER_STYLES",FAQ_CONTAINER_STYLES:"FAQ_CONTAINER_STYLES",OUR_ADS_STYLES:"OUR_ADS_STYLES",PRIVACY_POLICY_STYLES:"PRIVACY_POLICY_STYLES",TERMS_OS_USE_STYLES:"TERMS_OS_USE_STYLES",PROTECTED_DISCLOSURE_STYLES:"PROTECTED_DISCLOSURE_STYLES"}},1101:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var a=o(3),i=o(28),l=o(92),n=o(106),d=o(85);const c={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var r=o(16),s=o(6),u=o(5),v=o(35),m=o(15),O=o(0),b=o(80),j=o(2);const p=e=>{const t=Object(i.c)((e=>e.cartReducer)),{cartData:o={}}=t||{},p=Object(i.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:I}=Object(a.useContext)(d.a),{modalToOpenOnConfirm:S,modalOpenFrom:N,confirmCallBack:C}=g,{CartError:E}=m.a,T=Object(i.b)(),{CLEAR_ALL_MSG:f,CLEAR_ALL:x,CANCEL:D,TO_CHANGE_LANGUAGE:A}=c;((e,t,o)=>{e.langSelector?t.MSGTXT3=o:t.MSGTXT3})(e,f,A);const{SHOW_CLEAR_CART_ALERT:y,DISPOSITION_DATA:_,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:P,orderTypeAlertTitle:w,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:H}=r.a,U=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,B=()=>{I({type:F,value:{}}),I({type:O.Oe,value:{selectedLanguage:""}}),I({type:y,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),N===P&&I({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:U.store,changeFlow:!0}})};return Object(j.jsx)(n.a,{handleClose:B,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(l.a,{splitTitle:f,imageSrc:E,altText:"cart-error",confirmButtonText:Object(s.translateWithI18Next)(x),cancelButtonText:Object(s.translateWithI18Next)(D),cancelHandler:B,confirmHandler:()=>{if(o.discountLines.length>0){let e=o.discountLines.map((e=>e.id));T(Object(v.n)({params:{basketId:o.id},tenantId:h,shouldClearCart:!0},e))}else T(Object(v.o)({basketId:o.id,tenantId:h}));T(Object(b.c)({key:O.gd.VIEW_PRODUCT})),localStorage.removeItem(O.gd.ADD_TO_ORDER),T(Object(v.u)(new Date)),I({type:y,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),C&&C(),S===w?(I({type:k}),I({type:_,value:{showDisposition:!0}}),I({type:L,value:{showScheduleOrderCatering:!1}}),I({type:R,value:{showSearchStore:!1}}),I({type:H,value:{orderCapacityDataUpdated:!1}}),I({type:F,value:{}})):S===M&&I({type:R,value:{showSearchStore:!0}})}})})}},1103:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return a}));let a;(async()=>{a=await(async()=>{var t,a,i,l,n;const d=null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(o.bind(null,215));return null===c||void 0===c||null===(i=c.default)||void 0===i||null===(l=i[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===l?void 0:l.MENU_PLP_CONSTANTS})()})()}).call(this,o(121))},1104:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return l}));var a=o(1);function i(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.qk,payload:{data:e,tenantId:t},successCallback:o,errorCallback:i}}function l(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a.lk,menuPayload:e,exclusionPayload:t,successCallback:o}}},1105:function(e,t,o){var a=o(268),i=o(597);e.exports=function(e){return i(a(e).toLowerCase())}},1106:function(e,t,o){"use strict";t.a={MODALHEADERTEXT:"Customize Your",CUSTOMIZE_TAG:"custom",MAX_TAG:"max",MAX_ALERT_TEXT_INITIAL:"maxtextInitial",MAX_ALERT_TEXT_END:"maxtextEnd",CLOSE_ALERT_TEXT:"selectionNotSaved",ITEM_QUANTITY:0,CUSTOMIZE_BUTTON_TEXT:"customise",EDIT_BUTTON_TEXT:"edit",DISMISS_CHANGES_ALERT_TEXT:"dismissChangesAlert",DISMISS_SELECTIONS:"dismissSelections"}},1107:function(e,t,o){"use strict";var a=o(3),i=o(85),l=o(5),n=o(12);t.a=()=>{const{userOrderState:e}=Object(a.useContext)(i.a),t=Object(a.useMemo)((()=>(Object(l.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(n.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1109:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"c",(function(){return c})),o.d(t,"e",(function(){return r})),o.d(t,"b",(function(){return s})),o.d(t,"d",(function(){return u}));var a=o(21),i=o(9),l=o(5),n=o(12);o(0);const d=async function(e,t,o,n){var d;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await a.a.registerEvent(null===i.a||void 0===i.a||null===(d=i.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:c,value:o||"",coupon:n||""}}},l.Bb)},c=e=>{a.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(n.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(n.P)(e.month),", ").concat(e.day)||"NA"},l.Bb)},r=e=>{a.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},l.Bb)},s=async e=>{await a.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},l.Bb)},u=async e=>{await a.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},l.Bb)}},1112:function(e,t,o){"use strict";o.d(t,"g",(function(){return O})),o.d(t,"j",(function(){return b})),o.d(t,"l",(function(){return j})),o.d(t,"k",(function(){return p})),o.d(t,"b",(function(){return h})),o.d(t,"c",(function(){return g})),o.d(t,"n",(function(){return S})),o.d(t,"e",(function(){return N})),o.d(t,"d",(function(){return C})),o.d(t,"m",(function(){return E})),o.d(t,"f",(function(){return T})),o.d(t,"h",(function(){return f})),o.d(t,"i",(function(){return x})),o.d(t,"a",(function(){return D}));var a=o(21),i=o(5),l=o(9),n=o(146),d=o(6),c=o(406),r=o(398),s=o(20),u=o.n(s),v=o(0),m=o(2);const O=async(e,t)=>{var o;await a.a.registerEvent(null===l.a||void 0===l.a||null===(o=l.a.menuNavigation)||void 0===o?void 0:o.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},i.Bb)},b=async(e,t)=>{const o=[];o.push({event:e.eventType,[t]:e.selectedData}),await a.a.registerEvent("suggestedSearchClick",{data:o[0]},i.Bb)},j=async(e,t,o)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o]}),await a.a.registerEvent(e.eventType,{data:l[0]},i.Bb)},p=async(e,t,o,l)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o],[l]:e.selectedData[l]}),await a.a.registerEvent(void 0,{data:n[0]},i.Bb)},h=(e,t)=>{const o=JSON.parse(JSON.stringify(e));let a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===o||void 0===o?void 0:o.find((t=>{let{isHidden:o=!1,items:a}=t;return!o&&(null===a||void 0===a?void 0:a.length)&&a[0].id===e.id}));t&&a.push(t)})),a},g=(e,t,o,a,i,l)=>{var n;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.length)&&0===Object.keys(t).length?I(e.categories[0],o,a,i):Object.keys(t).length>0?I(t,o,a,i):I(e,o,a,i),d},I=(e,t,o,a)=>{var l;let n={},d=[];return d=null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.map((e=>(e.items.forEach(((e,l)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===r.o.PRICE_WITHOUT_TAX.toLowerCase())),c=Object(i.Jc)(d.value,a).toFixed(2);c=c?parseFloat(c):"NA",n={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:c,item_category:t,item_list_name:t,item_list_id:o,index:l,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),n))),d},S=async e=>{var t,o,n;await a.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_id,item_list_name:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_name,items:e}}},i.Bb)},N=(e,t)=>{let o={},a=e.find((e=>{var o;return(null===e||void 0===e||null===(o=e.name)||void 0===o?void 0:o.trim())===t}))||{};return 0===Object.keys(a).length&&(a=e.find((e=>{var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(const i in e.categories)if(e.categories[i].id===t)return o=e.categories[i],!0;return!1}))),{selectedCategory:a,selectedSubcategory:o}},C=function(e,t,o,a){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return a(!1),!1;const l=(c=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:o,categories:a}=e,i=!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase());return i||(i=a.find((e=>{let{url:t,isHidden:o}=e;return!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase())}))),i})));var d,c,r;if(u()(l)){if(t&&(o("category"),a(!0)),!u()(e)){var s;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&n.scroller.scrollTo(null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-140:-100})}}else n.scroller.scrollTo(null===l||void 0===l||null===(r=l.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-150:-100});return!u()(l)},E=e=>null===e||void 0===e?void 0:e.isStoreClosed,T=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:o}=c.d;let a=Object(d.translateWithI18Next)(t),i=Object(d.translateWithI18Next)(o);return null!==e&&void 0!==e&&e.isStoreClosed&&(a=i),{btnText:a}},f=(e,t)=>{0===e.length&&Object(i.Ob)(document.title,Object(d.translateWithI18Next)(r.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(r.s))},x=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let o=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:a=[]}=e;o.push(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.name)})),o},D=e=>{const{searchMode:t,filterList:o,dietaryList:a,products:i,viewUp:l,tenantData:n,getCardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:O}=e;return(t.isSearchedMode||[...o,...a].length)&&null!==i&&void 0!==i&&i.length?Object(m.jsx)("div",{className:l?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:i,cardType:l?"small":"medium",tenantData:n,cardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,categoryId:O})}):t.isSearchedMode&&u()}},1114:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var a=o(1);function i(e){return{type:a.he,payload:e}}},1115:function(e,t,o){"use strict";o(3);var a=o(2);t.a=e=>{const{className:t,clickNextCard:o=null}=e;return Object(a.jsx)("div",{className:t,onClick:()=>{o()},onKeyPress:()=>{o()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})}},1116:function(e,t,o){"use strict";o(3);var a=o(2);t.a=e=>{const{className:t,clickPrevCard:o=null}=e;return Object(a.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})}},1117:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(46),n=o(2);const d=e=>{const{show:t,errorMsg:o="",cssClass:a="",errImage:i}=e;return t?Object(n.jsxs)("div",{className:"inline-error-container ".concat(a),children:[Object(n.jsx)(l.a,{srcFile:i}),Object(n.jsx)("div",{className:"error-message",children:o})]}):null},c=i.a.memo(d);t.a=c},1118:function(e,t,o){"use strict";o.d(t,"a",(function(){return T}));var a=o(35),i=o(61),l=o(397),n=o(145),d=o(16),c=o(262),r=o(1098),s=o(0),u=o(1095),v=o(55),m=o(5);o(80),o(30);const{QUANTITY_ACTION:O,ANALYTICS_EVENTS:b,CART_ALERT:j,PDP_DATA_FOR_UPDATE_FOODLINE:p,CUSTOMISE_FLAG_CART:h,REMOVE_ITEM_FLAG:g}=i.a,{MINI_PDP_DATA:I,FROMFLAGEDIT:S,EDIT_CLICKED:N}=d.a,{RESET_MODGROUP_IDS_UPDATE:C,SHOW_PDP_ALERT_POPUP:E}=c.a;function T(e,t,o,d){let T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},f=arguments.length>5?arguments[5]:void 0,x=arguments.length>6?arguments[6]:void 0,D=arguments.length>7?arguments[7]:void 0,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",y=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],_=arguments.length>10?arguments[10]:void 0,R=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",P=arguments.length>13?arguments[13]:void 0;const w=(o,i)=>{let{foodLineId:n}=o;const{cartId:c}=e;n&&c&&t&&(f(Object(a.q)({tenantId:t,basketId:c,basketLineItemId:n})),T({type:g,value:{removeItemCart:!0}}));const s=Object(l.r)([o],d,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,A,R);i&&i(s),f(Object(a.u)(new Date));const u=null===o||void 0===o?void 0:o.cartPrice,v={eventFlag:b.REMOVE,itemsArray:s,userType:D,totalAmount:u,couponCode:R,currencyShortName:A};Object(r.h)(v)},M=e=>{T({type:j,value:{showCartAlert:e}})},k=e=>{if(localStorage.getItem(s.gd.ADD_TO_ORDER)){var t;const o=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(s.gd.ADD_TO_ORDER));null!==o&&void 0!==o&&o[e]&&delete o[e],Object.keys(o).length>0?localStorage.setItem(s.gd.ADD_TO_ORDER,JSON.stringify(o)):localStorage.removeItem(s.gd.ADD_TO_ORDER)}},F=(o,i)=>{const{cartId:l}=e,n={Id:null===i||void 0===i?void 0:i.foodItemId,categoryId:null===i||void 0===i?void 0:i.categoryId,quantity:null===i||void 0===i?void 0:i.quantity,categoryName:null===i||void 0===i?void 0:i.foodName,categoryUrl:null===i||void 0===i?void 0:i.categoryUrl};+(null===i||void 0===i?void 0:i.discountAmount)>0?f(Object(a.y)({params:{basketId:l,basketLineItemId:null===i||void 0===i?void 0:i.foodLineId},tenantId:t},{...n,isProductPromo:!1})):w(i),k(o)};return{itemQuantityHandler:(o,i)=>{var n,c;let{quantity:m,foodLineId:j,foodItemId:p}=o;const{cartId:h,discountAmounts:g=[]}=e,{unitPrice:I}=o;m&&j&&h&&t&&(i===O.Increase&&Object(u.e)(m,null===o||void 0===o?void 0:o.isProductPromo,o,_),m=i===O.Increase?m+1:i===O.Decrease&&m-1||m,f(Object(a.x)({params:{basketId:h,basketLineItemId:j},tenantId:t},{quantity:m,isBundle:Object(l.e)(p)})),f(Object(a.u)(new Date)));const S=i===O.Increase?b.ADD_TO_CART:b.REMOVE;let N=Object(l.r)([o],d,"quantityModified",g,A,R,L/P);const C=(null===N||void 0===N||null===(n=N[0])||void 0===n?void 0:n.price)*(null===N||void 0===N||null===(c=N[0])||void 0===c?void 0:c.quantity),{totalAmount:E}=e;if(i===O.Increase){var T,x;const e=null===(T=JSON.parse(null===(x=localStorage)||void 0===x?void 0:x.getItem(s.gd.DISPOSITION_NEW)))||void 0===T?void 0:T.type;Object(v.f)(D,N,+C.toFixed(2),R,A,e)}else{let e={eventFlag:S,itemsArray:N,userType:D,totalAmount:C,couponCode:R,currencyShortName:A};Object(r.h)(e)}},itemRemoveHandler:w,itemAllRemoveHandler:()=>{M(!0)},itemAllRemoveAction:o=>{const{cartId:i}=e;i&&t&&f(Object(a.o)({basketId:i,tenantId:t})),M(!1);let n=Object(l.r)(o,y,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,A,R);localStorage.removeItem(s.gd.ADD_TO_ORDER);const d=o.map((e=>e.cartPrice)).reduce(((e,t)=>e+t));let c={eventFlag:b.REMOVE,itemsArray:n,userType:D,totalAmount:d,couponCode:R,currencyShortName:A};Object(r.h)(c),f(Object(a.u)(new Date))},addMoreMenuHandler:(e,t)=>{const o=Object(m.Hd)(e)?s.Ce.CATERING_PAGE:Object(m.Jd)(e)&&t?s.Ce.DELIVERY_PAGE:s.Ce.MENU_PAGE;x.push({pathname:o}),f(Object(a.u)(new Date))},itemEditHandler:o=>{const{foodItemId:i="",foodLineId:d}=o,{catalog:c}=e;T({type:C}),T({type:N,value:{cartEditClicked:!0}}),T({type:I,value:{id:i,flag:S,foodLineId:d}}),f(Object(n.c)({tenantId:t,catalogName:c,itemId:i})),Object(l.y)(b.EDIT),f(Object(a.u)(new Date))},showCartAlert:M,itemCustomiseHandler:function(o,a,i,d,r,u,v){let m=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{foodItemId:O="",foodLineId:j}=a,{catalog:g}=e;if(null!==a&&void 0!==a&&a.isProductPromo){var I,S;const e=null===a||void 0===a||null===(I=a.discountComponents)||void 0===I||null===(S=I[0])||void 0===S?void 0:S.couponCode,t=(e=>{var t,o,a;const{applicableCoupons:i,itemId:l,couponCode:n}=e,d=null===i||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.itemDetails)&&(null===e||void 0===e?void 0:e.code)===n));return null===d||void 0===d||null===(t=d[0])||void 0===t||null===(o=t.itemDetails)||void 0===o||null===(a=o.find((e=>(null===e||void 0===e?void 0:e.id)===l)))||void 0===a?void 0:a.availability})({itemId:a.foodItemId,applicableCoupons:v,couponCode:e});r(u({key:s.gd.VIEW_PRODUCT,value:{couponCode:e,promoParams:[{itemId:a.foodItemId,quantity:a.quantity,maxQuantity:a.maxQuantity,minQuantity:a.minQuantity}],priceDetails:[{id:a.foodItemId,availability:t}]}})),r(u({key:s.gd.PROMO_PRODUCT_CART,value:{couponCode:null===a||void 0===a?void 0:a.couponCode,promoParams:[{itemId:null===a||void 0===a?void 0:a.foodItemId,quantity:null===a||void 0===a?void 0:a.quantity,maxQuantity:null===a||void 0===a?void 0:a.maxQuantity}],priceDetails:[{id:a.foodItemId}],isPromo:!0}})),T({type:c.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}})}T({type:p,value:{id:O,flag:h,foodLineId:j,isProductPromo:null===a||void 0===a?void 0:a.isProductPromo}}),T({type:c.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:null===a||void 0===a?void 0:a.isProductPromo}}),r(u({key:E,value:!1})),f(Object(n.c)({tenantId:t,catalogName:g,itemId:O})),i.push({pathname:Object(l.h)(o,a,d,m)}),Object(l.y)(b.EDIT),localStorage.setItem(s.gd.CUSTOMISE_ITEM_CART,!0),sessionStorage.setItem(s.Ne.CUSTOMISE_PDP_FLAG,!0)},navigateToPromos:e=>{x.push({pathname:null===s.Ce||void 0===s.Ce?void 0:s.Ce[null===e||void 0===e?void 0:e.toUpperCase()]}),f(Object(a.u)(new Date))},promosRemoveHandler:(o,i)=>{const{cartId:l}=e;o&&f(Object(a.p)({basketId:l,tenantId:t,couponCode:o},(()=>{i?F(o,i):k(o)})))},addToCartAnalyticsOnly:function(e,t,o,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,s=arguments.length>6?arguments[6]:void 0;let u={eventFlag:t===O.Increase?b.ADD_TO_CART:b.REMOVE,itemsArray:Object(l.r)([e],d,i.a.QUANTITY_MODIFIED,[],s,a,n/c),userType:o,totalAmount:(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.cartPrice),couponCode:a,currencyShortName:s};Object(r.h)(u)}}}},1122:function(e,t,o){"use strict";o.d(t,"b",(function(){return B})),o.d(t,"f",(function(){return W})),o.d(t,"i",(function(){return G})),o.d(t,"c",(function(){return V})),o.d(t,"j",(function(){return Y})),o.d(t,"h",(function(){return K})),o.d(t,"d",(function(){return Q})),o.d(t,"e",(function(){return X})),o.d(t,"g",(function(){return Z})),o.d(t,"a",(function(){return $}));var a=o(16),i=o(106),l=o(92),n=o(270),d=o(6),c=o(46),r=o(24),s=o(0),u=o(5),v=o(15),m=o(2);const{Location_Error:O,errorIcon:b}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:S,NOSTORE_TITLE:N,NOSTORE_CONTENT:C,NOSTORE_TOAST_MSG:E,CLOSED_STORE_TITLE:T,CLOSED_STORE_CONTENT:f,LOCATION_ALERT_MSG:x,CLOSED_STORE_TOAST_MSG:D}=n.b,{DINE_IN:A,DISTANCE_20000MR:y,START_ORDER_BUTTON:_,BROWSE_MENU_BUTTON:R}=n.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:P="",SCHEDULE_ORDER_TIME_DATA:w="",SET_DISPOSITION:M,USER_LOCALIZED:k,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:H,SET_FORCERELOAD:U}=a.a,B=(e,t,o,a,i,l)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?l(e):i(e,t):null!==e&&void 0!==e&&e.length||a(t,o)},W=function(e,t,o,a,i,l,n,d,c,u,v,m){var O;let b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:j,maxDriveTimeMins:p,geoLocation:h}=b;let g=e.filter((e=>{var t,o,a,i,l,n,d,c,r,s,u,v,m,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(c=d.menu)||void 0===c||null===(r=c.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(u=s.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(O=m.timings)||void 0===O?void 0:O.asap)}));if((null===(O=g)||void 0===O?void 0:O.length)>0){if(j&&l===s.yb){const e={stores:g,numberOfStores:2,disposition:l,distanceMetrics:i,driveTime:p,channel:r.b.channel,isDriveTimeFromAdminPortal:j},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(l,i);g=t}if(d){var I=JSON.parse(localStorage.getItem(s.Hb));I&&(g[0].id!==I.store.id||g[0].service!==I.type?(c(!0),o(!1),v(g[0])):o(!1))}else t(g[0])}else m(!0),u(l,i)},G=(e,t,o,a,i,l)=>{var n,d;t({type:M,value:{oldvalue:e,newValue:{type:a,store:i,date:l.date,time:l.time,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress}}}),localStorage.setItem(s.Ib,JSON.stringify(e)),localStorage.setItem(s.Hb,JSON.stringify({type:a,store:i,date:l.date,time:l.time,selectedTime:l.selectedTime,interval:l.interval,deliveryAddress:null===o||void 0===o||null===(d=o.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:k,value:{isLocalized:!0}})},V=(e,t,o,i)=>{const{SCHEDULE_ORDER_DATA:l,DISPOSITION_METHOD:n}=a.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:c,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:O}=s.gd;let b={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:M,value:{oldvalue:b,newValue:b}}),localStorage.removeItem(v),localStorage.removeItem(c),e({type:w,value:{selectedDateTime:{}}}),e({type:H,value:{}}),localStorage.removeItem(m),localStorage.removeItem(O),o(t({...i,localized:!1})),e({type:k,value:{isLocalized:!1}}),e({type:l,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:n,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(r),e({type:F,value:{}})},Y=(e,t,o,a,i)=>{e({type:P,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),e({type:F,value:a}),e({type:w,value:{selectedDateTime:o}}),e({type:H,value:{selectContentTime:"ASAP"}}),e({type:U,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(i)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP")},z=(e,t,o,a)=>{let i="";return e?i=a===A?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):o?i=Object(d.translateWithI18Next)(N):t&&(i=Object(d.translateWithI18Next)(T)),i},q=(e,t,o,a)=>{let i="";return e?i=a===A?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(p):o?i=Object(d.translateWithI18Next)(C):t&&(i=Object(d.translateWithI18Next)(f)),i},K=(e,t,o,a,i,l,n,c)=>{let r="";return e?(l(!1),r=a===A?Object(d.translateWithI18Next)(S):Object(d.translateWithI18Next)(h)):o?(n(!1),r=Object(d.translateWithI18Next)(E)):t&&(c(!1),r="".concat(Object(d.translateWithI18Next)(D)," ").concat(J(null===i||void 0===i?void 0:i.from)," to ").concat(J(null===i||void 0===i?void 0:i.to))),r},J=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function Q(e,t,o,a,n,d,c,r,s,u,v){const b={HEADER_MSG:{MSGTXT1:z(o,a,n,d)},CONTENT_MSG:q(o,a,n,d)};return(o||a||n)&&Object(m.jsx)(i.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(l.a,{splitTitle:b.HEADER_MSG,contentMsg:b.CONTENT_MSG,imageSrc:O,altText:"location-error",confirmButtonText:R,cancelButtonText:o?_:null,cancelHandler:o?t:null,confirmHandler:()=>{e(a,n)}})})}const X=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(c.a,{srcFile:b,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(x)})]})}),Z=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),$=e=>e.filter((e=>{var t,o;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}))},1123:function(e,t,o){"use strict";o.d(t,"b",(function(){return S})),o.d(t,"c",(function(){return N}));var a=o(3),i=o(85),l=o(28),n=o(6),d=o(41),c=o(210),r=o(61),s=o(262),u=o(4),v=o(15),m=o(5),O=o(396),b=o(0),j=o(62),p=o(55),h=o(16),g=o(2);const I=(e,t,o,a)=>{let i=(Math.round(e/o*b.hg)/b.hg).toFixed(a);return"".concat(t).concat(i)},S=(e,t)=>Object(m.k)(e)?"pdp-button-disabled":t,N=e=>{const{ENTER:t,PLUS:o,MINUS:a}=b.ag.KEY_CHAR_CODE;e.charCode!==t&&e.charCode!==o&&e.charCode!==a||e.preventDefault()},C=(e,t)=>t===e,E=e=>e?null===h.a||void 0===h.a?void 0:h.a.REVIEW_ORDER_MODAL:null===h.a||void 0===h.a?void 0:h.a.PDP_UNAVAILABLE_MODAL;t.a=e=>{var t,o,h;const{prodQuantity:S,itemQuantity:T,userParams:f,quantityUpdate:x,dName:D,addtoCartClinckHandler:A,itemStatus:y,currencySymbol:_,currencyConversion:R,isMobile:L,handleProdQuantityForCatering:P,maxItemCountPerLineItem:w,modgrpMax:M,selectedItemNotAvailable:k,isItemDecreased:F,itemId:H,minItemCountPerLineItem:U,pdpPromoPage:B}=e,W=Object(l.c)((e=>e.cartReducer)),G=Object(l.c)((e=>e.tenantReducer)),{currencyConversionFactor:V}=G,{cartData:Y={}}=Object(m.sd)(W),{QUANTITY_ACTION:z}=r.a,{IS_OUT_OF_STOCK:q,OUT_OF_STOCK_TEXT:K,IS_IN_STOCK:J,CUSTOMISE_FLAG_CART:Q}=s.a,{QUANTITY_TEXT:X,SELECT_TEXT:Z,ADD_TO_YOUR_ORDER:$}=u.a,{userOrderState:ee,userOrderStateDispatch:te}=Object(a.useContext)(i.a),oe=null===ee||void 0===ee?void 0:ee.pdpDataForUpdateFoodLine,{pdpPayloadData:ae,pdpAddtoCartConfirmButtonDisabled:ie,dispositionNew:le,pdpDataForUpdateFoodLine:ne,timeBasedCetegory:de}=ee,ce=Object(m.Sd)(le)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):le,re=(null===ce||void 0===ce?void 0:ce.type)&&Object(m.rf)(Object(m.Mb)(null===ce||void 0===ce?void 0:ce.type)),se=((e,t,o)=>{const{ADDTOCART:a,CUSTOMISE_FLAG_CART:i}=s.a,{SAVE_CHANGES:l,SAVE:d,ADD:c}=u.a;return(null===e||void 0===e?void 0:e.flag)===i?Object(m.Hd)(t)?Object(n.translateWithI18Next)(d):Object(n.translateWithI18Next)(l):Object(m.hb)(Object(m.Hd)(t),o)?Object(n.translateWithI18Next)(c):Object(n.translateWithI18Next)(a)})(oe,re,L),ue=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isAddItemLoading})),[ve,me]=Object(a.useState)(!1),[Oe,be]=Object(a.useState)(!1),je=Object(l.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),pe=null===G||void 0===G||null===(t=G.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(h=o.global)||void 0===h?void 0:h.pricewithNumberofDecimalDigit,he=Object(j.g)(),ge=Object(l.c)((e=>null===e||void 0===e?void 0:e.menuReducer));Object(a.useEffect)((()=>{var e,t;const o=null===he||void 0===he||null===(e=he.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(b.Ce.CATERING_PAGE);me(o)}),[]);const Ie=()=>{return Object(g.jsx)("div",{className:(e=S,t=f,"quantityAddtocart qty-calc mg-set ".concat(e?"cardwithQuantity "+t.loggedIn:"cardwithNoquantity")),children:Object(g.jsx)(c.a,{importPath:"QUANTITY_MODIFIER_TEMPLATE",itemCount:S,itemQuantity:T,updateItemQuantity:x,quantityAction:z,item:void 0,itemName:D,cartItemCount:1,maxItemCountPerLineItem:w,hideChild:!0,handleQuantityForCatering:P,dispositionType:re,onKeyPressHandler:N,minItemCountPerLineItem:U})});var e,t},Se=(e,t)=>{var o;B&&be(!0);const{couponCode:a}=Object(m.zb)(Y),{unitPrice:i,basePrice:l}=ae,n=Object(m.od)(null===f||void 0===f?void 0:f.localized,null===f||void 0===f?void 0:f.loggedIn);let{baseItemsCstmz:d,saucesCstmz:c,sidesCstmz:r,drinksCstmz:s,customizedPrice:u}=Object(m.F)(ee);d=Object(m.te)(d),c=Object(m.te)(c),r=Object(m.te)(r),s=Object(m.te)(s);const v=Object(m.lc)(je,ae,Y,V,null===G||void 0===G?void 0:G.currencyShortName,d,c,r,s,u),{quantity:O=0}=(null===v||void 0===v?void 0:v[0])||{quantity:0},b={couponCode:a},j={unitPrice:i,basePrice:l,cartData:Y,quantity:O,currencyConversionFactor:V},h=Object(m.Ib)(j),g=Object(m.g)(i,V),I=[{...v[0],...b}];var S;null!==(null===v||void 0===v||null===(o=v[0])||void 0===o?void 0:o.isQuantityIncrease)&&(null!==v&&void 0!==v&&null!==(S=v[0])&&void 0!==S&&S.isQuantityIncrease?(e=>{let{miniPDPDataForCart:t,CUSTOMISE_FLAG_CART:o,userType:a,saveChangesItemdetails:i,totalPrice:l,couponCode:n,tenantReducer:d,dispositionType:c}=e;if((null===t||void 0===t?void 0:t.flag)===o){const e=(null===i||void 0===i?void 0:i[0].price)*(null===i||void 0===i?void 0:i[0].quantity);Object(p.f)(a,i,e,n,null===d||void 0===d?void 0:d.currencyShortName,c)}})({miniPDPDataForCart:oe,CUSTOMISE_FLAG_CART:Q,userType:n,saveChangesItemdetails:I,totalPrice:h,couponCode:a,tenantReducer:G,dispositionType:re}):Object(p.g)(n,v,+g.toFixed(2)));A(e,ae,oe,t,g,ne,Y)},Ne=(t,o)=>{null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const a=Object(O.g)(H,je),i=Object(O.d)(H,de);Object(O.c)({categoryUrl:a,itemInCart:i,alertType:E(i),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.itemId},{...de,menuData:ge},te)||(Object(m.k)(ie)?(e=>{e.preventDefault();let t=Object(g.jsx)("img",{src:v.a.ErrorImage,alt:"Error"}),o="".concat(Object(n.translateWithI18Next)(Z)," ").concat(M," ").concat(Object(n.translateWithI18Next)($));Object(m.Df)(o,t,"err-toast",!0)})(t):Se(t,null===o||void 0===o?void 0:o.id))},Ce=()=>{return Object(g.jsx)(d.c,{tabIndex:"1",variant:d.b.primary,fullWidth:!0,hasPrices:!0,inactive:!Object(m.Vd)(null===le||void 0===le?void 0:le.type)&&Object(m.jb)(C(q,y),Object(m.sb)(ue,k,!S||Oe)),loading:ue,"data-testid":"add-to-cart-handler",onClick:e=>Ne(e,Y),disabled:Object(m.sb)(C(q,y),k,!S),className:(e=ie,Object(m.k)(e)?"button-contained-disabled":""),children:Object(m.hb)(Object(m.jb)(C(q,y),k),!C(J,y))?Object(g.jsx)("span",{className:"outofstock",children:Object(n.translateWithI18Next)(K)}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:se}),R&&Object(g.jsx)("span",{children:I(null===ae||void 0===ae?void 0:ae.unitPrice,_,R,pe)})]})});var e},Ee=Object(m.hb)(L,Object(g.jsxs)("div",{className:"pdp-mobile-quantity-price-sopac fixedDiv ".concat(Object(m.hb)(ve,"catering-button")),children:[Object(g.jsx)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:Ie()}),Ce()]})),Te=Object(m.hb)(!L,Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:[Object(g.jsx)("label",{className:"qty","data-testid":"pdp-item-quantity",children:Object(n.translateWithI18Next)(X)}),Ie()]}),Ce()]}));return Object(g.jsxs)(g.Fragment,{children:[Te,Ee]})}},1124:function(e,t,o){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i,l,n,d,c=o(3),r=o(194),s=o(416),u=o(5),v=o(1100);const m=(e,t)=>Object(r.b)(t)(l||(l=a(["\n  ","\n"])),e),O=(e,t,o)=>{if(null!==e&&void 0!==e&&e.modulesData){var l;const c=Object(u.D)(null===e||void 0===e||null===(l=e.modulesData)||void 0===l?void 0:l[t]);switch(t){case null===v.f||void 0===v.f?void 0:v.f.HEADER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.CONTACT_US_CONTAINER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.TERMS_OS_USE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_BTN_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.DISPOSITION_BAR_STYLES:case null===v.f||void 0===v.f?void 0:v.f.PROTECTED_DISCLOSURE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.OUR_ADS_STYLES:case null===v.f||void 0===v.f?void 0:v.f.FAQ_CONTAINER_STYLES:return o?m(c,o):(e=>r.b.div(i||(i=a(["\n  ","\n"])),e))(c);case null===v.f||void 0===v.f?void 0:v.f.FOOTER_STYLES:return(e=>r.b.footer(n||(n=a(["\n  ","\n  @media (max-width: 1023px) {\n    padding-bottom: ",";\n  }\n"])),e,(e=>(e=>"".concat(e.paddingBottom,"px"))(e))))(c);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_DESKTOP:return m(c,o);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_MOBILE:return((e,t,o)=>{var i;const{addPixelValues:l,STICKY_TOP_VALUES:n}=e.modulesData,c=null===n||void 0===n||null===(i=n.mobile)||void 0===i?void 0:i.topNonLocalized;return Object(r.b)(o)(d||(d=a(["\n    ","\n    position: ",";\n    top: ",";\n    &.localized {\n      top: ",";\n    }\n    &.nonLocalizeGuide {\n      top: ",";\n    }\n  "])),t,(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"relative":"fixed"}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":c}),(e=>{var t,o;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":l(null===n||void 0===n||null===(o=n.mobile)||void 0===o?void 0:o.topLocalized,null===e||void 0===e?void 0:e.topValue)}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"unset":l(null===e||void 0===e?void 0:e.topGuideValue)}))})(e,c,o)}}return""};t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{globalStyleConstantData:o}=s.a,[a,i]=Object(c.useState)("");return Object(c.useEffect)((()=>{i(O(o,e,t))}),[null===o||void 0===o?void 0:o.modulesData]),a}},1125:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(75),n=o.n(l),d=o(28),c=o(144),r=o(2);var s=e=>{const{handleClose:t,ProductListingModalForm:o,headerText:a,modalTitleId:l=""}=e;return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)(c.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:l,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:o})})},u=o(41),v=o(1144),m=o.n(v),O=o(46),b=o(5),j=o(85),p=o(400),h=o(16);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},I=o(87),S=o(62),N=o(15);const C=(e,t)=>e?t:null,E=(e,t,o,a,i)=>{const{SETFLAGCASE:l}=g,{FROMFLAGEDIT:n}=h.a;if(0===e.length){if(a&&t.minipdpData.fromFlag!==n)return l.DEFAULT;if(t.minipdpData.fromFlag===n&&((e,t)=>{if(Object(b.Td)(t))return t.filter((t=>{let{id:o}=t;return o===e})).length>0;return!1})(o,i))return l.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(o))return l.ITEMINCLUDES},T=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),f=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",x=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",D=(e,t)=>{let{analyticsObject:o,currLocation:a}=e;t||Object(I.g)(o,a)};var A=e=>{const{cardData:t,min:o,max:i,savedModifierHandler:l,savedModifiers:n,cardType:d,tenantReducer:c,modgrpId:s,modGrpName:u,updatedItems:v,getCartModifiers:m}=e,{Check_Icon:I}=N.a,{id:A,name:y,size:_,dname:R,isDefault:L,imageName:P,isHidden:w,calorificInfo:M}=t;let k=(F=R)&&F.length&&F[0].value;var F;const[H,U]=Object(a.useState)(!1),{userOrderState:B,userOrderStateDispatch:W}=Object(a.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=B,{MODGROUP_IDS_UPDATE:V,UPDATE_DEFAULT_MODGROUP:Y}=p.a,{CONFIRM_UPSIZE_ANALYTICS:z}=h.a,{SETFLAGCASE:q}=g,K=Object(S.h)();Object(a.useEffect)((()=>{switch(E(v,B,A,L,m)){case q.DEFAULT:case q.FROMEDIT:U(!0),l(t,!0,n);break;case q.ITEMINCLUDES:U(!0);break;default:U(!1)}}),[A,v,L,m]);return!w&&Object(r.jsxs)("div",{className:T(d,H),"data-testid":"click-save-product",onClick:()=>{if(L||G.includes(s)){if(L){let e=G.filter((e=>e!==s));W({type:Y,value:e})}}else W({type:V,value:s});let e={analyticsObject:{name:y,size:_},currLocation:Object(b.Ab)(K.pathname)};1===o&&1===i?(D(e,H),!H&&U(!0),l(t,"single",n)):H&&n.length>o&&n.length<=i?(U(!1),l(t,!1,n)):!H&&n.length>=o&&n.length<i&&(D(e,H),U(!0),l(t,!0,n)),W({type:z,value:{confirmUpsizeName:u}})},children:[Object(r.jsx)(O.a,{defaultPath:Object(b.bc)(null,c,!0),srcFile:Object(b.bc)(P,c),className:x(d)}),Object(r.jsxs)("picture",{children:[Object(r.jsx)("source",{media:"(max-width: 1023px)",srcSet:(Q=H,X=I,Q?X:null),alt:"",className:f(d)}),Object(r.jsx)("img",{src:C(H,I),alt:"",className:f(d)})]}),Object(r.jsxs)("div",{className:"modifier-card-content",children:[Object(r.jsx)("div",{className:"title",children:k}),(J=M,J&&Object(r.jsx)("div",{className:"caloricInfo",children:J}))]})]});var J,Q,X},y=o(264),_=o(1096),R=o(21);const L=(e,t,o)=>e.map((e=>e.size&&{name:e.size,rate:Object(b.Ic)(e.availability[0],e.additionalProperties,t,o)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),P=(e,t,o,a)=>{let i=-1,l=L(t,o,a),n=L(e,o,a);return Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e)))).forEach((e=>{i="regular"!==e.name?n.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),i>=0&&n.splice(i,1),Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e))))},w=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)};var M=o(6);const{HamburgerDownArrow:k,filter_options_stoke:F}=N.a,H=(e,t)=>{if(e!==t)return Object(r.jsx)("span",{children:":"})},U=(e,t,o)=>e.rate&&e.name!==t?"+".concat(o).concat(e.rate):"",B=(e,t,o,a)=>e&&e.length&&P(e,t,o,a).length>0;var W=e=>{const{data:t,min:o,max:l,showSelectedModifier:n,modgrpId:c,modGrpName:s}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:m}=g,{userOrderState:O,userOrderStateDispatch:I}=Object(a.useContext)(j.a),[S,N]=Object(a.useState)([]),[C,E]=Object(a.useState)({}),[T,f]=Object(a.useState)(!1),[x,D]=Object(a.useState)([]),[R,L]=Object(a.useState)(!0),[W,G]=Object(a.useState)(Object(b.de)(window.innerWidth)),[V,Y]=Object(a.useState)(t),z=Object(d.c)((e=>e.cartReducer)),q=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:K,currencyConversionFactor:J,componentOptions:Q}=q,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==Q&&void 0!==Q?Q:{},[Z,$]=Object(a.useState)({}),[ee,te]=Object(a.useState)({}),oe=Object(a.useRef)(null),ae=Object(a.useRef)(null),ie=Object(a.useRef)(null),le={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(a.useEffect)((()=>{const e=Object(b.ad)(t.length,JSON.parse(JSON.stringify(t)),[]);let o=((e,t)=>Object(b.Td)(e)?t.filter((t=>t.size===e.name)):t)(C,e);Y([...o])}),[t]);const ne=(e,o,a)=>{let{id:i}=e;if(o===m)t.forEach((e=>{e.id===i&&D([e.id])})),N([{...e,itemId:i,modgrpId:c}]);else if(o){!a.some((t=>{let{id:o}=t;return o===e.id}))&&N([...a,{...e,itemId:i,modgrpId:c}])}else if(a.length){let e=a.filter((e=>{let{itemId:t}=e;return t!==i}));N(e)}},de=()=>{const e=Object(b.de)(window.innerWidth);G(e)};Object(a.useEffect)((()=>{let e=((e,t,o,a)=>{var i;const{FROMFLAGEDIT:l}=h.a,{MODGROUP_IDS_UPDATE:n}=p.a;if((null===t||void 0===t||null===(i=t.minipdpData)||void 0===i?void 0:i.fromFlag)===l){var d,c;let i=a.foodLines.find((e=>{let{id:o}=e;return o===t.minipdpData.foodLineId})),l=null===i||void 0===i||null===(d=i.item)||void 0===d||null===(c=d.modGrps)||void 0===c?void 0:c.find((t=>{let{id:o}=t;return o===e}));var r;return l?(!l.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(r=t.pdpScreenCommons)&&void 0!==r&&r.modGroupIdsUpdated.includes(l.id)||o({type:n,value:l.id}),l.modifiers):{}}return{}})(c,O,I,null===z||void 0===z?void 0:z.cartData);te(e)}),[]),Object(a.useEffect)((()=>{n(S)}),[JSON.stringify(S)]),Object(a.useEffect)((()=>{window.addEventListener("resize",de)}),[W]),Object(a.useEffect)((()=>{T?document.addEventListener("click",ce):document.removeEventListener("click",ce)}),[T]);const ce=e=>{(Object(b.hb)(oe.current,oe.current===e.target)||ae.current&&ie.current&&ae.current!==e.target&&!ie.current.contains(e.target))&&f(!1)},re=()=>{f(!0)},se=()=>{f(!T)},ue=(e,o)=>{E(e);let a=t.filter((t=>t.size===e.name));Y(a),w(o),f(!T)},ve=(e,o,a)=>{let i=((e,t,o)=>Object(b.Td)(t)?(e(t),o.filter((e=>e.size===t.name))):o)(E,e,t);Y(i),w(o),L(!a),f(!1)},me=()=>{E({}),$({}),L(!0)},Oe=()=>{let e="",t=U(C,u,K);return e=Object(b.ad)(t.length>0,":",""),e};return Object(b.ad)(W,Object(r.jsxs)(i.a.Fragment,{children:[B(t,S,J,X)&&Object(r.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(r.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:re,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(C.name,C.name+Oe(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:U(C,u,K)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDown"})]})}),T&&Object(r.jsx)("div",{className:"mobile-modal-filter-background",ref:oe,children:Object(r.jsxs)("div",{className:"mobile-modal-filter",children:[Object(r.jsx)("div",{className:"mobile-modal-filter-container",children:Object(r.jsxs)("ul",{className:"mobile-filter-list",children:[Object(r.jsx)("li",{className:R&&0===Object.keys(C).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:me,children:Object(r.jsx)("div",{className:"mobile-rate-container",children:Object(M.translateWithI18Next)(v)})}),P(t,S,J,X).map((e=>Object(r.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{f(!0),$(e),L(!1)})(e),children:Object(r.jsxs)("div",{className:"mobile-rate-container",children:[Object(r.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),H(e.name,u),Object(r.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(K).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(r.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,s,Z.name===C.name),children:Object(M.translateWithI18Next)("done")})]})}),Object(r.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:V&&V.length>2&&ee?Object(r.jsx)(_.b,{settings:le,children:V&&V.length&&ee?V.map(((e,t)=>Object(r.jsx)(A,{cardType:"carousal",min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:S,tenantReducer:q,modgrpId:c,modGrpName:s,updatedItems:x,getCartModifiers:ee},t))):null}):V&&V.length&&ee&&V.map(((e,t)=>Object(r.jsx)(A,{cardType:"regular",min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:S,tenantReducer:q,modgrpId:c,modGrpName:s,updatedItems:x,getCartModifiers:ee},t)))||null})]}),Object(r.jsxs)(i.a.Fragment,{children:[B(t,S,J,X)&&Object(r.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(r.jsxs)("div",{className:"language-select-uplift",ref:ae,"data-testid":"desktop-dropdown-filter",onClick:se,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(C.name,C.name+Oe(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:U(C,u,K)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDowm"})]}),T&&Object(r.jsx)("div",{ref:ie,children:Object(r.jsx)("ul",{className:"filter-list",children:P(t,S,J,X).map((e=>function(e,t,o,a,i,l){return Object(r.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,o),children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsxs)("div",{className:"rate-container",children:[Object(r.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(i).concat(e.rate):""}),e.name===l.name&&Object(r.jsx)(y.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,s,u,K,C)))})})]}),Object(r.jsx)("div",{className:"modifier-list-items",children:V&&V.length&&ee?V.map(((e,t)=>Object(r.jsx)(A,{min:o,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:S,tenantReducer:q,modGrpName:s,modgrpId:c,updatedItems:x,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:o,selectedModifiers:l,source:n=""}=e,{PDP:d}=p.a,[c,s]=Object(a.useState)(t),[u,v]=Object(a.useState)([]),{userOrderState:m}=Object(a.useContext)(j.a),{pdpScreenCommons:{currentAccordian:O,modGroupIdsUpdated:h}}=m,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(a.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);s([...e])})()}),[JSON.stringify(t)]),Object(a.useEffect)((()=>{if(Object(b.hb)(O,n===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===O){var o;const t=(null===(o=e.modifiers)||void 0===o?void 0:o.length)>1?300:0;let a=document.getElementById("accordion-"+O).offsetTop;window.scrollTo({top:a-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));s([...e])}}),[O,JSON.stringify(t)]);const I=e=>{let t,o,a;if(e.length){t=e.map(JSON.stringify),o=new Set(t),a=Array.from(o).map(JSON.parse);let i=[];if(u.length){i=u;let e=u.findIndex((e=>e[0].modgrpId===a[0].modgrpId));e>=0?(i.splice(e,1,a),v([...i])):v([...i,a])}else v((e=>[...e,a]))}};Object(a.useEffect)((()=>{u.length&&o(u),l(u)}),[u]);const S=e=>{let t=[];for(let o of u)for(let a of o)a.modgrpId===e&&a.dname&&a.dname.length&&t.push(a.dname[0].value);return t.join(", ")};return c.map(((e,t)=>{let{id:o,name:a,modifiers:l,expanded:n,min:d,max:v}=e;const m=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(o);return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{className:"accordian-container",id:"accordion-"+o,"data-testid":"product-listing-accordion-".concat(t),children:[Object(r.jsxs)("div",{className:"accordian-header",children:[Object(r.jsxs)("div",{className:"".concat(n?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(o),onClick:e=>((e,t)=>{e&&g();let o=c.length?JSON.parse(JSON.stringify(c)):[];o.map(((e,o)=>(e.id===t&&(e.expanded=!e.expanded),e))),s([...o])})(e,o),children:[Object(r.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),m?Object(r.jsx)("span",{className:"updatedBadge",children:Object(M.translateWithI18Next)("updated")}):null]}),Object(r.jsx)("span",{className:"selected-mod",children:u.length&&S(o)})]}),Object(r.jsx)("div",{className:"".concat(n?"panel panel-active":"panel"),children:Object(r.jsx)(W,{modgrpId:o,modGrpName:a,data:l,min:d,max:v,showSelectedModifier:I})})]})},t)}))},V=o(35),Y=o(61),z=o(235),q=o(1099),K=o(1109),J=o(0),Q=o(173),X=o(262),Z=o(396),$=o(80),ee=o(132),te=o(211);const oe=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ae=(e,t)=>{var o,a,i,l;const n=null===t||void 0===t?void 0:t[J.gd.VIEW_PRODUCT],d=null===n||void 0===n?void 0:n.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===n||void 0===n||null===(o=n.promoParams)||void 0===o||null===(a=o.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===a?void 0:a.quantity,maxPromoQuantity:null===n||void 0===n||null===(i=n.promoParams)||void 0===i||null===(l=i.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===l?void 0:l.maxQuantity}},ie=(e,t,o,a)=>{var i,l,n,d,c,r;const{setClickEvent:s,setConfirmed:u,productMapById:v,modifiersList:O,data:j,currencyConversionFactor:p,itemCount:g,minipdpData:S,FROMFLAGEDIT:N,dispatch:C,cartReducer:E,tenantId:T,id:f,modifierGrp:x,userOrderStateDispatch:D,confirmUpsizeName:A,userType:y,categoryMapById:_,addToOrderClickHandler:L,closeParentModal:P,getPwaStorageData:w,sliceDispatch:M,isAddonsAndUpsellEnabled:k}=t,{foodLines:F}=(null===E||void 0===E?void 0:E.cartData)||{},{couponCode:H,discountTotal:U}=Object(b.zb)(null===E||void 0===E?void 0:E.cartData),B=Object(b.Td)(null===E||void 0===E?void 0:E.cartData)?Object(b.nc)(null===S||void 0===S?void 0:S.foodLineId,null===E||void 0===E?void 0:E.cartData):{},W=Math.abs(g-(null===B||void 0===B?void 0:B.count));let G="";e.stopPropagation(),e.preventDefault(),s(e),u(!0);const z=(null===f||void 0===f?void 0:f.split("_")[0])||"",{categoryId:q=""}=null!==(i=null===v||void 0===v?void 0:v[z])&&void 0!==i?i:{},{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:ee}=h.a,{ADDONS:oe}=te.MENU_PLP_CONSTANT,{id:ie="",name:ne="",url:de=""}=null!==(l=null===_||void 0===_?void 0:_[q])&&void 0!==l?l:{},ce=null===t||void 0===t||null===(n=t.categoryMapById)||void 0===n||null===(d=n[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,re=Object(Z.d)(z,o);if(Object(Z.c)({categoryUrl:ce,itemInCart:re,alertType:Object(Z.j)(null===o||void 0===o?void 0:o.timebasedItemInCart,null===J.Sb||void 0===J.Sb?void 0:J.Sb.ITEM)},o,D))return;m()(O,(e=>{G+="".concat(e[0].name,", ")}));const se=Object(b.Ic)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let ue={item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,coupon:H,discount:+(U/p).toFixed(2),price:Object(b.oc)(se),item_list_name:ne,item_list_id:ie,index:Object(Q.b)(F,null===j||void 0===j?void 0:j.id,0),quantity:W,currency:J.p.INR,item_variant:null!==j&&void 0!==j&&null!==(c=j.modgrps)&&void 0!==c&&c.length?null===j||void 0===j||null===(r=j.modgrps)||void 0===r?void 0:r.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const ve=ae(f,w);if(S.fromFlag!==N){var me,Oe,be,je,pe,he;C(Object(V.a)({params:{basketId:null===E||void 0===E||null===(me=E.cartData)||void 0===me?void 0:me.id},tenantId:T},[{Id:f,categoryId:ie,quantity:g,modGrps:le(x),categoryName:ne,categoryUrl:de,isProductPromo:null===ve||void 0===ve?void 0:ve.isPromoApplied}],(()=>{null!==ve&&void 0!==ve&&ve.productPromosInStorage&&(L({couponCode:ve.productPromosInStorage}),M(Object($.c)({key:J.gd.VIEW_PRODUCT})),D({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),P()),k&&D({type:ee,value:{viewType:oe}})}))),Object(K.a)({item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,price:Object(b.oc)((null===j||void 0===j||null===(Oe=j.availability)||void 0===Oe||null===(be=Oe[0])||void 0===be?void 0:be.price)/p),item_variant:Object(b.oc)(null===(je=G)||void 0===je?void 0:je.trim()),item_list_name:ne,item_list_id:ie,index:1,quantity:g,coupon:H||"",discount:+(U/p).toFixed(2),currency:a},y,g*Object(b.oc)((null===j||void 0===j||null===(pe=j.availability)||void 0===pe||null===(he=pe[0])||void 0===he?void 0:he.price)/p),H,a)}else{var ge;C(Object(V.y)({params:{basketId:null===E||void 0===E||null===(ge=E.cartData)||void 0===ge?void 0:ge.id,basketLineItemId:S.foodLineId},tenantId:T},{Id:f,quantity:g,modGrps:le(x)}));const e=(null===ue||void 0===ue?void 0:ue.price)*(null===ue||void 0===ue?void 0:ue.quantity);g!==(null===B||void 0===B?void 0:B.count)&&(g>(null===B||void 0===B?void 0:B.count)?Object(I.j)(y,ue,+e,H,a):Object(I.l)(Y.a.ANALYTICS_EVENTS.REMOVE,ue,y,a,e))}C(Object(V.u)(new Date)),D({type:Y.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:f,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)})(A)};function le(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var ne=e=>{var t,o,l;const{data:n,categoryId:c,handleClose:s,showPriceContent:v=!0,source:m="",addToOrderClickHandler:O,closeParentModal:p}=e,{id:I,modgrps:S,availability:N=[],additionalProperties:C=[]}=n,{userOrderState:E,userOrderStateDispatch:T}=Object(a.useContext)(j.a),{confirmUpsizeName:f,minipdpData:x,timeBasedCetegory:D}=E,[A,y]=Object(a.useState)(S),[_,R]=Object(a.useState)([]),L=Object(d.b)(),P=Object(d.c)((e=>e.tenantReducer)),w=Object(d.c)((e=>e.cartReducer)),{cartData:k={},isAddItemLoading:F=!1}=w||{},{currencySymbol:H,tenantId:U,currencyConversionFactor:B,maxItemCountPerLineItem:W,componentOptions:{web:{global:{showPriceWithTax:V=!1}={}}={}}={}}=P,K=null===P||void 0===P||null===(t=P.componentOptions)||void 0===t||null===(o=t.plp)||void 0===o?void 0:o.isAddonsAndUpsellEnabled,{flatResponse:{productMapById:J={},categoryMapById:Q={}}={}}=null!==(l=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},[X,Z]=Object(a.useState)(0),te=Object(b.Ic)(N[0],C,B,V),{ADDTOCART:le,UPDATECART:ne}=g,{FROMFLAGEDIT:de,EDIT_CLICKED:ce}=h.a,[re,se]=Object(a.useState)(1),[ue,ve]=Object(a.useState)(0),{ITEM_QUANTITY:me}=z.a,[Oe,be]=Object(a.useState)(!1),[je,pe]=Object(a.useState)(null),he=Object(d.c)((e=>e.appStateReducer.userStatus)),ge=Object(b.od)(null===he||void 0===he?void 0:he.localized,null===he||void 0===he?void 0:he.loggedIn),Ie=Object(ee.a)(),Se=Object(ee.b)($.b),Ne=ae(I,Se),Ce={setClickEvent:pe,setConfirmed:be,categoryId:c,modifiersList:_,data:n,itemCount:re,minipdpData:x,FROMFLAGEDIT:de,dispatch:L,cartReducer:w,tenantId:U,id:I,modifierGrp:A,userOrderStateDispatch:T,confirmUpsizeName:f,productMapById:J,currencyConversionFactor:B,userType:ge,categoryMapById:Q,addToOrderClickHandler:O,closeParentModal:p,getPwaStorageData:Se,sliceDispatch:Ie,isAddonsAndUpsellEnabled:K};Object(a.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:A,modifiedItemPrice:X})}),[A]),Object(a.useEffect)((()=>{const e=Object(b.Td)(k)?Object(b.mc)(I,k):{},t=Object(b.Td)(e)?e.count:0;if(ve(t),x.fromFlag===de){const e=Object(b.Td)(k)?Object(b.nc)(x.foodLineId,k):{},t=Object(b.Td)(e)?e.count:1;se(t)}}),[k]),Object(a.useEffect)((()=>()=>{T({type:ce,value:{cartEditClicked:!1}})}),[T,ce]);Object(a.useEffect)((()=>{Oe&&!F&&s(je)}),[Oe,F]),Object(a.useEffect)((()=>(window.addEventListener("keydown",oe),()=>{window.removeEventListener("keydown",oe)}))),Object(a.useEffect)((()=>{x.fromFlag!==de&&I&&(null===Ne||void 0===Ne?void 0:Ne.minPromoQuantity)&&se(null===Ne||void 0===Ne?void 0:Ne.minPromoQuantity)}),[I]);const Ee=x.fromFlag===de?Object(M.translateWithI18Next)(ne):Object(M.translateWithI18Next)(le);return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(r.jsx)("form",{className:"form",children:Object(b.Td)(S)?Object(r.jsx)(G,{grouplist:S,getSelectedModifiers:e=>{let t=0,o=[];e.forEach((e=>{let a={};a.id=e[0].modgrpId,a.modifiers=[],e.forEach((e=>{let o={},i=JSON.parse(JSON.stringify(e));o.id=i.id,o.quantity=i.defaultQuantity,o.modGrps=i.modgrps,o.categoryId=c,a.modifiers.push(o);let l=Object(b.Ic)(e.availability[0],e.additionalProperties,B,V);t+=l})),o.push(a)})),Z(te+t),y(o)},selectedModifiers:R,source:m}):null})}),v&&Object(r.jsx)("div",{className:"price-content",children:Object(r.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[re?Object(r.jsx)(q.a,{itemCount:re,itemQuantity:me,updateItemQuantity:(e,t)=>{t===Y.a.QUANTITY_ACTION.Increase?se((e=>+e+1)):se((e=>+e-1))},quantityAction:Y.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==Ne&&void 0!==Ne&&Ne.isPromoApplied?null===Ne||void 0===Ne?void 0:Ne.maxPromoQuantity:W,cartItemCount:ue+1}):null,Object(r.jsxs)(u.a,{className:"button start-order-btn ".concat(F?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>ie(e,Ce,D,null===P||void 0===P?void 0:P.currencyShortName),children:[Object(r.jsx)("span",{className:"title-for-button",children:"".concat(Ee)}),Object(r.jsx)("span",{className:"currency-symbol",children:"".concat(H," ").concat((Te=X,(re*Te).toFixed(2)))})]})]})})]});var Te},de=o(52);const ce=e=>{if(e){var t;let o=JSON.parse(JSON.stringify(e));return o.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),o}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:o=!0,callBackToPDP:i,data:l={},source:c=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=de.a,{userOrderStateDispatch:m}=Object(a.useContext)(j.a),O=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(b.Td)(l)?ce(l):ce(O),h=Object(d.b)(),I=Object(d.c)((e=>e.cartReducer)),S=e=>{e.stopPropagation(),e.preventDefault(),m({type:v,value:{fromCouponSection:!1}}),h(Object(V.v)({showProductListingModal:!1,categorySelected:""}))},N=Object(r.jsx)(ne,{data:p,categoryId:I.categorySelected,handleClose:S,showPriceContent:o,callBackToPDP:i,"data-testid":"product-listing-modal-enabled",source:c,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),C=Object(r.jsx)(s,{handleClose:S,ProductListingModalForm:N,headerText:Object(M.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),E=Object(r.jsx)("div",{className:"pdp-custm",children:N});return t?n.a.createPortal(C,document.getElementById("modal-popups")):E}},1126:function(e,t,o){"use strict";var a=o(106),i=o(92),l=o(4),n=o(61),d=o(6),c=o(3),r=o(85),s=o(44),u=o(132),v=o(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:o={},setConfirmationModel:m=null,itemRemoveHandler:O=null,isRemoveItemLoading:b=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:I=null,addtoCartClinckHandler:S=null,setAddToClickParms:N=null,addToClickParms:C={},selectedStoreData:E=null,clickHandler:T=null,title:f="",confirmButtonText:x="",removeCouponHandler:D=null,couponCode:A="",couponTitle:y="",itemRemoveWrapper:_=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:L=""}=e,{userOrderStateDispatch:P}=Object(c.useContext)(r.a),w=Object(u.a)(),{REMOVE_COUPON:M}=n.a,{CONTINUE:k,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:H,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:U,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:B}=l.a;return Object(v.jsx)(a.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(i.a,{title:h===M?f:Object(d.translateWithI18Next)(H),giftCardOrVoucherErrMsg:h===M?R:Object(d.translateWithI18Next)(B),giftCardErrFirstMsg:h===M?L:Object(d.translateWithI18Next)(U),altText:"",confirmButtonText:h===M?x:Object(d.translateWithI18Next)(k),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:a,itemRemoveHandler:i,isRemoveItemLoading:l,setCouponModal:d,setRemoveItem:c,flag:r,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:O,addToClickParms:b,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:I,couponTitle:S,itemRemoveWrapper:N,userOrderStateDispatch:C,sliceDispatch:E}=e;const{EDIT_ITEM:T,REMOVE_ITEM:f,QUANTITY_INCREASE_DECREASE:x,STORE_DISPOSITION_UPDATE:D,REMOVE_COUPON:A}=n.a;if(d(!1),r===f&&N({isAddedPromosCoupon:t,item:o,setConfirmationModel:a,itemRemoveHandler:i,isRemoveItemLoading:l,setRemoveItem:c,sliceDispatch:E}),r===x&&(C({type:s.p,value:{couponErrorMessage:"REMOVE"}}),v(o,u,h)),r===T){const{event:e,data:t,miniPDPData:o,totalAmount:a,cartId:i,pdpDataForUpdateFoodLine:l,cartData:n}=b;m(e,t,o,i,a,l,n),O({}),d(!1)}r===D&&p(h,j),r===A&&g(I,S)})({isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:m,itemRemoveHandler:O,isRemoveItemLoading:b,itemRemoveWrapper:_,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:I,addtoCartClinckHandler:S,setAddToClickParms:N,addToClickParms:C,selectedStoreData:E,clickHandler:T,events:e,removeCouponHandler:D,couponCode:A,couponTitle:y,userOrderStateDispatch:P,sliceDispatch:w}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1127:function(e,t,o){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",AUSTRALIA:"AUSTRALIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",YUM:"Yum",PROTECTED_DISCLOSURE:"Protected Disclosure",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAL:"external",FIND_A_KFC:"Find a KFC",FIND_A_KFC_TITLE:"FindAKFCLink",HEADLINE:"headline",YOUTUBE:"Youtube",SNAPCHAT:"Snapchat",LINKEDIN:"LinkedIn",TIKTOK:"Tiktok",LINE:"Line",COOKIES_SETTINGS:"Cookie Settings"}},1128:function(e,t,o){"use strict";o.d(t,"c",(function(){return v})),o.d(t,"b",(function(){return O})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return p}));o(3);var a=o(5),i=(o(85),o(262)),l=o(16),n=o(1132),d=o(1098),c=(o(62),o(28),o(1095)),r=o(1106),s=o(6),u=o(61);o(210),o(0),o(2);const v=(e,t,o,l,d,r,s,v,O,b,p,h,g,I,S,N,C)=>{const{HASH_SYMBOL:E}=i.a,{QUANTITY_ACTION:T}=u.a,{SINGLE:f}=n.a;let x,D,A=Object(a.Td)(I)?Object(c.w)(I,S,1):"";if(1===l||Object(a.j)([!r,b.length>=l,b.length===d])){if(j(o,r),Object(a.j)([!r,Object(a.Td)(I),!C])){var y,_;let e=S.split(E);e.pop();let t=Object(a.ad)(b.length>1,null===(y=b[1])||void 0===y?void 0:y.itemId,null===(_=b[0])||void 0===_?void 0:_.itemId);e.push(t);let o=e.join(E),i=Object(c.w)(I,o,1);x=Object(c.G)(I,{price:A,flag:T.Increase},N),x=Object(c.G)(x,{price:i,flag:T.Decrease},N),Object(c.v)(I,o)&&(x=Object(c.E)(x,o)),N&&(D=p.sopacPDPCustomization.updatedPrice+A-i)}!r&&v(!0),s(O,f,b),m(D,x,g,h)}else if(Object(a.j)([r,b.length>l,b.length<=d])){v(!1),s(O,!1,b);let e=Object(c.H)({pdpPayloadData:I,forModal:C,modgrps:O.modgrps,getPayloadUpdated:x,modifierPrice:A,isL3Custom:N,getUpdatedPrice:D,userOrderState:p,flag:T.Decrease});x=e.getPayloadUpdated,D=e.getUpdatedPrice,m(D,x,g,h)}else if(Object(a.j)([!r,b.length>=l,b.length<d])){j(o,r),v(!0),s(O,!0,b,!0);let e=Object(c.H)({pdpPayloadData:I,forModal:C,modgrps:O.modgrps,getPayloadUpdated:x,modifierPrice:A,isL3Custom:N,getUpdatedPrice:D,userOrderState:p,flag:T.Increase});x=e.getPayloadUpdated,D=e.getUpdatedPrice,m(D,x,g,h)}},m=(e,t,o,n)=>{const{CONFIRM_UPSIZE_ANALYTICS:d}=l.a,{PDP_PAYLOAD_DATA:c,UPDATE_SHOW_PDP_CUSTOM_MODAL:r}=i.a;n({type:r,value:{updatedPrice:e}}),Object(a.Td)(t)&&n({type:c,value:t}),n({type:d,value:{confirmUpsizeName:o}})},O=(e,t,o,a,i)=>{const{SETFLAGCASE:l}=n.a;switch(e){case l.DEFAULT:case l.FROMEDIT:t(!0),o(a,!0,i);break;case l.ITEMINCLUDES:t(!0);break;default:t(!1)}},b=(e,t,o,i,d,c)=>{const{SETFLAGCASE:r}=n.a,{FROMFLAGEDIT:s}=l.a;if(0===e.length&&c){if(i&&t.minipdpData.fromFlag!==s)return r.DEFAULT;if(t.minipdpData.fromFlag===s&&d&&((e,t)=>{if(Object(a.Td)(t))return t.filter((t=>{let{id:o}=t;return o===e})).length>0;return!1})(o,d))return r.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(o))return r.ITEMINCLUDES},j=(e,t)=>{let{analyticsObjectData:o,currLocation:a}=e;t||Object(d.e)(o,i.a.ADDONS)},p=(e,t,o)=>{const{CUSTOMIZE_BUTTON_TEXT:a,EDIT_BUTTON_TEXT:l}=r.a,{id:n}=e;let d="",u="".concat(t).concat(i.a.HASH_SYMBOL).concat(n);return d=Object(c.v)(o,u)?Object(s.translateWithI18Next)(l):Object(s.translateWithI18Next)(a),d}},1130:function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var a=o(3),i=o.n(a),l=o(62),n=o(28),d=o(73),c=o(5),r=o(35),s=o(6),u=o(41),v=o(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:o,setRef:a=null}=e,{contentText:l="",infoObject:n=null,orderTypes:d=[]}=t,c=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{o(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{ref:a,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:l}),n&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:n.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:o,"data-testid":"form-component",children:c})]})})},O=o(144),b=o(55);var j=e=>{Object(a.useEffect)((()=>{Object(b.o)()}),[]);const{handleClose:t,DispositionModuleForm:o,headerText:l,modalTitleId:n=""}=e;return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsx)(O.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:n,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:l,autoFocus:!0,children:o})})},p=o(21),h=o(9),g=o(0),I=o(407),S=o(16);const N=(e,t)=>{const o=[];for(const l of e){var a,i;const e=null===l||void 0===l||null===(a=l.fields)||void 0===a||null===(i=a.name)||void 0===i?void 0:i.split("-"),n=e[e.length-1].trim().toUpperCase();if(t&&null!==n&&void 0!==n&&n.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:c=!1,name:r,showOption:s=!0,id:u="",dispositionType:v}=l.fields;o.push({buttonText:d,selectDefault:c,type:r,showOption:s,id:u,dispositionType:v})}return o},C=e=>{const{headline:t="",subHeadline:o="",subHeadlineType:a="",title:i=""}=e[0].fields||{};return{modalHeaderText:i,contentText:t,infoObject:{type:a,infoText:o}}},E=(e,t,o,a)=>{var i;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:l,SHOW_CLEAR_CART_ALERT:n}=S.a;null!==e&&void 0!==e&&null!==(i=e.foodLines)&&void 0!==i&&i.length&&!a?Object(c.Fe)(t,{},n,l,o):o()};var T=o(85),f=o(24),x=o(113),D=o(92),A=o(236),y=o(1103),_=o(158),R=o(133),L=o(52);var P=e=>{const{CURRENTLY_CLOSED:t,SORRY:o}=y.a,{userOrderState:i,userOrderStateDispatch:u}=Object(a.useContext)(T.a),{contentData:O={}}=i.dispositionStateData,P=Object(n.c)((e=>e.tenantReducer)),{tenantId:w,disableOrderTypeAnalytic:M,isSpecialEventEnabled:k,enableDeliveryMenuOption:F}=P,{deeplinkSelectedStoreId:H,deepLinkStoreMode:U,isDeepLinkURL:B}=i,W=Object(c.Td)(O)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=e.disposition&&e.disposition.fields||{},{headline:i=[],supportedDispositions:l=[]}=a,n={modalHeaderText:"",modalContent:{}},d=o?l:l.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(o=t.dispositionType)||void 0===o?void 0:o.toUpperCase())!==g.Cf}));n.modalContent.orderTypes=N(d,t);const{modalHeaderText:c,contentText:r,infoObject:s}=C(i);return n.modalHeaderText=c,n.modalContent.contentText=r,n.modalContent.infoObject=s,n}({dispositionData:O,deepLinkStoreMode:U,isSpecialEventEnabled:k,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:V=""}=W;const{SEARCH_ORDER_DATA:Y,MENU_URL:z,DISPOSITION_DATA:q,CURRENT_STORE_INFO:K,SCHEDULE_ORDER_TIME_DATA:J,SELECTED_TILE_DATA:Q,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:oe,SET_REDIRECTION_PATH:ae}=S.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:ie,TYPE_TAKE_WAY:le,TYPE_DELIVERY:ne,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:ce,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:se,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:Oe}=I.a,{ENABLE_ADDRESS_LOCALISATION:be,SHOW_MAP_VIEW_BUTTON:je}=L.a,pe=i&&i.dispositionStateData&&i.dispositionStateData.dispositionType?i.dispositionStateData.dispositionType:null;let he="";const ge=Object(c.Sd)(i.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):i.dispositionNew,Ie=Object(n.b)(),Se=Object(l.g)(),[Ne,Ce]=Object(a.useState)(""),[Ee,Te]=Object(a.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:fe={},qrCodeScanTime:xe}=Object(n.c)((e=>e.cartReducer)),{customerId:De=""}=Object(n.c)((e=>e.profileReducer));let Ae=Object(n.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:ye=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:Re={}}=Object(n.c)((e=>Object(c.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Le}}=I.a;Object(a.useEffect)((()=>{Ie(Object(d.u)()),Ie(Object(d.t)()),Ie(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(U,Se)}),[Ie]);const Pe=Object(a.useCallback)(((e,t)=>{e.stopPropagation();E(fe,u,(()=>{Te({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Le,u,fe]);Object(a.useEffect)((()=>{U&&Ie(Object(d.l)({storeId:H,tenantId:w},null,(()=>{Te({showError:!0,errMsg:Object(s.translateWithI18Next)(re),errDesc:null,buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Pe(e,!1)})})))}),[ce,re,U,H,Ie,w]);const we=(e,t,o,a)=>{e.stopPropagation(),e.preventDefault();const i=t.split("-");if(he=i[i.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=ie),a&&(he=a),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(c.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},c.Bb)})({selectedDispositionType:he}),U){const e={data:[{storeId:H,channel:f.b.channel,service:g.fe},{storeId:H,channel:f.b.channel,service:g.Eb}],store:[{...Re,service:g.fe},{...Re,service:g.Eb}],tenantId:w,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Ce(he),Ie(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};E(fe,u,t,o)}else[ie,le,ne,de].includes(he.toUpperCase())&&(u({type:oe,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:q,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:be,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:l=!1,loggedIn:n=!1}=Ae,r=Object(c.od)(l,n);((e,t)=>{var o;t||Object(b.p)(null===h.a||void 0===h.a||null===(o=h.a.selectOrderType)||void 0===o?void 0:o.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(c.h)(he),"%userType%":r},M)},Me=async(e,t)=>{const o=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(c.Mb)(t)));if(null!==o&&void 0!==o&&o.length){var a,l,n,d,v,m,O,j,p,h,I,S,N;const e={time:"ASAP",interval:null===o||void 0===o||null===(a=o[0].summary.timings.scheduled.periods[0])||void 0===a?void 0:a.interval,date:new Date,selectedTime:"ASAP"},s=await Object(c.nb)(Ie,!0,xe,null===o||void 0===o?void 0:o[0],Object(c.Mb)(t),De,e);Ie(Object(r.f)({data:s,tenantId:w})),u({type:$,value:{oldvalue:ge,newValue:{store:null===o||void 0===o?void 0:o[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===i||void 0===i||null===(l=i.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===o||void 0===o?void 0:o[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===i||void 0===i||null===(n=i.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress})),Object(c.ze)(null===o||void 0===o||null===(d=o[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(O=m.address)||void 0===O||null===(j=O.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(c.vf)();const g={storeID:null===o||void 0===o||null===(p=o[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===o||void 0===o||null===(h=o[0])||void 0===h||null===(I=h.addresses)||void 0===I||null===(S=I[0])||void 0===S||null===(N=S.address)||void 0===N?void 0:N.pinCode};Object(b.y)(g),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let o=e||null;u({value:{selectedData:{}},type:Q}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),u({value:o,type:K}),Ie(Object(x.a)({...Ae,localized:!0})),u({value:{selectedDateTime:t},type:J}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(P)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP"),Se.push({pathname:"".concat(z)})})(null===o||void 0===o?void 0:o[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===ie?Te({showError:!0,errMsg:Object(s.translateWithI18Next)(ve),errDesc:null,buttonText:Object(s.translateWithI18Next)(me),buttonCTA:e=>we(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===le&&Te({showError:!0,errMsg:Object(s.translateWithI18Next)(ue),errDesc:null,buttonText:Object(s.translateWithI18Next)(Oe),buttonCTA:e=>we(e,g.Fb,!0)})})(t)};Object(a.useEffect)((()=>{if(ye.length>0&&!_e&&Ne&&U){var e,a,i;((e,a)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Te({showError:!0,errMsg:"".concat(Object(s.translateWithI18Next)(o)," ").concat(a," ").concat(Object(s.translateWithI18Next)(t)),errDesc:Object(s.translateWithI18Next)(se),buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Pe(e,!0)})})(null===ye||void 0===ye?void 0:ye.filter((e=>{var t,o,a,i,l,n,d,c,r,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===ye||void 0===ye||null===(e=ye[0])||void 0===e||null===(a=e.name)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)}}),[ye,_e,U]);const ke=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ae,value:{redirectionOrder:""}}),u({type:oe,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),B&&Object(c.Bd)(Se)};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&ke(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:G,onDispositionMethodSubmit:we}),He=Object(v.jsx)(j,{handleClose:ke,DispositionModuleForm:Fe,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ee||void 0===Ee?void 0:Ee.showError)&&Object(v.jsx)(A.a,{handleClose:null,CartAlertForm:Object(v.jsx)(D.a,{title:null===Ee||void 0===Ee?void 0:Ee.errMsg,contentMsg:null===Ee||void 0===Ee?void 0:Ee.errDesc,confirmButtonText:null===Ee||void 0===Ee?void 0:Ee.buttonText,confirmHandler:null===Ee||void 0===Ee?void 0:Ee.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),He]})}},1131:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o(17),i=o(6),l=o(15),n=o(4);const d=[{key:a.d.roundTheClock,image:l.a.RoundTheClockDark,label:Object(i.translateWithI18Next)(n.a.ROUND_THE_CLOCK)},{key:a.d.birthday,image:l.a.BirthdayDark,label:Object(i.translateWithI18Next)(n.a.BIRTHDAY)},{key:a.d.breakfast,image:l.a.BreakfastDark,label:Object(i.translateWithI18Next)(n.a.BREAKFAST)},{key:a.d.contactless,image:l.a.ContactlessDark,label:Object(i.translateWithI18Next)(n.a.CONTACTLESS)},{key:a.d.driveThru,image:l.a.DrivethruDark,label:Object(i.translateWithI18Next)(n.a.DRIVETHRU)},{key:a.d.driveThruOnly,image:l.a.DrivethruDark,label:Object(i.translateWithI18Next)(n.a.DRIVETHRU)},{key:a.d.foodCourt,image:l.a.FoodCourtDark,label:Object(i.translateWithI18Next)(n.a.FOODCOURT)},{key:a.d.wifi,image:l.a.WifiDark,label:Object(i.translateWithI18Next)(n.a.FREE_WIFI)},{key:a.d.wifiOnly,image:l.a.WifiDark,label:Object(i.translateWithI18Next)(n.a.WIFI)},{key:a.d.kiosks,image:l.a.KiosksDark,label:Object(i.translateWithI18Next)(n.a.KIOSKS)},{key:a.d.parking,image:l.a.ParkingDark,label:Object(i.translateWithI18Next)(n.a.PARKING)},{key:a.d.playground,image:l.a.PlaygroundDark,label:Object(i.translateWithI18Next)(n.a.PLAYGROUND)},{key:a.d.refill,image:l.a.RefillDark,label:Object(i.translateWithI18Next)(n.a.REFILL)},{key:a.d.terraces,image:l.a.TerracesDark,label:Object(i.translateWithI18Next)(n.a.TERRACES)},{key:a.d.phc,image:l.a.AccessibilityDark,label:Object(i.translateWithI18Next)(n.a.ACCESSIBILTY)},{key:a.d.accessibility,image:l.a.AccessibilityDark,label:Object(i.translateWithI18Next)(n.a.ACCESSIBILTY)},{key:a.d.restroom,image:l.a.RestRoomDark,label:Object(i.translateWithI18Next)(n.a.RESTROOM)},{key:a.d.cateringType,image:l.a.BirthdayDark,label:Object(i.translateWithI18Next)(n.a.CATERING_TEXT)}],c=(e,t)=>d.filter((t=>{var o,a;return(null===e||void 0===e||null===(o=e.amenities)||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},1132:function(e,t,o){"use strict";t.a={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelections",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"}},1133:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));const a={URL:"/images/offers/lg/",PNG:".png",IMAGES:"/images/",DEFAULT_IMAGE_PATH:"/images/items/no-image.jpg",VIEW_DETAIL_IMAGE_PATH:"/images/offers/detail/",PROMOS_CARD_IMAGE_PATH:"/images/offers/card/",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,CONTENT_DATA_MAX_LENGTH_TO_SHOW:9,TIME_IN_MILLISECONDS:1e3,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},BUTTON_TEXT:{VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},OFFERS_HEADER_TEXT:{OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},FADE_CARD_INDEX:3,DEFAULT_PAGE_SIZE:6,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]}},1134:function(e,t,o){"use strict";o.d(t,"a",(function(){return E}));var a=o(3),i=o(75),l=o.n(i),n=o(144),d=o(5),c=(o(0),o(1099)),r=o(61),s=o(85),u=o(16),v=o(28),m=o(145),O=o(262),b=o(35),j=o(15),p=o(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:o,SetCustomizableFoodItemsList:i,calculateTotalAmountHandler:l,isEditSelection:n}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=O.a,{userOrderState:I,userOrderStateDispatch:S}=Object(a.useContext)(s.a),{MINI_PDP_DATA:N,FROMFLAGEDIT:C,EDIT_CLICKED:E}=u.a,{QUANTITY_ACTION:T}=r.a,f=o[t],x=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[D,A]=Object(a.useState)(!1),{Single_Arrow_Edit:y}=j.a,_=(e,a)=>{f.quantity=a===T.Increase?(null===f||void 0===f?void 0:f.quantity)+1:(null===f||void 0===f?void 0:f.quantity)-1;const n=o;n[t]=f,i(n),l()};Object(a.useEffect)((()=>{var e;let t=!0;null===f||void 0===f||null===(e=f.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[f.modGrps]),Object(a.useEffect)((()=>{Object(d.tc)(x,f,I,D,h,b.v),A(!1)}),[x,D]);return Object(p.jsxs)(p.Fragment,{children:[n?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,o;S({type:N,value:{id:null===f||void 0===f||null===(e=f.foodItems)||void 0===e?void 0:e.id,flag:C,foodLineId:t}}),S({type:g}),S({type:E,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===f||void 0===f?void 0:f.tenantId,catalogName:null===f||void 0===f?void 0:f.catalog,itemId:null===f||void 0===f||null===(o=f.foodItems)||void 0===o?void 0:o.id})),A(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===f||void 0===f?void 0:f.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(f.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:y,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===f||void 0===f?void 0:f.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(f.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(c.a,{itemCount:null===f||void 0===f?void 0:f.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:T,maxItemCountPerLineItem:null===f||void 0===f?void 0:f.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var I=o(6);const S=e=>{const{addNewProductHandler:t,currencySymbol:o,updateCartHandler:a,customizableFoodItemsList:i,SetCustomizableFoodItemsList:l,totalAmount:n,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r,checkItemExpiry:s}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,m=Object.keys(i).length;return Object(p.jsxs)("div",{children:[Object.keys(i).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:l,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r}))),c?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(I.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(I.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{s({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:a,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(I.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:o+n})]})})]})]})};var N=o(1109),C=o(397);const E=e=>{var t;const{filteredPreviousData:o,tenantData:i,dname:c,cardId:r,categoryId:s,categoryName:u,categoryUrl:m,itemCount:O,availability:j,imageName:h,itemFoodlineId:g,customizable:I,isFavouriteMenu:E=!1,cartData:T,clickHandler:f,handleClose:x,foodId:D,isEditSelection:A,headerText:y,pricewithouttax:_}=e,R=Object(v.b)(),{discountTotal:L="",couponCode:P=""}=Object(d.zb)(T)||{},w=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=Object(d.od)(null===w||void 0===w?void 0:w.localized,null===w||void 0===w?void 0:w.loggedIn),{flatResponse:{productMapById:k={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=i,[H,U]=Object(a.useState)({}),[B,W]=Object(a.useState)(0),{currencyConversionFactor:G,currencySymbol:V,componentOptions:Y}=i,{web:{global:{showPriceWithTax:z=!1}={}}={}}=null!==Y&&void 0!==Y?Y:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:x,modalTitle:y},[K,J]=Object(a.useState)(-1),[Q,X]=Object(a.useState)([]),Z=()=>{J(-1),x&&x()},$=()=>{0===Q.length&&0===K?Z():Q&&null!==Q&&void 0!==Q&&Q.length&&K<=Q.length&&((()=>{var e,t,o,a;R(Object(b.x)({params:{basketId:null===T||void 0===T?void 0:T.id,basketLineItemId:null===(e=Q[K])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=Q[K])||void 0===t?void 0:t.quantity,isBundle:Object(C.e)((null===(o=Q[K])||void 0===o?void 0:o.foodItemId)||(null===(a=Q[K])||void 0===a?void 0:a.mdmId))}))})(),J(K+1))};Object(a.useEffect)((()=>{$()}),[Q]),Object(a.useEffect)((()=>{if(-1===K){var e;const t={...H};null===T||void 0===T||null===(e=T.foodLines)||void 0===e||e.forEach((e=>{var o,a;if(null!==e&&void 0!==e&&null!==(o=e.item)&&void 0!==o&&o.customizable&&(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)===D){var l,n;const o=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:o,displayName:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.displayName,modGrps:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps,maxItemCountPerLineItem:null===i||void 0===i?void 0:i.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===T||void 0===T?void 0:T.catalog,categorySelected:s}}})),U(t),J(0)}else K===Q.length?(Z(),R(Object(b.u)(new Date))):$()}),[null===T||void 0===T?void 0:T.foodLines]),Object(a.useEffect)((()=>{ee()}),[H]);const ee=()=>{let e=0;Object.values(H).forEach((t=>{const o=z?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*o})),W((e/G).toFixed(2))},te=Object(p.jsx)(n.a,{...q,children:Object(p.jsx)(S,{...e,"data-testid":"ModalTemplate",filteredPreviousData:o,addNewProductHandler:e=>{const t={id:r,itemCount:O,product:{productName:c,productImage:h,productPrice:Object(d.Fc)(j[0],_,G,z)},itemFoodlineId:g},o={catId:s,catName:u,catUrl:m};E?f(e,t,I,o):(f(e,t,I,o),x&&x())},currencySymbol:V,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==T&&void 0!==T&&T.id&&F){var e,t;const o=Object.values(H),a=o.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(a);const l=null===o||void 0===o?void 0:o[0],{foodItems:n,unitPrice:c,quantity:r,previousQty:s}=null!==l&&void 0!==l?l:{},u=r-s;let v="".concat(Object(d.uc)(null===n||void 0===n?void 0:n.modGrps));const{categoryId:m="NA",categoryName:O="NA"}=null!==(e=null===k||void 0===k?void 0:k[null===n||void 0===n?void 0:n.id])&&void 0!==e?e:{};Object(N.a)({item_name:Object(d.oc)(null===n||void 0===n?void 0:n.name),item_id:Object(d.oc)(null===n||void 0===n?void 0:n.id),item_category:O,price:Object(d.oc)(c/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:O,item_list_id:m,index:1,quantity:u,coupon:P,discount:L/G,currency:null===i||void 0===i?void 0:i.currencyShortName},M,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(c/G))||void 0===t?void 0:t.toFixed(2)),P,null===i||void 0===i?void 0:i.currencyShortName)}},customizableFoodItemsList:H,SetCustomizableFoodItemsList:U,totalAmount:B,calculateTotalAmountHandler:ee,isEditSelection:A,handleClose:x})});return l.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(158),n=o(403),d=o(6),c=o(5),r=o(85),s=o(0),u=o(15),v=o(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:o,isMobile:m,onPositionChangeHandler:O,centerIndex:b,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=c.N,passAddress:I,storeCardHeight:S,latLongValue:N}=e,{PLACE_PIN:C}=l.a,{userOrderState:E}=i.a.useContext(r.a),{dispositionStateData:T={}}=E,{dispositionType:f=localStorage.getItem("dispositionType")}=T;let x,D,A=i.a.createRef();const[y,_]=Object(a.useState)(N),[R,L]=Object(a.useState)(!1),{RedMarker:P,RedMarkerNoText:w,BlackMarker:M,ArrowIcon:k}=u.a;Object(a.useEffect)((()=>{x=F(y),D=H(y)}),[]),Object(a.useEffect)((()=>{_(N),L(!1)}),[N]),Object(a.useEffect)((()=>{F(y),D=H(y)}),[y,b,R]);const F=e=>new window.google.maps.Map(A.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[b]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!m,gestureHandling:"greedy"}),H=e=>{const t=new window.google.maps.Geocoder;let o=e;x=F(o),j?R||(x.addListener("zoom_changed",(()=>{p(!1),L(!0)})),x.addListener("drag",(()=>{p(!1),L(!0)}))):(x.addListener("drag",(()=>{o={lat:x.getCenter().lat(),lng:x.getCenter().lng()},D.setPosition(o)})),window.google.maps.event.addListener(x,"dragend",(function(){!function(e,t,o){e.geocode({location:o},((e,t)=>{"OK"===t&&e[0]&&I(e[0].formatted_address)}))}(t,0,o)})));let a=Object(c.ad)(Array.isArray(o)&&o.length>0,o,[o]).map(((e,t)=>{let o=new window.google.maps.Marker({position:e,map:x,visible:!0,icon:Object(c.qd)(!j,!R&&j&&t===b)?(null===f||void 0===f?void 0:f.toUpperCase())===s.Df?w:P:M});return o.addListener("click",(function(e){g(e.latLng)})),o}));return Object(c.ad)(Array.isArray(o),a,a[0])};return Object(v.jsxs)(i.a.Fragment,{children:[!t&&((null===f||void 0===f?void 0:f.toUpperCase())!==s.Df||""!==o&&o?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(C)})})),m&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(S+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.hb)(0===b,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.ad)(0===b,e.preventDefault(),O(0)),children:Object(v.jsx)(n.a,{srcFile:k,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(b===y.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>b===y.length-1?e.preventDefault():O(1),children:Object(v.jsx)(n.a,{srcFile:k,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:A})]})}},1136:function(e,t,o){"use strict";o.d(t,"b",(function(){return m})),o.d(t,"h",(function(){return g})),o.d(t,"f",(function(){return S})),o.d(t,"e",(function(){return N})),o.d(t,"d",(function(){return C})),o.d(t,"a",(function(){return E})),o.d(t,"g",(function(){return T})),o.d(t,"c",(function(){return f}));var a=o(1133),i=o(214),l=o(5),n=o(12),d=o(35),c=o(14),r=o(11);const{URL:s,PNG:u,IMAGES:v}=a.a,m=(e,t,o)=>{const a=[...t];return!t.length&&a.push({cardType:"empty"}),!e&&a.push({cardType:"login"}),a},O=e=>"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1)),b=e=>"FALSE"!==String(e).toUpperCase()&&Object(l.ue)(e),j=(e,t,o)=>{let a="";return null!==o&&void 0!==o&&o.length?o.forEach((e=>{var o;e.attribute===t&&(a=null===e||void 0===e||null===(o=e.value[0])||void 0===o?void 0:o.value)})):e.forEach((e=>{e.key===t&&(a=e.value)})),a},p=e=>{let t=Object(l.ue)(String(e));return"string"==typeof t&&(t={},t.value=null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"")),e},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null===e||void 0===e?void 0:e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>");return Object(i.a)("".concat(t))},g=e=>e.length>25?e.substring(0,22)+"...":e,I=e=>{var t;const o=null===e||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name)));return null!==o&&void 0!==o&&o.length?null===o||void 0===o?void 0:o.map((e=>{var t,o;return null===(t=Object(l.b)(null!==(o=null===e||void 0===e?void 0:e.parameter)&&void 0!==o?o:"{}"))||void 0===t?void 0:t.items})).reduce(((e,t)=>null===e||void 0===e?void 0:e.concat(t))):[]},S=(e,t)=>e.map((e=>{var o,a,i,l,n,d,c,r,v,m,g,S,N,C,E,T,f,x,D,A,y,_,R,L,P,w,M,k,F,H,U,B,W,G;return{couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.title)&&(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a?void 0:a.title.length)&&h(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i||null===(l=i.title[0])||void 0===l?void 0:l.value),smallText:(null===e||void 0===e||null===(n=e.promotionDetails)||void 0===n?void 0:n.description)&&(null===e||void 0===e||null===(d=e.promotionDetails)||void 0===d?void 0:d.description.length)&&(null===e||void 0===e||null===(c=e.promotionDetails)||void 0===c||null===(r=c.description[0])||void 0===r?void 0:r.value),imageSrc:(null===e||void 0===e||null===(v=e.promotionDetails)||void 0===v?void 0:v.image)&&(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.image.length)&&s+(null===e||void 0===e||null===(g=e.promotionDetails)||void 0===g||null===(S=g.image[0])||void 0===S?void 0:S.value)+u,imageName:(null===e||void 0===e||null===(N=e.promotionDetails)||void 0===N||null===(C=N.image)||void 0===C?void 0:C.length)&&(null===e||void 0===e||null===(E=e.promotionDetails)||void 0===E||null===(T=E.image[0])||void 0===T?void 0:T.value)+(null===t||void 0===t||null===(f=t.componentOptions)||void 0===f||null===(x=f.web)||void 0===x||null===(D=x.coupons)||void 0===D?void 0:D.imageType)+"?ver="+(null===t||void 0===t?void 0:t.imageVersion),validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:(G=null===e||void 0===e||null===(A=e.promotionDetails)||void 0===A?void 0:A.conditions,null===G||void 0===G?void 0:G.map((e=>{var t;return{displayOrder:e.displayOrder,message:null===(t=e.displayMessage[0])||void 0===t?void 0:t.value,parameter:p(null===e||void 0===e?void 0:e.parameter)}})).sort(((e,t)=>+e.displayOrder-+t.displayOrder))),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,itemDetails:null===e||void 0===e?void 0:e.itemDetails,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(y=e.promotionDetails)||void 0===y?void 0:y.cardType,header:j(null===e||void 0===e||null===(_=e.promotionDetails)||void 0===_?void 0:_.customProperties,"header",null===e||void 0===e||null===(R=e.promotionDetails)||void 0===R?void 0:R.customAttributesCulture),hideEndDate:j(null===e||void 0===e||null===(L=e.promotionDetails)||void 0===L?void 0:L.customProperties,"hideEndDate",null===e||void 0===e||null===(P=e.promotionDetails)||void 0===P?void 0:P.customAttributesCulture),legalText:j(null===e||void 0===e||null===(w=e.promotionDetails)||void 0===w?void 0:w.customProperties,"legalText",null===e||void 0===e||null===(M=e.promotionDetails)||void 0===M?void 0:M.customAttributesCulture),showTimer:j(null===e||void 0===e||null===(k=e.promotionDetails)||void 0===k?void 0:k.customProperties,"showTimer",null===e||void 0===e||null===(F=e.promotionDetails)||void 0===F?void 0:F.customAttributesCulture),promoParameters:I(null===e||void 0===e?void 0:e.promotionDetails),...(W=null!==e&&void 0!==e&&null!==(H=e.promotionDetails)&&void 0!==H&&H.customAttributesCulture?null===e||void 0===e||null===(U=e.promotionDetails)||void 0===U?void 0:U.customAttributesCulture:null===e||void 0===e||null===(B=e.promotionDetails)||void 0===B?void 0:B.customProperties,(null===W||void 0===W?void 0:W.length)&&W.reduce(((e,t)=>{let{key:o,value:a}=t;return{...e,[O(o)]:"TRUE"===String(a).toUpperCase()||b(a)}}),{}))}})),N=e=>{if(e){const t=Object(n.M)(e),o=Object(n.o)(),a=Object(n.G)(t,o,"seconds"),i=String(a).includes("-");return t.isValid()&&!i}return!1},C=e=>{const t=Object(n.M)(e),o=Object(n.o)(),a=Object(n.G)(t,o,"hour"),i=o.add(a,"hours"),l=Object(n.G)(t,i,"minute"),d=i.add(l,"minutes"),c=Object(n.G)(t,d,"second");return"".concat(a,"HR : ").concat(l,"M : ").concat(c,"S")};function E(e,t,o,a){e(Object(d.b)({basketId:null===t||void 0===t?void 0:t.id,tenantId:a},{couponCode:o}))}const T=(e,t,o)=>!e&&t(o),f=e=>{let{tenantId:t,useBucketSize:o,imagePath:a,imageName:i}=e;return"".concat(Object(c.a)(r.Qb)).concat(t).concat(v).concat(((e,t)=>{const o=t+"/";if(e)return o+Object(l.wb)(window.innerWidth)+"/";return o})(o,a)).concat(i)}},1137:function(e,t,o){"use strict";o.d(t,"b",(function(){return I}));var a=o(3),i=o.n(a),l=o(144),n=o(41),d=o(28),c=o(61),r=o(6),s=o(397),u=o(5),v=o(1095),m=(o(46),o(85)),O=o(0),b=o(15),j=o(20),p=o.n(j),h=o(1168),g=o(2);const I=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"};t.a=e=>{var t,o,j,S,N,C;const{isMobile:E,openIndulgentModal:T,handleClose:f,removeItemCart:x,IndulgentData:D,modalTitle:A,continueButtonText:y,toastMassage:_,callBackMethod:R,imageContainerSize:L,addToCart:P,productId:w="",ruleNameDetails:M={},errorBackMethod:k,showSectionView:F=!0,buttonClass:H="redButton",showCaloricValue:U=!1,showServesValue:B=!1,indulgentUpsellConstants:W={},renderedFromPLP:G=!1,isRestrictedDisabled:V=!1}=e,{ruleName:Y,recommendationType:z=""}=M,{INDULGENT_ADD_ON:q}=c.a,{ADD_TO_CART:K}=q,{userOrderState:J}=Object(a.useContext)(m.a),Q=Object(d.b)(),{tickWhiteToast:X}=b.a,{cartReducer:Z,userParams:$,tenantReducer:ee,storesReducer:te,menuReducer:oe,marketConfigReducer:ae}=Object(d.c)((e=>{var t;return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response}})),ie=Object(u.fb)(ee),{couponCode:le,discountTotal:ne}=Object(u.zb)(null===Z||void 0===Z?void 0:Z.cartData),{headerData:{pdpBackgroundImage:de={}}={}}=ae,ce=Object(u.lb)(de),{flatResponse:re={}}=oe||{},se=(null===te||void 0===te||null===(t=te.storesWithStatus)||void 0===t?void 0:t.length)&&(null===te||void 0===te||null===(o=te.storesWithStatus[0])||void 0===o||null===(j=o.summary)||void 0===j?void 0:j.timeZoneIANA),{loggedIn:ue,localized:ve}=$,me=(Oe=J,p()(Oe.dispositionNew)?JSON.parse(localStorage.getItem(O.gd.DISPOSITION_NEW)):Oe.dispositionNew);var Oe;const be=null===me||void 0===me?void 0:me.type;var je;const pe=((e,t)=>{var o,a,i,l,n;return(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(a=o.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n?void 0:n.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((je=me)?je.store:{},ee),he=null===ee||void 0===ee||null===(S=ee.componentOptions)||void 0===S||null===(N=S.web)||void 0===N||null===(C=N.global)||void 0===C?void 0:C.pricewithNumberofDecimalDigit,[ge,Ie]=Object(a.useState)(0),[Se,Ne]=Object(a.useState)(0),[Ce,Ee]=Object(a.useState)(1);let Te;var fe,xe,De;G?Te=F:Te=null===ee||void 0===ee||null===(fe=ee.componentOptions)||void 0===fe||null===(xe=fe.web)||void 0===xe||null===(De=xe.cartPage)||void 0===De?void 0:De.showIndulgentSectionView;const Ae=i.a.useRef(null),ye={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:T,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==Z&&void 0!==Z&&Z.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:f,modalTitle:Object(r.translateWithI18Next)(A),autoFocus:!0},_e=Object(s.n)(E),Re=Object(u.od)(ve,ue),Le={INDULGENT_ADD_ON:p()(W)?q:W,IndulgentData:D,isMobile:E,recommendationType:z,ruleName:Y,productId:w,userType:Re,flatResponse:re,catalogs:pe,tenantReducer:ee,cartReducer:Z,dispatch:Q,indulgentAddToCartHandler:s.u,rangeValue:ge,updateRangeValue:Ie,currentSlide:Se,updateCurrentSlide:Ne,caroselCount:Ce,setCaroselCount:Ee,carousal:Ae,setPrevArrowCSS:I,couponCode:le,discountTotal:ne,dispositionType:be,showServesValue:B,showCaloricValue:U};return Te?Object(h.a)(Le):Object(g.jsx)("div",{className:"cart-indulgent-global",children:T&&!x&&ve&&Object(g.jsx)(l.a,{...ye,children:Object(g.jsxs)("div",{className:"indulgent-container-global",children:[Object(g.jsx)("div",{className:"indulgent-card-list-global",children:null===D||void 0===D?void 0:D.map(((e,t)=>{var o,a;const i=(null===e||void 0===e?void 0:e.isRestrictedAddon)||(null===e||void 0===e?void 0:e.isHidden);return Object(g.jsxs)("div",{style:Object(u.mb)(ce,_e.cardWidth,_e.cardHeight),className:"indulgent-card-global",children:[Object(u.jc)(null===e||void 0===e?void 0:e.content,ee,L,null===e||void 0===e?void 0:e.imageName),Object(g.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(g.jsx)("div",{className:"indulgent-card-header-global",children:null===e||void 0===e||null===(o=e.dname[0])||void 0===o?void 0:o.value}),Object(g.jsxs)("div",{className:"indulgent-card-price-global",children:[Object(g.jsxs)("div",{children:[null===ee||void 0===ee?void 0:ee.currencySymbol,Object(u.Ec)((l=null===e||void 0===e?void 0:e.availability,l.length>1?Object(v.k)(l,se):l[0]),null===ee||void 0===ee?void 0:ee.currencyConversionFactor,se).toFixed(he)]}),U&&Object(u.we)(null===e||void 0===e?void 0:e.content,ee)]}),Object(g.jsx)(n.c,{className:"btn-padding",inactive:i&&V,variant:n.b.primary,"aria-label":Object(r.translateWithI18Next)(K)+" "+(null===e||void 0===e||null===(a=e.dname[0])||void 0===a?void 0:a.value),"data-testid":"add-to-cart-global-".concat(t),onClickHandler:o=>{Object(s.u)({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:Q,cartReducer:Z,tenantReducer:ee,catalogs:pe,flatResponse:re,category_id:null===e||void 0===e?void 0:e.categoryId,userType:Re,productId:w,ruleName:Y,recommendationType:z,IndulgentData:D,callBackMethod:R,errorBackMethod:k,dispositionType:be,...ie?{isRestrictedAddon:i}:{}}),o.preventDefault(),o.stopPropagation()},children:Object(r.translateWithI18Next)(P)})]})]},null===e||void 0===e?void 0:e.id);var l}))}),Object(g.jsx)("div",{className:"ContinueButton",children:Object(g.jsx)(n.a,{className:"button ".concat(H," indulgent-card-button"),"data-testid":"continue-to-cart",disabled:(null===Z||void 0===Z?void 0:Z.isAddItemLoading)||(null===Z||void 0===Z?void 0:Z.isCouponLoading),onClickHandler:f,children:Object(r.translateWithI18Next)(y)})})]})})})}},1138:function(e,t,o){"use strict";o.d(t,"b",(function(){return f})),o.d(t,"c",(function(){return x}));var a=o(3),i=o(6),l=(o(46),o(264)),n=o(5),d=o(396),c=o(28),r=o(1095),s=o(4),u=o(211),v=o(0),m=o(15),O=o(85),b=o(132),j=o(80),p=o(145),h=o(35),g=o(16),I=o(262),S=o(1141),N=o(1187),C=o(1151),E=(o(1150),o(2));const{CARD_TYPE:T}=u.MENU_PLP_CONSTANT,f=(e,t,o,a,i,l,n)=>{const d=n?" product-card-deactive":"";let c="";return c=e?((e,t,o,a,i)=>e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||a||i)?"small-menu-product-card product-card-active":!e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,a,i,l):t?"medium-menu-product-card product-card-active":"medium-menu-product-card",c+d},x=e=>e?"small-menu-product-image":"medium-menu-product-image",D=(e,t,o)=>{const{Error:a}=m.a;let l="";return o&&(l=Object(E.jsx)("span",{className:"unavailable-text",children:Object(i.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.PRODUCT_UNAVAILABLE)})),e&&t&&(l=Object(E.jsx)("span",{className:"special-event-item-available-time",children:"".concat(e," ").concat(Object(i.translateWithI18Next)("availableAt"))})),Object(E.jsxs)("div",{className:"unavailable-container",children:[Object(E.jsx)("img",{src:a,className:"unavailable-icon",alt:"product-unavaliable"}),l]})};t.a=function(e){var t,o,x,A;const{allowClickOnProductCard:y,discount:_,specials:R,exclusive:L,timer:P,cardId:w,customizable:M,tenantData:k,imageName:F,onCardClickHandler:H,categoryId:U,dName:B,availability:W=[],newitem:G,topseller:V,getSpecificRibbonBanner:Y,userParams:z,item:q,productContent:K,checkForBasePriceInMenu:J,baseprice:Q,cardCat:X,displayPrice:Z,getPriceClassName:$,serves:ee,prodURL:te="",showCateringflag:oe=!1,storeTimeZone:ae,plpbackgroundImageSrc:ie,isAvailable:le,nextAvailableTime:ne,pricewithNumberofDecimalDigit:de,itemCount:ce,veg:re,customlabelfield:se,longDescription:ue,configureOptions:ve,itemFoodlineId:me,openCostomizedModal:Oe,setOpenCostomizedModal:be,cartData:je,pricewithouttax:pe,cardType:he,viewUp:ge,menuCardBtnText:Ie,storeClosedData:Se,clickHandler:Ne,shortDescription:Ce,menuProductDescriptionClassName:Ee,menuProductPriceClassName:Te,getMenuProductHeader:fe,dispositionNew:xe,isNavigating:De}=e,Ae=null===k||void 0===k||null===(t=k.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(x=o.pdp)||void 0===x?void 0:x.plpUrlRedirectionWithUpsellItem,[ye,_e]=Object(a.useState)(Object(n.de)(window.innerWidth)),[Re,Le]=Object(a.useState)(0),{localized:Pe}=Object(n.sd)(z),{Product_Card_Icon:we,ribbonRedOutlined:Me,Error:ke}=m.a,Fe=(null===q||void 0===q?void 0:q.isExcluded)||(null===q||void 0===q?void 0:q.isNotAvailable)||ne||!1===le,{userOrderStateDispatch:He,userOrderState:Ue}=Object(a.useContext)(O.a),{timeBasedCetegory:Be}=Ue,We=Object(c.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{RECOMMENDED_ITEM:Ge}=v.Oc,Ve=Object(b.a)(),Ye=Object(c.b)(),{RESET_MODGROUP_IDS_UPDATE:ze}=I.a,{MINI_PDP_DATA:qe,FROMFLAGEDIT:Ke,EDIT_CLICKED:Je}=g.a,[Qe,Xe]=Object(a.useState)(!1),{allowAddToCartButton:Ze=!0,showVegOrNonVeg:$e,showDescription:et,showKJInfo:tt,showDefaultImage:ot,showPriceForNonLocalized:at,showGenericMenuForNonLocalizedUsers:it}=ve,{web:{global:{showPriceWithTax:lt=!1}={}}={}}=null!==(A=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==A?A:{},nt=Object(n.ad)(null===z||void 0===z?void 0:z.loggedIn,v.cg,""),dt=Object(c.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),ct=Object(c.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),rt=te.slice(-5),st=Ae&&"-prod"!==rt?te+"-prod":te,{ref:ut,inView:vt}=Object(N.a)({triggerOnce:!0}),[mt,Ot]=Object(a.useState)(!1);Object(a.useEffect)((()=>{Object(n.yc)().has(w)?Ot(!0):!De&&vt||mt?(Ot(!0),Object(n.Ae)(w)):Ot(!1)}),[vt,mt,w,De]),Object(a.useEffect)((()=>{window.addEventListener(v.ye,bt)}),[ye]),Object(a.useEffect)((()=>{bt()}),[]);const bt=()=>{let e=Object(n.de)(window.innerWidth);const t=((e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:o,ITEM_IMAGE_WIDTH_MOBILE:a,ITEM_IMAGE_HEIGHT_DESKTOP:i,ITEM_IMAGE_WIDTH_DESKTOP:l}=e;return t?{height:o,width:a}:{height:i,width:l}})(Ge,e);Le(t),_e(e)},jt=()=>{const e=Object(r.k)(W,ae);return lt?Object(n.Ec)(e,null===k||void 0===k?void 0:k.currencyConversionFactor,ae).toFixed(de):Object(n.Jc)(pe,null===k||void 0===k?void 0:k.currencyConversionFactor)},pt=()=>Object(E.jsxs)("div",{className:Te(he),children:[J(Q,X)&&Z(Q,null===k||void 0===k?void 0:k.currencyConversionFactor),Object(E.jsxs)("span",{className:$(Q,X),"data-testid":"item-price",children:[null===k||void 0===k?void 0:k.currencySymbol,jt()]}),ye&&Object(S.h)(e,ye),ye&&Object(E.jsx)("span",{className:"hearticonDiv",children:Object(S.b)(z,e,nt)})]}),ht=e=>tt&&Boolean(null===K||void 0===K?void 0:K.caloricValue)&&Object(E.jsxs)("div",{className:Object(n.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[Pe&&Object(E.jsx)("div",{className:"Dot"}),Object(E.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(K.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!!K.serves&&"".concat(Object(i.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(K.serves," ")]})]}),gt=e=>Object(E.jsxs)("div",{className:Object(n.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[(null===K||void 0===K?void 0:K.caloricValue)&&Object(E.jsxs)("span",{children:[" ","".concat(null===K||void 0===K?void 0:K.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!(null===K||void 0===K||!K.serves)&&"".concat(Object(i.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(null===K||void 0===K?void 0:K.serves," ")]}),ee?Object(E.jsxs)("span",{children:[" ",Object(E.jsx)("div",{className:"Dot","data-testid":"serves-template"}),It()]}):Object(E.jsx)(E.Fragment,{})]}),It=()=>Object(n.ad)(ee,Object(E.jsx)("span",{className:"product-serves",children:" ".concat(Object(i.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES_TEXT)," ").concat(ee)}),Object(E.jsx)(E.Fragment,{})),St=e=>!e&&mt&&Object(n.mb)(ie,Re.width,Re.height)||{},Nt=e=>{var t;return tt?Object(n.ad)(oe,((e,t,o,a,i,l,d)=>Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:l,children:Object(E.jsxs)(E.Fragment,{children:[!(null!==t&&void 0!==t&&t.includes(v.pd))&&a(i),e&&o()]})}),!e&&Object(n.ad)(null===t||void 0===t?void 0:t.includes(v.pd),Object(E.jsx)(E.Fragment,{}),d())]}))(Pe,null===q||void 0===q||null===(t=q.categoryUrl)||void 0===t?void 0:t[0],pt,gt,ye,"Price-and-KJ-info-catering",It),((e,t,o,a,i)=>Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:i,children:[e&&t(),e&&o(a)]})}))(Pe||it&&at,pt,ht,ye,e)):pt()},Ct=e=>{var t,o,a,i,l,c;Ve(Object(j.d)({key:u.SHOW_PDP_ALERT_POPUP,value:!1}));const{event:r,itemId:s,productInfo:m,cardId:O}=e;null===r||void 0===r||r.stopPropagation(),null===r||void 0===r||r.preventDefault();const b=Object(d.g)(O,We),p=null===We||void 0===We||null===(t=We.itemMapById)||void 0===t||null===(o=t[O])||void 0===o?void 0:o.categoryId,h=Object(d.d)(s,Be);if(!Object(d.c)({categoryUrl:b,itemInCart:h,alertType:Object(d.j)(null===Be||void 0===Be?void 0:Be.timebasedItemInCart,null===v.Sb||void 0===v.Sb?void 0:v.Sb.ITEM),categoryId:p,itemId:O},{...Be,menuData:dt,foodLinesItems:(null===ct||void 0===ct||null===(a=ct.cartData)||void 0===a?void 0:a.foodLines)||[]},He)&&(!Object(n.Vd)(null===xe||void 0===xe?void 0:xe.type)||null===r||void 0===r||null===(i=r.target)||void 0===i||null===(l=i.parentElement)||void 0===l||null===(c=l.className)||void 0===c||!c.includes("cart-food-quantity-change")))if(null!==e&&void 0!==e&&e.orderClickHandler){const t={event:r,cardId:w,customizable:M,categoryId:p,itemCount:ce,productInfo:m,itemFoodlineId:me,checkItemExpiry:Ct,menuCardBtnText:Ie,storeClosedData:Se,clickHandler:Ne,dispositionNew:xe};null===e||void 0===e||e.orderClickHandler(t)}else if(Ae){let e="";const t=te.slice(-5);e=Ae&&"-prod"!==t?te+"-prod":te,m.prodURL=e,H(r,w,M,U,m)}else H(r,w,M,U,m)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"plp-item-card ".concat(he===(null===T||void 0===T?void 0:T.CAROUSAL)?"carousal-menu-product-card":f(ye,y,_,R,L,P,Fe)),"data-testid":"click-allow-on-product-".concat(w),id:w,onClick:e=>Object(n.hb)(y,!Fe)&&Ct({event:e,cardId:w,productInfo:{productName:B,productImage:F,productPrice:Object(n.Ec)(W[0],null===k||void 0===k?void 0:k.currencyConversionFactor),prodURL:te,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}}),inactive:Fe,disabled:Fe,ref:ut,children:[!ye&&Object(E.jsx)("div",{style:St(ot),className:"product-image-parent-container",children:mt?Object(S.c)(e,Re,Fe,k,ot,ye):Object(E.jsx)(C.b,{height:201.4,className:"skeleton-absolute"})}),Object(E.jsx)(l.a,{className:Object(n.ad)(R,"specials-product-ribbon",Object(n.ad)(L||se,"exclusive-product-ribbon","discount-product-ribbon")),src:Object(n.ad)(R,we,Object(n.ad)(_||L||se||G||V,Me,""))}),Object(E.jsx)("span",{className:Object(n.ad)(R,"specials-ribbon-text","discount-ribbon-text"),children:P?Object(E.jsxs)("div",{children:[Object(E.jsx)("svg",{src:ke,className:"product-timer"}),Object(E.jsx)("span",{className:"product-timer-text",children:Object(i.translateWithI18Next)(u.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):Y(R,_,L,G,V,se)}),Object(E.jsx)("div",{"data-testid":"menu-card-content-pdp-nav",className:"menu-card-content",inactive:Fe,disabled:Fe,onClick:e=>y&&H(e,w,M,U,{productName:B,productImage:F,productPrice:Object(n.Fc)(W[0],pe,null===k||void 0===k?void 0:k.currencyConversionFactor,lt),prodURL:st,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}),children:ye?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:ge&&"product-columnview",children:[Object(E.jsx)("div",{className:"description-and-image product-image-parent-container",style:St(ot),children:mt?Object(S.c)(e,Re,Fe,k,ot,ye):Object(E.jsx)(C.b,{height:324,className:"skeleton-absolute"})}),Object(E.jsxs)("div",{className:"menu-card-content-wrapper",children:[Object(E.jsx)("div",{className:fe(he,_,R,L,{timer:P,newitem:G,topseller:V,customlabelfield:se}),children:null===B||void 0===B?void 0:B[0].value}),Object(S.f)(et,e,Ce),Fe?D(ne,le,Fe):Nt("Price-and-KJ-info")]})]})}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{"data-testid":"plp-menu-card-header",className:fe(he,_,R,L,{timer:P,newitem:G,topseller:V,customlabelfield:se}),children:null===B||void 0===B?void 0:B[0].value}),Object(S.g)($e,re),Object(S.h)(e,ye),Object(E.jsx)("div",{className:"hearticonDiv",children:Object(S.b)(z,e,nt)}),Fe?D(ne,le,Fe):Nt("Price-and-KJ-info"),Object(S.f)(et,e,Ce)]})}),Object(S.a)(e,Ze,k,(()=>{1===ce?(He({type:qe,value:{id:null===q||void 0===q?void 0:q.mdmId,flag:Ke,foodLineId:me}}),He({type:ze}),He({type:Je,value:{cartEditClicked:!1}}),Ye(Object(p.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===je||void 0===je?void 0:je.catalog,itemId:null===q||void 0===q?void 0:q.mdmId})),Ye(Object(h.v)({showProductListingModal:!0,categorySelected:U}))):(Xe(!0),be(!0))}),nt,Ct,xe)]}),Object(E.jsx)("div",{children:Oe&&Object(S.d)(e,Qe,k,Xe,Ct)})]})}},1139:function(e,t,o){"use strict";o.d(t,"b",(function(){return v}));var a=o(3),i=o(35),l=o(5),n=o(85),d=o(28),c=o(0),r=o(80),s=o(262),u=o(2);const v=(e,t,o)=>{if(e){const{code:a,promoParameters:i,itemDetails:l}=e,n=null===l||void 0===l?void 0:l.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));o(Object(r.d)({key:c.gd.VIEW_PRODUCT,value:{couponCode:a,promoParams:i,priceDetails:n}})),t({type:s.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})}},m=(e,t,o,a,n,d)=>{e(Object(i.i)({couponcode:t,catalog:o,tenantId:a},(t=>((e,t,o,a)=>{v(e,t,o),((e,t)=>{var o,a;const i=null===e||void 0===e||null===(o=e.itemDetails)||void 0===o?void 0:o[0].categoryUrl,l="".concat(null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a[0].url);t.push({pathname:"menu/".concat(i,"/").concat(l)})})(e,a)})(t,n,e,d)),(()=>Object(l.Bd)(d))))};t.a=e=>{const{genericMenuName:t,tenantId:o}=Object(d.c)((e=>e.tenantReducer)),{history:i}=e,l=Object(d.b)(),{userOrderStateDispatch:r}=Object(a.useContext)(n.a);return Object(a.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get(c.Vd.COUPON);e&&t&&m(l,e,t,o,r,i)}),[]),Object(u.jsx)(u.Fragment,{})}},1140:function(e,t,o){"use strict";var a=o(3),i=o(28),l=o(20),n=o.n(l),d=o(415),c=o(421),r=o(57),s=o(1107),u=o(12),v=o(5),m=o(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(i.b)(),{dispositionNew:o}=Object(s.a)(),l=Object(i.c)((e=>e.specialEventReducer||{})),O=Object(i.c)((e=>e.cartReducer||{})),{isLoading:b}=l,{cartData:j}=O,p=e=>(null===e||void 0===e?void 0:e.toUpperCase())===m.Ff,h=Object(a.useMemo)((()=>l.specialEventItemAvailability||[]),[l.specialEventItemAvailability]),g=Object(a.useMemo)((()=>{const{type:e}=o||{},t=Object(d.a)(p,v.Mb);return!!e&&t(e)}),[o]),I=Object(a.useCallback)((function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=h.find((t=>{let{id:o}=t;return o.includes(e)}));if(!a)return!1;const i=null===j||void 0===j||null===(t=j.foodLines)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e})),l=(null===i||void 0===i?void 0:i.quantity)||0,{available:n,stock:d}=a;return n&&parseInt(d)>0&&o?l<=parseInt(d):l<parseInt(d)}),[h,null===j||void 0===j?void 0:j.foodLines]),S=Object(a.useCallback)((e=>{let{date:o,storeId:a,time:i}=e;if(!o||!a||!i)return!1;const l=r.a.formatValue(r.a.dayjs(i,m.sb.h_mm_A),m.sb.HHmm),n=Object(u.A)("".concat(o," ").concat(i),m.sb.YYYY_MM_DD_h_mm_A);t(Object(c.a)(a,n,l))}),[t]),N=Object(a.useCallback)((()=>{if(!g||b)return!1;const{date:e,selectedTime:t,store:a}=o;S({date:e,storeId:a.id,time:t})}),[o,S,g,b]);Object(a.useEffect)((()=>{e&&n()(h)&&N()}),[N,e,h]);return{isAllCartProductsAvailable:()=>{var e;const t=null===O||void 0===O||null===(e=O.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return I(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:h,fetchEventItemAvailability:N,fetchEventItemAvailabilityForDisposition:e=>{if(!g)return!1;S(e)},getEventItemAvailability:I,isEvent:g}}},1141:function(e,t,o){"use strict";o.d(t,"h",(function(){return p})),o.d(t,"b",(function(){return h})),o.d(t,"g",(function(){return g})),o.d(t,"f",(function(){return I})),o.d(t,"e",(function(){return S})),o.d(t,"a",(function(){return E})),o.d(t,"d",(function(){return T})),o.d(t,"c",(function(){return f}));var a=o(5),i=o(6),l=o(15),n=o(211),d=o(395),c=o(1099),r=o(235),s=o(61),u=o(1134),v=o(46),m=o(1138),O=o(402),b=o(397),j=o(2);const p=(e,t)=>{const{configureOptions:o,servingCount:d,getVegNonvegClassName:c,cardType:r,veg:s}=e,{showVegOrNonVeg:u}=o;return u&&Object(j.jsxs)("span",{className:c(r),children:[Object(a.hb)(t,Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(a.ad)(!s,null===l.a||void 0===l.a?void 0:l.a.Non_veg_dot_Icon,null===l.a||void 0===l.a?void 0:l.a.Veg_dot_Icon)})),Object(a.hb)(!t,Object(a.ad)(!s,Object(i.translateWithI18Next)(null===n.MENU_PLP_CONSTANT||void 0===n.MENU_PLP_CONSTANT?void 0:n.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(i.translateWithI18Next)(null===n.MENU_PLP_CONSTANT||void 0===n.MENU_PLP_CONSTANT?void 0:n.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(a.hb)(d,Object(j.jsx)("span",{className:"Dot"})),n.MENU_PLP_CONSTANT.MENU_CARD.SERVES,d]})},h=(e,t,o)=>{const{classFavouriteIconActive:i,classFavouriteIconInActive:n,favouriteItems:d,favouriteButtonClickHandler:c,cardId:r,getCardName:s,item:u,cardType:v,configureOptions:m}=t;if(null!==e&&void 0!==e&&e.loggedIn&&null!==m&&void 0!==m&&m.showAddToFav)return Object(j.jsxs)("picture",{children:[Object(j.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(a.ad)("small-menu-product-card"===s,Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),i(v),n(v)),Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===l.a||void 0===l.a?void 0:l.a.heartIcon_active_red,null===l.a||void 0===l.a?void 0:l.a.heartIcon_inactive_red)),alt:"",className:"menu-product-save ".concat(o),"data-testid":"fav-item-source",onClick:()=>c()}),Object(j.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===l.a||void 0===l.a?void 0:l.a.heartIcon_active,null===l.a||void 0===l.a?void 0:l.a.FavoriteInActiveWhite),alt:"",className:"menu-product-save ".concat(o),"data-testid":"fav-item-largeScreen",onClick:()=>c()}),Object(j.jsx)("img",{src:Object(a.hb)(Array.isArray(d),null===d||void 0===d?void 0:d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))))?i(v):n(v),alt:"",className:"menu-product-save ".concat(o),"data-testid":"save-product-".concat(r),onClick:()=>c()})]})},g=(e,t)=>e&&Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(a.ad)(!t,null===l.a||void 0===l.a?void 0:l.a.Non_veg_dot_Icon,null===l.a||void 0===l.a?void 0:l.a.Veg_dot_Icon)}),I=(e,t,o)=>{var a;const{productContent:i,cardType:l,menuProductDescriptionClassName:n}=t,d=null===i||void 0===i?void 0:i.shortDescription;return e&&Object(j.jsx)("div",{className:n(l),id:"longDescription",children:d||(null===o||void 0===o||null===(a=o[0])||void 0===a?void 0:a.value)})},S=(e,t,o,a)=>{var i,l,n;const d=null===a||void 0===a?void 0:a.maxItemCountPerLineItem,u=null===a||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(n=l.plp)||void 0===n?void 0:n.removeSingleItemInCartFromPLP;return Object(j.jsx)(c.a,{itemCount:e,itemQuantity:null===r.a||void 0===r.a?void 0:r.a.ITEM_QUANTITY,updateItemQuantity:t,quantityAction:null===s.a||void 0===s.a?void 0:s.a.QUANTITY_ACTION,item:void 0,itemName:o,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0,removeSingleItem:u})},N=(e,t)=>Object(a.Vd)(null===e||void 0===e?void 0:e.type)?{isStoreClosed:!1}:t,C=e=>{var t;const{event:o,cardId:a,customizable:i,categoryId:l,itemCount:n,productInfo:d,itemFoodlineId:c,checkItemExpiry:r,menuCardBtnText:s,storeClosedData:u,clickHandler:v,dispositionNew:m}=e;null!==(t=s(N(m,u)))&&void 0!==t&&t.enabled&&n<=0&&v(o,a,i,l,n,d,c,r),o.preventDefault(),o.stopPropagation()},E=(e,t,o,l,c,r,s)=>{var u,v;const{itemCount:m,updateItemQuantity:b,classesCardButton:p,classEnableAddToCart:h,enableAddToCartButton:g,cardType:I,checkLoading:E,storeClosedData:T,cardId:f,menuCardBtnText:x,customizable:D,dname:A,imageName:y,availability:_,prodURL:R,item:L}=e,P={productName:A,productImage:y,productPrice:Object(a.Ec)(null===_||void 0===_?void 0:_[0],null===o||void 0===o?void 0:o.currencyConversionFactor),prodURL:R,categoryURL:null===L||void 0===L?void 0:L.categoryUrl},w=N(s,T);return(t||(e=>Object(a.Vd)(null===e||void 0===e?void 0:e.type))(s))&&Object(j.jsxs)("div",{className:"quantityAddtocart ".concat(m?"cardwithQuantity "+c:"cardwithNoquantity"),children:[!!m&&S(m,b,null===A||void 0===A?void 0:A[0].value,o),w&&Object(j.jsx)("div",{className:p(m,c),children:m<1?Object(j.jsxs)(d.a,{tabIndex:"0",className:h(g,I,E,w),"data-testid":"add-to-cart-".concat(f),disabled:Object(O.w)(w),onClickHandler:t=>{r({event:t,cardId:f,productInfo:P,orderClickHandler:C,props:e})},"aria-label":(null===(u=x(w))||void 0===u?void 0:u.btnText)+(null===A||void 0===A?void 0:A[0].value),children:[null===(v=x(w))||void 0===v?void 0:v.btnText,Object(a.J)(w.isStoreClosed)]}):D&&Object(j.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>r({cardId:f,productInfo:P,orderClickHandler:l,props:e}),children:Object(i.translateWithI18Next)(n.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})},T=(e,t,o,l,d)=>{var c;const{setOpenCostomizedModal:r,filteredPreviousData:s,updateItemQuantity:v,dname:m,clickHandler:O,cardId:b,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,customizable:S,openCostomizedModal:N,cartData:C,setShowTopScrollBtn:E,imageName:T,itemFoodlineId:f,item:x,prodURL:D}=e,A={productName:m,productImage:T,productPrice:Object(a.Ec)(null===g||void 0===g?void 0:g[0],null===o||void 0===o?void 0:o.currencyConversionFactor),prodURL:D,categoryURL:null===x||void 0===x?void 0:x.categoryUrl};return Object(j.jsx)(u.a,{handleClose:()=>{r(!1),l(!1)},filteredPreviousData:s,updateItemQuantity:v,tenantData:o,dname:m,clickHandler:O,cardId:b,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,imageName:T,itemFoodlineId:f,customizable:S,setOpenCostomizedModal:r,openCostomizedModal:N,cartData:C,setShowTopScrollBtn:E,foodId:null===(c=e.item)||void 0===c?void 0:c.mdmId,isEditSelection:t,headerText:Object(a.ad)(t,Object(i.translateWithI18Next)(n.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(i.translateWithI18Next)(n.MENU_PLP_CONSTANT.SELECT_QUANTITY)),checkItemExpiry:d,productInfo:A})},f=(e,t,o,i,l,n)=>{var d;const{productContent:c,imageName:r}=e,s=null!==c&&void 0!==c&&null!==(d=c.image)&&void 0!==d&&d.mainImage&&null!==t&&void 0!==t&&t.width&&null!==t&&void 0!==t&&t.height?Object(a.qc)(c,t.width,t.height):Object(a.bc)(r,i);return Object(j.jsx)(v.a,{"data-testid":"product-image",className:"".concat(l&&Object(b.t)(l)," ").concat(Object(m.c)(n)),srcFile:s,alt:"",inactive:o,disabled:o,defaultPath:l&&Object(a.bc)(null,i,!0)})}},1142:function(e,t,o){"use strict";var a=o(3),i=o(28),l=o(62),n=o(1146),d=o(1096),c=o(145),r=o(16),s=o(410),u=o(85),v=o(1179),m=o(35),O=o(5),b=o(400),j=o(0),p=o(61),h=o(398),g=o(20),I=o.n(g),S=o(397),N=o(2);const C={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},E=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),T=(e,t,o)=>{var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:o}};t.a=Object(l.j)((e=>{var t,o;const{productList:l=[],cardType:j="",tenantData:g={},categoryId:f,categoryName:x,categoryUrl:D,catalogs:A,storeClosedData:y,setShowTopScrollBtn:_}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:L,PLP_PDP_DETAILS:P,MINI_PDP_DATA:w,FROMFLAGPLP:M}=r.a,{PlpProductCard:k={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=b.a,[H,U]=Object(a.useState)(1),B=Object(i.b)(),W=Object(i.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:V={}}={}}=null!==(o=Object(i.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==o?o:{},{cartData:Y={}}=Object(O.sd)(W),z=Object(i.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,K]=Object(a.useState)(e.selectedCat),[J,Q]=Object(a.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(a.useContext)(u.a),[$,ee]=Object(a.useState)(null),{showCartAlert:te}=Object(s.a)(void 0,void 0,void 0,void 0,Z,B,void 0);Object(a.useEffect)((()=>{Q(!1)}));const{addToCartAnalyticsOnly:oe}=Object(s.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,B,void 0),ae=(e,t,o,a)=>{var i;if(z.localized&&I()(null===W||void 0===W||null===(i=W.cartData)||void 0===i?void 0:i.id)){const{id:e,itemCount:t}=a,o=[{Id:e,categoryId:f,quantity:t+1,modGrps:[]}],i=!0;Object(O.I)(B,m.f,null===g||void 0===g?void 0:g.tenantId,X,null===W||void 0===W?void 0:W.qrCodeScanTime,i,o)}else((e,t,o,a)=>{var i;const{id:l,itemCount:n,product:d,itemFoodlineId:r}=a,{catId:s}=o,{id:u="",name:v="",url:O=""}=null!==(i=null===V||void 0===V?void 0:V[s])&&void 0!==i?i:{};if(e&&e.stopPropagation(),ee(l),z.localized){if(t)K(s),Z({type:w,value:{id:l,flag:M,foodLineId:""}}),Z({type:F}),B(Object(c.c)({tenantId:g.tenantId,catalogName:A,itemId:l}));else if(0===n){var b;B(Object(m.a)({params:{basketId:null===W||void 0===W||null===(b=W.cartData)||void 0===b?void 0:b.id},tenantId:g.tenantId},[{Id:l,categoryId:u,quantity:n+1,modGrps:[],categoryName:v,categoryUrl:O}])),B(Object(m.u)(new Date)),oe(T(l,d,r),R.Increase,g.currencyConversionFactor)}else if(n>0){var j;B(Object(m.x)({params:{basketId:null===W||void 0===W||null===(j=W.cartData)||void 0===j?void 0:j.id,basketLineItemId:r},tenantId:g.tenantId},{quantity:n+1,isBundle:Object(S.e)(l)})),B(Object(m.u)(new Date)),oe(T(l,d,r),R.Increase)}}else Q(!0),Z({type:L,value:{addToCart:!0,productItemId:l,categoryId:f,oldProduct:d,customizable:t,catalogs:A,fromPdpPage:!1}})})(e,t,o,a)},ie=Object(i.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(a.useEffect)((()=>{ie&&q&&X.minipdpData.itemId===ie.id&&B(Object(m.v)({showProductListingModal:!0,categorySelected:q}))}),[ie]);const le=()=>{te(!0)},ne={...C,beforeChange:(e,t)=>{U(Math.round(t+1))},variableWidth:!1},de=(t,o,a,i)=>{const{catId:l,catName:n,catUrl:d}=i,{productId:c,productInfo:r}=o;t.preventDefault(),t.stopPropagation();const s={productId:c,customizable:a,catId:l,catalogName:A,productInfo:r,isFromPlp:!0,categoryName:n,categoryUrl:d};Z({type:P,value:s}),localStorage.setItem(h.p,JSON.stringify(s)),e.history.push({pathname:"/pdp/".concat(f,"/").concat(c)})},ce=(e,t,o)=>{B(Object(c.a)({tenantId:e,customerId:o},t))},re=(e,t,o)=>{B(Object(c.b)({tenantId:e,customerId:t,itemId:o}))},se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,o=Object(O.ve)(t.additionalProperties);return Object(N.jsx)(n.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:k,tenantData:g,servingCount:o.servings,button:e.button,categoryId:f,categoryName:x,categoryUrl:D,clickHandler:ae,customizable:t.customizable,onCardClickHandler:de,userParams:z,openAlertModal:le,storeClosedData:y,addFavourite:ce,removeFavourite:re,setShowTopScrollBtn:_,"data-testid":"menu-card-component",...o,...t},t.id)};return Object(N.jsxs)("div",{className:"product-container",children:[J&&Object(N.jsx)(v.a,{}),"carousal"===j?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"individual-card-counter",children:[H,"/",l.length]}),Object(N.jsx)(d.b,{settings:ne,children:E(l,se)})]}):E(l,se)]})}))},1143:function(e,t,o){"use strict";o.d(t,"b",(function(){return Q}));var a=o(3),i=o.n(a),l=o(420),n=o.n(l),d=o(395),c=o(404),r=o(263),s=o(85),u=o(16),v=o(120),m=o(28),O=o(73),b=o(12),j=o(5),p=o(62),h=o(113),g=o(158),I=o(46),S=o(6),N=o(4),C=o(35),E=o(24),T=o(107),f=o(0),x=o(394),D=o(411),A=(o(1155),o(15)),y=o(55),_=o(600),R=o(2);const{ORDER_TYPE:L,YOUR_KFC_RESTAURANT:P,YOUR_LOCATION:w,EDIT:M,SCHEDULE_FOR_YOUR_ORDER_TEXT:k,DATE:F,TIME:H,CONFIRM_BTN_TEXT:U,DELIVERY_UNAVAILABLE_ERROR:B,SWITCH_TO_TAKEAWAY_TEXT:W,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:V,ERROR_MESSAGE_CLOSED:Y,SCHEDULE_ORDER:z,CHANGE_ORDER_TITLE:q,ASAP_SERVES_Warning_Message:K}=N.a,J=(e,t,o)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(o)),Q=e=>"ASAP"!==e&&"-"!==e?e:Object(b.S)(Object(b.o)(),g.a.HHMM,g.a.LT),X=(e,t)=>{let o={};return"-"!==e&&"ASAP"!==e?o={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(o={isForNow:!0,futureDateTime:0}),o},Z=(e,t,o)=>{let a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(j.Kb)(a.type):t?f.Mb.PICKUP:Object(j.Kb)(o)};function $(e,t,o){var a;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||o(null===(a=e[0])||void 0===a?void 0:a.timestr):o("-")}t.a=Object(p.j)((e=>{var t,o,l,p,N,te,oe,ae,ie,le,ne,de,ce,re,se,ue,ve;const{SingleArrow:me,Calendar:Oe,Error:be}=A.a,je=Object(a.useRef)(null),pe=Object(a.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Ie,SCHEDULE_ORDER_DATA:Se,DISPOSITION_DATA:Ne,SCHEDULE_ORDER_TIME_DATA:Ce,CLOSED:Ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Te,MENU_URL:fe,PDP_URL:xe,SELECTED_TILE_DATA:De,DISPOSITION_METHOD:Ae,SET_DISPOSITION:ye,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:Le,clearCartChangeFlag:Pe,orderTypeAlertTitle:we,searchStoreAlertTitle:Me,CURRENT_STORE_INFO:ke,SET_FORCERELOAD:Fe}=u.a,He=Object(m.c)((e=>e.profileReducer)),{userOrderState:Ue,userOrderStateDispatch:Be}=Object(a.useContext)(s.a),{dispositionStateData:We={},scheduleOrderData:Ge={}}=Ue,{changeFlow:Ve=!1,isAddressFlow:Ye=!1}=Ge,ze=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:qe=""}=We,Ke=qe||localStorage.getItem("dispositionType"),{value:Je=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Qe=""}=Ge&&(null===(o=Ge.selectedDateTimeInfo)||void 0===o||null===(l=o.date)||void 0===l?void 0:l.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Ge&&(null===(p=Ge.selectContentData)||void 0===p||null===(N=p.savedTime)||void 0===N?void 0:N.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(oe=Ge.storeInfo)||void 0===oe||null===(ae=oe.summary)||void 0===ae?void 0:ae.timings)||{},tt=Object(j.Sd)(Ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ue.dispositionNew,{unavailibilities:ot,unavailibilityType:at}=$e,{interval:it=0,startEndTime:lt={}}=$e&&(null===$e||void 0===$e||null===(ie=$e.periods)||void 0===ie?void 0:ie.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:nt,to:dt}=lt;let ct=Object(m.c)((e=>e.appStateReducer.userStatus));const rt=Object(m.b)(),st=Object(m.c)((e=>e.tenantReducer)),ut=Object(m.c)((e=>e.storesReducer)),vt=Object(m.c)((e=>e.cartReducer)),{cartData:mt}=vt,{storesAvilableTimeSlots:Ot,storesTimeSlots:bt}=ut,[jt,pt]=Object(a.useState)(!1),[ht,gt]=Object(a.useState)({error:!1,errormessage:""}),[It,St]=Object(a.useState)({from:nt,to:dt,interval:it}),[Nt,Ct]=Object(a.useState)({error:!1,openStoreTime:""}),Et=(null===(le=Ge.storeInfo)||void 0===le||null===(ne=le.summary)||void 0===ne||null===(de=ne.status)||void 0===de?void 0:de.currentStatus)===Ee,Tt=()=>{var e;return Ve?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ye&&(null===Ke||void 0===Ke?void 0:Ke.toUpperCase())===g.a.TYPE_DELIVERY},[ft,xt]=Object(a.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[Dt,At]=Object(a.useState)(et&&et.isAvailable?"ASAP":Object(b.S)(null===lt||void 0===lt?void 0:lt.from,"hh:mm","LT")),[yt,_t]=Object(a.useState)([]),[Rt,Lt]=Object(a.useState)(!1),[Pt,wt]=Object(a.useState)(!1),[Mt,kt]=Object(a.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{kt(Object(j.de)(window.innerWidth))};Object(a.useEffect)((()=>{window.addEventListener("resize",Ft)}),[Mt]),Object(a.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:E.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};rt(Object(O.c)({data:t,tenantId:st.tenantId}))}let t=Object(v.j)(nt,dt,it,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country),ot,at);return _t(t),()=>{rt(Object(O.a)())}}),[]);const Ht=e=>{var t,o;if("INDIA"===(null===st||void 0===st?void 0:st.country))return;const a=Object(b.h)(e,"YYYY-MM-DD");if($e.date===a){let t=Object(v.j)(nt,dt,it,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),ot,at);return _t(t),At(t[0].timestr),St({from:nt,to:dt,interval:it}),xt(e),gt({...ht,error:!1,errormessage:""}),Lt(!1),void wt(!1)}const i={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:E.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:a};if(rt(Object(O.c)({data:i,tenantId:st.tenantId})),xt(e),(null===Ot||void 0===Ot||null===(o=Ot.periods)||void 0===o?void 0:o.length)>0){const{startEndTime:e,interval:t}=Ot.periods[0],{from:o,to:a}=e;let i=Object(v.j)(o,a,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),ot,at);St({from:o,to:a,interval:t}),_t(i)}gt({...ht,error:!1,errormessage:""})},Ut=e=>{const t=new Date,o=new Date(e.split("T")[0]);return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()},Bt=e=>{var t;At("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let o=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ut(Qe)?"Today":"Tomorrow"});xt(o),Lt(!1),wt(!1),gt({...ht,error:!1,errormessage:""})};Object(a.useEffect)((()=>{const e=Xe;Qe&&Ht(new Date(Qe)),((e,t,o,a,i,l)=>{if(e&&t){const e=Object(b.S)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)?l(i):l(t)}})(Ve,e,nt,Qe,Xe,Bt),((e,t,o,a,i)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var l;const e={storeid:null===t||void 0===t||null===(l=t.storeInfo)||void 0===l?void 0:l.id,channel:E.b.channel,service:Object(j.Mb)(o()).toString().toLowerCase(),date:""};a(Object(O.c)({data:e,tenantId:null===i||void 0===i?void 0:i.tenantId}))}})(Ze,Ge,$t,rt,st)}),[]),Object(a.useEffect)((()=>{let e=Object(j.ad)(Ve,Object(S.translateWithI18Next)(q),Object(S.translateWithI18Next)(z));var t;if(Object(j.Td)(bt)&&jt)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ee)gt({...ht,error:!0,errormessage:Object(S.translateWithI18Next)(Y)}),Object(j.Ob)(e,Object(S.translateWithI18Next)(Y));else{let t=new Date;if(new Date(ft).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(b.o)().add(et.promiseTime,"minutes").format("LT");Object(b.c)(t,Dt,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(S.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(S.translateWithI18Next)(G))):J(he,fe,xe)?Wt():Gt()}else J(he,fe,xe)?Wt():Gt()}}),[bt,He]);const Wt=()=>{var t,o;Be({type:De,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(st)),localStorage.setItem("selectedTile",JSON.stringify({}));const a=null===he||void 0===he?void 0:he.pathname,i=null===ze||void 0===ze||null===(t=ze.summary)||void 0===t?void 0:t.name,l=null===st||void 0===st||null===(o=st.componentOptions)||void 0===o?void 0:o.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(fe),...!Object(j.ce)(a)&&{state:{toastData:{storeName:i,service:Ke,showToastAfterLocalization:l}}}})},Gt=async()=>{Be({type:Se,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),Be({type:Ae,value:{dispositionType:Ke}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),Be({type:ke,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),Be({type:Ie,value:{showSearchStore:!1}});let e="",t="";"ASAP"===Dt||"-"===Dt?(e="ASAP",t="ASAP"):(e=Dt,t=Dt),Be({type:Fe,value:{forceReload:!0}});let o=Q(Dt);const a=Object(b.A)(Object(b.h)(ft,"YYYY-MM-DD")+" "+o,"YYYY-MM-DD hh:mm A");let i={time:e,interval:It.interval,date:ft,epochTime:a,selectedTime:Dt},l=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==ze.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(ze,Object(j.Mb)(Ke),null===He||void 0===He?void 0:He.customerId,i,l,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);rt(Object(C.m)("")),rt(Object(C.f)({data:e,tenantId:st.tenantId}))}rt(Object(h.a)({...ct,localized:!0})),Be({type:ye,value:{oldvalue:tt,newValue:{type:$t(),store:ze,date:i.date,time:i.time,epochTime:i.epochTime,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:l}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:ze,date:i.date,time:i.time,epochTime:i.epochTime,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:l})),Object(j.vf)(),Be({type:Ce,value:{selectedDateTime:i}}),Be({type:Te,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder",t)};Object(a.useEffect)((()=>{var e;let t,o={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(Ot||{}).length){var a,i,l;const{startEndTime:e,interval:d}=Object(j.qd)(null===(a=Ot[0])||void 0===a?void 0:a.periods[0],o),{startEndTime:c}=Object(j.qd)(null===(i=Ot[1])||void 0===i?void 0:i.periods[0],o),{from:r}=e,{to:s}=c;var n;if(t=Object(v.j)(r,s,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(l=Ot[0])||void 0===l?void 0:l.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===st||void 0===st?void 0:st.country),ot,at),St({from:r,to:s,interval:d}),_t(t),$(t,Xe,Bt),!Ot.find((e=>e.date===Qe.split("T")[0])))xt(new Date(null===(n=Ot[0])||void 0===n?void 0:n.date))}else if(Object.keys(Ot||{}).length){var d,c;const{startEndTime:e,interval:a}=Object(j.qd)(null===(d=Ot[0])||void 0===d?void 0:d.periods[0],o),{from:i,to:l}=e;var r;if(t=Object(v.j)(i,l,a,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===st||void 0===st?void 0:st.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(c=Ot[0])||void 0===c?void 0:c.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),ot,at),St({from:i,to:l,interval:a}),_t(t),$(t,Xe,Bt),!Ot.find((e=>e.date===Qe.split("T")[0])))xt(new Date(null===(r=Ot[0])||void 0===r?void 0:r.date))}const s=localStorage.getItem("modalSource");var u;null!==st&&void 0!==st&&st.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Et&&"fromChangeStoreButton"!==s&&(null===(e=t)||void 0===e?void 0:e.length)>0&&Ct({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(Ot)]);const Vt=e=>{var t,o;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(o=pe.current)&&void 0!==o&&o.contains(e.target)||(Lt(!1),wt(!1))};Object(a.useEffect)((()=>(document.addEventListener("mousedown",Vt),()=>{document.removeEventListener("mousedown",Vt)})),[]);const Yt=()=>{Be({type:Ie,value:{showSearchStore:!0}}),Be({type:Se,value:{showDisposition:!1}}),Be({type:Ae,value:{dispositionType:"Pickup"}})},zt=null===Ge||void 0===Ge||null===(ce=Ge.storeInfo)||void 0===ce||null===(re=ce.availableServicesPerChannel)||void 0===re||null===(se=re.find((e=>"web"===e.channel)))||void 0===se?void 0:se.services,qt=null===zt||void 0===zt?void 0:zt.includes("delivery"),Kt=Object(j.hb)(Tt(),!qt),Jt=()=>{let e=Object(S.translateWithI18Next)(V),t=!1;return qt&&(e=Object(S.translateWithI18Next)(B),t=!0),{showTakeWayButton:t,message:e}},{message:Qt}=Jt();Object(a.useEffect)((()=>{Object(T.g)(Ve,Qt)}),[Qt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Jt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(I.a,{srcFile:be,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Yt,children:Object(S.translateWithI18Next)(W)})})]})},Zt=e=>{var t;let{orderType:o}=e,a=Object(S.translateWithI18Next)(K),i=null===a||void 0===a?void 0:a.replace("%time%",Nt.openStoreTime);return i=null===(t=i)||void 0===t?void 0:t.replace("%servesName%",o),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),i]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ve&&e?e.type:Ye?"Pickup":Ke},eo=Ve?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(c.a,{value:Z(Ve,Ye,Ke),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:we};Object(j.Fe)(Be,e,Re,Le)}else Be({type:Ne,value:{showDisposition:!0}});Be({type:Se,value:{showScheduleOrderCatering:!1}}),Be({type:Ie,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(S.translateWithI18Next)(M)})})]}),ht&&ht.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),ht.errormessage]}),Mt&&Kt&&Object(R.jsx)(Xt,{}),Object(R.jsx)("h3",{className:"order-type",children:Tt()?Object(S.translateWithI18Next)(w):Object(S.translateWithI18Next)(P)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(c.a,{value:Tt()?eo:Je||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Tt()?Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(Be({type:Ae,value:{dispositionType:Ve?JSON.parse(localStorage.getItem("dispositionNew")).type:Ke}}),mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:Me};Object(j.Fe)(Be,e,Re,Le)}else Be({type:Ie,value:{showSearchStore:!0}});Be({type:Se,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(S.translateWithI18Next)(M)}):Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:Me};Object(j.Fe)(Be,e,Re,Le)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ye)Be({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];Be({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}Be({type:Se,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ve)}}),Be({type:Ae,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(S.translateWithI18Next)(M)})})]}),!Mt&&Kt&&Object(R.jsx)(Xt,{}),(null===Nt||void 0===Nt?void 0:Nt.error)&&Object(R.jsx)(Zt,{orderType:Z(Ve,Ye,Ke)}),Object(R.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(k)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(S.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===st||void 0===st?void 0:st.country)?Object(R.jsxs)(i.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>wt(!Pt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(n.a,{selected:ft,showPopperArrow:!1,onChange:e=>Ht(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Pt,readOnly:!0}),Object(R.jsx)("img",{src:Oe,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(i.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(b.h)(ft,"YYYYMMDD")===Object(b.e)("YYYYMMDD")&&Object(S.translateWithI18Next)("today")||Object(S.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(S.translateWithI18Next)(H)}),Object(R.jsxs)("div",{className:ee(yt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Lt(!Rt),onClick:()=>0!==$e.periods.length&&Lt(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:Dt}),Object(R.jsx)("img",{src:me,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===yt||void 0===yt||!yt.length)&&(null===yt||void 0===yt?void 0:yt.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{Ct((e=>({...e,error:!1}))),Bt(e)},onKeyPress:()=>Bt(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(S.translateWithI18Next)(U),onClickHandler:e=>{var t,o,a,i,l;Object(y.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===ze||void 0===ze?void 0:ze.id,disposition:Ke,postCode:null===ze||void 0===ze||null===(t=ze.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};ge(n),Object(x.J)(n,Dt),Object(D.a)(Ge),pt(!0);let d=Q(Dt);const c=Object(b.A)(Object(b.h)(ft,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),r={storeid:null===Ge||void 0===Ge||null===(a=Ge.storeInfo)||void 0===a?void 0:a.id,channel:E.b.channel,service:null===(i=Object(j.Mb)($t()))||void 0===i||null===(l=i.toString())||void 0===l?void 0:l.toLowerCase(),futureDateTimeInEpochFormat:c,asap:Dt===f.s};rt(Object(O.n)({data:r,tenantId:st.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const o=null===ze||void 0===ze||null===(e=ze.summary)||void 0===e?void 0:e.name,a=null===st||void 0===st||null===(t=st.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(_.a)(o,Ke,a)}}))),null!==mt&&void 0!==mt&&mt.id&&rt(Object(O.q)({params:{basketId:null===mt||void 0===mt?void 0:mt.id},tenantId:st.tenantId,postBody:X(Dt,c)})),Be({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(S.translateWithI18Next)(U)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,o){"use strict";o.d(t,"a",(function(){return H}));var a=o(3),i=o(28),l=o(398),n=o(5),d=o(235),c=o(61),r=o(410),s=o(6),u=o(35),v=o(395),m=o(46),O=o(264),b=o(1099),j=o(1112),p=o(1134),h=o(0),g=o(15),I=o(145),S=o(85),N=o(16),C=o(262),E=o(2);const T=(e,t,o,a,i)=>Object(n.ad)(e||t||o||a||i,g.a.ribbonRedOutlined,null);var f=function(e){var t,o,r;const{getCardTypeName:f,cardType:x,allowClickOnProductCard:D,discount:A,specials:y,exclusive:_,timer:R,cardId:L,customizable:P,getProductImageClassName:w,tenantData:M,imageName:k,onCardClickHandler:F,categoryId:H,categoryName:U,categoryUrl:B,dname:W,availability:G=[],newitem:V,topseller:Y,customlabelfield:z,getSpecificRibbonBanner:q,userParams:K,favouriteItems:J,item:Q,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:oe,veg:ae,servingCount:ie,getVegNonvegClassName:le,menuProductPriceClassName:ne,checkForBasePriceInMenu:de,baseprice:ce,cardCat:re,displayPrice:se,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:Oe,configureOptions:be,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Ie,menuCardBtnText:Se,clickHandler:Ne,itemFoodlineId:Ce,openCostomizedModal:Ee,setOpenCostomizedModal:Te,filteredPreviousData:fe,cartData:xe,CARD_TYPE:De,setShowTopScrollBtn:Ae,pricewithouttax:ye}=e,_e=Object(i.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=C.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:Pe,EDIT_CLICKED:we}=N.a,{userOrderStateDispatch:Me}=Object(a.useContext)(S.a),[ke,Fe]=Object(a.useState)(!1),[He,Ue]=Object(a.useState)(Object(n.de)(window.innerWidth)),{ITEM_QUANTITY:Be}=d.a,{QUANTITY_ACTION:We}=c.a,Ge=Object(n.ad)(null===K||void 0===K?void 0:K.loggedIn,h.cg,""),{allowAddToCartButton:Ve=!0}=be,{web:{global:{showPriceWithTax:Ye=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:ze,Veg_dot_Icon:qe,Product_Card_Icon:Ke,TimerIcon:Je,FavoriteInActiveWhite:Qe,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(a.useEffect)((()=>{window.addEventListener(h.ye,et)}),[He]);const et=()=>{Ue(Object(n.de)(window.innerWidth))},tt=()=>Object(E.jsxs)("div",{className:ne(x),children:[Object(n.hb)(de(ce,re),se(ce,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(E.jsxs)("span",{className:ue(ce,re),children:[l.o.MENU_CARD.CURRENCY,Object(n.Fc)(G[0],ye,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye).toFixed(2)]})]}),ot=()=>Object(E.jsxs)("div",{className:le(x),children:[Object(n.hb)(He,Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ae,ze,qe)})),Object(n.hb)(!He,Object(n.ad)(!ae,Object(s.translateWithI18Next)(l.o.MENU_CARD.NON_VEG),Object(s.translateWithI18Next)(l.o.MENU_CARD.VEG))),Object(n.hb)(ie,Object(E.jsx)("div",{className:"Dot"})),l.o.MENU_CARD.SERVES,ie]}),at=()=>{if(null!==K&&void 0!==K&&K.loggedIn)return Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(n.ad)("small-menu-product-card"===Z,Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),X(x),te(x)),Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(E.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Xe,Qe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(E.jsx)("img",{src:Object(n.hb)(Array.isArray(J),null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))))?Xe:Qe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},it=()=>Object(E.jsx)(m.a,{"data-testid":"product-image",className:w(x),defaultPath:Object(n.bc)(null,M,!0),srcFile:Object(n.bc)(k,M),onClick:e=>Object(n.Nf)(D,F,[e,L,P,H,{productName:W,productImage:k,productPrice:Object(n.Fc)(G[0],ye,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}]),alt:""}),lt={productId:L,productInfo:{productName:W,productImage:k,productPrice:Object(n.Fc)(G[0],ye,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}},nt={catId:H,catName:U,catUrl:B},dt={id:L,itemCount:ee,product:{productName:W,productImage:k,productPrice:Object(n.Ec)(G[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:Ce};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:f(x,D,A,y,_,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(n.Zd)()&&P&&Object(E.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),x!==De.SMALL&&it(),Object(E.jsx)(O.a,{src:Object(n.ad)(y,Ke,T(z,A,_,V,Y)),className:Object(n.ad)(y,"specials-product-ribbon",Object(n.ad)(Object(n.jb)(_,z),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(E.jsx)("span",{className:Object(n.ad)(y,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(E.jsxs)("div",{children:[Object(E.jsx)(O.a,{src:Je,className:"product-timer"}),Object(E.jsx)("span",{className:"product-timer-text",children:Object(s.translateWithI18Next)(l.o.MENU_CARD.TIMER)})]}):q(y,A,_,V,Y,z)}),Object(n.hb)(!He,at()),Object(E.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{D&&F(e,lt,P,nt)},children:[Object(E.jsx)("div",{className:oe(x,A,y,_,{timer:R,newitem:V,topseller:Y,customlabelfield:z}),children:null===W||void 0===W?void 0:W[0].value}),He?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"description-and-image",children:[Object(E.jsx)("div",{className:ve(x),id:"longDescription",children:me[0].value}),x===De.SMALL&&it()]}),Object(E.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),ot(),Object(E.jsx)("div",{className:"hearticonDiv",children:at()})]})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ae,ze,qe)}),ot(),tt(),Object(E.jsx)("div",{className:ve(x),id:"longDescription",children:me[0].value})]})]}),Object(E.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(ct=ee,rt=Oe,st=null===W||void 0===W?void 0:W[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(E.jsx)(b.a,{itemCount:ct,itemQuantity:Be,updateItemQuantity:rt,quantityAction:We,item:void 0,itemName:st,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ve&&je&&Object(E.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(E.jsxs)(v.a,{tabIndex:"0",className:he(ge,x,Ie,je),"data-testid":"add-to-cart-".concat(L),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Se(je))&&void 0!==t&&t.enabled&&ee<=0&&Ne(e,P,nt,dt)},"aria-label":(null===(o=Se(je))||void 0===o?void 0:o.btnText)+(null===W||void 0===W?void 0:W[0].value),children:[null===(r=Se(je))||void 0===r?void 0:r.btnText,Object(n.J)(je.isStoreClosed)]}):P&&Object(E.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Le,value:{id:null===Q||void 0===Q?void 0:Q.mdmId,flag:Pe,foodLineId:Ce}}),Me({type:Re}),Me({type:we,value:{cartEditClicked:!1}}),_e(Object(I.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===xe||void 0===xe?void 0:xe.catalog,itemId:null===Q||void 0===Q?void 0:Q.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:H}))):(Fe(!0),Te(!0))},children:Object(s.translateWithI18Next)(l.o.EDIT_SELECTIONS)})})]})]}),Object(E.jsx)("div",{children:Ee&&(()=>{var t;return Object(E.jsx)(p.a,{handleClose:()=>{Te(!1),Fe(!1)},filteredPreviousData:fe,updateItemQuantity:Oe,tenantData:M,dname:W,clickHandler:Ne,cardId:L,categoryId:H,categoryName:U,categoryUrl:B,itemCount:ee,availability:G,pricewithouttax:ye,imageName:k,itemFoodlineId:Ce,customizable:P,setOpenCostomizedModal:Te,openCostomizedModal:Ee,cartData:xe,setShowTopScrollBtn:Ae,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:ke,headerText:Object(n.ad)(ke,Object(s.translateWithI18Next)(l.o.EDIT_QUANTITY),Object(s.translateWithI18Next)(l.o.SELECT_QUANTITY))})})()})]});var ct,rt,st,ut};const{CARD_TYPE:x}=l.o,{FavoriteInActiveWhite:D,heartIcon_active:A,heartIcon_activeFavourite:y,heartIcon_inactive_red:_}=g.a,R=(e,t,o,a,i,l)=>e===x.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===x.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===x.SMALL?((e,t,o,a,i)=>e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||a||i)?"small-menu-product-card product-card-active":!e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,a,i,l):e===x.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===x.LARGE?"menu-product-image":e===x.MEDIUM?"medium-menu-product-image":e===x.SMALL?"small-menu-product-image":e===x.CAROUSAL?"carousal-menu-product-image":void 0,P=(e,t,o,a,i)=>{let{timer:l,newitem:n,topseller:d,customlabelfield:c}=i;return e===x.LARGE?"menu-product-header":e===x.MEDIUM?"medium-menu-product-header":e===x.SMALL?t||o||a||l||n||d||c?"small-menu-product-header-shift":"small-menu-product-header":e===x.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===x.LARGE?"menu-vegOrNonVeg":e===x.MEDIUM?"medium-menu-vegOrNonVeg":e===x.SMALL?"small-menu-vegOrNonVeg":e===x.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===x.LARGE?"menu-product-price":e===x.MEDIUM?"medium-menu-product-price":e===x.SMALL?"small-menu-product-price":e===x.CAROUSAL?"carousal-menu-product-price":"",k=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===x.LARGE?"menu-product-description":e===x.MEDIUM?"medium-menu-product-description":e===x.SMALL?"small-menu-product-description":e===x.CAROUSAL?"carousal-menu-product-description":"",H=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,U=e=>{const{ADD_TO_CART:t}=d.a;let o=Object(s.translateWithI18Next)(t),a="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(o="Store Closed",a="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(o="Store Closed",a="store-closed",i=!1),{btnText:o,className:a,enabled:i}},B=(e,t,o,a)=>e?"".concat(((e,t)=>{let o,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case x.LARGE:o="menu-cart-button";break;case x.MEDIUM:o="medium-menu-cart-button";break;case x.SMALL:o="small-menu-cart-button";break;case x.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(a," ").concat(o)})(t,o)," ").concat(U(a).className):"button btn-black medium-menu-cart-button",W=(e,t,o,a,i,d)=>{let c;return c=d?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(o?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:Object(s.translateWithI18Next)(l.o.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(E.jsx)("span",{"data-testid":"new-id",children:Object(s.translateWithI18Next)(l.o.MENU_CARD.NEW)}):Object(n.ad)(i,Object(E.jsx)("span",{"data-testid":"topseller-id",children:Object(s.translateWithI18Next)(l.o.MENU_CARD.TOP_SELLER)}),null))),c},G=e=>e===x.CAROUSAL?A:y,V=e=>e===x.CAROUSAL?D:_,Y=(e,t)=>Boolean(e)&&"recommended"!==t,z=(e,t)=>{let o;return o=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"price-display",children:"old price"}),Object(E.jsxs)("span",{className:"base-price-menu",children:[l.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),o};t.b=e=>{var t,o;const{cardId:l,cardType:d,discount:s,specials:v,exclusive:m,timer:O,availability:b=[],tenantData:p,customizable:h,categoryId:g,activeId:I,addFavourite:S,removeFavourite:N,item:C,isHidden:T,cardFor:D,setShowTopScrollBtn:A,userParams:y}=e,{QUANTITY_ACTION:_}=c.a,q=Object(i.b)(),K=null===p||void 0===p?void 0:p.tenantId,{componentOptions:J={}}=p,{PlpProductCard:Q={}}=J,{allowClickOnProductCard:X=!1}=Q,Z=Object(i.c)((e=>e.cartReducer)),$=Object(i.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(n.sd)(Z),[oe,ae]=Object(a.useState)(0),[ie,le]=Object(a.useState)(null),[ne,de]=Object(a.useState)(0),ce=null===$||void 0===$?void 0:$.id,re=Object(i.c)((e=>{var t;return Object(n.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[se,ue]=Object(a.useState)(!0),[ve,me]=Object(a.useState)("product"),{flatResponse:{productMapById:Oe={}}={}}=null!==(t=Object(i.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[be,je]=Object(a.useState)(""),[pe,he]=Object(a.useState)(0),[ge,Ie]=Object(a.useState)([]),[Se,Ne]=Object(a.useState)(!1),[Ce,Ee]=Object(a.useState)(""),{couponCode:Te="",amount:fe=0}=(null===ee||void 0===ee||null===(o=ee.discountLines)||void 0===o?void 0:o[0])||{},{foodLines:xe,total:De}=ee,Ae=Number((De/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),ye=[{couponCode:Te,amount:Number((fe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(a.useEffect)((()=>{D&&me(D)}),[D]),Object(a.useEffect)((()=>{const e=Object(n.Td)(ee)?Object(n.mc)(l,ee):{},t=Object(n.ad)(Object(n.Td)(e),e.count,0),o=Object(n.ad)(Object(n.Td)(e),e.matchedItemFoodLineId,""),a=Object(n.ad)(Object(n.Td)(e),e.entriesCount,0),i=Object(n.ad)(Object(n.Td)(e),e.itemUnitPrice,"");ae(t),le(o),de(a),he(i)}),[ee,l]);const _e=Object(a.useCallback)((()=>{je(R(d,X,s,v,m,O))}));Object(a.useEffect)((()=>{_e()}),[_e]);Object(a.useEffect)((()=>{ue(!0)}),[oe]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e}));Ie(t)}Ee(e),Ne(!0)},Le=Object(n.hb)(te,I===l);return!T&&Object(E.jsx)(f,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:L,getSpecificRibbonBanner:W,favouriteItems:re,classFavouriteIconActive:G,getCardName:be,favouriteButtonClickHandler:()=>{Object(n.hb)(Array.isArray(re),null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.id)===(null===C||void 0===C?void 0:C.id))))?N(K,ce,C.id):((e,t,o,a)=>{var i;const l=Object(n.td)(null===(i=o[0])||void 0===i?void 0:i.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};S(e,d,a),q(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(K,C,b,ce)},itemCount:oe,classFavouriteIconInActive:V,getMenuProductHeader:P,getVegNonvegClassName:w,menuProductPriceClassName:M,checkForBasePriceInMenu:Y,cardCat:ve,displayPrice:z,getPriceClassName:k,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(y.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let o={foodName:null===C||void 0===C?void 0:C.name,foodItemId:null===C||void 0===C?void 0:C.mdmId,cartPrice:e,modifiers:Object(j.i)(C),customizable:null===C||void 0===C?void 0:C.customizable,quantity:oe,foodLineId:ie};const{itemQuantityHandler:a}=Object(r.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:ye,foodLines:xe,totalAmount:Ae},null===p||void 0===p?void 0:p.tenantId,void 0,Oe,void 0,q,void 0);t===_.Increase?h&&oe>=1?Re(null===o||void 0===o?void 0:o.foodItemId):(!h&&ue(!1),a(o,_.Increase)):ne>1?Re(null===o||void 0===o?void 0:o.foodItemId):(ue(!1),a(o,_.Decrease))}},classesCardButton:H,classEnableAddToCart:B,enableAddToCartButton:se,checkLoading:Le,menuCardBtnText:U,itemFoodlineId:ie,openCostomizedModal:Se,filteredPreviousData:ge,setOpenCostomizedModal:Ne,cartData:ee,CARD_TYPE:x,setShowTopScrollBtn:A,FoodId:Ce})}},1147:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(41),n=o(46),d=o(15),c=o(28),r=o(0),s=o(2);const{Error:u}=d.a,v=e=>{const{show:t,errorObj:o,isInProgress:a,comingFrom:d}=e,{firstBtnCTA:v,secondBtnCTA:m,firstBtnText:O,secondBtnText:b,errMsg:j,firstBtnClassName:p=""}=o,h=Object(c.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:a}));return Object(s.jsx)(i.a.Fragment,{children:!h&&(t?Object(s.jsx)("div",{className:"err-container",children:Object(s.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(s.jsx)(n.a,{srcFile:u,className:"location-alert-icon"}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"location-error-message",children:j}),Object(s.jsxs)("div",{className:"location-error-button-section",children:[d!==r.a&&v&&Object(s.jsx)(l.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(p),onClickHandler:e=>v(e),children:O}),m&&Object(s.jsx)(l.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>m(e),children:b})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const m=i.a.memo(v);t.a=m},1149:function(e,t,o){"use strict";o.d(t,"b",(function(){return I}));var a=o(3),i=o(85),l=o(966),n=o(5),d=o(61),c=o(59),r=o(46),s=o(15),u=o(1106),v=o(6),m=o(1128),O=o(62),b=o(1095),j=o(262),p=o(0),h=o(2);const g=(e,t,o,a,i,l)=>{let n;n=e?Object(b.K)(t,o,a):Object(b.I)(t,o,a),i({type:l,value:n})},I=(e,t,o,a,i,l)=>{let{pdpAddtoCartConfirmButtonDisabled:n}=i,d=e<t;n[l]=d,a({type:o,value:n})};t.a=e=>{var t,o,S,N,C,E,T,f,x,D;const[A,y]=Object(a.useState)(),[_,R]=Object(a.useState)(!1),{QUANTITY_ACTION:L}=d.a,{MAX_ALERT_TEXT_INITIAL:P,MAX_ALERT_TEXT_END:w}=u.a,{PDP_PAYLOAD_DATA:M,UPDATE_SHOW_PDP_CUSTOM_MODAL:k,SET_PDP_BUTTON_DISABLED:F,PEROPTIONMAX_KEY:H,PEROPTIONMIN_KEY:U,SHOW_PDP_CUSTOM_MODAL:B}=j.a,[W,G]=Object(a.useState)(),[V,Y]=Object(a.useState)(),{userOrderState:z,userOrderStateDispatch:q}=Object(a.useContext)(i.a),{tenantData:K,cardData:J,savedCustomizedModifier:Q,saveCustomizedItemCount:X,savedModifierHandler:Z,savedModifiers:$,updatedItems:ee,toRenderCheckBox:te,toRenderQuantityModifier:oe,modgrpData:ae,isModal:ie,isStoreClosed:le,initialRender:ne,setInitialRender:de,catalog:ce,localized:re}=e,{modgrpId:se,max:ue,min:ve,modGrpName:me,additionalProperties:Oe}=ae,{id:be="",isDefault:je,defaultQuantity:pe,name:he,size:ge,isHidden:Ie,quantity:Se,isExcluded:Ne}=J,{pdpPayloadData:Ce,sopacPDPCustomization:Ee,pdpDataForUpdateFoodLine:Te}=z,fe=null===K||void 0===K||null===(t=K.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(S=o.pdp)||void 0===S?void 0:S.pdpToastShowDuration,xe=null===K||void 0===K||null===(N=K.componentOptions)||void 0===N||null===(C=N.web)||void 0===C||null===(E=C.pdp)||void 0===E?void 0:E.pdpCateringItemQuantityLimit,De=null===K||void 0===K||null===(T=K.componentOptions)||void 0===T||null===(f=T.web)||void 0===f||null===(x=f.pdp)||void 0===x?void 0:x.itemCountShouldAtModifierLevel,Ae=Object(O.h)(),ye=((e,t,o,a)=>{const{showCustomizationModId:i="",showCustomizationModGrpId:l=""}=a;return e?"".concat(l).concat(j.a.HASH_SYMBOL).concat(i).concat(j.a.HASH_SYMBOL).concat(o).concat(j.a.HASH_SYMBOL).concat(t):"".concat(o).concat(j.a.HASH_SYMBOL).concat(t)})(ie,be,se,Ee),_e=Object(n.Sd)(z.dispositionNew)?JSON.parse(localStorage.getItem(p.gd.DISPOSITION_NEW)):z.dispositionNew,Re=(null===_e||void 0===_e?void 0:_e.type)&&Object(n.rf)(Object(n.Mb)(null===_e||void 0===_e?void 0:_e.type)),Le=()=>Object(n.Td)(Q)?Q.totalQuantity:0;Object(a.useEffect)((()=>{if(void 0!==A){let e=Object(b.x)(Ce,ye);Object(n.hb)(e!==A,null!==e)&&g(ie,Ce,ye,A,q,M)}}),[A]),Object(a.useEffect)((()=>{if(void 0!==W){let e=Object(b.u)(Ce,ye);if(Object(n.hb)(e!==W,null!==e)){g(ie,Ce,ye,W?1:0,q,M)}}}),[W]),Object(a.useEffect)((()=>{if(oe){var e;let t=null===Q||void 0===Q||null===(e=Q[se])||void 0===e?void 0:e[be];if(t)y(t.quantity),Y(t.quantityDisplay),(null===t||void 0===t?void 0:t.quantity)>0?G(!0):G(!1);else{let e=Object(n.ad)(je,pe,0),t=Object(n.ad)(ne&&!ie,e,Object(b.x)(Ce,ye));t=((e,t)=>{const{isExcluded:o,quantity:a,isModal:i,qty:l}=e;return o?0:null!==t&&void 0!==t&&t.foodLineId&&a&&!i?a:l})({isExcluded:Ne,qty:t,isModal:ie,quantity:Se},Te),X(be,se,"",t)}if(Object(n.Td)(Q)){I(Le(),ve,F,q,z,se);let e=Le();R(e===ue)}}}),[be,Q]);Object(a.useEffect)((()=>{if(te){let e=Object(n.ad)($.length>0,Object(b.u)(Ce,ye),je),t=Object(n.ad)(ie,Object(b.u)(Ce,ye),e),o=Object(m.d)(ee,z,be,t,void 0,ne);Object(m.b)(o,G,Z,J,$)}}),[be,ee,je,$,Z,W]);return Object(h.jsx)(l.default,{...e,isHidden:Ie,selectedProduct:W,updateItemQuantity:(e,t,o)=>{let a=Le();if(t===L.Decrease||ue>a){let e=Object(n.ad)(t===L.Decrease,a-1,a+1);I(e,ve,F,q,z,se),X(be,se,t);let o=Object(b.w)(Ce,ye,1),i=Object(b.G)(Ce,{price:o,flag:t},ie);q({type:M,value:i});let l=t===L.Decrease?Ee.updatedPrice-o:Ee.updatedPrice+o;q({type:k,value:{updatedPrice:l}})}else{let e=Object(h.jsx)(r.a,{srcFile:s.a.ErrorImage}),t="".concat(Object(v.translateWithI18Next)(P)).concat(ue," ").concat(Object(v.translateWithI18Next)(w));Object(n.Df)(t,e,"err-toast",!0),fe&&setTimeout((()=>{c.b.dismiss()}),fe)}},itemCount:V,isModgrpMax:_,onSaveProduct:()=>{let e={modgrpMax:ue,selectedProduct:W,modgrpMin:ve,name:he,size:ge,location:Ae,setInitialRender:de,savedModifierHandler:Z,setSelectedProduct:G,cardData:J,savedModifiers:$,userOrderState:z,userOrderStateDispatch:q,modGrpName:me,pdpPayloadData:Ce,objPath:ye,isModal:ie};Object(b.A)(e)},isStoreClosed:le,handleCateringModifierQuantity:e=>{e.preventDefault();let t=Le(),o=+Object(n.pd)(Oe,H),a=+Object(n.pd)(Oe,U),i={modgrpMax:ue,modgrpMin:ve,modifierMax:o,modifierMin:a,modgrpCount:t,itemCount:A,SET_PDP_BUTTON_DISABLED:F,userOrderStateDispatch:q,userOrderState:z,modgrpId:se,pdpCateringItemQuantityLimit:xe},l=Object(b.L)(e,i),d=l.valueToCount,c=l.valueToDisplay;if(!1!==d){X(be,se,null,d,c);let e=Object(b.w)(Ce,ye,1),t=e*d-e*A,o=Object(b.G)(Ce,{price:t,flag:L.Increase},ie);q({type:M,value:o});let a=Ee.updatedPrice+t;q({type:k,value:{updatedPrice:a}})}},dispositionType:Re,kilojoule:K.kilojoule,defaultImagePath:Object(n.bc)(null,K,!0),itemCountShouldAtModifierLevel:De,customizeClickHandler:e=>(e=>{const{event:t,id:o,modgrpId:a,userOrderStateDispatch:i,SHOW_PDP_CUSTOM_MODAL:l,modGrpName:n}=e;t.preventDefault(),t.stopPropagation(),i({type:l,value:{showPDPCustomization:!0,modifierId:o,modgrpId:a,modgrpName:n,updatedPrice:0}})})({event:e,id:be,modgrpId:se,userOrderStateDispatch:q,SHOW_PDP_CUSTOM_MODAL:B,modGrpName:me}),localized:re,showButton:(null===J||void 0===J||null===(D=J.modgrps)||void 0===D?void 0:D.length)>0&&re&&!le&&!ie,catalog:ce,savedCustomizedModifier:Q})}},1153:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o(6),o(106),o(92);var a=o(5),i=(o(1175),o(1142),o(20),o(398)),l=(o(41),o(146),o(15));o(2);const{CARD_TYPE:{CAROUSAL:n,MEDIUM:d}}=i.o,{CartError:c}=l.a,r=e=>Object(a.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return v}));var a=o(158);let i,l,n,d,c=[],r="";const s=(e,t,o,a)=>{if(i=e,l=t,c=o,d=a,c.length>0){let o=c.map((e=>{const{latitude:t,longitude:o}=e&&e.storeBasic.location;return{lat:t,lng:o}})),a=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...a].slice(0,24),destinations:[...o].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let o=[],a=[];a=e&&e.rows&&e.rows[0].elements.map((e=>e));let i=e&&e.originAddresses&&e.originAddresses[0]||"";o=c.map(((e,t)=>({...e,...a[t]}))),d(o,i)},v=(e,t,o)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},m),n=o},m=(e,t)=>{if(t===a.a.OK_STATUS){let t=[],o=e&&e.rows&&e.rows.map((e=>e));t=null===o||void 0===o?void 0:o.map((e=>e.elements[0])),r=e&&e.originAddresses||[],n({allStoreDistance:t,originAddressText:r})}}},1159:function(e,t,o){"use strict";var a=o(964);o.d(t,"a",(function(){return a.default}))},1160:function(e,t,o){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1162:function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return N}));var a=o(1127),i=o(42),l=o.n(i),n=(o(21),o(5),o(20)),d=o.n(n),c=o(112),r=o(55),s=o(2);const u=e=>{const{FOOTER_LOGO:t,FOOTER_SECTION:o,FIND_A_KFC_SECTION:i,APP_LINKS:n,SOCIAL_SECTION:d,COPYRIGHT:c,HEADLINE:r}=a.a,s={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},u={languageDropdown:{},copyrightContentData:{},socialMediaContent:[],copyrightNavLinks:[]};for(const a of e){const e=l()(a,"sys.contentType.sys.id"),S=l()(a,"fields.category");if(e===t){const{url:e,altText:t}=b(a.fields);s.kfcLogo={src:e,alt:t}}else if(S===i){var m,j,h;const e=null===a||void 0===a||null===(m=a.fields)||void 0===m||null===(j=m.links)||void 0===j||null===(h=j[0].fields)||void 0===h?void 0:h.linkText;s.kfcStoreSearch={...g(a.fields.links[0].fields),name:e}}else if(S===n)s.downloadAppButtons=v(a.fields.links);else if(S===d)u.socialMediaContent=O(a.fields.links);else if(S===c){var I;null===a||void 0===a||null===(I=a.fields)||void 0===I||I.links.forEach((e=>{var t,o,a;if((null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(o=t.contentType)||void 0===o||null===(a=o.sys)||void 0===a?void 0:a.id)===r){const{headline:t}=e.fields;u.copyrightContentData={name:t}}else{const{linkText:t,title:o,internalurl:a,externalurl:i}=e.fields;u.copyrightNavLinks=[...u.copyrightNavLinks,{linkText:t,title:o,internalurl:a,externalurl:i}]}}))}else e===o&&s.categories.push(p(a.fields))}return{bodyContent:s,footerContent:u}},v=e=>e.map((e=>({...m(e.fields),name:e.fields.title})))||[],m=e=>{const{url:t,desktopImage:o={fields:{}}}=e,{file:a={}}=o.fields,{url:i=""}=a;return{linkTo:t,url:i}},O=e=>e.map((e=>{const{externalurl:t,icon:o={}}=e.fields,{url:a}=b(o.fields);return{...{linkTo:t,url:a},name:e.fields.title}}))||[],b=e=>{const{desktopImage:t}=e;return t&&j(t)||{}},j=e=>{var t;const{url:o="",altText:a=""}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.file)||{};return{url:o,altText:a}},p=e=>{let t=[];const{category:o,links:a=[]}=e;return a.forEach((e=>{t.push(h(e.fields))})),{categoryHeaderText:o,subCategories:t}},h=e=>{var t,o,a,i,l,n,d,c,r,s;const{linkText:u,internalurl:v,externalurl:m}=e;return{name:u,linkTo:e.url||e.internalurl,internalurl:v,externalurl:m,icon:{desktopImage:null===e||void 0===e||null===(t=e.icon)||void 0===t||null===(o=t.fields)||void 0===o||null===(a=o.desktopImage)||void 0===a||null===(i=a.fields)||void 0===i||null===(l=i.file)||void 0===l?void 0:l.url,mobileImage:null===e||void 0===e||null===(n=e.icon)||void 0===n||null===(d=n.fields)||void 0===d||null===(c=d.mobileImage)||void 0===c||null===(r=c.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url}}},g=e=>{const{linkTo:t,icon:o={},title:a,externalurl:i}=e,{url:l}=b(o.fields);return{linkTo:t,url:l,title:a,externalurl:i}},I=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},S=e=>(null===e||void 0===e?void 0:e.title)===(null===a.a||void 0===a.a?void 0:a.a.COOKIES_SETTINGS)?Object(s.jsx)("span",{onClick:I,children:null===e||void 0===e?void 0:e.linkText}):null===e||void 0===e?void 0:e.linkText,N=e=>null===e||void 0===e?void 0:e.map((e=>{const t=e.internalurl,o=d()(t)?e.externalurl:null;return Object(s.jsxs)("li",{id:e.title,children:[(!d()(t)||(null===e||void 0===e?void 0:e.title)===(null===a.a||void 0===a.a?void 0:a.a.COOKIES_SETTINGS))&&Object(s.jsx)(c.b,{to:t,onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:S(e)}),!d()(o)&&Object(s.jsx)("a",{href:o,target:"",onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:e.linkText})]})}))},1163:function(e,t,o){"use strict";var a=o(3),i=o(62),l=o(28),n=o(211),d=o(5),c=o(132),r=o(80),s=o(235),u=o(61),v=o(1118),m=o(6),O=o(35),b=o(1138),j=o(402),p=o(15),h=o(396),g=o(85),I=o(0),S=o(409),N=o(2);const{CARD_TYPE:C}=n.MENU_PLP_CONSTANT,{heartIcon_active:E,heartIcon_activeFavourite:T,FavoriteInActiveWhite:f,heartIcon_inactive_red:x}=p.a,D=(e,t,o,a,i,l)=>e===C.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===C.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===C.SMALL?((e,t,o,a,i)=>e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||a||i)?"small-menu-product-card product-card-active":!e&&(t||o||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,a,i,l):e===C.CAROUSAL?"carousal-menu-product-card":void 0,A=e=>e===C.LARGE?"menu-product-image":e===C.MEDIUM?"medium-menu-product-image":e===C.SMALL?"small-menu-product-image":e===C.CAROUSAL?"carousal-menu-product-image":void 0,y=(e,t,o,a,i)=>{let{timer:l,newitem:n,topseller:d,customlabelfield:c}=i;return e===C.LARGE?"menu-product-header":e===C.MEDIUM?"medium-menu-product-header":e===C.SMALL?t||o||a||l||n||d||c?"small-menu-product-header-shift small-menu-product-header":"small-menu-product-header":e===C.CAROUSAL?"carousal-menu-product-header":void 0},_=e=>e===C.LARGE?"menu-vegOrNonVeg":e===C.MEDIUM?"medium-menu-vegOrNonVeg":e===C.SMALL?"small-menu-vegOrNonVeg":e===C.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,R=e=>e===C.LARGE?"menu-product-price":e===C.MEDIUM?"medium-menu-product-price":e===C.SMALL?"small-menu-product-price":e===C.CAROUSAL?"carousal-menu-product-price":"",L=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",P=e=>e===C.LARGE?"menu-product-description":e===C.MEDIUM?"medium-menu-product-description":e===C.SMALL?"small-menu-product-description":e===C.CAROUSAL?"carousal-menu-product-description":"",w=(e,t)=>e?"cardButton "+t:"cardButtonOnly "+t,M=e=>{const{ADD_TO_CART:t}=s.a;let o=Object(m.translateWithI18Next)(t),a="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(o="Store Closed",a="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(o="Store Closed",a="store-closed",i=!1),{btnText:o,className:a,enabled:i}},k=(e,t,o,a)=>e?"".concat(((e,t)=>{let o,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case C.LARGE:o="menu-cart-button";break;case C.MEDIUM:o="medium-menu-cart-button";break;case C.SMALL:o="small-menu-cart-button";break;case C.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(a," ").concat(o)})(t,o)," ").concat(M(a).className):"button btn-black medium-menu-cart-button",F=(e,t,o,a,i,l)=>{let c;return c=l?Object(N.jsx)("span",{"data-testid":"exclusive-id",children:l}):e||(t||(o?Object(N.jsx)("span",{"data-testid":"exclusive-id",children:Object(m.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(N.jsx)("span",{"data-testid":"new-id",children:Object(m.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(d.ad)(i,Object(N.jsx)("span",{"data-testid":"topseller-id",children:Object(m.translateWithI18Next)(n.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null))),c},H=e=>e===C.CAROUSAL?E:T,U=e=>e===C.CAROUSAL?f:x,B=(e,t)=>Boolean(e)&&"recommended"!==t,W=(e,t)=>{let o;return o=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"price-display",children:"old price"}),Object(N.jsxs)("span",{className:"base-price-menu",children:[n.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),o};t.a=e=>{var t,o,n,s,m,p,E,T;const{cardId:f,cardType:x,discount:G,specials:V,exclusive:Y,timer:z,availability:q=[],nextAvailableTime:K,isAvailable:J,tenantData:Q,customizable:X,categoryId:Z,activeId:$,addFavourite:ee,removeFavourite:te,item:oe,isHidden:ae,cardFor:ie,setShowTopScrollBtn:le,userParams:ne,productContent:de,plpbackgroundImageData:ce,viewUp:re}=e,se=Object(d.od)(null===ne||void 0===ne?void 0:ne.localized,null===ne||void 0===ne?void 0:ne.loggedIn),ue=Object(c.b)(r.b),{QUANTITY_ACTION:ve}=u.a,me=Object(l.b)(),Oe=null===Q||void 0===Q?void 0:Q.tenantId,{componentOptions:be={}}=Q,{PlpProductCard:je={}}=be,{allowClickOnProductCard:pe=!1}=je,he=Object(l.c)((e=>e.cartReducer)),ge=Object(l.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:Ie={},isAddItemLoading:Se=!1}=Object(d.sd)(he),{discountTotal:Ne,couponCode:Ce}=Object(d.zb)(Ie),[Ee,Te]=Object(a.useState)(0),[fe,xe]=Object(a.useState)(null),[De,Ae]=Object(a.useState)(0),ye=null===ge||void 0===ge?void 0:ge.id,_e=Object(l.c)((e=>{var t;return Object(d.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[Re,Le]=Object(a.useState)(!0),[Pe,we]=Object(a.useState)("product"),{flatResponse:{productMapByItemId:Me={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[ke,Fe]=Object(a.useState)(""),[He,Ue]=Object(a.useState)(0),[Be,We]=Object(a.useState)([]),[Ge,Ve]=Object(a.useState)(!1),[Ye,ze]=Object(a.useState)(""),[qe,Ke]=Object(a.useState)(!1),Je=Object(i.h)(),Qe=Object(l.c)((e=>e.storesReducer)),Xe=(null===Qe||void 0===Qe||null===(o=Qe.storesWithStatus)||void 0===o?void 0:o.length)&&(null===Qe||void 0===Qe||null===(n=Qe.storesWithStatus[0])||void 0===n||null===(s=n.summary)||void 0===s?void 0:s.timeZoneIANA),Ze=null===be||void 0===be||null===(m=be.web)||void 0===m||null===(p=m.global)||void 0===p?void 0:p.pricewithNumberofDecimalDigit,{userOrderStateDispatch:$e,userOrderState:et}=Object(a.useContext)(g.a),{timeBasedCetegory:tt,timeBasedAlertModalData:ot}=et,at=Object(l.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),it=Object(l.c)((e=>Object(d.sd)(e.storesReducer))),lt=null===be||void 0===be||null===(E=be.web)||void 0===E||null===(T=E.plp)||void 0===T?void 0:T.removeSingleItemInCartFromPLP,nt=(null===it||void 0===it?void 0:it.storesWithStatus)&&Object(S.b)(null===it||void 0===it?void 0:it.storesWithStatus[0]);Object(a.useEffect)((()=>{ie&&we(ie)}),[ie]),Object(a.useEffect)((()=>{const e=Object(d.Td)(Ie)?Object(d.mc)(f,Ie):{},t=Object(d.ad)(Object(d.Td)(e),e.count,0),o=Object(d.ad)(Object(d.Td)(e),e.matchedItemFoodLineId,""),a=Object(d.ad)(Object(d.Td)(e),e.entriesCount,0),i=Object(d.ad)(Object(d.Td)(e),e.itemUnitPrice,"");Te(t),xe(o),Ae(a),Ue(i)}),[Ie,f]);const dt=Object(a.useCallback)((()=>{Fe(D(x,pe,G,V,Y,z))}));Object(a.useEffect)((()=>{dt()}),[dt]);const ct=Object(a.useMemo)((()=>Object(d.ad)(ce,ce,{})),[ce]);Object(a.useEffect)((()=>{Le(!0)}),[Ee]),Object(a.useEffect)((()=>{let e=Object(j.j)(null===Je||void 0===Je?void 0:Je.pathname);Ke(e.showCateringflag)}),[null===Je||void 0===Je?void 0:Je.pathname]);const rt=e=>{if(null!==Ie&&void 0!==Ie&&Ie.id){let t=null===Ie||void 0===Ie?void 0:Ie.foodLines.filter((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e}));We(t)}ze(e),Ve(!0)},st=Object(d.hb)(Se,$===f);return!ae&&!((e,t,o,a)=>((null===e||void 0===e?void 0:e.isReviewOrderClick)||(null===e||void 0===e?void 0:e.isCloseButtonClicked))&&Object(h.b)(t,o,a))(ot,at,nt,null===e||void 0===e?void 0:e.id)&&Object(N.jsx)(b.a,{...e,getCardTypeName:D,"data-testid":"MenuPlpTestId",allowClickOnProductCard:pe,getProductImageClassName:A,getSpecificRibbonBanner:F,favouriteItems:_e,classFavouriteIconActive:H,getCardName:ke,favouriteButtonClickHandler:()=>{Object(d.hb)(Array.isArray(_e),null===_e||void 0===_e?void 0:_e.find((e=>(null===e||void 0===e?void 0:e.id)===(null===oe||void 0===oe?void 0:oe.id))))?te(Oe,ye,oe.id):(async(e,t,o,a)=>{var i;const l=Object(d.td)(null===(i=o[0])||void 0===i?void 0:i.price),n={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor),additionalProperties:t.additionalProperties};await ee(e,n,a),await me(Object(O.v)({showProductListingModal:!1,categorySelected:Z}))})(Oe,oe,q,ye)},itemCount:Ee,classFavouriteIconInActive:U,getMenuProductHeader:y,getVegNonvegClassName:_,menuProductPriceClassName:R,checkForBasePriceInMenu:B,cardCat:Pe,displayPrice:W,getPriceClassName:L,menuProductDescriptionClassName:P,updateItemQuantity:(t,o)=>{var a;null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const i=Object(h.g)(null===e||void 0===e?void 0:e.cardId,null===at||void 0===at?void 0:at.flatResponse),l=Object(h.d)(f,tt);if(!Object(h.c)({categoryUrl:i,itemInCart:l,alertType:Object(h.j)(null===tt||void 0===tt?void 0:tt.timebasedItemInCart,null===I.Sb||void 0===I.Sb?void 0:I.Sb.ITEM),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.cardId},{...tt,menuData:at,foodLinesItems:(null===he||void 0===he||null===(a=he.cartData)||void 0===a?void 0:a.foodLines)||[]},$e)&&ne.localized){const e=Number((He/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor)).toFixed(2));let t={foodName:null===oe||void 0===oe?void 0:oe.name,foodItemId:null===oe||void 0===oe?void 0:oe.mdmId,cartPrice:e,modifiers:[],quantity:Ee,foodLineId:fe};const{itemQuantityHandler:a,itemRemoveHandler:i}=Object(v.a)({cartId:null===Ie||void 0===Ie?void 0:Ie.id},null===Q||void 0===Q?void 0:Q.tenantId,void 0,Me,void 0,me,void 0,se,null===Q||void 0===Q?void 0:Q.currencyShortName,void 0,ue,Ce,Ne,null===Q||void 0===Q?void 0:Q.currencyConversionFactor);o===ve.Increase?X&&Ee>=1?rt(null===t||void 0===t?void 0:t.foodItemId):(!X&&Le(!1),a(t,ve.Increase)):De>1?rt(null===t||void 0===t?void 0:t.foodItemId):(Le(!1),lt&&1===(null===t||void 0===t?void 0:t.quantity)?i(t):a(t,ve.Decrease))}},classesCardButton:w,classEnableAddToCart:k,enableAddToCartButton:Re,checkLoading:st,menuCardBtnText:M,itemFoodlineId:fe,openCostomizedModal:Ge,filteredPreviousData:Be,setOpenCostomizedModal:Ve,cartData:Ie,CARD_TYPE:C,setShowTopScrollBtn:le,FoodId:Ye,plpbackgroundImageSrc:ct,storeTimeZone:Xe,showCateringflag:qe,serves:null===de||void 0===de?void 0:de.serves,imageurl:null!==de&&void 0!==de?de:null===oe||void 0===oe?void 0:oe.content,nextAvailableTime:K,isAvailable:J,pricewithNumberofDecimalDigit:Ze,viewUp:re})}},1165:function(e,t,o){"use strict";o.d(t,"b",(function(){return te})),o.d(t,"c",(function(){return ae}));var a=o(3),i=o.n(a),l=o(210),n=o(28),d=o(6),c=o(146),r=o(395),s=o(5),u=o(80),v=o(263),m=o(46),O=o(15),b=o(1098),j=o(262),p=o(2);const h=e=>{let{upsizeInfo:t,upSizeHandler:o,itemSelected:a,customizable:i}=e;const l=e=>i?Object(p.jsx)("span",{className:"size-desc",children:e.itemDesc}):Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"size-desc size-desc-price",children:e.price}),e.calories&&Object(p.jsx)("span",{className:"size-desc size-desc-cal",children:e.calories})]});let n=(e,t,i,n)=>Object(p.jsxs)("div",{className:"modifier-size",children:[Object(p.jsxs)("div",{className:"size-info",children:[Object(p.jsx)("span",{className:"size-title",children:t}),l(i)]}),Object(p.jsxs)("picture",{onClick:()=>e!==a&&((e,t)=>{var a;o(e);const i={name:null===t||void 0===t?void 0:t.itemDesc,size:null===t||void 0===t||null===(a=t.itemDesc)||void 0===a?void 0:a.split(" ")[0]};Object(b.e)(i,j.a.ADDONS)})(e,i),"data-testid":"upsize-handler-id-".concat(n),children:[Object(p.jsx)("source",{media:"(max-width: 1023px)",srcSet:e===a?O.a.Check_Icon:O.a.Selection_Checkbox_off,alt:e===a?"checked":""}),Object(p.jsx)("img",{src:e===a?O.a.Check_Icon:O.a.Selection_Checkbox_off,alt:e===a?"checked":""})]})]},n);return Object(p.jsx)("div",{className:"sopac-upsize",children:Object(s.pc)(t)&&t.map(((e,t)=>{let{id:o,title:a,desc:i}=e;return n(o,a,i,t)}))})};var g=i.a.memo(h),I=o(0),S=o(4),N=o(85),C=o(1095),E=o(1167),T=o(1162);const f=()=>{const{headerData:{footer:e={}}={}}=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),t=Object(s.Wb)(e),{bodyContent:o={}}=Object(T.b)(t)||{},{categories:a=[]}=o,i=(e=>e.flatMap((e=>e.subCategories.filter((e=>e.internalurl===I.pc.NUTRITION_ALLERGEN_GUIDE_LINK)).map((e=>e.internalurl)))))(a),l=i[0],{ALLERGY_NUTRITION_TEXT:c}=j.a;return Object(p.jsx)("a",{className:"non-ala-carte-alert-link","data-testid":"nutritionAllergenLink1",href:l,type:"external",rel:"noreferrer",children:Object(d.translateWithI18Next)(c)})};var x=i.a.memo(f),D=o(1139),A=o(264),y=o(1123);const _=e=>!!e&&"".concat(Object(d.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.SERVES)," ").concat(e),R=e=>{var t,o,i,l,c,r,b,h,T,f,R,P,w;const{cardId:M,calories:k,customizable:F,price:H,upsizeInfo:U,upSizeHandler:B,showAddToCartButton:W,availability:G,isStoreClosed:V,kilojoule:Y,pdpCardObject:z,pdpPromoPage:q,storeTimeZone:K,modgrps:J,servesCount:Q,imageName:X}=e,Z=Object(n.b)(),$=Object(n.c)((e=>e.tenantReducer)),ee=Object(n.c)(u.b),{hiddenCouponDetails:te}=Object(n.c)((e=>e.cartReducer)),{storesWithStatus:oe}=Object(n.c)((e=>e.storesReducer)),[ae,ie]=Object(a.useState)({}),{userOrderState:le,userOrderStateDispatch:ne}=Object(a.useContext)(N.a),de=null===(t=null===X||void 0===X?void 0:X.hideAllergenInformation)||void 0===t||t,ce=null===(o=null===X||void 0===X?void 0:X.hideNutritionInformation)||void 0===o||o,re=(null===(i=oe[0])||void 0===i||null===(l=i.summary)||void 0===l?void 0:l.timeZoneIANA)||Object(s.Vc)(),se=null===$||void 0===$||null===(c=$.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(b=r.pdp)||void 0===b?void 0:b.showAllergyNutrition,ue=null===$||void 0===$||null===(h=$.componentOptions)||void 0===h||null===(T=h.web)||void 0===T||null===(f=T.pdp)||void 0===f?void 0:f.showPriceNonLocalized,{currencyConversionFactor:ve,currencySymbol:me}=$,Oe=null===$||void 0===$||null===(R=$.componentOptions)||void 0===R||null===(P=R.pdp)||void 0===P?void 0:P.redirectAllergyNutritionInfo,{userParams:be}=z,{nutritionAllergenHandler:je,showNutritionAllergenModal:pe}=(null===(he=e)||void 0===he?void 0:he.nutritionDetails)||{};var he;const{ALLERGY_NUTRITION_TEXT:ge,PDP_CHOOSE_STORE:Ie,MODGROUPMAX:Se,SELECTED_ITEM_NOT_AVAILABLE:Ne,OUT_OF_STOCK_ITEM_TEXT:Ce}=j.a,Ee=e,{pdpPayloadData:Te}=le;z[Se]=null===J||void 0===J||null===(w=J[0])||void 0===w?void 0:w.max,z[Ne]=Object(s.jb)(null===Ee||void 0===Ee?void 0:Ee.isExcluded,Object(C.c)(Te)),z.itemId=M,Object(a.useEffect)((()=>{te&&Object(D.b)(null===te||void 0===te?void 0:te[0],ne,Z)}),[]),Object(a.useEffect)((()=>{ie(((e,t)=>e&&t&&Object(C.k)(e,t))(G,re))}),[G,re]);const fe=(e,t)=>{var o,a,i,l,n;const c=ee[I.gd.VIEW_PRODUCT],r=[Object(C.k)(null===c||void 0===c||null===(o=c.priceDetails)||void 0===o||null===(a=o.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===a?void 0:a.availability,re)],s=(null===r||void 0===r||null===(i=r[0])||void 0===i?void 0:i.promoPrice)<(null===r||void 0===r||null===(l=r[0])||void 0===l?void 0:l.price)?null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.promoPrice:0,u=s?{...null===r||void 0===r?void 0:r[0],price:s}:t;return s&&q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{"data-testid":"pdp-promos-with-price",className:"pdp-promos-container with-price",children:[Object(p.jsx)(A.a,{src:O.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img"}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(p.jsx)("del",{children:H(F,null===r||void 0===r?void 0:r[0],!1,K)})})]}),Object(p.jsx)("span",{className:"price-info",children:H(F,u,!1,K)})]}):q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(A.a,{src:O.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price",children:H(F,t,!1,K)})]}):Object(p.jsx)("span",{className:"price-info","data-testid":"pdp-item-price",children:H(F,t,!1,K)})},xe=Object(p.jsx)("div",{className:"allergy-info",children:Oe?Object(p.jsx)(x,{}):Object(p.jsx)(v.a,{onClickHandler:je,className:"allergy-info-link","data-testid":"allergy-info",children:Object(d.translateWithI18Next)(ge)})}),De=Object(s.j)([null===be||void 0===be?void 0:be.localized,!V,U.length>0])?Object(p.jsx)(g,{upsizeInfo:U,upSizeHandler:B,itemSelected:M,customizable:F}):null,Ae=Object(s.Cd)(null===Ee||void 0===Ee?void 0:Ee.modgrps)?Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:O.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Ce)})]}):null,ye=Object(s.jb)(!(null!==be&&void 0!==be&&be.localized),V)&&Object(p.jsxs)("div",{className:"pdp-summary-cart-notification",children:[!!te.length&&Object(p.jsx)(L,{hiddenCouponDetails:te,currencySymbol:me,currencyConversionFactor:ve}),Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:O.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Ie)})]})]}),_e=Object(s.hb)(ue,!V)&&Object(p.jsx)("div",{className:"price-kj-info",children:fe(M,ae)}),Re=Object(s.hb)(null===be||void 0===be?void 0:be.localized,!V)&&Object(p.jsxs)("div",{className:"price-kj-info",children:[fe(M,ae),Object(p.jsx)("span",{className:"kj-css",children:k&&Object(p.jsxs)("span",{className:"kj-info","data-testid":"pdp-kj-value",children:["".concat(k," ").concat(Y)," \xa0 ",_(Q)]})})]}),Le=Object(s.j)([W,null===be||void 0===be?void 0:be.localized,!V])&&Object(p.jsx)(y.a,{...z,pdpPromoPage:q}),Pe=Object(p.jsx)(E.a,{isMobile:z.isMobile,summaryData:Ee});return Object(p.jsxs)(p.Fragment,{children:[ue?_e:Re,se&&(!de||!ce)&&xe,De,ye,Ae,Le,pe&&Pe]})},L=e=>{var t,o;let{hiddenCouponDetails:a,currencySymbol:i,currencyConversionFactor:l}=e;const n=null===a||void 0===a||null===(t=a[0].itemDetails)||void 0===t||null===(o=t[0].availability)||void 0===o?void 0:o[0],c=Object(s.Xc)(n,l);return Object(p.jsxs)("div",{className:"price-kj-info",children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(A.a,{src:O.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price","data-testid":"price-container",children:"".concat(i).concat(c)})]})},P=e=>{let{summaryData:t,pdpPromoPage:o,storeTimeZone:a,nutritionAllergenHandler:i,showNutritionAllergenModal:l,handleCloseModal:n,setNutritionAllergenModalOpen:u}=e;const{pdpCardObject:v,comboData:m,customizable:O,makeItComboHandler:b,showMakeItComboButton:j}=t,h=Object(s.j)([!O,m>0,j])&&Object(p.jsx)(c.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(p.jsx)(r.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:b,children:Object(p.jsx)("span",{children:Object(d.translateWithI18Next)("makeItACombo")})})});return Object(p.jsx)("div",{className:"pdp-receipt-card",children:Object(p.jsxs)("form",{className:"pdp-receipt-form",onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[Object(p.jsx)("h1",{className:"pdp-receipt-header","data-testid":"pdp-item-name",children:null===v||void 0===v?void 0:v.dName}),Object(p.jsx)(R,{...t,pdpPromoPage:o,storeTimeZone:a,nutritionDetails:{nutritionAllergenHandler:i,showNutritionAllergenModal:l,handleCloseModal:n,setNutritionAllergenModalOpen:u}}),h]})})};var w=i.a.memo(P),M=o(145),k=o(1103),F=o(235),H=o(132),U=o(1140);const B=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name",W=(e,t,o,a,i,l,n)=>{const{REGULAR_SIZE_TITLE:c,REGULAR_SIZE_DESC:r,UPSIZE_TITLE:u,UPSIZE_DESC:v}=j.a;var m;l||null!==n&&void 0!==n&&n.isProductPromo||(t=null===(m=t)||void 0===m?void 0:m.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))));let O=[];if(e){var b,p;let e=((e,t)=>Object(s.Ec)(e[1].availability[0],t).toFixed(I.gg)-Object(s.Ec)(e[0].availability[0],t).toFixed(I.gg))(t,a);O=[{id:null===(b=t[0])||void 0===b?void 0:b.id,title:"".concat(Object(d.translateWithI18Next)(c)),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(r))}},{id:null===(p=t[1])||void 0===p?void 0:p.id,title:"".concat(Object(d.translateWithI18Next)(u)," (+").concat(o).concat((+e).toFixed(2),")"),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(v))}}]}else{let e={};t.forEach((t=>{let l=Object(s.Ec)(t.availability[0],a).toFixed(I.gg),n=Object(s.pd)(t.additionalProperties,I.F);e={id:t.id,title:B(t),desc:{price:l>0?"".concat(o).concat(l):"",calories:0===n?"":" ".concat(n," ").concat(i)}},O.push(e)}))}return O};var G=e=>{var t,o,i,l,c,r,v,m,O;const b=Object(n.b)(),[h,g]=Object(a.useState)(""),[S,E]=Object(a.useState)([]),[T,f]=Object(a.useState)({}),[x,D]=Object(a.useState)(!1),[A,y]=Object(a.useState)(!1),_=Object(n.c)((e=>e.tenantReducer)),{cartData:R}=Object(n.c)((e=>e.cartReducer))||{},L=Object(n.c)((e=>e.appStateReducer.userStatus)),P=Object(H.b)(u.b),{pdpData:G,customModGrps:V={},isIpad:Y,isMobile:z,comboData:q,isStoreClosed:K,isItemDecreased:J,quantityRemovedObject:Q,itemStatus:X,prodQuantity:Z,quantityUpdate:$,addtoCartClinckHandler:ee,setItemStatus:te,setProdQuantity:oe,storeTimeZone:ae,imageContainerSize:ie,pdpbackgroundImageData:le}=e,{dname:ne,additionalProperties:de={},availability:ce,modgrps:re,catalogName:se,customizable:ue,items:ve=[]}=G||{},{EXPAND_ACCORDIAN:me,IS_IN_STOCK:Oe,IS_OUT_OF_STOCK:be,OUT_OF_STOCK_TEXT:je,PDP_ITEM_UPSIZE_ID:pe}=j.a,he=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.pdp)||void 0===i?void 0:i.pdpCateringItemQuantityLimit,{TURNED_NO_RESULTS_TEXT:ge}=k.a,{veg:Ie}=de,Se=null===_||void 0===_||null===(l=_.componentOptions)||void 0===l||null===(c=l.web)||void 0===c||null===(r=c.global)||void 0===r?void 0:r.pricewithNumberofDecimalDigit,Ne=null===_||void 0===_||null===(v=_.componentOptions)||void 0===v||null===(m=v.web)||void 0===m||null===(O=m.pdp)||void 0===O?void 0:O.skipZeroPriceCheck,{userOrderState:Ce,userOrderStateDispatch:Ee}=Object(a.useContext)(N.a),{eventAvailabilities:Te,fetchEventItemAvailability:fe,getEventItemAvailability:xe,isEvent:De}=(Object(s.Sd)(null===Ce||void 0===Ce?void 0:Ce.dispositionNew)?JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW)):null===Ce||void 0===Ce||Ce.dispositionNew,Object(U.a)()),{pdpScreenCommons:{currentAccordian:Ae},pdpPromoPage:ye,pdpDataForUpdateFoodLine:_e}=Ce;Object(a.useEffect)((()=>{((e,t,o)=>{var a;Object(s.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)&&o(null===(a=Object(s.Ub)(t))||void 0===a?void 0:a.id)})(V,re,g)}),[V,re]);const Re=()=>{if(X===be)return!1},Le=(e,t)=>{if(X===be)return!1;e&&(e.preventDefault(),e.stopPropagation()),Ee({type:me,value:t});const o=document.getElementById("accordion-"+t);null===o||void 0===o||o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),g(t)};Object(a.useEffect)((()=>(fe(),()=>{Ee({type:me,value:""})})),[]),Object(a.useEffect)((()=>{Object(s.ad)(Ae,Le(null,Ae),"")}),[Ae]);const Pe=e=>{Object(s.ad)(Re()?"":Re()),e.preventDefault()},we=e=>{Object(C.B)(e,he,oe)},Me=e=>{Ce.pdpItemUpsizeId!==e&&(Ee({type:pe,value:{pdpItemUpsizeId:e}}),b(Object(M.c)({tenantId:null===_||void 0===_?void 0:_.tenantId,catalogName:null===G||void 0===G?void 0:G.catalogName,itemId:e})))};Object(a.useEffect)((()=>{if(Object(s.Td)(G)){let e=ve.length>1?W(ue,ve,_.currencySymbol,_.currencyConversionFactor,_.kilojoule,ye,_e):[];E(e)}}),[G]),Object(a.useEffect)((()=>{if(De){xe(null===G||void 0===G?void 0:G.id)?X===be&&te(Oe):te(be)}}),[Te,xe,De,null===G||void 0===G?void 0:G.id,R]);const ke=(e,t,o,a)=>{let i=Object(C.j)(t,null===_||void 0===_?void 0:_.currencyConversionFactor,o,null===G||void 0===G?void 0:G.id,a,P);if(!Ne&&!e&&0===i)return te(be),Object(d.translateWithI18Next)(je);let l=(Math.round(i*I.hg)/I.hg).toFixed(Se);return"".concat(null===_||void 0===_?void 0:_.currencySymbol).concat(l)};return Object(a.useEffect)((()=>{let t=void 0!==K,o=void 0!==h,a=[Object(s.Td)(G),Object(s.pc)(ve)>0,o,Array.isArray(S),(null===se||void 0===se?void 0:se.length)>0,Object(s.Td)(_),t];if(Object(s.j)(a)){var i,l,n,d,c,r,u,v,m,O,b;const t=P[I.gd.VIEW_PRODUCT],{ITEM_QUANTITY:o}=F.a;let a={servesCount:null===G||void 0===G||null===(i=G.content)||void 0===i?void 0:i.serves,cardId:G.id,veg:Ie,calories:null===G||void 0===G||null===(l=G.content)||void 0===l?void 0:l.caloricValue,modgrps:re,customizable:ue,isActive:h,setAsActiveLink:Le,isIpad:Y,makeItComboHandler:Pe,comboData:q,price:ke,catalogs:se,upsizeInfo:S,upSizeHandler:Me,showAddToCartButton:null===_||void 0===_||null===(n=_.componentOptions)||void 0===n||null===(d=n.web)||void 0===d||null===(c=d.pdp)||void 0===c?void 0:c.addToCartButton,showMakeItComboButton:null===_||void 0===_||null===(r=_.componentOptions)||void 0===r||null===(u=r.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.makeItComboButton,pdpCardObject:{prodQuantity:Z,userParams:L,quantityUpdate:$,dName:B(G),maxItemCountPerLineItem:Object(C.o)(ye,t,G.id,he),minItemCountPerLineItem:Object(C.p)(ye,t,G.id,he),addtoCartClinckHandler:ee,itemStatus:X,currencySymbol:null===_||void 0===_?void 0:_.currencySymbol,currencyConversion:null===_||void 0===_?void 0:_.currencyConversionFactor,isMobile:z,itemQuantity:Object(C.n)(ye,t,G.id,o),handleProdQuantityForCatering:we,defaultdisposition:null===_||void 0===_||null===(m=_.authoredContent)||void 0===m?void 0:m.defaultdisposition,isItemDecreased:J,quantityRemovedObject:Q,categoryId:null===e||void 0===e?void 0:e.categoryId},availability:G.availability,isStoreClosed:K,isItemDecreased:J,kilojoule:null===_||void 0===_?void 0:_.kilojoule,allergenDetails:null===G||void 0===G||null===(O=G.content)||void 0===O?void 0:O.allergenInformation,nutritionalDetails:null===G||void 0===G||null===(b=G.content)||void 0===b?void 0:b.nutritionalInformation,imageName:null===G||void 0===G?void 0:G.content,imageContainerSize:ie,pdpbackgroundImageData:le,isExcluded:null===G||void 0===G?void 0:G.isExcluded};f(a),D(!0)}}),[ne,ce,Ie,se,h,re,X,z,Y,q,L,S,null===_||void 0===_?void 0:_.maxItemCountPerLineItem,Z,K,ve]),Object(s.ad)(x,Object(s.Td)(T)?Object(p.jsx)(w,{"data-testid":"pdp-summary-view",summaryData:T,pdpPromoPage:ye,storeTimeZone:ae,nutritionAllergenHandler:()=>{y(!0)},showNutritionAllergenModal:A,handleCloseModal:()=>{y(!1)},setNutritionAllergenModalOpen:y}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.translateWithI18Next)(ge)}),"")};var V=e=>{const{longDescription:t,isMobile:o,dispositionType:i,currentPDPProduct:l}=e,{SHORT:n,READ_MORE:c,READ_LESS:r,LONG:u,MAX_LENGTH_READ:v,OUT_OF_STOCK_ITEM_TEXT:b}=j.a,[h,g]=Object(a.useState)(""),[I,S]=Object(a.useState)(n);Object(a.useEffect)((()=>{t&&g(t)}),[t]);const N=()=>{S(I===n?u:n)};return Object(p.jsxs)("div",{className:"pdp-desc",children:[Object(p.jsx)("div",{className:"d-flex mb-4 mobile-desc",children:Object(p.jsx)(m.a,{srcFile:o?O.a.StripsIconMobile:O.a.StripesIcon,className:"stripes-img"})}),Object(p.jsxs)("h2",{className:"pdp-desc-header mobile-desc","data-testid":"meal-menu-header",children:[" ",Y(d.translateWithI18Next,i)," "]}),Object(s.Cd)(null===l||void 0===l?void 0:l.modgrps)&&!o&&Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:O.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(b)})]}),o?Object(p.jsxs)("div",{className:"desc-box mobile-desc-text",children:[I===n?Object(s.Hf)(h,v,!1):h,(null===h||void 0===h?void 0:h.length)>v?Object(p.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:N,children:I===n&&Object(d.translateWithI18Next)(c)||Object(d.translateWithI18Next)(r)}):Object(p.jsx)(p.Fragment,{})]}):Object(p.jsx)("div",{className:"desc-box",children:h})]})};function Y(e,t){return e(Object(s.ad)(Object(s.Hd)(t),j.a.BUNDLE_OPTIONS,j.a.MEAL_OPTIONS))}var z=o(16),q=o(1170),K=o(61),J=o(1126),Q=o(35);var X=e=>{let{showLegalInfo:t,isMobile:o}=e;const{LEGALINFOTEXT1:a,LEGALINFOTEXT2:i}=S.a;return t?Object(p.jsx)("div",{className:"".concat(o?"pdp-mobile-legal-info-container":"pdp-legal-info-container"),"data-testid":"pdp-legal-info",children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"legal-info-desc",children:[Object(d.translateWithI18Next)(a),Object(p.jsx)("br",{}),Object(d.translateWithI18Next)(i)]})})}):Object(p.jsx)(p.Fragment,{})},Z=o(62),$=o(159),ee=o(1137);const te=(e,t,o,a)=>{let i={combo:[],recommendation:[],addOnRecommendedItems:[],ruleName:{}};if(Object(s.pc)(e)){var l,n;let d=e.find((e=>{let{recommendationType:o}=e;return o===t})),c=e.find((e=>{let{recommendationType:t}=e;return t===o}));i.combo=Object(s.ad)(Object(s.Td)(d),null===d||void 0===d?void 0:d.recommendedItems,[]),i.recommendation=Object(s.ad)(Object(s.Td)(c),null===c||void 0===c?void 0:c.recommendedItems,[]);let r=e.find((e=>{let{recommendationType:t}=e;return t===a}));i.ruleName=Object(C.r)(r);const u=null!==(l=null===r||void 0===r?void 0:r.recommendedItems)&&void 0!==l?l:[],v=null!==(n=null===r||void 0===r?void 0:r.restrictedItems)&&void 0!==n?n:[];i.addOnRecommendedItems=Object(s.ad)(Object(s.Td)(r),[...u,...v],[])}return i},oe=(e,t,o,a)=>{var i,l;const{PDP_PRODUCT_MOBILE_IMG:n,PDP_PRODUCT_IMG:d}=j.a,c=Object(s.qc)(null===e||void 0===e?void 0:e.content,o.containerWidth,o.containerHeight);return null!==e&&void 0!==e&&null!==(i=e.content)&&void 0!==i&&null!==(l=i.image)&&void 0!==l&&l.mainImage?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(m.a,{srcFile:c,className:"".concat(Object(s.ad)(t,n,d))})}):Object(p.jsx)(p.Fragment,{})},ae=(e,t,o,a,i,l,n,d,c,r,s)=>{i({type:a,value:Object(C.l)(e,t,o,l,n,d,c,r,s)})},ie=()=>Object(s.Cf)(Object(d.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.PREFERENCES_ERROR_MSG)),le=()=>Object(p.jsx)("div",{className:"pdp-custm-sopac",children:Object(p.jsx)("div",{className:"modal-body-row product-listing-component",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})}),Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})})]})})}),ne=(e,t)=>{const{PDP_CUSTOMIZATION_PAGE:o,PDP_NON_CUSTOMIZATION_PAGE:a}=j.a,i=Object(s.hb)(Object(s.Hd)(e),!t)||t;return Object(s.ad)(i,o,a)},de=(e,t,o,a,i,l)=>Object(s.pc)(t)?Object(p.jsx)(q.a,{products:t,country:null===a||void 0===a?void 0:a.country,cssClass:"pdp-combo",header:o,subHeader:"",recommendedRule:e,source:i,categoryId:l.categoryId}):null,ce=(e,t,o,a,i,l,n,d)=>{const{event:c,data:r,miniPDPData:u,totalAmount:v,cartId:m,pdpDataForUpdateFoodLine:O,cartData:b,storesWithStatus:j}=e;if(m&&c){const{paymentDiscountLines:o=[]}=b;null!==o&&void 0!==o&&o.length?(e=>{let{setCouponModal:t,parms:o,setAddToClickParms:a}=e;t(!0),a(o)})({setCouponModal:n,parms:e,setAddToClickParms:l}):(t(c,r,u,m,v,O,b),l({}))}else!m&&c&&(l(e),Object(s.B)(o,null===a||void 0===a?void 0:a.tenantId,i,j))},re=function(e,t,o,a,i){var l;let n=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?i.length>=0:0===i.length;if((null===e||void 0===e||null===(l=e.discountLines)||void 0===l?void 0:l.length)>0&&(d||n))return t&&(null===e||void 0===e?void 0:e.discountLines.some((e=>e.couponCode===o)))&&Object(s.Bd)(a)},se=(e,t)=>{const{pdpData:o,isMobile:a,imageContainerSize:i,isPdpDataLoading:l,pdpbackgroundImageData:n,displayBreadcrumbPDP:d,currentPDPProduct:c,pdpSummaryView:r}=e;return Object(p.jsxs)("div",{className:"".concat(a?"pdp-mobile-image-container-sopac":"d-flex"),children:[Object(p.jsx)("div",{className:"".concat(a?"mobile-background-image-container":"image-container"),style:Object(s.mb)(n,i.containerWidth,i.containerHeight),children:oe(o,a,i)}),a&&Object(p.jsx)("div",{className:"pdp-mobile-navigation",children:Object(C.b)(d,null===t||void 0===t?void 0:t.allowHiddenMenuViaExternalUrl,c.isHidden)}),c.modgrps&&r()]})};t.a=e=>{var t,o,i,c,r,v,b,h,g,E,T,f,x,D,A,y,_,R;let{menuPDPItemData:L}=e;const{productDetails:P,tenantData:w,isMobile:k,displayBreadcrumbPDP:F,isIpad:U,product_name:B,isStoreClosed:W,prodName:Y="",prodItems:te=[],showLegalInfo:oe,dispositionType:ue,prodURL:ve,imageContainerSize:me,indulgentImageContainerSize:Oe,storeTimeZone:be,categoryName:je,categoryUrl:pe,catalogs:he,updatedFetchMenuPayload:ge}=L,{ADD_TO_CART_CLICK:Ie,DISPOSITION_DATA:Se}=z.a,{CUSTM_EXPAND_TYPE:Ne,CROSSELL:Ce,PDP:Ee,IS_IN_STOCK:Te,PDP_PAYLOAD_DATA:fe,RESET_MODGROUP_IDS_UPDATE:xe,RESET_CUSTOMIZATION:De,CUSTOMISE_FLAG_CART:Ae,SET_PDP_BUTTON_DISABLED:ye,SHOW_PDP_ALERT_POPUP:_e}=j.a,{RECOMMENDED_HEADER_TITLE:Re,RECOMMENDED_HEADER_TITLE_CATERING:Le,ADD_TO_CART:Pe,INDULDENT_ADD_ON_MSG:we,INDULDENT_ADD_ONS_HEADING:Me,CONTINUE:ke}=S.a,[Fe,He]=Object(a.useState)({}),[Ue,Be]=Object(a.useState)(),[We,Ge]=Object(a.useState)([]),[Ve,Ye]=Object(a.useState)([]),ze=Object(n.c)((e=>e.tenantReducer)),{allowMultipleCoupon:qe}=ze,[Ke,Je]=Object(a.useState)({}),{userOrderState:Qe,userOrderStateDispatch:Xe}=Object(a.useContext)(N.a),{headerData:{pdpBackgroundImage:Ze={},pdpEventBackgroundImage:$e={}}={}}=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),et=Object(H.b)(u.b),{dispositionNew:tt}=et,ot=Object(s.Vd)(null===tt||void 0===tt?void 0:tt.type)?$e:Ze,at=Object(s.lb)(ot),{pdpPayloadData:it,isFromRecommendedSectionItemClick:lt,pdpPromoPage:nt,pdpDataForUpdateFoodLine:dt}=Qe,ct=Object(n.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),rt=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),[st,ut]=Object(a.useState)({}),[vt,mt]=Object(a.useState)(0),[Ot,bt]=Object(a.useState)(Te),[jt,pt]=Object(a.useState)({}),ht=Object(n.c)((e=>e.appStateReducer.userStatus)),{QUANTITY_ACTION:gt,EDIT_ITEM:It}=K.a,St=Object(n.c)((e=>e.cartReducer)),{cartData:Nt={},isItemAdded:Ct=!1}=Object(s.sd)(St),{storesWithStatus:Et}=Object(n.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},Tt=Object(n.b)(),ft=Object(Z.g)(),xt=null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.pdp)||void 0===i?void 0:i.showCrossSellSection,Dt=null===w||void 0===w||null===(c=w.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(v=r.pdp)||void 0===v?void 0:v.plpRedirectionPromoItem,At=null===w||void 0===w||null===(b=w.componentOptions)||void 0===b||null===(h=b.web)||void 0===h||null===(g=h.pdp)||void 0===g?void 0:g.plpRedirectionWithaddOnItem,yt=null===Nt||void 0===Nt||null===(E=Nt.foodLines)||void 0===E?void 0:E.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id})),_t=(null===Nt||void 0===Nt||null===(T=Nt.foodLines)||void 0===T?void 0:T.length)>0&&(null===Ve||void 0===Ve?void 0:Ve.filter((e=>!yt.includes(e.id)))),Rt=(null===w||void 0===w||null===(f=w.componentOptions)||void 0===f||null===(x=f.web)||void 0===x||null===(D=x.pdp)||void 0===D?void 0:D.shouldFilterRecommendationListWithCartData)&&(null===Nt||void 0===Nt||null===(A=Nt.foodLines)||void 0===A?void 0:A.length)>0?_t:Ve,Lt=Object(a.useMemo)((()=>{var e;return Object($.b)(null===ft||void 0===ft||null===(e=ft.location)||void 0===e?void 0:e.pathname)?Le:Re}),[null===ft||void 0===ft||null===(y=ft.location)||void 0===y?void 0:y.pathname]),Pt=Object(s.od)(null===ht||void 0===ht?void 0:ht.localized,null===ht||void 0===ht?void 0:ht.loggedIn),{couponCode:wt="",discountTotal:Mt=""}=Object(s.zb)(Nt),[kt,Ft]=Object(a.useState)([]),[Ht,Ut]=Object(a.useState)(!1),Bt=Object(n.c)((e=>{var t;return null===(t=e.menuReducer)||void 0===t?void 0:t.isItemDetailsLoading})),[Wt,Gt]=Object(a.useState)({}),[Vt,Yt]=Object(a.useState)(!1),[zt,qt]=Object(a.useState)({}),[Kt,Jt]=Object(a.useState)(!1),Qt=JSON.parse(sessionStorage.getItem(I.Ne.INDULGENT_ADDONS_CART_CLICK)),Xt=Object(H.a)(),Zt=Object(H.b)(u.b),[$t,eo]=Object(a.useState)(""),[to,oo]=Object(a.useState)([]),ao=Object(s.fb)(ze),io=null===(_=Object(s.Jf)(Nt,ao))||void 0===_?void 0:_[null===P||void 0===P?void 0:P.productId];Object(a.useEffect)((()=>(Xe({type:Ne,value:"single"}),()=>{He({}),Xe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!1})})),[]),Object(a.useEffect)((()=>{re(Nt,Dt,$t,ft,kt)}),[null===Nt||void 0===Nt?void 0:Nt.discountLines,kt]),Object(a.useEffect)((()=>{let e={productDetails:P,currentItemObject:ct,prodURL:ve,product_name:B,pdpDataForUpdateFoodLine:dt,cartData:Nt,prodName:Y,prodItems:te,pdpPromoPage:nt,setPdpData:He,userOrderStateDispatch:Xe,setMakeItAComboData:Ge,setRecommendationData:Ye,setAddOnRecommendedData:Ft,setCurrentPDPProduct:Je,setProdQuantity:mt,setRuleName:qt,getPWAstorageData:Zt};Object(C.F)(e)}),[null===ct||void 0===ct?void 0:ct.id,P,nt]);const lo=(e,t,o)=>{o.preventDefault(),o.stopPropagation(),t===gt.Decrease&&vt>1&&(mt(vt-1),Yt(!0)),t===gt.Increase&&(mt(vt+1),Object(C.e)(vt,nt,Fe,et))},no=(e,t,o,a,i,l,n)=>{e.stopPropagation(),e.preventDefault();ce({event:e,data:t,miniPDPData:o,cartId:a,totalAmount:i,pdpDataForUpdateFoodLine:l,cartData:n,storesWithStatus:Et},co,Tt,w,Qe,Gt,Jt)},co=async(e,t,o,a,i,l,n)=>{var d,c,r,v;e.preventDefault();const m=(null===Et||void 0===Et||null===(d=Et[0])||void 0===d||null===(c=d.summary)||void 0===c||null===(r=c.menu)||void 0===r||null===(v=r.catalogs)||void 0===v?void 0:v[0])||he;if(Tt(Object(M.d)({tenantId:null===w||void 0===w?void 0:w.tenantId,catalogName:m},ge)),sessionStorage.removeItem(I.Ne.INDULGENT_ADDONS_CART_CLICK,!0),ht.localized){let e=Object(C.m)(t),{id:d,modGrps:c,quantity:r}=e;if(pt({id:d,itemCount:r,totalAmount:i}),(null===o||void 0===o?void 0:o.flag)!==Ae){const t=et[I.gd.VIEW_PRODUCT],o=null===t||void 0===t?void 0:t.couponCode;eo(o),o?(Tt(Object(Q.a)({params:{basketId:null===n||void 0===n?void 0:n.id},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,isProductPromo:nt,categoryName:je,categoryUrl:pe}],(()=>{Tt(Object(Q.b)({basketId:null===n||void 0===n?void 0:n.id,tenantId:null===w||void 0===w?void 0:w.tenantId},{couponCode:o}));let e={};e[o]=o,localStorage.setItem(I.gd.ADD_TO_ORDER,JSON.stringify(e)),Xe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),mt(Object(C.t)(nt,null===Fe||void 0===Fe?void 0:Fe.id,l,n,et)),!qe&&Object(s.uf)({key:_e,value:!0},Xt)}))),mt(Object(C.t)(nt,null===Fe||void 0===Fe?void 0:Fe.id,l,n,et))):(oo(Qe),await Tt(Object(Q.a)({params:{basketId:a},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,categoryName:je,categoryUrl:pe}])),mt(1)),Ut(!0)}else Tt(Object(Q.y)({params:{basketId:a,basketLineItemId:null===o||void 0===o?void 0:o.foodLineId},tenantId:null===w||void 0===w?void 0:w.tenantId},{Id:d,quantity:r,modGrps:c,isProductPromo:null===o||void 0===o?void 0:o.isProductPromo,categoryName:je,categoryUrl:pe},(()=>{Xt(Object(u.d)({key:I.gd.CUSTOMISE_ITEM_CART,value:!0})),null===ft||void 0===ft||ft.push({pathname:I.Ce.CART})})));window.scrollTo(0,0)}else Xe({type:Se,value:{showDisposition:!0}}),Xe({type:Ie,value:{addToCart:!0,productItemId:null===P||void 0===P?void 0:P.productId,categoryId:null===P||void 0===P?void 0:P.categoryId,oldProduct:null===P||void 0===P?void 0:P.productInfo,customizable:null===P||void 0===P?void 0:P.customizable,catalogs:null===P||void 0===P?void 0:P.catalogName,fromPdpPage:!0}})};Object(a.useEffect)((()=>{!Qt&&(e=>{var t,o;const{flatResponseData:a,analyticObjectData:i,tenantData:l,couponCode:n,discountTotal:d,isFromRecommendedSectionItemClick:c,isItemAdded:r,userType:u,modifierData:v}=e,m=null===v||void 0===v||null===(t=v.dispositionStateData)||void 0===t?void 0:t.dispositionType,O=null===a||void 0===a||null===(o=a.itemMapById)||void 0===o?void 0:o[null===i||void 0===i?void 0:i.id],{name:b="",availability:j,id:p,categoryName:h,categoryId:g}=Object(s.sd)(O),S=Object(s.Ub)(j);if(r){let{baseItemsCstmz:e,saucesCstmz:t,sidesCstmz:o,drinksCstmz:a,customizedPrice:O}=Object(s.F)(v);e=Object(s.te)(e),t=Object(s.te)(t),o=Object(s.te)(o),a=Object(s.te)(a);const j=[{item_name:b,item_id:p,price:Object(s.Z)(null===S||void 0===S?void 0:S.price,O,null===l||void 0===l?void 0:l.currencyConversionFactor),coupon:n,currency:null===l||void 0===l?void 0:l.currencyShortName,discount:Object(s.g)(d,null===l||void 0===l?void 0:l.currencyConversionFactor),item_category:h,item_list_name:Object(s.ad)(c,I.p.PDP_UPSELL,h),item_list_id:g,index:0,quantity:null===i||void 0===i?void 0:i.itemCount,originalPrice:Object(s.Ec)(S,null===l||void 0===l?void 0:l.currencyConversionFactor).toString(),baseItemsCustomisation:e,saucesCustomisation:t,sidesCustomisation:o,drinksCustomisation:a}];Object(s.sb)(c,Object(s.Hd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)),Object(s.Jd)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.ge)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.Vd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)))&&Object(C.a)(r,i,u,j,n,m,null===l||void 0===l?void 0:l.currencyShortName)}})({flatResponseData:rt,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:lt,isItemAdded:Ct,userType:Pt,modifierData:to})}),[rt,jt,w,wt,Mt,lt,Ct,Pt,Qt]),Object(a.useEffect)((()=>{ut({flatResponseData:rt,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:lt,isItemAdded:Ct,userType:Pt})}),[Vt]);const ro=e=>{let t=Object(p.jsx)(m.a,{srcFile:null===O.a||void 0===O.a?void 0:O.a.tickWhiteToast});Object(s.Df)(Object(d.translateWithI18Next)(we),t,"pdp-indulgent-toast pdp-modal-toast");let o=kt.filter((t=>!e.includes(null===t||void 0===t?void 0:t.id)));Ft(o),(null===kt||void 0===kt?void 0:kt.length)<=0&&Ut(!1)},so=()=>{Ut(!1),re(Nt,Dt,$t,ft,kt,At,!0)};Object(a.useEffect)((()=>{let e={pdpData:Fe,prodQuantity:vt,tenantData:w,PDP_PAYLOAD_DATA:fe,userOrderStateDispatch:Xe,pdpPromoPage:nt,storeTimeZone:be,pdpDataForUpdateFoodLine:dt,cartData:Nt,getPWAstorageData:Zt};Object(C.h)(e)}),[JSON.stringify(Fe),w.currencyConversionFactor,nt,vt,be]),Object(a.useEffect)((()=>{Object(C.i)(it,vt,null===Fe||void 0===Fe?void 0:Fe.id,Xe),Xe({type:j.a.CART_MODIFIED_DATA,value:it})}),[vt,it]),Object(a.useEffect)((()=>{var e,t;Ct&&(Xe({type:De}),Xe({type:xe}),ae(Fe,1,w.currencyConversionFactor,fe,Xe,nt,be,dt,Nt,Zt,null===w||void 0===w||null===(e=w.componentOptions)||void 0===e||null===(t=e.pdp)||void 0===t?void 0:t.enableDefaultModifierCalculation));Xe({type:ye,value:{}})}),[Ct,null===Fe||void 0===Fe?void 0:Fe.catalogName]),Object(a.useEffect)((()=>{ce({...Wt,cartId:null===Nt||void 0===Nt?void 0:Nt.id,cartData:Nt,pdpDataForUpdateFoodLine:dt,storesWithStatus:Et},co,Tt,w,Qe,Gt)}),[null===Nt||void 0===Nt?void 0:Nt.id]);const uo={pdpData:Fe,isMobile:k,imageContainerSize:me,isPdpDataLoading:Bt,pdpbackgroundImageData:at,displayBreadcrumbPDP:F,currentPDPProduct:Ke,pdpSummaryView:()=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(G,{pdpData:Fe,storeTimeZone:be,isMobile:k,isIpad:U,addtoCartClinckHandler:no,customModGrps:Ue,categoryId:P.categoryId,comboData:null===We||void 0===We?void 0:We.length,itemStatus:Ot,prodQuantity:vt,setProdQuantity:mt,quantityUpdate:lo,setItemStatus:bt,isItemDecreased:Vt,quantityRemovedObject:st,isStoreClosed:W,imageContainerSize:me,pdpbackgroundImageData:at,"data-testid":"add-to-cart-handler"})})};return Object(s.Td)(Fe)&&Object(s.Td)(Ke)&&Object(s.Td)(w)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"grid-container",children:[!k&&Object(p.jsx)("div",{className:"pdp-navigation pdp-navigation-sopac",id:"pdp-navigation-sopac",children:Object(C.b)(F,null===w||void 0===w?void 0:w.allowHiddenMenuViaExternalUrl,Ke.isHidden)}),Object(p.jsx)("div",{className:"".concat(Object(s.ad)(k,"pdp-mobile-container ","pdp-details-container-sopac")),children:se(uo,w)})]}),Object(p.jsx)("div",{style:{backgroundColor:"white"},children:Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{"data-testid":"pdp-desc-container",className:"pdp-desc-container-sopac ".concat(Object(s.ad)(k,"mobile","")),children:!!Object(s.Td)(Ke)&&Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsx)(V,{longDescription:null===Ke||void 0===Ke||null===(R=Ke.content)||void 0===R?void 0:R.longDescription,isMobile:k,dispositionType:ue,currentPDPProduct:Ke})})}),Object(s.hb)(Object.prototype.hasOwnProperty.call(it,"id"),void 0!==W)&&Object(p.jsx)("div",{className:"".concat(j.a.PDP_CUSTOM_CONTAINER," ").concat(Object(s.hb)(k,I.Ye)),children:Object(p.jsx)("div",{className:"d-flex",children:Bt&&Object(p.jsx)(le,{})||Object(p.jsx)(l.a,{testId:"menu-pdp-customization-container-test",data:Ke,isModal:!1,showPriceContent:!1,isMobile:k,customizable:Fe.customizable,localized:ht.localized,isStoreClosed:W,callBackToPDP:e=>{const{modifierGrp:t={}}=e;Be(t)},catalog:Fe.catalogName,categoryId:P.categoryId,importPath:ne(ue,Fe.customizable)})})}),Object(p.jsx)(X,{showLegalInfo:oe,isMobile:k}),Object(s.hb)(xt,(null===Rt||void 0===Rt?void 0:Rt.length)>0)&&(vo=Rt,mo=Lt,Oo="",bo="pdp-recommendations",Object(p.jsx)(q.a,{products:vo,country:null===w||void 0===w?void 0:w.country,cssClass:bo,header:mo,subHeader:Oo,recommendedRule:Ce,source:Ee,categoryId:P.categoryId})),(null===kt||void 0===kt?void 0:kt.length)>0&&Object(p.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:Object(p.jsx)(ee.a,{isMobile:k,openIndulgentModal:Ht,handleClose:so,removeItemCart:!1,IndulgentData:kt,imageContainerSize:Oe,modalTitle:Me,continueButtonText:ke,toastMassage:we,callBackMethod:ro,productId:null===P||void 0===P?void 0:P.productId,ruleNameDetails:zt,"data-testid":"indulgetAddon-modal",addToCart:Pe,errorBackMethod:ie,isRestrictedDisabled:null===io||void 0===io?void 0:io.isAddonsNotAddable})})]})}),de(Ce,We,Object(d.translateWithI18Next)(Lt),w,Ee,P),Kt&&Object(p.jsx)(J.a,{addtoCartClinckHandler:co,setCouponModal:Jt,setAddToClickParms:Gt,addToClickParms:Wt,flag:It})]}):Object(p.jsx)("div",{className:"d-flex justify-content-center no-results-section"});var vo,mo,Oo,bo}},1166:function(e,t,o){"use strict";o.d(t,"a",(function(){return D}));var a=o(3),i=o(62),l=o(28),n=o(2);var d=e=>{const{className:t,clickNextCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler-sopac"})};var c=e=>{const{className:t,clickPrevCard:o=null}=e;return Object(n.jsx)("div",{className:t,onClick:()=>{o()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler-sopac"})},r=o(1163),s=o(35),u=o(85),v=o(16),m=o(5),O=o(24),b=o(0),j=o(262),p=o(1096),h=o(1125);var g=e=>{var t,o,a;const{cardRenderer:i,productList:l,carousal:d,header:c="",subHeader:r="",settings:s,maxLengthToScroll:u,slidesToShow:v,rangeValue:O,onUpdateRange:b,showProductListingModal:j,isMobile:g,recommendedRule:I,flagUpsellCrossell:S,tenantData:N}=e,C=null===N||void 0===N||null===(t=N.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.pdp)||void 0===a?void 0:a.shouldShowRecommendationCardCount;return Object(n.jsxs)(n.Fragment,{children:[Boolean(null===l||void 0===l?void 0:l.length)&&Object(n.jsxs)("div",{className:Object(m.c)(),"data-testid":"recommendedCard-container-test",children:[Object(n.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(n.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(n.jsx)("span",{className:"main-header",children:c}),r&&Object(n.jsx)("span",{className:"sub-header",children:r})]}),C&&Object(n.jsxs)("span",{className:"count_box",children:[Math.round(O+1),"/",l.length]})]}),Object(n.jsxs)("div",{className:"recommendedCard-list",children:[Object(n.jsx)("div",{className:"recommendedCarousal-list",children:Object(n.jsx)(p.b,{settings:s,carousalRef:d,children:i()})}),l.length>u&&Object(n.jsx)("div",{className:"recommended-slideContainer",children:Object(n.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:l.length-v,value:O,id:"myRange","data-testid":"myRange",onChange:b})})]})]}),Object(m.hb)(j,I===S)&&Object(n.jsx)("div",{className:"pdp-custm-container ".concat(g?"mobile":""),children:Object(n.jsx)("div",{className:"d-flex",children:Object(n.jsx)(h.a,{})})})]})},I=o(1137),S=o(1098),N=o(1118),C=o(1177),E=o(80),T=o(132);const{PLP_PDP_DETAILS:f}=v.a,{PDP:x}=j.a,D=(e,t,o)=>{let a="recommended-card recommended-card-sopac";return e===t+o&&(a+=" recommendedCard-fade"),a};t.b=e=>{var t,o,v,p,h;const{PDP_RECOMMENDATIONS:A,CAROUSAL_CONFIG:y,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:_,FADE_CARD_INDEX:R}=C.a,{SPEED:L,SLIDES_TO_SHOW:P,SLIDES_TO_SCROLL:w}=y,{PDP_SLIDES_TO_SHOW:M,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:k,PDP_SLIDES_TO_SHOW_1024:F}=A,{products:H,storeClosedData:U,header:B="",subHeader:W="",cssClass:G="",recommendedRule:V,source:Y=""}=e,[z,q]=Object(a.useState)(0),[K,J]=Object(a.useState)(0),Q=Object(a.useRef)(null),[X,Z]=Object(a.useState)(Object(m.de)(window.innerWidth)),[$,ee]=Object(a.useState)(Object(m.be)()),{userOrderState:te,userOrderStateDispatch:oe}=Object(a.useContext)(u.a),ae=Object(l.b)(),ie=Object(T.a)(),{maxLengthToScroll:le,slidesToShow:ne}=((e,t,o,a,i,l,n)=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?l:o,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?t&&n||a:i}))(G,$,_,M,P,k,F),{dispositionStateData:de=b.eg}=te,{dispositionType:ce=localStorage.getItem("dispositionType")}=de,[re]=Object(a.useState)(),se=Object(i.g)(),{tenantReducer:ue,cartReducer:ve,userParams:me}=Object(l.c)((e=>({tenantReducer:Object(m.sd)(e.tenantReducer),cartReducer:Object(m.sd)(e.cartReducer),userParams:Object(m.sd)(e.appStateReducer.userStatus)}))),{cartData:Oe={}}=Object(m.sd)(ve),{showProductListingModal:be=!1}=Object(m.sd)(ve),je=Object(i.h)(),{PlpProductCard:pe=b.eg}=(null===ue||void 0===ue?void 0:ue.componentOptions)||b.eg,he=Object(m.Sd)(te.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):te.dispositionNew,ge=he?he.store:b.eg,Ie=(null===ge||void 0===ge||null===(t=ge.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(v=o.catalogs)||void 0===v?void 0:v.length)&&(null===ge||void 0===ge||null===(p=ge.summary)||void 0===p||null===(h=p.menu)||void 0===h?void 0:h.catalogs[0])||(null===ue||void 0===ue?void 0:ue.genericMenuName)||"",Se=null===H||void 0===H?void 0:H.filter((e=>!e.isHidden)),Ne=Y===x?Se:null===Se||void 0===Se?void 0:Se.filter((e=>{let t=O.b.channel,o=(e=>{let t=b.fe;return e===b.Bb&&(t=b.yb),e===b.Fb&&(t=b.Eb),t})(ce);return e.channel===t&&e.service===o})),{headerData:{pdpBackgroundImage:Ce={}}={}}=Object(l.c)((e=>{var t;return Object(m.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),Ee=Object(m.lb)(Ce),{showCartAlert:Te}=Object(N.a)(void 0,void 0,void 0,void 0,oe,ae,void 0),fe=()=>{Te(!0)},xe={dots:!1,infinite:!1,speed:L,slidesToShow:ne,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:C.b},De=()=>{const e=Object(m.de)(window.innerWidth),t=Object(m.be)();Z(e),ee(t)};Object(a.useEffect)((()=>{window.addEventListener("resize",De)}),[X]);const Ae={...xe,nextArrow:Object(n.jsx)(d,{clickNextCard:()=>{if(K<Ne.length-1){let e=0;e=K+w>Ne.length-ne-1?Ne.length-ne:K+w,Object(I.b)(e),J(e),Q.current.slickGoTo(e)}}}),prevArrow:Object(n.jsx)(c,{clickPrevCard:()=>{K>0&&(J(K-w),Q.current.slickGoTo(K-w)),Object(I.b)(K-w)}}),beforeChange:(e,t)=>q(t),afterChange:(e,t)=>J(e)},ye=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(a.useEffect)((()=>{let e=Object(m.dd)(ye,te);Object(m.hb)(e,re===V)&&ae(Object(s.v)({showProductListingModal:!0,categorySelected:""}))}),[ye,te.minipdpData.itemId,te.cartEditClicked]),Object(a.useEffect)((()=>{be&&ae(Object(s.v)({showProductListingModal:!1,categorySelected:""}))}),[je]);const _e=(e,t,o,a,i)=>{var l,n,d;e.preventDefault(),e.stopPropagation(),null===(l=window)||void 0===l||l.scrollTo(0,0);let c={productId:t,customizable:o,categoryId:a,catalogName:Ie,productInfo:i,isFromPlp:!0};const r=Ne.map((e=>e.id)).indexOf(t),{categoryURL:s,productPrice:u,productName:v}=i;oe({type:f,value:c}),oe({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}});const{localized:O=!1,loggedIn:p=!1}=Object(m.sd)(me),h=Object(m.od)(O,p),g=Object(m.Hb)(Oe),{couponCode:I="",amount:N=""}=Object(m.sd)(g),C=[{item_name:null===(n=v[0])||void 0===n?void 0:n.value,item_id:t,price:u,coupon:I,discount:N,currency:b.p.AUD,item_category:s&&s[0],item_list_name:b.p.PDP_UPSELL,item_list_id:b.p.SR_VALUE,index:r,quantity:1}];Object(S.b)(h,C),localStorage.setItem(b.gd.PRODUCT_DETAILS,JSON.stringify(c)),oe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),oe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),ie(Object(E.c)({key:b.gd.VIEW_PRODUCT})),se.push({pathname:Object(m.xc)(i.categoryURL,i.prodURL,null===se||void 0===se||null===(d=se.location)||void 0===d?void 0:d.pathname)})},Re=((e,t)=>{var o,a;const i=null===e||void 0===e||null===(o=e.foodLines)||void 0===o?void 0:o.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id}));return(null===e||void 0===e||null===(a=e.foodLines)||void 0===a?void 0:a.length)>0?null===t||void 0===t?void 0:t.filter((e=>!i.includes(e.id))):t})(Oe,Ne),Le=e=>"False"!==e&&e;return Boolean(null===Ne||void 0===Ne?void 0:Ne.length)&&Object(n.jsx)(g,{cardRenderer:()=>null===Re||void 0===Re?void 0:Re.map(((e,t)=>{var o;const a=Object(m.rd)(e.additionalProperties),i=a.length&&a.reduce(((e,t)=>{let{key:o,value:a}=t;return{...e,[o]:"True"===a||Le(a)}}),b.eg);return Object(n.jsx)("div",{className:D(t,K,R),children:Object(n.jsx)(r.a,{item:e,cardId:e.id,cardType:"medium",RecommendationCardItem:!0,cardFor:"recommended",configureOptions:pe,tenantData:ue,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:e.categoryUrl,customizable:e.customizable,onCardClickHandler:_e,userParams:me,dName:e.dname,prodURL:e.url,storeClosedData:U,"data-testid":"menu-card-component",openAlertModal:fe,serves:null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.serves,recommImageSizeFlag:!0,plpbackgroundImageData:Ee,...i,...e,productContent:null===e||void 0===e?void 0:e.content},e.id)})})),productList:[...Re],carousal:Q,header:B,subHeader:W,settings:Ae,maxLengthToScroll:le,slidesToShow:ne,rangeValue:z,onUpdateRange:e=>{q(e.target.value),Q.current.slickGoTo(e.target.value),Object(I.b)(e.target.value)},showProductListingModal:be,isMobile:X,tenantData:ue,flagUpsellCrossell:re,...e})}},1167:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(75),d=o.n(n),c=o(1218),r=o.n(c),s=o(266),u=o(5),v=o(6),m=o(4),O=o(170),b=o(144),j=o(46),p=o(71),h=o(1161),g=o(15),I=o(418),S=o(216),N=o(0),C=o(20),E=o.n(C),T=o(2);var f=e=>{const{nutritionalDetails:t,onClickServehandler:o,onClickGramHandler:a,showPerGram:n,showPerServe:d}=e,c=localStorage.getItem(null===N.gd||void 0===N.gd?void 0:N.gd.USER_LANGUAGE),r=Object(l.c)((e=>e.tenantReducer)),s=null===r||void 0===r?void 0:r.showPer100gTab;return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsxs)("div",{className:"nutrition-header-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:Object(v.translateWithI18Next)(m.a.NUTRITION)}),Object(T.jsxs)("div",{className:"nutrition-value",children:[Object(T.jsx)("div",{className:"nutrition-value-serve",children:Object(T.jsx)("button",{"data-testid":"per_serve_handler",type:"button",className:"per-serve"+(d&&!n?" activeServe":""),onClick:o,children:Object(v.translateWithI18Next)(m.a.PER_SERVE)})}),s&&Object(T.jsx)("div",{className:"nutrition-value-gram",children:Object(T.jsx)("button",{"data-testid":"per_gram_handler",type:"button",className:"per-gram"+(n&&!d?" activeGram":""),onClick:a,children:Object(v.translateWithI18Next)(m.a.PER_GRAM)})}),Object(T.jsx)("div",{})]})]}),Object(T.jsx)("div",{className:"nutrition-details-global",children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:((null===e||void 0===e?void 0:e.nutritionComponent)!==S.a&&n||d)&&(null===e||void 0===e?void 0:e.isActive)&&Object(T.jsxs)("div",{className:"nutrition-name-amoumt-details",children:[n&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.gramWiseValue)}),d&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.serveWiseValue)}),Object(T.jsxs)("div",{className:"nutrition-name-unit-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:"en"===(null===c||void 0===c?void 0:c.slice(0,2))||E()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.nutritionComponent:null===e||void 0===e?void 0:e.translationValue}),Object(T.jsxs)("div",{className:"nutrition-unit-global",children:["(",(null===e||void 0===e?void 0:e.nutritionUnit)===O.a.KJ_TEXT?Object(v.translateWithI18Next)(m.a.KJ):null===e||void 0===e?void 0:e.nutritionUnit,")"]})]})]})})))})]})},x=o(263),D=o(62);const A=e=>{const{allergenDetails:t,customizable:o,handleCloseModal:a,source:l}=e,n=localStorage.getItem(null===N.gd||void 0===N.gd?void 0:N.gd.USER_LANGUAGE);let d=Object(D.g)();const c=Object(T.jsx)("div",{className:"non-ala-carte-notification",children:Object(T.jsxs)("div",{className:"notification-alert",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Yellow,className:"non-ala-carte-alert-icon"}),Object(T.jsxs)("div",{className:"non-ala-carte-alert-text","data-testid":"navigation-click-testId",onClick:()=>(l===O.a.SOURCE&&a(),void Object(u.af)(d)),children:[Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_TEXT)}),Object(T.jsx)("span",{className:"non-ala-carte-alert-link-text",children:Object(T.jsx)(x.a,{className:"non-ala-carte-alert-link","data-testid":"non-ala-carte-alert-link-info",children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_LINK)})})]})]})}),r=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"allergen-information",children:[Object(T.jsxs)("div",{className:"allergen-notify-present",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Red,className:"alert-icon"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_DETAILS)})]})]}),Object(T.jsxs)("div",{className:"allergen-notify-trace",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Black,className:"alert-icon-trace"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_DETAILS)})]})]})]}),Object(T.jsx)("div",{className:"allergen-details-global",children:Object(T.jsx)("table",{children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"allergen-component",children:"en"===(null===n||void 0===n?void 0:n.slice(0,2))||E()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.allergenComponent:null===e||void 0===e?void 0:e.translationValue}),(null===e||void 0===e?void 0:e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Red})}),(null===e||void 0===e?void 0:e.isTrace)&&Object(T.jsx)("td",{className:"allergen-icon-trace",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Black})}),!(null!==e&&void 0!==e&&e.isTrace)&&!(null!==e&&void 0!==e&&e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon-text",children:Object(v.translateWithI18Next)(m.a.NOT_APPLICABLE)})]})})))})})]});return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)("div",{className:"allergen-header-global",children:Object(T.jsx)("div",{className:"allergen-name-global",children:Object(v.translateWithI18Next)(m.a.ALLERGEN)})}),o?c:r]})};var y=i.a.memo(A),_=o(42),R=o.n(_);t.a=e=>{var t;const{isMobile:o,summaryData:i,source:n}=e,{nutritionalDetails:c,allergenDetails:I,customizable:S,pdpCardObject:N,calories:C,nutritionDetails:E,servesCount:x,kilojoule:D,imageName:{hideAllergenInformation:A,hideNutritionInformation:_}}=i,{dName:L}=N,{showNutritionAllergenModal:P,handleCloseModal:w}=E,{imageName:M,imageContainerSize:k,pdpbackgroundImageData:F}=i,H=Object(l.b)();Object(a.useEffect)((()=>{H(Object(h.a)({object:Object(p.a)(),contentFull:{content_type:"supportContent",include:"5","fields.title":"NutritionAllergenDisclaimer"}}))}),[H]);let U=null;const B=Object(l.c)((e=>({nutritionAllergenDisclaimerContent:R()(e,O.a.NUTRITION_ALLERGEN_ACTION_RESPONSE,null)})));var W,G,V,Y,z,q;Object(u.Td)(null===B||void 0===B?void 0:B.nutritionAllergenDisclaimerContent)&&(U=null===B||void 0===B||null===(W=B.nutritionAllergenDisclaimerContent)||void 0===W||null===(G=W.nutritionAllergenDisclaimerResp)||void 0===G||null===(V=G.items[0])||void 0===V||null===(Y=V.fields.content[0])||void 0===Y||null===(z=Y.fields)||void 0===z||null===(q=z.richText)||void 0===q?void 0:q.content);const[K,J]=Object(a.useState)(!0),[Q,X]=Object(a.useState)(!1),[Z,$]=Object(a.useState)(!1),{tenantReducer:ee}=Object(l.c)((e=>({tenantReducer:e.tenantReducer||{}}))),te={id:"NutritionAllergenModal",role:"dialog",modalTitleId:"NutritionAllergen-Modal-id",show:P,classNames:"Base-modal  NutritionAllergen-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:w,modalTitle:Object(v.translateWithI18Next)(m.a.NUTRITION_ALLERGEN_INFORMATION),modalTitleRequired:!0,closeDataTestId:"close-modal",autoFocus:!0};return d.a.createPortal(Object(T.jsx)(b.a,{...te,children:Object(T.jsxs)("div",{className:"nutrition-allergen-container-global",children:[Object(T.jsx)("div",{className:"nutrion-allergen-image-container",style:Object(u.mb)(F,k.containerWidth,k.containerHeight),children:Object(T.jsx)(j.a,{"data-testid":"",className:"nutrition-allergen-card-image-global",defaultPath:Object(u.bc)(null,ee,!0),srcFile:Object(u.qc)(M,k.containerWidth,k.containerHeight)})}),Object(T.jsxs)("div",{className:"nutrition-allergen-details-section",children:[Object(T.jsxs)("div",{className:"product-details-header",children:[Object(T.jsx)("div",{className:"d-flex strips-icon",children:Object(T.jsx)(j.a,{srcFile:o?g.a.StripsIconMobile:g.a.StripesIcon,className:"stripes-img"})}),Object(T.jsx)("div",{className:"product-name",children:L}),Object(T.jsx)("div",{className:"kj-info-details",children:C&&Object(T.jsxs)("span",{className:"kj-info",children:["".concat(C," ").concat(D)," \xa0 ",(e=>!!e&&"".concat(Object(v.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.SERVES)," ").concat(e))(x)]})})]}),Object(T.jsxs)("div",{className:"nutrition-allergen-list-global",children:[!_&&Object(T.jsx)(f,{nutritionalDetails:c,onClickServehandler:function(e){e.preventDefault(),J(!0),X(!1)},onClickGramHandler:function(e){e.preventDefault(),X(!0),J(!1)},showPerGram:Q,showPerServe:K}),!A&&Object(T.jsx)(y,{allergenDetails:I,customizable:S,handleCloseModal:w,source:n}),Object(T.jsx)("div",{className:"disclaimer-section ".concat(Z?"disclaimer-section-open":""),children:Object(T.jsxs)("div",{className:"global-accordian-container","data-testid":"global-accordian",children:[Object(T.jsx)("div",{className:"global-accordian-header-container ".concat(Z?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!Z)},"data-testid":"disclaimer-handle",children:Object(T.jsx)("span",{className:"global-accordian-header",children:Object(v.translateWithI18Next)(m.a.DISCLAIMER)})}),Z&&Object(T.jsx)("div",{className:"global-accordian-content",children:Object(T.jsx)("div",{className:"disclaimer-content",children:null===(t=U)||void 0===t?void 0:t.map((e=>Object(T.jsx)("ul",{dangerouslySetInnerHTML:{__html:r.a.sanitize(Object(s.documentToHtmlString)(e))},className:"protected-accordian-answer"})))})})]})})]})]})]})}),document.getElementById("modal-popups"))}},1168:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var a=o(3),i=o(1096),l=o(1115),n=o(1116),d=o(6),c=o(0),r=o(85),s=o(61),u=o(1118),v=o(28),m=o(132),O=o(80),b=o(46),j=o(1141),p=o(396),h=o(41),g=o(425),I=o(5),S=o(2);var N=e=>{var t,o,i,l,n,N;const{ruleName:C,recommendationType:E,IndulgentData:T,catalogs:f,flatResponse:x,index:D,indulgentAddToCartHandler:A,showServesValue:y,showCaloricValue:_,item:R,INDULGENT_ADD_ON:L,productId:P}=e,w=Object(v.c)((e=>e.cartReducer)),M=Object(v.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),k=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=Object(v.c)((e=>e.tenantReducer)),H=null===F||void 0===F||null===(t=F.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(i=o.plp)||void 0===i?void 0:i.removeSingleItemInCartFromPLP,{flatResponse:{productMapByItemId:U={}}={}}=null!==(l=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},{currencyConversionFactor:B,componentOptions:{web:{global:{showPriceWithTax:W=!1}={}}={}}={}}=F,{ADD_TO_CART:G}=L,V=Object(v.c)((e=>e.tenantReducer)),{cartData:Y={}}=Object(I.sd)(w),{userOrderStateDispatch:z,userOrderState:q}=Object(a.useContext)(r.a),{timeBasedCetegory:K}=q,[J,Q]=Object(a.useState)(0),[X,Z]=Object(a.useState)(null),[$,ee]=Object(a.useState)(0),te=Object(I.fb)(V),oe=(null===R||void 0===R?void 0:R.isRestrictedAddon)||(null===R||void 0===R?void 0:R.isHidden);Object(a.useEffect)((()=>{const e=Object(I.Td)(Y)?Object(I.mc)(null===R||void 0===R?void 0:R.id,Y):{},t=Object(I.ad)(Object(I.Td)(e),e.count,0),o=Object(I.ad)(Object(I.Td)(e),e.matchedItemFoodLineId,""),a=Object(I.ad)(Object(I.Td)(e),e.itemUnitPrice,"");Q(t),Z(o),ee(a)}),[Y,null===R||void 0===R?void 0:R.id]);const{discountTotal:ae,couponCode:ie}=Object(I.zb)(Y),{QUANTITY_ACTION:le}=s.a,ne=Object(v.b)(),de=Object(m.b)(O.b),ce=Object(I.od)(null===k||void 0===k?void 0:k.localized,null===k||void 0===k?void 0:k.loggedIn);return Object(S.jsxs)("div",{className:"indulgent-card",children:[Object(S.jsx)(b.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(I.bc)(null,F,!0),srcFile:Object(I.bc)(null===R||void 0===R?void 0:R.imageName,F)}),Object(S.jsxs)("div",{className:"indulgent-card-content",children:[Object(S.jsx)("div",{className:"indulgent-card-header",children:R.dname[0].value}),Object(S.jsxs)("div",{className:"indulgent-card-price",children:[F.currencySymbol,Object(I.Ic)(null===R||void 0===R||null===(n=R.availability)||void 0===n?void 0:n[0],null===R||void 0===R?void 0:R.additionalProperties,null===F||void 0===F?void 0:F.currencyConversionFactor,W),_&&Object(I.we)(null===R||void 0===R?void 0:R.content,F,y)]}),J>0?Object(S.jsx)("div",{className:"quantityAddtocart",children:Object(j.e)(J,((e,t)=>{var o;null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault();const a=Object(p.g)(null===R||void 0===R?void 0:R.itemId,null===M||void 0===M?void 0:M.flatResponse),i=Object(p.d)(null===R||void 0===R?void 0:R.itemId,K);if(!Object(p.c)({categoryUrl:a,itemInCart:i,alertType:Object(p.j)(null===K||void 0===K?void 0:K.timebasedItemInCart,null===c.Sb||void 0===c.Sb?void 0:c.Sb.ITEM),categoryId:null===R||void 0===R?void 0:R.itemId,itemId:null===R||void 0===R?void 0:R.itemId},{...K,menuData:M,foodLinesItems:(null===w||void 0===w||null===(o=w.cartData)||void 0===o?void 0:o.foodLines)||[]},z)&&k.localized){const e=Number(($/B).toFixed(2));let o={foodName:null===R||void 0===R?void 0:R.name,foodItemId:null===R||void 0===R?void 0:R.mdmId,cartPrice:e,modifiers:[],quantity:J,foodLineId:X};const{itemQuantityHandler:a,itemRemoveHandler:i}=Object(u.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===F||void 0===F?void 0:F.tenantId,void 0,U,void 0,ne,void 0,ce,null===F||void 0===F?void 0:F.currencyShortName,void 0,de,ie,ae,B);t===le.Increase?a(o,le.Increase):H&&1===(null===o||void 0===o?void 0:o.quantity)?i(o):a(o,le.Decrease)}}),null===R||void 0===R||null===(N=R.dname)||void 0===N?void 0:N[0].value,F)}):Object(S.jsxs)(h.a,{className:"button redButton indulgent-card-button","aria-label":Object(d.translateWithI18Next)(G)+" "+R.dname[0].value,"data-testid":"add-to-cart",onClickHandler:e=>{e.preventDefault(),e.stopPropagation(),A({index:D,id:null===R||void 0===R?void 0:R.id,customizable:!1,dispatch:ne,cartReducer:w,tenantReducer:F,catalogs:f,flatResponse:x,category_id:null===R||void 0===R?void 0:R.categoryId,userType:ce,productId:P,ruleName:C,recommendationType:E,IndulgentData:T,couponCode:ie,discountTotal:ae,...te?{isRestrictedAddon:oe}:{}})},children:[Object(d.translateWithI18Next)(G),Object(S.jsx)(b.a,{className:"add-to-cart-Icon",srcFile:g.a})]})]})]})};const C=e=>{const{INDULGENT_ADD_ON:t,IndulgentData:o,isMobile:a,tenantReducer:c,rangeValue:r,updateRangeValue:s,currentSlide:u,updateCurrentSlide:v,caroselCount:m,setCaroselCount:O,carousal:b,setPrevArrowCSS:j}=e,{ADD_TO_CART:p,HEADER:h,SLIDES_TO_SCROLL:g,SLIDES_TO_SHOW:I,RESPONSIVE_SETTINGS:C}=t,E={dots:!1,infinite:!1,speed:500,slidesToShow:I,slidesToScroll:g,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(S.jsx)(l.a,{clickNextCard:()=>{if(u<o.length-1){let e=0;e=u+g>o.length-I-1?o.length-I:u+g,j(e),v(e),b.current.slickGoTo(e)}}}),prevArrow:Object(S.jsx)(n.a,{clickPrevCard:()=>{u>0&&(v(u-g),b.current.slickGoTo(u-g)),j(u-g)}}),beforeChange:(e,t)=>s(t),afterChange:(e,t)=>v(e),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:(e,t)=>{O(Math.round(t+1))}}}]},{currencyConversionFactor:T,componentOptions:{web:{global:{showPriceWithTax:f=!1}={}}={}}={}}=c;return Object(S.jsxs)("div",{className:"indulgent-container",children:[Object(S.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(S.jsx)("span",{className:"indulgent-header",children:Object(d.translateWithI18Next)(h)}),a&&Object(S.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[m,"/",o&&o.length]})]}),Object(S.jsx)("div",{className:"indulgent-card-list",children:Object(S.jsx)(i.b,{settings:E,carousalRef:b,children:o.map(((t,o)=>Object(S.jsx)(N,{index:o,item:t,...e},o)))})}),!a&&o.length>3&&Object(S.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(S.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:o.length-(e=>{const t=window.innerWidth;return t>1350&&t<1650?4:t>1650&&t<=1920?5:e})(I),value:r,id:"myRange",onChange:e=>{s(e.target.value),b.current.slickGoTo(e.target.value)}})})]})}},1170:function(e,t,o){"use strict";var a=o(3),i=o(1166),l=o(120),n=o(85),d=o(1103),c=o(5),r=o(262),s=o(2);t.a=e=>{var t,o;const{products:u,country:v,cssClass:m="",categoryId:O,recommendedRule:b,componentOptions:j}=e,{userOrderState:p}=Object(a.useContext)(n.a),{UPSELL:h}=r.a,{INDIA:g}=d.a,[I,S]=Object(a.useState)(!1),N=Object(a.useMemo)((()=>Object(c.Sd)(p.currentStoreInfo)?Object(c.b)(localStorage.getItem("currentStoreInfo")):p.currentStoreInfo),[p.currentStoreInfo]),{futureDates:C,scheduled:E,asap:T}=Object(c.sd)(null===N||void 0===N||null===(t=N.summary)||void 0===t?void 0:t.timings),{unavailibilities:f}=Object(c.sd)(E),{interval:x=0,startEndTime:D={}}=Object(c.sd)((null===E||void 0===E||null===(o=E.periods)||void 0===o?void 0:o.length)&&(null===E||void 0===E?void 0:E.periods[0])),{from:A,to:y}=D,_=Object(a.useCallback)((()=>{if(Object(c.Td)(N)){var e,t;let o=null===(e=N.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Object(l.j)(A,y,x,null===T||void 0===T?void 0:T.isAvailable,1===(null===C||void 0===C?void 0:C.length)&&(null===v||void 0===v?void 0:v.toUpperCase())===g,f);"CLOSED"!==o||a.length?S(!1):S(!0)}else S(!1)}),[N]);return Object(a.useEffect)((()=>{_()}),[_]),((e,t,o)=>{var a,i;return e!==t||(null===o||void 0===o||null===(a=o.web)||void 0===a||null===(i=a.pdp)||void 0===i?void 0:i.makeItComboButton)})(b,h,j)?Object(s.jsx)("div",{className:"recommended-container ".concat(m),"data-testid":"recommended-container",children:Object(s.jsx)(i.b,{"data-testid":"recommended-items",categoryId:O,products:u,storeClosedData:{isStoreClosed:I},...e})}):Object(s.jsx)(s.Fragment,{})}},1172:function(e,t,o){"use strict";o.d(t,"a",(function(){return E}));var a=o(3),i=o.n(a),l=o(6),n=o(329),d=o.n(n),c=o(46),r=o(43),s=o(5),u=o(15),v=o(269),m=o(2);const{GoogleMapLocationImage:O,SuggestionItemSearchPin:b,clearTextIcon:j,Time_Clock:p}=u.a,{SUUGESTED_ITEMS_TEXT:h,ALLOWED_SUGGESTION_LIST:g,SUGGESTION_ACTIVE_COLOR:I,SUGGESTION_ACTIVE_OPACITY:S,BRAND_BLACK:N}=r.a,C=e=>{const{currentMarket:t,placeholder:o,storeSelection:a={},address:n,inputOnChange:r,handleSelectAddress:u,onSearchError:g,locationAlert:I,negativeScenarioAlert:S,inputRef:N,keyPress:C,onClearTextHandler:E,showAutoSuggestion:T,alreadySearched:f,setSuggestedAddress:x,filteredTypes:D,maxLength:A,filterConditions:y,isAddressNotChangable:_}=e,{placesSearchInput:R=!0}=a;return Object(m.jsx)("div",{className:"search-delivery-address",children:Object(m.jsx)("div",{className:"input-delivery-address",children:Object(m.jsx)(d.a,{value:n,onChange:r,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:D},shouldFetchSuggestions:!0,onError:g,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:d,loading:r}=e;return Object(m.jsx)("div",{children:R&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(c.a,{"data-testid":"",srcFile:O,alt:" ",className:"google-location-img"}),Object(m.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:A,className:"".concat(Object(s.ad)(Object(s.qd)(I,S),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:o,ref:N}),onKeyUp:C,disabled:_}),n&&!_&&Object(m.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:E}),Object(s.hb)(Object(s.pc)(a),T)?Object(m.jsx)("div",{className:"suggestion-list",children:Object(v.d)(a,y).map(((e,t)=>(null===x||void 0===x||x(a),Object(m.jsxs)(i.a.Fragment,{children:[0===t&&Object(m.jsx)("div",{className:"suggestion-items suggest-text",children:Object(l.translateWithI18Next)(h)}),Object(m.jsx)("div",{className:"suggestion-item-container",children:Object(m.jsx)("div",{...d(e,{className:"suggestion-items"}),children:Object(m.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(m.jsx)("div",{children:Object(m.jsx)(c.a,{"data-testid":"",srcFile:Object(s.ad)(f(e.description),p,b),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(m.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},E=i.a.memo(C)},1173:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return l}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const a={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},i={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},l="subpremise"},1175:function(e,t,o){"use strict";o(3);var a=o(1142),i=o(5),l=o(2);t.a=e=>Object(i.T)(e.subCategory).map(((t,o)=>{let{categories:i="",products:n=[],id:d="",dname:c}=t;return Object(l.jsxs)("div",{id:d,children:[Object(l.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(l.jsx)("div",{children:c[0].value}),i]}),Object(l.jsx)(a.a,{productList:n,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},o)}))},1177:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return i}));let a,i;(async()=>{let t=await(async()=>{var t,a,i,l,n;const d=null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(o.bind(null,215));return null===c||void 0===c||null===(i=c.default)||void 0===i||null===(l=i[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===l?void 0:l.RECOMMENDED_CONSTANTS})();a=null===t||void 0===t?void 0:t.RECOMMENDED_CONSTANTS,i=null===t||void 0===t?void 0:t.RESPONSIVE_CONFIG})()}).call(this,o(121))},1179:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(1130),d=o(963),c=o(55),r=o(16),s=o(85),u=o(1159),v=o(2);var m=e=>{const{DISPOSITION_DATA:t=""}=r.a,{userOrderState:o,userOrderStateDispatch:l}=Object(a.useContext)(s.a)||{};return Object(a.useEffect)((()=>{l({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(v.jsx)(n.a,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:c.y}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:c.y})]})})},O=o(5),b=o(1160);t.a=()=>{var e,t,o,a;const{DISPOSITION:i}=b.a;let n=null,d=null,c=Object(l.c)((e=>e.appStateReducer.userStatus));const r=Object(l.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};n=Object(O.fc)(r.homePageContent)||null,d=Object(O.Yc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[i])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(o=null===(a=n)||void 0===a?void 0:a[i])&&void 0!==o?o:{}},userParams:c,tenantReducerData:r.tenantReducerContent})}},1184:function(e,t,o){"use strict";var a=o(3),i=o(28),l=o(59),n=o(66),d=o(332),c=o(6),r=o(4),s=o(144),u=o(46),v=o(15),m=o(55),O=o(5),b=o(41),j=o(2);var p=e=>{const{onCancel:t,setOccasionNameHandler:o,updateFavouriteOrder:a,occasionName:i,isNameExist:l,isInValid:n,isEditOrderName:d=!1,onClearTextHandler:s,disaableButton:m,editFavHeading:O=!1,isAddFavOrderBox:p=!1,errorMessage:h}=e,{CANCEL:g,SAVE:I,OCCASSION_ADD_HEADING:S,OCCASSION_EDIT_HEADING:N,ORDER_PLACEHOLDER:C,NAME_EXIST:E,OCCASION_NAME_VALIDATION:T,EDIT_FAVOURITE_HEADING:f,SAVE_FAV_ORDER:x,PLEASE_FILL_OUT_THIS_FIELD:D}=r.a,A=d?O?f:N:S,y=n?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(c.translateWithI18Next)(p?x:A)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:i,type:"text","data-testid":"occasion-input",className:l||n?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>o(e,d),title:Object(c.translateWithI18Next)(D)}),Object(j.jsx)("label",{children:Object(c.translateWithI18Next)(C)}),n&&Object(j.jsxs)("div",{className:"error-text-container ".concat(y),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(c.translateWithI18Next)(h)})]}),""!==i?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>s()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(b.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(c.translateWithI18Next)(g)}),Object(j.jsx)(b.a,{disabled:m,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>a(),children:Object(c.translateWithI18Next)(I)})]})]})};t.a=e=>{const{isMobile:t,editItemId:o,setEditItemId:b,showOccassionModal:h,setOccassionModalOpen:g,cardInfo:I,toastmessage:S,hasEdit:N=!1,occasionName:C,setOccasionName:E,isAddFavOrderBox:T,updateSetOrderDetails:f,userParams:x,currencyShortName:D,currencyConversionFactor:A,orderDetail:y,productMapById:_}=e,R=Object(i.b)(),[L,P]=Object(a.useState)(""),[w,M]=Object(a.useState)(""),[k,F]=Object(a.useState)(!0),[H,U]=Object(a.useState)([]),B=Object(i.c)((e=>{var t;return Object(O.rd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:W,phone:G}=Object(i.c)((e=>{var t;return Object(O.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:V,favouriteNameMinLength:Y}=Object(i.c)((e=>Object(O.rd)(e.tenantReducer))),{tenantId:z}=Object(i.c)((e=>Object(O.sd)(e.tenantReducer))),[q,K]=Object(a.useState)(!1),[J,Q]=Object(a.useState)(!1),[X,Z]=Object(a.useState)(""),{FavoriteActiveWhite:$}=v.a,ee=Object(j.jsx)(u.a,{srcFile:$}),te=Object(c.translateWithI18Next)(r.a.FAVORITE_ORDER_NAME_EDITED),oe=Object(O.ad)(N,"occassion-modal","OccassionModal"),ae=Object(O.ad)(N,"edit-modal",""),{NAME_EXIST:ie,OCCASION_NAME_VALIDATION:le,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:ne,OCCASION_NAME_LENGTH_ERROR:de}=r.a;Object(a.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(a.useEffect)((()=>{M(C),P(C)}),[h]),Object(a.useEffect)((()=>{L&&Object(O.hb)(!q,!J)&&(null===L||void 0===L?void 0:L.length)>=Y?F(!1):F(!0)}),[L,q,J]);const ce=Object(O.ad)(N,(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===H||void 0===H?void 0:H.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),a=null===V||void 0===V?void 0:V.test(L);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(O.jb)(!a,0===i))K(!0);else if(a&&t>=0&&w!==L)Q(!0),K(!1);else{const e={tenantId:z,customerId:W,phoneNumber:Object(O.Pc)(G)},t={orderId:o,name:L};R(Object(d.a)(e,t)),b(""),se(),Object(O.Df)(te,ee,"favorites-added-toast"),setTimeout((()=>{l.b.dismiss()}),3e3)}}),(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===H||void 0===H?void 0:H.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=null===V||void 0===V?void 0:V.test(L);let a=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(O.jb)(!o,0===a))K(!0);else if(o&&t>=0)Q(!0),K(!1);else{const{id:e}=I;R(Object(d.a)({customerId:W,tenantId:z,phoneNumber:Object(O.Pc)(G)},{orderId:e,name:L})),Object(O.hb)(h,f)&&f({saveFavoriteSummarySucess:!0}),se(),Object(O.Df)(S,ee,"favorites-added-toast"),setTimeout((()=>{l.b.dismiss()}),3e3);const t=[],o={userType:Object(O.od)(null===x||void 0===x?void 0:x.localized,null===x||void 0===x?void 0:x.loggedIn),coupon:(null===y||void 0===y?void 0:y.discountLines)||"NA",value:((null===y||void 0===y?void 0:y.total)/A).toFixed(2),currency:D},a=(null===y||void 0===y?void 0:y.orderedItemDetails)||(null===y||void 0===y?void 0:y.filteredFoodLines);null===a||void 0===a||a.forEach(((e,o)=>{var i,l,n,d,c,r,s,u,v,m,O,b;const{categoryId:j="NA",categoryName:p="NA"}=null!==(i=null===_||void 0===_?void 0:_[null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id])&&void 0!==i?i:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)||"NA",item_id:void 0!==(null===y||void 0===y?void 0:y.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,price:Number(((null===e||void 0===e?void 0:e.amount)/A).toFixed(2))||0,item_category:""!==p?(null===(c=a[o])||void 0===c?void 0:c.categoryUrl)||(null===(r=a[o])||void 0===r||null===(s=r.item)||void 0===s?void 0:s.categoryUrl):p,item_list_name:""!==p?(null===(u=a[o])||void 0===u?void 0:u.categoryUrl)||(null===(v=a[o])||void 0===v||null===(m=v.item)||void 0===m?void 0:m.categoryUrl):p,item_list_id:void 0!==(null===y||void 0===y?void 0:y.orderedItemDetails)?""!==j?null===(O=a[o])||void 0===O?void 0:O.id:j:null===e||void 0===e||null===(b=e.item)||void 0===b?void 0:b.id,index:o,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(m.i)(t,o)}}));Object(a.useEffect)((()=>{const e=[];null===B||void 0===B||B.map((t=>{var o,a;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(o=t.name)||void 0===o||null===(a=o.toUpperCase())||void 0===a?void 0:a.trim())})),U(e),o&&(K(!1),Q(!1))}),[o]);const re={id:"occassion-modal",role:"dialog",modalTitleId:oe,show:h,classNames:"Base-modal ".concat(Object(O.ad)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>se(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},se=Object(O.ad)(N,(()=>{Q(!1),K(!1),g(!1)}),(()=>{g(!1)}));return Object(a.useEffect)((()=>{((e,t,o,a)=>{if(e){const i={customerId:t,tenantId:e,phoneNumber:Object(O.Pc)(o),updateUserData:!0};a(Object(n.d)(i))}})(z,W,G,R)}),[R,z,W,G]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(s.a,{...re,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(p,{onCancel:se,setOccasionNameHandler:(e,t)=>{var o;const a=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,i=null===H||void 0===H?void 0:H.includes(null===a||void 0===a?void 0:a.toUpperCase()),l=null===V||void 0===V?void 0:V.test(a),n=(null===a||void 0===a?void 0:a.length)<3;let d="";""!==a&&(n&&!l?d=ne:n?d=de:l?i&&(d=ie):d=le),F(!!d),K(!!d),Q(d===ie),Z(d),E(a),P(a)},updateFavouriteOrder:ce,occasionName:L,isNameExist:J,isInValid:q,onClearTextHandler:()=>{E(""),P(""),Q(!1),K(!1)},disaableButton:k,isEditOrderName:N,editFavHeading:N,"data-testid":ae,isAddFavOrderBox:T,errorMessage:X})})})})})})}},1186:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(41),d=o(6),c=o(4),r=o(394),s=o(85),u=o(43),v=o(80),m=o(132),O=o(2);const{SAVED_ADDRESS:b,START_ORDER:j,SAVED_ADDRESSES:p}=c.a,{SAVED_ADDRESS_LIMIT:h}=u.a,g=e=>{var t;const o=Object(m.a)(),{handleSelectAddress:i,savedAddresses:c=[],show:u,scheduleOrderDateFormat:g}=e,I=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),S=null===I||void 0===I||null===(t=I.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:N}=Object(a.useContext)(s.a),C=null===c||void 0===c?void 0:c.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,h),E=(null===c||void 0===c?void 0:c.length)>1?Object(d.translateWithI18Next)(p):Object(d.translateWithI18Next)(b),T=(null===c||void 0===c?void 0:c.length)>h?h:c.length;return u&&Object(O.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(O.jsx)("div",{className:"savedAddress-store-count",children:Object(O.jsx)("span",{className:"saved-address-count-title",children:"".concat(E," (").concat(T,")")})}),null===C||void 0===C?void 0:C.map(((e,t)=>{var a,l;return Object(O.jsx)("div",{className:"savedAddress-module-card",children:Object(O.jsxs)("div",{className:"inside-card",children:[Object(O.jsxs)("div",{className:"address-section",children:[Object(O.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),S&&Object(O.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(O.jsxs)("span",{children:[" ",null===e||void 0===e||null===(a=e.addressLines)||void 0===a||null===(l=a.filter(Boolean))||void 0===l?void 0:l.join(" ")," "]})}),!S&&Object(O.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(O.jsxs)("span",{children:[" ",Object(r.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(O.jsxs)("span",{children:[" ",Object(r.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(O.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(O.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(O.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(O.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(n.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(r.U)(e,N,i,o,v.d,g),"data-testid":"saved-start-order-click-test",children:Object(d.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},I=i.a.memo(g);t.a=I},1190:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(6),d=o(4),c=o(16),r=o(0),s=o(5),u=o(85),v=o(46),m=o(144),O=o(262),b=o(1095),j=o(132),p=o(80),h=o(1125),g=o(35),I=o(145),S=o(395),N=o(235),C=o(15),E=o(2);const{CHOOSE_ANY_PRODUCT:T}=d.a;t.a=e=>{var t,o,f,x,D;const{PLP_PDP_DETAILS:A,SET_MULTI_PRODUCT_VIEW_MODAL:y}=c.a,{userOrderStateDispatch:_,userOrderState:R}=Object(a.useContext)(u.a),L=Object(l.c)((e=>e.storesReducer)),P=Object(l.c)((e=>e.cartReducer)),w=Object(l.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{isDealModalOpen:M,handleClose:k,viewProductCardData:F,imageContainerSize:H,tenantId:U,addToOrderClickHandler:B}=Object(s.sd)(e),{item:W,titleValue:G,promoParams:V,priceDetails:Y}=Object(s.sd)(F),{itemDetails:z}=Object(s.sd)(W),q=Object(l.c)((e=>e.tenantReducer)),{data:{categories:K=[]}={}}=Object(l.c)((e=>{let{menuReducer:t}=e;return t||{}})),J=Object(j.a)(),Q=(null===L||void 0===L||null===(t=L.storesWithStatus)||void 0===t?void 0:t.length)&&(null===L||void 0===L||null===(o=L.storesWithStatus[0])||void 0===o||null===(f=o.summary)||void 0===f?void 0:f.timeZoneIANA),X={id:"productDetailsPopUp",role:"dialog",modalTitleId:"productDetailsPopUp",show:{isProductModalOpen:M},classNames:"multi-product-wrapper-modal",showCloseBtn:!0,closeButtonHandler:k,modalTitle:G,autoFocus:!0},{headerData:{plpBackgroundImage:Z={}}={}}=Object(l.c)((e=>{var t;return Object(s.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),$=Object(s.lb)(Z),ee=Object(s.Sd)(R.dispositionNew)?JSON.parse(localStorage.getItem(r.Hb)):R.dispositionNew,te=Object(a.useMemo)((()=>({storeInfo:ee?ee.store:{}})),[ee,R,q]),oe=Object(l.b)(),[ae,ie]=Object(a.useState)(""),[le,ne]=Object(a.useState)(!1),{ADD_TO_CART:de}=N.a,ce=null===q||void 0===q||null===(x=q.componentOptions)||void 0===x||null===(D=x.PlpProductCard)||void 0===D?void 0:D.allowClickOnProductCard,re=(t,o,a,i,l,n,d,c,u)=>{var v,m,b,j,h;let g={productId:t,customizable:o,categoryId:a,catalogName:l,productInfo:i,isFromPlp:!0,categoryName:c,categoryUrl:n,url:u};const{url:I}=null!==(v=null===w||void 0===w||null===(m=w.productMapByItemId)||void 0===m?void 0:m[d])&&void 0!==v?v:{};_({type:A,value:g}),_({type:y,isFromMultiProductViewModal:!0}),localStorage.setItem(r.gd.PRODUCT_DETAILS,JSON.stringify(g)),null===e||void 0===e||null===(b=e.history)||void 0===b||b.push({pathname:Object(s.xc)(n,I||u,null===e||void 0===e||null===(j=e.history)||void 0===j||null===(h=j.location)||void 0===h?void 0:h.pathname)}),J(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y}})),J(Object(p.d)({key:r.gd.PROMO_PRODUCT_CART,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y,isPromo:!0}})),_({type:O.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})},se=t=>{var o,a,i,l,n,d;const c=null!==(o=null===w||void 0===w||null===(a=w.productMapByItemId)||void 0===a?void 0:a[t])&&void 0!==o?o:{},u=null!==(i=null===w||void 0===w||null===(l=w.productMapByItemId)||void 0===l||null===(n=l[t])||void 0===n||null===(d=n.itemMapByItemId)||void 0===d?void 0:d[t])&&void 0!==i?i:{},v=null===w||void 0===w?void 0:w.catalogName,m=null===c||void 0===c?void 0:c.customizable;ie(c),J(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===W||void 0===W?void 0:W.couponCode,promoParams:V,priceDetails:Y}})),ne(null===c||void 0===c?void 0:c.customizable),oe(Object(I.c)({tenantId:U,catalogName:v,itemId:t})),m?oe(Object(g.v)({showProductListingModal:!0,categorySelected:null===ae||void 0===ae?void 0:ae.categoryId})):((t,o)=>{var a,i;const{id:l,categoryId:n,categoryName:d,url:c}=t;oe(Object(g.a)({params:{basketId:null===P||void 0===P||null===(a=P.cartData)||void 0===a?void 0:a.id},tenantId:U},[{Id:l,categoryId:n,quantity:(null===V||void 0===V||null===(i=V.find((e=>(null===e||void 0===e?void 0:e.itemId)===l)))||void 0===i?void 0:i.quantity)||1,modGrps:[],categoryName:d,categoryUrl:c,isProductPromo:!0}],(()=>{B({couponCode:null===W||void 0===W?void 0:W.couponCode}),k(),!o&&1===(null===z||void 0===z?void 0:z.length)&&Object(s.Qe)(e)})))})(u,m)},ue=()=>{const{Error:e}=C.a;return Object(E.jsxs)("div",{className:"unavailable-container",children:[Object(E.jsx)("img",{src:e,className:"unavailable-icon",alt:"product-unavaliable"}),Object(E.jsx)("span",{className:"unavailable-text",children:Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PRODUCT_UNAVAILABLE)})]})},ve=e=>{var t,o,a,i,l,d,c,u;let{item:m,params:O}=e;const{dname:j=[],imageName:p,content:h,availability:g=[],customizable:I,id:N,categoryUrl:C,url:T,isNotAvailable:f}=Object(s.sd)(m),x=Object(b.k)(g,Q),{caloricValue:D}=Object(s.sd)(h),A=D,{storeInfo:y}=Object(s.sd)(O);let _=C&&C[0];_=null===(t=_)||void 0===t||null===(o=t.split("-").join(" "))||void 0===o?void 0:o.toUpperCase();let R=null===K||void 0===K?void 0:K.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===_}));const L=R&&R[0],P=null===L||void 0===L?void 0:L.name,w=N,M=null===L||void 0===L?void 0:L.id,k={productName:j,productImage:p,productPrice:Object(s.Ec)(x,null===q||void 0===q?void 0:q.currencyConversionFactor,Q)},F=y&&(null===y||void 0===y||null===(a=y.summary)||void 0===a||null===(i=a.menu)||void 0===i||null===(l=i.catalogs)||void 0===l?void 0:l.length)&&(null===y||void 0===y||null===(d=y.summary)||void 0===d||null===(c=d.menu)||void 0===c?void 0:c.catalogs[0])||(null===q||void 0===q?void 0:q.genericMenuName)||"",U=(e=>null===e||void 0===e?void 0:e.map((e=>({...e,price:null!==e&&void 0!==e&&e.promoPrice&&(null===e||void 0===e?void 0:e.promoPrice)<(null===e||void 0===e?void 0:e.price)?null===e||void 0===e?void 0:e.promoPrice:null===e||void 0===e?void 0:e.price}))))(g),B=Object(b.k)(U,Q);return Object(E.jsx)("div",{class:"container","data-testid":"container-test",children:Object(E.jsx)("main",{class:"grid ".concat(f?"product-card-deactive":""),"data-testid":"card-box-test",onClick:()=>ce?re(w,I,M,k,F,C,N,P,T):se(N),children:Object(E.jsxs)("article",{children:[Object(E.jsx)("div",{className:"product-image-parent-container",style:Object(s.mb)($,H,H),children:Object(E.jsx)(v.a,{"data-testid":"multi-product-image",className:"multi-product-image",defaultPath:Object(s.bc)(null,q,!0),srcFile:Object(s.qc)(h,H,H),alt:""})}),Object(E.jsxs)("div",{class:"description-txt",children:[Object(E.jsx)("span",{className:"desc",children:null===(u=j[0])||void 0===u?void 0:u.value}),f?ue():Object(E.jsxs)("div",{className:"".concat(ce?"":"align-button"),children:[Object(E.jsxs)("span",{className:"price-value",children:[null===q||void 0===q?void 0:q.currencySymbol,Object(s.Ec)(B,null===q||void 0===q?void 0:q.currencyConversionFactor,Q).toFixed(r.gg)]}),Object(E.jsx)("span",{children:A&&Object(E.jsx)("span",{className:"kj-info",children:" ".concat(A," ").concat(null===q||void 0===q?void 0:q.kilojoule)})}),!ce&&Object(E.jsxs)(S.a,{tabIndex:"0",className:"button redButton model-cart-button",children:[" ",Object(n.translateWithI18Next)(de)]})]})]})]})})})};return Object(a.useEffect)((()=>{(null===w||void 0===w?void 0:w.productMapByItemId)&&1===(null===z||void 0===z?void 0:z.length)&&(e=>{var t,o,a,i,l,n,d,c,r;const{storeInfo:u,tenantReducer:v}=te,{imageName:m,dname:O,availability:j,customizable:p,id:h,categoryUrl:g}=null!==(t=(null===e||void 0===e||null===(o=e.itemDetails)||void 0===o?void 0:o.length)&&(null===e||void 0===e?void 0:e.itemDetails[0]))&&void 0!==t?t:{};if(!ce)return void se(h);let I=g&&g[0];I=null===(a=I)||void 0===a||null===(i=a.split("-").join(" "))||void 0===i?void 0:i.toUpperCase();const S=Object(b.k)(j,Q);let N=null===K||void 0===K?void 0:K.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===I}));const C=N&&N[0],E=null===C||void 0===C?void 0:C.name,T=h,f=null===C||void 0===C?void 0:C.id,x={productName:O,productImage:m,productPrice:Object(s.Ec)(S,null===v||void 0===v?void 0:v.currencyConversionFactor,Q)},D=u&&(null===u||void 0===u||null===(l=u.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===u||void 0===u||null===(c=u.summary)||void 0===c||null===(r=c.menu)||void 0===r?void 0:r.catalogs[0])||(null===v||void 0===v?void 0:v.genericMenuName)||"";re(T,p,f,x,D,g,h,E)})(W)}),[]),Object(E.jsxs)(i.a.Fragment,{children:[z&&(null===z||void 0===z?void 0:z.length)>1&&Object(E.jsx)(m.a,{...X,"data-testid":"offers-deals-modal-testid",children:Object(E.jsxs)("div",{className:"multi-product-wrapper",children:[Object(E.jsx)("div",{className:"content",children:Object(E.jsx)("h4",{children:Object(n.translateWithI18Next)(T)})}),Object(E.jsx)("div",{className:"grid-container card-items container",children:null===z||void 0===z?void 0:z.map(((e,t)=>Object(E.jsx)(ve,{item:e,params:te},"card-item-".concat(t))))})]})}),(null===P||void 0===P?void 0:P.showProductListingModal)&&le&&Object(E.jsx)(h.a,{addToOrderClickHandler:B,closeParentModal:k})]})}},1193:function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var a=o(3),i=o.n(a),l=o(6),n=o(41),d=o(1172),c=o(4),r=o(46),s=o(15),u=(o(1227),o(2));const{Error:v}=s.a,m=e=>{const{showConfirmBtn:t=!1,onClickHandler:o}=e,{CONFIRM_BTN_TEXT:a}=c.a;return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(d.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(n.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:o,children:Object(l.translateWithI18Next)(a)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(r.a,{srcFile:v,className:"location-alert-icon"})})]})},O=i.a.memo(m)},1194:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(6),n=o(263),d=o(46),c=o(15),r=o(5),s=o(4),u=o(2);const v=e=>{const{isAlert:t,show:o,sectionHeader:a,subSectionValue:i,orderTypeChange:v,onClickHandler:m,description:O,storeUnavailableError:b,showChangeButton:j=!0,scheduleTimeWarning:p=!1,scheduleErrMsg:h="",cssSubsection:g,specialNote:I="",dataTestid:S="",elementUniqueLocator:N}=e;return o?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(l.translateWithI18Next)(a)}),Boolean(b)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(r.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&c.a.Error_Yellow||c.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(l.translateWithI18Next)(b)}})]}),Boolean(p)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:c.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:h})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(g),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:i}),O&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:O}),I&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(l.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SPECIAL_NOTE)," ",I]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(n.a,{"aria-label":"Edit order type",onClickHandler:m,"data-testid":N?S:"dynamic-click-test",children:Object(l.translateWithI18Next)(v)})})]})]}):null},m=i.a.memo(v);t.a=m},1195:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(6),n=o(15),d=o(430),c=o(4),r=o(120),s=o(1117),u=o(46),v=o(16),m=o(2);const O=e=>{const{show:t,sectionHeader:o,selectedDate:a,selectedTime:i,changeDateValue:O,changeTimeValue:b,dateTimeArr:j,showCateringWarning:p=!1,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",scheduleErrorType:I="",scheduleWarningMsg:S="",changeTimeObj:N={},changeDateObj:C={},placeholderText:E,disableDateOption:T=!1,disableTimeOption:f=!1,enableScheduleOrderFlag:x=!1,enableOrderCapacityManagement:D=!1,orderCapacity:A={},storeId:y="",elementUniqueLocator:_,isUberStore:R=!1}=e,{SingleArrow:L}=n.a,{DATE:P,TIME:w,UBER_TIME:M}=c.a,k=x?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",F=D?Object(r.n)(A,y,a,j):[],H=D?F:null===a||void 0===a?void 0:a.timeSlots;return t?Object(m.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(m.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(l.translateWithI18Next)(o)}),Object(m.jsx)(s.a,{show:null===p||void 0===p?void 0:p.show,errorMsg:null===p||void 0===p?void 0:p.warning,errImage:null===p||void 0===p?void 0:p.image,cssClass:null===p||void 0===p?void 0:p.cssClass}),h&&Object(m.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(m.jsx)(u.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(m.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(m.jsxs)("div",{className:k,children:[Object(m.jsx)(d.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(l.translateWithI18Next)(P),setSelectedItem:O,changeDateObj:C,changeTimeObj:N,dateTimeArr:j,selectedItem:null===a||void 0===a?void 0:a.date,imgSrc:L,options:Object(r.o)(j),dropdownId:"date-id",disableOptions:T,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&S&&I===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:S,dataTestid:"schedule-date",elementUniqueLocator:_}),Object(m.jsx)(d.a,{cssClass:"date-time-dropdown ".concat(D?"date-time-dropdown--order-capacity":""),dropdownTitle:R?Object(l.translateWithI18Next)(M):Object(l.translateWithI18Next)(w),setSelectedItem:b,changeDateObj:C,changeTimeObj:N,dateTimeArr:j,selectedItem:i,imgSrc:L,options:H,dropdownId:"time-id",placeholderText:E,disableOptions:f,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&S&&I===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:S,dataTestid:"schedule-time",elementUniqueLocator:_})]})]}):null},b=i.a.memo(O);t.a=b},1196:function(e,t,o){"use strict";var a=o(5),i=o(3),l=o(1221),n=o(46),d=o(1206),c=o(133),r=o(15),s=o(0),u=o(28),v=o(2);const{UseLocationIcon:m}=r.a,O=e=>{var t,o,r,O,b;const{eligibleStores:j,loggedIn:p,defaultStoreId:h,selectedCoords:g,passAddress:I,configSearchKey:S,useCurrentLocation:N,showLocationConfirmModal:C,findAKFC:E,favouriteStores:T,useLatLngForReverseGeocode:f,disableMapSelection:x=!1,disableUseLocationIcon:D=!1,markerDragValue:A=!1,zoomLevel:y=12}=e,_=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:R,countryCode:L}=_,P=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(r=o.dispositionConfig)||void 0===r?void 0:r.showLabelOnMapPin,w=null===R||void 0===R||null===(O=R.web)||void 0===O?void 0:O.dispositionConfig,{shouldShowStoresLocation:M,shouldShowStoreCardsMap:k,shouldShowMarkerWithText:F,shouldIgnoreStoreList:H,storeOpenBtnText:U}={...null===c.d||void 0===c.d?void 0:c.d[S],...null===w||void 0===w?void 0:w[S]},[B,W]=Object(i.useState)(Object(a.de)(window.innerWidth)),[G,V]=Object(i.useState)(h),[Y,z]=Object(i.useState)({storeDetails:{},storeIndex:0}),[q,K]=Object(i.useState)([]),[J,Q]=Object(i.useState)(!0),[X,Z]=Object(i.useState)(200),[$,ee]=Object(i.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,z({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),Q(Boolean(null===j||void 0===j?void 0:j.length))},oe=()=>{var e,t;const o=Object(a.de)(window.innerWidth);W(o);const i=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,l=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let n=.9*(l-i);if(o){var d,c;n=l-i-(null===(d=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(c=Y.storeDetails)||void 0===c?void 0:c.id)))||void 0===d?void 0:d.clientHeight)}ee(n)};Object(i.useEffect)((()=>(window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)})),[B]),Object(i.useEffect)((()=>{te(G)}),[G,T]),Object(i.useEffect)((()=>{j.length>0&&te(G)}),[j,G]),Object(i.useEffect)((()=>{const e=s.cd[L]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let o=null!==g&&void 0!==g&&g.lat?g:e;null!==t&&void 0!==t&&t.length?K(t):K(o)}),[T,G,j]),Object(i.useEffect)((()=>{var e,t;const o=null===(e=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(t=Y.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;o&&Z(o)}),[null===Y||void 0===Y||null===(b=Y.storeDetails)||void 0===b?void 0:b.id]),Object(i.useEffect)((()=>{oe()}),[]);const ae=Object(a.Je)(J,k);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(x&&"block-map"),children:[Object(v.jsxs)("div",{className:E?"".concat(Object(a.ad)(ae,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(l.a,{latLongValue:q,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:I,isVisible:M,isMobile:B,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===Y||void 0===Y?void 0:Y.storeIndex)-1])||void 0===t?void 0:t.id;te(e),V(e)}else if(1===e){var o;const e=null===j||void 0===j||null===(o=j[(null===Y||void 0===Y?void 0:Y.storeIndex)+1])||void 0===o?void 0:o.id;te(e),V(e)}},setShowCard:Q,setStoreMarker:e=>{const t=Object(a.X)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),V(null===t||void 0===t?void 0:t.id))},storeCardHeight:X,isMarkerVisible:H||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:F,locationAlertProp:F,style:{height:"".concat($,"px")},defaultZoom:y,useLatLngForReverseGeocode:f,markerDragValue:A,showLabelOnMapPin:P}),!D&&Object(v.jsx)("div",{className:"use-location-icon ".concat(C?"disable-location-icon":""),children:Object(v.jsx)(n.a,{srcFile:m,alt:"",onClick:N,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:E?"".concat(Object(a.ad)(ae,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:ae&&(null===Y||void 0===Y?void 0:Y.storeDetails)&&Object(v.jsx)(d.a,{store:null===Y||void 0===Y?void 0:Y.storeDetails,isMapView:!0,loggedIn:p,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:E,storeOpenBtnText:U})})]})};O.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=O},1197:function(e,t,o){"use strict";o.d(t,"a",(function(){return O}));var a=o(3),i=o.n(a),l=o(6),n=o(263),d=o(46),c=o(269),r=o(394),s=o(15),u=o(2);const{LocationImage:v}=s.a,m=e=>{const{loggedIn:t=!1,formContent:o={},useCurrentLocation:a,storeSelection:i,hideLocationLink:s,showLocationConfirmModal:m}=e,{signInLink:O,useMyLocation:b}=i,{memberText:j="",singInLink:p={},currentLocationText:h=""}=o;return Object(u.jsxs)("div",{className:"login-section",children:[O&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(c.f)(j,r.R,p)}),b&&!s&&Object(u.jsx)("span",{className:"".concat(m?"disable-location-link":""),children:Object(u.jsxs)(n.a,{onClickHandler:a,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(d.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(l.translateWithI18Next)(h)]})})]})},O=i.a.memo(m)},1202:function(e,t,o){"use strict";o.d(t,"a",(function(){return D}));var a=o(3),i=o(28),l=o(42),n=o.n(l),d=o(46),c=o(41),r=o(0),s=o(85),u=o(5),v=o(73),m=o(192),O=o(24),b=o(1122),j=o(35),p=o(113),h=o(16);const g=(e,t,o,a)=>{const i={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:O.b.channel,service:t}))),store:e,tenantId:a,setStatusFlag:!1,isFavoritePage:!1};o(Object(v.d)(i))},I=e=>{const{storesWithStatus:t,dispositionNew:o,setAutoDetectFlow:a,activeDisposition:i,userOrderState:l,profileReducer:n,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,SetLocationClickHandler:O}=e,g=null===v||void 0===v?void 0:v.localized,I=null===t||void 0===t?void 0:t.filter((e=>{var t,o,a,i,l,n,d,c,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===r.Od&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(s=c.timings)||void 0===s||null===(u=s.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.summary)||void 0===v||null===(m=v.timings)||void 0===m?void 0:m.asap)}));(null===I||void 0===I?void 0:I.length)>0?g?o&&a(!1):((async e=>{var t;let{finalStore:o,dispositionNew:a,activeDisposition:i,userOrderState:l,profileReducer:n,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:O}=e,h={time:r.s,interval:null===(t=o.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:r.s},g=await Object(u.A)(o,Object(u.Mb)(i),null===n||void 0===n?void 0:n.customerId,h);d(Object(j.f)({data:g,tenantId:c})),Object(b.i)(a,s,l,i,o,h);let I=o||null;d(Object(p.a)({...v,localized:!0})),Object(b.j)(s,i,h,I,m),O(!1),Object(u.vf)()})({finalStore:I[0],dispositionNew:o,activeDisposition:i,userOrderState:l,profileReducer:n,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:a}),s({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(a(!1),O())};var S=o(43),N=o(4),C=o(6),E=o(55),T=o(133),f=o(270),x=o(2);const D=e=>{var t,o,l,j,p;const{setLocationdata:D=[]}=e,{srcFile:A,locationMap:y,buttonText:_,textDescription:R}=D,{userOrderState:L,userOrderStateDispatch:P}=Object(a.useContext)(s.a),[w,M]=Object(a.useState)(Object(u.ee)(window.innerWidth)),k=Object(i.b)(),[F,H]=Object(a.useState)(""),[U,B]=Object(a.useState)(!1),[W,G]=Object(a.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:V,PICK_UP:Y,GRANTED:z}=f.a,{profileReducer:q,tenantReducer:K,storesReducer:J,appStateReducer:Q}=Object(i.c)((e=>e)),{storesWithStatus:X,storesSatusError:Z,count:$}=J,{allStores:ee=[],currentCount:te=0}=Object(i.c)((e=>e.allStoresReducer))||{},{storeSearch:oe={},tenantId:ae}=K,ie=null===K||void 0===K||null===(t=K.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(l=o.dispositionConfig)||void 0===l?void 0:l.enableAutoSetLocation;let le=Q.userStatus;const{maxDriveTimeMins:ne,distanceMetrics:de,geohashprecision:ce,boundingBoxSizeMeters:re,boundingBoxSizeDivider:se}=oe;let ue=null===L||void 0===L?void 0:L.dispositionNew;if(!ue){const e=localStorage.getItem(r.Hb);ue=JSON.parse(e)}const ve=Object(i.c)((e=>({marketPageContent:n()(e,"marketConfigReducer.response",null)}))),me=null===ve||void 0===ve||null===(j=ve.marketPageContent)||void 0===j||null===(p=j.headerData)||void 0===p?void 0:p.autodetectDistance,Oe=()=>{k(Object(v.u)()),Object(E.o)(),P({type:h.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),P({type:h.a.SEARCH_ORDER_DATA,value:{showSearchStore:W}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!0}}),P({type:h.a.DISPOSITION_METHOD,value:{dispositionType:r.Jb.PICKUP}}),P({type:S.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,T.a)};Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.ee)(window.innerWidth);M(e)}))}),[w]);const be=Object(a.useCallback)((async()=>{if(await Object(b.g)()){const{longitude:e=0,latitude:t=0}=null===O.b||void 0===O.b?void 0:O.b.coordinates;((e,t,o,a,i,l)=>{const n={lat:e,lon:t,distanceFromCurrentLoc:o/a,geohashprecision:i},d=null===m.a||void 0===m.a?void 0:m.a.calculateGH(n);l(Object(v.v)(null===d||void 0===d?void 0:d.length))})(t,e,re,se,ce,k),Object(u.ze)(null===O.b||void 0===O.b?void 0:O.b.address,S.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(a.useEffect)((()=>{if(U&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:o,dispositionType:a,setActiveDisposition:i,distanceMetrics:l,maxDriveTimeMins:n,dispatch:d,tenantId:c,SetLocationClickHandler:r}=e;i(a);const s=Object(b.a)(t),u={stores:s,disposition:a,distanceMetrics:l,driveTime:n,distanceInMtrs:o,noOfStores:s.length,channel:O.b.channel},v=null===m.a||void 0===m.a?void 0:m.a.checkAndProceed(u);null!==v&&void 0!==v&&v.length?g(v,a,d,c):r()})({allStores:ee,maxDistance:me,dispositionType:Y,setActiveDisposition:H,distanceMetrics:de,maxDriveTimeMins:ne,dispatch:k,tenantId:ae,SetLocationClickHandler:Oe})}}),[ee,te]),Object(a.useEffect)((()=>{const e={storesWithStatus:X,dispositionNew:ue,setAutoDetectFlow:B,activeDisposition:F,userOrderState:L,profileReducer:q,dispatch:k,tenantId:ae,userOrderStateDispatch:P,userParams:le,tenantReducer:K,SetLocationClickHandler:Oe};U&&(null===X||void 0===X?void 0:X.length)>0&&I(e)}),[X,Z]),Object(x.jsx)(x.Fragment,{children:Object(u.Td)(D)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===r.Ce.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(x.jsx)(d.a,{"data-testid":"",srcFile:A,alt:y,className:"google-location-img"}),Object(x.jsx)("div",{className:"setLocationText",children:R}),Object(x.jsx)(c.c,{variant:c.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:ie?()=>{var e,t,o;k(Object(v.u)()),Object(E.o)(),G(!0),P({type:V,value:{autoDetectionClicked:!0}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,T.a),B(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(o=t.geolocation)||void 0===o||o.getCurrentPosition((()=>{k(Object(v.p)(z)),(async()=>{await be()})()}))}:Oe,children:w&&window.location.pathname===r.Ce.NUTRITION_ALLERGEN?Object(C.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.SET_YOUR_LOCATION):_}),w&&window.location.pathname===r.Ce.NUTRITION_ALLERGEN?Object(x.jsx)("span",{className:"arrow_white"}):""]}),Object(x.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}},1206:function(e,t,o){"use strict";o.d(t,"b",(function(){return w})),o.d(t,"c",(function(){return k}));var a=o(3),i=o.n(a),l=o(28),n=o(62),d=o(46),c=o(41),r=o(394),s=o(120),u=o(6),v=o(5),m=o(1131),O=o(15),b=o(4),j=o(85),p=o(16),h=o(0),g=o(43),I=o(1234),S=o(2);const{GET_DIRECTION:N,MORE_INFO:C,VIEW_MENU:E,SCHEDULE_ORDER:T,ORDER_NOW:f,BROWSE_MENU:x}=b.a,{Direction:D,AccordianArrow:A,phoneImg:y,FavoriteFillImage:_,FavoriteUnfillImage:R,InfoIcon:L}=O.a,{RESTAURANT:P}=h.Ce||{},w=(e,t,o,a)=>{const{history:i,dispatch:l,tenantId:n,userParams:d,basketId:c,foodLines:s,enableDeliveryMenuOption:u,toastData:v}=t;Object(r.H)(e,i,l,{tenantId:n,userParams:d,userOrderState:o,store:a,basketId:c,foodLines:s,enableDeliveryMenuOption:u,toastData:v}),e({type:p.a.FAV_STORE_NOT_IN_RADIUS,value:{showNotInRadiusError:!1}}),e({type:p.a.ORDER_MODE_BROWSE_MENU_CLICK,value:{orderModeBrowseMenuBtnClicked:!0}})},M=e=>{const t=Object(v.Yd)(e),o=Object(v.Xd)(e);return Boolean(o||t)},k=(e,t,o,a)=>e||t&&(!o||!a),F=e=>{const{testid:t,getStore:o,buttonText:a,orderObj:i,goToMenuObj:l,enableClickCollectScheduleOrderFlag:n,enableScheduleOrder:d,enableOrderCapacityManagement:s}=e,m=a===T?c.b.tertiary:c.b.primary;return Object(S.jsx)(c.c,{"data-testid":t,variant:m,onClickHandler:e=>(e=>{const{event:t,buttonText:o,getStore:a,orderObj:i,goToMenuObj:l,enableScheduleOrder:n,enableClickCollectScheduleOrderFlag:d,enableOrderCapacityManagement:c}=e,{store:s,userOrderStateDispatch:u,userOrderState:m,componentOptions:O}=i,b=M(s),j=Object(v.Fd)(s),h={event:t,store:s,userOrderStateDispatch:u,userOrderState:m,componentOptions:O,isFutureTimeDate:b},{open:g,storeName:I,dispositionService:S}=a||{};if(o===T)return Object(r.N)({...h,flag:T});var N,C;if(k(d,n,g,j)&&(null!==m&&void 0!==m&&null!==(C=m.reorderFlag)&&void 0!==C&&C.fromReorderFlag?(u({type:p.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!0}}),u({type:p.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),u({type:p.a.REORDER_STORE_CHANGED,value:{storeChanged:!0}}),u({type:p.a.REORDER_MODAL_OPEN,value:{reorderModalOpen:!0}}),u({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),u({type:p.a.CURRENT_STORE_INFO,value:s})):(u({type:p.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),u({type:p.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}})),u({type:p.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}})),null===m||void 0===m||null===(N=m.reorderFlag)||void 0===N||!N.fromReorderFlag){if(!c&&(d||n&&o===x)){const e={...l,toastData:{storeName:I,service:S,showToastAfterLocalization:null===O||void 0===O?void 0:O.showToastAfterLocalization}};w(u,e,m,s)}Boolean(n&&(o===f||o===x&&c))&&Object(r.N)({...h,flag:f})}})({event:e,buttonText:a,getStore:o,orderObj:i,goToMenuObj:l,enableClickCollectScheduleOrderFlag:n,enableScheduleOrder:d,enableOrderCapacityManagement:s}),children:Object(u.translateWithI18Next)(a)})},H=(e,t,o,a,i)=>Object(S.jsx)(S.Fragment,{children:a&&Object(S.jsxs)("div",{children:[Object(S.jsxs)(c.c,{variant:"link dark","data-testid":"more-info",className:"kfcmoreInfo",onClick:()=>o(e),children:[Object(S.jsx)("img",{src:L,alt:"icon",className:"KfcMoreinfo"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(C)})]}),Object(S.jsx)("a",{className:"kfcdirectionLink",href:Object(v.Gb)(null===t||void 0===t?void 0:t.storeAddress,i),target:"_blank",rel:"noreferrer noopener",children:Object(S.jsxs)("span",{className:"kfcdirection",children:[Object(S.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(N)})]})})]})}),U=(e,t,o,a,i,l,n)=>Object(S.jsx)(S.Fragment,{children:e&&!t&&Object(S.jsx)(c.c,{variant:null!==o&&void 0!==o&&o.storeOpen?c.b.primary:c.b.tertiary,"data-testid":"view-menu",onClick:()=>w(a,i,l,n),children:Object(u.translateWithI18Next)(E)})}),B=(e,t,o,a)=>Object(S.jsx)(S.Fragment,{children:!e&&!t&&Object(S.jsx)("div",{className:"kfcdirectionLink map-link","data-testid":"map-handler",onClick:()=>o(null===a||void 0===a?void 0:a.id),children:Object(S.jsxs)("span",{className:"kfcdirection",children:[Object(S.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(N)})]})})}),W=(e,t)=>!Object(v.Jd)(null===e||void 0===e?void 0:e.service)||Boolean(!Object(v.Fd)(e)&&!M(e)||t)&&x,G=(e,t,o,a)=>e&&!t||t&&W(o,a),V=e=>{var t,o,i,O,N,C,E,D,L,k,V,Y,z,q,K,J,Q,X,Z,$,ee;const{store:te,isMapView:oe,centerIndex:ae,storeLength:ie,loggedIn:le,onClickMapHandler:ne,storeOpenBtnText:de,findAKFC:ce,storeNumberFormat:re,isUberServiceableEnabled:se=!1}=e,{tenantId:ue,componentOptions:ve={},enableOrderCapacityManagement:me=!1,savedAddressPage:Oe,is24HoursFormatEnabled:be,isViewMenuDisabled:je,enableDeliveryMenuOption:pe}=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),he=Object.keys(te).length&&Object(r.i)(null===te||void 0===te||null===(t=te.summary)||void 0===t?void 0:t.availableCollectionPoints);let ge=Object.keys(te).length&&Object(r.w)(te,ce,he,null,Oe.showStateCityAddAddress,be);const Ie=null===(o=Object(r.A)(null===ge||void 0===ge?void 0:ge.dispositionService,null===ge||void 0===ge?void 0:ge.storeTiming))||void 0===o?void 0:o.storeTimingData,Se={};null===Ie||void 0===Ie||Ie.forEach((e=>{var t,o;const{day:a}=e;Se[a]||(Se[a]={closed:!1,data:null}),(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(u.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)===Object(u.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.CLOSED_HOURS)&&(Se[a].closed=!0,Se[a].data=e)}));const Ne=null===Ie||void 0===Ie?void 0:Ie.filter((e=>{var t,o;const{day:a}=e;return null===(t=Se[a])||void 0===t||!t.closed||(null===(o=Se[a])||void 0===o?void 0:o.data)===e})),{customerId:Ce}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ee=null===ve||void 0===ve||null===(i=ve.web)||void 0===i||null===(O=i.dispositionConfig)||void 0===O?void 0:O.enableScheduleOrder,Te=null===ve||void 0===ve||null===(N=ve.web)||void 0===N||null===(C=N.storeSearch)||void 0===C?void 0:C.enableDateHighlight,fe=null===ve||void 0===ve||null===(E=ve.web)||void 0===E||null===(D=E.dispositionConfig)||void 0===D?void 0:D.enableAsapOrder,xe=null===ve||void 0===ve||null===(L=ve.web)||void 0===L||null===(k=L.dispositionConfig)||void 0===k?void 0:k.enableClickCollectScheduleOrder,De=null===ve||void 0===ve||null===(V=ve.web)||void 0===V||null===(Y=V.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,Ae=null===ve||void 0===ve||null===(z=ve.web)||void 0===z?void 0:z.findStoreRedirectionUrlRegex,ye=null===ve||void 0===ve||null===(q=ve.web)||void 0===q||null===(K=q.dispositionConfig)||void 0===K?void 0:K.disableScheduleOrderForNotAliveStore,_e=xe&&(null===De||void 0===De?void 0:De.includes(null===ge||void 0===ge?void 0:ge.dispositionService)),Re=Ee||_e,Le=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),{id:Pe="",foodLines:we=[]}=null!==(J=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})))&&void 0!==J?J:{},Me=Object(l.b)(),{userOrderState:ke,userOrderStateDispatch:Fe}=Object(a.useContext)(j.a),He=Object(n.g)(),Ue={history:He,dispatch:Me,tenantId:ue,userParams:Le,basketId:Pe,foodLines:we,enableDeliveryMenuOption:pe},Be=null===ve||void 0===ve||null===(Q=ve.web)||void 0===Q||null===(X=Q.restaurantDetailPage)||void 0===X?void 0:X.favStoreToastMsg,We={enableScheduleOrderFlag:Re,store:te,userOrderStateDispatch:Fe,userOrderState:ke,componentOptions:ve},Ge=Object(s.t)(te,Re,_e,!1,!1,!1,!1,ye,se),Ve=(e=>{let{store:t,enableScheduleOrderFlag:o,enableAsapOrder:a,getStore:i,isStoreOrderSchedulingUnavailable:l}=e;return a&&(null===t||void 0===t?void 0:t.service)===g.a.DELIVERY_SERVICE?W(t,l):o&&Object(v.Fd)(t)&&null!==i&&void 0!==i&&i.storeOpen?f:x})({store:te,enableScheduleOrderFlag:Re,enableAsapOrder:fe,getStore:ge,isStoreOrderSchedulingUnavailable:Ge});return Object(S.jsx)("div",{id:"store-card-".concat(null===te||void 0===te?void 0:te.id),className:"store-card-container ".concat(oe&&"map-card"),"data-testid":"store-card",children:Object(S.jsxs)("div",{className:"store-card-main-content-container",children:[Object(S.jsxs)("div",{className:"store-card-storename-dist-container",children:[Object(S.jsxs)("div",{className:"store-card-storename-dist-section ".concat(oe&&"map-view"),children:[Object(S.jsx)("div",{className:"store-card-storename store-card-name","data-testid":"store-name",children:null===ge||void 0===ge?void 0:ge.storeName}),Object(S.jsx)("div",{className:"store-distance","data-testid":"store-card-distance",children:null===ge||void 0===ge?void 0:ge.storeMile})]}),oe&&Object(S.jsx)("span",{className:"store-index",children:"".concat(ae+1," of ").concat(ie)})]}),Object(S.jsxs)("div",{className:"store-card-content-container",children:[Object(S.jsxs)("div",{className:"store-card-ordertypes",children:[null===ge||void 0===ge?void 0:ge.storeOrderTypes,(null===ge||void 0===ge?void 0:ge.dispositionService)===h.T&&null!==ge&&void 0!==ge&&ge.availabilityLevel?Object(S.jsx)("span",{className:"store-card-order-option store-card-order-option-data store-card-order-option-availability",children:"".concat(Object(u.translateWithI18Next)(g.a.AVAILABLE)," ").concat(null===ge||void 0===ge?void 0:ge.availabilityLevel)}):""]}),Object(S.jsxs)("div",{className:"store-card-store-address",children:[Object(S.jsx)("span",{className:"store-address","data-testid":"store-card-address",children:null===ge||void 0===ge?void 0:ge.storeAddress}),Object(S.jsxs)("div",{"data-testid":"toggle-hours",onClick:()=>Object(r.V)(null===te||void 0===te?void 0:te.id),id:"hours-".concat(null===te||void 0===te?void 0:te.id),className:"store-timing-msg",children:[Object(S.jsx)("span",{children:null===ge||void 0===ge?void 0:ge.storeTimeMessage}),Object(S.jsx)("span",{className:"ml-2 caretIcon",children:Object(S.jsx)(d.a,{id:"caret-".concat(null===te||void 0===te?void 0:te.id),srcFile:A,alt:"caretIcon"})})]}),Object(S.jsxs)("div",{id:"view-".concat(null===te||void 0===te?void 0:te.id),className:"hours-view hoursHidden",children:[!(null===(Z=Object(r.A)(null===ge||void 0===ge?void 0:ge.dispositionService,null===ge||void 0===ge?void 0:ge.storeTiming))||void 0===Z||null===($=Z.storeTimingData)||void 0===$||!$.length)&&Object(S.jsx)("div",{className:"dispotion-hours-text",children:Object(r.B)(null===te||void 0===te?void 0:te.service)}),null===Ne||void 0===Ne?void 0:Ne.map((e=>Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"hours-text",children:[Object(S.jsx)("span",{className:"day-details",children:Object(I.c)(e,Te)}),Object(S.jsxs)("span",{className:"time-details",children:[Object(I.d)(e,Te,be)," "]})]})},null===e||void 0===e?void 0:e.day))),Object(r.d)(te)&&Object(S.jsxs)("div",{className:"mt15",children:[Object(S.jsx)("span",{className:"contact-icon",children:Object(S.jsx)(d.a,{id:"phoneImg-".concat(null===te||void 0===te?void 0:te.id),srcFile:y,alt:"\u2121"})}),Object(S.jsx)("a",{"data-testid":"store-number",href:"tel:".concat(Object(r.d)(te)),className:"contact-info ml-2",children:Object(r.n)(Object(r.d)(te),re)})]})]}),B(oe,ce,ne,te),H(te,ge,(e=>{var t,o,a,i;const l=null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.name.split(" ").join("-").toLowerCase(),n=null===te||void 0===te||null===(o=te.addresses)||void 0===o||null===(a=o[0])||void 0===a||null===(i=a.address)||void 0===i?void 0:i.pinCode;He.push({pathname:"".concat(P,"/").concat(l,"/").concat(n),state:{storeId:null===e||void 0===e?void 0:e.id}}),Fe({type:p.a.DISPOSITION_DATA,value:{showDisposition:!1}}),Fe({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),Fe({type:p.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}})}),ce,Ae)]}),Object(S.jsx)("div",{className:"facilities",children:null===(ee=Object(m.a)(te))||void 0===ee?void 0:ee.map((e=>Object(S.jsx)(d.a,{"data-testid":"",srcFile:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.label,className:"facility-img",title:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.key)))})]}),Object(S.jsxs)("div",{className:"search-store-card-button",children:[le&&Object(S.jsx)(d.a,{"data-testid":"favorite-img",srcFile:null!==te&&void 0!==te&&te.isFavoriteStore?_:R,alt:"favorite",className:"favorite-img",onClick:()=>null!==te&&void 0!==te&&te.isFavoriteStore?Object(r.L)(te,Me,ue,Ce,Be):Object(r.a)(te,Me,ue,Ce,Be)}),U(ce,Re,ge,Fe,Ue,ke,te),!ce&&!Re&&Object(S.jsx)(c.c,{"data-testid":"schedule-order",variant:c.b.primary,onClickHandler:e=>null!==ge&&void 0!==ge&&ge.storeOpen?Object(r.N)({event:e,store:te,userOrderStateDispatch:Fe,userOrderState:ke,componentOptions:ve}):w(Fe,Ue,ke,te),children:Object(r.C)(ce,null===ge||void 0===ge?void 0:ge.storeOpen,de)}),!je&&G(Re,fe,te,Ge)&&F({testid:null===g.a||void 0===g.a?void 0:g.a.ORDER_NOW,getStore:ge,buttonText:Ve,orderObj:We,goToMenuObj:Ue,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ee,enableOrderCapacityManagement:me}),Re&&(M(te)||me)&&!Ge&&F({testid:g.a.ORDER_SCHEDULE,getStore:ge,buttonText:T,orderObj:We,goToMenuObj:Ue,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ee,enableOrderCapacityManagement:me})]})]})},null===te||void 0===te?void 0:te.id)},Y=i.a.memo(V);t.a=Y},1210:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(20),n=o.n(l),d=o(28),c=o(419),r=o.n(c),s=o(42),u=o.n(s),v=o(1102),m=o.n(v),O=o(62),b=o(171),j=o(113),p=o(1104),h=o(73),g=o(35),I=o(6),S=o(144),N=o(1194),C=o(4),E=o(5),T=o(0),f=o(46),x=o(1117),D=o(15),A=o(169),y=o(2);var _=e=>{var t,o;const{currencySymbol:a,currencyConversionFactor:i,unavailableItem:l,orderDetails:n}=e,{YOUR_ORDER:d,TOTAL:c,ITEM_NOT_UNAVAILABLE:r,ITEM_CURRENLTY_UNAVAILABLE:s,CART_ITEM:u,REORDER_COUPON_ERROR_MESSAGE:v}=C.a,{foodLines:m=[],id:O,total:b}=Object(E.sd)(n),j=Object(I.translateWithI18Next)(null===C.a||void 0===C.a?void 0:C.a.ADD_HOPE),p=Object(I.translateWithI18Next)(null===C.a||void 0===C.a?void 0:C.a.LARGE_CARRY_BAG),h=Object(E.Tb)(m,j,p),g=null===h||void 0===h?void 0:h.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0),S=(l.length||(null===n||void 0===n||null===(t=n.discountLines)||void 0===t?void 0:t.length))>0;return Object(y.jsxs)("div",{className:"reorder-item-section",children:[Object(y.jsx)("span",{className:"reorder-section-heading",children:Object(I.translateWithI18Next)(d)}),Object(y.jsx)("div",{className:"".concat(Object(E.ad)(S,"error-can-not-deliver","hide-error-container")),children:Object(y.jsx)(x.a,{show:S,errorMsg:Object(I.translateWithI18Next)(null!==n&&void 0!==n&&null!==(o=n.discountLines)&&void 0!==o&&o.length?v:r),errImage:D.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(y.jsx)("section",{className:"reorder-accordian",children:Object(y.jsxs)(A.a,{header:"".concat(g," ").concat(Object(I.translateWithI18Next)(u)).concat(g>1?"s":""),open:!0,children:[null===h||void 0===h?void 0:h.map((e=>{var t,o,n,d,c;return Object(y.jsx)("section",{className:"",children:Object(y.jsxs)("div",{className:"reorder-order-item",children:[Object(y.jsx)("div",{className:"reorder-item-details",children:Object(y.jsx)("div",{className:"item-count-box mr",children:Object(y.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(y.jsxs)("div",{className:"item-desc-section",children:[Object(y.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(t=e.item)||void 0===t||null===(o=t.dname)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.value}),l.length>0&&l.find((t=>{var o;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)}))&&Object(y.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(y.jsx)(f.a,{srcFile:D.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(I.translateWithI18Next)(s)]})]}),!Object(E.le)()&&Object(y.jsxs)("span",{className:"item-amount item-desc-bold",children:[a,Object(E.g)((null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.quantity)*(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.unitPrice),i)," "]})]})})})),!Object(E.le)()&&Object(y.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(y.jsx)("span",{className:"payment-total",children:Object(I.translateWithI18Next)(c)}),Object(y.jsxs)("span",{className:"payment-total-amount",children:[a,Object(E.g)(b,i)]})]})]},"orderItem-".concat(O))})]})},R=o(41),L=o(1195),P=o(85);const{CURRENT_STORE_INFO_STORAGE:w}=T.gd||{},M=e=>{const{isGenericError:t,isPastOrderValidationLoading:o,isAddItemLoading:a,enableButton:i,enableScheduleOrder:l,isFutureDateTimeOrder:d,scheduleOrderFlag:c,selectedTime:r,hasError:s,unavailableItem:u,totalItemsLength:v}=e;return t||o||a||!i||s.error||(null===u||void 0===u?void 0:u.length)===v||l&&d&&c&&n()(r)};var k=e=>{var t,o,l,n,c,r;const{closeButtonHandler:s,onChangeDisposition:u,editDeliveryLocation:v,enableButton:m,onChangeRestaurant:O,currentOrderInfo:b,onClickOrderAgain:j,orderTypeDifferentError:p,storeError:h,locationDifferentError:g,isLocationError:f,isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:A,storeChanged:w,currentStoreInfo:k,enableScheduleOrderFlag:F,selectedDate:H,selectedTime:U,scheduleOrderFlag:B,hasError:W,changeDateValue:G,changeTimeValue:V,orderNowFlag:Y,enableSceduleCA:z,enableScheduleMode:q,dateTimeArr:K,orderSchedulingMode:J,changeScheduleOrder:Q,isFutureDateTimeOrder:X,isStoreClosed:Z,storeClosedError:$,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:oe}=Object(a.useContext)(P.a),ae=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(F,K),ie=((e,t)=>{var o;return!!e&&!(null!==t&&void 0!==t&&null!==(o=t.timeSlots)&&void 0!==o&&o.length)})(F,H),le=Object(d.c)((e=>e.tenantReducer)),ne=null===le||void 0===le||null===(t=le.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:de,disableChangeCTAForAddressChange:ce,disableChangeCTAForStoreChange:re}=null===le||void 0===le||null===(o=le.componentOptions)||void 0===o||null===(l=o.web)||void 0===l?void 0:l.quickReorder,{modifiedStoreData:se,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(E.md)(w,k,b,oe),me=w?Object(E.ac)(null===b||void 0===b?void 0:b.deliveryAddress,ne):Object(E.ac)(ve,ne),{REVIEW_ORDER:Oe,ORDER_TYPE:be,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:pe,YOUR_LOCATION:he,ORDER_AGAIN:ge,PICK_UP_TIME:Ie,DELIVERY_TIME:Se}=C.a,{DELIVERY:Ne}=T.Jb,Ce=((e,t)=>{const{DELIVERY:o}=T.Jb||{},a=(null===t||void 0===t?void 0:t.toUpperCase())===o?Object(I.translateWithI18Next)(C.a.SELECT_DELIVERY_TIME):Object(I.translateWithI18Next)(C.a.SELECT_PICKUP_TIME);return e?a:Object(I.translateWithI18Next)(C.a.ASAP)})(Q,ue),Ee=Y||B&&!Q,Te=B&&Q,fe={isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:A,enableButton:m,enableScheduleOrder:F,isFutureDateTimeOrder:X,scheduleOrderFlag:B,selectedTime:U,hasError:W,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(n=e.orderDetails)||void 0===n||null===(c=n.foodLines)||void 0===c?void 0:c.length};return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsxs)(S.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:s,backButtonHandler:s,modalTitle:Object(I.translateWithI18Next)(Oe),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:R.b.secondary,footerBtnText:Object(I.translateWithI18Next)(ge),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:M(fe),loadingBtn:A,children:[Object(y.jsx)(N.a,{show:!0,sectionHeader:be,subSectionValue:Object(I.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:p,isAlert:!0,showChangeButton:!de,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Object(E.Jd)(ue),sectionHeader:he,subSectionValue:me,showChangeButton:!Object(E.Jd)(ue)||!ce,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(r=ve.addressLines)||void 0===r?void 0:r[0]:null===oe||void 0===oe?void 0:oe.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(me)}),Object(y.jsx)(N.a,{show:!0,sectionHeader:pe,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,onClickHandler:O,showChangeButton:!re,isAlert:Z||!x,storeUnavailableError:x&&h||f&&g||Z&&$,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Boolean(F&&Ee),sectionHeader:Object(E.Jd)(ue)?Se:Ie,subSectionValue:J,orderTypeChange:je,onClickHandler:q,showChangeButton:z,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(y.jsx)(L.a,{show:Boolean(F&&Te),sectionHeader:Object(E.Jd)(ue)?Se:Ie,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,changeDateValue:G,changeTimeValue:V,dateTimeArr:K,selectedDate:H,selectedTime:U,placeholderText:Ce,disableDateOption:ae,disableTimeOption:ie,scheduleTimeWarning:F&&W&&(null===W||void 0===W?void 0:W.error),scheduleErrMsg:F&&W&&(null===W||void 0===W?void 0:W.errormessage),enableScheduleOrderFlag:F,elementUniqueLocator:te}),Object(y.jsx)(_,{...e})]})})},F=o(16),H=o(43),U=o(133),B=o(120),W=o(24),G=o(12),V=o(412),Y=o(329),z=o(145),q=o(394),K=o(80),J=o(132);const Q=e=>{var t;const{enableScheduleOrder:o,isFutureTimeOrderAvailable:a,updateReorderDetails:i,storename:l,service:n}=e,{STORE_CLOSED_ERROR:d,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:c,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:r}=C.a;i(o&&a?{storeError:null,storeClosedError:Object(E.rf)(n)===T.Lb.PICKUP?Object(I.translateWithI18Next)(c):Object(I.translateWithI18Next)(r)}:{storeClosedError:null,storeError:null===(t=Object(I.translateWithI18Next)(d))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(l,"</b>"))})},X=e=>{var t;const{timings:o={},orderingAttribute:a={}}=Object(E.sd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:i={}}=o||{},{isAsapOrder:l=!1}=a||{},n=!(null!==i&&void 0!==i&&i.isAvailable);return Boolean(!n&&l)},Z=(e,t)=>Boolean(e&&t),$=e=>{var t;return e?Object(I.translateWithI18Next)(C.a.TODAY_ASAP):null===(t=Object(I.translateWithI18Next)(C.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,o,l,c,s,v,S,N,f,x;const{currentOrderInfo:D,reorderModalOpen:A,closeButtonHandler:_,source:R}=e,{service:L,id:w,store:M,name:ee}=Object(E.sd)(D),{storeId:te}=Object(E.sd)(M),oe=Object(d.b)(),ae=Object(O.g)(),{RESET_DELIVERY_ADDRESS_LINE:ie,DISPOSITION_DATA:le,SCHEDULE_ORDER_DATA:ne,SEARCH_ORDER_DATA:de,DISPOSITION_METHOD:ce,USER_LOCALIZED:re,CURRENT_STORE_INFO:se,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:me,SET_ASAP_SCHEDULING:Oe,SCHEDULE_ORDER_CLICKED:be}=F.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:pe,DISPOSITION_TYPE:he,DATE_TIME_ORDER:ge,SELECTED_TILE:Ie,CONFIG_SEARCH_SCREEN:Se,CURRENT_STORE_INFO_STORAGE:Ne,STORE_INFO:Ce}=T.gd,{LOCATION_DIFFERENT_ERROR:Ee,STORE_CLOSED_ERROR:Te}=C.a,{userOrderState:fe,userOrderStateDispatch:xe}=Object(a.useContext)(P.a);let{dispositionNew:De,reorderFlag:{storeChanged:Ae=!1},currentStoreInfo:ye={},scheduleOrderData:_e={},showOrderNowReorder:Re=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:Pe=!1}=fe;const{changeFlow:we=!1,isAddressFlow:Me=!1}=_e;De=Object(E.ad)(Object(E.Sd)(De),JSON.parse(localStorage.getItem(je)),De);const ke=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Fe=!1,loggedIn:He=!1}=Object(E.sd)(ke),Ue=Object(E.od)(Fe,He),Be=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:We,currencyConversionFactor:Ge,currencySymbol:Ve,componentOptions:Ye}=Object(E.sd)(Be),ze=null===Be||void 0===Be||null===(t=Be.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,qe=null===Be||void 0===Be||null===(o=Be.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress,Ke=null===Be||void 0===Be||null===(l=Be.componentOptions)||void 0===l?void 0:l.showComma,{web:Je={}}=Ye,{shouldCheckDropOffAddress:Qe=!1}=Je,Xe=Object(d.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(E.sd)(Xe),{elementUniqueLocator:$e,timeFormat:et}=Object(d.c)((e=>e.tenantReducer||{})),tt=Object(d.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:ot={}}=Object(E.sd)(tt),{addHope:at,carryBag:it}=Be,lt=i.a.useRef(null),nt=Object(d.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:dt}=Object(E.sd)(nt),{items:ct=[]}=Object(E.sd)(dt),rt=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),st=Object(d.c)((e=>{var t,o,a;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreDetailsLoading)||(null===(a=e.LoaderReducer)||void 0===a?void 0:a.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:mt}=Object(E.sd)(rt),{discountLines:Ot=[],foodLines:bt=[]}=ot,jt=Object(E.hb)(Ot,(null===Ot||void 0===Ot?void 0:Ot.length)-1),pt=Object(E.hb)(Ot,Ot[jt]),{couponCode:ht="",amount:gt=""}=Object(E.sd)(pt),It=Object(E.g)(gt,Ge),St=null===Ye||void 0===Ye||null===(c=Ye.web)||void 0===c?void 0:c.dispositionConfig,Nt=null===Ye||void 0===Ye||null===(s=Ye.web)||void 0===s||null===(v=s.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:Ct=!1}=St,{modifiedService:Et}=Object(E.md)(Ae,ye,D),Tt=((e,t,o)=>e&&(null===t||void 0===t?void 0:t.includes(o)))(null===Ye||void 0===Ye||null===(S=Ye.web)||void 0===S||null===(N=S.dispositionConfig)||void 0===N?void 0:N.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(f=Ye.web)||void 0===f||null===(x=f.scheduledDelivery)||void 0===x?void 0:x.allowScheduleOrderForDispositions,Et),ft=((e,t)=>e||t)(Ct,Tt),xt={unavailableItem:[],showModal:A,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:$(Tt),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[Dt,At]=Object(a.useState)(xt),[yt,_t]=Object(a.useState)(!1),Rt=Object(a.useCallback)((e=>{At&&At((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=T.sb,Pt=ft?Ae:we,wt=Object(J.b)(K.b);Object(a.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(T.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(a.useEffect)((()=>{lt.current=Dt}),[Dt]),Object(a.useEffect)((()=>{if(Z(ft,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&!Dt.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=Dt.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:ft,enableClickCollectScheduleOrderFlag:Tt,fromReorder:!0,scheduleModeClicked:Pe,timeFormat:et},o=Object(B.h)(t);Rt({dateTimeArr:o})}}),[Ct,Dt.storeDetail,L,Ae,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(a.useEffect)((()=>{if(Z(ft,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&Dt.scheduleOrderFlag&&Dt.changeScheduleOrder){const e={shouldShowScheduleOrder:Dt.scheduleOrderFlag,store:Dt.storeDetail,updateReorderDetails:Rt,changeFlow:we,enableScheduleOrder:ft,selectedDate:Dt.selectedDate,selectedTime:Dt.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:Pe,enableClickCollectScheduleOrderFlag:Tt};Object(B.c)(e)}}),[ft,Dt.scheduleOrderFlag,Ae,Dt.storeDetail,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(a.useEffect)((()=>{if(Z(ft,Dt.storeDetail)){var e,t,o;const a=X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),l=!n()(Dt.selectedDate)&&!n()(Dt.selectedTime),d=u()(null===Dt||void 0===Dt||null===(t=Dt.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),c=((e,t)=>Boolean(e&&!t))(null===Dt||void 0===Dt?void 0:Dt.storeClosedError,i);((e,t,o,a)=>{var i;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&o({orderSchedulingMode:a?Object(I.translateWithI18Next)(C.a.TODAY_ASAP):null===(i=Object(I.translateWithI18Next)(C.a.ASAP))||void 0===i?void 0:i.toUpperCase()})})(Dt,a,Rt,Tt);const r=(e=>{const{storeClosedError:t,asapOrderFlag:o,isFutureDateTimeOrder:a,changeScheduleOrder:i,enabledDate:l,isDateTimeSelected:n}=e;return Boolean((t||!o)&&a&&!i&&l&&!n)})({storeClosedError:null===Dt||void 0===Dt?void 0:Dt.storeClosedError,asapOrderFlag:a,isFutureDateTimeOrder:null===Dt||void 0===Dt?void 0:Dt.isFutureDateTimeOrder,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:i,isDateTimeSelected:l});r&&Rt({scheduleOrderFlag:!0,selectedDate:i,selectedTime:null===i||void 0===i?void 0:i.timeSlots[0],orderNowFlag:!1});const s=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:o,scheduleOrderFlag:a,changeScheduleOrder:i,enabledDate:l}=e;return Boolean(!t&&o&&a&&i&&l)})({storeClosedError:Dt.storeClosedError,isFutureDateTimeOrder:Dt.isFutureDateTimeOrder,scheduleOrderFlag:Dt.scheduleOrderFlag,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:i});s&&n()(Dt.selectedDate)&&Rt({selectedDate:i}),c&&Rt({storeClosedError:null,storeError:null===(o=Object(I.translateWithI18Next)(Te))||void 0===o?void 0:o.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})}}),[ft,Dt.orderNowFlag,Dt.scheduleOrderFlag,Dt.storeClosedError,Dt.changeScheduleOrder,Dt.storeDetail,Dt.isFutureDateTimeOrder,Ae,Dt.dateTimeArr]),Object(a.useEffect)((()=>{if(ft&&!n()(Dt.selectedDate)&&!n()(Dt.selectedTime)){const e=Dt.selectedDate.date.value,t=Dt.selectedTime.value,o=Ke?",":"",a=" ".concat(e).concat(o," ").concat(t);Rt({orderSchedulingMode:a})}}),[Dt.selectedDate,Dt.selectedTime,ft]),Object(a.useEffect)((()=>{if(Z(ft,Dt.storeDetail)){var e,t,o;const a=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),i=Object(E.Yd)(null===(t=Dt.storeDetail)||void 0===t?void 0:t[0])||Object(E.Xd)(null===(o=Dt.storeDetail)||void 0===o?void 0:o[0]),l=((e,t,o)=>Boolean(e&&!t&&o))(i,Dt.changeScheduleOrder,a);Rt({isFutureDateTimeOrder:i,enableSceduleCA:l})}}),[ft,Dt.storeDetail,Ae,Dt.dateTimeArr]),Object(a.useEffect)((()=>{null!==Dt&&void 0!==Dt&&Dt.showModal&&ft&&!Ae&&xe({type:be,value:{scheduleModeClicked:!1}})}),[null===Dt||void 0===Dt?void 0:Dt.showModal,ft,Ae]),Object(a.useEffect)((()=>{if(Z(ft,Dt.storeDetail)&&Dt.showModal&&Ae&&!Dt.isFlowChangedLoadingFinish){var e,t,o;const a=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),i=((e,t,o)=>Boolean(e&&t&&o))(X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),Dt.isFutureDateTimeOrder,a);i&&Rt({orderNowFlag:Re,changeScheduleOrder:!Re||Le&&(null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!Re||Le&&(null===(o=Dt.dateTimeArr)||void 0===o?void 0:o.length),isFlowChangedLoadingFinish:!0})}}),[ft,Re,Le,Ae,Dt.showModal,Dt.storeDetail,Dt.dateTimeArr,Dt.isFlowChangedLoadingFinish,Dt.isFutureDateTimeOrder]);Object(a.useEffect)((()=>{Object(E.hb)(Dt.confirmed,mt)&&(Rt({confirmed:!1}),ae.push(T.Ce.CART))}),[Dt.confirmed,mt]);const Mt=Object(E.g)(null===ot||void 0===ot?void 0:ot.total,Ge),kt=Object(a.useCallback)((()=>{var e,t;const o=null===(e=Dt.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,a=Object(E.ac)(o);localStorage.setItem(T.gd.RETAIN_ADDRESS,a),Rt({showModal:!1}),xe({type:ie}),xe({type:le,value:{showDisposition:!0}}),xe({type:ne,value:{showScheduleOrder:!1}}),xe({type:de,value:{showSearchStore:!1}}),xe({type:me,value:{reorderModalOpen:!1}})}),[xe,Dt.storeDetail]),Ft=Object(a.useCallback)((e=>{const t=r()(Dt.storeDetail,{});t&&(xe({type:ce,value:{dispositionType:t.service}}),Object(B.a)(Me,t,U.a,Pt,!0,e,xe),xe({type:me,value:{reorderModalOpen:!1}}))}),[xe,Pt,Me,Dt.storeDetail]),Ht=Object(a.useCallback)((e=>{if(!Object(E.Sd)(e)){var t;const{summary:o}=e,{futureDates:a,scheduled:i,asap:l}=Object(E.sd)(null===o||void 0===o?void 0:o.timings),{interval:n=0,startEndTime:d={}}=i&&i.periods.length&&i.periods[0],{from:c,to:r}=d;return Object(B.j)(c,r,n,null===l||void 0===l?void 0:l.isAvailable,Object(E.hb)(1===a.length,Object(E.le)())),{time:T.t,interval:null===o||void 0===o||null===(t=o.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:T.t}}})),Ut=(e,t,o)=>{const a=[];let i=0,l=[],n=Object(E.Tb)(e,at,it);return null===n||void 0===n||n.forEach((e=>{var n,d,c;const r=(e=>{const t=e;return e.forEach(((t,o)=>{var a;e[o].modifiers=null===(a=t.modifiers)||void 0===a?void 0:a.filter((e=>!0===e.isAdded))})),t})(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps),s=null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,u=Object(E.Of)(ct,r,s),{isAvailable:v,product:m}=((e,t,o)=>{var a,i,l,n,d,c;const r=o&&"ASAP"!==o?Object(G.C)(o,T.sb.lll):Object(G.e)(T.sb.lll),s=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(a=s[0])||void 0===a||null===(i=a.availability[0])||void 0===i?void 0:i.availableHours,v=null===u||void 0===u||null===(l=u.startTime)||void 0===l?void 0:l.time,m=null===u||void 0===u||null===(n=u.endTime)||void 0===n?void 0:n.time,O=Object(q.j)(Object(E.z)(v),T.sb.lll,1e3*o),b=Object(q.j)(Object(E.z)(m),T.sb.lll,1e3*o),j=null===(d=s[0])||void 0===d?void 0:d.isNotAvailable,p=Object(G.f)(r,O,b)&&!j;return(null===(c=s[0])||void 0===c?void 0:c.isHidden)?{isAvailable:"hidden",product:s}:{isAvailable:p,product:s}})(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.id,t,o);var O,b,j,p;v&&u?a.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===m||void 0===m||null===(O=m[0])||void 0===O||null===(b=O.categoryUrl)||void 0===b?void 0:b[0],categoryName:null===m||void 0===m||null===(j=m[0])||void 0===j?void 0:j.categoryName,categoryId:null===m||void 0===m||null===(p=m[0])||void 0===p?void 0:p.categoryId,modGrps:r}):(i+=1,l.push(e.item))})),Rt({unavailableItem:l}),{unAval:i,itemArr:a}},Bt=(e,t,o)=>{const a=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===T.Ne||void 0===T.Ne?void 0:T.Ne.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:W.b.channel,service:o});Object(z.g)(),oe(ft?Object(p.b)({tenantId:We,catalogName:e},a,(()=>Rt({isMenuFetched:!0}))):Object(p.b)({tenantId:We,catalogName:e},{storeId:t,channel:W.b.channel,service:o},(()=>Rt({isMenuFetched:!0}))))};Object(a.useEffect)((()=>{if(Object(E.j)([bt.length>0,ct.length>0,Dt.isMenuFetched])){var e;const{id:t}=Object(E.sd)(ut),o=Object(E.Tb)(bt,T.i),a=Ut(o,ct,null===(e=Dt.selectedTime)||void 0===e?void 0:e.key),i={dispatch:oe,response:a,foodLineInfo:bt,basketId:t,tenantId:We,updateReorderDetails:Rt,setupLocalization:Gt,storeDetail:Dt.storeDetail,orderinfoData:Dt.orderinfoData,closeButtonHandler:_};yt||((e=>{const{dispatch:t,response:o,foodLineInfo:a,basketId:i,tenantId:l,updateReorderDetails:n,setupLocalization:d,storeDetail:c,orderinfoData:r,closeButtonHandler:s}=e;o.unAval!==a.length&&t(Object(g.a)({params:{basketId:i},tenantId:l,isFromReorder:!0},o.itemArr,(e=>{localStorage.removeItem(T.gd.ADD_TO_ORDER),d(c,r),n({confirmed:!0}),s()})))})(i),Rt({isMenuFetched:!1})),_t(!1)}}),[bt,ct,Dt.isMenuFetched]);const Wt=async function(){var e,t,o,a,i,l,n,d,c,r,s,u,v,O,b,j,p,h,S,N,f,x,D,A;let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_||_t(!1);const{lang:R,catalog:P,storeId:w,deliveryAddress:M,storename:k,service:F}=Object(E.ld)(_?y:Dt.storeDetail),U=Ae?M:null===(e=Dt.orderinfoData)||void 0===e?void 0:e.deliveryAddress,B={date:null!==(t=null===(o=Dt.selectedDate)||void 0===o||null===(a=o.date)||void 0===a?void 0:a.key)&&void 0!==t?t:Object(G.h)(new Date,Lt),time:null!==(i=null===(l=Dt.selectedTime)||void 0===l?void 0:l.value)&&void 0!==i?i:T.t,selectedTime:null!==(n=null===(d=Dt.selectedTime)||void 0===d?void 0:d.value)&&void 0!==n?n:T.t,epochTime:null!==(c=Dt.selectedTime)&&void 0!==c&&c.key&&(null===(r=Dt.selectedTime)||void 0===r?void 0:r.key)!==T.t?null===(s=Dt.selectedTime)||void 0===s?void 0:s.key:T.t},W={time:T.t,date:new Date,selectedTime:T.t,epochTime:T.t},V=ft?B:W;let Y={id:w,summary:{menu:{catalogs:[P]}},addresses:[{lang:R}]};const{addressLines:z=[],customProperties:q}=(null===Dt||void 0===Dt||null===(u=Dt.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[J,X,Z,$,ee,te,ae,ie]=z,le=null===Dt||void 0===Dt||null===(v=Dt.orderinfoData)||void 0===v||null===(O=v.deliveryAddress)||void 0===O?void 0:O.name,ne=null===Dt||void 0===Dt||null===(b=Dt.orderinfoData)||void 0===b||null===(j=b.deliveryAddress)||void 0===j?void 0:j.pinCode,de=null===(p=m()(q,{key:T.V}))||void 0===p?void 0:p.value,ce=null===(h=m()(q,{key:T.S}))||void 0===h?void 0:h.value,re=(null===Dt||void 0===Dt||null===(S=Dt.orderinfoData)||void 0===S||null===(N=S.customProperties)||void 0===N||null===(f=N[0])||void 0===f?void 0:f.value)||{},se=ze&&null!==z&&void 0!==z&&z.length?{addressName:le,apartmentName:ee,chome:Z,chomeId:ce,cityId:de,cityTown:X,companyName:ae,postalCode:ne,prefecture:J,roomNumber:te,specialNote:ie,streetDetailAddress:$}:{},ue=await Object(E.A)(Y,Object(E.Mb)(F),Ze,V,Object(E.ac)(U,qe),null,se,null===Dt||void 0===Dt||null===(x=Dt.orderinfoData)||void 0===x||null===(D=x.deliveryAddress)||void 0===D?void 0:D.addressLines);let ve=Object(G.p)();if(ft&&(null===(A=Dt.selectedTime)||void 0===A?void 0:A.key)<ve)Rt({hasError:{...Dt.hasError,error:!0,errormessage:Object(I.translateWithI18Next)(C.a.SCHEDULE_ORDER_CA)}});else{const e=Object(E.Td)(Dt.selectedTime)?Dt.selectedTime.key:"";ft&&sessionStorage.setItem(T.Ne.SCHEDULE_DATE_EPOCH,e),oe(Object(g.f)({data:ue,tenantId:We,successCallback:()=>Bt(P,w,F),errorCallback:()=>{var e,t;const o=lt.current,a=Object(E.Yd)(null===o||void 0===o||null===(e=o.storeDetail)||void 0===e?void 0:e[0])||Object(E.Xd)(null===o||void 0===o||null===(t=o.storeDetail)||void 0===t?void 0:t[0]);Q({enableScheduleOrder:Ct,isFutureTimeOrderAvailable:a,updateReorderDetails:Rt,storename:k,service:L})}}))}oe(Object(K.d)({key:T.gd.ADD_HOPE_TRIGGER,value:!0})),oe(Object(K.d)({key:null===T.se||void 0===T.se?void 0:T.se.REORDER_FLAG,value:{isReorderFlow:!0}})),oe(Object(K.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SELECTED_NOT_NOW,value:!1})),oe(Object(K.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),oe(Object(K.d)({key:null===H.a||void 0===H.a?void 0:H.a.STREET_NUMBER,value:re}))},Gt=(e,t)=>{var o,a,i,l,n,d,c,s,u,v,m,O;const b=r()(e,{});let{deliveryAddress:p,service:h}=Ae?Object(E.ld)(e):t;xe({type:ce,value:{dispositionType:h}});const I=ze?Object(G.S)(null===(o=Dt.selectedTime)||void 0===o?void 0:o.value,T.sb.HH_mm,T.sb.hh_mm_A):null===(a=Dt.selectedTime)||void 0===a?void 0:a.value,S={date:null!==(i=null===(l=Dt.selectedDate)||void 0===l||null===(n=l.date)||void 0===n?void 0:n.key)&&void 0!==i?i:Object(G.h)(new Date,Lt),time:null!==I&&void 0!==I?I:T.t,selectedTime:null!==I&&void 0!==I?I:T.t,epochTime:null!==(d=Dt.selectedTime)&&void 0!==d&&d.key&&(null===(c=Dt.selectedTime)||void 0===c?void 0:c.key)!==T.t?null===(s=Dt.selectedTime)||void 0===s?void 0:s.key:T.t},N=ft?S:Ht(b),C=Boolean((null===N||void 0===N?void 0:N.key)===T.t),f={type:h,store:b,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,epochTime:null===N||void 0===N?void 0:N.epochTime,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,deliveryAddress:Object(E.ac)(p,qe),deliveryAddressLine:(null===p||void 0===p||null===(u=p.addressLines)||void 0===u?void 0:u.length)>=1?null===p||void 0===p||null===(v=p.addressLines)||void 0===v?void 0:v[0]:""};xe({type:ue,value:{oldvalue:De,newValue:f}}),localStorage.setItem(pe,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(f)),localStorage.setItem(je,JSON.stringify({type:h,store:b,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,epochTime:null===N||void 0===N?void 0:N.epochTime,deliveryAddress:Object(E.ac)(p,qe),deliveryAddressLine:(null===p||void 0===p||null===(m=p.addressLines)||void 0===m?void 0:m.length)>=1?null===p||void 0===p||null===(O=p.addressLines)||void 0===O?void 0:O[0]:""})),xe({type:de,value:{showSearchStore:!1}}),xe({type:re,value:{isLocalized:!0}}),xe({type:se,value:b}),oe(Object(j.a)({...ke,localized:!0})),localStorage.setItem(Ne,JSON.stringify(b)),localStorage.setItem(Ce,JSON.stringify(b)),ft&&(xe({type:F.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),xe({type:Oe,value:{enableASAPScheduling:C}})),xe({type:ve,value:{selectedDateTime:N}}),localStorage.setItem(Ie,JSON.stringify({})),localStorage.setItem(Se,U.a),localStorage.setItem(he,h),localStorage.setItem(ge,JSON.stringify(N)),xe({type:F.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(E.ld)(Dt.storeDetail);if(Object(E.Td)(e)){const o=Object(E.ac)(e),a=await Object(Y.geocodeByAddress)(o),i=await Object(Y.getLatLng)(null===a||void 0===a?void 0:a[0]);Object(E.tf)(t,a),Nt&&oe(Object(K.d)({key:T.se.LAT_LONG,value:i}))}localStorage.setItem(T.gd.SERVICE_TYPE,Object(E.Mb)(t));const o=T.p.AUD;let a=[];null===bt||void 0===bt||bt.forEach(((e,t)=>{var i,l,n,d;let c=Object(E.g)(null===e||void 0===e?void 0:e.unitPrice,Ge);a.push({item_name:Object(E.jb)(null===e||void 0===e||null===(i=e.item)||void 0===i||null===(l=i.dname[0])||void 0===l?void 0:l.value,"NA"),item_id:Object(E.jb)(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id,"NA"),price:Object(E.jb)(parseFloat(c),"NA"),coupon:ht,currency:o,discount:It,item_category:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.categoryName)||"NA",item_list_name:R,item_list_id:"",index:t+0,quantity:Object(E.jb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(V.o)(a,Ue,o,Mt,t),bt.length>0&&oe(Object(g.r)()),Object(V.p)(Ue,ee)})()},Vt=(e,t)=>{const{modifiedStoreData:o}=Object(E.md)(Ae,ye,D);if(Rt({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=r()(e,{}),n=u()(t,"summary",{}),{currentStatus:d}=u()(n,"status",{}),c=u()(n,"name",{}),s=Object(E.Yd)(t)||Object(E.Xd)(t);if(d===T.Y){Q({enableScheduleOrder:Ct,isFutureTimeOrderAvailable:s,updateReorderDetails:Rt,storename:c,service:L})}var a,i,l;if(ke.localized)((e,t,o)=>{var a,i;Object(E.rf)(null===e||void 0===e?void 0:e.type)!==Object(E.rf)(t)&&o({orderTypeDifferentError:null===(a=Object(I.translateWithI18Next)(C.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===a?void 0:a.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===e||void 0===e||null===(i=e.type)||void 0===i?void 0:i.toLowerCase()),"</b>"))})})(De,Et,Rt),te!==(null===(a=De)||void 0===a||null===(i=a.store)||void 0===i?void 0:i.id)&&Rt({locationDifferentError:null===(l=Object(I.translateWithI18Next)(Ee))||void 0===l?void 0:l.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))});_t(!0),Wt(e,!0)}else{var n;Rt({storeClosedError:null,storeError:null===(n=Object(I.translateWithI18Next)(Te))||void 0===n?void 0:n.replace("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))})}};return Object(a.useEffect)((()=>{const e=null===D||void 0===D?void 0:D.service,{modifiedStoreId:t,modifiedStoreData:o,modifiedService:a,modifiedDeliveryAddress:i}=Object(E.md)(Ae,ye,D);oe(Object(h.l)({storeId:t,tenantId:We},(t=>{const l={data:Object(E.C)([o],a,i,Qe,null===wt||void 0===wt?void 0:wt.latLong),store:[{...t,service:a}],tenantId:We,setStatusFlag:!1,isFavoritePage:!1};oe(Object(h.d)(l,(t=>{Rt({storeDetail:t}),oe(Object(b.f)({tenantId:We,orderId:w,customerId:Ze,CTO:!!Object(E.Jd)(e)&&void 0},(e=>Vt(t,e))))})))})))}),[]),Object(y.jsx)(y.Fragment,{children:Dt.showModal?Object(y.jsx)(k,{...e,onChangeDisposition:kt,editDeliveryLocation:Ft,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(E.md)(Ae,ye,D),o=r()(Dt.storeDetail,{});var a;o?(Rt({showModal:!1}),xe({type:ce,value:{dispositionType:o.service}}),Object(E.Gf)(xe,null===(a=o.summary)||void 0===a?void 0:a.name),xe({type:me,value:{reorderModalOpen:!1}})):(Rt({showModal:!1}),xe({type:ce,value:{dispositionType:t}}),Object(E.Gf)(xe,null===e||void 0===e?void 0:e.name),xe({type:me,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Wt,storeError:Dt.storeError,locationDifferentError:Dt.locationDifferentError,currencySymbol:Ve,currencyConversionFactor:Ge,orderDetails:ot,isPastOrderValidationLoading:st,isAddItemLoading:vt,storeChanged:Ae,currentStoreInfo:ye,enableScheduleOrderFlag:ft,changeDateValue:e=>{var t,o;const a=null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.date)||void 0===o?void 0:o.key)===(null===e||void 0===e?void 0:e.key)}));Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedDate:a,storeError:null,storeClosedError:null,selectedTime:{...null===a||void 0===a||null===(o=a.timeSlots)||void 0===o?void 0:o[0]}})},changeTimeValue:e=>{Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{Rt({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(Dt.storeClosedError),isGenericError:Boolean(Dt.storeError),isLocationError:Boolean(Dt.locationDifferentError),...Dt,elementUniqueLocator:$e}):null})}},1214:function(e,t,o){"use strict";var a=o(3),i=o(1136),l=o(2);t.a=e=>{const{endTime:t=new Date}=e,[o,n]=Object(a.useState)(Object(i.d)(t));return Object(a.useEffect)((()=>{let e;return Object(i.e)(t)?e=setTimeout((()=>{n(Object(i.d)(t))}),1e3):n("00HR : 00M : 00S"),()=>{clearTimeout(e)}})),Object(l.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:o})}},1215:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(46),n=o(264),d=o(28),c=o(41),r=o(6),s=o(15),u=o(11),v=o(14),m=o(1133),O=o(83),b=o(0),j=o(4),p=o(5),h=o(1136),g=o(1098),I=o(2);t.a=e=>{var t,o,a;const{smallText:S,titleValue:N,imageName:C,item:E,tenantId:T,setConfirmationModal:f,setViewDetailsHandler:x,showMultiProductModal:D,dispositionType:A,addToOrderClickHandler:y,startOrderClickHandler:_,promosApplied:R,basketData:L,setViewCartHandler:P,setDispositionHandler:w,createSignInURL:M,page:k,loggedIn:F,localized:H,setLocationClickHandler:U}=e,{ITEM_IN_CART:B,ONE_PROMO_APPLIED:W,DELIVERY_PROMOTION:G,PICKUP_PROMOTION:V,VIEW_MENU:Y,START_ORDER:z,VIEW_PRODUCT:q,PROMO_ADD_TO_CART:K,VIEW_DETAILS:J,CHANGE_PICKUP:Q,CHANGE_DELIVERY:X,VIEW_CART:Z,GUEST_USER_SINGIN_TEXT:$,SIGNIN_TEXT:ee,CHECK_BACK_AGAIN:te,THATS_ALL_FOR_NOW:oe,CATERING_PROMO_ERROR:ae,NO_IMAGE:ie}=j.a,{SignInCard:le,Error_Yellow:ne,GreenCheck:de,Applied_CouponIcon:ce}=s.a,{DEFAULT_IMAGE_PATH:re}=m.a,se=(null===L||void 0===L||null===(t=L.foodLines)||void 0===t?void 0:t.length)||0,ue=Object(d.c)((e=>e.tenantReducer)),ve={userType:Object(p.od)(H,F),couponCode:e.couponCode,dispositionType:e.dispositionType,titleValue:null===E||void 0===E?void 0:E.titleValue},{componentOptions:{web:{plp:{promosRewardsImage:me}={},coupons:Oe={}}={}}={}}=null!==ue&&void 0!==ue?ue:{},{cardImagePath:be,useBucketSize:je}=Oe,pe=null===ue||void 0===ue||null===(o=ue.componentOptions)||void 0===o||null===(a=o.coupons)||void 0===a?void 0:a.noAvailableCouponsLongText,he=t=>{if(null!==t&&void 0!==t&&t.isApplied&&se&&null!==t&&void 0!==t&&t.itemDetails)return Object(I.jsx)("div",{onClick:t=>P(e),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(Z)})});if(null!==t&&void 0!==t&&t.isApplied||!R){let e=A===b.fe?Object(r.translateWithI18Next)(X):Object(r.translateWithI18Next)(Q),t=A===b.fe?b.yb:b.fe;return Object(I.jsx)("div",{onClick:e=>w(t),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:e})})}return""},ge=()=>{return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(k===b.he&&"plp-toast-item"),children:Object(I.jsxs)("div",{className:"promos-tost-container ".concat((null===E||void 0===E?void 0:E.isApplied)&&"greenbg"),children:[Object(I.jsxs)("div",{className:"promos-tost-icon ",children:[(null===E||void 0===E?void 0:E.isApplied)&&se&&(null===E||void 0===E?void 0:E.itemDetails)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(n.a,{src:de,className:"promos-store-image green-icon",alt:""})}),!(null!==E&&void 0!==E&&E.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(n.a,{src:ne,className:"promos-store-image ".concat(k===b.he&&"plp-promos-store-image"),alt:""})})]}),Object(I.jsxs)("div",{className:"promos-tost-text-container",children:[Object(I.jsx)("div",{className:"promos-tost-text",children:Object(p.Hd)(A)?Object(r.translateWithI18Next)(ae):(e=E,null!==e&&void 0!==e&&e.isApplied&&se&&null!==e&&void 0!==e&&e.itemDetails?Object(r.translateWithI18Next)(B)+".":null!==e&&void 0!==e&&e.isApplied||!R?A===b.fe?Object(r.translateWithI18Next)(G):Object(r.translateWithI18Next)(V):Object(r.translateWithI18Next)(W))}),Object(p.Hd)(A)?null:he(E)]})]})})});var e},Ie=t=>{var o,a,l,d,s;if(Object(p.hb)(Object(p.Hd)(A),!(null!==t&&void 0!==t&&t.employeePromotion)))return ge();let u=null===t||void 0===t||null===(o=t.termsAndConditions[0])||void 0===o?void 0:o.parameter;return null===t||void 0===t||null===(a=t.termsAndConditions)||void 0===a||a.forEach((e=>{var t,o;Object(p.jb)(null===e||void 0===e||null===(t=e.parameter)||void 0===t?void 0:t.includes(b.yb),null===e||void 0===e||null===(o=e.parameter)||void 0===o?void 0:o.includes(b.fe))&&(u=null===e||void 0===e?void 0:e.parameter)})),R&&Object(p.hb)(!(null!==t&&void 0!==t&&t.isApplied),!(null!==t&&void 0!==t&&t.employeePromotion))?ge():Object(p.jb)(null===(l=u)||void 0===l?void 0:l.includes(A),Object(p.hb)(!(null!==(d=u)&&void 0!==d&&d.includes(b.yb)),!(null!==(s=u)&&void 0!==s&&s.includes(b.fe))))?null!==t&&void 0!==t&&t.itemDetails?(Se(),null!==t&&void 0!==t&&t.isApplied?ge():Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),"data-testid":"promos-product-button",children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>H?D(e,t):U(e),disabled:null===E||void 0===E?void 0:E.isApplied,"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(N),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(q)})})})):Object(I.jsxs)(i.a.Fragment,{children:[(null===E||void 0===E?void 0:E.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),children:[Object(I.jsx)("div",{className:"promos-checked-icon ".concat(k===b.he&&"plp-promos-checked-icon"),onClick:t=>f(e,t),"data-testid":"greentick-button",children:Object(I.jsx)(n.a,{src:ce,className:"promos-appled-icon ".concat(Object(p.hb)(k===b.he,"plp-promos-appled-icon")),alt:""})}),Object(I.jsx)(c.c,{variant:null!==E&&void 0!==E&&E.isApplied&&!se?c.b.primary:c.b.tertiary,onClick:t=>_(e,t),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(N),children:se?Object(r.translateWithI18Next)(Y):Object(r.translateWithI18Next)(z)})]})}),!(null!==E&&void 0!==E&&E.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===b.he,"plp-promosButton-item")),children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>H?y(e,t):U(e),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(N),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(K)})})})]}):ge()},Se=()=>{Object(p.hb)(!se,localStorage.getItem(b.gd.ADD_TO_ORDER))&&localStorage.removeItem(b.gd.ADD_TO_ORDER)},Ne=()=>Object(I.jsx)("div",{className:"slick-slide medium-card-offers-deals",children:Object(I.jsxs)("div",{className:"promosCard-content ".concat(Object(p.hb)(pe,"alignCenter")),children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title small-text ".concat(Object(p.hb)(k===b.he,"plp-empty-card-title")," ").concat(Object(p.hb)(pe,"longText")),children:Object(I.jsxs)("span",{className:"promosCard-ellipsis-text  ".concat(Object(p.hb)(pe,"longTextLines")),children:[" ",Object(r.translateWithI18Next)(oe)]})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text small-text emptycard",children:Object(r.translateWithI18Next)(te)})]})}),Ce=()=>Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(n.a,{src:le,className:"offers-store-image",alt:""}),Object(I.jsx)("h3",{className:"offer-login-text ".concat(Object(p.hb)(k===b.he,"plp-offer-login-text")),children:Object(r.translateWithI18Next)(ee)}),Object(I.jsx)("div",{className:"offer-store-btn-container ".concat(Object(p.hb)(k===b.he,"plp-offer-store-btn-container")," "),children:Object(I.jsx)(c.a,{"data-testid":"sign-in-btnid",onClick:()=>M(),className:"store-btn signin-offers-btn",children:Object(r.translateWithI18Next)($)})})]});return Object(I.jsx)(i.a.Fragment,{children:(()=>{if(me&&k===b.he)switch(null===E||void 0===E?void 0:E.cardType){case"empty":return Ne();case"login":return Ce();default:return Object(I.jsxs)("div",{className:"plp-promosCard-content promosCard-content",children:[Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-title promosOnlyTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(O.l)(N)})}),Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-text promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(O.l)(S)})}),Object(I.jsx)("div",{className:"plp-view-all-text view-all-text",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"plp-offersViewAll-link offersViewAll-link","data-testid":"plp-view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(E)]})}switch(null===E||void 0===E?void 0:E.cardType){case"image-text":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"promosImageText-background",children:Object(I.jsx)(l.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:be,imageName:C}),alt:Object(r.translateWithI18Next)(ie),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(T).concat(re),className:"promosImageText-background-img"})}),Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosImageTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text","data-testid":"promos-card-text",children:Object(O.l)(N)})}),Object(I.jsx)("div",{className:"promosCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(O.l)(S)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:()=>{Object(g.f)(ve),x(e)},className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{"data-testid":"view-details-link",children:Object(r.translateWithI18Next)(J)})})}),Ie(E)]})]});case"image":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:be,imageName:C}),alt:Object(r.translateWithI18Next)(ie),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(T).concat(re),className:"promosOnlyImage-background"}),Object(I.jsxs)("div",{className:"promosCard-content promosFullImageCard-content ".concat(Object(p.hb)(R,"promos-applied")),children:[Object(I.jsx)("div",{className:"view-all-text fullImageText-item",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(E)]})]});case"text":return Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title ".concat(k),children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(O.l)(N)})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(O.l)(S)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(E)]});case"empty":return Ne();case"login":return Ce()}})()})}},1216:function(e,t,o){"use strict";o(3);var a=o(28),i=o(6),l=o(4),n=o(0),d=o(5),c=o(41),r=o(1202),s=o(2);t.a=e=>{var t,o,u;const{setLocationClickHandler:v,page:m}=e,{SEE_PROMOS_FOR_YOU:O,SET_LOCATION:b}=l.a,j={buttonText:Object(i.translateWithI18Next)(b)},{tenantReducer:p}=Object(a.c)((e=>e)),h=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(u=o.dispositionConfig)||void 0===u?void 0:u.enableAutoSetLocation;return Object(s.jsx)("div",{id:"startorder-container","data-testid":"set-locaton-component",children:Object(s.jsx)("div",{"data-testid":"start-order-items",className:"sc-dlnjwi redBg headerBottom ".concat(Object(d.hb)(m===n.he,"plp-headBottom")),id:"start-order-component",children:Object(s.jsxs)("div",{className:"headBottomParent",children:[Object(s.jsx)("div",{className:"headBottomTxt ".concat(Object(d.hb)(m===n.he,"plp-headBottomTxt")),children:Object(i.translateWithI18Next)(O)}),h?Object(s.jsx)(r.a,{setLocationdata:j}):Object(s.jsx)(c.c,{onClick:()=>v(),variant:c.b.secondary,inverted:!0,role:"button","aria-label":"Start Order","data-testid":"set-location-buttonId",id:"startOrderItemButton",type:"button",children:Object(s.jsx)("span",{children:Object(i.translateWithI18Next)(b)})})]})})})}},1217:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(6),n=o(15),d=o(11),c=o(14),r=o(144),s=o(41),u=o(5),v=o(83),m=o(1133),O=o(4),b=o(403),j=o(1136),p=o(28),h=o(2);const{Error_Yellow:g}=n.a,{DEFAULT_IMAGE_PATH:I}=m.a,{VIEW_DETAILS:S,VALID_TO:N,REVEIW_CONDITION:C,GOT_IT_BUTTON:E,NO_IMAGE:T,EXPIRE_DATE:f}=O.a;t.a=e=>{var t,o,a,n;const{isDealModalOpen:m,handleClose:O,viewDetailsData:x,tenantId:D}=Object(u.sd)(e),{description:A}=Object(u.sd)(x),y=null===A||void 0===A?void 0:A.replace(/\n/g,"<br />"),{item:_}=Object(u.sd)(x),{imageName:R,validityEndTime:L,titleValue:P,termsAndConditions:w,legalText:M,hideEndDate:k}=Object(u.sd)(_),F=()=>null===w||void 0===w?void 0:w.map(((e,t)=>Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.message})},t))),{componentOptions:H}=null!==(t=Object(p.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)))&&void 0!==t?t:{},{detailsImagePath:U,useBucketSize:B}=(null===H||void 0===H||null===(o=H.web)||void 0===o?void 0:o.coupons)||{},W={id:"viewDetailsPopUp",role:"dialog",modalTitleId:"viewDetailsPopUp",show:{isProductModalOpen:m},classNames:"view-details-wrapper-modal white-background",showCloseBtn:!0,closeButtonHandler:O,modalTitle:Object(l.translateWithI18Next)(S),autoFocus:!0};return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsx)(r.a,{...W,"data-testid":"offers-deals-modal-testid",children:Object(h.jsxs)("div",{className:"view-details-wrapper",children:[_&&Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)("div",{className:"view-details-img",children:Object(h.jsx)(b.a,{srcFile:Object(j.c)({tenantId:D,useBucketSize:B,imagePath:U,imageName:R}),alt:Object(l.translateWithI18Next)(T),defaultPath:"".concat(Object(c.a)(d.Qb)).concat(D).concat(I),className:"veiw-detail-img-section"})}),Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("h5",{className:"delivery-content",children:P}),Object(h.jsxs)("div",{className:"view-details-small-text",children:[Object(h.jsx)("div",{children:!k&&"".concat(Object(l.translateWithI18Next)(null!==H&&void 0!==H&&null!==(a=H.coupons)&&void 0!==a&&a.YYYYMMDDWithSlash?f:N)," ").concat(Object(v.b)(L,null===H||void 0===H||null===(n=H.coupons)||void 0===n?void 0:n.YYYYMMDDWithSlash))}),Object(h.jsx)("div",{children:M})]}),(null===w||void 0===w?void 0:w.length)&&Object(h.jsx)("div",{className:"review-condition",children:Object(h.jsxs)("div",{className:"condition-wrapper",children:[Object(h.jsx)(b.a,{srcFile:g,className:"location-alert-icon"}),Object(h.jsx)("div",{className:"review-text",children:Object(l.translateWithI18Next)(C)})]})}),Object(h.jsx)("div",{className:"list-item",children:Object(h.jsx)(F,{})}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>O(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(l.translateWithI18Next)(E)})})})]})]}),A&&Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:y}}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>O(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(l.translateWithI18Next)(E)})})})]})]})})})}},1220:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o(41),o(3),o(28),o(1096),o(1115),o(1116),o(61),o(6),o(5),o(46),o(145),o(35),o(85),o(87),o(0),o(15),o(2);const a=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"}},1221:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(43),n=o(403),d=o(6),c=o(5),r=o(85),s=o(0),u=o(15),v=o(2);t.a=e=>{const{userOrderState:t}=i.a.useContext(r.a),{dispositionStateData:o={}}=t,{DISPOSITION_TYPE:m}=s.gd,{dispositionType:O=localStorage.getItem(m)}=o,{locationAlertProp:b,negativeScenarioAlertProp:j,isMobile:p,onPositionChangeHandler:h,centerIndex:g,isVisible:I,setShowCard:S,locationAlert:N,setStoreMarker:C=c.N,passAddress:E,storeCardHeight:T,latLongValue:f,isMarkerVisible:x=!0,style:D,defaultZoom:A=10,shouldShowMarkerWithText:y=O!==s.Df,useLatLngForReverseGeocode:_=!1,markerDragValue:R=!1,showLabelOnMapPin:L}=e,{PLACE_PIN:P}=l.a,{RedMarker:w,RedMarkerNoText:M,BlackMarker:k,ArrowIcon:F}=u.a,H=Object(a.useRef)(null),U=Object(a.useRef)(null),B=Object(a.useRef)([]),[W,G]=Object(a.useState)(!1),[V,Y]=Object(a.useState)(A),[z,q]=Object(a.useState)(f),[K,J]=Object(a.useState)(!1),[Q,X]=Object(a.useState)(g),Z=e=>Object(c.qd)(!I,I&&e===Q);Object(a.useEffect)((()=>{U.current=$(z),B.current=te(z)}),[Q]),Object(a.useEffect)((()=>{W||q(f)}),[f]),Object(a.useEffect)((()=>{if(B.current&&U.current){const e=U.current,t=B.current;z.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),B.current=te(z)),Array.isArray(z)&&z.length>0?(z.forEach(((e,o)=>{t[o]&&!Z(o)&&t[o].setPosition(e)})),e.setCenter(z[g])):(t[0]&&t[0].setPosition(z),e.setCenter(z))}}),[z,g]),Object(a.useEffect)((()=>{if(B.current&&U.current){B.current.forEach(((e,t)=>{t===Q?e.setIcon(ee()):e.setIcon(k)}))}}),[Q]);const $=e=>new window.google.maps.Map(H.current,{zoom:V,center:Array.isArray(e)&&e.length>0?e[g]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!p,gestureHandling:"greedy"}),ee=()=>y&&L?w:M,te=e=>{const t=new window.google.maps.Geocoder;let o=e;const a=U.current;I?(a.addListener("zoom_changed",(()=>{const e=B.current[g];e&&(C(e.internalPosition),S(!0)),J(!0)})),a.addListener("drag",(()=>{J(!0)}))):(a.addListener("drag",(()=>{R||(Y(null===a||void 0===a?void 0:a.getZoom()),o={lat:a.getCenter().lat(),lng:a.getCenter().lng()},B.current[0]&&B.current[0].setPosition(o))})),a.addListener("dragend",(function(){R||(Y(null===a||void 0===a?void 0:a.getZoom()),oe(t,a,o),G(!0))})));let i=(Array.isArray(o)&&o.length>0?o:[o]).map(((e,o)=>{const i=Z(o);let l=new window.google.maps.Marker({position:e,map:a,draggable:i&&R,visible:x,icon:i?ee():k});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){C(e.latLng),X(t),S(!0)}))})(l,o),R&&i&&((e,t,o)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var a,i;let l={lat:null===e||void 0===e||null===(a=e.latLng)||void 0===a?void 0:a.lat(),lng:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lng()};oe(o,t,l),G(!0)}))})(l,a,t),l}));return i};function oe(e,t,o){e.geocode({location:o},((e,t)=>{if(t===s.Ld){let t=((e,t)=>{let o=[];return e&&(o=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(s.ie)}))),Object(c.Rd)(o)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(s.ie))})):o})(_,e);var a;if(t[0])E(null===t||void 0===t||null===(a=t[0])||void 0===a?void 0:a.formatted_address,o)}}))}const ae=Object(c.Je)(p,!K,x,y);return Object(v.jsxs)(i.a.Fragment,{children:[!b&&((null===O||void 0===O?void 0:O.toUpperCase())!==s.Df||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.ad)(N,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(P)})})),ae&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.hb)(0===g,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.ad)(0===g,e.preventDefault(),h(0)),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(g===z.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>g===z.length-1?e.preventDefault():h(1),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:H,style:{height:"240px",...D}})]})}},1227:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(62),d=o(66),c=o(6),r=o(4),s=o(41),u=o(15),v=o(5),m=o(2);const O=i.a.createRef();var b=e=>{var t;const{onClickHandler:o,currencyConversionFactor:a,isDarkMode:i=!1,dataTestId:n,title:d,onEditOccasionName:s,itemId:b,itemName:j,showContent:p,setCurrentIndex:h,currentIndex:g,index:I}=e,{AccordianArrow:S,AccordianUpArrow:N,AccordianDownDark:C,AccordianUpDark:E}=u.a,T=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:f={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},x=e=>{h(Object(v.ad)(g!==I,I,null)),!p&&(null===o||void 0===o||o(b,T,f,O.current,a))};return Object(m.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(p?"account-accordian-open":""),ref:O,children:[Object(m.jsxs)("div",{className:"global-accordian-header-container",children:[Object(m.jsx)("span",{className:"global-accordian-header",children:d&&Object(m.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(m.jsx)("span",{className:"order-accordian-heading",children:d}),Object(m.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{s(b,j)},children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.EDIT_FAVORITE_NAME)})]})}),Object(m.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:i?Object(m.jsx)("img",{src:p&&E||C,onClick:x,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(m.jsx)("img",{src:p&&N||S,onClick:x,className:"global-accordian-arrow","data-testid":n,alt:""})})]}),p&&Object(m.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=o(46),p=o(412);o(414);var h=e=>{const{occassionOrder:t,tenantReducer:o,imageContainerSize:a,plpbackgroundImageData:l}=e,{currencySymbol:n,addHope:d,carryBag:c,currencyConversionFactor:r,taxAmountRoundOff:s}=o,{items:u}=t;let O=Object(p.k)(u,d,c);return Object(m.jsx)(i.a.Fragment,{children:null===O||void 0===O?void 0:O.map((e=>{var t;return Object(m.jsx)("div",{className:"account-accordian-details-section",children:Object(m.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(m.jsx)("div",{style:Object(v.mb)(l,a.width,a.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(m.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.qc)(e.content,a.width,a.height),alt:"No-Image",defaultPath:Object(v.bc)(e.imageName,o,!0)})}),Object(m.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(m.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(m.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.K)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:n,currencyConversionFactor:r},"",s)})]})]})})}))})},g=o(332),I=o(144);var S=e=>{const{onCancelHandler:t,onRemoveHandler:o}=e,{REMOVE:a,CANCEL:i,REMOVE_FROM_FAVMODAL_MSG:l}=r.a;return Object(m.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(m.jsx)("div",{className:"remove-message-section",children:Object(m.jsx)("p",{className:"remove-message",children:Object(c.translateWithI18Next)(l)})}),Object(m.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(m.jsx)(s.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(c.translateWithI18Next)(i)}),Object(m.jsx)(s.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:o,children:Object(c.translateWithI18Next)(a)})]})]})};var N=e=>{const{item:t,setIsModalOpen:o,tenantId:a,customerId:i,currentItemId:n}=e,d=Object(l.b)(),s=Object(m.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),O=Object(c.translateWithI18Next)(r.a.REMOVED_FROM_FAVORDERS),b=()=>{o(!1)},p={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:b,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(m.jsx)("div",{children:Object(m.jsx)(I.a,{...p,children:Object(m.jsx)(S,{onCancelHandler:b,setIsModalOpen:o,onRemoveHandler:e=>{var t,l,c;const r=null===(t=e.target)||void 0===t||null===(l=t.parentElement)||void 0===l||null===(c=l.parentElement)||void 0===c?void 0:c.parentElement;null!==r&&void 0!==r&&r.classList.contains("account-accordian-open")&&(null===r||void 0===r||r.classList.remove("account-accordian-open")),o(!1),(async(e,t,o)=>{await d(Object(g.b)({tenantId:e,customerId:t,itemId:o}))})(a,i,n),Object(v.Df)(O,s,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},C=o(1210),E=o(0),T=o(1184),f=o(85),x=o(16),D=o(9),A=o(55);var y=o(406);const _=(e,t,o,a,i)=>{var l,n,d,c;const{ACCOUNT_FAV_PAGE:r}=y.d;null!==a&&void 0!==a&&null!==(l=a.classList)&&void 0!==l&&l.contains("account-accordian-open")?null===a||void 0===a||null===(n=a.classList)||void 0===n||n.remove("account-accordian-open"):null===a||void 0===a||null===(d=a.classList)||void 0===d||d.add("account-accordian-open");const s=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===s||void 0===s?void 0:s.service;((e,t)=>{var o,a,i;Object(A.p)(null===D.a||void 0===D.a||null===(o=D.a.accountViewFavItemList)||void 0===o?void 0:o.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_name,items:e}}})})(null===s||void 0===s||null===(c=s.items)||void 0===c?void 0:c.map(((e,t)=>{var a;const{categoryId:l="NA",categoryName:n="NA"}=null!==(a=null===o||void 0===o?void 0:o[e.id])&&void 0!==a?a:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.jb)(Number(((null===e||void 0===e?void 0:e.price)/i).toFixed(E.gg)),0),item_category:n,item_list_name:r,item_list_id:l,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.jb)(null===s||void 0===s?void 0:s.couponCode,"NA"),discount:Object(v.jb)((null===s||void 0===s?void 0:s.discountTotal)/i,0),currency:E.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:o}=e,i=Object(l.b)(),O=Object(n.g)(),{userOrderState:j,userOrderStateDispatch:p}=Object(a.useContext)(f.a),[g,I]=Object(a.useState)(""),[S,D]=Object(a.useState)(""),y=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:R,phone:L}=Object(l.c)((e=>{var t;return Object(v.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:P,currencyConversionFactor:w}=Object(l.c)((e=>e.tenantReducer||{})),M=Object(l.c)((e=>e.tenantReducer)),{cartData:k}=Object(l.c)((e=>e.cartReducer||{})),[F,H]=Object(a.useState)(!1),[U,B]=Object(a.useState)(!1),[W,G]=Object(a.useState)(!1),[V,Y]=Object(a.useState)(!1),[z,q]=Object(a.useState)(null),{SingleArrowback:K,FavouriteActiveBlack:J}=u.a,{reorderFlag:{reorderModalOpen:Q=!1}}=j,[X,Z]=Object(a.useState)({}),{headerData:{plpBackgroundImage:$={}}={}}=Object(l.c)((e=>{var t;return Object(v.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.lb)($),{REORDER_MODAL_OPEN:oe,FROM_REORDER_MODAL_OPEN:ae,REORDER_STORE_CHANGED:ie}=x.a;Object(a.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const le=()=>{p({type:oe,value:{reorderModalOpen:!1}}),p({type:ae,value:{fromReorderFlag:!1}}),p({type:ie,value:{storeChanged:!1}})};Object(a.useEffect)((()=>()=>le()),[]);const ne=(e,t)=>{H(!0),e&&(I(e),D(t),B(!1),G(!1))};Object(a.useEffect)((()=>{((e,t,o,a)=>{if(e){const i={customerId:t,tenantId:e,phoneNumber:Object(v.Pc)(o),updateUserData:!0};a(Object(d.d)(i))}})(P,R,L,i)}),[i,P,R,L]);const[de,ce]=Object(a.useState)(null);return Object(m.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(m.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(m.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:K,alt:"back button"}),Object(m.jsx)("span",{className:"account-setting-text-header",children:Object(c.translateWithI18Next)(r.a.FAVOURITES)})]}),Object(m.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(m.jsx)("img",{src:J,className:"account-icon mr-2",alt:""}),Object(m.jsx)("span",{className:"page-heading",children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDER_AGAIN)})]}),!(null!==y&&void 0!==y&&y.length)&&Object(m.jsx)("div",{className:"no-occasion-container",children:Object(m.jsx)("p",{children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),y&&(null===y||void 0===y?void 0:y.map(((t,a)=>Object(m.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(m.jsxs)("section",{children:[Object(m.jsx)("section",{className:"account-accordian",children:Object(m.jsxs)(b,{onClickHandler:_,currencyConversionFactor:w,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:ne,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:H,currentIndex:de,setCurrentIndex:ce,index:a,showContent:de===a,children:[Object(m.jsx)(h,{occassionOrder:t,tenantReducer:M,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:o}),Object(m.jsx)("section",{className:"fav-menu-event",children:Object(m.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(m.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(m.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{Y(!0),q(null===t||void 0===t?void 0:t.id)},children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.REMOVE_FAVOURITES)})}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"global-accordian-right",children:Object(m.jsx)(s.a,{className:"button re-order-btn ".concat(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var o;Object(v.Hd)(null===t||void 0===t?void 0:t.service)?(o={...e,history:O},Object(v.Hd)(null===k||void 0===k?void 0:k.service)?Object(v.Re)(o):p({type:null===E.Qe||void 0===E.Qe?void 0:E.Qe.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===E.Ce||void 0===E.Ce?void 0:E.Ce.CATERING_PAGE,title:null===r.a||void 0===r.a?void 0:r.a.CATERING_NAVALERT_TITLE,contentMsg:null===r.a||void 0===r.a?void 0:r.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(A.o)(),Z(e),p({type:oe,value:{reorderModalOpen:!0}}),p({type:ae,value:{fromReorderFlag:!0}}),sessionStorage.setItem(E.gd.REORDER_CLICK,!0)})(t)},children:Object(m.jsx)("span",{children:Object(c.translateWithI18Next)(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?null===r.a||void 0===r.a?void 0:r.a.EXPLORE_CATERING:null===r.a||void 0===r.a?void 0:r.a.ORDER_AGAIN)})})})]})})]},a)}),V&&Object(m.jsx)(N,{item:t,setIsModalOpen:Y,isModalOpen:V,tenantId:P,customerId:R,itemId:null===t||void 0===t?void 0:t.id,currentItemId:z}),F&&Object(m.jsx)(T.a,{showOccassionModal:F,setOccassionModalOpen:H,occasionName:S,setOccasionName:D,editItemId:g,setEditItemId:I,hasEdit:!0})]})})))),Q&&Object(m.jsx)(C.a,{currentOrderInfo:X,reorderModalOpen:Q,closeButtonHandler:le,source:E.xe.ACCOUNT_FAVOURITES})]})}},1228:function(e,t,o){"use strict";var a=o(27),i=o(56),l=o(191),n=o.n(l),d=o(3),c=o.n(d),r=o(237),s=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],v=c.a.forwardRef((function(e,t){var o=e.bsPrefix,l=e.className,d=e.noGutters,v=e.as,m=void 0===v?"div":v,O=Object(i.a)(e,s),b=Object(r.a)(o,"row"),j=b+"-cols",p=[];return u.forEach((function(e){var t,o=O[e];delete O[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=o&&"object"===typeof o?o.cols:o)&&p.push(""+j+a+"-"+t)})),c.a.createElement(m,Object(a.a)({ref:t},O,{className:n.a.apply(void 0,[l,b,d&&"no-gutters"].concat(p))}))}));v.displayName="Row",v.defaultProps={noGutters:!1},t.a=v},1233:function(e,t,o){"use strict";var a=o(27),i=o(56),l=o(191),n=o.n(l),d=o(3),c=o.n(d),r=o(237),s=["bsPrefix","className","as"],u=["xl","lg","md","sm","xs"],v=c.a.forwardRef((function(e,t){var o=e.bsPrefix,l=e.className,d=e.as,v=void 0===d?"div":d,m=Object(i.a)(e,s),O=Object(r.a)(o,"col"),b=[],j=[];return u.forEach((function(e){var t,o,a,i=m[e];if(delete m[e],"object"===typeof i&&null!=i){var l=i.span;t=void 0===l||l,o=i.offset,a=i.order}else t=i;var n="xs"!==e?"-"+e:"";t&&b.push(!0===t?""+O+n:""+O+n+"-"+t),null!=a&&j.push("order"+n+"-"+a),null!=o&&j.push("offset"+n+"-"+o)})),b.length||b.push(O),c.a.createElement(v,Object(a.a)({},m,{ref:t,className:n.a.apply(void 0,[l].concat(b,j))}))}));v.displayName="Col",t.a=v},1234:function(e,t,o){"use strict";o.d(t,"c",(function(){return v})),o.d(t,"b",(function(){return m})),o.d(t,"d",(function(){return O})),o.d(t,"a",(function(){return b}));var a=o(1105),i=o.n(a),l=o(394),n=o(6),d=o(4),c=o(5),r=o(12),s=o(0),u=o(2);function v(e){var t,o;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=Object(r.s)(null===e||void 0===e?void 0:e.day,"DD");return Object(u.jsxs)("span",{className:a&&+Object(r.u)()===+l?"row-highlight":null,children:[Object(n.translateWithI18Next)(i()(null===e||void 0===e?void 0:e.day))," ",a&&Object(r.s)(null===e||void 0===e?void 0:e.day),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})}const m=e=>{var t,o;return Object(u.jsxs)(u.Fragment,{children:[Object(n.translateWithI18Next)(i()(null===e||void 0===e?void 0:e.dayOfWeek)),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.endTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})};function O(e){var t,o,a,i;let c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const m=Object(r.s)(null===e||void 0===e?void 0:e.day,"DD"),O=v?s.sb.HH_mm:s.sb.H_MM_AA;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)!==Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)||(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.to)!==Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(u.jsxs)("p",{className:c&&+Object(r.u)()===+m?"row-highlight":null,children:[Object(l.j)(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.from,O)," - ",Object(l.j)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.to,O)]}):Object(u.jsx)("p",{children:Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED)})}const b=e=>{var t,o,a,i;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.endTime)===Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(n.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED):"".concat(Object(l.j)(Object(c.z)(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.startTime))," - ").concat(Object(l.j)(Object(c.z)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.endTime)))}},1237:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(264),n=o(28),d=o(73),c=o(6),r=o(35),s=o(236),u=o(92),v=o(15),m=o(85),O=o(5),b=o(1136),j=o(86),p=o(1153),h=o(52),g=o(428),I=o(4),S=o(1096),N=o(1214),C=o(1215),E=o(1216),T=o(1115),f=o(1116),x=o(0),D=o(16),A=o(1133),y=o(1217),_=o(1190),R=o(46),L=o(63),P=o(61),w=o(132),M=o(80),k=o(2);const{ANALYTICS_EVENTS:F}=P.a;t.a=e=>{var t,o,P,H,U,B,W,G,V,Y;const{page:z,isMobile:q,onClickScroll:K}=e,{PROMOS_REWARDS:J,MEMBERS_ONLY:Q,VIEW_ALL_PROMOS:X,CANCEL:Z,PROMO_REMOVE_CONFIRMATION:$,PROMO_SUCCESS_TOAST_MESSAGE:ee,PROMO_REMOVE_TOAST_MESSAGE:te,YES_REMOVE:oe}=I.a,{COUPON_MULTI_PRODUCT:ae}=h.a,{StripesIcon:ie,ViewDetailsArrowBlack:le,tickWhiteToast:ne,TimerRibbonRedOutlined:de,TimerIcon:ce}=v.a,{CAROUSAL_CONFIG:re,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:se,SILCK_RESPONSIVE_PROPERTY:ue}=A.a,{SPEED:ve,SLIDES_TO_SHOW:me,SLIDES_TO_SCROLL:Oe}=re,{DISPOSITION_DATA:be,clearCartChangeFlag:je,orderTypeAlertTitle:pe,SHOW_CLEAR_CART_ALERT:he,CLEAR_CART_CONFIRM_CANCEL_MODAL:ge}=D.a,Ie=Object(w.a)(),Se=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:Ne,localized:Ce}=Se,[Ee,Te]=Object(a.useState)([]),[fe,xe]=Object(a.useState)(!1),[De,Ae]=Object(a.useState)(!1),[ye,_e]=Object(a.useState)({}),[Re,Le]=Object(a.useState)(null),[Pe,we]=Object(a.useState)({}),[Me,ke]=Object(a.useState)(!1),[Fe,He]=Object(a.useState)(!1),[Ue,Be]=Object(a.useState)("null"),We=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ge="",componentOptions:Ve={},allowMultipleCoupon:Ye,showRevampedRewards:ze,showOnlineCouponsNonLocalizedUsers:qe}=We,Ke=Object(O.ud)(null===Ve||void 0===Ve||null===(t=Ve.web)||void 0===t||null===(o=t.coupons)||void 0===o?void 0:o.sendViewAllDealsEvent),Je=Object(n.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{showPromoRewardsMessage:Qe=!1,navigateToPromosPage:Xe}=null===Ve||void 0===Ve||null===(P=Ve.web)||void 0===P?void 0:P.cartPage,Ze=null===Ve||void 0===Ve||null===(H=Ve.routes)||void 0===H||null===(U=H.Home)||void 0===U||null===(B=U.offersAndDeals)||void 0===B?void 0:B.shouldCheckLocalization,$e=Object(n.c)((e=>e.profileReducer)),{applicableCoupons:et=[],cartData:tt={}}=Je,{discountLines:ot=[]}=tt||{},{userOrderState:at,userOrderStateDispatch:it}=Object(a.useContext)(m.a),lt=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),nt=Object(n.b)(),dt=Object(p.a)(at),ct=Object(a.useMemo)((()=>{var e;return{dispositionType:null!==dt&&void 0!==dt&&dt.type?Object(O.Mb)(dt.type):Object(O.Mb)(null===We||void 0===We||null===(e=We.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[dt,We]),{dispositionType:rt}=ct,[st,ut]=Object(a.useState)(0),[vt,mt]=Object(a.useState)(0),[Ot,bt]=Object(a.useState)(0),[jt,pt]=Object(a.useState)("");let ht={};const gt=i.a.useRef(null),[It,St]=Object(a.useState)(0),Nt=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.getCouponLoading})),[Ct,Et]=Object(a.useState)(!0),Tt=()=>{Ae(!1)},ft=(e,t)=>{_e({item:null===e||void 0===e?void 0:e.item,titleValue:null===e||void 0===e?void 0:e.titleValue,promoParams:null===e||void 0===e?void 0:e.promoParameters,priceDetails:null===e||void 0===e?void 0:e.priceDetails}),Le(t),nt(Object(r.v)({showProductListingModal:!0})),it({type:ae,value:{fromCouponSection:!0}}),ke(!0)},xt=e=>{we({item:null===e||void 0===e?void 0:e.item}),xe(!0)},Dt=e=>{const t=(null===e||void 0===e?void 0:e.couponCode)||"";Ae(!0),pt(t)},At={dots:!1,infinite:!1,speed:ve,slidesToShow:me,slidesToScroll:Oe,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(k.jsx)(T.a,{clickNextCard:()=>{if(vt<Ee.length-1){let e;e=vt+Oe>Ee.length-me-1?Ee.length-me:vt+Oe,mt(e),gt.current.slickGoTo(e)}}}),prevArrow:Object(k.jsx)(f.a,{clickPrevCard:()=>{vt>0&&(mt(vt-Oe),gt.current.slickGoTo(vt-Oe))}}),beforeChange:(e,t)=>ut(t),afterChange:(e,t)=>mt(e),variableWidth:!0,accessibility:!0,responsive:ue};Object(a.useLayoutEffect)((()=>{const e=()=>{const[e,t]=Object(O.de)(window.innerWidth)?[287,20]:[347,.1*window.innerWidth],o=window.innerWidth-t;let a=Math.ceil(o/e);return 1===a&&(a+=1),a},t=()=>{bt(e()),St(window.innerWidth)};window.addEventListener(x.ye,t),t()}),[]),Object(a.useEffect)((()=>{if(et.length>0){const e=Object(b.b)(Ne,Object(b.f)(et,We));yt(e,Ue)}else{if(!Ee.length){const e=Object(b.b)(Ne,[],Nt);Te(e)}Et(Object(O.ad)(Object(O.jb)(Ee.length,et.length),!1,!0))}}),[et,Ee.length]),Object(a.useEffect)((()=>{Ce&&Ge&&(null===dt||void 0===dt?void 0:dt.basketId)!==(null===tt||void 0===tt?void 0:tt.id)?(pt(""),Be("null"),Rt()):(!Ce&&!Ze||qe)&&(Ne?(null===$e||void 0===$e?void 0:$e.customerId)&&nt(Object(r.j)({tenantId:Ge,userId:null===$e||void 0===$e?void 0:$e.customerId})):nt(Object(r.k)({tenantId:Ge})))}),[Ce,Ne,null===tt||void 0===tt?void 0:tt.id,null===tt||void 0===tt||null===(W=tt.customer)||void 0===W?void 0:W.id,Ge,null===dt||void 0===dt||null===(G=dt.store)||void 0===G?void 0:G.id,null===dt||void 0===dt?void 0:dt.type]),Object(a.useEffect)((()=>{var e,t;null!==lt&&void 0!==lt&&null!==(e=lt.foodLines)&&void 0!==e&&e.length||null!==lt&&void 0!==lt&&null!==(t=lt.discountLines)&&void 0!==t&&t.length||(localStorage.removeItem(x.gd.ADD_TO_ORDER),pt(""),Be("null"))}),[null===lt||void 0===lt||null===(V=lt.foodLines)||void 0===V?void 0:V.length,null===lt||void 0===lt||null===(Y=lt.discountLines)||void 0===Y?void 0:Y.length]),Object(a.useEffect)((()=>{if("null"!==Ue){var e;Rt();let t=Ue?Object(c.translateWithI18Next)(ee):Object(c.translateWithI18Next)(te);(null===at||void 0===at||null===(e=at.searchStoreData)||void 0===e||!e.showSearchStore)&&_t(t)}if((null===ot||void 0===ot?void 0:ot.length)>0&&!jt){var t;let e=null===ot||void 0===ot||null===(t=ot[0])||void 0===t?void 0:t.couponCode;pt(e)}}),[null===ot||void 0===ot?void 0:ot.length]);const yt=(e,t)=>{ht={};for(let i=0;i<(null===ot||void 0===ot?void 0:ot.length);i++){var o;let e=null===(o=ot[i])||void 0===o?void 0:o.couponCode;ht[e]=e}Object.keys(ht).length>0?localStorage.setItem(x.gd.ADD_TO_ORDER,JSON.stringify(ht)):localStorage.removeItem(x.gd.ADD_TO_ORDER);for(let i in ht){let t=ht[i];e=e.map((e=>e.couponCode===t?{...e,isApplied:!0}:e))}Te(e);const a=e.some((e=>e.isApplied&&!e.employeePromotion));!Ye&&He(a),Et(Object(O.ad)(Object(O.jb)(Ee.length,et.length),!1,!0))},_t=e=>{let t=Object(k.jsx)(R.a,{srcFile:ne});Object(O.Df)(e,t,"promos-rewards-toast promos-rewards-toast-pos",1e3)},Rt=()=>{var e;const{customerId:t}=L.a.getInstance();Ce&&null!==tt&&void 0!==tt&&tt.id&&t===(null===tt||void 0===tt||null===(e=tt.customer)||void 0===e?void 0:e.id)&&nt(Object(r.h)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge}))},Lt=()=>{nt(Object(d.u)()),it({type:be,value:{showDisposition:!0}}),localStorage.setItem(x.gd.RETAIN_ADDRESS,""),localStorage.setItem(x.gd.SET_LOCATION,!0),pt(null===e||void 0===e?void 0:e.couponCode)},Pt=t=>{e.history.push({pathname:null===x.Ce||void 0===x.Ce?void 0:x.Ce[null===t||void 0===t?void 0:t.toUpperCase()]}),Ke&&Object(g.c)({event:"viewAllDeals"})},wt=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(b.e)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(k.jsxs)("span",{"data-testid":"promos-time-block",className:"promos-time-block",children:[Object(k.jsx)("img",{className:"promos-time-icon",src:ce,alt:"Timer Icon"}),Object(k.jsx)(N.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.he&&"plp-promosRibbon-container"),children:[Object(k.jsx)(l.a,{src:de,className:"promos-ribbon timer"}),Object(k.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.he&&"plp-promosRibbon-container"),children:[Object(k.jsx)("div",{className:"angle-down"}),Object(k.jsx)("span",{className:"ribbon-text-svg",children:Object(b.h)(t)})]})}},Mt=e=>{const t=null===e||void 0===e?void 0:e.couponCode;nt(Object(r.b)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge},{couponCode:t})),Be(!0),pt(t)},kt=(t,o)=>{const a=null===t||void 0===t?void 0:t.couponCode;z===x.he?K():e.history.push({pathname:Object(O.ad)(Object(O.Hd)(rt),null===x.Ce||void 0===x.Ce?void 0:x.Ce.CATERING_PAGE,"".concat(x.Ce.MENU_PAGE)),isStartOrderClick:!0}),Ke&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:a})},Ft=t=>{const o=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:x.Ce.CART}),Ke&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:o})},Ht=e=>{var t;if((null===lt||void 0===lt||null===(t=lt.foodLines)||void 0===t?void 0:t.length)>0){let e={flag:je,onConfirm:pe};Object(O.Fe)(it,e,he,ge)}else it({type:be,value:{showDisposition:!0}})};return Qe&&!ze&&Object(k.jsxs)("div",{id:"promosRewards",className:"promos-container ".concat(Object(O.ad)(Object(O.hb)(z===x.he,Ce),"plp-promos-container","")," ").concat(Object(O.ad)(Object(O.hb)(Ct,Ce),"plp-promos-loading","")),"data-testid":"promos-container-test",children:[Object(k.jsxs)("div",{className:"promosCard-container grid-container ".concat(Object(O.hb)(z===x.he,"plp-promosCard-container")," ").concat(Object(O.hb)(z===x.he,Ce)&&"plp-promocard"),"data-testid":"promosCard-container-test",children:[z!==x.he&&Object(k.jsx)("div",{className:"promos-Icon",children:Object(k.jsx)(l.a,{src:ie})}),Object(k.jsxs)("div",{className:"promosContainerHeader-items ".concat(Object(O.hb)(z===x.he,"plp-promosContainerHeader-items")),children:[Object(k.jsx)("h2",{className:"promosContainer-header","data-testid":"plp-promo-name",children:Object(c.translateWithI18Next)(J)}),Ce&&!Ne&&Object(k.jsx)("div",{className:"promosHeader-text","data-testid":"plp-members-only",children:Object(c.translateWithI18Next)(Q)}),Ce&&Object(O.jb)(!q,z!==x.he)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"view-all-text ".concat(z===x.he&&"plp-view-all-promo-link"),children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(c.translateWithI18Next)(X)}),Object(k.jsx)(l.a,{className:"promosViewAlldeals-arrow",src:le})]})}),Object(O.hb)(q,Ce)&&z===x.he&&Object(k.jsxs)("div",{className:"plp-card-count",children:[vt+1,"/",Ee.length]})]}),(Ce||!Ze||qe)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"promosCard-list",children:[Ct&&Object(k.jsx)("div",{className:"placeholder",children:Array(3).fill().map((()=>Object(k.jsxs)("div",{className:"table store-card-container",children:[Object(k.jsx)("div",{className:"loading card-title shorter-s"}),Object(k.jsx)("div",{className:"loading table-content"}),Object(k.jsx)("div",{className:"loading table-content"})]})))}),Object(O.hb)(Ee.length,!Ct)&&Object(k.jsx)("div",{className:"promosCarousal-list ".concat(Object(O.hb)(z===x.he,"plp-promosCarousal-list")),children:Object(k.jsx)(S.b,{settings:At,carousalRef:gt,children:(Ut=Ee,null===Ut||void 0===Ut?void 0:Ut.map(((e,t)=>{const{couponCode:o,smallText:a,titleValue:i,imageName:l,validityEndTime:n,promoParameters:d,itemDetails:c}=e,r=null===c||void 0===c?void 0:c.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));return Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"slick-slide offers-deals-card-container ".concat(Object(O.hb)(z===x.he,"plp-slick-slide")),children:Object(k.jsxs)("div",{className:"promos-card ".concat(t===vt+Ot-1&&"offersCard-fade lastOffersCard-fade"," ").concat(z===x.he&&"plp-promo-card"," ").concat(!wt(e)&&Object(O.hb)(z===x.he,"overflow-class")),children:[wt(e),Object(k.jsx)(C.a,{"data-testid":"promos-rewards-card",loggedIn:Ne,localized:Ce,couponCode:o,smallText:a,titleValue:i,imageName:l,item:e,promoParameters:d,priceDetails:r,validityEndTime:n,tenantId:Ge,setModal:xe,setViewDetailsHandler:xt,setConfirmationModal:Dt,showMultiProductModal:ft,dispositionType:rt,addToOrderClickHandler:Mt,startOrderClickHandler:kt,promosApplied:Fe,basketData:tt,setViewCartHandler:Ft,setDispositionHandler:Ht,createSignInURL:j.c,page:z,setLocationClickHandler:Lt,setAlertPopupCouponCode:pt,setIsAppliedInApplicableCoupon:yt})]})})},t)})))})}),Object(O.hb)(Ee.length>se,!Ct)&&Object(k.jsx)("div",{className:"promos-slideContainer ".concat(Object(O.hb)(z===x.he,"plp-promos-slideContainer")),children:Object(k.jsx)("input",{className:"promos-slider",type:"range","data-testid":"promo-slider-id",min:"0",max:Ee.length-me,value:st,id:"myRange",onChange:e=>{ut(e.target.value),gt.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),Object(O.hb)(q,z===x.he)&&Object(k.jsxs)("div",{className:"view-all-text plp-view-all-promo-text",children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(c.translateWithI18Next)(X)}),Object(k.jsx)(l.a,{className:"promosViewAlldeals-arrow",src:le})]})]})]}),!Ce&&Ze&&Object(k.jsx)(E.a,{"data-testid":"promos-banner-id",setLocationClickHandler:Lt,page:z}),fe&&Object(k.jsx)(y.a,{history:e.history,"data-testid":"view-details-modalId",tenantId:Ge,viewDetailsData:Pe,handleClose:()=>{xe(!1)}}),Object(O.hb)(Me,It)&&Object(k.jsx)(_.a,{"data-testid":"multi-product-modalId",viewProductEvent:Re,history:e.history,tenantId:Ge,viewProductCardData:ye,handleClose:()=>{ke(!1),nt(Object(r.v)({showProductListingModal:!1})),Ie(Object(M.c)({key:x.gd.VIEW_PRODUCT})),it({type:ae,value:{fromCouponSection:!1}})},imageContainerSize:It,addToOrderClickHandler:Mt,cartReducer:Je,setAlertPopupCouponCode:pt}),De&&Object(k.jsx)(s.a,{"data-testid":"remove-promo-modal",handleClose:Tt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(k.jsx)(u.a,{splitTitle:{MSGTXT1:"".concat(Object(c.translateWithI18Next)($))},imageSrc:v.a.CartError,confirmButtonText:Object(c.translateWithI18Next)(oe),cancelButtonText:Object(c.translateWithI18Next)(Z),confirmHandler:(e,t)=>{jt&&(nt(Object(r.p)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge,couponCode:jt})),Tt(),Be(!1))},cancelHandler:Tt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})})]});var Ut}},1238:function(e,t,o){"use strict";o(3);var a=o(1268),i=o.n(a),l=o(2);t.a=e=>{let{children:t,disabled:o,onClick:a,theme:n="dark"}=e;return Object(l.jsx)("div",{onClick:()=>!o&&a?a():"",style:{color:o?"#A6A6A7":"",pointerEvents:o?"none":"auto"},className:"".concat(i.a.option," ").concat(i.a[n]),children:t})}},1239:function(e,t,o){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1240:function(e,t,o){},1243:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(28),n=o(62),d=o(1163),c=o(108),r=o.n(c),s=o(1115),u=o(1116),v=o(1096),m=o(145),O=o(16),b=o(1118),j=o(85),p=o(1130),h=o(975),g=o(55),I=o(1159),S=o(2);var N=e=>{const{DISPOSITION_DATA:t=""}=O.a,{userOrderState:o,userOrderStateDispatch:l}=Object(a.useContext)(j.a)||{};return Object(a.useEffect)((()=>{l({type:t,value:{showDisposition:!0}})}),[]),Object(S.jsx)(i.a.Fragment,{children:Object(S.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(S.jsx)(p.a,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(S.jsx)(h.SearchStoreModule,{onStoreSelectFinish:g.y}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrderCatering)&&Object(S.jsx)(I.a,{onStoreSelectFinish:g.y})]})})},C=o(5),E=o(1239);var T=()=>{var e,t,o,a;const{DISPOSITION:i}=E.a;let n=null,d=null,c=Object(l.c)((e=>e.appStateReducer.userStatus));const r=Object(l.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};n=Object(C.fc)(r.homePageContent)||null,d=Object(C.Yc)(e)}return Object(S.jsx)(N,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[i])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(o=null===(a=n)||void 0===a?void 0:a[i])&&void 0!==o?o:{}},userParams:c,tenantReducerData:r.tenantReducerContent})},f=o(35),x=o(132),D=o(80),A=o(396),y=o(262),_=o(0),R=o(1133),L=o(61),P=o(73),w=o(434),M=o(236),k=o(92),F=o(6),H=o(15),U=o(4),B=o(1153),W=o(144),G=(o(41),o(397)),V=o(1095),Y=o(46),z=o(20),q=o.n(z),K=o(1168);const J=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Q=(e,t,o)=>e?Object(S.jsx)(Y.a,{"data-testid":"",className:"indulgentaddOns-card-image-global",defaultPath:Object(C.bc)(null,t,!0),srcFile:Object(C.qc)(e,o.containerWidth,o.containerWidth)}):null;var X=e=>{var t,o,n,d,c,r,s,u,v;const{isMobile:m,openIndulgentModal:O,handleClose:b,removeItemCart:p,IndulgentData:h,modalTitle:g,continueButtonText:I,productId:N="",ruleNameDetails:E={}}=e,T={containerHeight:165,containerWidth:768},{ruleName:f,recommendationType:x=""}=E,{INDULGENT_ADD_ON:D}=L.a,{userOrderState:A}=Object(a.useContext)(j.a),y=Object(l.b)(),{cartReducer:R,userParams:P,tenantReducer:w,storesReducer:M,menuReducer:k,marketConfigReducer:H}=Object(l.c)((e=>{var t,o;return{cartReducer:e.cartReducer||{},userParams:(null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(o=e.marketConfigReducer)||void 0===o?void 0:o.response}})),{couponCode:U,discountTotal:B}=Object(C.zb)(null===R||void 0===R?void 0:R.cartData),{headerData:{pdpBackgroundImage:Y={}}={}}=H,z=Object(C.lb)(Y),{flatResponse:X={}}=k||{},Z=(null===M||void 0===M||null===(t=M.storesWithStatus)||void 0===t?void 0:t.length)&&(null===M||void 0===M||null===(o=M.storesWithStatus[0])||void 0===o||null===(n=o.summary)||void 0===n?void 0:n.timeZoneIANA),{loggedIn:$,localized:ee}=P,te=(oe=A,q()(oe.dispositionNew)?JSON.parse(localStorage.getItem(_.gd.DISPOSITION_NEW)):oe.dispositionNew);var oe;var ae;const ie=((e,t)=>{var o,a,i,l,n;return(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(a=o.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n?void 0:n.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((ae=te)?ae.store:{},w),le=null===w||void 0===w||null===(d=w.componentOptions)||void 0===d||null===(c=d.web)||void 0===c||null===(r=c.global)||void 0===r?void 0:r.pricewithNumberofDecimalDigit,[ne,de]=Object(a.useState)(0),[ce,re]=Object(a.useState)(0),[se,ue]=Object(a.useState)(1),ve=null===w||void 0===w||null===(s=w.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.cartPage)||void 0===v?void 0:v.showIndulgentSectionView,me=i.a.useRef(null),Oe={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:O,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==R&&void 0!==R&&R.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:b,modalTitle:Object(F.translateWithI18Next)(g),autoFocus:!0},be=Object(G.n)(m),je={INDULGENT_ADD_ON:D,IndulgentData:h,isMobile:m,recommendationType:x,ruleName:f,productId:N,userType:Object(C.od)(ee,$),flatResponse:X,catalogs:ie,tenantReducer:w,cartReducer:R,dispatch:y,indulgentAddToCartHandler:G.u,rangeValue:ne,updateRangeValue:de,currentSlide:ce,updateCurrentSlide:re,caroselCount:se,setCaroselCount:ue,carousal:me,setPrevArrowCSS:J,couponCode:U,discountTotal:B};return ve?Object(K.a)(je):Object(S.jsx)("div",{className:"cart-indulgent-global",children:O&&!p&&ee&&Object(S.jsx)(W.a,{...Oe,children:Object(S.jsx)("div",{className:"indulgent-container-global",children:Object(S.jsx)("div",{className:"indulgent-card-list-global",children:null===h||void 0===h?void 0:h.map(((t,o)=>{var a,i;return Object(S.jsxs)("div",{style:Object(C.mb)(z,be.cardWidth,be.cardHeight),className:"indulgent-card-global","data-testid":"indulgent-item-card-".concat(o),onClick:o=>{o.preventDefault(),o.stopPropagation(),(t=>{var o,a;localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(C.xc)(t.categoryUrl,null===t||void 0===t?void 0:t.url,null===(o=e.history)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.pathname)})})(t)},children:[Q(null===t||void 0===t?void 0:t.content,w,T),Object(S.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(S.jsx)("div",{className:"indulgent-card-header-global",children:null===t||void 0===t||null===(a=t.dname[0])||void 0===a?void 0:a.value}),Object(S.jsxs)("div",{className:"indulgent-card-price-global",children:[null===w||void 0===w?void 0:w.currencySymbol,Object(C.Ec)((i=null===t||void 0===t?void 0:t.availability,i.length>1?Object(V.k)(i,Z):i[0]),null===w||void 0===w?void 0:w.currencyConversionFactor,Z).toFixed(le)]})]})]},null===t||void 0===t?void 0:t.id)}))})})})})},Z=o(211);const{CAROUSAL_CONFIG:$}=R.a,{SLIDES_TO_SHOW:ee,SLIDES_TO_SCROLL:te}=$,{ADD_TO_CART:oe,INDULDENT_ADD_ON_MSG:ae,INDULDENT_ADD_ONS_HEADING:ie,CONTINUE:le}=U.a,ne={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:_.G},de=(e,t)=>!!e.length&&e.map((e=>t(e))),ce=(e,t,o)=>{var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:o}},re=(e,t,o)=>e&&(null===t||void 0===t?void 0:t.length)>0&&Object(S.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:o()}),se=e=>{const{cardType:t,caroselCount:o,productList:a,settings:i,cardRenderer:l}=e;return Object(S.jsx)(S.Fragment,{children:"carousal"===t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"individual-card-counter",children:[o,"/",a.length]}),Object(S.jsx)(v.b,{settings:i,children:de(a,l)})]}):de(a,l)})},ue=e=>{const{searchMode:t,isMobileView:o,localizationFlow:a,carousal:i,productList:l,cardRenderer:n,caroselCount:d,currentSlide:c,updateCurrentSlide:r,setCaroselCount:m,cardType:O,serviceType:b}=e,j={...ne,nextArrow:Object(S.jsx)(s.a,{clickNextCard:()=>{if(c<l.length-1){let e;e=c+te>l.length-ee-1?l.length-ee:c+te,r(e),i.current.slickGoTo(e)}}}),prevArrow:Object(S.jsx)(u.a,{clickPrevCard:()=>{c>0&&(r(c-te),i.current.slickGoTo(c-te))}}),afterChange:(e,t)=>r(e),beforeChange:(e,t)=>{m(Math.round(t+1))},variableWidth:!1};return Object(S.jsx)(S.Fragment,{children:null!==t&&void 0!==t&&t.isSearchedMode&&!o?Object(S.jsxs)("div",{className:"product-container product-slider-container",children:[a&&Object(S.jsx)(T,{}),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"product-slider",children:Object(S.jsx)(v.b,{settings:j,carousalRef:i,children:de(l,n)})})})]}):Object(S.jsxs)("div",{className:"product-container ".concat(b),children:[a&&Object(S.jsx)(T,{}),se({cardType:O,caroselCount:d,productList:l,settings:j,cardRenderer:n})]})})};t.a=Object(n.j)((e=>{var t,o,c,s,u,v,p,h,g;const{productList:I=[],cardType:N="",tenantData:E={},categoryId:T,catalogs:R,storeClosedData:W,setShowTopScrollBtn:V,isMobileView:Y,searchMode:z,viewUp:q,isNavigating:K}=e,{VIEW_MENU:J,STORE_TEXT:Q,STORE_CLOSED_TEXT:$,CHANGE:ee,CATERING_STORE_CLOSED_MSG:te}=U.a,{QUANTITY_ACTION:ne}=L.a,{ADD_TO_CART_CLICK:de,PLP_PDP_DETAILS:se,MINI_PDP_DATA:ve,FROMFLAGPLP:me,CLOSED:Oe,NOT_WITHIN_OPERATING_HOURS:be,STORE_NOT_ALIVE:je,SCHEDULE_ORDER_DATA:pe,DOORDASH_NOT_SERVICEABLE:he,UPDATE_MENU_UPESLL_ADDONS_ID:ge,UPDATE_MENU_UPESLL_ADDONS_CONFIGS:Ie}=O.a,{PlpProductCard:Se={},web:Ne={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{showGenericMenuForNonLocalizedUsers:Ce=!1}=null===e||void 0===e?void 0:e.tenantData,{shouldCheckDropOffAddress:Ee=!1}=Ne,{RESET_MODGROUP_IDS_UPDATE:Te,UPSELL:fe}=y.a,{plpWarningMsg:xe=!1}=Se,[De,Ae]=Object(a.useState)(1),ye=Object(l.b)(),_e=i.a.useRef(null),Re=Object(l.c)((e=>e.cartReducer)),Le=Object(l.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),Pe=Object(l.c)((e=>e.tenantReducer)),{categories:we=[]}=Le||{},{cartData:Me={}}=Object(C.sd)(Re),{discountTotal:ke,couponCode:Fe}=Object(C.zb)(Me),He=null===Me||void 0===Me||null===(o=Me.requestedDateTime)||void 0===o?void 0:o.isForNow,Ue=null===Me||void 0===Me||null===(c=Me.requestedDateTime)||void 0===c?void 0:c.futureDateTime,Be=Object(l.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),We=Object(C.od)(null===Be||void 0===Be?void 0:Be.localized,null===Be||void 0===Be?void 0:Be.loggedIn),[Ge,Ve]=Object(a.useState)(e.selectedCat),[Ye,ze]=Object(a.useState)(!1),{userOrderState:qe,userOrderStateDispatch:Ke}=Object(a.useContext)(j.a),Je=Object(B.a)(qe),Qe=Object(l.c)((e=>{var t;return(null===(t=e.storesReducer)||void 0===t?void 0:t.storesWithStatus)||[]})),[Xe,Ze]=Object(a.useState)(!1),[$e,et]=Object(a.useState)(null),[tt,ot]=Object(a.useState)(0),[at,it]=Object(a.useState)(null),{headerData:{plpBackgroundImage:lt={},plpEventBackgroundImage:nt={}}={}}=Object(l.c)((e=>{var t;return Object(C.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),{enableUpsellItemsModalInPLP:dt=!1,componentOptions:ct}=Object(l.c)((e=>e.tenantReducer||{})),rt=null===ct||void 0===ct||null===(s=ct.plp)||void 0===s?void 0:s.isAddonsAndUpsellEnabled,st=Object(C.Mb)(null!==(u=null===Je||void 0===Je?void 0:Je.type)&&void 0!==u?u:null===Pe||void 0===Pe||null===(v=Pe.authoredContent)||void 0===v?void 0:v.defaultdisposition),ut=Object(n.h)(),vt=Object(C.Vd)(null===Je||void 0===Je?void 0:Je.type)|(Object(C.Wd)(ut.pathname)&&(null===ct||void 0===ct||null===(p=ct.web)||void 0===p||null===(h=p.plp)||void 0===h?void 0:h.showEventBackgroundImage))?nt:lt,mt=Object(C.lb)(vt),Ot=Object(x.b)(D.b),{specialEventItemAvailability:bt}=Object(l.c)((e=>e.specialEventReducer||{})),[jt,pt]=Object(a.useState)(!1),[ht,gt]=Object(a.useState)({}),[It,St]=Object(a.useState)([]),{menuReducer:{exclusionsResponse:Nt=[]}={}}=Object(l.c)((e=>e)),{NA:Ct}=y.a,{ADDONS:Et}=Z.MENU_PLP_CONSTANT;Object(a.useEffect)((()=>{ze(!1)}));const{addToCartAnalyticsOnly:Tt}=Object(b.a)({cartId:null===Me||void 0===Me?void 0:Me.id},null===E||void 0===E?void 0:E.tenantId,void 0,void 0,we,void 0,ye,void 0,void 0,E.currencyShortName),ft=(e,t,o,a,i,l,n)=>{null===e||void 0===e||e.stopPropagation(),rt&&t&&Ke({type:ge,value:t}),it(t);const d=r()(t)?null===t||void 0===t?void 0:t.id:t;if(Be.localized){if(o)Ve(a),Ke({type:ve,value:{id:d,flag:me,foodLineId:""}}),Ke({type:Te}),ye(Object(m.c)({tenantId:E.tenantId,catalogName:R,itemId:d}));else if(0===i){var c;ye(Object(f.a)({params:{basketId:null===Re||void 0===Re||null===(c=Re.cartData)||void 0===c?void 0:c.id},tenantId:E.tenantId},[{Id:t,categoryId:T,quantity:i+1,modGrps:[]}],(()=>{rt&&Ke({type:Ie,value:{viewType:Et}})}))),ye(Object(f.u)(new Date)),Tt(ce(t,l,n),ne.Increase,We,Fe,ke,E.currencyConversionFactor,E.currencyShortName)}else if(i>0){var s;ye(Object(f.x)({params:{basketId:null===Re||void 0===Re||null===(s=Re.cartData)||void 0===s?void 0:s.id,basketLineItemId:n},tenantId:E.tenantId},{quantity:i+1,isBundle:Object(G.e)(d)})),ye(Object(f.u)(new Date)),Tt(ce(t,l,n),ne.Increase,We,Fe,ke,E.currencyConversionFactor,E.currencyShortName)}}else localStorage.setItem(_.gd.RETAIN_ADDRESS,""),ze(!0),Ke({type:de,value:{addToCart:!0,productItemId:t,categoryId:T,oldProduct:l,customizable:o,catalogs:R,fromPdpPage:!1}})};let xt=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(a.useEffect)((()=>{xt&&Ge&&qe.minipdpData.itemId===xt.id&&ye(Object(f.v)({showProductListingModal:!0,categorySelected:Ge}))}),[xt]),Object(a.useEffect)((()=>{var e,t;if(null!==(e=xt)&&void 0!==e&&e.id&&null!==ht&&void 0!==ht&&ht.productId&&(null===(t=xt)||void 0===t?void 0:t.id)==(null===ht||void 0===ht?void 0:ht.productId)){var o,a,i,l,n;xt={...xt,dname:null===ht||void 0===ht||null===(o=ht.productInfo)||void 0===o?void 0:o.productName};const e=null===(a=xt)||void 0===a||null===(i=a.recommendationRules)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.recommendationType)===fe)),t=((e,t,o)=>{let a=[];return null===e||void 0===e||e.forEach((e=>{null!==t&&void 0!==t&&t.some((t=>(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.id)))||a.push(e)})),a})(null===e||void 0===e||null===(l=e[0])||void 0===l||null===(n=l.recommendedItems)||void 0===n?void 0:n.filter((e=>{var t;return(null===Me||void 0===Me||null===(t=Me.foodLines)||void 0===t?void 0:t.findIndex((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.id)})))<0})),Nt);(null===t||void 0===t?void 0:t.length)>0?(St([xt,...t]),pt(!0)):_t(ht)}}),[null===(g=xt)||void 0===g?void 0:g.id,null===ht||void 0===ht?void 0:ht.productId]);const Dt=Object(C.b)(localStorage.getItem(_.kb)),At=(e,t,o,a,i)=>{if(xe){var l,n,d;const c=Object(C.C)([Dt],st,null,Ee,null===Ot||void 0===Ot?void 0:Ot.latLong),r={storeid:null===(l=c[0])||void 0===l?void 0:l.storeId,service:null===(n=c[0])||void 0===n?void 0:n.service,channel:null===(d=c[0])||void 0===d?void 0:d.channel},s=(e=>{let{isForNow:t,futureDateTime:o,payload:a}=e;return t?a:{...a,futureDateTimeInEpochFormat:o}})({isForNow:He,futureDateTime:Ue,payload:r});(e=>{const{e:t,userParams:o,dispatch:a,finalPayload:i,tenantData:l,productId:n,customizable:d,catId:c,productInfo:r,currentStoreInfo:s,serviceType:u,shouldCheckDropOffAddress:v,onCardClickHandler:m,latLong:O}=e;o.localized?a(Object(P.n)({data:i,tenantId:null===l||void 0===l?void 0:l.tenantId},(e=>m({e:t,productId:n,customizable:d,catId:c,productInfo:r,storesWithStatus:e})))):a(Object(P.d)({data:Object(C.C)([s],u,null,v,O),tenantId:null===l||void 0===l?void 0:l.tenantId},(e=>m({e:t,productId:n,customizable:d,catId:c,productInfo:r,storesWithStatus:e}))))})({e:e,userParams:Be,dispatch:ye,finalPayload:s,tenantData:E,productId:t,customizable:o,catId:a,productInfo:i,currentStoreInfo:Dt,serviceType:st,shouldCheckDropOffAddress:Ee,onCardClickHandler:yt,latLong:null===Ot||void 0===Ot?void 0:Ot.latLong})}else yt({e:e,productId:t,customizable:o,catId:a,productInfo:i,storesWithStatus:Qe})},yt=e=>{var t,o,a;let{e:i,productId:l,customizable:n,category_id:d,productInfo:c,storesWithStatus:r}=e;i.preventDefault(),i.stopPropagation();if((null===qe||void 0===qe||null===(t=qe.timeBasedCetegory)||void 0===t?void 0:t.isTimeExpired)&&Object(A.c)({categoryUrl:null===c||void 0===c?void 0:c.categoryURL[0],itemInCart:null===qe||void 0===qe||null===(o=qe.timeBasedCetegory)||void 0===o?void 0:o.timebasedItemInCart,alertType:Object(A.j)(null===qe||void 0===qe||null===(a=qe.timeBasedCetegory)||void 0===a?void 0:a.timebasedItemInCart,null===_.Sb||void 0===_.Sb?void 0:_.Sb.ITEM)},null===qe||void 0===qe?void 0:qe.timeBasedCetegory,Ke))return;if(xe){var s,u;const e=r.find((e=>Object(C.jb)((null===e||void 0===e?void 0:e.storeId)===(null===Dt||void 0===Dt?void 0:Dt.id),(null===e||void 0===e?void 0:e.id)===(null===Dt||void 0===Dt?void 0:Dt.id)))),{summary:t={}}=Object(C.sd)(e),{status:o={}}=Object(C.sd)(t),{currentStatus:a="",message:i=""}=Object(C.sd)(o),l=(null===Dt||void 0===Dt||null===(s=Dt.summary)||void 0===s?void 0:s.orderingAttribute)&&!Object(C.Fd)(Dt)&&He&&(null===Re||void 0===Re||null===(u=Re.cartData)||void 0===u?void 0:u.service)===_.yb;if(a===Oe||l)return Ze(!0),void et(Object(C.ad)(Object(C.l)(i!==be,i!==je,Object(C.ad)(i.includes(he),he,"")!==he),i,null))}let v={productId:l,customizable:n,category_id:d,catalogName:R,productInfo:c,isFromPlp:!0};if(dt){const e=()=>{gt(v)};ye(Object(m.c)({tenantId:null===E||void 0===E?void 0:E.tenantId,catalogName:R,itemId:l},e))}else _t(v)},_t=t=>{var o,a;Ke({type:se,value:t}),localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(C.xc)(null===t||void 0===t?void 0:t.productInfo.categoryURL,null===t||void 0===t?void 0:t.productInfo.prodURL,null===(o=e.history)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.pathname)})},Rt=(e,t,o)=>{ye(Object(m.a)({tenantId:e,customerId:o},t))},Lt=(e,t,o)=>{ye(Object(m.b)({tenantId:e,customerId:t,itemId:o}))},Pt=Object(C.ad)(Xe,Object(S.jsx)(M.a,{handleClose:()=>Ze(!1),classNames:"plp-warning-msg plp-page-model",CartAlertForm:Object(S.jsx)(k.a,{title:"".concat(Object(F.translateWithI18Next)($)),contentMsg:"".concat(Object(F.translateWithI18Next)(te)),imageSrc:H.a.LocationWithoutError,confirmButtonText:"".concat(Object(F.translateWithI18Next)(ee)," ").concat(Object(F.translateWithI18Next)(Q)),confirmHandler:()=>{Ke({type:pe,value:{showScheduleOrderCatering:!0,selectedStoreInfo:localStorage.getItem(_.gd.STORE_INFO),changeFlow:!0}}),Ze(!1)},cancelHandler:()=>Ze(!1),cancelButtonText:Object(F.translateWithI18Next)(J)})}),null),wt=Object(S.jsx)(w.a,{handleClose:()=>Ze(!1),showAlert:Xe,onClickBtnHandler:()=>{Ze(!1),Object(C.Gf)(Ke,localStorage.getItem(_.gd.RETAIN_ADDRESS))},stoerName:null===W||void 0===W?void 0:W.storeName,storeClosedMsg:$e,contentMsg:_.K});return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ue,{searchMode:z,isMobileView:Y,localizationFlow:Ye,carousal:_e,productList:I,cardRenderer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t],dname:o,url:a,content:i}=e,l=Object(C.ve)(t.additionalProperties);let n=((e,t)=>""!==e?e:t.category_id)(T,e),c=!0,r=null;if(bt&&(null===Je||void 0===Je?void 0:Je.type)===_.Cf){const t=bt.find((t=>t.id===e.id));r=null===t||void 0===t?void 0:t.nextAvailable,c=null===t||void 0===t?void 0:t.available}return Object(S.jsx)(d.a,{item:t,activeId:at,cardId:t.id,cardType:N,configureOptions:{...Se,showGenericMenuForNonLocalizedUsers:Ce},tenantData:E,servingCount:l.servings,button:e.button,categoryId:n,clickHandler:ft,customizable:t.customizable,onCardClickHandler:At,userParams:Be,storeClosedData:W,addFavourite:Rt,removeFavourite:Lt,setShowTopScrollBtn:V,"data-testid":"menu-card-component",dName:o,prodURL:a,productContent:i,plpbackgroundImageData:mt,...l,...t,nextAvailableTime:r,isAvailable:c,viewUp:q,dispositionNew:Je,isNavigating:K},t.id)},caroselCount:De,currentSlide:tt,updateCurrentSlide:ot,setCaroselCount:Ae,cardType:N,serviceType:st}),Object(C.ad)(Object(C.Hd)(null===Je||void 0===Je?void 0:Je.type),Pt,wt),re(jt,It,(()=>Object(S.jsx)(X,{isMobile:!1,openIndulgentModal:!0,handleClose:()=>(pt(!1),void gt({})),removeItemCart:!1,IndulgentData:It,modalTitle:ie,continueButtonText:le,toastMassage:ae,"data-testid":"indulgetAddon-modal",addToCart:oe,history:null===e||void 0===e?void 0:e.history})))]})}))},1251:function(e,t,o){"use strict";o.d(t,"d",(function(){return I})),o.d(t,"c",(function(){return S})),o.d(t,"a",(function(){return C})),o.d(t,"b",(function(){return E})),o.d(t,"e",(function(){return T})),o.d(t,"f",(function(){return x}));var a=o(6),i=o(106),l=o(92),n=o(5),d=(o(3),o(1243)),c=o(2);var r=e=>Object(n.T)(e.subCategory).map(((t,o)=>{let{categories:a="",products:i=[],id:l="",dname:n}=t;return Object(c.jsxs)("div",{id:l,children:[Object(c.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(c.jsx)("div",{children:n[0].value}),a]}),Object(c.jsx)(d.a,{productList:i,cardType:e.cardType,tenantData:e.tenantData,categoryId:l,catalogs:e.catalogs,storeClosedData:e.storeClosedData,specialEventItemAvailability:e.specialEventItemAvailability})]},o)})),s=o(20),u=o.n(s),v=o(211),m=o(41),O=o(146),b=o(15);const j=null===n.ee||void 0===n.ee?void 0:Object(n.ee)(window.innerWidth),{CARD_TYPE:{CAROUSAL:p,MEDIUM:h}}=v.MENU_PLP_CONSTANT,{CartError:g}=b.a,I=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0},S=(e,t,o)=>!u()(e)&&e.map(((e,a)=>{var i;let{id:l="",isHidden:n=!1,dname:d="",url:r,categories:s=[]}=e;return Object(c.jsx)("ul",{className:"inner-ul nested",children:!n&&Object(c.jsxs)("li",{children:[Object(c.jsx)(O.Link,{"data-testid":"subcategory-click-test",className:"".concat(I(s)?"caret":""),onClick:e=>{var t;return o(e,null===(t=d[0])||void 0===t?void 0:t.value,r,a)},to:l,spy:!0,smooth:!0,onSetActive:t,activeClass:"".concat(0===a?"active":""),children:null===(i=d[0])||void 0===i?void 0:i.value}),s&&s.length>0&&S(s)]})})})),N=(e,t)=>{e(!1),t.push({pathname:"/menu"})},C=(e,t,o,d,r,s,u)=>{const m={CLEAR_ALL_MSG:{MSGTXT1:"".concat(Object(a.translateWithI18Next)(v.SORRY_THIS_FOOD)," ").concat(Object(a.translateWithI18Next)(e)," ").concat(Object(a.translateWithI18Next)(v.IS)," "),MSGTXT2:Object(a.translateWithI18Next)(v.NOT_AVAILABLE),MSGTXT3:Object(n.ad)(null===t||void 0===t?void 0:t.type,"".concat(Object(a.translateWithI18Next)(v.FOR)," ").concat(Object(a.translateWithI18Next)(o)),"")},CONTINUE:"continue"};return Object(n.hb)(d,!(null!==r&&void 0!==r&&r.isStoreClosed))&&Object(c.jsx)(i.a,{handleClose:()=>N(s,u),classNames:"clear-cart-modal",CartAlertForm:Object(c.jsx)(l.a,{splitTitle:m.CLEAR_ALL_MSG,imageSrc:g,altText:"cart-error",confirmButtonText:Object(a.translateWithI18Next)(null===m||void 0===m?void 0:m.CONTINUE),confirmHandler:()=>N(s,u)})})},E=e=>Object(n.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew,T=e=>{let{productsList:t,cardId:o,cType:a,tenantData:i,catalogs:l,storeClosedData:n,selectedCat:s,getCardCount:u,subCategories:v,specialEventItemAvailability:m,viewUp:O,isNavigating:b}=e;return null!==v&&void 0!==v&&v.length?Object(c.jsx)(r,{subCategory:v,cardType:a,tenantData:i,catalogs:l,storeClosedData:n,specialEventItemAvailability:m}):Object(c.jsx)(d.a,{productList:t,cardType:a,tenantData:i,categoryId:o,catalogs:l,selectedCat:s,storeClosedData:n,cardCount:u,specialEventItemAvailability:m,viewUp:O,isNavigating:b})},f=(e,t,o,a,i,l,n,r)=>Object(c.jsx)(d.a,{productList:e,cardType:l,tenantData:t,categoryId:n,catalogs:o,storeClosedData:a,cardCount:i,isMobileView:j,searchMode:r}),x=(e,t,o,i,l,n,d,r,s,u)=>Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:j?"no-mob-search-found-plp":"no-search-found-plp",children:[Object(c.jsx)("span",{children:Object(a.translateWithI18Next)(v.YOUR_SEARCH_TEXT)}),Object(c.jsx)("span",{className:"no-search-found-text-highlighted",children:" \u201c".concat(e.searchedData,"\u201d ")}),Object(c.jsx)("p",{children:Object(a.translateWithI18Next)(v.TURNED_NO_RESULTS_TEXT)}),Object(c.jsx)(m.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:t,children:Object(a.translateWithI18Next)(v.BACK_TO_MENU)})]}),Object(c.jsx)("div",{className:"horizontalLineBorder-noData"}),!(null===o||void 0===o||!o.length)&&(j?Object(c.jsxs)("div",{className:"carousal-menu-container",children:[Object(c.jsx)("div",{className:"d-flex position-relative",children:Object(c.jsx)("div",{className:"carousal-header",children:Object(a.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),f(o,i,l,n,u,p,v.CATEGORY_ID)]}):Object(c.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(c.jsx)("div",{className:"mob-plp-col mb-4",children:Object(c.jsxs)("div",{className:"recommended-menu-container recommended-menu-container-sopac medium-menu-container",children:[Object(c.jsx)("div",{className:"d-flex position-relative",children:Object(c.jsx)("div",{className:"carousal-header",children:Object(a.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),f(o,i,l,n,"",h,v.CATEGORY_ID,e)]})})})),Object(c.jsx)("div",{className:"horizontalLineBorder-noData-forMobile"})]})},1266:function(e,t,o){"use strict";var a=o(73),i=o(0),l=o(28);t.a=()=>{const e=Object(l.b)();return{fetchData:t=>{let{storeId:o,timeStamp:l,dispositionType:n}=t;if(!o||!l)throw new Error("storeId, timeStamp, and dispositionType are required");const d={storeId:o,dateTimeEpoch:l};e((null===n||void 0===n?void 0:n.toUpperCase())===i.Cf?Object(a.k)(d):Object(a.m)(d))}}}},1268:function(e,t,o){e.exports={option:"Option_option__1S_nM",dark:"Option_dark__2ZNrn",light:"Option_light__15g6S"}},1269:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(603),n=o(15),d=o(46),c=o(1270),r=o.n(c),s=o(2);const{ChevronUp:u,ChevronDown:v}=n.a,m=e=>{let{options:t,onOptionClick:o,label:n,disabled:c,value:m,placeholder:O,dropdownId:b,theme:j="dark"}=e;const[p,h]=Object(a.useState)(!1),g=Object(a.useMemo)((()=>p||m.key?r.a.onTop:m.key||O?"":r.a.asPlaceholder),[O,p,m]),I=Object(a.useMemo)((()=>p||m.key?r.a.selected:""),[p,m]);Object(a.useEffect)((()=>{const e=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const t=null===e||void 0===e?void 0:e.target;null!==t&&void 0!==t&&t.matches("#".concat(b))||null!==t&&void 0!==t&&t.closest("#".concat(b))||h(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[b]);return Object(s.jsxs)("div",{style:{color:c?"grey":""},className:Object(l.b)("".concat(r.a.dropdown," ").concat(r.a[j]," ").concat(I)),id:b,children:[n&&Object(s.jsx)("label",{className:g,children:n}),Object(s.jsxs)("div",{onClick:()=>c?"":h(!p),className:r.a.dropdownInput,"data-testid":"dropdown-selected-value",children:[Object(s.jsx)("span",{children:m.key||O}),p?Object(s.jsx)(d.a,{className:r.a.icon,srcFile:u}):Object(s.jsx)(d.a,{className:r.a.icon,srcFile:v})]}),!(null===t||void 0===t||!t.length)&&p&&Object(s.jsx)("div",{className:r.a.options,children:t.map((e=>Object(s.jsx)("div",{children:i.a.cloneElement(e.element,{onClick:()=>(e=>{c||(h(!p),o(e))})(e.value),theme:j})},e.value.key)))})]})};m.Option=Option,t.a=m},1270:function(e,t,o){e.exports={dropdown:"Select_dropdown__3LQLO",dropdownInput:"Select_dropdownInput__d7vjD",asPlaceholder:"Select_asPlaceholder__3Hwrv",onTop:"Select_onTop__vvmiD",options:"Select_options__32bi1",icon:"Select_icon__2qeoI",dark:"Select_dark__2dxKT",light:"Select_light__1q9vB",selected:"Select_selected__1y3TN"}},1281:function(e,t,o){"use strict";var a=o(3),i=o.n(a),l=o(2);t.a=e=>{const{ariaLable:t,className:o="",variant:n="secondary",onClickHandler:d,onKeyDownHandler:c,specialEventItemAvailability:r,cartData:s,availableSlots:u,itemMapById:v,setDisplayMagicButton:m,displayMagicButton:O,setUnavailableData:b,...j}=e,[p,h]=Object(a.useState)([]);Object(a.useEffect)((()=>{var e;if((null===s||void 0===s||null===(e=s.foodLines)||void 0===e?void 0:e.length)>0&&v&&r){var t;const e=null===s||void 0===s||null===(t=s.foodLines)||void 0===t?void 0:t.reduce(((e,t)=>(v[t.item.id]&&(e[t.item.id]=v[t.item.id]),e)),{}),o=e&&Object.values(e).map((e=>e.parentID)),a=r.filter((e=>o.includes(e.id))).filter((e=>""!==e.nextAvailable));b&&b(a),h(a),m(g(a,s,u))}}),[null===s||void 0===s?void 0:s.foodLines,r]),Object(a.useEffect)((()=>{m(g(p,s,u))}),[p,s,u]);const g=(e,t,o)=>{var a;return!!(null!==e&&void 0!==e&&e.length&&null!==t&&void 0!==t&&null!==(a=t.foodLines)&&void 0!==a&&a.length&&o)};return Object(l.jsx)(i.a.Fragment,{children:O&&Object(l.jsx)("button",{className:"button-contained ".concat(o),type:"button","data-type":n,onClick:d,onKeyDown:c,"data-testid":"magic-button",...j,children:e.children})})}},1284:function(e,t,o){"use strict";var a=o(6),i=o(3),l=o(0),n=o(5),d=o(85);var c=()=>{const{userOrderState:e}=Object(i.useContext)(d.a);return{currentStoreInfoData:Object(i.useMemo)((()=>{const t=Object(n.ad)(Object(n.Sd)(e.currentStoreInfo),Object(n.b)(localStorage.getItem(l.gd.CURRENT_STORE_INFO_STORAGE)),e.currentStoreInfo);return null!==t&&void 0!==t&&t.id?t:{...t,id:null===t||void 0===t?void 0:t.storeId}}),[e.currentStoreInfo])}},r=o(263),s=o(41),u=o(1297),v=o.n(u),m=o(15);const O={key:"",timeSlot:"",isProductCapacityAvailable:!1,isOrderCapacityAvailable:!1,availableProductCount:0,requestedProductCount:0};let b=function(e){return e.SUCCESS="SUCCESS",e.PARTIAL_SUCCESS="PARTIAL SUCCESS",e.ERROR="",e}({});var j=o(2);var p=e=>{let{children:t,type:o}=e;const a={[b.SUCCESS]:{backgroundColor:"#E6F3E6",iconPath:null===m.a||void 0===m.a?void 0:m.a.GreenCheck},[b.PARTIAL_SUCCESS]:{backgroundColor:"#FFF6E3",iconPath:null===m.a||void 0===m.a?void 0:m.a.Error_Yellow},[b.ERROR]:{backgroundColor:"#FEE",iconPath:null===m.a||void 0===m.a?void 0:m.a.Error_Red}},l=Object(i.useRef)(null),n=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const e=l.current,t=n.current;if(e&&t){const o=parseInt(window.getComputedStyle(e).lineHeight,10);e.offsetHeight/o>1?(t.style.alignSelf="flex-start",t.style.marginTop=".3rem"):t.style.alignSelf="center"}}),[t]),Object(j.jsxs)("div",{style:{backgroundColor:a[o].backgroundColor},className:v.a.notification,children:[Object(j.jsx)("img",{ref:n,className:v.a.icon,src:a[o].iconPath,alt:"notification-status-icon"}),Object(j.jsx)("div",{ref:l,className:v.a.content,children:t})]})},h=o(1269),g=o(429),I=o(133),S=o(16),N=(o(1240),o(73)),C=o(12),E=o(1107),T=o(28),f=o(1140),x=o(62);var D=e=>{let{selectedDate:t,selectedTime:o}=e;const{dispositionNew:a}=Object(E.a)(),{userOrderStateDispatch:n}=Object(i.useContext)(d.a),{fetchEventItemAvailabilityForDisposition:r}=Object(f.a)(),{cartData:s}=Object(T.c)((e=>e.cartReducer))||{},{tenantId:u}=Object(T.c)((e=>e.tenantReducer))||{},v=Object(T.b)(),m=Object(x.g)(),O=Object(C.C)(t.epochTime,l.sb.YYYY_MM_DD),b=Object(C.V)(o.key),j=Object(C.A)(O+" "+b,"YYYY-MM-DD hh:mm"),p=Object(C.C)(j,l.sb.h_mm_A),{currentStoreInfoData:h}=c();return{handleSetTime:Object(i.useCallback)((()=>{const e={...a,epochTime:j,selectedTime:p,time:p,date:O};n({type:null===S.a||void 0===S.a?void 0:S.a.SET_DISPOSITION_NEW,value:{dispositionNew:e}}),localStorage.setItem("dispositionNew",JSON.stringify(e)),r({date:O,storeId:h.id,time:p}),v(Object(N.q)({params:{basketId:null===s||void 0===s?void 0:s.id},tenantId:u,postBody:{isForNow:!1,futureDateTime:j},orderReadyDateTimeUpdateSuccessCallback:()=>{m.push("/cart")},orderReadyDateTimeUpdateErrorCallback:()=>{throw Error("Error updating order ready date time")}}))}),[a,j,p,O,n,r,h.id,v,null===s||void 0===s?void 0:s.id,u,m])}},A=o(57),y=o(1238);var _=e=>e.map((e=>({value:e,element:Object(j.jsx)(y.a,{children:e.key})}))),R=o(43),L=o(1156),P=o(4);const w=e=>{const t=Object(C.v)(e,l.Tf),o=Object(C.h)(e,"MMMM D").split(" ");return"".concat(Object(a.translateWithI18Next)(o[0])," ").concat(o[1]).concat(Object(a.translateWithI18Next)(P.a.DAY)," ").concat(Object(a.translateWithI18Next)(null===l.ub||void 0===l.ub?void 0:l.ub[t]))};var M=()=>{var e,t,o;const a=Object(T.c)((e=>e.tenantReducer)),l=Object(T.c)((e=>e.storesReducer)),{currentStoreInfoData:n}=c(),d={...l.store},r=(null===a||void 0===a?void 0:a.orderServDateFormat)||"",s=(null===a||void 0===a||null===(e=a.componentOptions)||void 0===e||null===(t=e.app)||void 0===t||null===(o=t.scheduledDelivery)||void 0===o?void 0:o.dateFormat)||"DD/MM/YYYY",[u,v]=Object(i.useState)([]),{data:m,error:O}=Object(L.h)(),b=Object(T.b)();return Object(i.useEffect)((()=>{if(m&&!O&&d.id){const e=k(m,s);v(_(e))}}),[m,O,d.id,s,r]),Object(i.useEffect)((()=>{const e=[{disposition:{}},{store:n},{fulfillment:{}},{geolocationResult:{}}];b(Object(N.y)(e))}),[n,b]),{dateOptions:u}};const k=(e,t)=>{const o=null===e||void 0===e?void 0:e.response,i=new Date,l="".concat(i.getFullYear().toString().padStart(4,"0")).concat((i.getMonth()+1).toString().padStart(2,"0")).concat(i.getDate().toString().padStart(2,"0"));return Object.keys(o).filter((e=>e>=l)).map((e=>A.a.format({date:e,time:"",dateFormat:"YYYYMMDD",timeFormat:"",outPutFormat:t}))).map(((e,t)=>{var i,l;return{key:w(e)+"".concat(Object(a.translateWithI18Next)(null===R.a||void 0===R.a?void 0:R.a.AVAILABLE)," ").concat(Object(a.translateWithI18Next)(null===(i=o[Object.keys(o)[t]])||void 0===i||null===(l=i.availability)||void 0===l?void 0:l.toLowerCase())),epochTime:Object(C.A)(e)}}))};var F=e=>{var t;let{data:o,selectedTime:i}=e;if(null!==o&&void 0!==o&&o.closestTime)return{type:b.SUCCESS,text:"".concat(Object(C.V)(null===o||void 0===o?void 0:o.closestTime)," ").concat(Object(a.translateWithI18Next)("newTimeFound"))};const l=null===o||void 0===o||null===(t=o.availableSlots)||void 0===t?void 0:t.find((e=>e.timeSlot===i));return l&&l.availableProductCount<l.requestedProductCount&&l.availableProductCount>=1?{type:b.PARTIAL_SUCCESS,text:Object(a.translateWithI18Next)("partialListAvailable")}:l&&l.availableProductCount===l.requestedProductCount?{type:b.SUCCESS,text:Object(a.translateWithI18Next)("newTimeFound")}:(l&&l.availableProductCount,{type:b.ERROR,text:Object(a.translateWithI18Next)("noListAvailable")})};var H=e=>e.map((e=>{const{key:t,isOrderCapacityAvailable:o,availableProductCount:i,requestedProductCount:l}=e;return{value:e,element:(()=>{if(i===l){const e="".concat(t," (").concat(Object(a.translateWithI18Next)("allItemsAvailable"),")");return Object(j.jsx)(y.a,{children:e})}if(i<l&&i>=1)return Object(j.jsx)(y.a,{children:t});if(0===i){const e="".concat(t," (").concat(Object(a.translateWithI18Next)("noItemsAvailable"),")");return Object(j.jsx)(y.a,{disabled:!0,children:e})}if(!o){const e="".concat(t," (").concat(Object(a.translateWithI18Next)("outOfStock"),")");return Object(j.jsx)(y.a,{disabled:!0,children:e})}})()}}));var U=()=>{var e,t,o,a;const{dispositionNew:l}=Object(E.a)(),n=Object(T.c)((e=>e.storesReducer)),d=(null===n||void 0===n||null===(e=n.storesWithStatus[0])||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.timings)||void 0===o?void 0:o.futureDates)||[],[c,r]=Object(i.useState)({epochTime:l.epochTime,key:w(l.date)}),[s,u]=Object(i.useState)({...O,key:Object(C.Y)(l.time)}),[v,m]=Object(i.useState)(null),[j,p]=Object(i.useState)([]),[h,g]=Object(i.useState)([]),[I,S]=Object(i.useState)(!0),[N,f]=Object(i.useState)(null),{isFetching:x,data:D,error:A,refetch:y}=Object(L.j)(Object(C.A)((null===l||void 0===l?void 0:l.date)+" "+(null===s||void 0===s?void 0:s.key),"YYYY_MM_DD_hh_mm")),_=Object(i.useCallback)((()=>{N?u(N):m({type:b.ERROR,text:"No items available"})}),[N]),R=Object(i.useCallback)((()=>{y(),S(!1)}),[y]);return Object(i.useEffect)((()=>{if(null!==D&&void 0!==D&&D.response){const{response:e}=D;if(null!==e&&void 0!==e&&e.availableSlots){const t=(()=>{const e=new Date;return e.getHours().toString().padStart(2,"0")+e.getMinutes().toString().padStart(2,"0")})(),o=null===c||void 0===c?void 0:c.epochTime,a=new Date(1e3*o),i=new Date,l=a.toDateString()===i.toDateString(),n=null===e||void 0===e?void 0:e.availableSlots.map((e=>({...e,key:Object(C.V)(e.timeSlot)}))).filter((e=>l?e.timeSlot>=t:e.timeSlot));p(n),g(H(n));const d=n.find((e=>e.requestedProductCount<=e.availableProductCount||e.availableProductCount>=1&&e.availableProductCount<e.requestedProductCount));d&&f(d),s&&(null===s||void 0===s?void 0:s.key)<(null===d||void 0===d?void 0:d.key)&&u(d)}}}),[D,c]),Object(i.useEffect)((()=>{var e,t;if(!I&&!x)if((null===D||void 0===D||null===(e=D.response)||void 0===e?void 0:e.closestTime)!==s&&m(F({data:null===D||void 0===D?void 0:D.response,selectedTime:s.timeSlot})),null!==D&&void 0!==D&&null!==(t=D.response)&&void 0!==t&&t.closestTime&&!x){var o;const e=String(null===D||void 0===D||null===(o=D.response)||void 0===o?void 0:o.closestTime),t=j.find((t=>t.timeSlot===e));t&&u(t)}else _()}),[_,c,x,null===D||void 0===D||null===(a=D.response)||void 0===a?void 0:a.closestTime,j,null===D||void 0===D?void 0:D.response,s,I]),{selectedDate:c,setSelectedDate:r,selectedTime:s,setSelectedTime:u,notification:v,isFetching:x,data:D,error:A,refetch:y,futureDates:d,timeOptions:h,setSkipRecheck:S,handleSetSelectedTime:e=>{m(null),S(!0),u(e)},handleSetSelectedDate:e=>{m(null),r(e),S(!0)},handleOnFindAgainClick:R}};var B=()=>Object(j.jsx)("div",{style:{borderBottom:"1px solid #DEE2E6"}}),W=o(1298),G=o.n(W);t.a=e=>{var t,o;let{visibility:l,setVisibility:n}=e;const{selectedDate:u,selectedTime:v,handleSetSelectedTime:m,handleSetSelectedDate:O,notification:b,isFetching:N,timeOptions:C,handleOnFindAgainClick:E}=U(),{userOrderState:T,userOrderStateDispatch:f}=Object(i.useContext)(d.a),{currentStoreInfoData:x}=c(),{handleSetTime:A}=D({selectedDate:u,selectedTime:v}),{dateOptions:y}=M(),_={id:"TimeFinderPopup",role:"dialog",show:!0,showCloseBtn:!0,closeButtonHandler:()=>{n(!l)},modalTitle:Object(a.translateWithI18Next)("eventModalHeader"),autoFocus:!0};return Object(j.jsx)("section",{children:l&&!(null!==T&&void 0!==T&&null!==(t=T.searchStoreData)&&void 0!==t&&t.showSearchStore)&&Object(j.jsx)(g.a,{..._,children:Object(j.jsx)("div",{className:G.a.timeFinderModal,children:Object(j.jsxs)("div",{className:G.a.contentContainer,children:[Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(a.translateWithI18Next)("setLocation")}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[Object(j.jsx)("p",{children:(null===x||void 0===x||null===(o=x.name[0])||void 0===o?void 0:o.value)||""}),Object(j.jsx)(r.a,{onClickHandler:()=>{n(!l),f({type:S.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:I.c}})},className:G.a.cta,children:Object(a.translateWithI18Next)("change")})]}),Object(j.jsx)(B,{})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(a.translateWithI18Next)("ScheduleOrder")}),b&&!N&&Object(j.jsx)("div",{className:G.a.notificationContainer,children:Object(j.jsx)(p,{type:b.type,children:b.text})}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[u&&Object(j.jsx)("div",{className:G.a.dateSelectContainer,children:Object(j.jsx)(h.a,{dropdownId:"dateDropdown",disabled:N,placeholder:"Select date",label:Object(a.translateWithI18Next)("date"),value:u,options:y,onOptionClick:O})}),v&&Object(j.jsx)(h.a,{dropdownId:"timeDropdown",disabled:N,placeholder:"Select time",label:Object(a.translateWithI18Next)("time"),options:C,value:v,onOptionClick:m})]})]}),Object(j.jsxs)("div",{className:G.a.buttonsContainer,children:[Object(j.jsx)(s.c,{variant:s.b.tertiary,onClickHandler:()=>E(),"data-testid":"confirm-button-handler",children:Object(j.jsxs)("span",{children:[" ",Object(a.translateWithI18Next)("findAgain")]})}),Object(j.jsx)(s.c,{variant:s.b.secondary,onClickHandler:()=>{A(),n(!l)},"data-testid":"confirm-button-handler",children:Object(j.jsx)("span",{children:Object(a.translateWithI18Next)("toTheCart")})})]})]})})})})}},1297:function(e,t,o){e.exports={notification:"Notification_notification__2okmg",icon:"Notification_icon__1YHwX"}},1298:function(e,t,o){e.exports={timeFinderModal:"TimeFinderModal_timeFinderModal__SorX6",contentContainer:"TimeFinderModal_contentContainer__3zPSq",inputContainer:"TimeFinderModal_inputContainer__3UeVT",dateSelectContainer:"TimeFinderModal_dateSelectContainer__1eU03",buttonsContainer:"TimeFinderModal_buttonsContainer__25_dt",cta:"TimeFinderModal_cta__2r_vr",notificationContainer:"TimeFinderModal_notificationContainer__2Y9_e"}},1305:function(e,t,o){"use strict";o.d(t,"b",(function(){return ot})),o.d(t,"a",(function(){return nt}));var a=o(266),i=o(6),l=o(1);var n=o(3),d=o.n(n),c=o(62),r=o(2);var s=e=>{var t,o;let{value:a,className:i}=e,l=a,{category_name:n}=Object(c.i)(),d={};return n=n?n.trim().toLowerCase().replace(/-/g," "):"menu",a=null===(t=a)||void 0===t?void 0:t.replace(/ &|'/g,""),i&&(d={className:i}),Object(r.jsx)(r.Fragment,{children:n===(null===(o=a)||void 0===o?void 0:o.trim().toLowerCase())?Object(r.jsx)("h1",{...d,children:l}):Object(r.jsx)("h2",{...d,children:l})})},u=o(46),v=o(404),m=o(15),O=o(0),b=o(4),j=o(1124),p=o(1100),h=o(159),g=o(71),I=o(12),S=o(5),N=o(85),C=o(42),E=o.n(C),T=o(1237),f=o(43),x=o(16),D=o(1233),A=o(1228),y=o(28),_=o(146),R=o(443),L=o(442),P=o(1239),w=o(211),M=o(1251),k=o(402),F=o(264),H=o(1243),U=o(394),B=o(409),W=o(396),G=o(1156),V=o(1137),Y=o(397),z=o(30);const q={successToastMessage:b.a.INDULDENT_ADD_ON_MSG,cardButtonText:b.a.ADD_TO_ORDER,submitButtonText:b.a.CONTINUE_ORDERING,headerText:b.a.INDULDENT_ADD_ONS_HEADING},K={cardButtonText:b.a.ADD_TO_ORDER,headerText:b.a.WE_THINK_YOU_LOVE_THIS,slideToScroll:1,slideToShow:3};var J=e=>{var t,o,a;let{itemId:l,viewType:d,closeButtonHandler:c=(()=>{}),restData:s=(()=>{}),wrapperID:v,modalTextConfig:O=q,upsellConfig:b=K,rePosition:j=!1}=e;const p=Object(y.c)((e=>e.cartReducer)),h=Object(y.c)((e=>e.tenantReducer)),{ALL:g,ADDONS:I,UPSELL:N}=w.MENU_PLP_CONSTANT,[C,E]=Object(n.useState)(null),[T,f]=Object(n.useState)({containerHeight:0,containerWidth:0}),[x,D]=Object(n.useState)(!1),{data:A,isSuccess:_,isFetched:R}=Object(G.g)(l,g),[L,P]=Object(n.useState)(Object(S.de)(window.innerWidth)),[M,F]=Object(n.useState)(0),[H,U]=Object(n.useState)(""),B=Object(S.fb)(h),W=null===(t=Object(S.Jf)(null===p||void 0===p?void 0:p.cartData,B))||void 0===t?void 0:t[l],J={recommendationType:d,ruleName:H},Q=Object(z.debounce)((()=>{var e,t;const o=Object(S.de)(window.innerWidth);P(o);const a=Object(Y.o)(o,window.innerWidth),{containerHeight:i,containerWidth:n}=a;if(f({containerHeight:i,containerWidth:n}),null!==A&&void 0!==A&&null!==(e=A.upsell)&&void 0!==e&&null!==(t=e.recommendedItems)&&void 0!==t&&t.length)if(d===N){const e=Object(k.m)(l,v,L);F(null!==e&&void 0!==e?e:0)}else Object(k.m)(null,v),F(0)}),300),X=e=>{var t,o;return!(null===p||void 0===p||null===(t=p.cartData)||void 0===t||null===(o=t.foodLines)||void 0===o||!o.find((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e})))};return Object(n.useEffect)((()=>(window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q))),[d]),Object(n.useEffect)((()=>{var e,t;d!==N||X(l)||void 0===(null===p||void 0===p||null===(e=p.cartData)||void 0===e?void 0:e.foodLines)?d!==I||X(l)||void 0===(null===p||void 0===p||null===(t=p.cartData)||void 0===t?void 0:t.foodLines)||s():(Object(k.m)(null,v,L),D(!1),s())}),[null===p||void 0===p||null===(o=p.cartData)||void 0===o||null===(a=o.foodLines)||void 0===a?void 0:a.length]),Object(n.useEffect)((()=>{var e,t,o,a,i,n,r,s,u,m,O,b,j,h;(Object(k.m)(null,v),E([]),U(""),D(!1),R&&_&&(d===N||d===I)&&X(l))&&(d===I&&null!==A&&void 0!==A&&null!==(e=A.addons)&&void 0!==e&&null!==(t=e.recommendedItems)&&void 0!==t&&t.length&&null!==(o=Object(S.t)(null===A||void 0===A||null===(a=A.addons)||void 0===a?void 0:a.recommendedItems,null===p||void 0===p?void 0:p.cartData))&&void 0!==o&&o.length?(E(Object(S.t)(null===A||void 0===A||null===(O=A.addons)||void 0===O?void 0:O.recommendedItems,null===p||void 0===p?void 0:p.cartData)),U(null===A||void 0===A||null===(b=A.addons)||void 0===b||null===(j=b.name)||void 0===j||null===(h=j[0])||void 0===h?void 0:h.value),D(!0)):d===N&&null!==A&&void 0!==A&&null!==(i=A.upsell)&&void 0!==i&&null!==(n=i.recommendedItems)&&void 0!==n&&n.length?setTimeout((()=>{var e,t,o,a;const i=Object(k.m)(l,v,L);F(null!==i&&void 0!==i?i:0),E(null===A||void 0===A||null===(e=A.upsell)||void 0===e?void 0:e.recommendedItems),U(null===A||void 0===A||null===(t=A.upsell)||void 0===t||null===(o=t.name)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.value),D(!0)}),500):d!==I||null===A||void 0===A||null===(r=A.upsell)||void 0===r||null===(s=r.recommendedItems)||void 0===s||!s.length||null!==(u=Object(S.t)(null===A||void 0===A||null===(m=A.addons)||void 0===m?void 0:m.recommendedItems,null===p||void 0===p?void 0:p.cartData))&&void 0!==u&&u.length||c())}),[d,_,j]),x&&null!==C&&void 0!==C&&C.length&&_&&d?Object(r.jsx)("div",{className:"plp-addons-modal-wrapper ".concat(d===N&&"position-absolute w-100 bg-white px-3"),style:{top:d===N?M:0,height:d===N?L?"612px":"693px":"100%"},children:Object(r.jsx)(V.a,{isMobile:L,openIndulgentModal:x,handleClose:c,removeItemCart:!1,IndulgentData:C,imageContainerSize:T,modalTitle:null===O||void 0===O?void 0:O.headerText,continueButtonText:null===O||void 0===O?void 0:O.submitButtonText,addToCart:null===O||void 0===O?void 0:O.cardButtonText,showSectionView:d===N,callBackMethod:async e=>{await Object(S.of)(e,C,(e=>{0===e.length&&d===I?c():E(e)}),(()=>null),u.a,m.a,i.translateWithI18Next,S.Df,null===O||void 0===O?void 0:O.successToastMessage)},buttonClass:"blackButton",showCaloricValue:!0,showServesValue:d===N,indulgentUpsellConstants:(Z=b,{ADD_TO_CART:Z.cardButtonText,HEADER:Z.headerText,SLIDES_TO_SCROLL:Z.slideToScroll,SLIDES_TO_SHOW:Z.slideToShow}),renderedFromPLP:!0,isRestrictedDisabled:(null===W||void 0===W?void 0:W.isAddonsNotAddable)||!1,productId:l,ruleNameDetails:J})}):Object(r.jsx)(r.Fragment,{});var Z};const{FROM:Q,TILL:X}=b.a,{CARD_TYPE:{SMALL:Z,CAROUSAL:$}}=w.MENU_PLP_CONSTANT,{View_1UP_Icon:ee,View_1UP_Icon_Inactive:te,View_carousal_Icon:oe,View_carousal_Icon_Inactive:ae,Product_Card_Icon:ie,ribbonRedOutlined:le,TimerIcon:ne}=m.a,de=e=>{let{productsList:t,cardId:o,cType:a,subCategories:i,tenantData:l,catalogs:n,storeClosedData:d,selectedCat:c,getCardCount:r,viewUp:s,specialEventItemAvailability:u,isNavigating:v}=e;return"viewup"===a&&(a=s?Z:$),Object(M.e)({productsList:t,cardId:o,cType:a,tenantData:l,catalogs:n,storeClosedData:d,selectedCat:c,getCardCount:r,subCategories:i,specialEventItemAvailability:u,viewUp:s,isNavigating:v})},ce=e=>Object(S.le)()?"medium-category-name":0===e?"large-category-name":"medium-category-name",re=function(e,t,o,a){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const n=null!==l&&void 0!==l&&l.showMDPTimeIn24HourTimeFormat?O.sb.HH_mm:O.sb.H_MM_AA;return e&&null!==(null===o||void 0===o?void 0:o.startTime)?Object(r.jsxs)("div",{className:t,children:[Object(i.translateWithI18Next)(Q)," ",Object(U.j)(Object(S.z)(null===o||void 0===o?void 0:o.startTime),n)," ",Object(i.translateWithI18Next)(X)," ",Object(U.j)(Object(S.z)(null===o||void 0===o?void 0:o.endTime),n)]}):null},se=e=>Object(S.le)()?Object(S.ad)(Object(S.Hd)(e),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):"medium-menu-container",ue=e=>{var t;let{dname:o,index:a,specials:l,discount:n,exclusive:d,timer:c,id:u,products:v,subCategories:m,tenantData:O,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,showCategoryTimings:I,specialEventItemAvailability:S,availability:N,timeZone:C,isNavigating:E}=e;const T={section:{availability:N}},{startTime:f,endTime:x}=Object(G.i)(T),D={startTime:f,endTime:x};return Object(r.jsxs)("div",{children:[Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:ce(a),children:Object(r.jsx)(s,{value:null===(t=o[0])||void 0===t?void 0:t.value})}),re(I,"dynamic-menu-time-desk",D,C,O)]}),Object(r.jsx)(F.a,{src:l?ie:n||d&&le||"",className:l?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(r.jsx)("span",{className:l?"specials-ribbon-text":"discount-ribbon-text",children:c?Object(r.jsxs)("div",{children:[Object(r.jsx)(F.a,{src:ne,className:"product-timer"}),Object(r.jsx)("span",{className:"product-timer-text",children:Object(i.translateWithI18Next)(w.TIMER_I18Next)})]}):l||n||d||null}),de(0===a?{productsList:v,cardId:u,cType:"large",subCategories:m,tenantData:O,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:S,isNavigating:E}:{productsList:v,cardId:u,cType:"medium",subCategories:m,tenantData:O,catalogs:b,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:S,isNavigating:E})]})},ve=(e,t,o)=>{var a,i;return e&&(null===(a=document)||void 0===a||null===(i=a.getElementById("select-start-order-items"))||void 0===i?void 0:i.clientHeight)>40?0===o?"offsetFirstIndex":t||0!==o?"offsetOtherIndex":"offsetFirstIndexWithBanner":e?"offsetWithLocalized":t||0!==o?void 0:"offsetFirstIndexWithBanner"},me=e=>{var t,o,a;let{products:l,index:n,dname:d,id:c,subCategories:u,viewUp:v,changeViewtoUp:m,viewCarousal:O,changeViewtoCarousal:b,carouselCount:j,tenantData:p,storeClosedData:h,catalogs:g,selectedCat:I,getCardCount:N,localized:C,isSmartBannerVisible:E,showCategoryTimings:T,specialEventItemAvailability:f,availability:x,timeZone:D}=e;const A=0===n?"carousal":"viewup",y=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(o=t.PlpProductCard)||void 0===o?void 0:o.changeProductView,_={section:{availability:x}},{startTime:R,endTime:L}=Object(G.i)(_),P={startTime:R,endTime:L};return Object(r.jsx)(r.Fragment,{children:y?Object(r.jsxs)("div",{children:[Object(S.U)(l)>1&&1===n&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"product-view-section",children:[Object(r.jsxs)("span",{className:"product-view",children:[Object(i.translateWithI18Next)(w.MENU_PLP_CONSTANT.PRODUCT_VIEW_TEXT),":"]}),Object(r.jsx)(F.a,{src:v&&ee||te,className:"product-view-up-icon",onClick:m,"data-testid":"change-view-to-up"}),Object(r.jsx)(F.a,{src:O&&oe||ae,className:"product-view-carousal-icon",onClick:b,"data-testid":"change-view-to-carousal"})]}),Object(r.jsx)("hr",{className:"product-view-divider"})]}),Object(r.jsxs)("div",{className:"d-flex position-relative",children:[Object(r.jsx)("div",{className:"small-category-name",children:d[0].value}),!v&&Object(r.jsxs)("div",{className:"card-counter",children:[j,"/",Object(S.U)(l)]})]}),re(T,"dynamic-menu-time-mob",P,D),de({productsList:l,cardId:c,cType:A,subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:I,getCardCount:N,viewUp:v,specialEventItemAvailability:f})]}):Object(r.jsxs)("div",{className:ve(C,E,n),children:[Object(r.jsx)("div",{className:"d-flex position-relative",children:Object(r.jsx)(s,{className:"small-category-name",value:null===(a=d[0])||void 0===a?void 0:a.value})}),re(T,"dynamic-menu-time-mob",P,D,p),de({productsList:l,cardId:c,cType:"viewup",subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:I,getCardCount:N,viewUp:v,specialEventItemAvailability:f})]})})},Oe=e=>{let{searchMode:t,filterList:o,dietaryList:a,products:i,isMobile:l,viewUp:n,tenantData:d,getCardCount:c,catalogs:s,storeClosedData:u,clearSearch:v,recommendProducts:m,carouselCount:O,dispositionType:b}=e;return(t.isSearchedMode||[...o,...a].length)&&null!==i&&void 0!==i&&i.length?Object(r.jsx)("div",{className:l?"sopac-small-menu-container":se(b),children:Object(r.jsx)(H.a,{productList:i,cardType:l?n?"small":"carousal":"medium",tenantData:d,cardCount:l&&c,categoryId:"",catalogs:s,storeClosedData:u})}):t.isSearchedMode&&Object(M.f)(t,v,m,d,s,u,l,"carousal","CAT86",O,c)},be=(e,t,o,a)=>Object(S.le)()?e?"sopac-small-menu-container":Object(S.ad)(Object(S.Hd)(a),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):e?0===t||o?"carousal-menu-container":"small-menu-container":0===t?"large-menu-container":"medium-menu-container",je=e=>{var t;let{isMobile:o,specialEventItemAvailability:a,searchMode:i,categories:l,viewCarousal:d,viewUp:c,changeViewtoUp:s,changeViewtoCarousal:u,carouselCount:v,tenantData:m,catalogs:O,storeClosedData:b,selectedCat:j,getCardCount:p,filterList:h,dietaryList:g,products:I,clearSearch:C,recommendProducts:E,localized:T,dispositionType:f,isNavigating:A}=e;const _=(null===l||void 0===l?void 0:l.length)&&Object(k.a)(l),{userOrderState:R,userOrderStateDispatch:L}=Object(n.useContext)(N.a),{timeBasedCetegory:P,timeBasedAlertModalData:M}=R,{menuReducer:F}=Object(y.c)((e=>e)),H=Object(y.c)((e=>Object(S.sd)(e.storesReducer))),{componentOptions:U}=Object(y.c)((e=>e.tenantReducer||{})),G=null===U||void 0===U||null===(t=U.plp)||void 0===t?void 0:t.isAddonsAndUpsellEnabled,V=null===R||void 0===R?void 0:R.menuUpsellAddonsData,Y=null===V||void 0===V?void 0:V.selectedItemCardId,{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:z,UPDATE_MENU_UPESLL_ADDONS_ID:q}=x.a,{UPSELL:K}=w.MENU_PLP_CONSTANT,Q=(null===H||void 0===H?void 0:H.storesWithStatus)&&Object(B.b)(null===H||void 0===H?void 0:H.storesWithStatus[0]),X=null===Q||void 0===Q?void 0:Q.timeZone;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D.a,{className:o?"mob-plp-col":"",id:"menu-list-wrapper",children:null!==i&&void 0!==i&&i.isSearchedMode||null===_||void 0===_||!_.length?Oe({searchMode:i,filterList:h,dietaryList:g,products:I,isMobile:o,viewUp:c,tenantData:m,getCardCount:p,catalogs:O,storeClosedData:b,clearSearch:C,recommendProducts:E,carouselCount:v,dispositionType:f}):_.filter((e=>{let{isHidden:t}=e;return!t})).map(((e,t)=>{let{id:i,name:l,dname:n,products:h,categories:g,isHidden:I,specials:S,exclusive:N,timer:C,discount:E,isTimeSpecific:x,availability:D,showNoCategoryTimings:y}=e;const _={products:h,index:t,dname:n,id:i,categories:g,viewUp:c,tenantData:m,storeClosedData:b,catalogs:O,selectedCat:j,getCardCount:p,isTimeSpecific:x,specialEventItemAvailability:a,availability:D,timeZone:X,showCategoryTimings:x&&!y,isNavigating:A};return!I&&!(e=>{var t,o,a;if(null!==P&&void 0!==P&&P.timeDifference&&(null===M||void 0===M||!M.isReviewOrderClick))return!1;const i={categoryName:e},l=null!==R&&void 0!==R&&null!==(t=R.dispositionNew)&&void 0!==t&&t.date?null===R||void 0===R||null===(o=R.dispositionNew)||void 0===o?void 0:o.date:null===(a=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===a?void 0:a.date;return Object(W.i)({item:i,getStoreDetail:Q,menuReducer:F,showModal:!1,selectedDate:l})})(l)&&(null===h||void 0===h?void 0:h.length)>0&&Object(r.jsx)("div",{id:null===l||void 0===l?void 0:l.trim(),className:be(o,t,d,f),children:o?Object(r.jsx)(me,{changeViewtoUp:s,viewCarousal:d,changeViewtoCarousal:u,carouselCount:v,localized:T,isMobile:o,..._}):Object(r.jsx)(ue,{specials:S,discount:E,exclusive:N,timer:C,..._})},t)}))}),G&&Y&&Object(r.jsx)(J,{itemId:Y,viewType:null===V||void 0===V?void 0:V.viewType,wrapperID:"menu-list-wrapper",rePosition:null===i||void 0===i?void 0:i.isSearchedMode,closeButtonHandler:()=>{L({type:z,value:{viewType:K}})},restData:()=>{L({type:q})}})]})};var pe=d.a.memo(je);var he=d.a.forwardRef(((e,t)=>{let{className:o,filterList:a,dietaryList:l,sortByListMob:d,handleClearItems:c,closeSearchFilterMenu:s,handleFilteredData:O,handleSearchdata:b,setSearchModeData:j,data:p,inputSearchData:h,searchedData:g}=e;const[I,S]=Object(n.useState)(!1),[N,C]=Object(n.useState)([]),[E,T]=Object(n.useState)(""),x=Object(n.useRef)(null),{SEARCHOURMENU:D}=P.a,A=e=>{x.current&&!x.current.contains(e.target)&&S(!1)},{SearchIconGrey:y,CrossCloseIcon:_,ClearIconDark:R}=m.a;Object(n.useEffect)((()=>(document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}))),Object(n.useEffect)((()=>{T(""),S(!1)}),[h]),Object(n.useEffect)((()=>{""===g&&T("")}),[g]);const L=e=>{const{products:t}=p||{};C(t.filter((t=>!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e))).slice(0,5)),window.scrollTo(0,0)};return Object(r.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:o,children:[Object(r.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(r.jsx)("span",{className:"refineItemsText",children:Object(i.translateWithI18Next)("refineItems")}),Object(r.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:()=>s("Close"),src:_,alt:"Cross Icon"})]}),Object(r.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(r.jsxs)("div",{className:"plp-search-container",children:[Object(r.jsx)(v.a,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:e=>(e=>{T(e.target.value),(a.length||l.length||d.length)&&c(),e.target.value.toString().length>2?I||(S(!0),L(e.target.value.toLowerCase().toString())):I&&(S(!1),b(),L(""),j(!1,E))})(e),onKeyPress:e=>{var t;"Enter"===(t=e).key&&(s(),b(t.target.value.toLowerCase().toString()),j(!0,E),window.scrollTo(0,0))},value:E,placeholder:Object(i.translateWithI18Next)(D)}),Object(r.jsx)("div",{className:"search-iconMob",children:Object(r.jsx)(u.a,{srcFile:y,className:"search-icon-img"})}),E.length>2&&Object(r.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:()=>(T(""),b(),void j(!1,"")),src:R,alt:"Clear Icon"})]}),I&&Object(r.jsx)("div",{ref:x,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:(null===N||void 0===N?void 0:N.length)>0&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"SuggestionHeader",children:Object(i.translateWithI18Next)(null===f.a||void 0===f.a?void 0:f.a.SUUGESTED_ITEMS_TEXT)}),Object(r.jsx)("ul",{className:"autoCompleteListPLP",children:N.map(((e,t)=>{var o,a;return Object(r.jsxs)("li",{onClick:()=>(e=>{Object(k.s)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),O(e.mdmId),s(),T(e.name),j(!0,e.name),window.scrollTo(0,0)})(e),"data-testid":"fiter-data-".concat(null===e||void 0===e?void 0:e.name),className:"wrapperAutoCompletePLP",children:[Object(r.jsx)("span",{className:"searchgrey-icon-img",children:Object(r.jsx)(u.a,{srcFile:y})}),Object(r.jsx)("span",{children:null===e||void 0===e||null===(o=e.dname)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.value})]},(null===e||void 0===e?void 0:e.mdmId)+t)}))})]})})]})]})})),ge=o(395),Ie=o(55);const Se=e=>e?"mob-outer-ul":"outer-ul",Ne=(e,t)=>"".concat(e(t)?"caret":""),Ce=e=>{var t,o,a;let{isMobile:i,menu:l,categories:d,setActiveMenuSelection:c,history:s,hasSubcategory:u,handleSetActive:v,getMenusSubcategory:m,onItemClick:b,onNavigationCallBack:j=(()=>{})}=e;const p=Object(n.useRef)(null);Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&(j(!1),p.current=null)}),{threshold:.1});return _.Events.scrollEvent.register("begin",((t,o)=>{p.current=o,p.current&&e.observe(p.current)})),()=>{_.Events.scrollEvent.remove("begin"),p.current&&e.unobserve(p.current)}}),[]);const h=Object(n.useCallback)((e=>{let{e:t,index:o,name:a,url:i,filterNotHiddenItem:l,categories:n,scroller:d,menuNavigationAnalyticsData:c,setActiveMenuSelection:r,history:s}=e;Object(k.v)({e:t,index:o,catergoryName:a,url:i,filterNotHiddenItem:l,categories:n,scroller:d,menuNavigationAnalyticsData:c,setActiveMenuSelection:r,history:s})}),[]),g=Object(y.c)((e=>Object(S.sd)(e.storesReducer))),I=(null===g||void 0===g?void 0:g.storesWithStatus)&&Object(B.b)(null===g||void 0===g?void 0:g.storesWithStatus[0]),C=Object(y.c)((e=>e.tenantReducer)),E=null===C||void 0===C||null===(t=C.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.plp)||void 0===a?void 0:a.setMenuScroll,T=Object(k.k)(E),f=(null===l||void 0===l?void 0:l.length)&&Object(k.a)(l),x=(null===f||void 0===f?void 0:f.length)&&Object(S.T)(f),[D,A]=Object(n.useState)(!0),{userOrderState:R,userOrderStateDispatch:L}=Object(n.useContext)(N.a),{timeBasedCetegory:P,timeBasedAlertModalData:w}=R,{menuReducer:M}=Object(y.c)((e=>e)),F=Object(n.useRef)([]);Object(n.useLayoutEffect)((()=>{var e,t,o,a;const i=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname.split("/").pop(),l=null===x||void 0===x?void 0:x.findIndex((e=>e.url===i));var n,c,r,s,u;l&&-1!==l&&Object(S.hb)((null===(o=window)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.pathname)!==O.Ce.MENU_PAGE,null===d||void 0===d?void 0:d.length)&&!E&&_.scroller.scrollTo(null===(n=x[l])||void 0===n||null===(c=n.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:0,smooth:!0,containerId:null===(r=x[l])||void 0===r?void 0:r.name,offset:(null===F||void 0===F||null===(s=F.current[l])||void 0===s||null===(u=s.props)||void 0===u?void 0:u.offset)-10})}),[]);return Object(r.jsx)("ul",{className:Se(i),children:(null===x||void 0===x?void 0:x.length)&&x.map(((e,t)=>{let{id:o,isHidden:a,url:l,name:n,dname:p,products:g,categories:N}=e;return!a&&(null===g||void 0===g?void 0:g.length)>0&&!(e=>{var t,o,a;const i=null!==R&&void 0!==R&&null!==(t=R.dispositionNew)&&void 0!==t&&t.date?null===R||void 0===R||null===(o=R.dispositionNew)||void 0===o?void 0:o.date:null===(a=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===a?void 0:a.date;if(null!==P&&void 0!==P&&P.timeDifference&&(null===w||void 0===w||!w.isReviewOrderClick))return!1;const l={categoryName:e};return Object(W.i)({item:l,getStoreDetail:I,menuReducer:M,showModal:!1,selectedDate:i})})(n)&&Object(r.jsxs)("li",{id:"category-name-".concat(o),children:[Object(r.jsx)(_.Link,{ref:e=>F.current[t]=e,"data-testid":"category-click-test",to:n.trim(),onClick:e=>((e,t,o,a)=>{j(!0),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault(),Object(W.c)({categoryUrl:o,itemInCart:null===P||void 0===P?void 0:P.timebasedItemInCart,alertType:Object(W.j)(null===P||void 0===P?void 0:P.timebasedItemInCart,null===O.Sb||void 0===O.Sb?void 0:O.Sb.CATEGORY)},P,L)||(i?Object(k.n)(null===t||void 0===t?void 0:t.trim(),o,s):(h({e:e,index:a,name:null===t||void 0===t?void 0:t.trim(),url:o,filterNotHiddenItem:S.T,categories:d,scroller:_.scroller,menuNavigationAnalyticsData:k.o,setActiveMenuSelection:c,history:s}),Object(Ie.q)(t,a)))})(e,n,l,t),spy:!0,offset:Object(S.ad)(i,T,-130),smooth:!0,duration:1500,delay:0,isDynamic:!0,activeClass:Object(S.ad)(i,"active",null),className:"".concat(D&&0===t&&"active"," ").concat(!i&&Ne(u,N)),onSetActive:e=>((e,t)=>{A(!1),v(e,t)})(e,o),children:p[0].value}),!i&&m(N||[],v,b)]},t)}))})};var Ee=d.a.memo(Ce);const{DarkCloseButton:Te}=m.a,fe=e=>{let{filterList:t,dietaryList:o,sortByList:a,searchMode:l,isMobile:n,clearSearch:d,handleClearItems:c,menu:s,categories:u,setActiveMenuSelection:v,history:m,hasSubcategory:O,handleSetActive:b,getMenusSubcategory:j,onItemClick:p,onNavigationCallBack:h}=e;return[...t,...o,...a].length>0||l.isSearchedMode?Object(r.jsxs)("div",{className:n&&"filterListRowMobView",children:[Object(r.jsx)(ge.a,{className:n?"clearAllFilterButtonMob":"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:l.isSearchedMode&&d||c,children:l.isSearchedMode&&Object(i.translateWithI18Next)(w.CLEAR_SEARCH)||Object(i.translateWithI18Next)(w.CLEAR_ALL)}),[...t,...o,...a].map((e=>Object(r.jsx)("div",{className:"",children:Object(r.jsxs)("div",{className:n?"selectedFilterButtonsMob":"selectedFilterButtons",children:[Object(r.jsx)("span",{className:"textFilteredMob",children:e}),Object(r.jsx)("img",{className:n?"mlcrossMob":"mlcross","data-testid":"clear-all-items-".concat(e),onClick:()=>c(e),src:Te,alt:"Close Button"})]})})))]}):Object(r.jsx)(Ee,{isMobile:n,menu:s,categories:u,setActiveMenuSelection:v,history:m,hasSubcategory:O,handleSetActive:b,getMenusSubcategory:j,onItemClick:p,onNavigationCallBack:h})};var xe=d.a.memo(fe);const De=e=>{let{searchMode:t,filterList:o,dietaryList:a,isMobile:l,products:n,showItemsTextOnSearch:d=!1}=e;return t.isSearchedMode&&Object(S.U)(n)>0?Object(r.jsx)(A.a,{className:Object(S.ad)(l,"search-box","pt-5"),children:Object(r.jsxs)("h3",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.U)(n),d&&Object(i.translateWithI18Next)(w.NO_OF_ITEMS),' "'.concat(t.searchedData.toUpperCase(),'"')]})}):[...o,...a].length>0&&0===Object(S.U)(n)&&Object(r.jsx)(A.a,{className:Object(S.ad)(l,"search-box","pt-5 no-data-found-plp"),children:Object(r.jsxs)("h2",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.U)(n)," ",w.RESULTS.toUpperCase()]})})||[...o,...a].length>0&&Object(S.U)(n)>0&&Object(r.jsx)(A.a,{className:Object(S.ad)(l,"search-box","pt-5 ".concat((c=a,c.find((e=>"all"===e.toLowerCase()))?"all-data-found-plp":"data-found-plp"))),children:Object(r.jsxs)("h2",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.U)(n)," ",w.RESULTS.toUpperCase()]})});var c};var Ae=d.a.memo(De),ye=o(73),_e=o(1284),Re=o(41),Le=o(1281),Pe=o(429),we=o(600);const{RESULTS:Me,READ_LESS:ke,LOAD_MORE:Fe,NEXT_AVAILABLE_TIME_SLOT:He,OH_NO_TEXT:Ue,TIME_SLOT_NOT_FOUND:Be,FOR_ALL_PRODUCTS_TEXT:We,FIND_KFC_OTHER_DATA:Ge,FOR_ALL:Ve,AT_TEXT:Ye}=b.a,{SearchIcon:ze,SearchIconGrey:qe,DarkCloseButton:Ke,StripesIcon:Je,MobSearchIcon:Qe}=m.a,{YYYY_MM_DD_hh_mm:Xe,YYYY_MM_DD_h_mm_A:Ze,h_mm_A:$e}=O.sb||{};let et=null;const tt=(e,t,o,a,i)=>{const l=Object(S.Je)(Object(S.Td)(e),e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]||e[w.MENU_PLP_CONSTANT.OFFERS_DEALS],!Object(h.b)(t.location.pathname));return Object(r.jsx)(D.a,{"data-testid":"plp-promo-section-testid",sm:!a&&12,className:it(a,o),children:l&&Object(r.jsx)(T.a,{contentData:Object(S.sd)(e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]),history:t,page:O.he,isMobile:a,onClickScroll:i})})},ot=(e,t,o,a,l)=>{var n;return Object(r.jsxs)(Pe.a,{...e,"data-testid":"address-modal-landing-page",children:[Object(r.jsxs)("span",{className:"time-slot-header-content",children:[Object(r.jsx)("h4",{className:"time-slot-header-text",children:Object(i.translateWithI18Next)(Ue)}),Object(r.jsx)("h4",{className:"time-slot-header-text",children:Object(i.translateWithI18Next)(Be)}),Object(r.jsx)("h4",{className:"time-slot-header-text",children:"".concat(Object(i.translateWithI18Next)(Ve)," ").concat(null===l||void 0===l||null===(n=l.foodLines)||void 0===n?void 0:n.length," ").concat(Object(i.translateWithI18Next)(We)," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"short"}))})]}),Object(r.jsxs)("div",{className:"address-content",children:[Object(r.jsx)("p",{className:"address-content-header",children:Object(S.Sc)(null===a||void 0===a?void 0:a.name)}),Object(r.jsx)("p",{className:"address-content-text",children:null===t||void 0===t?void 0:t.deliveryAddress}),Object(r.jsxs)("span",{className:"d-flex",children:[Object(r.jsx)("p",{children:Object(i.translateWithI18Next)(Ye)}),Object(r.jsx)("a",{className:"address-content-link",children:"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(null===t||void 0===t?void 0:t.date).getDay()]," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"long"}))})]})]}),Object(r.jsx)("div",{className:"find-kfc-date-section",children:Object(r.jsx)(Re.c,{variant:null===Re.b||void 0===Re.b?void 0:Re.b.secondary,"aria-label":"Close","data-testid":"add-new-card-btn",onClick:o,children:Object(i.translateWithI18Next)(Ge)})})]})},at=e=>"plp-filters ".concat(Object(S.hb)(e,"margin-top-catering-plp")),it=(e,t)=>"plp-promo-section ".concat(e&&"mob-plp-col"," ").concat(Object(S.ad)(t,"promo-section-container","".concat(e?"mob-plp-promo-section":"plp-promo-non-localized"))),lt=e=>{var t,o,m,b,C,T,F,H,U,B,W,G,V;let{data:Y,selectedTile:z,tenantData:q,filterList:K=[],dietaryList:J=[],sortByList:Q=[],filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleChangeEventTime:ee,handleClearItems:te,handleCheckbox:oe,handleRadio:ae,handleFilteredData:ie,handleSearchdata:le,tempData:ne={},recommendations:de,catalogs:ce,selectedCat:re,storeClosedData:se,triggerGetRecommends:ue,setProductId:ve,specialEventItemAvailability:me,isMobile:Oe,contentData:be}=e,{menu:je,categories:ge,products:Ie}=Object(S.sd)(Y);const Se=null===be||void 0===be||null===(t=be.storeInfo)||void 0===t?void 0:t.id;null!==(o=Object.keys(ne))&&void 0!==o&&o.length&&({menu:je,categories:ge,products:Ie}=ne);const{userOrderState:Ne,userOrderStateDispatch:Ce}=Object(n.useContext)(N.a),[Ee,Te]=Object(n.useState)(!1),fe=Object(n.useRef)(),De=Object(c.g)(),[Pe,Ue]=Object(n.useState)(!1),[Be,We]=Object(n.useState)(!0),[Ge,Ve]=Object(n.useState)(1),[Ye,it]=Object(n.useState)([]),[lt,nt]=Object(n.useState)(!0),[dt,ct]=Object(n.useState)(!1),[rt,st]=Object(n.useState)(!1),[ut,vt]=Object(n.useState)(""),[mt,Ot]=Object(n.useState)(""),[bt,jt]=Object(n.useState)(!1),[pt,ht]=Object(n.useState)([]),[gt,It]=Object(n.useState)(""),[St,Nt]=Object(n.useState)([]),Ct=Object(n.useRef)(null),[Et,Tt]=Object(n.useState)({isSearchedMode:!1,searchedData:""}),[ft,xt]=Object(n.useState)(""),Dt=Object(y.c)((e=>e.tenantReducer)),{localized:At}=Object(y.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),yt=Object(M.b)(Ne),{SEARCHOURMENU:_t}=P.a,{category_name:Rt="",product_name:Lt=""}=Object(c.i)(),Pt=Object(y.c)((e=>e.cartReducer)),{applicableCoupons:wt=[],cartData:Mt={}}=Pt,kt=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_DESKTOP,D.a),Ft=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_MOBILE,A.a),[Ht,Ut]=Object(n.useState)(!1),[Bt,Wt]=Object(n.useState)(""),Gt=Object(y.c)((e=>e.storesReducer)),[Vt,Yt]=Object(n.useState)(!1),{flatResponse:{itemMapById:zt={}}={}}=null!==(m=Object(y.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==m?m:{},{store:qt}=Object(S.Td)(yt)?yt:{},[Kt,Jt]=Object(n.useState)(!1),[Qt,Xt]=Object(n.useState)([]),Zt=null===Dt||void 0===Dt||null===(b=Dt.componentOptions)||void 0===b||null===(C=b.web)||void 0===C||null===(T=C.plp)||void 0===T?void 0:T.showAllResultsOnMenuSearch,[$t,eo]=Object(n.useState)(!1);Object(n.useEffect)((()=>{window.addEventListener("scroll",(()=>{window.scrollY<15?Wt(""):Wt("scrolled")}))}),[]);const to=(null===yt||void 0===yt?void 0:yt.selectedTime)||"",[oo,ao]=Object(n.useState)(to),{componentOptions:{web:{plp:{showItemsTextOnSearch:io=!1}={}}={}}={},currencyShortName:lo}=Dt,{global:{timeSlotModal:no=!1}={}}=null!==(F=null===Dt||void 0===Dt||null===(H=Dt.componentOptions)||void 0===H?void 0:H.web)&&void 0!==F?F:{},co=Object(n.useMemo)((()=>{var e;return{tenantReducer:Object(S.Td)(Dt)?Dt:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Object(S.ad)(yt,null===yt||void 0===yt?void 0:yt.store,{}),dispositionType:Object(S.ad)(Object(S.hb)(yt,null===yt||void 0===yt?void 0:yt.type),Object(S.Mb)(null===yt||void 0===yt?void 0:yt.type),Object(S.Mb)(null===Dt||void 0===Dt||null===(e=Dt.authoredContent)||void 0===e?void 0:e.defaultdisposition))}}),[yt,Dt]),{dispositionType:ro}=co,so=Object(c.h)(),uo=ro===O.T,vo=Object(y.b)();Object(n.useEffect)((()=>{if(Object.keys(so.state||{}).length>0){var e;const{storeName:t,service:o,showToastAfterLocalization:a}=(null===so||void 0===so||null===(e=so.state)||void 0===e?void 0:e.toastData)||{};Object(we.a)(t,o,a),De.replace({state:null})}}),[so,De]);const mo=Object(n.useMemo)((()=>Object(S.Sd)(Ne.currentStoreInfo)?Object(S.b)(localStorage.getItem("currentStoreInfo")):Ne.currentStoreInfo),[Ne.currentStoreInfo]),[Oo,bo]=Object(n.useState)(""),jo=(null===Mt||void 0===Mt?void 0:Mt.foodLines)||[],po=(e,t)=>e.filter((e=>t[e.item.id])).map((e=>({productId:t[e.item.id].parentID,quantity:null===e||void 0===e?void 0:e.quantity}))),ho=localStorage.getItem("timeSlotsAPIFlag");Object(n.useEffect)((()=>{var e,t,o,a,i;no&&Object(S.Vd)(null===yt||void 0===yt?void 0:yt.type)&&null!==Qt&&void 0!==Qt&&Qt.length&&"false"===ho&&null!==Dt&&void 0!==Dt&&Dt.capacityPerformanceTimeslotSearch&&(localStorage.setItem("timeSlotsAPIFlag",!0),(null===yt||void 0===yt?void 0:yt.date)&&oo&&vo(Object(ye.o)({data:{cart:(null===jo||void 0===jo?void 0:jo.length)>0?po(jo,zt):[],dayOfPickup:Object(I.A)((null===yt||void 0===yt?void 0:yt.date)+" "+oo,Xe),storeId:null===yt||void 0===yt||null===(e=yt.store)||void 0===e?void 0:e.id,availableHours:null===yt||void 0===yt||null===(t=yt.store)||void 0===t||null===(o=t.summary)||void 0===o||null===(a=o.timings)||void 0===a||null===(i=a.operatingHours[0])||void 0===i?void 0:i.availableHours}})))}),[oo,null===Qt||void 0===Qt?void 0:Qt.length]),Object(n.useEffect)((()=>{localStorage.setItem("timeSlotsAPIFlag",!1)}),[null===jo||void 0===jo?void 0:jo.length]),Object(n.useEffect)((()=>{var e,t;no&&Object(S.Vd)(null===yt||void 0===yt?void 0:yt.type)&&(null!==Gt&&void 0!==Gt&&null!==(e=Gt.timeSlotsData)&&void 0!==e&&e.closestTime?bo(null===Gt||void 0===Gt||null===(t=Gt.timeSlotsData)||void 0===t?void 0:t.closestTime):bo(""))}),[null===Gt||void 0===Gt?void 0:Gt.timeSlotsData]);const go=Object(n.useCallback)((e=>{const t=Object(I.A)("".concat(null===yt||void 0===yt?void 0:yt.date," ").concat(e),Ze),o={...yt,epochTime:t,selectedTime:e,time:e};Ce({type:null===x.a||void 0===x.a?void 0:x.a.SET_DISPOSITION_NEW,value:{dispositionNew:o}}),localStorage.setItem("dispositionNew",JSON.stringify(o))}),[yt,Ce]),Io=Object(n.useCallback)((e=>{const t=Object(I.V)(e),o=Object(I.A)((null===yt||void 0===yt?void 0:yt.date)+" "+t,Xe),a=Object(I.C)(o,$e);ao(a),go(a),ee({date:null===yt||void 0===yt?void 0:yt.date,storeId:Se,time:a}),vo(Object(ye.q)({params:{basketId:null===Mt||void 0===Mt?void 0:Mt.id},tenantId:null===Dt||void 0===Dt?void 0:Dt.tenantId,postBody:{isForNow:!1,futureDateTime:o}}))}),[null===Mt||void 0===Mt?void 0:Mt.id,vo,null===yt||void 0===yt?void 0:yt.date,ee,go,Se,null===Dt||void 0===Dt?void 0:Dt.tenantId]);Object(n.useEffect)((()=>{var e;const t=null===so||void 0===so||null===(e=so.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t);Object.fromEntries(e.entries())&&Ce({type:x.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}})}}),[]),Object(n.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(n.useEffect)((()=>{uo&&oo!==to&&(ao(to),go(to))}),[to,uo,oo,go]),Object(n.useEffect)((()=>{Object(S.hb)(null===Ne||void 0===Ne?void 0:Ne.isDeepLinkURL,dt)&&Object(S.Bd)(De)}),[dt,null===Ne||void 0===Ne?void 0:Ne.isDeepLinkURL,De]);const So=Object(n.useCallback)((e=>{if(null!==e&&void 0!==e&&e.parentElement){const t=e.parentElement;t.scrollTo({left:e.offsetLeft-(t.clientWidth-e.offsetWidth)/2,behavior:"smooth"})}}),[]);Object(n.useEffect)((()=>{var e;vo((e={object:Object(g.a)(),contentFull:{content_type:"supportContent","fields.title":"PLPDisclaimer",include:"5"}},{type:l.af,payload:e}))}),[vo]);const No=Object(y.c)((e=>{var t,o;return(null===(t=e.PlpDisclaimerReducerContent)||void 0===t||null===(o=t.response)||void 0===o?void 0:o.plpDisclaimerResponseData)||{}}));Object(n.useEffect)((()=>{var e;if((null===No||void 0===No||null===(e=No.items)||void 0===e?void 0:e.length)>0){var t,o,a,i;const e=null===No||void 0===No||null===(t=No.items[0])||void 0===t||null===(o=t.fields.content[0])||void 0===o||null===(a=o.fields)||void 0===a||null===(i=a.richText)||void 0===i?void 0:i.content;Nt(e)}})),Object(n.useEffect)((()=>{var e;let t=Object(k.j)(null===De||void 0===De||null===(e=De.location)||void 0===e?void 0:e.pathname);xt(t.menuTitle)}),[null===De||void 0===De||null===(U=De.location)||void 0===U?void 0:U.pathname]),Object(n.useEffect)((()=>(document.addEventListener(O.d[0],Ao),()=>{document.removeEventListener(O.d[0],Ao)}))),Object(n.useEffect)((()=>{var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.products)&&void 0!==e&&e.length&&null!==Et&&void 0!==Et&&Et.isSearchedMode&&null!==de&&void 0!==de&&de.length){let e=Object(k.e)(null===Y||void 0===Y?void 0:Y.products,de);it(e)}}),[Y,Et.searchedData,de]),Object(n.useEffect)((()=>{Et.searchedData&&ue(Et.searchedData)}),[Et.searchedData]),Object(n.useEffect)((()=>{const e=Object(k.a)(ge);Object(k.g)(e,Rt,Lt,ve,st,ct,Oe,wt,De,Co,At)}),[ge]);const Co=()=>{var e,t;const o=Object(k.a)(ge);o.length&&_.scroller.scrollTo(null===o||void 0===o||null===(e=o[0])||void 0===e||null===(t=e.name)||void 0===t?void 0:t.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(S.ad)(Oe,-128,-130)})};Object(n.useEffect)((()=>(et&&clearTimeout(et),et=setTimeout((()=>{if(mt!==ut&&!Ne.isMenuPageScrolling){const{selectedCategory:e,selectedSubcategory:t}=Object(k.h)(je,ut);let o=Object(k.f)({...e,currencyShortName:lo},t,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.id,null===q||void 0===q?void 0:q.currencyConversionFactor);Object(k.x)(o,ro),Ot((()=>ut))}}),2e3),()=>{clearTimeout(et)})),[ut]);const Eo=Object(n.useCallback)(((e,t)=>{var o;Oe&&(null===(o=document.getElementById("category-name-".concat(t)))||void 0===o||o.scrollIntoView({inline:"center"}));vt((()=>e))}),[Oe]),To=Object(n.useCallback)((()=>{We(!0),Ue(!1)}),[]),fo=Object(n.useCallback)((()=>{Ue(!0),We(!1)}),[]),xo=Object(n.useCallback)((e=>{Ve(e)}),[]),Do=()=>{var e;const t=null===(e=document)||void 0===e?void 0:e.getElementById("kfc-banner-image"),o=null===t||void 0===t?void 0:t.getBoundingClientRect();nt((null===o||void 0===o?void 0:o.bottom)>2)};Object(n.useEffect)((()=>(window.addEventListener("scroll",Do),()=>window.removeEventListener("scroll",Do))),[Oe]);const Ao=e=>{Ct.current&&!Ct.current.contains(e.target)&&jt(!1)},yo=Object(n.useCallback)((e=>{Object(M.d)(e)}),[]),_o=Object(n.useCallback)(((e,t,o,a)=>{var i;Object(k.o)(t,a+1),vt((()=>t));const l=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");l&&(l.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),De.push({pathname:Object(S.ad)(Object(h.b)(null===De||void 0===De||null===(i=De.location)||void 0===i?void 0:i.pathname),"".concat(O.Ce.CATERING_PAGE).concat(o),"".concat(O.Ce.MENU_PAGE).concat(o))})}),[De]),Ro=Object(n.useCallback)(((e,t)=>{Object(M.c)(e,t,Eo,_o)}),[Eo,_o]),Lo=Object(n.useCallback)((e=>{var t;(null===(t=Ie)||void 0===t?void 0:t.length)>0&&ht(Ie.filter((t=>{var o,a;return Object(S.hb)(!t.isHidden,Object(k.b)(null===t||void 0===t||null===(o=t.dname)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.value,e))})).slice(0,5))}),[Ie]),Po=Object(n.useCallback)((()=>{It(""),jt(!1),Lo(""),le(),Tt({isSearchedMode:!1,searchedData:""})}),[Lo,le]),wo=Object(n.useCallback)((()=>{Object(k.d)(K,J,$,fe,Te)}),[J,K,$]),Mo=Object(y.c)((e=>({contentReducerData:E()(e,"contentReducer.response",null)}))),ko=Object(S.wd)(Object(S.fc)(Mo.contentReducerData)),Fo=()=>{var e,t,o,a;const l=0===(null===mo||void 0===mo||null===(e=mo.summary)||void 0===e||null===(t=e.timings)||void 0===t||null===(o=t.scheduled)||void 0===o||null===(a=o.periods)||void 0===a?void 0:a.length)||!1,n=(()=>{var e;if(!Se||null===Gt||void 0===Gt||!Gt.orderCapacity||null===Gt||void 0===Gt||!Gt.orderCapacity[Se])return[];const t=null!==(e=Object.keys(null===Gt||void 0===Gt?void 0:Gt.orderCapacity[Se])[0])&&void 0!==e?e:null;if(!t)return[];const{date:o}=yt,a=Object(I.p)(),i=null===Gt||void 0===Gt?void 0:Gt.orderCapacity[Se][t];return Object.keys(i).filter((e=>{const t=Object(I.A)("".concat(o," ").concat(Object(I.V)(e)),"YYYY_MM_DD_hh_mm")>a;return parseInt(i[e])>0&&t})).sort(((e,t)=>Object(I.A)("".concat(o," ").concat(Object(I.V)(e)),"YYYY_MM_DD_hh_mm")-Object(I.A)("".concat(o," ").concat(Object(I.V)(t)),"YYYY_MM_DD_hh_mm")))||[]})(),d=l?[]:n,c=d&&d.length>7;return Object(r.jsxs)("div",{className:"special-event-time-nav ".concat(Ht?"":"abridged"),"data-testid":"special-event-time-nav-test",children:[Object(r.jsx)("div",{className:"special-event-time-slots","data-testid":"special-event-time-slots",children:d.map((e=>{const t=Object(I.Y)(oo)===Object(I.V)(e);return Object(r.jsx)("button",{className:"button ".concat(t?"redButton":""),onClick:()=>{Io(e)},ref:t?So:null,children:Object(S.z)(e)},e)}))}),Object(r.jsxs)("div",{className:"".concat(Kt&&"special-event-time-slots-options"),children:[c&&Object(r.jsx)("button",{className:"".concat(Kt?"special-event-time-slots-show-more-only":"special-event-time-slots-show-more"),"data-testid":"show-more-test",onClick:()=>{Ut(!Ht)},children:Object(r.jsxs)("div",{className:"button-content",children:[Object(r.jsx)("span",{children:Ht?Object(i.translateWithI18Next)(ke):Object(i.translateWithI18Next)(Fe)}),Object(r.jsx)("img",{src:Ht?L.a:R.a,alt:Ht?"arrow up":"arrow down"})]})}),Object(r.jsx)(Le.a,{variant:Re.b.primary,fullWidth:!0,"data-testid":"magic-button",onClick:()=>Bo(),cartData:Mt,specialEventItemAvailability:me,availableSlots:Oo,itemMapById:zt,setDisplayMagicButton:Jt,displayMagicButton:Kt,setUnavailableData:Xt,children:"".concat(Object(I.V)(Oo)," ").concat(Object(i.translateWithI18Next)(He))})]})]})},[Ho,Uo]=Object(n.useState)(!1),Bo=()=>{Oo?Uo(!0):Yt(!0)},Wo={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:!0,classNames:"time-slot-unavailable-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>{Yt(!1)},autoFocus:!0},Go=e=>{Ce({type:null===x.a||void 0===x.a?void 0:x.a.UPDATE_IS_MENU_PAGE_SCROLLING,value:e})};return Object(r.jsxs)(d.a.Fragment,{children:[Object(S.hb)(!(null!==Ne&&void 0!==Ne&&Ne.isDeepLinkURL),Object(M.a)(rt,yt,ro,dt,se,ct,De)),Object(S.ad)(Oe,Object(r.jsxs)("div",{className:"mob-plp-au",children:[Ft&&Object(r.jsxs)(Ft,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",isSmartBannerVisible:lt,topValue:null===(B=document)||void 0===B||null===(W=B.getElementById("select-start-order-items"))||void 0===W?void 0:W.clientHeight,className:"mob-nav-row ".concat(Object(S.ad)(Ee,"hide-mob-nav-row","")).concat(Object(S.ad)(At," localized","".concat(Bt," nonlocalized"))),children:[Object(r.jsxs)("div",{onClick:()=>(fe.current.style.width="100%",void Te(!0)),"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(r.jsx)(u.a,{srcFile:Qe,className:"mob-search-img",alt:""}),Object(S.hb)(Object(S.jb)([...K,...J].length,Et.isSearchedMode),Object(r.jsx)("div",{className:"totalFilterAppliedCount",children:Object(S.U)(Ie)}))]}),Object(r.jsx)(xe,{filterList:K,dietaryList:J,sortByList:Q,searchMode:Et,isMobile:Oe,clearSearch:Po,handleClearItems:te,menu:je,categories:ge,setActiveMenuSelection:vt,history:De,hasSubcategory:yo,handleSetActive:Eo,getMenusSubcategory:Ro,onItemClick:_o,onNavigationCallBack:Go})]}),Object(r.jsx)(Ae,{searchMode:Et,filterList:K,dietaryList:J,isMobile:Oe,products:Ie,showItemsTextOnSearch:io}),Object(r.jsx)(A.a,{className:"mob-plp-sections",children:!uo&&tt(ko,De,At,Oe,Co)}),uo?Fo():null,Object(r.jsxs)(A.a,{className:(Vo=Object(h.b)(null===De||void 0===De||null===(G=De.location)||void 0===G?void 0:G.pathname),"mob-plp-sections ".concat(Object(S.hb)(Vo,"margin-top-mob-plp-sections"))),children:[Object(r.jsx)(pe,{isMobile:Oe,searchMode:Et,categories:ge,viewCarousal:Pe,viewUp:Be,changeViewtoUp:To,changeViewtoCarousal:fo,carouselCount:Ge,tenantData:q,recommendProducts:Ye,localized:At,catalogs:ce,storeClosedData:se,selectedCat:re,getCardCount:xo,filterList:K,dietaryList:J,products:Ie,clearSearch:Po,dispositionType:ro,isNavigating:null===Ne||void 0===Ne?void 0:Ne.isMenuPageScrolling}),Object(S.ib)(Object(S.le)(),No,Object(r.jsx)("div",{className:"mob-disclimer-content",children:null===St||void 0===St?void 0:St.map(((e,t)=>{const o=null===St||void 0===St?void 0:St.length;return Object(r.jsx)("div",{className:"info-content-mobile",id:Object(S.ad)(o===t+1,"lastElement-disclimer",""),dangerouslySetInnerHTML:{__html:Object(a.documentToHtmlString)(e)}},"disclaimer-".concat(t))}))}))]}),Object(r.jsx)(he,{ref:fe,className:"sidenav-filter",selectedTile:z,filterList:K,dietaryList:J,sortByListMob:Q,filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleCheckbox:oe,handleClearItems:te,handleRadio:ae,closeSearchFilterMenu:wo,tempData:ne,data:Y,inputSearchData:gt,handleFilteredData:ie,handleSearchdata:le,setSearchModeData:(e,t)=>{Tt({isSearchedMode:e,searchedData:t})},searchedData:Et.searchedData})]}),Object(r.jsxs)(A.a,{className:"plp-menu-row","data-testid":"menus-container",children:[kt&&Object(r.jsxs)(kt,{md:"3",className:"plp-left-nav plp-side-panel".concat(Object(S.ad)(At," localized","")),children:[Object(r.jsx)(A.a,{className:"plp-stripes-section",children:Object(r.jsx)(u.a,{srcFile:Je,className:"stripes-img",alt:""})}),Object(r.jsx)(s,{className:"kfc-menu-title","data-testid":"kfc-menu-heading",value:Object(S.ad)(Object(S.jb)([...K,...J].length,Et.isSearchedMode),"".concat(Object(S.U)(Ie)," ").concat(Object(i.translateWithI18Next)(Me)),ft)}),Object(r.jsx)(xe,{filterList:K,dietaryList:J,sortByList:Q,searchMode:Et,isMobile:Oe,clearSearch:Po,handleClearItems:te,menu:je,categories:ge,setActiveMenuSelection:vt,history:De,hasSubcategory:yo,handleSetActive:Eo,getMenusSubcategory:Ro,onItemClick:_o,onNavigationCallBack:Go})]}),Object(r.jsxs)(D.a,{md:"9",className:"plp-right-nav",children:[!uo&&tt(ko,De,At,Oe,Co),Object(r.jsx)(D.a,{sm:12,className:at(Object(h.b)(null===De||void 0===De||null===(V=De.location)||void 0===V?void 0:V.pathname)),children:Object(r.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(r.jsx)(v.a,{name:"searchInput",className:"search-menu-input",onKeyPress:e=>(e=>{if(e.key===w.ENTER){if(""===e.target.value)return;jt(!1),le(e.target.value.toLowerCase().toString()),Tt({isSearchedMode:!0,searchedData:gt}),window.scrollTo(0,0)}})(e),onChange:e=>(e=>{It(e.target.value),Object(S.sb)(K.length,J.length,Q.length)&&te(),e.target.value.toString().length>2?(jt(!0),Lo(e.target.value.toString())):bt&&(jt(!1),Lo(""),le(),Tt({isSearchedMode:!1,searchedData:""}))})(e),value:gt,placeholder:Object(i.translateWithI18Next)(_t),"aria-label":"Search our menu",onBlur:e=>e.target.placeholder="".concat(Object(i.translateWithI18Next)(_t))}),Object(r.jsx)("span",{className:"search-icon",children:Object(r.jsx)(u.a,{srcFile:ze,className:"search-icon-img",alt:""})}),Object(S.ad)(Object(S.jb)(Object(S.hb)(gt.length>2,!Et.isSearchedMode),Object(S.hb)(Object(S.hb)(gt.length>2,Et.isSearchedMode),Object(S.jb)(Object(S.U)(Object(S.wd)(Ie))>0,0===Object(S.U)(Object(S.wd)(Ie))))),Object(r.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:()=>Po(),src:Ke,alt:""}),null),Object(S.hb)(bt,Object(r.jsx)("div",{ref:Ct,className:"inputAutoCompletePLP",children:(null===pt||void 0===pt?void 0:pt.length)>0&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"SuggestionHeader",children:[" ",Object(i.translateWithI18Next)(f.a.SUUGESTED_ITEMS_TEXT)]}),Object(r.jsx)("ul",{className:"autoCompleteListPLP",children:pt.map(((e,t)=>{var o,a;return Object(r.jsxs)("li",{onClick:()=>(e=>{var t,o,a,i;Object(k.s)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),Zt?le(e.name,!1):ie(e.mdmId),jt(!1),It(null===(t=e.dname)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.value),Tt({isSearchedMode:!0,searchedData:null===(a=e.dname)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value}),window.scrollTo(0,0)})(e),"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(r.jsx)("span",{className:"searchgrey-icon-img",children:Object(r.jsx)(u.a,{srcFile:qe,alt:""})}),Object(r.jsx)("span",{children:null===(o=e.dname)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.value})]},e.mdmId+t)}))})]})}))]})}),Object(r.jsx)(Ae,{searchMode:Et,filterList:K,dietaryList:J,isMobile:Oe,products:Ie,showItemsTextOnSearch:io}),uo?Fo():null,Object(r.jsx)(A.a,{className:Object(S.ad)(Object(S.sb)(Et.isSearchedMode,K.length>0,J.length>0),"position-relative","plp-sections"),children:Object(r.jsx)(pe,{isMobile:Oe,searchMode:Et,categories:ge,viewCarousal:Pe,viewUp:Be,changeViewtoUp:To,changeViewtoCarousal:fo,carouselCount:Ge,tenantData:q,catalogs:ce,storeClosedData:se,selectedCat:re,getCardCount:xo,filterList:K,dietaryList:J,products:Ie,clearSearch:Po,recommendProducts:Ye,localized:At,dispositionType:ro,specialEventItemAvailability:me,isNavigating:null===Ne||void 0===Ne?void 0:Ne.isMenuPageScrolling})}),Object(S.ib)(Object(S.le)(),No,Object(r.jsx)("div",{className:"info-content",children:null===St||void 0===St?void 0:St.map(((e,t)=>Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(a.documentToHtmlString)(e)}},"some-disc-".concat(t))))}))]})]})),Ho&&Object(r.jsx)(_e.a,{visibility:Ho,setVisibility:Uo}),Vt&&ot(Wo,yt,(()=>{Uo(!Ho),Yt(!1)}),qt,Mt)]});var Vo},nt=d.a.memo(lt)},616:function(e,t,o){"use strict";o.r(t),o.d(t,"analyzeFoodLine",(function(){return Oo})),o.d(t,"defaultFoodLine",(function(){return bo})),o.d(t,"checkSummaryStatus",(function(){return jo})),o.d(t,"nearByStoreClosedPopup",(function(){return po})),o.d(t,"confirmChangesSubmit",(function(){return go})),o.d(t,"getViewCartGtrmData",(function(){return No})),o.d(t,"pontaPageRedirectionCheck",(function(){return Co}));var a=o(63),i=o(3),l=o.n(i),n=o(28),d=o(62),c=o(35),r=o(419),s=o.n(r),u=o(42),v=o.n(u),m=o(73),O=o(1114),b=o(145),j=o(24),p=o(20),h=o.n(p),g=o(80),I=o(132),S=o(1140),N=o(85),C=o(397),E=o(5),T=o(44),f=o(0),x=o(432),D=o(433),A=o(6),y=o(61),_=o(15),R=o(46),L=o(4),P=o(2);var w=e=>{const{isMobile:t}=e,{CART_HEADER:o}=y.a,{GreenCheck:a}=_.a,{ADD_HOPE_DONATION_SUCCESS:i}=L.a,l=Object(I.b)(g.b);return Object(P.jsxs)(P.Fragment,{children:[(null===l||void 0===l?void 0:l.showAddHopeNotification)&&Object(P.jsxs)("div",{"data-testid":"cart-edit-notification",className:"cartEditMessage-container",id:"cartEditMessage-container-id",children:[Object(P.jsx)(R.a,{srcFile:a,className:"cartEditMessage-icon"}),Object(P.jsx)("span",{className:"cartEditMessage",children:Object(A.translateWithI18Next)(i)})]}),Object(P.jsxs)("div",{className:"cart-header","data-testid":"cart-header-test",children:[Object(P.jsx)("img",{src:t?D.a:x.a,alt:" "}),Object(P.jsx)("h1",{className:"cart-header-text",children:Object(A.translateWithI18Next)(o)})]})]})},M=o(41),k=o(169);var F=e=>{const{faqAndContactData:t={},isMobile:o}=e,{faqData:a={},contactData:i={}}=t,{CART_FAQ_HEADER:l}=y.a,{Call_Icon:n,MailIcon:d}=_.a;return Object(P.jsxs)("div",{className:"cart-faq-container","data-testid":"cart-faq-test",children:[(null===a||void 0===a?void 0:a.faqButtonText)&&Object(P.jsxs)("div",{className:"cart-faq-header-container",children:[Object(P.jsx)("h2",{className:"cart-faq-header",children:Object(A.translateWithI18Next)(l)}),Object(P.jsx)("div",{className:"cart-faq-list",children:a.faqContent&&a.faqContent.map(((e,t)=>t<3?Object(P.jsx)("div",{className:"cart-accordian-container",children:Object(P.jsx)(k.a,{header:e.question,children:Object(P.jsx)("div",{className:"cart-accordian-content",children:e.answer})})},t):null))}),Object(P.jsx)(M.a,{className:"button  whiteButton blackBorder faq-view-all",onClickHandler:()=>{e.history.push({pathname:"/faq"})},"data-testid":"view-all-btn","aria-label":Object(A.translateWithI18Next)("viewallFaqs"),children:a.faqButtonText})]}),Object(P.jsxs)("div",{className:"cart-faq-contact-header-container",children:[Object(P.jsx)("h2",{className:"cart-faq-contact-header",children:i.headline}),Object(P.jsxs)("div",{className:"cart-faq-contact-content",children:[Object(P.jsx)("a",{href:"tel: 080-4275-4444",className:"anchorTags",tabIndex:"-1",children:Object(P.jsxs)(M.a,{className:"button  whiteButton blackBorder call-contact-button","aria-label":Object(A.translateWithI18Next)("callUs"),children:[Object(P.jsx)("img",{src:n,alt:" "}),Object(P.jsx)("span",{className:"contact-text",children:o?"Call Us":i.callButtonText})]})}),Object(P.jsxs)(M.a,{className:"button  whiteButton blackBorder mail-contact-button",onClickHandler:()=>{e.history.push({pathname:"/contactus"})},"data-testid":"contact-us-button","aria-label":Object(A.translateWithI18Next)("contactUs"),children:[Object(P.jsx)("img",{src:d,alt:" "}),Object(P.jsx)("span",{className:"contact-text",children:i.mailButtonText})]})]})]})]})},H=o(1118),U=o(1099),B=o(264),W=o(173),G=o(1098),V=o(59),Y=o(16),z=o(1126),q=o(396),K=o(409),J=o(12);const{SHOW_PDP_ALERT_POPUP:Q,ADD_HOPE:X,CARRY_BAG:Z,ADD_HOPE_ITEM:$}=y.a,ee=e=>{let{isAddedPromosCoupon:t,item:o,setConfirmationModel:a,itemRemoveHandler:i,isRemoveItemLoading:l,setRemoveItem:n,sliceDispatch:d}=e;var c;l||(!t&&V.b.dark(Object(P.jsx)("div",{className:"img-text-div",children:Object(P.jsx)("span",{className:"notifyText notifyText-in",children:Object(A.translateWithI18Next)(null===y.a||void 0===y.a||null===(c=y.a.TOAST_NOTIFICATION)||void 0===c?void 0:c.ITEM_REMOVED)})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:V.b.POSITION.BOTTOM_CENTER,autoClose:!0}),t?a(o):i(o,n),d(Object(g.d)({key:Q,value:!1})))},te=e=>e?"get-paper-bag-fee":"",oe=e=>e?"paper-bag-fee":"";var ae=Object(d.j)((e=>{var t,o,a,l,d,c,r,s,u,v,m;const{contentData:O,isMobile:b,tenantReducer:j,itemCustomiseHandler:p,itemRemoveHandler:h,getQuantityPrice:S,flatResponse:N,history:T,dispositionType:f,promosApplied:x,disCountLinesItems:D,setConfirmationModel:w,isRemoveItemLoading:M,timeBasedCetegory:k,timeBasedAlertModalData:F,discountAmounts:H,paymentDiscountAmounts:U,productMapByItemId:V,itemEditHandler:ae,getEventItemAvailability:ie,isEvent:le,eventAvailabilities:ne,availableTimeSlot:de}=e,ce=null===j||void 0===j||null===(t=j.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.global)||void 0===a?void 0:a.itemNotAvailableAtStoreMsg,re=null===j||void 0===j?void 0:j.removeCTAFlag,se=null===j||void 0===j?void 0:j.enableDeliveryMenuOption,ue=null===j||void 0===j||null===(l=j.componentOptions)||void 0===l||null===(d=l.PlpProductCard)||void 0===d?void 0:d.showDefaultImage,{enableOrderCapacityManagement:ve}=j,{ANALYTICS_EVENTS:me,REMOVE_ITEM:Oe}=y.a,{REMOVE:be,CUSTOM:je,PROMO_TEXT:pe,EDIT:he,ITEM_CURRENLTY_UNAVAILABLE:ge}=L.a,{Promos_Coupon_Icon:Ie}=_.a,{cartReducer:Se={},applicableCoupons:Ne=[]}=Object(n.c)((e=>e.cartReducer)),Ce=Object(I.a)(),Ee=Object(n.c)((e=>{let{menuReducer:{exclusionsResponse:t}}=e;return t})),[Te,fe]=Object(i.useState)([]),[xe,De]=Object(i.useState)(!1),[Ae,ye]=Object(i.useState)({}),{showEditOptionForCartItems:_e,showCustomizeForFreeItem:Re}=null===j||void 0===j||null===(c=j.componentOptions)||void 0===c||null===(r=c.web)||void 0===r?void 0:r.cartPage,Le=null===j||void 0===j||null===(s=j.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.cartPage)||void 0===v?void 0:v.hideCarryBagAndAddHopeFromCartItems,Pe=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),we=Object(n.c)((e=>Object(E.sd)(e.storesReducer))),Me=(null===we||void 0===we?void 0:we.storesWithStatus)&&Object(K.b)(null===we||void 0===we?void 0:we.storesWithStatus[0]);Object(i.useEffect)((()=>{var e,t;if((null===Se||void 0===Se||null===(e=Se.cartData)||void 0===e||null===(t=e.removedAddOnItems)||void 0===t?void 0:t.length)>0||null!==Se&&void 0!==Se&&Se.itemRemove){var o,a;const e=(null===Se||void 0===Se||null===(o=Se.cartData)||void 0===o||null===(a=o.removedAddOnItems)||void 0===a?void 0:a.length)>0&&Object(W.a)(null===Se||void 0===Se?void 0:Se.cartData,V,H);let t=(null===Te||void 0===Te?void 0:Te.length)>0?[...Te]:[];e&&(t=[...t,...e]),(e||t)&&(null===Se||void 0===Se?void 0:Se.itemRemove)&&Object(G.h)(me.REMOVE,t)}}),[null===Se||void 0===Se||null===(m=Se.cartData)||void 0===m?void 0:m.removedAddOnItems,null===Se||void 0===Se?void 0:Se.itemRemove,Te]);return Object(P.jsx)(P.Fragment,{children:null!==O&&void 0!==O&&O.length?null===O||void 0===O?void 0:O.map((e=>{var t,o,a,i,l,n,d,c,r,s,u;const v=(null===e||void 0===e?void 0:e.name)===(null===Y.a||void 0===Y.a?void 0:Y.a.PAPER_BAG_FEE),m=null===e||void 0===e?void 0:e.custom,{discountComponents:O}=e,I=(null===e||void 0===e?void 0:e.freeItem)&&(null===O||void 0===O?void 0:O.length)>0,y=!(null===e||void 0===e||!e.isProductPromo)&&(e=>{const t=x&&Object(C.g)(e,D);return(null===t||void 0===t?void 0:t.length)>0})(null===e||void 0===e?void 0:e.foodItemId),_=((e,t,o)=>e?t:{...t,foodName:Object(C.v)(o)})(b,e,m);e.maxQuantity=(e=>{const t=x&&Object(C.g)(e,D);var o;return(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.max)})(null===e||void 0===e?void 0:e.foodItemId),e.minQuantity=(e=>{const t=x&&Object(C.g)(e,D);var o;return(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.min)})(null===e||void 0===e?void 0:e.foodItemId);const L=Object(C.k)(null===e||void 0===e?void 0:e.modifiers,Ee),H=null===Ee||void 0===Ee?void 0:Ee.filter((t=>(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.foodItemId))),W=((e,t,o)=>((null===e||void 0===e?void 0:e.categoryUrl)===(null===t||void 0===t?void 0:t.url)||(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.categoryId))&&(null===t||void 0===t?void 0:t.isTimeExpired)&&((null===o||void 0===o?void 0:o.isBrowseMenuOrReviewOrderCTAClicked)||(null===o||void 0===o?void 0:o.title)===(null===Y.a||void 0===Y.a?void 0:Y.a.CART_REVIEW_ORDER_MODAL)&&(null===o||void 0===o?void 0:o.isCloseButtonClicked)))(e,k,F),G=Object(q.b)(Pe,Me,null===e||void 0===e?void 0:e.foodItemId),V=!!(le&&(null===ne||void 0===ne?void 0:ne.length)>0)&&!ie(null===e||void 0===e?void 0:e.foodItemId,!0),K=null!==j&&void 0!==j&&j.customizeFieldFlag?null===e||void 0===e?void 0:e.customizable:null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.length;return null!==e&&void 0!==e&&e.toRemove||!(W||G||V)||(e.toRemove=!0),((e,t)=>e?t.name!==X&&t.name!==Z&&t.name!==$:t)(Le,e)&&Object(P.jsxs)("div",{className:"".concat(Object(C.i)(null===e||void 0===e?void 0:e.toRemove)," \n          ").concat(te(v)," cart-card-mobile"),children:[Object(P.jsx)("div",{className:"cart-image-container",style:null===e||void 0===e||null===(o=e.imageData)||void 0===o?void 0:o.backgroundsrc,children:Object(P.jsx)(R.a,{srcFile:null===e||void 0===e||null===(a=e.imageData)||void 0===a?void 0:a.src,altText:null===e||void 0===e||null===(i=e.imageData)||void 0===i?void 0:i.altText,className:"".concat(ue&&Object(C.t)(null===e||void 0===e||null===(l=e.imageData)||void 0===l?void 0:l.backgroundsrc)," ").concat(Object(C.l)(null===e||void 0===e?void 0:e.toRemove)),defaultPath:Object(E.bc)(null,j,ue)})}),Object(P.jsxs)("div",{className:"".concat(oe(v)," cart-food-content-parent-container"),children:[!b&&Object(P.jsxs)("div",{className:"cart-food-card-item-name",children:[y&&Object(P.jsxs)("span",{className:"cart-coupon-link",children:[Object(P.jsx)(B.a,{src:Ie,alt:"",className:"cart-offers-icon"}),Object(P.jsx)("span",{className:"cart-coupon-text",children:pe})]}),null===e||void 0===e?void 0:e.foodName]}),Object(P.jsxs)("div",{className:"cart-food-card-customise-details",children:[Object(P.jsxs)("div",{className:"cart-food-card-customised",children:[y&&Object(P.jsxs)("span",{className:"cart-coupon-link",children:[Object(P.jsx)(B.a,{src:Ie,alt:"",className:"cart-offers-icon"}),Object(P.jsx)("span",{className:"cart-coupon-text",children:pe})]}),Object(C.p)(e,_,j,m)]}),Object(P.jsxs)("div",{className:"cart-food-card-details",children:[m&&Object(P.jsx)("div",{className:"cart-food-card-custom-tag",children:Object(A.translateWithI18Next)(je)}),Object(P.jsx)("div",{className:"cart-food-card-quantity-modifier",children:S(e,I,U)})]})]}),!v&&Object(P.jsxs)("div",{className:"cart-food-card-item-edit-remove",children:[null!==H&&void 0!==H&&H.length||W||null!==e&&void 0!==e&&null!==(n=e.discountComponents)&&void 0!==n&&null!==(d=n[0])&&void 0!==d&&d.isDiscounteditem&&!Re||!((null===e||void 0===e||!e.toRemove)&&K||null!==L&&void 0!==L&&L.length)?null:Object(P.jsx)("span",{className:"cart-food-edit","data-testid":"cart-food-edit",onClick:()=>_e?ae(e):p(N,e,T,f,Ce,g.d,Ne,se),children:_e?Object(A.translateWithI18Next)(he):Object(C.f)(m)}),Object(C.j)(re,null===e||void 0===e?void 0:e.freeItem,null===e||void 0===e?void 0:e.toRemove)&&Object(P.jsx)("span",{tabIndex:"0","aria-label":"do you want to remove the above itams",className:"cart-food-remove","data-testid":"cart-food-remove",onClick:()=>null!==U&&void 0!==U&&U.length?(e=>{let{item:t,setCartItem:o,setCouponModal:a,sliceDispatch:i}=e;a(!0),o(t),i(Object(g.d)({key:Q,value:!1}))})({item:e,setCartItem:ye,setCouponModal:De,sliceDispatch:Ce}):ee({isAddedPromosCoupon:y,item:e,setConfirmationModel:w,itemRemoveHandler:h,isRemoveItemLoading:M,setRemoveItem:fe,sliceDispatch:Ce}),children:Object(A.translateWithI18Next)(be)})]})]}),Object(P.jsx)(C.a,{isRemove:null===e||void 0===e?void 0:e.toRemove,children:Object(P.jsxs)("div",{className:"cart-food-content-error",children:[ve?Object(A.translateWithI18Next)(ge):Object(C.q)({dispositionType:f,itemNotAvailableAtStoreMsg:ce}),!ve&&(null===we||void 0===we||null===(c=we.timeSlotsData)||void 0===c?void 0:c.closestTime)&&Object(P.jsxs)("div",{style:{color:"#000",fontWeight:100},children:[Object(J.V)(null===we||void 0===we||null===(r=we.timeSlotsData)||void 0===r?void 0:r.closestTime)," ",Object(A.translateWithI18Next)("availableAt")]})]})}),Object(P.jsxs)("div",{className:"cart-food-card-quantity-modifier-mobile",children:[Object(P.jsx)("hr",{}),S(e,I),Object(P.jsx)(C.a,{isRemove:null===e||void 0===e?void 0:e.toRemove,children:Object(P.jsxs)("div",{className:"cart-food-content-error",children:[ve?Object(A.translateWithI18Next)(ge):Object(C.q)({dispositionType:f,itemNotAvailableAtStoreMsg:ce}),!ve&&(null===we||void 0===we||null===(s=we.timeSlotsData)||void 0===s?void 0:s.closestTime)&&Object(P.jsxs)("div",{style:{color:"#000",fontWeight:100},children:[Object(J.V)(null===we||void 0===we||null===(u=we.timeSlotsData)||void 0===u?void 0:u.closestTime)," ",Object(A.translateWithI18Next)("availableAt")]})]})}),xe&&Object(P.jsx)(z.a,{isAddedPromosCoupon:I,cartItem:Ae,setConfirmationModel:w,itemRemoveHandler:h,isRemoveItemLoading:M,setCouponModal:De,setRemoveItem:fe,itemCustomiseHandler:p,flag:Oe,itemRemoveWrapper:ee})]})]},null===e||void 0===e?void 0:e.foodLineId)})):null})}));const{GreenCheck:ie}=_.a,{CART_EDIT_NOTIFICATION:le}=L.a;var ne=e=>{let{contentData:t,getPwaStorageData:o}=e,a=(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.some((e=>(null===e||void 0===e?void 0:e.custom)&&e.customizable))),i=a&&o[f.gd.CUSTOMISE_ITEM_CART];return a&&i?Object(P.jsxs)("div",{"data-testid":"cart-edit-notification",className:"cartEditMessage-container",id:"cartEditMessage-container-id",children:[Object(P.jsx)(R.a,{srcFile:ie,className:"cartEditMessage-icon"}),Object(P.jsx)("span",{className:"cartEditMessage",children:Object(A.translateWithI18Next)(le)})]}):null},de=o(86);var ce=e=>{var t;const{contentData:o,setConfirmationModel:a,loggedIn:i,allowPromoGuestMember:l,hideProductBasedPromoCoupon:n=!1}=e,{Error_Yellow:d,Promos_Coupon_Icon:c}=_.a,{REMOVE:r,SIGN_IN:s,SIGN_UP:u,PROMO_UNMET_MESSAGE:v,NOT_SIGNED_IN:m}=L.a,{APPLIED:O}=y.a,b=e=>{let{item:t,setConfirmationModel:o=(()=>{})}=e;if(!n||!(null!==t&&void 0!==t&&t.isError))return Object(P.jsx)("span",{"aria-label":"do you want to remove the above itams",className:"cart-food-card-item-edit-remove","data-testid":"cart-promos-remove",onClick:()=>o(t),children:Object(A.translateWithI18Next)(r)})};return Object(P.jsx)(P.Fragment,{children:null===o||void 0===o||null===(t=o.map)||void 0===t?void 0:t.call(o,(e=>{var t,o;const r=!((null===e||void 0===e?void 0:e.status)!==O||!i&&!l);return(!n||0===(null===e||void 0===e||null===(t=e.itemPromo)||void 0===t?void 0:t.length)||(null===e||void 0===e?void 0:e.isError)||!r)&&Object(P.jsxs)("div",{className:"cart-food-item-container cart-food-item-coupon-container ".concat(!r&&"invalid"),children:[Object(P.jsxs)("div",{className:"cart-offers-container",children:[Object(P.jsxs)("div",{className:"cart-offers-link",children:[Object(P.jsx)(B.a,{src:c,alt:"Promos_Coupon_Icon",className:"cart-offers-icon"}),Object(P.jsx)("span",{className:"cart-offers-text",children:null===e||void 0===e?void 0:e.title})]}),b({item:e,setConfirmationModel:a})]}),!r&&Object(P.jsx)("div",{className:"promos-summary-cart-notification",children:Object(P.jsxs)("div",{className:"notify-alert",children:[Object(P.jsx)(B.a,{src:d,alt:"Error_Yellow",className:"location-alert-icon"}),Object(P.jsxs)("div",{className:"promos-error-massage",children:[Object(A.translateWithI18Next)(v),Object(P.jsxs)("ul",{className:"promos-error-list",children:[!i&&!l&&Object(P.jsxs)("li",{children:[Object(A.translateWithI18Next)(m)," ",Object(P.jsxs)("span",{className:"cart-promos-signinup-text","data-testid":"cart-promos-signin",onClick:()=>Object(de.c)(),children:[Object(P.jsx)("span",{className:"cart-promos-signin",children:Object(A.translateWithI18Next)(s)}),"/",Object(P.jsx)("span",{className:"cart-promos-signin",children:Object(A.translateWithI18Next)(u)})]})]}),(null===e||void 0===e||null===(o=e.allErrorMessage)||void 0===o?void 0:o.length)>0&&(j=null===e||void 0===e?void 0:e.allErrorMessage,null===j||void 0===j?void 0:j.map((e=>Object(P.jsx)("li",{children:e}))))]})]})]})})]},null===e||void 0===e?void 0:e.couponCode);var j}))})},re=o(236),se=o(92);const{TOAST_NOTIFICATION:ue}=y.a,ve=Object(P.jsx)(R.a,{srcFile:_.a.Error});var me=o(235),Oe=o(106),be=o(1281),je=o(1284);o(520);const{AVAILABLE_AT:pe,DISPOSITION_ITEM_NOT_AVAILABLE:he,ITEM_CURRENLTY_UNAVAILABLE:ge,NEXT_AVAILABLE_TIME_SLOT:Ie}=L.a,Se=e=>e?"".concat(Object(J.V)(e)," ").concat(Object(A.translateWithI18Next)(Ie)):"",{BACK_TO_MENU:Ne,VIEW_ALL_PROMOS:Ce,PROMO_REMOVE_CONFIRMATION:Ee,YES_REMOVE:Te,CANCEL:fe,MAX_ORDER_PROMO:xe,CHECKOUT_UNAVAILABLE_AT_STORE:De,UNAVAILABLE_ITEMS:Ae,REMOVE_ALL_UNAVAILABLE_TEXT:ye,FIND_OTHER_TIME:_e,NEW_MENU_KICKED_IN:Re,ADJUST_ADDON_QUANTITY:Le}=L.a,Pe=(e,t,o,a,i,l,n,d)=>{const c=((e,t)=>{var o,a;return(null===e||void 0===e?void 0:e.recommendationType)==(null===me.a||void 0===me.a?void 0:me.a.ADDONS)&&null!==e&&void 0!==e&&e.isRestrictedAddon?null===t||void 0===t||null===(o=t[null===e||void 0===e?void 0:e.parentId])||void 0===o?void 0:o.isAddonsNotAddable:!((null===e||void 0===e?void 0:e.recommendationType)!=(null===me.a||void 0===me.a?void 0:me.a.CART_ADDONS)||null===e||void 0===e||!e.isRestrictedAddon)&&(null===t||void 0===t||null===(a=t[null===me.a||void 0===me.a?void 0:me.a.CART_ADDONS])||void 0===a?void 0:a.isAddonsNotAddable)})(e,d);return(null===e||void 0===e?void 0:e.name)!==(null===Y.a||void 0===Y.a?void 0:Y.a.PAPER_BAG_FEE)&&(null!==e&&void 0!==e&&e.toRemove?null:Object(P.jsx)(U.a,{itemQuantity:t,itemCount:null===e||void 0===e?void 0:e.quantity,updateItemQuantity:a,quantityAction:o,item:e,itemName:null===e||void 0===e?void 0:e.foodName,maxItemCountPerLineItem:(null===e||void 0===e?void 0:e.isProductPromo)&&(null===e||void 0===e?void 0:e.maxQuantity)||i,hideChild:!0,cartItemCount:1,"data-testid":"quantity-modifier-item",paymentDiscountAmounts:l,isAddonsNotAddable:c}))};var we=e=>{var t,o,a,l,c,r,s,u,v,m;const{contentData:O=[],cartSummary:b,addHope:j,carryBag:p,maxItemCountPerLineItem:C,isMobile:T,currencySymbol:x,loggedIn:D,storesWithStatus:L,isRemoveItemLoading:w,cartData:k,availableTimeSlot:F,itemMapById:U,updateEpochTime:W,setIsMagicButtonClicked:G,isMagicButtonClicked:z,visibility:K,setVisibility:Q,showChristmasOrderSection:X,disableCheckout:Z,restrictedAddonRules:$}=e,{discountAmounts:ee,removedAddOnItems:te,paymentDiscountAmounts:oe,taxAmounts:ie}=b,{CART_FOOD_LIST_ITEM:le,QUANTITY_ACTION:de,ALERT:me}=y.a,{ITEM_QUANTITY:pe,REMOVE:he,REMOVE_ALL:ge}=le,{ViewDetailsArrowBlack:Ie,CartError:xe,Error_Yellow:Le}=_.a,{categories:we=[]}=Object(n.c)((e=>e.menuReducer.data||{})),Me=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{productMapByItemId:ke={}}=null!==Me&&void 0!==Me?Me:{},{couponCode:Fe=""}=(null===ee||void 0===ee?void 0:ee[0])||{},He=Object(n.c)((e=>e.tenantReducer||{})),{web:{global:{showPriceWithTax:Ue=!1,pricewithNumberofDecimalDigit:Be}={}}={},cartPage:{cartShowSeeAllCouponsLink:We=!0}}=null!==(t=null===He||void 0===He?void 0:He.componentOptions)&&void 0!==t?t:{},{showPromoRewardsMessage:Ge=!1}=null===He||void 0===He||null===(o=He.componentOptions)||void 0===o||null===(a=o.web)||void 0===a?void 0:a.cartPage,{hideProductBasedPromoCoupon:Ve=!1}=null===He||void 0===He||null===(l=He.componentOptions)||void 0===l?void 0:l.cartPage,Ye=Object(n.c)((e=>e.appStateReducer.userStatus)),ze=Object(E.od)(null===Ye||void 0===Ye?void 0:Ye.localized,null===Ye||void 0===Ye?void 0:Ye.loggedIn),{tenantId:qe,currencyShortName:Ke,currencyConversionFactor:Je}=He,{userOrderState:Qe,userOrderStateDispatch:Xe}=Object(i.useContext)(N.a),{cartItems:Ze,timeBasedCetegory:$e,timeBasedAlertModalData:et,cartAlertData:tt}=Qe,ot=Object(I.a)(),{allowPromoGuestMember:at,showRemoveAllOption:it,navigateToPromosPage:lt,hideFindOtherTimeButton:nt}=null===He||void 0===He||null===(c=He.componentOptions)||void 0===c||null===(r=c.web)||void 0===r?void 0:r.cartPage,dt=Object(I.b)(g.b);(e=>{Object(i.useEffect)((()=>{h()(e)||Object(E.Df)(Object(A.translateWithI18Next)(ue.ADDON_REMOVED),ve,"addon-removed-toast")}),[e])})(te);const ct=Object(E.Sd)(null===Qe||void 0===Qe?void 0:Qe.dispositionNew)?JSON.parse(localStorage.getItem(f.gd.DISPOSITION_NEW)):null===Qe||void 0===Qe?void 0:Qe.dispositionNew,[rt,st]=Object(i.useState)(!1),{eventAvailabilities:ut,getEventItemAvailability:vt,isEvent:mt,fetchEventItemAvailability:Ot}=Object(S.a)(),{YYYY_MM_DD_hh_mm:bt,h_mm_A:jt}=f.sb||{},pt=Object(i.useMemo)((()=>{var e;return{dispositionType:ct&&ct.type?Object(E.Mb)(ct.type):Object(E.Mb)(null===(e=He.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[ct,He]),ht=Object(i.useMemo)((()=>{if(h()(et))return Object(q.k)(null===Y.a||void 0===Y.a?void 0:Y.a.RECENT_DYNAMIC_MENU_ALERT_DETAILS);{const e={isBrowseMenuOrReviewOrderCTAClicked:null===et||void 0===et?void 0:et.isBrowseMenuOrReviewOrderCTAClicked,title:null===et||void 0===et?void 0:et.title,isCloseButtonClicked:null===et||void 0===et?void 0:et.isCloseButtonClicked};return localStorage.setItem(null===Y.a||void 0===Y.a?void 0:Y.a.RECENT_DYNAMIC_MENU_ALERT_DETAILS,JSON.stringify(e)),e}}),[et]),{dispositionType:gt}=pt,It=Object(n.b)(),St=Object(d.g)(),{itemQuantityHandler:Nt,itemRemoveHandler:Ct,itemEditHandler:Et,addMoreMenuHandler:Tt,itemCustomiseHandler:ft,navigateToPromos:xt,promosRemoveHandler:Dt,itemAllRemoveAction:At,itemAllRemoveHandler:yt,showCartAlert:_t}=Object(H.a)(b,qe,Ze,ke,Xe,It,St,ze,Ke,[],dt,Fe,"",Je),Rt=(null===ee||void 0===ee?void 0:ee.length)>0,[Lt,Pt]=Object(i.useState)(!1),[wt,Mt]=Object(i.useState)({}),kt=()=>{Pt(!1)},Ft=e=>{Pt(!0),Mt(e)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"cart-food-container","data-testid":"cart-food-item-test",children:[Object(P.jsxs)("div",{className:"back-to-menu-cart-page viewall-promos-cart-page",children:[Object(P.jsx)(M.a,{className:"button-link","data-testid":"back-to-menu",onClick:()=>Tt(gt,null===He||void 0===He?void 0:He.enableDeliveryMenuOption),children:Object(A.translateWithI18Next)(Ne)}),Ge&&We&&Object(P.jsxs)("div",{className:"view-all-text",children:[Object(P.jsx)("span",{className:"offersViewAll-link promosHeader-right-text",onClick:()=>xt(lt),"data-testid":"view-all-deals-handler",children:Object(A.translateWithI18Next)(Ce)}),Object(P.jsx)(B.a,{className:"promosViewAlldeals-arrow",src:Ie})]})]}),((null===$e||void 0===$e?void 0:$e.timebasedItemInCart)&&(null===$e||void 0===$e?void 0:$e.isTimeExpired)&&(null===ht||void 0===ht?void 0:ht.title)===(null===Y.a||void 0===Y.a?void 0:Y.a.CART_REVIEW_ORDER_MODAL)&&(null===ht||void 0===ht?void 0:ht.isCloseButtonClicked)||(null===$e||void 0===$e?void 0:$e.isTimeExpired)&&(null===ht||void 0===ht?void 0:ht.isBrowseMenuOrReviewOrderCTAClicked))&&Object(P.jsx)("div",{className:"cart-food-item-container ItemUnavailable-remove-section",children:Object(P.jsxs)("div",{className:"cart-removeall-content-parent-container",children:[Object(P.jsxs)("div",{className:"removeall-cart-text-container",children:[Object(P.jsx)("div",{className:"cart-removeall-text-header",children:Object(A.translateWithI18Next)(ye)}),Object(P.jsx)("div",{className:"cart-removeall-text-content",children:"".concat(Object(A.translateWithI18Next)(Re),", ").concat(Object(A.translateWithI18Next)(Ae))})]}),Object(P.jsx)(M.c,{className:"cart-removeall-button","aria-label":"Remove all products",onClick:()=>{const e=null===O||void 0===O?void 0:O.filter((e=>null===e||void 0===e?void 0:e.toRemove));if(null!==e&&void 0!==e&&e.length){let t=0;const o=()=>{const a=e[t];Ct(a),t++,setTimeout((()=>{var a;t<(null===e||void 0===e?void 0:e.length)?o():(V.b.dark(Object(P.jsx)("div",{className:"img-text-div",children:Object(P.jsx)("span",{className:"notifyText notifyText-in",children:Object(A.translateWithI18Next)(null===y.a||void 0===y.a||null===(a=y.a.TOAST_NOTIFICATION)||void 0===a?void 0:a.ITEM_REMOVED)})}),{bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:V.b.POSITION.BOTTOM_CENTER,autoClose:!0}),Xe({type:null===Y.a||void 0===Y.a?void 0:Y.a.UPDATE_TIMEBASED_MENU_ALERT,value:{...et,isReviewOrderClick:!1,isBrowseMenuOrReviewOrderCTAClicked:!1,isCloseButtonClicked:!1}}))}),500)};o()}},"data-testid":"remove-all-btn",children:Object(A.translateWithI18Next)(he)})]})}),Object(E.s)(L)&&(""===(null===Qe||void 0===Qe||null===(s=Qe.scheduleOrderData)||void 0===s||null===(u=s.selectedDateTimeInfo)||void 0===u?void 0:u.time)||(null===Qe||void 0===Qe||null===(v=Qe.scheduleOrderData)||void 0===v||null===(m=v.selectedDateTimeInfo)||void 0===m?void 0:m.time)===f.s)&&Object(P.jsxs)("div",{className:"store-unavailale-cart-page",children:[Object(P.jsx)("div",{children:Object(P.jsx)(R.a,{srcFile:_.a.Ellipse,className:"cart-summary-error-icon"})}),Object(P.jsx)("span",{className:"cart-summary-error-message",children:Object(A.translateWithI18Next)(De)})]}),Object(P.jsx)(ne,{contentData:O,getPwaStorageData:dt}),Rt&&Ge&&Object(P.jsx)(ce,{contentData:ee,setConfirmationModel:Ft,loggedIn:D,allowPromoGuestMember:at,hideProductBasedPromoCoupon:Ve}),Object(P.jsx)(ae,{contentData:O,addHope:j,carryBag:p,isMobile:T,tenantReducer:He,itemEditHandler:Et,itemRemoveHandler:Ct,getQuantityPrice:(e,t,o)=>{var a,i,l;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"cart-food-quantity-price ".concat(Object(E.ad)(0===(null===e||void 0===e||null===(a=e.modifiers)||void 0===a?void 0:a.length),"empty-mods-quantity-price","")," \n      ").concat(t&&"coupon-item-quantity-price"),children:[Pe(e,pe,de,Nt,C,o,0,$),(null===e||void 0===e||!e.toRemove)&&!t||null!==e&&void 0!==e&&null!==(i=e.discountComponents)&&void 0!==i&&null!==(l=i[0])&&void 0!==l&&l.isDiscounteditem?Object(P.jsxs)("div",{className:"cart-food-price","data-testid":"cart-item-price",translate:"no",children:[x,Object(E.x)(null===e||void 0===e?void 0:e.cartPrice,null===e||void 0===e?void 0:e.itemUnitPrice,Ue,Be,null===e||void 0===e?void 0:e.quantity)]}):null]})})},categories:we,flatResponse:Me,itemCustomiseHandler:ft,dispositionType:gt,promosApplied:Rt,disCountLinesItems:ee,setConfirmationModel:Ft,"data-testid":"food-item-card",isRemoveItemLoading:w,timeBasedCetegory:$e,timeBasedAlertModalData:h()(et)?ht:et,itemAllRemoveAction:At,discountAmounts:ee,productMapByItemId:ke,paymentDiscountAmounts:oe,eventAvailabilities:ut,getEventItemAvailability:vt,isEvent:mt,availableTimeSlot:F}),Lt&&Object(P.jsx)(re.a,{"data-testid":"remove-promo-modal",handleClose:kt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(P.jsx)(se.a,{splitTitle:{MSGTXT1:"".concat(Object(A.translateWithI18Next)(Ee))},imageSrc:xe,confirmButtonText:Object(A.translateWithI18Next)(Te),cancelButtonText:Object(A.translateWithI18Next)(fe),confirmHandler:e=>{var t,o;if(Pt(!1),ot(Object(g.d)({key:null===Y.a||void 0===Y.a?void 0:Y.a.SHOW_PDP_ALERT_POPUP,value:!1})),null!==wt&&void 0!==wt&&wt.foodItemId||null!==e&&void 0!==e&&e.foodItemId){Ct(wt);const e=(e=>{const t=Rt&&(null===ee||void 0===ee?void 0:ee.filter((t=>{var o;return!!(null===t||void 0===t||null===(o=t.itemPromo)||void 0===o?void 0:o.some((t=>(null===t||void 0===t?void 0:t.itemId)===e)))})));var o;return(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.couponCode)})(null===wt||void 0===wt?void 0:wt.foodItemId);e&&setTimeout((()=>{Dt(e)}),1e3)}else null!==wt&&void 0!==wt&&null!==(t=wt.itemPromo)&&void 0!==t&&t.length||null!==e&&void 0!==e&&null!==(o=e.itemPromo)&&void 0!==o&&o.length?Dt(null===wt||void 0===wt?void 0:wt.couponCode,((e,t)=>{let o="";for(let a in null===e||void 0===e?void 0:e.itemPromo){let i=null===e||void 0===e?void 0:e.itemPromo[a];if(o=null===t||void 0===t?void 0:t.find((e=>e.isProductPromo&&e.foodItemId===i.itemId)),o){o.discountAmount=null===e||void 0===e?void 0:e.amount;break}}return o})(wt,O)):Dt(null===wt||void 0===wt?void 0:wt.couponCode)},cancelHandler:kt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})}),it&&Object(P.jsx)("div",{className:"cart-food-remove-container",children:Object(P.jsx)("span",{tabindex:"0","aria-label":"Remove all products",className:"cart-food-remove-all","data-testid":"remove-all-btn",onClick:yt,children:Object(A.translateWithI18Next)(ge)})}),(null===tt||void 0===tt?void 0:tt.showCartAlert)&&Object(P.jsx)(Oe.a,{classNames:"",handleClose:()=>_t(!1),CartAlertForm:Object(P.jsx)(se.a,{title:Object(A.translateWithI18Next)(me.REMOVE_ALL_MSG),confirmButtonText:Object(A.translateWithI18Next)(me.REMOVE_ALL),cancelButtonText:Object(A.translateWithI18Next)(me.CANCEL),cancelHandler:()=>_t(!1),confirmHandler:()=>At(O)})})]}),X&&Object(P.jsxs)("div",{className:"available-slot-finder",children:[Object(P.jsx)(be.a,{variant:M.b.primary,fullWidth:!0,"data-testid":"pay-button",onClick:()=>(()=>{const e=Object(J.V)(F),t=Object(J.A)((null===ct||void 0===ct?void 0:ct.date)+" "+e,bt),o=Object(J.C)(t,jt);Ut(o),Ut(o),W(ct),G(!0)})(),cartData:k,specialEventItemAvailability:ut,availableSlots:F,itemMapById:U,setDisplayMagicButton:st,displayMagicButton:rt,children:Se(F)}),!nt&&Object(P.jsx)(M.c,{variant:M.b.tertiary,onClick:()=>Q(!K),children:Object(A.translateWithI18Next)(_e)})]}),K&&Object(P.jsx)(je.a,{visibility:K,setVisibility:Q})]})},Me=o(55);var ke=e=>{const{discountAmounts:t}=e,{PROMOS_REWARDS:o}=L.a,{Promos_Coupon_Icon:a}=_.a,{cartData:i}=Object(n.c)((e=>e.cartReducer)),l=Object(n.c)((e=>e.tenantReducer)),{showPromoTitleCartSummary:d}=l,{discountLines:c=[]}=i||{};return Object(P.jsxs)("div",{className:"cart-offers-container cart-coupon-offers-container","data-testid":"cart-offers-coupon",children:[Object(P.jsxs)("div",{className:"cart-offers-link",children:[Object(P.jsx)(B.a,{src:a,alt:"",className:"cart-offers-icon"}),Object(P.jsx)("span",{className:"cart-offers-text",children:Object(A.translateWithI18Next)(o)})]}),Object(P.jsx)("div",{class:"cart-coupon-offers-text","data-testid":"offers-coupon-title",children:d?null===c||void 0===c?void 0:c.map((e=>e.title[0].value)).join(", "):null===t||void 0===t?void 0:t.map((e=>e.title)).join(", ")})]})},Fe=o(263),He=o(404),Ue=o(428);const{ANALYTICS_EVENTS:Be}=y.a,We=(e,t,o)=>!(null!==e&&void 0!==e&&e.length)||t||o;var Ge=e=>{const{bucketId:t="",showPromoRewardsMessage:o=!1,isMealFullyCovered:a=!1,discountAmounts:l}=e,{ADD:d,CANCEL:r,ADD_GIFT_CARD_OR_VOUCHER:s,ENTER_COUPON_PLACEHOLDER:u,CLEAR_WICODE:v,MAX_VOUCHER_LIMIT_EXCEEDED:m,MAX_SUBTOTAL_VALUE_COVERED:O,MAX_DISCOUNT_ERROR:b}=L.a,{GiftCard_Cart:j,Ellipse:p,voucher:h}=_.a,g=Object(n.c)((e=>e.tenantReducer)),{userOrderStateDispatch:I,userOrderState:S}=Object(i.useContext)(N.a),{tenantId:E="",maxNoOfVoucher:f,currencyConversionFactor:x,currencySymbol:D}=g,[y,R]=Object(i.useState)(!1),[w,k]=Object(i.useState)(!1),[F,H]=Object(i.useState)(""),[U,W]=Object(i.useState)(""),[G,V]=Object(i.useState)(!1),[Y,z]=Object(i.useState)(!1),[q,K]=Object(i.useState)(!1),[J,Q]=Object(i.useState)(!1),X=Object(n.b)(),Z=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isValidateBasketLoading})),$=Object(n.c)((e=>{var t;return null===(t=e.storesReducer)||void 0===t?void 0:t.isStoreStatusLoading})),ee=Object(n.c)((e=>{var t;return null===(t=e.orderReducer)||void 0===t?void 0:t.isCreateOrderLoading})),te=Object(n.c)((e=>{var t;return null===(t=e.orderReducer)||void 0===t?void 0:t.isPlaceOrder})),oe=Object(n.c)((e=>e.cartReducer)),{couponError:ae,cartData:{discountLines:ie=[],paymentDiscountLines:le=[]}}=oe,ne=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isCouponLoading}));Object(i.useEffect)((()=>{if(U||q||Y||!G||J||(I({type:T.p,value:{couponErrorMessage:""}}),V(!1)),ae&&null!==ae&&void 0!==ae&&ae.errorCode||q||Y||J){V(!0);const e=Object(C.B)({couponError:ae,MAX_VOUCHER_LIMIT_EXCEEDED:m,voucherLimitExceededErr:q,maxSubTotalValueCovered:Y,MAX_SUBTOTAL_VALUE_COVERED:O,maxDiscountErr:J});W(Object(A.translateWithI18Next)(e))}}),[ae,q,Y,J]),Object(i.useEffect)((()=>{null!==S&&void 0!==S&&S.couponErrorMessage&&(I({type:T.p,value:{couponErrorMessage:""}}),de())}),[null===S||void 0===S?void 0:S.couponErrorMessage]);const de=e=>{H(""),W(""),R(!1)};Object(i.useEffect)((()=>{var e,t,a,i,l,n;if(F&&!ne&&!G&&w&&(null!==le&&void 0!==le&&le.length&&(null===(e=le[(null===le||void 0===le?void 0:le.length)-1])||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())===T.b||null!==ie&&void 0!==ie&&ie.length&&(null===(i=ie[(null===ie||void 0===ie?void 0:ie.length)-1])||void 0===i||null===(l=i.status)||void 0===l||null===(n=l.name)||void 0===n?void 0:n.toUpperCase())===T.b)){const e={discountLines:ie,couponCode:F,showPromoRewardsMessage:o,currencySymbol:D,currencyConversionFactor:x,paymentDiscountLines:le};Object(C.s)(e),de(!0),H(""),Object(Ue.d)({event:Be.REDEEM_OFFER,offerTitle:F}),k(!1)}}),[U,le,ie,w]),Object(i.useEffect)((()=>{X(Object(c.h)({basketId:t,tenantId:E}))}),[]),Object(i.useEffect)((()=>{null!==F&&void 0!==F&&F.length||(q&&K(!1),Y&&z(!1),J&&Q(!1))}),[q,Y,F,J]);const ce=()=>{H(""),W("")},re=o?h:j,se=((e,t,o,a)=>e||t||o||a)(Z,$,ee,te);return Object(P.jsxs)("div",{className:"main-wicode-container",children:[Object(P.jsxs)("div",{className:"cart-offers-container ".concat(!o&&"cart-coupon-wicode-offers-container"),"data-testid":"cart-offers-coupon",children:[Object(P.jsxs)("div",{className:"cart-wicode-offers-link",children:[Object(P.jsx)(B.a,{src:re,alt:"",className:"cart-offers-icon"}),Object(P.jsx)("span",{className:"cart-wicode-offers-text",children:Object(A.translateWithI18Next)(s)})]}),Object(P.jsx)(Fe.a,{onClickHandler:()=>(H(""),W(""),void R(!y)),ariaLable:"View all offers",className:"add-gift-card-voucher","data-testid":y?"offers-toggle-btn-off":"offers-toggle-btn-on",children:y?Object(A.translateWithI18Next)(r):Object(A.translateWithI18Next)(d)})]}),y&&Object(P.jsxs)("div",{className:"coupon-code-validation-container",children:[Object(P.jsxs)("div",{className:"coupon-discount-col-2",children:[Object(P.jsx)("label",{"data-testid":"coupon-input-label",className:"coupon-input-label ".concat((null===F||void 0===F?void 0:F.length)&&"coupon-input-label-focus"),htmlFor:"modal-coupon-input",children:Object(A.translateWithI18Next)(u)}),Object(P.jsxs)("div",{className:"flex-input-section",children:[Object(P.jsx)(He.a,{id:"modal-coupon-input",value:F,className:"coupon-text-box ".concat(U&&"coupon-text-box-err"),placeholder:Object(A.translateWithI18Next)(u),"data-testid":"modal-coupon-input-field",onChange:e=>{var t;k(!1),H(null===(t=e.target.value)||void 0===t?void 0:t.trim()),W("")},disabled:ne}),F.length>0&&Object(P.jsx)(M.a,{"data-testid":"coupon-cross-icon",className:ne?"discount-button-img-disable":"discount-button-img",onClick:()=>ce(),onKeyPress:()=>ce(),"aria-label":Object(A.translateWithI18Next)(v)})]}),U&&Object(P.jsx)("div",{className:"errorBackGround",children:Object(P.jsxs)("div",{role:"alert",children:[Object(P.jsx)("img",{className:"",src:p,alt:"invalid"})," ",Object(P.jsx)("span",{"data-testid":"coupon-err-msg",className:"error-msg error-container-coupon",children:U})]})})]}),Object(P.jsx)("div",{className:"coupon-discount-col-3",children:Object(P.jsx)(M.c,{variant:M.b.primary,"aria-label":Object(A.translateWithI18Next)(T.c),id:"btn-apply-view","data-testid":"coupon-apply-btn",className:"button whiteButton blackBorder coupon-button",disabled:We(F,U,se),onClickHandler:e=>(e=>{e.stopPropagation(),e.preventDefault(),k(!1),(null===le||void 0===le?void 0:le.length)>=f?K(!0):null!==le&&void 0!==le&&le.length&&a?z(!0):null!==le&&void 0!==le&&le.length&&(null===l||void 0===l?void 0:l.amount)<=0?Q(!0):(I({type:T.p,value:{couponErrorMessage:""}}),X(Object(c.b)({basketId:t,tenantId:E,successCallback:()=>{k(!0),R(!1),H("")}},{couponCode:F})),H(F))})(e),loading:ne,children:!ne&&Object(A.translateWithI18Next)(T.c)})}),!(null!==le&&void 0!==le&&le.length)&&Object(P.jsx)("hr",{})]})]})},Ve=o(413),Ye=o(1173),ze=o(411),qe=o(120),Ke=o(57),Je=o(66),Qe=o(427),Xe=o(328),Ze=o(74),$e=o(449),et=o(144);const tt=(e,t,o)=>{var a,i,l,n,d,c,r;const{donationsButtonData:s,setDonationsButtonData:u,addAddHopeItemInCart:v,showAddHopeModalView:m,sliceDispatch:O,setPWAstorage:b,setShowAddHopeModalView:j,addHopeCouponClear:p,setAddHopeCouponClear:h,paymentDiscountLines:g}=o,I=null===s||void 0===s||null===(a=s.donationChargeOption)||void 0===a?void 0:a.find((t=>(null===t||void 0===t?void 0:t.name)===(null===e||void 0===e?void 0:e.name)));if(null!==g&&void 0!==g&&g.length)return h(!0),void u({...s,couponValSelected:e});const S=null===s||void 0===s||null===(i=s.donationChargeOption)||void 0===i?void 0:i.map(((e,o)=>({...e,isDefault:t===o})));(null===I||void 0===I?void 0:I.name)!==(null===y.a||void 0===y.a?void 0:y.a.OTHERS)&&!m&&v(I,null===s||void 0===s||null===(l=s.addHopeProperties)||void 0===l?void 0:l.addHopeDataExistsInCartId,null===s||void 0===s||null===(n=s.addHopeProperties)||void 0===n?void 0:n.addHopeDataId),u({...s,donationChargeOption:S,showDonationsCustomFields:(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS),customAmount:"",addDonationBtnHandler:!0,editButtonShow:!1,inputFiledValidErrormsg:"",selectedObj:I,buttonText:(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS)?null===s||void 0===s||null===(d=s.addHopeProperties)||void 0===d||null===(c=d.addHopeTranslationObj)||void 0===c?void 0:c.addButton:"",showOthersCaluclatedValue:!1,showImageField:!1,addHopePriceSelected:st(I,null===s||void 0===s||null===(r=s.addHopeProperties)||void 0===r?void 0:r.addHopeDataPrice,null===s||void 0===s?void 0:s.addHopeProperties),addHopesDataInFoodlines:[]}),O(b({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_ADD_HOPE_VALUE,value:null===I||void 0===I?void 0:I.name})),(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&O(b({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,value:!0})),sessionStorage.setItem(null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)),m||(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)||(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS)?O(b({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})):O(b({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!0})),(null===I||void 0===I?void 0:I.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&j(!1)},ot=e=>{var t,o,a,i,l,n,d;const{donationsButtonData:c,setDonationsButtonData:r,addAddHopeItemInCart:s,sliceDispatch:u,setPWAstorage:v,paymentDiscountLines:m,setAddHopeCouponClear:O}=e,b={...null===c||void 0===c?void 0:c.selectedObj,value:parseInt(null===c||void 0===c?void 0:c.customAmount)};if(null!==m&&void 0!==m&&m.length)return O(!0),void r({...c,couponValSelected:b});s(b,null===c||void 0===c||null===(t=c.addHopeProperties)||void 0===t?void 0:t.addHopeDataExistsInCartId,null===c||void 0===c||null===(o=c.addHopeProperties)||void 0===o?void 0:o.addHopeDataId),r({...c,selectedObj:b,othersCaluclatedValue:(null===c||void 0===c||null===(a=c.addHopeProperties)||void 0===a?void 0:a.addHopeDataPrice)*parseInt(null===c||void 0===c?void 0:c.customAmount),showOthersCaluclatedValue:!0,buttonText:null===c||void 0===c||null===(i=c.addHopeProperties)||void 0===i||null===(l=i.addHopeTranslationObj)||void 0===l?void 0:l.updateButton,editButtonShow:!0,addHopePriceSelected:"".concat(null===c||void 0===c||null===(n=c.addHopeProperties)||void 0===n?void 0:n.currencySymbol).concat(((null===c||void 0===c||null===(d=c.addHopeProperties)||void 0===d?void 0:d.addHopeDataPrice)*parseInt(null===c||void 0===c?void 0:c.customAmount)).toFixed(2))}),u(v({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!0}))},at=(e,t)=>parseInt(e)<1||parseInt(e)>250?null===t||void 0===t?void 0:t.maxQuantityErrorMsg:"",it=(e,t)=>{var o,a,i;const{donationsButtonData:l,setDonationsButtonData:n,showAddHopeModalView:d}=t,c=e.target.value,r=(c*(null===l||void 0===l||null===(o=l.addHopeProperties)||void 0===o?void 0:o.addHopeDataPrice)).toFixed(2),s=at(c,null===l||void 0===l||null===(a=l.addHopeProperties)||void 0===a?void 0:a.addHopeTranslationObj);n({...l,customAmount:c,inputFiledValidErrormsg:at(c,null===l||void 0===l||null===(i=l.addHopeProperties)||void 0===i?void 0:i.addHopeTranslationObj),addHopePriceSelected:"",editButtonShow:!1,othersCaluclatedValue:d&&r,showOthersCaluclatedValue:!(!c||!d||""!==s)&&d})},lt=e=>{const{donationsButtonData:t,setDonationsButtonData:o,addAddHopeItemInCart:a,paymentDiscountLines:i,setAddHopeCouponClear:l}=e;let n={...null===t||void 0===t?void 0:t.selectedObj,value:""};if(null!==i&&void 0!==i&&i.length)return l(!0),void o({...t,couponValSelected:n});o({...t,customAmount:"",inputFiledValidErrormsg:"",editButtonShow:!1,showCurrencyField:!1,showImageField:!1,selectedObj:n,othersCaluclatedValue:"",showOthersCaluclatedValue:!1,addHopePriceSelected:""})},nt=e=>{const{donationsButtonData:t,setDonationsButtonData:o}=e;o({...t,showImageField:!0})},dt=(e,t)=>{const{donationsButtonData:o,setDonationsButtonData:a}=t;a({...o,showImageField:!1})},ct=(e,t,o)=>{switch(null===e||void 0===e?void 0:e.name){case null===y.a||void 0===y.a?void 0:y.a.NOT_NOW:case null===y.a||void 0===y.a?void 0:y.a.OTHERS:return;default:return o?Object(A.translateWithI18Next)(null===y.a||void 0===y.a?void 0:y.a.BAHT):(null===e||void 0===e?void 0:e.value)>1?"".concat(null===e||void 0===e?void 0:e.value," ").concat(null===t||void 0===t?void 0:t.children):"".concat(null===e||void 0===e?void 0:e.value," ").concat(null===t||void 0===t?void 0:t.child)}},rt=(e,t,o,a,i)=>{switch(null===e||void 0===e?void 0:e.name){case null===y.a||void 0===y.a?void 0:y.a.NOT_NOW:return null===a||void 0===a?void 0:a.notNow;case null===y.a||void 0===y.a?void 0:y.a.OTHERS:return null===a||void 0===a?void 0:a.other;default:return i?"".concat(o*(null===e||void 0===e?void 0:e.value)):"".concat(t).concat(o*(null===e||void 0===e?void 0:e.value))}},st=(e,t,o)=>{switch(null===e||void 0===e?void 0:e.name){case null===y.a||void 0===y.a?void 0:y.a.NOT_NOW:case null===y.a||void 0===y.a?void 0:y.a.OTHERS:return"";default:return"".concat(null===o||void 0===o?void 0:o.currencySymbol).concat((t*(null===e||void 0===e?void 0:e.value)).toFixed(2))}},ut=(e,t,o,a,i,l,n,d)=>{if(null!==o&&void 0!==o&&o.length&&""===(null===e||void 0===e?void 0:e.selectedObj)){var c,r,s,u,v,m;const n=((e,t,o,a)=>{const i=(null===a||void 0===a?void 0:a.addHopeTotal)/100;let l=!1;if(null!==t&&void 0!==t&&t.length&&!o){let o=!1;null===e||void 0===e||e.map((e=>{(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t[0].quantity)?(e.isDefault=!0,o=!0):e.isDefault=!1})),o||null===e||void 0===e||e.map((e=>{var o;"others"===(null===e||void 0===e?void 0:e.name)&&(e.isDefault=!0,e.value=null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.quantity)}))}else sessionStorage.getItem(null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW)?null===e||void 0===e||e.map((e=>{e.isDefault=!1,0===(null===e||void 0===e?void 0:e.value)&&(e.isDefault=!0,l=!0)})):null===e||void 0===e||e.forEach((e=>{isNaN(i)||0===i?!0===(null===e||void 0===e?void 0:e.isDefault)?(e.isDefault=!0,l=!0):e.isDefault=!1:(null===e||void 0===e?void 0:e.value)===i?(e.isDefault=!0,l=!0):e.isDefault=!1}));return e})(o,null===e||void 0===e?void 0:e.addHopesDataInFoodlines,i,d),j=null===n||void 0===n?void 0:n.map((t=>{var o,a,n,d;return{...t,displayChargeAmount:rt(t,null===e||void 0===e||null===(o=e.addHopeProperties)||void 0===o?void 0:o.currencySymbol,null===e||void 0===e||null===(a=e.addHopeProperties)||void 0===a?void 0:a.addHopeDataPrice,null===e||void 0===e||null===(n=e.addHopeProperties)||void 0===n?void 0:n.addHopeTranslationObj,l),containerClassName:(null===t||void 0===t?void 0:t.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)||(null===t||void 0===t?void 0:t.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS)?"display-no-value-text":"",displayNonPercentageAmount:ct(t,null===e||void 0===e||null===(d=e.addHopeProperties)||void 0===d?void 0:d.addHopeTranslationObj,l),isDefault:!i&&(null===t||void 0===t?void 0:t.isDefault)}})),p=j.filter((e=>null===e||void 0===e?void 0:e.isDefault));var O,b;if(null!==p&&void 0!==p&&null!==(c=p[0])&&void 0!==c&&c.value)a(null===p||void 0===p?void 0:p[0],null===e||void 0===e||null===(O=e.addHopeProperties)||void 0===O?void 0:O.addHopeDataExistsInCartId,null===e||void 0===e||null===(b=e.addHopeProperties)||void 0===b?void 0:b.addHopeDataId);t({...e,donationChargeOption:j,showNonDonationPercentage:!0,selectedObj:null===p||void 0===p?void 0:p[0],donationRegexPattern:f.ob,showOthersCaluclatedValue:!1,inputTextPlaceHolder:null===e||void 0===e||null===(r=e.addHopeProperties)||void 0===r||null===(s=r.addHopeTranslationObj)||void 0===s?void 0:s.childTitle,addHopePriceSelected:st(null===p||void 0===p?void 0:p[0],null===e||void 0===e||null===(u=e.addHopeProperties)||void 0===u?void 0:u.addHopeDataPrice,null===e||void 0===e?void 0:e.addHopeProperties),showDonationsCustomFields:(null===p||void 0===p||null===(v=p[0])||void 0===v?void 0:v.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS),customAmount:"",addDonationBtnHandler:!0,editButtonShow:!1,inputFiledValidErrormsg:"",buttonText:(null===p||void 0===p||null===(m=p[0])||void 0===m?void 0:m.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS)?Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_DONATION):""})}},vt=e=>Object(P.jsx)("div",{className:"labelContent-addHope",children:Object(P.jsx)("span",{children:e})}),mt=e=>Object(P.jsx)("div",{className:"tip-text-donate",children:e}),Ot=(e,t,o)=>Object(P.jsxs)("span",{className:"addHope-help-text",children:[e,Object(P.jsx)("a",{className:"learn-more-link","data-testid":"link-learnmore",onClick:()=>(e=>{var t,o;const a=[];return e&&(null===e||void 0===e||e.forEach((e=>{var t,o;null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(o=t.links)||void 0===o||o.filter((e=>{var t;(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)==f.i&&(null===a||void 0===a||a.push(null===e||void 0===e?void 0:e.fields))}))}))),null===(t=window)||void 0===t?void 0:t.open(null===(o=a[0])||void 0===o?void 0:o.externalurl,"_blank")})(o),children:t})]});var bt=e=>{const{donationsButtonData:t,setDonationsButtonData:o,addHopeData:a,allReducerData:l,showAddHopeModalView:n,setShowAddHopeModalView:d,sliceDispatch:r,setPWAstorage:s,dispatch:u,itemRemoveHandler:v,basketId:m,tenantId:O,segmentedMarketingData:b,paymentDiscountLines:j,addHopeCouponClear:p,setAddHopeCouponClear:h,showChangedAddHopeTileData:S,cartData:N}=e,C=(Object(I.b)(g.b),(e,t,o)=>{let a=null===e||void 0===e?void 0:e.value;(null===e||void 0===e?void 0:e.value)>0?u(t?Object(c.x)({params:{basketId:m,basketLineItemId:t},tenantId:O},{quantity:a}):Object(c.a)({params:{basketId:m},tenantId:O},[{Id:o,categoryId:"",quantity:null===e||void 0===e?void 0:e.value,modGrps:[]}])):t&&v({foodLineId:t,flag:null===y.a||void 0===y.a?void 0:y.a.SPECIAL_ITEMS})});Object(i.useEffect)((()=>{var e,i,l,d,c,r,s,u,v,m;(null===t||void 0===t?void 0:t.addHopeProperties)&&ut(t,o,a,C,n,S,0,N),(null===t||void 0===t?void 0:t.addHopeProperties)&&(null===t||void 0===t||null===(e=t.addHopesDataInFoodlines)||void 0===e?void 0:e.length)&&(null===t||void 0===t||null===(i=t.selectedObj)||void 0===i?void 0:i.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS)&&o({...t,customAmount:null===t||void 0===t||null===(l=t.selectedObj)||void 0===l?void 0:l.value,addHopePriceSelected:"".concat(null===t||void 0===t||null===(d=t.addHopeProperties)||void 0===d?void 0:d.currencySymbol).concat(((null===t||void 0===t||null===(c=t.addHopeProperties)||void 0===c?void 0:c.addHopeDataPrice)*(null===t||void 0===t||null===(r=t.selectedObj)||void 0===r?void 0:r.value)).toFixed(2)),othersCaluclatedValue:(null===t||void 0===t||null===(s=t.addHopeProperties)||void 0===s?void 0:s.addHopeDataPrice)*(null===t||void 0===t||null===(u=t.selectedObj)||void 0===u?void 0:u.value),showImageField:!(null===t||void 0===t||!t.customAmount),editButtonShow:!1,buttonText:null===t||void 0===t||null===(v=t.addHopeProperties)||void 0===v||null===(m=v.addHopeTranslationObj)||void 0===m?void 0:m.updateButton})}),[null===t||void 0===t?void 0:t.addHopeProperties,null===t||void 0===t?void 0:t.selectedObj,a]);const E={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:!0,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"indulgent-AddHope-handler",closeButtonHandler:()=>{var e,i,l;d(!1);const n=null===a||void 0===a?void 0:a.find((e=>null===e||void 0===e?void 0:e.isDefault));o({...t,donationChargeOption:null===t||void 0===t||null===(e=t.donationChargeOption)||void 0===e?void 0:e.map((e=>({...e,isDefault:(null===n||void 0===n?void 0:n.name)===(null===e||void 0===e?void 0:e.name)}))),selectedObj:n,customAmount:"",addDonationBtnHandler:!0,editButtonShow:!1,inputFiledValidErrormsg:"",showOthersCaluclatedValue:!1,showImageField:!1,showDonationsCustomFields:!1}),(null===n||void 0===n?void 0:n.name)!==(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&C(n,null===t||void 0===t||null===(i=t.addHopeProperties)||void 0===i?void 0:i.addHopeDataExistsInCartId,null===t||void 0===t||null===(l=t.addHopeProperties)||void 0===l?void 0:l.addHopeDataId),(null===n||void 0===n?void 0:n.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&r(s({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,value:!0})),r(s({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_ADD_HOPE_VALUE,value:null===n||void 0===n?void 0:n.name}))},modalTitle:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_MODAL_TEXT),autoFocus:!0},T=()=>{var e,a,i,c,u,v,m;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)($e.a,{donationsButtonData:t,setDonationsButtonData:o,tilesClassValue:"tipping-details",onClickDonationHandler:tt,onClickDonationAddHandler:ot,onChangeInputHandler:it,onClearDonationTextHandler:lt,currencySymbol:null===t||void 0===t||null===(e=t.addHopeProperties)||void 0===e?void 0:e.currencySymbol,handleFocus:nt,handleBlur:dt,addAddHopeItemInCart:C,currencyConversionFactor:null===t||void 0===t||null===(a=t.addHopeProperties)||void 0===a?void 0:a.currencyConversionFactor,ImageSelectedForInput:null===l||void 0===l||null===(i=l.marketPageContent)||void 0===i||null===(c=i.headerData)||void 0===c||null===(u=c.addHopeLogo)||void 0===u||null===(v=u.fields)||void 0===v||null===(m=v.file)||void 0===m?void 0:m.url,showAddHopeModalView:n,sliceDispatch:r,setPWAstorage:s,setShowAddHopeModalView:d,addHopeCouponClear:p,setAddHopeCouponClear:h,paymentDiscountLines:j})})};return Object(P.jsxs)(P.Fragment,{children:[(()=>{var e,a,i;return Object(P.jsx)(P.Fragment,{children:(null===t||void 0===t?void 0:t.addHopeProperties)&&(null===t||void 0===t||null===(e=t.selectedObj)||void 0===e?void 0:e.value)>=-1&&""!==(null===t||void 0===t||null===(a=t.selectedObj)||void 0===a?void 0:a.value)&&(null===t||void 0===t?void 0:t.addHopePriceSelected)&&(null===t||void 0===t||null===(i=t.selectedObj)||void 0===i?void 0:i.name)!==(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("hr",{}),Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsxs)("div",{className:"cart-summary-content-item-name addhope-selected-amount","data-testid":"subtotal-text",children:[Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.HOPE_DONATION),Object(P.jsx)("img",{src:null===_.a||void 0===_.a?void 0:_.a.clearTextIcon,alt:"clear-text-btn",className:"clear-addhope",onClick:()=>{var e,a;return((e,t,o,a,i,l,n,d,c,r)=>{var s;const u=null===e||void 0===e||null===(s=e.donationChargeOption)||void 0===s?void 0:s.map(((e,t)=>({...e,isDefault:(null===e||void 0===e?void 0:e.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)}))),v={containerClassName:"display-no-value-text",displayChargeAmount:"Not Now",displayNonPercentageAmount:void 0,isDefault:!1,isSelected:!0,name:"Not Now",value:0};if(null!==c&&void 0!==c&&c.length)return r(!0),void t({...e,couponValSelected:v});l(!1),o(v,a,i),t({...e,donationChargeOption:u,showDonationsCustomFields:!1,customAmount:"",inputFiledValidErrormsg:"",selectedObj:v,showOthersCaluclatedValue:!1,showImageField:!1,addHopePriceSelected:""}),n(d({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),(null===v||void 0===v?void 0:v.name)===(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&n(d({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,value:!0})),sessionStorage.setItem(null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,!0)})(t,o,C,null===t||void 0===t||null===(e=t.addHopeProperties)||void 0===e?void 0:e.addHopeDataExistsInCartId,null===t||void 0===t||null===(a=t.addHopeProperties)||void 0===a?void 0:a.addHopeDataId,d,r,s,j,h)},"data-testid":"cart-addHpe-clearHandle"})]}),Object(P.jsx)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value","data-testid":"cart-subtotal",children:null===t||void 0===t?void 0:t.addHopePriceSelected})]}),Object(P.jsx)("hr",{})]})})})(),!n&&(()=>{var e,t,o,a,i,n;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"add-hope-cart-container",children:[Object(P.jsxs)("div",{className:"add-hope-cart-text-container",children:[Object(P.jsxs)("div",{className:"row",children:[vt(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.DONATE_TO_ADDHOPE)),(n=null===l||void 0===l||null===(e=l.marketPageContent)||void 0===e||null===(t=e.headerData)||void 0===t||null===(o=t.addHopeImage)||void 0===o||null===(a=o.fields)||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url,Object(P.jsx)("img",{className:"add-hope-donate-image",alt:"Add hope logo",src:n}))]}),mt(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_PRIMARY_CONTENT))]}),T(),Object(P.jsx)("div",{className:"add-hope-cart-help-text-container",children:Ot(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_SECONDARY_CONTENT),Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_LEARN_MORE),b)})]})})})(),n&&!S&&(()=>{var e,o;return Object(P.jsx)(et.a,{...E,children:Object(P.jsxs)("div",{className:"row add-hope-cart-container",children:[Object(P.jsx)("div",{className:"add-hope-cart-text-container col-sm-12 col-lg-3",children:vt(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.DONATE_TO_ADDHOPE))}),Object(P.jsxs)("div",{className:"col-sm-12 col-lg-9",children:[mt(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_PRIMARY_CONTENT)),T(),(null===t||void 0===t||null===(e=t.selectedObj)||void 0===e?void 0:e.name)!==(null===y.a||void 0===y.a?void 0:y.a.NOT_NOW)&&"others"!==(null===t||void 0===t||null===(o=t.selectedObj)||void 0===o?void 0:o.name)&&Object(P.jsx)("div",{className:"col-lg-9 col-sm-12 center-element add-Hope-ext-button txt-align-center",children:Object(P.jsx)(M.c,{variant:null===M.b||void 0===M.b?void 0:M.b.primary,onClick:()=>(()=>{var e,o;C(null===t||void 0===t?void 0:t.selectedObj,null===t||void 0===t||null===(e=t.addHopeProperties)||void 0===e?void 0:e.addHopeDataExistsInCartId,null===t||void 0===t||null===(o=t.addHopeProperties)||void 0===o?void 0:o.addHopeDataId),r(s({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!0})),d(!1)})(),"data-testid":"add-addHope-button",inactive:!(null!==t&&void 0!==t&&t.selectedObj),children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_DONATION)})}),Object(P.jsx)("div",{className:"add-hope-cart-help-text-container",children:Ot(Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_SECONDARY_CONTENT),Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_LEARN_MORE),b)})]})]})})})(),p&&Object(P.jsx)(Oe.a,{handleClose:()=>{h(!1)},"data-testid":"addhope-confirm-modal",classNames:"clear-cart-modal add-hope-coupon-modal",CartAlertForm:Object(P.jsx)(se.a,{title:Object(A.translateWithI18Next)(L.a.ADD_HOPE_COUPON_MESSAGE_TITLE),giftCardErrFirstMsg:Object(A.translateWithI18Next)(L.a.ADD_HOPE_GIFT_CARD_ERROR_MSG1),giftCardOrVoucherErrMsg:Object(A.translateWithI18Next)(L.a.ADD_HOPE_GIFT_CARD_ERROR_MSG2),altText:"",confirmButtonText:Object(A.translateWithI18Next)(L.a.CONTINUE),confirmHandler:()=>((e,t,o,a)=>{var i,l,n,d,c,r,s;const u=(null===e||void 0===e||null===(i=e.couponValSelected)||void 0===i?void 0:i.name)===(null===y.a||void 0===y.a?void 0:y.a.OTHERS),v=u?{...null===e||void 0===e?void 0:e.couponValSelected,value:""}:null===e||void 0===e?void 0:e.couponValSelected;t(null===e||void 0===e?void 0:e.couponValSelected,null===e||void 0===e||null===(l=e.addHopeProperties)||void 0===l?void 0:l.addHopeDataExistsInCartId,null===e||void 0===e||null===(n=e.addHopeProperties)||void 0===n?void 0:n.addHopeDataId),o(!1),a({...e,donationChargeOption:null===e||void 0===e||null===(d=e.donationChargeOption)||void 0===d?void 0:d.map(((t,o)=>{var a;return{...t,isDefault:(null===e||void 0===e||null===(a=e.couponValSelected)||void 0===a?void 0:a.name)===(null===t||void 0===t?void 0:t.name)}})),selectedObj:v,addHopePriceSelected:st(null===e||void 0===e?void 0:e.couponValSelected,null===e||void 0===e||null===(c=e.addHopeProperties)||void 0===c?void 0:c.addHopeDataPrice,null===e||void 0===e?void 0:e.addHopeProperties),showDonationsCustomFields:u,customAmount:"",addDonationBtnHandler:!0,editButtonShow:!1,inputFiledValidErrormsg:"",showCurrencyField:!1,showImageField:!1,othersCaluclatedValue:"",showOthersCaluclatedValue:!1,buttonText:u?null===e||void 0===e||null===(r=e.addHopeProperties)||void 0===r||null===(s=r.addHopeTranslationObj)||void 0===s?void 0:s.addButton:""})})(t,C,h,o),cancelButtonText:Object(A.translateWithI18Next)(L.a.CANCEL_BTN_TXT),cancelHandler:()=>{h(!1)}})})]})},jt=o(1266),pt=o(399);const ht=(e,t,o,a,i,l,n)=>n&&a&&i&&l&&Object(P.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-carry-bag-text",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(o)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value",children:[t,null===e||void 0===e?void 0:e.toFixed(2)]})]}),gt=(e,t,o,a,i)=>!i&&e?Object(P.jsxs)("div",{className:"cart-summary-content-item","data-testid":"cart-add-hope-text",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(o)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value",children:[t,null===a||void 0===a?void 0:a.toFixed(2)]})]}):null,It=(e,t,o)=>{const{currencySymbol:a}=o;return Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:e}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value",children:[a,t]})]})},St=(e,t,o)=>e&&t&&!o?Object(A.translateWithI18Next)(L.a.STORE_NOT_SERVING_CURRENTLY):Object(A.translateWithI18Next)(L.a.ORDER_TIME_PASSED_TITLE),Nt=function(e,t,o,a,i,l){let n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};localStorage.removeItem(f.gd.SET_CART_CLEAR);const{SCHEDULE_ORDER_DATA:d,SEARCH_ORDER_DATA:c,CURRENT_STORE_INFO:r,SET_FIND_A_KFC_VIEW:s,SHOW_SCHEDULE_DISPOSITION:u,CHANGE_SCHEDULE_MODE:v,SCHEDULE_ORDER_CLICKED:m,SET_ORDER_NOW:O,SET_SCHEDULE_ORDER:b}=Y.a;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),t(!1),o(!1),n(!1),a({type:s,value:{findAKFC:!1}}),a({type:c,value:{showSearchStore:!1}}),a({type:d,value:{showScheduleOrderCatering:!0,selectedStoreInfo:i,changeFlow:!0,orderCapacityDataUpdated:!l}}),Object(ze.d)(),a({type:v,value:{changeScheduleModeFlag:!1}}),a({type:m,value:{scheduleModeClicked:!0}}),a({type:O,value:{showOrderNow:!1}}),a({type:b,value:{showScheduleOrder:!0}}),a({type:u,value:{showSheduleDisposition:!0}}),a({type:r,value:i})},Ct=(e,t)=>{var o;return null===e||void 0===e||null===(o=e.filter)||void 0===o?void 0:o.call(e,(e=>(null===e||void 0===e?void 0:e.status)===t&&+(null===e||void 0===e?void 0:e.amount)>=0))},Et=(e,t,o,a,i,l)=>(null===e||void 0===e?void 0:e.length)>0&&(a&&!i&&t||i&&(t||!o&&!l)),Tt=(e,t,o,a)=>a&&e===f.Od&&Object(E.Fd)(o[0])?t:"",ft=e=>{if(null!==e&&void 0!==e&&e.unMetConditionFound)return Object(P.jsx)("div",{className:"promos-summary-cart-notification",children:Object(P.jsxs)("div",{className:"notify-alert",children:[Object(P.jsx)(B.a,{src:null===e||void 0===e?void 0:e.Error_Yellow,alt:"Error_Yellow",className:"location-alert-icon"}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(null===e||void 0===e?void 0:e.PROMO_UNMET_SUMMARY_MESSAGE)})]})})},xt=e=>{var t,o,a;let i=null===e||void 0===e||null===(t=e.userOrderState)||void 0===t||null===(o=t.scheduleOrderData)||void 0===o||null===(a=o.selectedDateTimeInfo)||void 0===a?void 0:a.time;if(Object(E.s)(null===e||void 0===e?void 0:e.storesWithStatus)&&(""===i||i===f.s))return Object(P.jsx)("div",{className:"store-unavailable-notification",children:Object(P.jsxs)("div",{className:"notify-alert",children:[Object(P.jsx)("div",{children:Object(P.jsx)(R.a,{srcFile:null===e||void 0===e?void 0:e.Ellipse,className:"location-alert-icon"})}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(null===e||void 0===e?void 0:e.CHECKOUT_UNAVAILABLE_AT_STORE)})]})})},Dt=e=>{var t,o,a,i;return e&&(null===(t=e[0])||void 0===t||null===(o=t.summary)||void 0===o||null===(a=o.timings)||void 0===a||null===(i=a.asap)||void 0===i?void 0:i.promiseTime)},At=e=>{var t,o;const a=null===e||void 0===e||null===(t=e.checkIfMealFullyCoveredAmt)||void 0===t?void 0:t.remainingBalance,i=null===e||void 0===e||null===(o=e.checkIfMealFullyCoveredAmt)||void 0===o?void 0:o.type,l=i===(null===e||void 0===e?void 0:e.VOUCHER),n=l&&a>0,d=i===(null===e||void 0===e?void 0:e.GIFTCARD)&&a>0,c=n?null===e||void 0===e?void 0:e.Ellipse_Orange:null===e||void 0===e?void 0:e.GreenCheck,r=d?null===e||void 0===e?void 0:e.GIFT_CARD_ABOVE_SUBTOTAL:null===e||void 0===e?void 0:e.GIFT_CARD_MEAL_FULLY_COVERED,s=n?null===e||void 0===e?void 0:e.VOUCHER_ABOVE_SUBTOTAL:null===e||void 0===e?void 0:e.VOUCHER_MEAL_FULLY_COVERED,u=l?s:r;return Object(P.jsx)("div",{className:n?"voucher-summary-cart-notification-voucher-above-subtotal":"voucher-summary-cart-notification-meal-fully-covered",children:Object(P.jsxs)("div",{className:"notify-alert-wicode",children:[Object(P.jsx)(B.a,{src:c,alt:n?"Warning_Red":"Warning_Green",className:"location-alert-icon"}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(u)})]})})},yt=e=>{const{isAppliedFreeDelivery:t,validPaymentDiscount:o,minusSign:a,currencySymbol:i,couponModalHandler:l,GIFTCARD:n,GIFT_CARD:d,CircleCloseButton:c}=e;return null===o||void 0===o?void 0:o.filter((e=>{var o,a;return Object(E.ad)(t,(null===e||void 0===e||null===(o=e.promoAction)||void 0===o?void 0:o.actionName)===f.r,(null===e||void 0===e||null===(a=e.promoAction)||void 0===a?void 0:a.actionName)!==f.r)})).map(((e,t)=>{const o=(null===e||void 0===e?void 0:e.title)===n?d:null===e||void 0===e?void 0:e.title;return Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsxs)("div",{className:"cart-summary-content-item-name-wicode",children:[Object(P.jsxs)("span",{className:"cart-discount-code",children:[o+" "," (",e.couponCode,")"]}),Object(P.jsx)("span",{className:"cart-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:()=>l(e),children:Object(P.jsx)("img",{src:c,alt:"CircleCloseButton"})})]}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value",children:[a,i,null===e||void 0===e?void 0:e.amount]})]})}))},_t=e=>{let{isValidPaymentDiscount:t,validPaymentDiscount:o,minusSign:a,currencySymbol:i,couponModalHandler:l,GIFTCARD:n,GIFT_CARD:d,Ellipse_Orange:c,WICODE_AUTO_RELEASED:r,history:s,CircleCloseButton:u}=e;return t?Object(P.jsxs)(P.Fragment,{children:[yt({isAppliedFreeDelivery:!1,validPaymentDiscount:o,minusSign:a,currencySymbol:i,couponModalHandler:l,GIFTCARD:n,GIFT_CARD:d,CircleCloseButton:u}),Object(P.jsx)("hr",{})]}):(null===s||void 0===s||null===(v=s.location)||void 0===v?void 0:v.isWicodeFinaliseFailed)&&(m={Ellipse_Orange:c,WICODE_AUTO_RELEASED:r},Object(P.jsx)("div",{className:"voucher-summary-cart-notification-voucher-above-subtotal voucher-summary-cart-notification-wicode-auto-released",children:Object(P.jsxs)("div",{className:"notify-alert-wicode",children:[Object(P.jsx)(B.a,{src:null===m||void 0===m?void 0:m.Ellipse_Orange,alt:"Warning_Red",className:"location-alert-icon"}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(null===m||void 0===m?void 0:m.WICODE_AUTO_RELEASED)})]})}));var v,m},Rt=(e,t,o,a)=>((e,t)=>e&&t)(e,t)&&Object(P.jsx)(ke,{bucketId:o,discountAmounts:a}),Lt=e=>{const{Error_Yellow:t,dispositionData:o}=e,{type:a}=o;return Object(P.jsx)("div",{className:"promos-summary-cart-notification guidancemessage","data-testid":"promisetime-guide-message",children:Object(P.jsxs)("div",{className:"notify-alert",children:[Object(P.jsx)(B.a,{src:t,alt:"Error_Yellow",className:"location-alert-icon"}),Object(P.jsxs)("span",{className:"textwhiteSpace",children:[Object(A.translateWithI18Next)(a===f.Df?null===L.a||void 0===L.a?void 0:L.a.DELIVERY_PROMISE_TIME_GUIDANCE:null===L.a||void 0===L.a?void 0:L.a.PICKUP_PROMISE_TIME_GUIDANCE),Object(P.jsx)("b",{children:Object(A.translateWithI18Next)(L.a.PROMISE_TIME_GUIDANCE)})]})]})})},Pt=e=>{const{showCarrybagCheckbox:t,carryBagDataExistsInCartId:o,carryBagDataId:a,addSpecialItemInCart:i,getPapperBagMandatory:l=!1,addHopeDataId:n,addHopeDataExistsInCartId:d,CARRY_BAG:c,showAddHopeCheckbox:r,DONATE:s,currencySymbol:u,addHopeDataPrice:v,ADD_HOPE_HEADER:m,ADD_HOPE_TEXT:O,carryBagDataPrice:b,dispositionData:j,carryBagAllowedServices:p}=e;return Object(P.jsxs)(P.Fragment,{children:[t&&(null===p||void 0===p?void 0:p.includes((null===j||void 0===j?void 0:j.type).toLowerCase()))&&Object(P.jsxs)("div",{className:"cart-carry-bag-container",children:[Object(P.jsx)("input",{type:"checkbox",className:"cart-carry-bag-checkbox","data-testid":"cart-carry-bag-checkbox",checked:!!o,id:a,onChange:e=>i(e,o),disabled:l}),Object(P.jsxs)("label",{className:"cart-carry-bag-header",htmlFor:a,children:[b&&Object(P.jsx)("span",{children:"".concat(u).concat(b.toFixed(2)," ")}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(c)})]})]}),n&&r&&Object(P.jsxs)("div",{className:"cart-add-hope-container",children:[Object(P.jsx)("input",{type:"checkbox",className:"cart-add-hope-checkbox","data-testid":"cart-add-hope-checkbox",checked:!!d,id:n,onChange:e=>i(e,d)}),Object(P.jsxs)("label",{htmlFor:n,className:"cart-add-hope-content",children:[Object(P.jsxs)("div",{className:"cart-add-hope-header",children:[Object(P.jsx)("span",{children:"".concat(Object(A.translateWithI18Next)(s)," ")}),Object(P.jsx)("span",{children:"".concat(u).concat(null===v||void 0===v?void 0:v.toFixed(2)," ")}),Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(m)})]}),Object(P.jsx)("div",{className:"cart-add-hope-text",children:Object(A.translateWithI18Next)(O)})]}),Object(P.jsx)("img",{className:"cart-add-hope-image",alt:"Add hope logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAkCAYAAAApbHJOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAy+SURBVHgB7RlpdBRF+qvunpnuCYFck5AQEhKTzEzkWARFRBdcRReVfagc+xBXhFV0UUHB97zQGBf2eOKKIF64bxGVQ9RVEFFxQS65BJFrEoPkDklmckySubtqv+o5ck0CZt9j//i91+maqq+++q76jg7AL9A3qDNYF9iN1j/B/wDnZXNWvWJ+uaJ/fsKFcAW4BEAI+y0w9qpDsTwGfQSRCGMIkAWKn25hSLI33EsilEDgJH8zBs86Yy2J0AcgauB4aHiNQzE/3BvuJRGKMva9NiAwwOWDO6EPICny+fZfZEJvuJdEKGSiMjySCAyBPkBc84lGRsDJxwzI8N5wL4lQARqoD48JAQP0EQiDH7U3sP694Uk9LTj05qlMglsYhYGiQF5rcbn2xhhjliLFj5PaznwFPwMkSXcnv1AcKIMY6AM06C8bqgJJRoH4zwSm6Sf4oyt0iyJ2g3UiI2w57hjWZYn79EAk03zeIyQPhdM+uAA4FOvVDNhfcTi+fZatS3IX/QEuEpoGZMQzn/FplcF85FYOz4sGT3x8U2lTtD0RS1XJ2RkGYngZD71dk5QRFwrXguOUEMpA7S9edpNetYAPfuiJkQY5P0Ml7FEUaKFGisE5VFJWcJVkwEUCRrnH/T6yiPOAJinF95Dwms8t8SgaVSjtTjkNljyZ6HdrAjGm4tQqySClo1Wi5hURSA70AHbZerdK1OOEC8RgB6hSviDCA+F1ZO7qIzBKB72AXZ9nQSvvwYDwdxQkwAS4S68XRmGeqg3jEBDMPe0XGmXLEK8AX+Bhmfi7WgU2Iclte1iLNiBURNuEUSip2xyeUy+b1+BtfgcPb0ZGZiZ5bBOJCK14L99sZwYMeXrfZT0xZDdY5oMo7qfArkXrFrjdrbmmNtv7AT99HS2fEkEkwnU90RAogU9CZi0jIF2d7Cneyxdq5CFDCKGLNRkENsfPuPtoVuT27RR9avrlmBxG61FCyFw8eJNHglHIyPoqGGVkJLAN3S8ZQ8QdKPmXHN8j+O+IKpBsfgZpr0IaXnSY8Yku2/ODodLdIJufRqVNowCvkJBLiwRugR41o1gYfyoM1tzwHJr+UZzz1uM8PovC81h77Q7hr+pEAwXi8w7ZXNhxHvE38flG2bqE/3bG5llC+2sY5Bg6C2R5gq/VGy2na9B7wvO1hrz5OE/tivXYJpgmhng+zHFrlPyroskUzlNMz6hSFZuXhEK8j5p6CbVLqUBnm9y25RFsyj4OjSay0L2oU8x4d9hIdJeNiZ6iZ/lcC1oOmdyFbjgNNbwl3nPmBT7fv6XYhpreg8OBDkUqiAhvNKehXy5DXIyo7MZUj610J0yQ6mTLk5hOViI/zX7Gbp8OH2iegnjr+VsHdJ1DyUnvKhRBDTQiWlynWQYn/TTw+1RfyamO03WQ348orBwZi8eAssYHZCmGzyfR9+9HFz6OanwB3XQo/n4E0Xk1/RFRAvcmNpQ4I5pXzOMEIDsQn4fn3V538yRBH5OlEyVeHzIsqeZKTFBUgc1DnOH4lDJVNynJd8IWplGAxnhIsfDfubh+XmV0Ol6bPRGhGo3m36mMvIrjdLROiwBshVP2Ls/qIQfUGi3zRAavB2Wny1GT76iUHOIBoAOanRHybJJrxht412lXGuhik3HzTKCw0+S1vcmjYabSehgtOyKiVwYe3LiOSf5nBraeretKg7uoHuAptGIdFcVVyW2nI7VhMCWhqcuMtaZMl9FO4Ds/XAAwyhViUJhHqX9csvdsiXYAIVNQy/EYhr82eVL2E9gVgJ8B3J3tcts0LekzdkqUvVt7Sq4XAgJ9hEpsIdJbbI6Oc4wxnsxj8fGg0O4L0XAk5PQnbnKrCmKaxNjRJo/32ywo9UTDteuHWo2iz2l0F1ddiC5xyNa5lNDJksE7O5pmeNlEBTWhze37JNqBKEjsypUrZ+VelnOfMcY4NMFPdTkVDhBTk+rEK3+1Q0iMW4ECHuq6r8lovUJl7CsWvHth8GLR+jcP8a8Z5D4byZH1smU8WnAXntaEFd8n6Jr1Al4VfDdgUqqSKP3hmDe9bLhSOdDpDrTy8OjRwqxsuafrwbyhsytmVVvXW6d0XV+yZMnl48aOPfrh5s2MUnQ+hNbWVvb5itWsKm4Ya7TeyNoKX0He2epuylLM79qDKaOszmj5J55fEU4vOHcuHNYLMCjUK9aS8FoPj9baYCRegHRXCIwRTSOosWu6CdXSwo2phX0mMqWLha7MHJxxDNvskdu3boVlBU+BvcIGRuaEmx64G47fOBrU0kpw/2W10HzdjAcDxed24p4IDRKqO4kqPJLsss3B6mOwSuFmrU7EYkAnwLYqSDU+B6Mwz4aSfpDPDbi+GIPKQhwvx4m1OM2LZmhL8b6R6C5aiNJZPwomTsvnEAXqZWsrX6+Tzfd2ECjd9fW+srsm3cp2/mcn2//Ze4w6KyKPo/wUW/bY46y+X35Em03jZ2CRoL4YplGnWNaHrFJfp8sZGZ4vw6oc3a04lMzn8LkmGBaPlizS6BhyeiyxwiCgbx4NaWBwNAQCtFxD7FjEulzPeR56LiOnwQ3b0ErWvCwIBILKPHWmGM6dK4PiqlLo2JsEDh0Hz1sbHkGFZGv0GHiDdHnvJ0TCvq9Z78L7EwwGTA12zAOaeb3JAxD4QcrnSmiIzx4APYDEQK3FipcLpUQXmxzERSsepJVRyFSMd/O22RRdC9KNKJ8L7n+0EFq9frjt5uv5RxakKsOfC5+A8ztmQ6arPU25X3xTJ8+byS2+BF0qwEBr+RqYSJzILdQbzGZ09tdwfQKubUzylmi1ot+rLMPzUzUlC/ApESSgHq0Mw24AtvtFdXlqa0l9u1CENBLNIhA1P6GP2/k6dqzhpnFMYM8h7T7kN3vhpSNHYP4fZ8LlVjOIqH5ZNkBiYiLYzpwFi1ftRItW1ULAVqJV1xQEf6iLzZUI+Qldrg0ZjwHe+hC2uswdszCiVwGTOQsmZMQ5ge843mNhVOXJeoRelWYxSM0jUOPShMLeqEojTcCETdl0PCcWL6EJ2cnC73XJSGAiBKU2hc7ID/xQpA2udTPYXNMImz74FHLy8sAydBjo9AaoOrcdcuxtYFW7FRNAfywdrQ0I9YbSJIZNXr2TZhyW+1X2Qaq/+HDHPQmufoUOpe0ZHB7EtmhCeJ7XjOgZw5kq+sMCaUJhiWPnFwu0vp9shFDjH8zKRPsQEBxBYgWkcxfVh783GAIUHvfIUMiDk78N9u/dBzOmTYastDFgf/vfEA0IC3sApl2ineDU69S7sdi1Qw9QCg4xFktFvCQ/dpw3uYqq8VXdFV9gkojFJolIyU2MUn2Bw1fx/sxijBaE12RjLC98j4vW9piR7QqAqawB+xsGmdnZcMvkKZrMFWNHwup8E3yRFgvfxkpQoiBL6EfEmnNaOxiLee08LKZ9AciGXqC/IoWa0vZPbb2B5GzzNCUoUgPyYQSJWk+2pJVc36Fuqzdabw1bBjM3r6yP6kaPCHjXfqjdqybMInSQCdJSU+HET+Ww78BR2LH7CEydNg3KmxqhX1wK3LDoIXA2N0Pd9ychKXfIwaD28BteyAsoI5fj61BPTKqCOJTHR0qIEy4ChFwo8fJCQPvlZeT6LoVogIbWODIT8E6TRsPsO9/1piTCmhQ9LE4hYB5/FYy+7gY4fPgwLHp4PtRWV0LGkExQRpih+u310IpJfEBcHOROuJaTWaERI9DakY/emMTPAaEgRSW4GKG0TYRopT0Vu3/51JPA2fDYR2kwN4jCUv+u95pn7dgAgzAwXDHmGshOS4B/vbUS+g2Ih7n3zQFnYyO4G50QFx8HOz/dGiaxCpVSEtJQYzvTQgP0yiQJfptgpLDBaOFd9jf47MJ/OBzAhyflGrshd2IYXwpugmruYAIVun1QSXSXVOImzkA8IeIgfB/hjKF1H/zu2z1rs1yqbt0778Ov45Ohde9hmGtvgbgpCyDpnhlwUyoGzMm3wWfbvwGYNfMI7n0+wiiGcRoKGqJIqnsTCgNKAgS/Xsq4J1h9MMB+lJRjhMZIyb73CtTWSShEbNY+dxL+gaQ7YKQ6gJsnYTU/uP0gsh4F06e89o+l4wpeHJSz5XinPkaMiwUioo4zB8HU2VM349R9uCfSBVS3CUWpCpbBwFaa3KcP9iaUQH0FAaLbhrHIgDx6kaHzWFmUp3lOV0T7SisFhYZyjSEC/aIRDVD/Yp0gbDB56UbopEGyFgXbkj7pN8v8X+4d6z90bDhrwHSjE8Fw2w1O0ZS4j2SkrkW8jV1p8i+8Fbp802Dn6V5dj0OC5ydeqpXDRYImCy/zDYRN94G6e6C75AD0AUINIi82eX/Uhk8VCuOA/wP8F2QYnk+6whGRAAAAAElFTkSuQmCC"})]})]})};var wt=e=>{var t,o,a,l,d,r,s,u,v,O,b,j,p,h,T,x,D,R,w,k,F,U,B,W,G,V,Q,X,Z,$,ee,te,oe,ae,ie,le,ne,de,ce,re,ue,ve,me,be,je,pe,he,ge,Ie,Se,Ne,Ce,Ee,Te,fe,xe,De,Ae,ye;const{contentData:_e={},currencySymbol:Re="",currencyConversionFactor:Le="",bucketId:Pe="",isMobile:we,confirmChangesHandler:ke,isModelClosed:Fe,loggedIn:He,dispositionData:Ue,storesWithStatus:Be,cartList:We,showTaxLines:ze,history:$e,addHope:et="",carryBag:tt="",disableCheckout:ot}=e,{totalAmount:at="",quantity:it="",subTotal:lt="",additionalCharges:nt,taxLines:dt,bottleDepositChargeTotal:ct=0,discountAmounts:rt=[],paymentDiscountAmounts:st=[],paymentDiscountTotal:ut,taxAmounts:vt=""}=_e,{CART_SUMMARY_CARD:mt,FROMCHECKOUT:Ot,APPLIED:yt,APPLIED_COUPON:wt,VOUCHER:Mt,GIFT_CARD:kt,GIFTCARD:Ft,REMOVE_COUPON:Ht}=y.a,{GST_INCLUDED:Ut,PROMO_UNMET_SUMMARY_MESSAGE:Bt,CHECKOUT_UNAVAILABLE_AT_STORE:Wt,ORDER_TIME_PASSED_MSG:Gt,SCHEDULE_TIME_NOT_AVAILABLE:Vt,SCHEDULE_TIME_NOT_AVAILABLE_MSG:Yt,SCHEDULE_TIME_NOT_AVAILABLE_BUTTON:zt,RESCHEDULE_ORDER_TIME_BUTTON:qt,ORDER_ASAP:Kt,REMOVE_GIFT_CARD:Jt,REMOVE_VOUCHER:Qt,GIFT_CARD_ERROR_FIRST_MSG:Xt,GIFT_CARD_ERROR_SECOND_MSG:Zt,VOUCHER_ERROR_SECOND_MSG:$t,GIFT_CARD_TOAST:eo,VOUCHER_TOAST:to,REMOVE:oo,TOTAL_ORDER_BETWEEN_LIMIT_ERROR:ao,TOTAL_ORDER_OVER_LIMIT_ERROR:io,AND:lo}=L.a,{QUANTITY_TEXT:no,QUANTITYS_TEXT:co,SUBTOTAL:ro,CHECKOUT:so,TAKEAWAY:uo,SEARCH_IN_CART:vo,SEARCH_IN_MENU:mo,CARRY_BAG:Oo,DONATE:bo,ADD_HOPE_HEADER:jo,ADD_HOPE_TEXT:po,largeCarryBagText:ho,addHopeText:go}=mt,{Error_Yellow:Io,CartError:So,Ellipse:No,Timeout_Red:Co,GreenCheck:Eo,Ellipse_Orange:To,CircleCloseButton:fo}=_.a,{CART_CATERING_ALERT_STARTTEXT:xo,CART_CATERING_ALERT_ENDTEXT:Do,CART_CATERING_CONTENT_TEXT:Ao,GIFT_CARD_MEAL_FULLY_COVERED:yo,GIFT_CARD_ABOVE_SUBTOTAL:_o,VOUCHER_MEAL_FULLY_COVERED:Ro,VOUCHER_ABOVE_SUBTOTAL:Lo,WICODE_AUTO_RELEASED:Po}=L.a,{userOrderState:wo,userOrderStateDispatch:Mo}=Object(i.useContext)(N.a),[ko,Fo]=Object(i.useState)(!1),[Ho,Uo]=Object(i.useState)(!1),[Bo,Wo]=Object(i.useState)(!1),[Go,Vo]=Object(i.useState)(!1),[Yo,zo]=Object(i.useState)(!1),[qo,Ko]=Object(i.useState)(!1),[Jo,Qo]=Object(i.useState)(!1),[Xo,Zo]=Object(i.useState)(!1),[$o,ea]=Object(i.useState)(!1),[ta,oa]=Object(i.useState)(!1),[aa,ia]=Object(i.useState)(!1),la=Object(i.useMemo)((()=>Object(E.Sd)(wo.currentStoreInfo)?Object(E.b)(localStorage.getItem(f.gd.CURRENT_STORE_INFO_STORAGE)):wo.currentStoreInfo),[wo.currentStoreInfo]),{timeBasedCetegory:na,timeBasedAlertModalData:da}=wo,{maxOrderAmount:ca=0,minOrderAmount:ra=0}=null!==(t=null!==(o=null===la||void 0===la||null===(a=la.summary)||void 0===a?void 0:a.menu)&&void 0!==o?o:Object(E.b)(localStorage.getItem(f.gd.PRICE_LIMITS)))&&void 0!==t?t:{},sa=Object(n.c)((e=>e.tenantReducer)),{componentOptions:ua,enableOrderCapacityManagement:va,orderServDateFormat:ma,taxAmountRoundOff:Oa,showPromiseTimeCartGuidance:ba=!1,showDeliveryFeeInProductSection:ja,showPromoTitleCartSummary:pa,showCarryBagInLineItem:ha,showCustomDeliveryFee:ga,isUberServiceableEnabled:Ia}=sa,Sa=null===ua||void 0===ua||null===(l=ua.cartPage)||void 0===l?void 0:l.checkoutValidationOnSubtotal,Na=null===ua||void 0===ua||null===(d=ua.cartPage)||void 0===d?void 0:d.getFreeDeliveryCmsContent,Ca=null===ua||void 0===ua||null===(r=ua.cartPage)||void 0===r?void 0:r.showAddHopeEmbededView,Ea=null===ua||void 0===ua||null===(s=ua.cartPage)||void 0===s?void 0:s.carryBagAllowedServices,Ta=(null===ua||void 0===ua||null===(u=ua.app)||void 0===u||null===(v=u.cart)||void 0===v||v.displayMultiHopeComponent,null===ua||void 0===ua||null===(O=ua.cartPage)||void 0===O?void 0:O.showChangedAddHopeTileData),fa=Sa?lt:at,{overLimitFlag:xa,betweenLimitFlag:Da}=Object(C.w)(fa,ca,ra,Le),{flatResponse:{specialItemMapByName:Aa={}}={}}=null!==(b=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==b?b:{},[ya,_a]=Object(i.useState)(),[Ra,La]=Object(i.useState)(),[Pa,wa]=Object(i.useState)(),[Ma,ka]=Object(i.useState)(0),[Fa,Ha]=Object(i.useState)(),[Ua,Ba]=Object(i.useState)(0),[Wa,Ga]=Object(i.useState)({}),Va=Object(I.a)(),Ya=Object(I.b)(Ze.c),[za,qa]=Object(i.useState)(!1),[Ka,Ja]=Object(i.useState)({donationChargeOption:[],selectedObj:"",addHopesDataInFoodlines:[],donationRegexPattern:f.ob}),[Qa,Xa]=Object(i.useState)(!1),Za=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),$a={child:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_CHILD),children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_CHILDREN),childTitle:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_CHILD_TITLE),addButton:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_DONATION),updateButton:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_UPDATE_DONATION),maxQuantityErrorMsg:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ADD_HOPE_ERROR_MSG),other:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.OTHER),notNow:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.NOT_NOW),baht:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.baht)},ei=Object(I.b)(g.b),{isLoading:ti}=Object(n.c)((e=>(null===e||void 0===e?void 0:e.specialEventReducer)||{})),{fetchEventItemAvailability:oi,isAllCartProductsAvailable:ai,isEvent:ii}=Object(S.a)(),li=null===ei||void 0===ei?void 0:ei.addHopeTriggered;let ni={};ga&&(ni=nt.find((e=>"in-delivery-charge"===e.chargeType)));let di=Object(n.c)((e=>e.appStateReducer.userStatus));const ci=Object(n.c)((e=>e.authReducer)),{enableAddGiftCardOrVoucher:ri=!1,showPromoRewardsMessage:si=!1,showOrderCapacityOrderAsapAlertCta:ui=!0,allowPromoGuestMember:vi=!1,showCarrybagCheckbox:mi=!1,showAddHopeCheckbox:Oi=!1,showPromosDiscountSection:bi=!0,showCarrybagFee:ji=!1}=(null===ua||void 0===ua||null===(j=ua.web)||void 0===j?void 0:j.cartPage)||{},pi=Ct(rt,yt),hi=Ct(st,wt),gi=null===st||void 0===st||null===(p=st.some)||void 0===p?void 0:p.call(st,(e=>null===e||void 0===e?void 0:e.isError)),Ii=null===rt||void 0===rt||null===(h=rt.some)||void 0===h?void 0:h.call(rt,(e=>null===e||void 0===e?void 0:e.isError)),Si=Et(rt,Ii,He,ri,si,vi),Ni={totalOrderBetweenLimitError:Object(A.translateWithI18Next)(ao),totalOrderLimitErrorMessage:Object(A.translateWithI18Next)(io),and:Object(A.translateWithI18Next)(lo)},Ci=Et(st,gi,He,ri),Ei=Boolean((null===hi||void 0===hi?void 0:hi.length)>0&&!Ci),Ti=((e,t,o)=>e?(null===t||void 0===t?void 0:t.length)>0:Boolean((null===t||void 0===t?void 0:t.length)>0&&!o))(ri,pi,Si),fi=Be&&(null===(T=Be[0])||void 0===T?void 0:T.summary),xi=Be&&(null===(x=Be[0])||void 0===x||null===(D=x.summary)||void 0===D?void 0:D.deliveryPartner),Di=Be&&(null===(R=Be[0])||void 0===R||null===(w=R.summary)||void 0===w?void 0:w.timeZoneIANA),Ai=Be&&(null===(k=Be[0])||void 0===k||null===(F=k.summary)||void 0===F||null===(U=F.status)||void 0===U?void 0:U.currentStatus),yi=Be&&(null===(B=Be[0])||void 0===B||null===(W=B.summary)||void 0===W?void 0:W.isPaperBag),_i=Dt(Be),Ri=(e=>{var t,o,a,i;return(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.isMandatoryPaperBag)&&(null===e||void 0===e||null===(a=e[0])||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.isPaperBag)})(Be),Li=((e,t)=>{var o,a,i,l,n;return null!==e&&void 0!==e&&null!==(o=e.addHopesDataInFoodlines)&&void 0!==o&&o.length?(null===e||void 0===e||null===(a=e.addHopesDataInFoodlines)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.amount)/t:null!==e&&void 0!==e&&e.selectedObj?(null===e||void 0===e||null===(l=e.addHopeProperties)||void 0===l?void 0:l.addHopeDataPrice)*(null===e||void 0===e||null===(n=e.selectedObj)||void 0===n?void 0:n.value):""})(Ka,Le),Pi=((e,t,o)=>{const{APPLIED_COUPON:a}=y.a;if(e-o<=0){var i,l,n;const e=(null===(i=t[(null===t||void 0===t?void 0:t.length)-1])||void 0===i?void 0:i.status)===a,o=e&&(null===(l=t[(null===t||void 0===t?void 0:t.length)-1])||void 0===l?void 0:l.remainingBalance);return{type:e&&(null===(n=t[(null===t||void 0===t?void 0:t.length)-1])||void 0===n?void 0:n.title),remainingBalance:Number(o)}}return!1})(Li?+lt+Li:lt,st,ut),wi=Boolean((null===Pi||void 0===Pi?void 0:Pi.remainingBalance)>=0),{SET_ASAP_SCHEDULING:Mi}=Y.a,ki=Object(E.Lb)(wo),Fi=Object(n.c)((e=>e.cartReducer)),{cartData:Hi={}}=Fi||{},Ui=null===Hi||void 0===Hi||null===(G=Hi.requestedDateTime)||void 0===G?void 0:G.isForNow,{enableScheduleOrder:Bi,enableClickCollectScheduleOrder:Wi}=(null===ua||void 0===ua||null===(V=ua.web)||void 0===V?void 0:V.dispositionConfig)||{},Gi=null===ua||void 0===ua||null===(Q=ua.web)||void 0===Q||null===(X=Q.scheduledDelivery)||void 0===X?void 0:X.allowScheduleOrderForDispositions,Vi=Wi&&Gi.includes(null===la||void 0===la?void 0:la.service),Yi=Object(E.jb)(Bi,Vi),zi=Object(E.Nf)(Yi,E.ke,[null===Fi||void 0===Fi?void 0:Fi.cartData,fi]),qi=null===ua||void 0===ua||null===(Z=ua.web)||void 0===Z||null===($=Z.global)||void 0===$?void 0:$.pricewithNumberofDecimalDigit;let Ki=null;const Ji=!Ui&&Object(qe.b)({enableScheduleOrder:Bi,enableClickCollectScheduleOrder:Wi,timeZone:null!==Di&&void 0!==Di?Di:null===ki||void 0===ki||null===(ee=ki.store)||void 0===ee||null===(te=ee.summary)||void 0===te?void 0:te.timeZoneIANA,storeSelectedDate:null===ki||void 0===ki?void 0:ki.date,storeSelectedTime:null===ki||void 0===ki?void 0:ki.epochTime,promiseTime:null!==_i&&void 0!==_i?_i:Dt([null===ki||void 0===ki?void 0:ki.store].flat())}),Qi=Object(n.b)(),Xi=(null===ki||void 0===ki||null===(oe=ki.store)||void 0===oe?void 0:oe.id)||(null===ki||void 0===ki||null===(ae=ki.store)||void 0===ae?void 0:ae.storeId),Zi=Object(J.A)(null===ki||void 0===ki?void 0:ki.date,ma),$i=Object(J.h)(null===ki||void 0===ki?void 0:ki.date,f.sb.YYYYMMDD),el=Ke.a.formatValue(Ke.a.dayjs(null===ki||void 0===ki?void 0:ki.selectedTime,f.sb.hh_mm_A),f.sb.HHmm),tl=Object(n.c)((e=>e.storesReducer)),{orderCapacity:ol={},isOrderCapacityLoading:al=!1}=tl,il=null===ol||void 0===ol||null===(ie=ol[Xi])||void 0===ie?void 0:ie[$i],ll=Object(n.c)((e=>{var t;return{marketPageContent:(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||null}})),{fetchData:nl}=Object(jt.a)(),dl=Object(E.Fd)(null===Be||void 0===Be?void 0:Be[0]),cl=(null===Be||void 0===Be||null===(le=Be[0])||void 0===le||null===(ne=le.summary)||void 0===ne||null===(de=ne.status)||void 0===de?void 0:de.currentStatus)===f.Y;if(null!==ll&&void 0!==ll&&ll.marketPageContent){var rl;const{footer:e={}}=Object(E.sd)(null===ll||void 0===ll||null===(rl=ll.marketPageContent)||void 0===rl?void 0:rl.headerData);Ki=Object(E.Wb)(e)}const sl=il&&Object.keys(il)&&Object.keys(il).includes(el)?il[el]:null;Object(i.useEffect)((()=>{var e,t,o;const a=((null===na||void 0===na?void 0:na.timebasedItemInCart)||Object(q.f)(null===Fi||void 0===Fi||null===(e=Fi.cartData)||void 0===e?void 0:e.foodLines,na))&&(null===na||void 0===na?void 0:na.isTimeExpired),i=Object(q.a)(null===Fi||void 0===Fi||null===(t=Fi.cartData)||void 0===t?void 0:t.foodLines,Za,Object(K.b)(null!==(o=null===ki||void 0===ki?void 0:ki.store)&&void 0!==o?o:la));(null===da||void 0===da?void 0:da.title)!==(null===Y.a||void 0===Y.a?void 0:Y.a.REVIEW_ORDER_MODAL)||null!==da&&void 0!==da&&da.isReviewOrderClick||!a&&!i&&Wo(!1)}),[da]),Object(i.useEffect)((()=>{if(va&&!al&&Zi&&!qo&&Xi){var e;const t=null!==(e=null===Ue||void 0===Ue?void 0:Ue.type)&&void 0!==e?e:null===ki||void 0===ki?void 0:ki.type;nl({storeId:Xi,timeStamp:Zi,dispositionType:t}),Ko(!0)}}),[Zi,va,al,qo,Xi]),Object(i.useEffect)((()=>(Na&&Object(E.Jd)(localStorage.getItem(f.gd.DISPOSITION_TYPE))&&Qi(Object(Xe.h)()),()=>{Qi(Ze.a.resetReducer())})),[Qi]),Object(i.useEffect)((()=>{var e,t,o;(null===Ya||void 0===Ya?void 0:Ya.freeDeliveryContent)&&Ga(Object(Xe.i)(null===Ya||void 0===Ya||null===(e=Ya.freeDeliveryContent)||void 0===e||null===(t=e.items)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.fields))}),[null===Ya||void 0===Ya?void 0:Ya.freeDeliveryContent]);const ul=()=>{var t;Fo(!1),Mo({type:null===Y.a||void 0===Y.a?void 0:Y.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...Ue,date:f.s,selectedTime:f.s,time:f.s,epochTime:f.s}}}),Mo({type:Y.a.SET_ORDER_NOW,value:{showOrderNow:!0}}),Mo({type:Y.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!1}}),Mo({type:Mi,value:{enableASAPScheduling:!0}}),localStorage.setItem(f.gd.DISPOSITION_NEW,JSON.stringify({...Ue,date:Object(J.h)(new Date,f.sb.YYYY_MM_DD),selectedTime:f.s,time:f.s,epochTime:f.s})),localStorage.setItem(f.gd.DATE_TIME_ORDER,JSON.stringify({date:"",selectedTime:f.s,time:f.s,epochTime:f.s}));Qi(Object(m.q)({params:{basketId:null===Fi||void 0===Fi||null===(t=Fi.cartData)||void 0===t?void 0:t.id},tenantId:null===sa||void 0===sa?void 0:sa.tenantId,postBody:{isForNow:!0,futureDateTime:0}})),Object(E.Qe)(e)},vl=ta===Mt;Object(Qe.f)(di,ci,$e,Qi,Je.d);const ml=()=>{Fo(!1),zo(!1),Wo(!0),ia(!1)},Ol=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault();const t=Object(E.r)(Be[0],null===Hi||void 0===Hi?void 0:Hi.service,null===ki||void 0===ki?void 0:ki.selectedTime,Ui);if(null!==na&&void 0!==na&&na.timebasedItemInCart&&null!==na&&void 0!==na&&na.isTimeExpired){Wo(!0);if(Object(q.c)({categoryUrl:null===na||void 0===na?void 0:na.url,alertType:null===Y.a||void 0===Y.a?void 0:Y.a.CART_REVIEW_ORDER_MODAL,itemInCart:!0},na,Mo))return}if(va&&!Object(pt.e)(xi)){if(ii&&oi(),Wo(!0),!Jo){const e=null===ki||void 0===ki?void 0:ki.type;return nl({storeId:Xi,timeStamp:Zi,dispositionType:e}),void Qo(!0)}if(ii){if(!ai())return}if(0===Number(sl))return void zo(!0)}Object(C.b)({storesWithStatus:Be,dispositionData:Ue,confirmChangesHandler:ke,CheckoutDetailsClick:Me.c,setShowCateringAlert:Vo,setCheckoutButtonDisabled:Wo,FROMCHECKOUT:Ot,scheduleTimeCheck:Ji,setOrderScheduleModal:Fo,setShowAsapAlert:ia,AsapCheck:t,sliceDispatch:Va,resetPWAstorage:g.c})};Object(i.useEffect)((()=>{va&&Jo&&!al&&!ti&&(Ol(),Qo(!1))}),[va,al,Jo,ti]);const bl=()=>{Vo(!1),Wo(!0)},jl=Object(E.Bf)((()=>{const e=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight||t.top<0&&t.bottom<0||t.top<=0&&t.bottom>0})(document.getElementById("summary-card"));Uo(e)}),500);Object(i.useEffect)((()=>{var e,t,o;return((null===na||void 0===na?void 0:na.timebasedItemInCart)||Object(q.f)(null===Fi||void 0===Fi||null===(e=Fi.cartData)||void 0===e?void 0:e.foodLines,na))&&(null===na||void 0===na?void 0:na.isTimeExpired)||Object(q.a)(null===Fi||void 0===Fi||null===(t=Fi.cartData)||void 0===t?void 0:t.foodLines,Za,Object(K.b)(null!==(o=null===ki||void 0===ki?void 0:ki.store)&&void 0!==o?o:la))?Wo(!0):Wo(!1),we&&document.addEventListener("scroll",jl),()=>{document.removeEventListener("scroll",jl)}}),[we,na,null===Fi||void 0===Fi?void 0:Fi.cartData]);const pl=Object(P.jsxs)(P.Fragment,{children:[Object(A.translateWithI18Next)(xo),Object(P.jsx)("br",{}),Object(A.translateWithI18Next)(Do)]}),hl=Object(n.c)((e=>{var t,o,a,i,l,n;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(o=e.cartReducer)||void 0===o?void 0:o.isUpdateQuantityLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isValidateBasketLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreStatusLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isCreateOrderLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isPlaceOrder)})),gl=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isCouponLoading})),{itemRemoveHandler:Il}=Object(H.a)({cartId:Pe},null===sa||void 0===sa?void 0:sa.tenantId,void 0,void 0,Mo,Qi,void 0),Sl=(e,t)=>{e.stopPropagation(),e.preventDefault();let o=e.target.checked,a=e.target.id;if(o)Qi(Object(c.a)({params:{basketId:Pe},tenantId:null===sa||void 0===sa?void 0:sa.tenantId},[{Id:a,categoryId:"",quantity:1,modGrps:[]}]));else{Il({foodLineId:t,flag:"specialItems"})}Qi(Object(c.u)(new Date))},Nl=(e,t,o)=>{Object(E.Td)(e)?(t(e.id),o(e.price)):(t(""),o(0))},Cl=(e,t)=>{Object(E.Td)(e)?t(e.id):t("")},El={addHopeData:null===Fi||void 0===Fi||null===(ce=Fi.cartData)||void 0===ce?void 0:ce.addHopeDetails,allReducerData:ll,showChangedAddHopeTileData:Ta,showAddHopeModalView:za,setShowAddHopeModalView:qa,sliceDispatch:Va,setPWAstorage:g.d,dispatch:Qi,itemRemoveHandler:Il,basketId:Pe,tenantId:null===sa||void 0===sa?void 0:sa.tenantId,segmentedMarketingData:Ki,paymentDiscountLines:null===Fi||void 0===Fi||null===(re=Fi.cartData)||void 0===re?void 0:re.paymentDiscountLines,addHopeCouponClear:Qa,setAddHopeCouponClear:Xa,cartData:Hi};return Object(i.useEffect)((()=>{if(Aa){let e=Object(E.eb)(Aa,et,Le,mo);Nl(e,Ha,Ba);let t=Object(E.rb)(Aa,tt,Le,mo);Nl(t,_a,ka)}}),[Aa]),Object(i.useEffect)((()=>{var e;if(Hi&&(null===Hi||void 0===Hi||!Hi.errorCode)){let e=Object(E.eb)(Hi.foodLines,et,Le,vo);Cl(e,La);let t=Object(E.rb)(Hi.foodLines,tt,Le,vo);Cl(t,wa),(null===e||void 0===e||!e.id)&&Va(Object(g.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1}))}null!==Hi&&void 0!==Hi&&null!==(e=Hi.foodLines)&&void 0!==e&&e.length||(Va(Object(g.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,value:!1})),Va(Object(g.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),sessionStorage.setItem(null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,!1))}),[null===Hi||void 0===Hi?void 0:Hi.errorCode,null===Hi||void 0===Hi?void 0:Hi.foodLines]),Object(i.useEffect)((()=>{var e;null!==ei&&void 0!==ei&&null!==(e=ei.reorderFlag)&&void 0!==e&&e.isReorderFlow&&Fa&&(Va(Object(g.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),qa(!0))}),[null===ei||void 0===ei||null===(ue=ei.reorderFlag)||void 0===ue?void 0:ue.isReorderFlow,Fa]),Object(i.useEffect)((()=>{var e,t;if(Fa&&null!==Fi&&void 0!==Fi&&null!==(e=Fi.cartData)&&void 0!==e&&null!==(t=e.foodLines)&&void 0!==t&&t.length){var o,a;const e=null===Fi||void 0===Fi||null===(o=Fi.cartData)||void 0===o||null===(a=o.foodLines)||void 0===a?void 0:a.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id)===Fa}));null!==Ka&&void 0!==Ka&&Ka.selectedObj||null!==ei&&void 0!==ei&&ei.selectedNotNow||!1===li||Ta?qa(!1):((null===e||void 0===e?void 0:e.length)>0?qa(!1):qa(!0),Va(Object(g.d)({key:f.gd.ADD_HOPE_TRIGGER,value:!1}))),Ja({...Ka,addHopeProperties:{addHopeDataId:Fa,addHopeDataPrice:Ua,addHopeDataExistsInCartId:Ra,currencySymbol:Re,currencyConversionFactor:Le,addHopeTranslationObj:$a},addHopesDataInFoodlines:e,addHopePriceSelected:Object(E.cb)(null===Hi||void 0===Hi?void 0:Hi.foodLines,et,Re,Le)})}else Ja({...Ka,addHopeProperties:{}})}),[Ua,Ra,Fa]),Object(i.useEffect)((()=>{ot&&Wo(!0)}),[ot,_e]),Object(P.jsxs)("div",{className:"cart-summary-card-container",id:"summary-card","data-testid":"cart-summary-card-global",children:[Object(P.jsxs)("h2",{className:"cart-summary-item-count","data-testid":"cart-count",children:[Object(P.jsx)("span",{translate:"no",children:it})," ",Object(E.ad)(1===it,Object(A.translateWithI18Next)(no),Object(A.translateWithI18Next)(co))]}),ha&&yi&&Pt({showCarrybagCheckbox:mi,carryBagDataExistsInCartId:Pa,carryBagDataId:ya,addSpecialItemInCart:Sl,getPapperBagMandatory:Ri,addHopeDataId:Fa,addHopeDataExistsInCartId:Ra,CARRY_BAG:Oo,showAddHopeCheckbox:Oi,DONATE:bo,currencySymbol:Re,addHopeDataPrice:Ua,ADD_HOPE_HEADER:jo,ADD_HOPE_TEXT:po,dispositionData:Ue,carryBagAllowedServices:Ea}),Object(P.jsxs)("div",{className:"cart-summary-coupons",children:[Rt(si,Ti,Pe,pi),ri&&Object(P.jsx)(Ge,{bucketId:Pe,showPromoRewardsMessage:si,isMealFullyCovered:wi,discountAmounts:rt})]}),Object(P.jsxs)("div",{className:"cart-summary-content","data-testid":"cart-summary-content",children:[ja&&(null===nt||void 0===nt?void 0:nt.length)>0&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.DELIVERY_FEE)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value",children:[Re,Number(null===(ve=nt[0])||void 0===ve?void 0:ve.amount).toFixed(qi)]})]}),ja&&ga&&(null===nt||void 0===nt?void 0:nt.length)>0&&(null===(me=ni)||void 0===me?void 0:me.amount)>0&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.IN_DELIVERY_FEE)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value",children:[Re,Number(null===(be=ni)||void 0===be?void 0:be.amount).toFixed(qi)]})]}),ri&&_t({isValidPaymentDiscount:Ei,validPaymentDiscount:hi,minusSign:"-",currencySymbol:Re,couponModalHandler:e=>{Zo(!0),ea(null===e||void 0===e?void 0:e.couponCode),oa(null===e||void 0===e?void 0:e.title)},GIFTCARD:Ft,GIFT_CARD:kt,Ellipse_Orange:To,WICODE_AUTO_RELEASED:Po,history:$e,CircleCloseButton:fo}),!ja&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name","data-testid":"subtotal-text",children:Object(A.translateWithI18Next)(ro)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value","data-testid":"cart-subtotal",children:[Re,Number(lt).toFixed(qi)]})]}),ri&&ze&&(null===dt||void 0===dt?void 0:dt.length)>0&&Object(Ve.g)(dt,Re,Le,y.a.CART_SUMMARY_CARD.CART,Oa),(null===sa||void 0===sa||null===(je=sa.componentOptions)||void 0===je||null===(pe=je.web)||void 0===pe||null===(he=pe.global)||void 0===he?void 0:he.showGstIncluded)&&It(Object(A.translateWithI18Next)(Ut),vt,sa),(null===Ue||void 0===Ue||null===(ge=Ue.type)||void 0===ge?void 0:ge.toLowerCase())===(null===uo||void 0===uo?void 0:uo.toLowerCase())&&ht(Ma,Re,ho,ya,mi,Pa,ji),gt(Ra,Re,go,Ua,Ca),!ja&&(null===nt||void 0===nt?void 0:nt.length)>0&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.DELIVERY_FEE)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value",children:[Re,Number(null===(Ie=nt[0])||void 0===Ie?void 0:Ie.amount).toFixed(qi)]})]}),!ja&&ga&&(null===nt||void 0===nt?void 0:nt.length)>0&&(null===(Se=ni)||void 0===Se?void 0:Se.amount)>0&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.IN_DELIVERY_FEE)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value",children:[Re,Number(null===(Ne=ni)||void 0===Ne?void 0:Ne.amount).toFixed(qi)]})]}),!ja&&Na&&Object(E.Jd)(localStorage.getItem(f.gd.DISPOSITION_TYPE))&&Object(E.qe)(null===Wa||void 0===Wa?void 0:Wa.value)&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name",children:null===Wa||void 0===Wa?void 0:Wa.line}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value free-delivery",children:[Object(P.jsx)("span",{children:null===Wa||void 0===Wa||null===(Ce=Wa.value)||void 0===Ce?void 0:Ce.charAt(0)}),Object(P.jsx)("span",{className:"free-delivery-amount",children:null===Wa||void 0===Wa||null===(Ee=Wa.value)||void 0===Ee?void 0:Ee.slice(1)}),Object(P.jsx)("span",{className:"ml-1 free-delivery-off",children:null===Wa||void 0===Wa?void 0:Wa.amount})]})]}),ja&&Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name","data-testid":"subtotal-text",children:Object(A.translateWithI18Next)(ro)}),Object(P.jsxs)("div",{className:"cart-summary-content-item-value checkout-summary-content-item-value","data-testid":"cart-subtotal",translate:"no",children:[Re,Number(lt).toFixed(qi)]})]}),bi&&si&&Ti&&!Si&&(null===pi||void 0===pi?void 0:pi.map(((e,t)=>{const o=null===e||void 0===e?void 0:e.title;return Object(P.jsxs)("div",{className:"cart-summary-content-item",children:[Object(P.jsx)("div",{className:"cart-summary-content-item-name checkout-summary-content-item-value",children:o}),Object(P.jsxs)("div",{className:"cart-summarisBasketDetailsLoadingy-content-item-value checkout-summary-content-item-value",children:["-",Re,null===e||void 0===e?void 0:e.amount]})]})}))),Ca&&Fa&&Object(P.jsx)(bt,{donationsButtonData:Ka,setDonationsButtonData:Ja,...El}),Object(P.jsx)("hr",{}),si&&ze&&(null===dt||void 0===dt?void 0:dt.length)>0&&Object(Ve.g)(dt,Re,Le,y.a.CART_SUMMARY_CARD.CART,Oa),Object(Ve.h)(ct,Re,Le,null===mt||void 0===mt?void 0:mt.CART),ri&&Ei&&wi&&At({GreenCheck:Eo,Ellipse_Orange:To,checkIfMealFullyCoveredAmt:Pi,GIFT_CARD_MEAL_FULLY_COVERED:yo,GIFT_CARD_ABOVE_SUBTOTAL:_o,VOUCHER_MEAL_FULLY_COVERED:Ro,VOUCHER_ABOVE_SUBTOTAL:Lo,VOUCHER:Mt,GIFT_CARD:kt,GIFTCARD:Ft})]}),!ha&&Pt({showCarrybagCheckbox:mi,carryBagDataExistsInCartId:Pa,carryBagDataId:ya,addSpecialItemInCart:Sl,getPapperBagMandatory:Ri,addHopeDataId:Fa,addHopeDataExistsInCartId:Ra,CARRY_BAG:Oo,showAddHopeCheckbox:Oi,DONATE:bo,currencySymbol:Re,addHopeDataPrice:Ua,ADD_HOPE_HEADER:jo,ADD_HOPE_TEXT:po,carryBagDataPrice:Ma,dispositionData:Ue,carryBagAllowedServices:Ea}),Object(P.jsxs)("div",{className:"cart-summary-checkout-button-container cart-summary-checkout-button-mobile ".concat(Bo&&"checkout-unavailable"),children:[Object(P.jsxs)(M.c,{className:"cart-summary-checkout-button",variant:M.b.primary,fullWidth:!0,hasPrices:!0,loading:hl,inactive:Object(C.z)({isBasketDetailsLoading:hl,showPromoRewardsMessage:si,overLimitFlag:xa,betweenLimitFlag:Da,isModelClosed:Fe,unMetConditionFound:Si,checkoutButtonDisabled:Bo,timeBasedCetegory:na,cartList:We,storesWithStatus:Be,enableAddGiftCardOrVoucher:ri,unMetPaymentDiscountConditionFound:Ci,isCouponLoading:gl,userOrderState:wo}),"data-testid":"navigation-checkout-desktop",onClick:Ol,children:[Object(P.jsx)("span",{"data-testid":"checkout-amount-name",children:Object(A.translateWithI18Next)(so)}),Object(P.jsxs)("span",{"data-testid":"checkout-total-price",translate:"no",children:[Re,Number(at).toFixed(qi)]})]}),ft({unMetConditionFound:Si,Error_Yellow:Io,PROMO_UNMET_SUMMARY_MESSAGE:Bt}),xt({storesWithStatus:Be,Ellipse:No,CHECKOUT_UNAVAILABLE_AT_STORE:Wt,userOrderState:wo})]}),Xo&&Object(P.jsx)(z.a,{removeCouponHandler:(e,t)=>{const o=t===Mt;Qi(Object(c.p)({basketId:Pe,tenantId:null===sa||void 0===sa?void 0:sa.tenantId,couponCode:e},(()=>{o?Object(E.Cf)(Object(A.translateWithI18Next)(to)):Object(E.Cf)(Object(A.translateWithI18Next)(eo)),Zo(!1)})))},couponCode:$o,couponTitle:ta,flag:Ht,setCouponModal:Zo,title:vl?Object(A.translateWithI18Next)(Qt):Object(A.translateWithI18Next)(Jt),giftCardErrFirstMsg:Object(A.translateWithI18Next)(Xt),giftCardOrVoucherErrMsg:vl?Object(A.translateWithI18Next)($t):Object(A.translateWithI18Next)(Zt),confirmButtonText:Object(A.translateWithI18Next)(oo)}),Object(C.c)({totalAmount:fa,currencySymbol:Re,currencyConversionFactor:Le,maxOrderAmount:ca,minOrderAmount:ra,checkoutButtonDisabled:Bo,isCateringDispositionVal:Object(E.Hd)(null===Ue||void 0===Ue?void 0:Ue.type),totalOrderErrorObject:Ni}),Go?Object(P.jsx)(Oe.a,{handleClose:bl,classNames:"clear-cart-modal item-unavailable cart-checkout-alert",CartAlertForm:Object(P.jsx)(se.a,{title:pl,contentMsg:Object(A.translateWithI18Next)(Ao),imageSrc:So,altText:"",confirmButtonText:Object(A.translateWithI18Next)(Ye.d.feedbackSuccessOk),confirmHandler:bl})}):null,aa?Object(P.jsx)(Oe.a,{handleClose:ml,classNames:"clear-cart-modal item-unavailable cart-checkout-alert schedule-time-lapsed",CartAlertForm:Object(P.jsx)(se.a,{title:St(Vi,zi,Ji),contentMsg:Object(A.translateWithI18Next)(Gt),imageSrc:Co,altText:"",confirmButtonText:Object(A.translateWithI18Next)(qt),confirmHandler:e=>Nt(e,Fo,zo,Mo,la,va,ia),cancelHandler:Tt(null!==Ai&&void 0!==Ai?Ai:null===ki||void 0===ki||null===(Te=ki.store)||void 0===Te||null===(fe=Te.summary)||void 0===fe||null===(xe=fe.status)||void 0===xe?void 0:xe.currentStatus,ul,null!==Be&&void 0!==Be&&Be.length?Be:[null===ki||void 0===ki?void 0:ki.store].flat(),ui),cancelButtonText:Object(A.translateWithI18Next)(Kt)})}):null,ko&&(!Ui||cl&&dl)?Object(P.jsx)(Oe.a,{handleClose:ml,classNames:"clear-cart-modal item-unavailable cart-checkout-alert schedule-time-lapsed",CartAlertForm:Object(P.jsx)(se.a,{title:St(Vi,zi,Ji),contentMsg:Object(A.translateWithI18Next)(Gt),imageSrc:Co,altText:"",confirmButtonText:Object(A.translateWithI18Next)(qt),confirmHandler:e=>Nt(e,Fo,zo,Mo,la,va),cancelHandler:Tt(null!==Ai&&void 0!==Ai?Ai:null===ki||void 0===ki||null===(De=ki.store)||void 0===De||null===(Ae=De.summary)||void 0===Ae||null===(ye=Ae.status)||void 0===ye?void 0:ye.currentStatus,ul,null!==Be&&void 0!==Be&&Be.length?Be:[null===ki||void 0===ki?void 0:ki.store].flat(),ui),cancelButtonText:Object(A.translateWithI18Next)(Kt)})}):null,va&&Yo?Object(P.jsx)(Oe.a,{handleClose:ml,classNames:"clear-cart-modal item-unavailable cart-checkout-alert schedule-time-lapsed order-capacity-error",CartAlertForm:Object(P.jsx)(se.a,{title:Object(A.translateWithI18Next)(Vt),contentMsg:Object(A.translateWithI18Next)(Yt),imageSrc:Co,altText:"",confirmButtonText:Object(A.translateWithI18Next)(zt),confirmHandler:e=>Nt(e,Fo,zo,Mo,la,va)})}):null,ba&&Lt({Error_Yellow:Io,dispositionData:Ue})]})},Mt=o(1137),kt=o(1251),Ft=o(1305);const Ht=(e,t)=>e.filter((e=>t[e.item.id])).map((e=>({productId:t[e.item.id].parentID,quantity:null===e||void 0===e?void 0:e.quantity})));function Ut(e){const[t,o]=e.split(" ");let[a,i]=t.split(":");return a===(null===f.sb||void 0===f.sb?void 0:f.sb.TWELVE_TIME)&&(a=(null===f.sb||void 0===f.sb?void 0:f.sb.ZERO_HOURS)+(null===f.sb||void 0===f.sb?void 0:f.sb.AM)),o===(null===f.sb||void 0===f.sb?void 0:f.sb.PM)&&(a=parseInt(a,10)+12),"".concat(a,":").concat(i," ").concat(o===(null===f.sb||void 0===f.sb?void 0:f.sb.PM)?null===f.sb||void 0===f.sb?void 0:f.sb.PM:null===f.sb||void 0===f.sb?void 0:f.sb.AM)}var Bt=e=>{var t,o,a,l;const{contentData:d={},currencySymbol:c="",currencyConversionFactor:r="",addHope:s="",carryBag:u="",confirmChangesHandler:v,tenantId:O="",maxItemCountPerLineItem:b,faqAndContactData:j={},dispositionData:p={},isModelClosed:h=!1,isShowCreateOrderError:S,isRemoveItemLoading:T=!1}=e,x=Object(n.b)(),{userOrderState:D,userOrderStateDispatch:M}=Object(i.useContext)(N.a),{cartList:k=[],cartSummary:H={},bucketId:U="",showTaxLines:B}=d,[W,G]=Object(i.useState)(Object(E.de)(window.innerWidth)),V=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),Y=Object(n.c)((e=>null===e||void 0===e?void 0:e.storesReducer)),{storesWithStatus:z}=Y||{},{loggedIn:q}=V||"",[K,Q]=Object(i.useState)(!1),[X,Z]=Object(i.useState)({containerHeight:0,containerWidth:0}),{removeItemCart:$}=D,{REMOVE_ITEM_FLAG:ee,INDULGENT_ADD_ON:te}=y.a,{HEADER:oe,CONTINUE_TO_MY_CART:ae}=te,{ITEM_ADDED_TO_CART:ie,ADDON_ADD_TO_CART:le}=L.a,ne=Object(n.c)(g.b),de=Object(I.a)(),ce=null===ne||void 0===ne?void 0:ne.indulgentAddOnsTriggered,re=Object(kt.b)(D),se=Object(n.c)((e=>e.cartReducer)),ue=Object(n.c)((e=>e.tenantReducer)),ve=null===ue||void 0===ue||null===(t=ue.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.global)||void 0===a?void 0:a.timeSlotModal,{applicableCoupons:Oe=[],cartData:be={}}=se,{flatResponse:{itemMapById:je={}}={}}=null!==(l=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},[pe,he]=Object(i.useState)(""),{YYYY_MM_DD_hh_mm:ge,h_mm_A:Ie}=f.sb||{},Se=Object(n.c)((e=>e.storesReducer)),[Ne,Ce]=Object(i.useState)(!1),[Ee,Te]=Object(i.useState)(!1),{store:fe}=Object(E.Td)(re)?re:{},[xe,De]=Object(i.useState)(!1),[Ae,ye]=Object(i.useState)(!1),_e=Object(E.fb)(ue),Re=Object(E.Jf)(null===se||void 0===se?void 0:se.cartData,_e),Le=!!_e&&(null===Re||void 0===Re?void 0:Re.isHasError);Object(i.useEffect)((()=>{const e=Object(E.Vd)(null===re||void 0===re?void 0:re.type);ye(e)}),[]),Object(i.useEffect)((()=>{Q(!0),ke(),M({type:ee,value:{removeItemCart:!1}})}),[]);const Pe=e=>{var t,o,a,i,l,n;x(Object(m.o)({data:{cart:(null===be||void 0===be||null===(t=be.foodLines)||void 0===t?void 0:t.length)>0?Ht(null===be||void 0===be?void 0:be.foodLines,je):[],dayOfPickup:Object(J.A)((null===e||void 0===e?void 0:e.date)+" "+(null===e||void 0===e?void 0:e.selectedTime),"YYYY-MM-DD hh:mm"),storeId:null===e||void 0===e||null===(o=e.store)||void 0===o?void 0:o.id,availableHours:null===e||void 0===e||null===(a=e.store)||void 0===a||null===(i=a.summary)||void 0===i||null===(l=i.timings)||void 0===l||null===(n=l.operatingHours[0])||void 0===n?void 0:n.availableHours}}))};Object(i.useEffect)((()=>{ve&&Object(E.Vd)(null===re||void 0===re?void 0:re.type)&&(null===re||void 0===re?void 0:re.epochTime)&&Pe(re)}),[]);Object(i.useEffect)((()=>{Ne&&window.location.reload()}),[null===re||void 0===re?void 0:re.time]),Object(i.useEffect)((()=>{var e,t;ve&&Object(E.Vd)(null===re||void 0===re?void 0:re.type)&&(null!==Se&&void 0!==Se&&null!==(e=Se.timeSlotsData)&&void 0!==e&&e.closestTime?he(null===Se||void 0===Se||null===(t=Se.timeSlotsData)||void 0===t?void 0:t.closestTime):(Ne&&Te(!0),he("")))}),[null===Se||void 0===Se?void 0:Se.timeSlotsData]),Object(i.useEffect)((()=>{if(Ne&&(null===Se||void 0===Se||!Se.timeSlotsLoader)&&pe){var e;const t=Object(J.V)(null===Se||void 0===Se||null===(e=Se.timeSlotsData)||void 0===e?void 0:e.closestTime),o=Object(J.A)((null===re||void 0===re?void 0:re.date)+" "+t,ge),a=Object(J.C)(o,Ie),i={...re,epochTime:o,selectedTime:Ut(a),time:Ut(a)};M({type:"SET_DISPOSITION",value:{dispositionNew:i}}),localStorage.setItem("dispositionNew",JSON.stringify(i))}}),[Ne,null===Se||void 0===Se?void 0:Se.timeSlotsLoader,pe]);const Me=()=>{Q(!1),de(Object(g.d)({key:f.gd.INDULGENT_ADDONS_TRIGGERED,value:!0}))},ke=()=>{const e=Object(E.de)(window.innerWidth);G(e);const t=Object(C.o)(e,window.innerWidth),{containerHeight:o,containerWidth:a}=t;Z({containerHeight:o,containerWidth:a})};Object(i.useEffect)((()=>{window.addEventListener("resize",ke)}),[W]);const Fe=()=>{var e;return X.containerHeight&&!0!==ce?Object(P.jsx)(Mt.a,{isMobile:W,openIndulgentModal:K,handleClose:Me,removeItemCart:$,IndulgentData:H.recommendedItems,imageContainerSize:X,ruleNameDetails:{recommendationType:me.a.CART_ADDONS},modalTitle:oe,continueButtonText:ae,toastMassage:ie,addToCart:le,isRestrictedDisabled:null===Re||void 0===Re||null===(e=Re[me.a.CART_ADDONS])||void 0===e?void 0:e.isAddonsNotAddable}):Object(P.jsx)(P.Fragment,{})},He={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:!0,classNames:"time-slot-unavailable-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>{Te(!1)},autoFocus:!0},Ue=()=>{De(!xe),Te(!1)};return W?(()=>{var t;return Object(P.jsxs)("div",{className:"cart-page-container-mobile","data-testid":"cart-page-mobile-test",children:[Object(P.jsxs)("div",{className:"cart-header-container-mobile",isMobile:!0,children:[Object(P.jsx)(w,{}),S&&Object(P.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(P.jsx)(R.a,{srcFile:_.a.Error,className:"mt-3px mr-5px"}),Object(P.jsx)("div",{className:"ml-10px",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ERROR_MESSAGE_IN_ACTIVE)})]})]}),Object(P.jsx)("div",{className:"cart-content-container-mobile",children:Object(P.jsx)(we,{contentData:k,isMobile:!0,currencySymbol:c,addHope:s,carryBag:u,maxItemCountPerLineItem:b,cartSummary:H,bucketId:U,loggedIn:q,storesWithStatus:z,isRemoveItemLoading:T,cartData:be,availableTimeSlot:pe,itemMapById:je,updateEpochTime:Pe,setIsMagicButtonClicked:Ce,isMagicButtonClicked:Ne,visibility:xe,setVisibility:De,showChristmasOrderSection:Ae,disableCheckout:Le,restrictedAddonRules:Re})}),(null===H||void 0===H||null===(t=H.recommendedItems)||void 0===t?void 0:t.length)>0&&Object(P.jsx)("div",{className:"cart-addon-container-mobile",children:Fe()}),Object(P.jsx)("div",{className:"cart-summary-card-mobile",children:Object(P.jsx)(wt,{contentData:H,currencySymbol:c,currencyConversionFactor:r,addHope:s,carryBag:u,isMobile:!0,confirmChangesHandler:v,tenantId:O,bucketId:U,dispositionData:p,isModelClosed:h,loggedIn:q,storesWithStatus:z,cartList:k,showTaxLines:B,history:e.history,disableCheckout:Le})}),Object(C.d)(j)&&Object(P.jsx)("div",{className:"cart-faq-container-mobile",children:Object(P.jsx)(F,{faqAndContactData:j,isMobile:!0,history:e.history})}),Ee&&Object(Ft.b)(He,re,Ue,fe,be)]})})():(()=>{var t;return Object(P.jsxs)("div",{className:"cart-page-container-desktop grid-container","data-testid":"cart-page-desktop-test",children:[Object(P.jsxs)("div",{className:"cart-header-container-desktop",isMobile:!1,children:[Object(P.jsx)(w,{}),S&&Object(P.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(P.jsx)(R.a,{srcFile:_.a.Error,className:"mt-3px mr-5px"}),Object(P.jsx)("div",{className:"ml-10px",children:Object(A.translateWithI18Next)(null===L.a||void 0===L.a?void 0:L.a.ERROR_MESSAGE_IN_ACTIVE)})]})]}),Object(P.jsxs)("div",{className:"cart-content-container-desktop",children:[Object(P.jsx)("div",{className:"cart-content-foodItemList",children:Object(P.jsx)(we,{contentData:k,isMobile:!1,currencySymbol:c,addHope:s,carryBag:u,maxItemCountPerLineItem:b,cartSummary:H,bucketId:U,loggedIn:q,storesWithStatus:z,isRemoveItemLoading:T,cartData:be,availableTimeSlot:pe,itemMapById:je,updateEpochTime:Pe,setIsMagicButtonClicked:Ce,isMagicButtonClicked:Ne,visibility:xe,setVisibility:De,showChristmasOrderSection:Ae,disableCheckout:Le,restrictedAddonRules:Re})}),Object(P.jsx)("div",{className:"cart-summary-card-desktop",children:Object(P.jsx)(wt,{contentData:H,currencySymbol:c,currencyConversionFactor:r,addHope:s,carryBag:u,isMobile:!1,confirmChangesHandler:v,tenantId:O,bucketId:U,dispositionData:p,isModelClosed:h,loggedIn:q,storesWithStatus:z,cartList:k,showTaxLines:B,history:e.history,disableCheckout:Le})})]}),(null===H||void 0===H||null===(t=H.recommendedItems)||void 0===t?void 0:t.length)>0&&Object(P.jsx)("div",{className:"cart-addon-container-desktop",children:Fe()}),Object(C.d)(j)&&Object(P.jsx)("div",{className:"cart-faq-container-desktop",children:Object(P.jsx)(F,{faqAndContactData:j,isMobile:!1,history:e.history})}),Ee&&Object(Ft.b)(He,re,Ue,fe,be)]})})()};const{EmptyCartImage:Wt}=_.a,{EMPTY_CART:Gt}=y.a,{PLACEHOLDER_TEXT:Vt,START_ORDER:Yt}=Gt;var zt=function(e){const t=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{userOrderStateDispatch:o}=Object(i.useContext)(N.a),{DISPOSITION_DATA:a}=Y.a,l=Object(d.g)(),c=()=>{var i;null!==t&&void 0!==t&&t.localized?Object(E.Hd)(null===e||void 0===e||null===(i=e.dispositionData)||void 0===i?void 0:i.type)?Object(E.Re)({history:l}):Object(E.Ze)({history:l}):o({type:a,value:{showDisposition:!0}})},{title:r=Vt,onBtnClickHandler:s=c,btnText:u=Yt}=e;return Object(P.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root ",children:[Object(P.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(P.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(A.translateWithI18Next)(r)}),Object(P.jsx)(M.c,{className:"recommended-empty-cart-start-order-button",variant:M.b.primary,"aria-label":Object(A.translateWithI18Next)(u),onClickHandler:s,id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(P.jsx)("span",{children:Object(A.translateWithI18Next)(u)})})]}),Object(P.jsx)(R.a,{className:"cart-empty-img",srcFile:Wt,altText:""})]})},qt=o(1103),Kt=(o(980),o(262)),Jt=o(210);const Qt=(e,t)=>"".concat(t,e?"-mobile":"-desktop");var Xt=e=>{var t,o;const{CLOSED:a,CURRENTSTOREINFO:l}=qt.a,{contentData:d={},faqAndContactData:c={},dispositionData:r={}}=e,{tenantId:s,country:u}=d,[v,m]=Object(i.useState)(Object(E.de)(window.innerWidth)),{userOrderState:O}=Object(i.useContext)(N.a),[b,j]=Object(i.useState)(!1),{NA:p}=Kt.a,{recommendedProducts:h}=Object(n.c)((e=>e.menuReducer||{})),g=Object(n.c)((e=>{let{menuReducer:{exclusionsResponse:t}}=e;return t}));(null===h||void 0===h?void 0:h.length)>0&&(null===g||void 0===g?void 0:g.length)>0&&Object(E.R)(h,g,p);const I=Object(i.useMemo)((()=>Object(E.Sd)(O.currentStoreInfo)?Object(E.b)(localStorage.getItem(l)):O.currentStoreInfo),[O.currentStoreInfo]),{futureDates:S,scheduled:T,asap:f}=Object(E.sd)(null===I||void 0===I||null===(t=I.summary)||void 0===t?void 0:t.timings),{unavailibilities:x}=Object(E.sd)(T),{interval:D=0,startEndTime:A={}}=Object(E.sd)((null===T||void 0===T||null===(o=T.periods)||void 0===o?void 0:o.length)&&(null===T||void 0===T?void 0:T.periods[0])),{from:y,to:_}=A,R=Object(i.useCallback)((()=>{if(Object(E.Td)(I)){var e,t;let o=null===(e=I.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,i=((e,t,o,a,i,l,n)=>{const{INDIA:d}=qt.a;return Object(qe.j)(e,t,o,null===a||void 0===a?void 0:a.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===l||void 0===l?void 0:l.toUpperCase())===d,n)})(y,_,D,f,S,u,x);o!==a||i.length?j(!1):j(!0)}else j(!1)}),[I]),L=()=>{const e=Object(E.de)(window.innerWidth);m(e)};return Object(i.useEffect)((()=>{window.addEventListener("resize",L)}),[v]),Object(i.useEffect)((()=>{R()}),[R]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"".concat(Qt(v,"cart-page-container")," grid-container"),children:[Object(P.jsx)("div",{className:Qt(v,"cart-header-container"),isMobile:!1,children:Object(P.jsx)(w,{})}),Object(P.jsx)("div",{className:Qt(v,"cart-content-container"),children:Object(P.jsx)(zt,{tenantId:s,dispositionData:r})}),Object(C.d)(c)&&Object(P.jsx)("div",{className:Qt(v,"cart-faq-container"),children:Object(P.jsx)(F,{faqAndContactData:c,isMobile:!1,history:e.history})})]}),Object(P.jsx)(Jt.a,{contentData:d,storeClosedData:{isStoreClosed:b},recommendedProducts:h,testId:"recommendation-item-view",importPath:"RECOMMENDED_ITEM_VIEW"})]})};var Zt=e=>{var t,o,a,l,d,c,r,s,u,v,O,b,j,p,x,D;const{contentData:A={},cartListContent:y,isModalOpen:_,confirmChangesHandler:R,dispositionData:L,isModelClosed:w,isMobile:M,pdpbackgroundImageData:k,isShowCreateOrderError:F}=e,{fetchEventItemAvailability:H,isEvent:U}=Object(S.a)(),{cartReducer:B,tenantReducer:W,segmentedHelpData:G}=A,V=Object(E.wb)(window.innerWidth);let Y={};var z,q,K;null!==B&&void 0!==B&&B.cartData&&(Y=Object(C.x)(B.cartData,y,null===W||void 0===W?void 0:W.tenantId,null===W||void 0===W?void 0:W.currencyConversionFactor,null===W||void 0===W?void 0:W.addHope,null===W||void 0===W?void 0:W.carryBag,V,null===W||void 0===W?void 0:W.country,M,k,B.isRemoveItemLoading,null===W||void 0===W||null===(z=W.componentOptions)||void 0===z||null===(q=z.web)||void 0===q||null===(K=q.cartPage)||void 0===K?void 0:K.showTaxLines));const J=Object(n.b)(),{userOrderState:Q,userOrderStateDispatch:X}=Object(i.useContext)(N.a),{CURRENT_STORE_INFO_STORAGE:Z,DISPOSITION_TYPE:$}=f.gd,{componentOptions:{web:{shouldCheckDropOffAddress:ee=!1}={}}={}}=null!==W&&void 0!==W?W:{},te=Object(i.useMemo)((()=>Object(E.Sd)(Q.currentStoreInfo)?Object(E.b)(localStorage.getItem(Z)):Q.currentStoreInfo),[Z,Q.currentStoreInfo]),{dispositionType:oe}=Q.dispositionStateData,ae=Object(I.b)(g.b);return Object(i.useEffect)((()=>{var e,t,o,a,i;const l=Object(E.Mb)(oe||localStorage.getItem($)||(null===W||void 0===W||null===(e=W.authoredContent)||void 0===e?void 0:e.defaultdisposition)),n=Object(E.C)([te],l,null,ee,null===ae||void 0===ae?void 0:ae.latLong),d=null!==(t=null===B||void 0===B||null===(o=B.cartData)||void 0===o||null===(a=o.requestedDateTime)||void 0===a?void 0:a.futureDateTime)&&void 0!==t?t:"",c={storeid:null===(i=n[0])||void 0===i?void 0:i.storeId,service:n[0].service,channel:n[0].channel},r=d?{...c,futureDateTimeInEpochFormat:d}:c;J(Object(m.n)({data:r,tenantId:null===W||void 0===W?void 0:W.tenantId},(e=>{var t,o;Object(C.A)(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.menu)}),null))}),[null===(t=e.history)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.pathname]),Object(i.useEffect)((()=>{var e,t;0===(null===B||void 0===B||null===(e=B.cartData)||void 0===e||null===(t=e.discountLines)||void 0===t?void 0:t.length)&&(X({type:T.p,value:{couponErrorMessage:""}}),localStorage.removeItem("expiryMessage"))}),[null===(a=Y)||void 0===a||null===(l=a.cartSummary)||void 0===l?void 0:l.quantity]),Object(i.useEffect)((()=>{U&&H()}),[]),Object(i.useEffect)((()=>{var e,t,o,a,i,l;null!==(e=Y)&&void 0!==e&&null!==(t=e.cartSummary)&&void 0!==t&&null!==(o=t.discountAmounts[0])&&void 0!==o&&o.isError&&(X({type:T.p,value:{couponErrorMessage:T.f+(null===(a=Y)||void 0===a||null===(i=a.cartSummary)||void 0===i||null===(l=i.discountAmounts[0])||void 0===l?void 0:l.errorMessages)}}),localStorage.removeItem("expiryMessage"))}),[null===(d=Y)||void 0===d||null===(c=d.cartSummary)||void 0===c||null===(r=c.discountAmounts)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.isError]),null!==(u=Y)&&void 0!==u&&u.cartList||null!==(v=Y)&&void 0!==v&&null!==(O=v.cartSummary)&&void 0!==O&&null!==(b=O.discountAmounts)&&void 0!==b&&b.length?Object(P.jsx)(Bt,{contentData:Y,isModalOpen:_,currencySymbol:W.currencySymbol,currencyConversionFactor:W.currencyConversionFactor,addHope:W.addHope,carryBag:W.carryBag,confirmChangesHandler:R,faqAndContactData:G,tenantId:null===W||void 0===W?void 0:W.tenantId,maxItemCountPerLineItem:null===W||void 0===W?void 0:W.maxItemCountPerLineItem,dispositionData:L,history:e.history,isModelClosed:w,isShowCreateOrderError:F,isRemoveItemLoading:B.isRemoveItemLoading}):h()(null===B||void 0===B?void 0:B.cartData)||0===(null===B||void 0===B||null===(j=B.cartData)||void 0===j||null===(p=j.foodLines)||void 0===p?void 0:p.length)||null!==B&&void 0!==B&&null!==(x=B.cartData)&&void 0!==x&&null!==(D=x.errors)&&void 0!==D&&D.length?Object(P.jsx)(Xt,{contentData:Y,faqAndContactData:G,history:e.history,dispositionData:L}):Object(P.jsx)("div",{className:"placeholder",children:Array(1).fill().map((()=>Object(P.jsxs)("div",{className:"table store-card-container",children:[Object(P.jsx)("div",{className:"loading card-title shorter-s"}),Object(P.jsx)("div",{className:"loading table-content"}),Object(P.jsx)("div",{className:"loading table-content"})]})))})};var $t={FROMCONFIRM:"FROMCONFIRM"},eo=o(1101),to=o(1125),oo=o(71),ao=o(434),io=o(123),lo=o(171),no=o(402);const{CART_STATES_DATA:co,DISPOSITION_CHANGED_FLAG:ro,STORE_CHANGED_FLAG:so,NOT_WITHIN_OPERATING_HOURS:uo,CLOSED:vo}=Y.a,{FROMCONFIRM:mo}=$t,Oo=e=>{var t,o,a,i,l;const n=JSON.parse(JSON.stringify(e.foodLineItem)),d={toRemove:!0,requireModification:!1,findings:["Item not available"],newFoodLineItem:n,menuPrice:void 0,cartPrice:n.amount/e.currencyConversionFactor,taxLines:e.taxLines},c=null===(t=e.menuJSONData)||void 0===t?void 0:t[null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.id],{menuReducer:r,getStoreDetails:s,foodLineItem:u,timeBasedCetegory:v}=e,m=((null===u||void 0===u||null===(a=u.item)||void 0===a?void 0:a.categoryUrl)===(null===v||void 0===v?void 0:v.url)||(null===v||void 0===v?void 0:v.id)===(null===u||void 0===u||null===(i=u.item)||void 0===i?void 0:i.categoryId))&&(null===v||void 0===v?void 0:v.isTimeExpired);if(c&&!Object(q.b)(r,s,null===u||void 0===u||null===(l=u.item)||void 0===l?void 0:l.id)&&!m){d.findings=[],d.toRemove=Object(E.u)(null===n||void 0===n?void 0:n.item,e.exclusionsResponse);const t=Object(E.Ec)(c.availability[0],e.currencyConversionFactor),o=n.amount/e.currencyConversionFactor,a=Object(E.gd)(t,n.item.modGrps,n.quantity,e.currencyConversionFactor);a!==o?(d.findings.push("Item Price has changed Cart Price(".concat(o,"), Menu price(").concat(a,")")),d.requireModification=!0,d.menuPrice=a,d.cartPrice=o):(d.menuPrice=a,d.cartPrice=o,d.newFoodLineItem=n)}return d},bo=(e,t)=>{const o=JSON.parse(JSON.stringify(e));return{toRemove:!1,requireModification:!1,findings:[],newFoodLineItem:o,menuPrice:void 0,cartPrice:o.amount/t}},jo=(e,t,o)=>{e||(t(vo),o(!0))},po=e=>{var t,o;let{enableScheduleOrderFlag:a,cartData:i,showNearByModalForStoreOpen:l,calculateTimeDiff:n,storeStatus:d}=e;return(!a||(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow)||l&&!(null!==i&&void 0!==i&&null!==(o=i.requestedDateTime)&&void 0!==o&&o.isForNow))&&(null===n||void 0===n?void 0:n.timingFlag)&&v()(d,"currentStatus","")!==vo},ho=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Pb;return e?t:e},go=e=>{const{unavailableItems:t,priceChangedItems:o,createAddValidateBasket:a,dispatch:i,cartId:l,tenantId:n}=e;t.length||o.length?a():i(Object(c.A)({data:{id:l},tenantId:n}))},Io=(e,t,o)=>!(!e||!t)&&(o(!0),!0),So=e=>{var t;const{type:o,storeDetails:a,buffertimepmdelivery:i,buffertimepmpickup:l,cartWarningMsg:n,setStoreClosedMsg:d,setShowAlert:r,setOnModalOpen:u,setFromFlag:m,dispatch:O,unavailableItems:b,priceChangedItems:j,cartData:p,tenantId:h,createAddValidateBasket:g,scheduleTimeCheck:I,setOrderScheduleModal:S,enableScheduleOrder:N,enableClickCollectScheduleOrder:C,isFutureDateTimeOrder:T,enableScheduleOrderFlag:f,timeFormat:x,showNearByModalForStoreOpen:D,useTradingHoursForStoreCloseCalculation:A}=e,y=a&&Object(E.f)(null===(t=a[0])||void 0===t?void 0:t.service,i,l);if(!Io(I,N,S)){if(n){var _;const e=v()(s()(a),"summary",{}),t=y&&Object(E.v)(e,y),o=v()(e,"status",{}),i=v()(o,"message","");if(po({enableScheduleOrderFlag:f,cartData:p,showNearByModalForStoreOpen:D,calculateTimeDiff:t,storeStatus:o})&&(!A||!Object(E.se)(null===e||void 0===e||null===(_=e.timings)||void 0===_?void 0:_.storeTradingHours,y)))return d(null),void r(!0);if(Object(E.o)({scheduleTimeCheck:I,enableClickCollectScheduleOrder:C,storeStatus:o,setOrderScheduleModal:S,setShowAlert:r,cartData:p,storeSummary:e,isFutureDateTimeOrder:T,timeFormat:x}))return;if(!C&&v()(o,"currentStatus","")===vo)return d(Object(E.ad)(i!==uo,i,null)),void r(!0)}if(u(!1),o===mo){m(!0);let e={unavailableItems:b,priceChangedItems:j,createAddValidateBasket:g,dispatch:O,cartId:null===p||void 0===p?void 0:p.id,tenantId:h};go(e)}else m(!1),O(Object(c.A)({data:{id:null===p||void 0===p?void 0:p.id},tenantId:h}))}},No=(e,t,o)=>{var a,i,l,n,d;const c=null!==(a=null===e||void 0===e||null===(i=e.cartData)||void 0===i||null===(l=i.discountLines)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.promoCode)&&void 0!==a?a:f.Fd;return null===e||void 0===e||null===(d=e.cartData)||void 0===d?void 0:d.foodLines.map(((e,a)=>{var i,l,n,d,r,s,u,v,m,O,b;return{item_list_name:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.categoryName,item_list_id:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.categoryId,index:a,quantity:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.quantity,currency:t,price:Object(E.g)(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.basePrice,o),coupon:c,discount:"",item_name:null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.displayName,item_id:null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.id,item_variant:null!==e&&void 0!==e&&null!==(u=e.item)&&void 0!==u&&null!==(v=u.modGrps)&&void 0!==v&&v.length?null===e||void 0===e||null===(m=e.item)||void 0===m||null===(O=m.modGrps)||void 0===O?void 0:O.map((e=>null===e||void 0===e?void 0:e.name)).join(","):"NA",item_category:null===e||void 0===e||null===(b=e.item)||void 0===b?void 0:b.categoryName}}))},Co=(e,t)=>{var o;const a=null===t||void 0===t||null===(o=t.deeplink)||void 0===o?void 0:o.pontaRedirectUri;if(null!==E.Id&&void 0!==E.Id&&Object(E.Id)(null===e||void 0===e?void 0:e.location)&&a){var i,l,n;const t=null===(i=new URLSearchParams(e.location.search))||void 0===i?void 0:i.get("w"),o=null===(l=new URLSearchParams(e.location.search))||void 0===l?void 0:l.get("e"),d=t?"?w=".concat(t):"?e=".concat(o);null===e||void 0===e||null===(n=e.location)||void 0===n||n.assign("".concat(a).concat(d))}};t.default=e=>{var t,o,r,s,u,p,h,S,T,x,D,A,y,_,R,L,w,M,k,F,H,U;const{MENU_PLP_CONSTANT:B}=qt.a,{userOrderState:W,userOrderStateDispatch:G}=Object(i.useContext)(N.a),V=Object(d.g)(),Y=Object(n.b)(),{cartReducer:z,orderReducer:q,profileReducer:J,tenantReducer:Q,storesReducer:X}=Object(n.c)((e=>e)),{cartData:Z={},isValidated:$=!1,isValidateBasketSuccess:ee=!1,showProductListingModal:te=!1}=Object(E.sd)(z),oe=null===Z||void 0===Z||null===(t=Z.requestedDateTime)||void 0===t?void 0:t.isForNow,{validationResult:ae={}}=Object(E.sd)(Z),ie=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),le=Object(n.c)((e=>{let{menuReducer:{isLoading:t}}=e;return t})),ne=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{tenantId:de,currencyConversionFactor:ce,currencySymbol:re,componentOptions:se,buffertimepmpickup:ue=30,buffertimepmdelivery:ve=30,currencyShortName:me,timeFormat:Oe,useTradingHoursForStoreCloseCalculation:be}=Object(E.sd)(Q),je=null===se||void 0===se||null===(o=se.web)||void 0===o?void 0:o.dispositionConfig,pe=null===se||void 0===se||null===(r=se.web)||void 0===r||null===(s=r.cartPage)||void 0===s?void 0:s.showNearByModalForStoreOpen,{enablePointPayment:he=!1,callCreateOrder:ge=!0}=(null===se||void 0===se||null===(u=se.web)||void 0===u?void 0:u.cartPage)||{},{enableScheduleOrder:Ie=!1,enableClickCollectScheduleOrder:Se=!1}=je,Ne=null!==(p=null===se||void 0===se||null===(h=se.web)||void 0===h||null===(S=h.scheduledDelivery)||void 0===S?void 0:S.allowScheduleOrderForDispositions)&&void 0!==p?p:[],[Ce,Ee]=Object(i.useState)([]),[Te,fe]=Object(i.useState)(!1),[xe,De]=Object(i.useState)([]),[Ae,ye]=Object(i.useState)([]),[_e,Re]=Object(i.useState)([]),[Le,Pe]=Object(i.useState)(!1),[we,ke]=Object(i.useState)(null),[Fe,He]=Object(i.useState)(Object(E.de)(window.innerWidth)),{headerData:{pdpBackgroundImage:Ue={},pdpEventBackgroundImage:Be={}}={}}=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),{menuReducer:{exclusionsResponse:We}}=Object(n.c)((e=>e));let Ge=Object(n.c)((e=>e.appStateReducer.userStatus));const{SERVICE_CHANNEL:Ve}=B,Ye=Object(E.ad)(Object(E.Sd)(W.dispositionNew),JSON.parse(localStorage.getItem(f.gd.DISPOSITION_NEW)),W.dispositionNew),ze=Object(E.ad)(Object(E.Sd)(W.dispositionOld),JSON.parse(localStorage.getItem(f.gd.DISPOSITION_OLD)),W.dispositionOld),Ke=Object(E.Vd)(null===Ye||void 0===Ye?void 0:Ye.type)?Be:Ue,Je=Object(E.lb)(Ke),{date:Qe="",time:Xe="",store:Ze,type:$e}=Object(E.sd)(Ye),et=Object(d.h)(),tt=(null===X||void 0===X||null===(T=X.storesWithStatus)||void 0===T||null===(x=T[0])||void 0===x||null===(D=x.summary)||void 0===D||null===(A=D.menu)||void 0===A||null===(y=A.catalogs)||void 0===y?void 0:y[0])||Ze&&Ze.summary&&Ze.summary.menu&&Ze.summary.menu.catalogs&&Ze.summary.menu.catalogs.length&&Ze.summary.menu.catalogs[0]||(null===Q||void 0===Q?void 0:Q.genericMenuName)||"";let ot=null;const{cartPage:at={},web:it={}}=se,{shouldCheckDropOffAddress:lt=!1}=it,{cartWarningMsg:nt=!1}=at,[dt,ct]=Object(i.useState)(null),[rt,st]=Object(i.useState)(!1),[ut]=Object(i.useState)(!1),[vt,mt]=Object(i.useState)(!1),{NA:Ot}=Kt.a,bt=Object(I.b)(g.b),jt=Object(I.a)();Object(i.useEffect)((()=>{he&&Co(window,Q)}),[]),Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{var e,t;if((null===z||void 0===z||null===(e=z.cartData)||void 0===e||null===(t=e.foodLines)||void 0===t?void 0:t.length)>0){const e=No(z,me,ce);e.length>0&&Object(Me.C)(e)}}),[]),Object(i.useEffect)((()=>{Y&&(Y(Object(lo.h)()),Y(Object(io.e)()))}),[Y]);const pt=()=>{const e=Object(E.de)(window.innerWidth);He(e)};Object(i.useEffect)((()=>(window.addEventListener(f.ye,pt),()=>{jt(Object(g.d)({key:f.gd.CUSTOMISE_ITEM_CART,value:!1}))})),[Fe]);const ht=Object(n.c)((e=>({helpReducerContent:v()(e,"helpReducer",null)})));ht.helpReducerContent&&(ot=Object(E.wd)(Object(E.Rb)(ht.helpReducerContent)));const gt=Object(i.useMemo)((()=>{var e,t;return{tenantReducer:Q,cartReducer:z,segmentedHelpData:ot,storeInfo:Object(E.sd)(Ye&&Ye.store),dispositionType:Object(E.Mb)(null!==(e=null===Ye||void 0===Ye?void 0:Ye.type)&&void 0!==e?e:null===Q||void 0===Q||null===(t=Q.authoredContent)||void 0===t?void 0:t.defaultdisposition)}}),[z,Ye,ot,Q]);Object(i.useEffect)((()=>{te&&Y(Object(c.v)({showProductListingModal:!1,categorySelected:""}))}),[et]);const It=Object(n.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{It&&W.cartEditClicked&&W.minipdpData.itemId===It.id&&Y(Object(c.v)({showProductListingModal:!0,categorySelected:""}))}),[It,W.minipdpData.itemId,W.cartEditClicked]);const St=Se&&Ne.includes(gt.dispositionType),Nt=Ie||St;let Ct={storeId:null===(_=gt.storeInfo)||void 0===_?void 0:_.id,channel:Ve,service:gt.dispositionType};const Et={enableScheduleOrderFlag:Nt,showOrderNow:oe,allowScheduleOrderForDispositions:Ne},Tt=Object(no.r)(Ct,null===gt||void 0===gt?void 0:gt.dispositionType,Et);Ct=Tt,Object(i.useEffect)((()=>{var e;let t=((e,t,o)=>!(null===e||void 0===e||!e.id||!t||o))(Z,de,we);const{customerId:o}=a.a.getInstance();t&&o===(null===Z||void 0===Z||null===(e=Z.customer)||void 0===e?void 0:e.id)&&(Y(Object(c.c)({tenantId:de,basketId:Z.id})),Y(Object(b.d)({tenantId:de,catalogName:tt},Ct)),ke(!0))}),[Y,de,null===Z||void 0===Z?void 0:Z.id,tt,null===Z||void 0===Z||null===(R=Z.customer)||void 0===R?void 0:R.id,gt.dispositionType,null===(L=gt.storeInfo)||void 0===L?void 0:L.id,null===z||void 0===z||null===(w=z.cartData)||void 0===w?void 0:w.id,Ve,we]),Object(i.useEffect)((()=>{Y(Object(O.a)({object:Object(oo.a)(),contentFull:{content_type:"supportContent",select:"sys.id,fields","fields.title":"CartFAQ",include:"5"}}))}),[]),Object(i.useEffect)((()=>{var e;if(null!==(e=W.dispositionNew)&&void 0!==e&&e.type){var t;const e={channel:"web",service:Object(E.Mb)(null===(t=W.dispositionNew)||void 0===t?void 0:t.type)};Y(Object(b.e)(e))}}),[Y,W.dispositionNew]);const ft=Object(E.Mb)(null!==(M=null===Ye||void 0===Ye?void 0:Ye.type)&&void 0!==M?M:null===(k=Q.authoredContent)||void 0===k?void 0:k.defaultdisposition);let xt={storeId:null===Ye||void 0===Ye||null===(F=Ye.store)||void 0===F?void 0:F.id,channel:Ve,service:ft};const Dt={enableScheduleOrderFlag:Nt,showOrderNow:oe,allowScheduleOrderForDispositions:Ne},At=Object(no.r)(xt,null===gt||void 0===gt?void 0:gt.dispositionType,Dt);xt=At;const yt=JSON.stringify(Ye);Object(i.useEffect)((()=>{Pe(!1);const{showDisposition:e}=W.dispositionStateData,{showSearchStore:t}=W.searchStoreData,{showScheduleOrderCatering:o}=W.scheduleOrderData;e||t||o||!Ye||Object(E.Ud)(ze,Ye)||le||(Ge.localized&&""!==$e&&""!==Ze&&""!==Qe&&""!==Xe&&(Y(Object(b.d)({tenantId:de,catalogName:tt},xt)),G({type:co,value:{showCartModal:!0}})),G({type:ro,value:{dispositionChanged:!1}}),G({type:so,value:{storeChanged:!1}}))}),[yt,Ge,co,ro,Ve,so,tt,Y,de,null===(H=Q.authoredContent)||void 0===H?void 0:H.defaultdisposition,W.dispositionStateData,W.scheduleOrderData,W.searchStoreData,G]),Object(i.useEffect)((()=>{var e;if(null!==ne&&void 0!==ne&&ne.itemMapById&&ce&&!le)if((null===Z||void 0===Z||null===(e=Z.foodLines)||void 0===e?void 0:e.length)>0){const e=Z.foodLines.map((e=>Oo({foodLineItem:e,menuJSONData:ne.itemMapById,currencyConversionFactor:ce,exclusionsResponse:We,taxLines:Z.taxLines,menuReducer:ie,getStoreDetails:Object(K.b)(Ze),timeBasedCetegory:null===W||void 0===W?void 0:W.timeBasedCetegory})));if(Le){const e=Z.foodLines.map((e=>bo(e,ce)));Ee(e)}else Ee(e);De(e);let t=e.filter((e=>e.toRemove));ye(t);let o=e.filter((e=>e.requireModification));Re(o),((e,t,o)=>{(null===e||void 0===e?void 0:e.length)>0&&(null===t||void 0===t?void 0:t.length)>0&&Object(E.R)(e,t,o)})(null===Z||void 0===Z?void 0:Z.recommendedItems,We,Ot)}else De([]),Ee([]),ye([]),Re([])}),[ce,Z,ne,Le,le,ie,null===W||void 0===W?void 0:W.timeBasedCetegory,null===W||void 0===W?void 0:W.timeBasedAlertModalData]);const _t=async()=>{let e=[];xe.forEach((t=>{if(!t.toRemove){var o,a,i,l,n;let d={};d.id=null===t||void 0===t||null===(o=t.newFoodLineItem)||void 0===o||null===(a=o.item)||void 0===a?void 0:a.id,d.categoryId="",d.quantity=null===t||void 0===t||null===(i=t.newFoodLineItem)||void 0===i?void 0:i.quantity,d.modGrps=null===t||void 0===t||null===(l=t.newFoodLineItem)||void 0===l||null===(n=l.item)||void 0===n?void 0:n.modGrps,e.push(d)}})),Y(Object(c.r)());let t=await Object(E.A)(gt.storeInfo,gt.dispositionType,J.customerId);de&&Y(Object(c.f)({data:t,tenantId:de,shouldAddItem:!0,addItemList:e})),Y(Object(c.u)(new Date))};Object(i.useEffect)((()=>{ee&&j.b.BindUser(null===Ge||void 0===Ge?void 0:Ge.loggedIn).then((()=>{var t,o,a,i;(e=>{const{dispatch:t,isValidated:o,navigateToCheckOutObj:a,validationResult:i,validationObj:l,setMenuCallBack:n,basketId:d,tenantId:c,customerId:r,setIsLoadOrderReducer:s,getPwaStorageData:u,checkPassStreetNumber:v,service:m,callCreateOrder:O,props:b}=e;let{fromFlag:j}=a;if(o){s(!0);const e=v&&Object(E.Jd)(m)?{basketId:d,customProperties:[{key:f.lf,value:null===u||void 0===u?void 0:u.streetNumber}]}:{basketId:d};O?!j&&t(Object(io.b)({tenantId:c,customerId:r,request:e})):Object(E.Se)(b)}else Object(E.Dd)(i,l),!Object(E.Ed)(i)&&n(!1)})({dispatch:Y,isValidated:$,navigateToCheckOutObj:{fromFlag:Te,history:V},validationResult:ae,validationObj:{currencyConversionFactor:ce,currencySymbol:re,store:Ze},setMenuCallBack:ke,basketId:null===Z||void 0===Z?void 0:Z.id,tenantId:de,customerId:J.customerId,setIsLoadOrderReducer:mt,getPwaStorageData:bt,checkPassStreetNumber:null===Q||void 0===Q||null===(t=Q.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.cartPage)||void 0===a?void 0:a.passStreetNoToOrder,service:null===z||void 0===z||null===(i=z.cartData)||void 0===i?void 0:i.service,callCreateOrder:ge,props:e}),Y(Object(c.t)())}))}),[ee,ae,$,Y,V,Te]),Object(i.useEffect)((()=>{q&&vt&&(null!==q&&void 0!==q&&q.error||Object(E.pe)(null===q||void 0===q?void 0:q.response)&&Object(E.Se)(e))}),[q]);return Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(P.jsxs)(l.a.Fragment,{children:[Object(P.jsx)(Zt,{contentData:gt,cartListContent:Ce,isModalOpen:Le,confirmChangesHandler:(e,t,o)=>{const a={type:e,storeDetails:{},buffertimepmdelivery:ve,buffertimepmpickup:ue,cartWarningMsg:nt,setStoreClosedMsg:ct,setShowAlert:st,setOnModalOpen:Pe,setFromFlag:fe,dispatch:Y,unavailableItems:Ae,priceChangedItems:_e,cartData:Z,tenantId:de,createAddValidateBasket:_t,scheduleTimeCheck:t,setOrderScheduleModal:o,enableScheduleOrder:Ie,enableClickCollectScheduleOrder:St,isFutureDateTimeOrder:!1,enableScheduleOrderFlag:Nt,timeFormat:Oe,showNearByModalForStoreOpen:pe,useTradingHoursForStoreCloseCalculation:be};if(nt){var i,l,n,d;const e=Object(E.C)([Ze],null===Ze||void 0===Ze?void 0:Ze.service,null,lt,null===bt||void 0===bt?void 0:bt.latLong),c=null!==(i=null===z||void 0===z||null===(l=z.cartData)||void 0===l||null===(n=l.requestedDateTime)||void 0===n?void 0:n.futureDateTime)&&void 0!==i?i:"",r={storeid:null===(d=e[0])||void 0===d?void 0:d.storeId,service:e[0].service,channel:e[0].channel},s=c?{...r,futureDateTimeInEpochFormat:c}:r;Y(Object(m.n)({data:s,tenantId:de},(e=>{var t,o,i;const l=null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary,n=Object(qe.t)(null===e||void 0===e?void 0:e[0],Nt,St,!1),d=Boolean((Object(E.Yd)(null===e||void 0===e?void 0:e[0])||Object(E.Xd)(null===e||void 0===e?void 0:e[0]))&&!n);jo(l,ct,st),Object(C.A)(null===e||void 0===e||null===(o=e[0])||void 0===o||null===(i=o.summary)||void 0===i?void 0:i.menu),Pe(!1);const c={...a,storeDetails:e,isFutureDateTimeOrder:d};So(c)}),(()=>Io(t,Ie,o))))}else So(a)},dispositionData:Ye,history:V,isModelClosed:ut,isMobile:Fe,pdpbackgroundImageData:Je,isShowCreateOrderError:vt&&q&&(null===q||void 0===q?void 0:q.error)}),te&&Object(P.jsx)(to.a,{}),Object(E.ad)(W.showCartClearAlert,Object(P.jsx)(eo.a,{}),null),Object(P.jsx)(ao.a,{handleClose:()=>st(!1),showAlert:rt,onClickBtnHandler:e=>{e.preventDefault(),e.stopPropagation(),st(!1),Object(E.Gf)(G,localStorage.getItem(f.gd.RETAIN_ADDRESS))},stoerName:null===Ze||void 0===Ze||null===(U=Ze.summary)||void 0===U?void 0:U.name,storeClosedMsg:ho(dt,f.Pb),contentMsg:f.K})]})}},962:function(e,t,o){"use strict";o.r(t),o.d(t,"removeCouponHandler",(function(){return u})),o.d(t,"quantityModifierOnClickHandler",(function(){return v}));var a=o(3),i=o(395),l=o(28),n=o(61),d=o(1126),c=o(6),r=o(4),s=o(2);const u=e=>{let{setCartItem:t,item:o,setCouponModal:a,setQuantityActionData:i,quantityAction:l}=e;a(!0),t(o),i(l)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:o,item:a,setCouponModal:i,setQuantityActionData:l,quantityAction:n,event:d,updateItemQuantity:c}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:o,item:a,setCouponModal:i,setQuantityActionData:l,quantityAction:n}):c(a,n,d)};t.default=e=>{var t,o;const{itemQuantity:u,itemCount:m,updateItemQuantity:O,quantityAction:b,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:I=!1,type:S="",paymentDiscountAmounts:N=[],removeSingleItem:C=!1,isAddonsNotAddable:E=!1}=e,{QUANTITY_INCREASE_DECREASE:T}=n.a;var f="".concat(Object(c.translateWithI18Next)(r.a.DECREASE_QUANTITY_BY)," ").concat(p),x="".concat(Object(c.translateWithI18Next)(r.a.INCREASE_QUANTITY_BY),"  ").concat(p);const D=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[A,y]=Object(a.useState)(!1),[_,R]=Object(a.useState)({}),[L,P]=Object(a.useState)(""),w=Object(l.c)((e=>{var t,o,a,i,l,n;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(o=e.cartReducer)||void 0===o?void 0:o.isUpdateQuantityLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isValidateBasketLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreStatusLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isCreateOrderLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isPlaceOrder)}));return Object(s.jsxs)("div",{className:"cart-food-quantity-change",children:[!C&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(s.jsx)(i.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!I&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(i.a,{className:"button quantity-decrease",ariaLable:f,disabled:D||w,onClickHandler:e=>v({paymentDiscountAmounts:N,setCartItem:R,item:j,setCouponModal:y,setQuantityActionData:P,quantityAction:b.Decrease,event:e,updateItemQuantity:O}),"data-testid":"quantity-minus",type:S,children:!I&&Object(s.jsx)("span",{children:"-"})}),Object(s.jsx)("span",{className:"cart-food-quantity",children:m}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(s.jsx)(i.a,{className:".transparent-btn button quantity-increase",ariaLable:x,"data-testid":"quantity-plus",type:S,onClickHandler:e=>v({paymentDiscountAmounts:N,setCartItem:R,item:j,setCouponModal:y,setQuantityActionData:P,quantityAction:b.Increase,event:e,updateItemQuantity:O}),disabled:!!(0!==g&&h+m>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.isDiscounteditem||E)||(D||w),children:!I&&Object(s.jsx)("span",{children:"+"})}),A&&Object(s.jsx)(d.a,{cartItem:_,setCouponModal:y,quantityAction:L,updateItemQuantity:O,flag:T})]})}},963:function(e,t,o){"use strict";o.r(t),o.d(t,"SearchStoreModule",(function(){return mt}));var a=o(11),i=o(14),l=o(6),n=o(331),d=o(73),c=o(192),r=o(24),s=o(5),u=o(85),v=o(3),m=o.n(v),O=o(28),b=o(957),j=o(16),p=o(158),h=o(408),g=o(263),I=o(46),S=o(329),N=o.n(S),C=o(41),E=o(1135),T=o(401),f=o(55),x=o(15),D=o(2);const A=e=>!0===e.includes(",")?e.replace(",",", "):e;var y=e=>{var t,o;const{onMapClickHandler:a,startOrderFormSavedAddress:i}=e,{MapImage:n}=x.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:c,START_ORDER_TEXT:r}=p.a,{savedAddresses:s}=Object(O.c)((e=>e.profileReducer)),u=null===(t=s.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o.join(" ");return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"savedAddress-store-count",children:[Object(D.jsxs)("span",{className:"saved-address-count-title",children:[s.length>1?"".concat(Object(l.translateWithI18Next)(c)," "):"".concat(Object(l.translateWithI18Next)(d))," ","(",s.length,")"," "]}),Object(D.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>a(e,"",u),children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:n,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((e=>Object(D.jsx)("div",{className:"savedAddress-module-card",children:Object(D.jsxs)("div",{className:"inside-card",children:[Object(D.jsxs)("div",{className:"address-section",children:[Object(D.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(D.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(D.jsxs)("span",{children:[" ",A(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(D.jsxs)("span",{children:[" ",A(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)(C.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var o;const{latitude:a,longitude:l}=t.location,n={userLat:a,userLong:l},d=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(d,n)})(0,e),"data-testid":"savedaddress-click-test",children:Object(l.translateWithI18Next)(r)})})]})})))]})})},_=o(147);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:o,dispositionType:a,onRetryClickHandler:i,onMapClickHandler:n,showMap:d}=e,{userOrderStateDispatch:c}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:r}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:s,TAKE_AWAY:O,TYPE_TAKE_WAY:b,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:S,CTA2_VIEW_MAP_BUTTON_TEXT:N}=p.a,{Error:E}=x.a,T=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?T:"error-alert-location-popup error-adjust",children:[Object(D.jsx)(I.a,{srcFile:E,className:"location-alert-icon"}),t!==s&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(C.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),o()})(e),children:Object(l.translateWithI18Next)(g)}),a.toLowerCase()!==O.toLowerCase()&&Object(D.jsx)(C.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),c({type:r,value:{dispositionType:b}})})(e),children:Object(l.translateWithI18Next)(S)})]})]}),t===s&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(C.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>i(e),children:Object(l.translateWithI18Next)(h)}),a!==O&&Object(D.jsx)(C.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>n(e),children:Object(l.translateWithI18Next)(N)})]})]})]})})},L=o(0),P=o(132),w=o(80),M=o(394);const{LocationImage:k,GoogleMapLocationImage:F,SuggestionItemSearchPin:H,clearTextIcon:U,Time_Clock:B,Error:W,MapImage:G}=x.a,{MIN_SEARCH_CHARACTER_LIMIT:V,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:z,ALREADY_SERACHED_LOCATIONS:q,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:J,SUGGESTION_ACTIVE_OPACITY:Q,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:oe,DELIVERY_UNAVAILABLE:ae,DELIVERY_UNAVAILABLE_WITH_CTA:ie,NOTAVAILABLE:le,CTA1_SEARCH_DIFF_ADDRESS:ne,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:ce}=p.a,re=(e,t)=>{t()},se=e=>{var t;let{eligibleStoreData:o,suggestedAddress:a,setNegativeScenarioAlert:i,getNegativeView:n}=e,d=null===o||void 0===o?void 0:o.filter((e=>{var t,o,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(a=o.catalogs)||void 0===a?void 0:a.length)>0})),c=d.filter((e=>{var t,o,a,i,l,n;const d="CLOSED"===e.summary.status.currentStatus,c=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o||null===(a=o.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),r=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN"));return d&&(c||r)})),r=Object(T.a)("delivery",d);var u;return Object(s.qd)(r,Object(s.qd)(!(null!==(t=a[0])&&void 0!==t&&t.description),(null===c||void 0===c?void 0:c.length)===d.length))?(Object(s.hb)((null===c||void 0===c?void 0:c.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?r=ae:null!==(u=a[0])&&void 0!==u&&u.description||(r=ie),i(r),Object(s.Ob)(Object(l.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(l.translateWithI18Next)(r)),n(r)):void 0},ue=(e,t,o)=>Object(D.jsx)(C.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:o,"data-loading":t,children:Object(l.translateWithI18Next)($)}),ve=(e,t,o)=>{var a,i,l,n,d;return null===e||void 0===e||null===(a=e.toString())||void 0===a||null===(i=a.replace)||void 0===i||null===(l=i.call(a,t,""))||void 0===l||null===(n=l.trim())||void 0===n||null===(d=n.replace)||void 0===d?void 0:d.call(n,o,"")};var me=e=>{var t;const{formContent:o={},userPositionHandler:a,singInClickhandler:i,eligibleStoreData:n}=e,{memberText:d="",singInLink:c={},currentLocationText:b="",addressBoxPlaceHolderForDelivery:p=""}=o,{RETAIN_ADDRESS:E}=L.gd,{SCHEDULE_ORDER_DATA:x,DISPOSITION_METHOD:A}=j.a,_=Object(O.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(s.sd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:ie={},dispositionStateData:me={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Ie]=Object(v.useState)(!1),[Se,Ne]=Object(v.useState)(!1),[Ce,Ee]=Object(v.useState)(!1),[Te,fe]=Object(v.useState)({lat:28.7,lng:77.1}),[xe,De]=Object(v.useState)(!1),[Ae,ye]=Object(v.useState)(!1),[_e,Re]=Object(v.useState)([]),[Le,Pe]=Object(v.useState)(""),we=Object(v.useRef)(null),[Me,ke]=Object(v.useState)(""),[Fe,He]=Object(v.useState)(""),[Ue,Be]=Object(v.useState)(!1),[We,Ge]=Object(v.useState)(!1),[Ve,Ye]=Object(v.useState)(!1),[ze,qe]=Object(v.useState)(""),[Ke,Je]=Object(v.useState)(!1),{dispositionType:Qe=localStorage.getItem("dispositionType")}=me,[Xe,Ze]=Object(v.useState)({}),$e=Object(O.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),et=Object(P.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:ot}}},postalcodeRemoveRegex:at=null,specialCharRemoveRegex:it=null}=Object(O.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),lt=Object(O.c)((e=>{var t,o,a,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(T.e)(Ae,Fe,h.a)}),[Ae,Fe]);const nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:Object(s.qd)(Fe,e),onClearTextHandler:mt,onRetryClickHandler:rt,onMapClickHandler:dt,dispositionType:Qe,showMap:Ce})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(T.i)(Ce,Qe),Ee(!0),He(!1),t&&!pe&&st(t)},ct=e=>{var t;const o=null===(t=e.toString())||void 0===t?void 0:t.split(" "),a=null===o||void 0===o?void 0:o.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===a||void 0===a?void 0:a.join(" ")},rt=e=>{we.current.select(),Ie(!1),De(!1),He(!1),ye(!1)},st=async function(e,t,o){var i;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Je(!1),qe(""),Object(s.hb)(null===t,null===o)&&(null===(i=_e[0])||void 0===i?void 0:i.description)&&ye(!0),Be(!0),De(!0);const n=await Object(S.geocodeByAddress)(e),d=await Object(S.getLatLng)(n[0]);ot&&et(Object(w.d)({key:L.se.LAT_LONG,value:d})),fe(d),ut(e);const c=tt?ve(e,at,it):ct(e);he(c),l||Ie(!0),a({userLat:d.lat,userLong:d.lng}),Ne(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(E);Object(T.b)(t,Re,st)}),[]),Object(v.useEffect)((()=>{let e=null===n||void 0===n?void 0:n.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o?void 0:o.catalogs[0])!==le})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,o;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)}));Ke&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ye(!1),$({type:x,value:{deliveryAddress:ze,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):ze&&Ye(!0)}),[n,ze,Ke]),Object(v.useEffect)((()=>{}),[Te]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Ie(!Ae):(Ie(!1),ye(!1),He(""));let e=Object(s.d)(pe,V);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(Se){const e=ct(Me);he(e),ut(Me),Ne(!1)}}),[ie]);const ut=e=>{Object(s.ze)(e,q)},vt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(q))).includes(t);var t},mt=()=>{he(""),Ie(!1),He(""),Re(""),Ye(!1)},Ot=async(e,t)=>{fe({lat:t.userLat,lng:t.userLong}),Je(!0);const o=ct(e);he(o),Ze(t),ut(e),qe(e),a(t)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"login-section",children:[Object(D.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,i,c)}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(f.o)(),await r.b.BindLocation($e),Object(T.m)(),Re([]),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),a({userLat:e,userLong:t}),ke(r.b.address);const o=ct(r.b.address);he(o),st(r.b.address),Ne(!0),Re([{description:r.b.address}])}Object(M.s)($,!r.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:k,alt:" ",className:"location-img"}),Object(l.translateWithI18Next)(b)]})})]}),Object(D.jsxs)("div",{className:"delivery-address-section",children:[Object(D.jsx)("div",{className:"search-delivery-address",children:Object(D.jsx)("div",{className:"input-delivery-address",children:Object(D.jsx)(N.a,{value:pe,onChange:e=>{Be(!1),De(!1);const t=ct(e);he(t),((e,t,o)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),o(!1))})(e,Re,Ge),Je(!1),qe(""),Ye(!1)},onSelect:st,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:re,children:e=>{let{getInputProps:t,suggestions:o,getSuggestionItemProps:a,loading:i}=e;return Object(D.jsxs)("div",{children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(s.ad)(Object(s.qd)(Ae,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(l.translateWithI18Next)(p),ref:we})}),pe&&Object(D.jsx)("img",{src:U,className:"clearTextIcon",onClick:mt,alt:"Clear Text Icon"}),Object(s.hb)(Object(s.pc)(o),We)?Object(D.jsx)("div",{className:"suggestion-list",children:o.map(((e,t)=>{var i;if(null!==e&&void 0!==e&&null!==(i=e.types)&&void 0!==i&&i.some((e=>z.includes(e)))){Re(o);const i=Object(s.ad)(e.active,{backgroundColor:J,opacity:Q},{backgroundColor:X});return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",children:Object(l.translateWithI18Next)(Y)}),Object(D.jsx)("div",{style:i,children:Object(D.jsx)("div",{...a(e,{className:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(D.jsx)("div",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:Object(s.ad)(vt(e.description),B,H),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(D.jsx)("form",{children:ue(ge,lt,(e=>{var t;if(e.preventDefault(),Ke)return Ve&&Ie(!1),void Ot(pe,Xe);if(!(Ue&&se({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt})||(null===(t=_e[0])||void 0===t||!t.description)&&se({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt}))){if(He(""),!xe){var o,a;const e=null===(o=_e[0])||void 0===o?void 0:o.description;return Pe(e),(null===(a=_e[0])||void 0===a?void 0:a.description)&&ye(!0),Ie(!1),void st(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}n[0]&&(De(!1),$({type:x,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:n[0]}}))}}))})]})]}),Ve&&!lt&&Object(D.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(D.jsx)(I.a,{srcFile:W,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(ae)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(C.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ye(!1),children:Object(l.translateWithI18Next)(ne)}),Object(D.jsx)(C.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:A,value:{dispositionType:de}})},children:Object(l.translateWithI18Next)(ce)})]})]}),!Ce&&Object(D.jsx)("div",{className:"my-3 store-form-separation"}),Ce||G||Ae||Fe?null:be(dt),!Ae&&G&&!Fe&&!Ce&&!Ve&&Object(D.jsx)(y,{userPositionHandler:a,startOrderFormSavedAddress:Ot,allowOrderNow:Ve,onMapClickHandler:dt})]}),pe.length>0&&Object(s.hb)(Ae,!Fe)?Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(D.jsx)(I.a,{srcFile:W,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-message",children:Object(l.translateWithI18Next)(ee)}),Object(D.jsx)("div",{className:"location-error-address",children:Object(s.qd)(null===(t=_e[0])||void 0===t?void 0:t.description,pe)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(C.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:rt,children:Object(l.translateWithI18Next)(te)}),Object(D.jsx)(C.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const o=se({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt});pe.length>0&&Ae&&o||!n[0]&&o||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:x,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(s.sd)(n[0])}}),De(!1))},children:Object(l.translateWithI18Next)(oe)})]})]}):Fe&&nt(),Ce?Oe(Ae,Te,(e=>{const t=ct(e);st(t),he(t)}),Fe):null]})};function Oe(e,t,o,a){return Object(D.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(s.ad)(e,"pointer-disabled","")),children:Object(D.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(D.jsx)(E.a,{"data-testid":"map-comp",latLongValue:t,passAddress:o,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function be(e){return Object(D.jsx)("div",{className:"map-button-form",children:Object(D.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(D.jsx)("span",{className:"delivery-map-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(l.translateWithI18Next)("map")]})]})})}function je(e,t,o){return Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(l.translateWithI18Next)(e),Object(D.jsx)("span",{onClick:t,children:Object(D.jsx)(g.a,{targetType:o.targetType,href:o.linkUrl,className:"delivery-signin-link",children:Object(l.translateWithI18Next)(o.linkText)})})]})}var pe=o(144);var he=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:a,headerText:i,modalTitleId:l="",showLocationError:n}=e;return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:n,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:i,autoFocus:!0,children:a})})},ge=o(62),Ie=o(59),Se=o(35),Ne=o(113),Ce=o(1131),Ee=o(120),Te=o(600);const{FavoriteUnfillImage:fe,FavoriteFillImage:xe,GreenTickImage:De}=x.a,Ae=(e,t)=>{var o,a;return"INDIA"===(null===t||void 0===t||null===(o=t.country)||void 0===o?void 0:o.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var ye=Object(ge.j)((e=>{var t,o,a,i,n;const{storeDistance:d="",addresses:c={},isOpen:r=!1,buttonData:m={},map:b={},storeName:h="",currentMarket:S,storeInfo:N={},channels:E=[],storeStatus:f={},onStoreSelectFinish:x,onClickMapHandler:A,isMapView:y,isMobile:_,isFavoriteStore:R,addToFavoriteHandler:P,removeFromFavoriteHandler:w,loggedIn:M,centerIndex:k,storeLength:F}=e,H=null===N||void 0===N||null===(t=N.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.message,{unavailibilities:U}=(null===N||void 0===N||null===(a=N.summary)||void 0===a||null===(i=a.timings)||void 0===i?void 0:i.scheduled)||{},{buttonText:B=""}=Object(s.sd)(null===m||void 0===m?void 0:m.scheduleOrderButtonData),{buttonText:W="",display:G=!1}=Object(s.sd)(null===m||void 0===m?void 0:m.orderNowButtonData),{userOrderState:V,userOrderStateDispatch:Y}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:z="",SEARCH_ORDER_DATA:q="",SELECTED_TILE_DATA:K="",SCHEDULE_ORDER_TIME_DATA:J="",MENU_URL:Q,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:oe}=p.a,{mapText:ae=""}=b,ie=Object(ge.h)(),le=E&&Object(T.g)(E),{services:ne=[]}=Object(s.rd)(le[0]),{operatingHours:de=[]}=null!==f&&void 0!==f&&null!==(n=f.timings)&&void 0!==n&&n.operatingHours?f.timings:[],ce=Object(T.c)(r,de,H,U),re=Object(O.b)(),se=Object(O.c)((e=>e.profileReducer)),ue=Object(O.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=V.dispositionStateData,{ScheduledDeliveryComponent:me={},showToastAfterLocalization:Oe=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:be}=me;let je=Object(O.c)((e=>e.appStateReducer.userStatus));const pe=Object(s.Sd)(V.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):V.dispositionNew,he=async(t,o)=>{var a,i,l,n,d,c,r,u,v;t.preventDefault(),t.stopPropagation(),Object(T.l)();const{futureDates:m,scheduled:O={},asap:b}=(null===o||void 0===o||null===(a=o.summary)||void 0===a?void 0:a.timings)||{},{interval:j=0,startEndTime:p={}}=Object(s.hb)(null===O||void 0===O||null===(i=O.periods)||void 0===i?void 0:i.length,O.periods[0]),{from:h,to:g}=p,{unavailibilities:I,unavailibilityType:S}=O;Object(Ee.j)(h,g,j,null===b||void 0===b?void 0:b.isAvailable,1===m.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),I,S);let N={time:"ASAP",interval:null===(l=o.summary.timings.scheduled.periods[0])||void 0===l?void 0:l.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==o.id||pe.deliveryAddress!==(null===V||void 0===V||null===(n=V.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress)){let e=await Object(s.A)(o,Object(s.Mb)(ve),se.customerId,N);re(Object(Se.m)("")),re(Object(Se.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),Y({type:X,value:{oldvalue:pe,newValue:{type:ve,store:o,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:null===V||void 0===V||null===(d=V.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:o,date:N.date,time:N.time,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:null===V||void 0===V||null===(c=V.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),Object(s.vf)();const C={storeID:null===o||void 0===o?void 0:o.id,disposition:ve,postCode:null===o||void 0===o||null===(r=o.addresses[0])||void 0===r||null===(u=r.address)||void 0===u?void 0:u.pinCode};x(C),Y({type:q,value:{showSearchStore:!1}}),Y({type:Z,value:{isLocalized:!0}}),Object(s.ce)(null===ie||void 0===ie?void 0:ie.pathname)&&Object(Te.a)(null===o||void 0===o||null===(v=o.summary)||void 0===v?void 0:v.name,ve,Oe),((t,o)=>{var a;let i=Object(s.ad)(t,t,null);Y({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),Y({type:$,value:i}),re(Object(Ne.a)({...je,localized:!0})),Y({type:J,value:{selectedDateTime:o}}),Y({type:ee,value:{selectContentTime:"ASAP"}}),Y({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP");const l=localStorage.getItem(L.gd.SET_LOCATION),n=null===ie||void 0===ie?void 0:ie.pathname;!V.fromPdpPage&&!l&&e.history.push({pathname:"".concat(Q),...!Object(s.ce)(n)&&{state:{toastData:{storeName:null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.name,service:ve,showToastAfterLocalization:Oe}}}})})(o,N)},Ie=(e,t)=>{var o,a,i;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),Y({type:Z,value:{isLocalized:!0}}),Y({type:z,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),Y({type:q,value:{showSearchStore:!1}});const{futureDates:l,scheduled:n={},asap:d}=(null===t||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings)||{},{interval:c=0,startEndTime:r={}}=Object(s.hb)(null===n||void 0===n||null===(a=n.periods)||void 0===a?void 0:a.length,null===n||void 0===n||null===(i=n.periods)||void 0===i?void 0:i[0])||{},{from:u,to:v}=r,{unavailibilities:m,unavailibilityType:O}=n;Object(Ee.j)(u,v,c,null===d||void 0===d?void 0:d.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),m,O),Object(T.k)(),(e=>{let t=Object(s.ad)(e,e,null);Y({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),Y({type:$,value:t})})(t)},ye=Object(Ce.a)(N),_e=Object(D.jsxs)("div",{className:"store-card ".concat(Object(s.hb)(y,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(y&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(y&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:h})}),Object(D.jsx)("span",{className:"store-distance",children:Ae(d,ue)})]}),y&&Object(D.jsx)("span",{className:"store-index",children:"".concat(k+1," of ").concat(F)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Re=ne,!!Object(s.Td)(Re)&&Re.map(((e,t)=>{const{PICK_UP:o,TAKE_AWAY:a}=p.a;return Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:De,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:e===o?Object(l.translateWithI18Next)(a):e})]},t)})))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(s.ac)(c)}),!y&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>A(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:ae})})]}),Object(D.jsxs)("div",{className:"info-timing ".concat(!r&&"info-timingClosed"),children:[r?"":Object(D.jsx)("span",{children:Object(l.translateWithI18Next)(oe)}),Object(D.jsx)("span",{className:"".concat(!r&&"list-circle"),children:ce})]}),Object(D.jsx)("div",{className:"facilities",children:ye&&ye.map((e=>Object(D.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?R&&Object(D.jsx)(I.a,{"data-testid":"favorite-img",srcFile:xe,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(D.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:fe,alt:"favorite",className:"favorite-img",onClick:()=>P()}):"",G&&r&&Object(D.jsx)(C.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(y&&!_?"cardMapView":null),onClickHandler:e=>he(e,N),children:W}),be&&Object(D.jsx)(C.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(s.hb)(y,!_)?"cardMapView":null),onClickHandler:e=>Ie(e,N),children:B})]})]});var Re;return S!==p.a.COUNTRY_CODE_INDIA||r?_e:null})),_e=o(12),Re=o(4);const{FavoriteUnfillImage:Le,FavoriteFillImage:Pe,GreenTickImage:we}=x.a,{BROWSE_MENU:Me,PICK_UP:ke,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:He,STORE_STATUS_CLOSED:Ue,INDIA:Be}=p.a,We=e=>e===ke?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ve=Object(ge.j)((e=>{var t,o,a,i,n,d,c,r,m,b,p,h;const{key:S="",storeName:N="",storeDistance:E="",orderTypes:x=[],addresses:A={},storeStatus:y={},onClickMapHandler:_,isMapView:R,isMobile:P,isFavoriteStore:w,addToFavoriteHandler:M,removeFromFavoriteHandler:k,map:F,loggedIn:H,storeInfo:U={},centerIndex:B,storeLength:W,onStoreSelectFinish:G}=e,V=((e,t)=>{var o,a,i,l,n;if((null===e||void 0===e||null===(o=e.timings)||void 0===o||null===(a=o.operatingHours[0])||void 0===a?void 0:a.day)===L.cc)return null===(i=e.timings)||void 0===i||null===(l=i.operatingHours[0])||void 0===l||null===(n=l.availableHours)||void 0===n?void 0:n.from;{var d;const o=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,a=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let i=0,l=[],n=[];var c,r,u,v;return null===o||void 0===o||o.forEach(((e,t)=>{var o;(null===e||void 0===e||null===(o=e.day)||void 0===o?void 0:o.toLowerCase())===a&&(i=t,n.push(e))})),null!==n&&void 0!==n&&n.length&&(null===n||void 0===n||n.forEach((t=>{var o;const a=Object(s.E)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(s.lf)(null===t||void 0===t||null===(o=t.availableHours)||void 0===o?void 0:o.from)>a&&l.push(t)}))),null!==l&&void 0!==l&&l.length?null===(c=l[0])||void 0===c||null===(r=c.availableHours)||void 0===r?void 0:r.from:null===(u=o[i<(null===o||void 0===o?void 0:o.length)-1?i+1:i])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(y,L.Rf),Y=V,z=null===y||void 0===y||null===(t=y.timings)||void 0===t||null===(o=t.scheduled)||void 0===o?void 0:o.unavailibilities,q=null===y||void 0===y||null===(a=y.status)||void 0===a?void 0:a.message,{mapText:K=""}=Object(s.sd)(F),{MENU_URL:J,SEARCH_ORDER_DATA:Q,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:oe,userOrderStateDispatch:ae}=Object(v.useContext)(u.a);let ie=Object(O.c)((e=>e.appStateReducer.userStatus));const le=Object(O.c)((e=>e.tenantReducer)),ne=Object(O.b)(),{futureDates:de,scheduled:ce,asap:re}=Object(s.sd)(null===U||void 0===U||null===(i=U.summary)||void 0===i?void 0:i.timings),{unavailibilities:se,unavailibilityType:ue}=Object(s.sd)(ce),{interval:ve=0,startEndTime:me={}}=Object(s.sd)((null===ce||void 0===ce||null===(n=ce.periods)||void 0===n?void 0:n.length)&&(null===ce||void 0===ce?void 0:ce.periods[0])),{from:Oe,to:be}=Object(s.sd)(me),{dispositionType:je=localStorage.getItem("dispositionType")}=oe.dispositionStateData,pe=Object(s.Sd)(oe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):oe.dispositionNew,he=()=>{var e;return Object(Ee.j)(Oe,be,ve,null===re||void 0===re?void 0:re.isAvailable,1===de.length&&(null===le||void 0===le||null===(e=le.country)||void 0===e?void 0:e.toUpperCase())===Be,se,ue)},ge=(e,t)=>{var o,a,i,l;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ae({type:$,value:{isLocalized:!0}}),ae({type:Q,value:{showSearchStore:!1}}),ae({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:n,scheduled:d,asap:c}=null===t||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings,{interval:r=0,startEndTime:s={}}=(null===d||void 0===d||null===(a=d.periods)||void 0===a?void 0:a.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=s;Object(Ee.j)(u,v,r,null===c||void 0===c?void 0:c.isAvailable,1===n.length&&"INDIA"===(null===le||void 0===le?void 0:le.country),se,ue),Object(T.k)(),(e=>{let t=e||null;ae({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ae({type:X,value:t})})(t);const m={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(i=t.addresses[0])||void 0===i||null===(l=i.address)||void 0===l?void 0:l.pinCode};G(m)},Ie=e=>he().length?"Today":"Tomorrow",Se=Object(Ce.a)(U);return Object(D.jsxs)("div",{className:"store-card ".concat(R&&!P?"store-card-map-view":"store-card-mobile-view"),style:Ge(R,P),"data-testid":"closed-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:N})}),Object(D.jsx)("span",{className:"store-distance",children:Ae(E,le)})]}),R&&Object(D.jsx)("span",{className:"store-index",children:"".concat(B+1," of ").concat(W)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Te=x,Te.map(((e,t)=>Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:we,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:We(e)})]},t))))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(s.ac)(A)}),!R&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:K})})]}),Object(D.jsx)("div",{className:"info-timingClosed",children:Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:Object(s.jb)((null===(d=y.status)||void 0===d?void 0:d.currentStatus)===He,0===(null===y||void 0===y||null===(c=y.timings)||void 0===c||null===(r=c.scheduled)||void 0===r||null===(m=r.periods)||void 0===m?void 0:m.length))?Object(D.jsx)("span",{className:"closed-text",children:Ue}):""}),Object(D.jsx)("li",{children:(null===z||void 0===z?void 0:z.length)>0&&Object(_e.S)(null===(b=z[0])||void 0===b?void 0:b.to,"HH MM","HH:MM")<=Object(_e.S)(be,"HH MM","HH:MM")?(()=>{var e,t,o,a,i,l;return q===L.Hc?"Open Today ".concat((null===(e=z[0])||void 0===e?void 0:e.from)&&Object(_e.S)(null===(t=z[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):q===L.Ic?"Open ".concat(Ie(null===(o=y.timings)||void 0===o||null===(a=o.scheduled)||void 0===a||a.date)," ").concat(Y&&Object(_e.S)(Y,"hh mm","hh:mm a")):"Open Today ".concat((null===(i=z[0])||void 0===i?void 0:i.to)&&Object(_e.S)(null===(l=z[0])||void 0===l?void 0:l.to,"hh mm","hh:mm a"))})():"Open ".concat(Ie(null===(p=y.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(Y&&Object(_e.S)(Y,"hh mm","hh:mm a"))})]})}),Object(D.jsx)("div",{className:"facilities",children:Se&&Se.map((e=>Object(D.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2",children:[H&&(w?Object(D.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Pe,alt:"favorite",className:"favorite-img",onClick:()=>k()}):Object(D.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===he().length?Object(D.jsx)(C.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,o;const a={storeID:null===U||void 0===U?void 0:U.id,disposition:null===U||void 0===U?void 0:U.service,postCode:null===U||void 0===U||null===(t=U.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};Object(f.y)(a),Object(s.wf)(U,ae,pe,je),ne(Object(Ne.a)({...ie,localized:!0})),Object(s.vf)(),ae({type:Z,value:{showDisposition:!1}}),ae({type:Q,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(J)})},children:Object(l.translateWithI18Next)(Me)}):Object(D.jsx)(C.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,U),children:Object(l.translateWithI18Next)(Re.a.SCHEDULE_ORDER_BTN)})]})]})]},S);var Te})),Ye=o(417),ze=o(63);const{Error:qe,LocationImage:Ke,MapImage:Je,Union:Qe,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=x.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",ot=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",at=e=>{var t,o,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(a=o.catalogs)||void 0===a?void 0:a.length)>0},it=e=>e?Qe:Je,lt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var nt=Object(ge.j)((e=>{var t;const{formContent:o={},storeData:a=[],eligibleStoreData:i=[],favoriteStoreData:n=[],userPositionHandler:c,singInClickhandler:b,currentMarket:x,storeCardLimit:A=1/0,onStoreSelectFinish:y,handleGoBack:_,noStoresList:P,favoriteStoreHandler:w}=e,{memberText:k="",singInLink:F={},currentLocationText:H="",addressBoxPlaceHolderForSearchStore:U="",mapText:B=""}=o,{MIN_SEARCH_CHARACTER_LIMIT:W,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:V,ALREADY_SERACHED_LOCATIONS:Y,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:K,BRAND_BLACK:J,STORE_STATUS_OPEN:Q,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:oe,CTA2_ORDER_TAKEAWAY:ae,TAKEAWAY_UNAVAILABLE_WITH_CTA:ie,DINE_IN_SERVICE:le,DINE_IN:ne,TYPE_DELIVERY:de,TAKE_AWAY:ce}=p.a,{DISPOSITION_METHOD:re}=j.a,{MENU_URL:se,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:me,DISPOSITION_DATA:Oe,INDIA:be}=j.a,{userOrderState:je}=m.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Se=localStorage.getItem("dispositionType")}=he,[Ne,Ce]=m.a.useState(""),[Te,fe]=Object(v.useState)({}),[xe,De]=Object(v.useState)({}),[Ae,_e]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[Pe,we]=m.a.useState([]),[Me,ke]=m.a.useState(!1),[Fe,He]=Object(v.useState)(null),[Ue,Be]=Object(v.useState)(Object(s.de)(window.innerWidth));let We=0;const[Ge,Je]=Object(v.useState)(0),[Qe,tt]=Object(v.useState)(""),[nt,rt]=m.a.useState(!1),[st,ut]=m.a.useState([]),[vt,mt]=m.a.useState([]),{userOrderStateDispatch:Ot}=Object(v.useContext)(u.a);let bt,jt=0;const pt=Object(O.b)(),ht=Object(O.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:It=!1}}},postalcodeRemoveRegex:St=null,specialCharRemoveRegex:Nt=null}=ht||{};let Ct=0;const[Et,Tt]=m.a.useState(!1),ft=Object(O.c)((e=>e.appStateReducer)),{isLoading:xt}=Object(O.c)((e=>Object(s.sd)(e.LoaderReducer))),{userStatus:Dt={}}=ft,{loggedIn:At=!1}=Dt,[yt,_t]=m.a.useState([]),[Rt,Lt]=m.a.useState(!0),{customerId:Pt}=ze.a.getInstance(),[wt,Mt]=Object(v.useState)(325),[kt,Ft]=Object(v.useState)(!1),Ht=()=>{const e=Object(s.de)(window.innerWidth);Be(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ht),()=>{window.removeEventListener("resize",Ht)})),[Ue]),Object(v.useEffect)((()=>(window.addEventListener("keydown",lt),()=>{window.removeEventListener("keydown",lt)})));const Ut=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ut&&wt!==Ut&&Mt(Ut)}),[Ut]);const Bt=async e=>{const t=await Object(S.geocodeByAddress)(e),o=await Object(S.getLatLng)(t[0]);fe(o),De(o),We=0,Vt(e),Ce(e),c({userLat:o.lat,userLong:o.lng}),ke(!1);const a=Boolean(Object(s.hb)(Object(s.qd)(Ne,e),Object(s.hb)(0===We,0===jt)));rt(a)},Wt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),Ot({type:me,value:null}),Ot({type:Oe,value:{showDisposition:!1}}),Ot({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(se)})},Gt=(e,t,o)=>Object(D.jsx)("div",{className:"store-card",children:Se.toUpperCase()===Z?Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(C.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:zt,children:Object(l.translateWithI18Next)(o)})]}):Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(C.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:zt,children:Object(l.translateWithI18Next)(o)}),Object(D.jsx)(C.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),Ot({type:re,value:{dispositionType:ce}}),Bt(Ne)})(e),children:Object(l.translateWithI18Next)(ae)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Ce(e),Bt(e)}}else Bt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Ne){let e=i.filter(at);if(e.length>0){let t=e.filter((e=>{var t,o,a,i,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===Q&&(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(l=i.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)>0}));if(t.length>=A){let e=t.slice(0,A);we(e)}else if(t.length<A){let o=A-t.length,a=e.filter((e=>{var t,o,a,i,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(l=i.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})).slice(0,o),i=t.concat(a);we(i)}}else We=0,we([])}else we([]),_t([]),ut([]),rt(!1)}),[i,Ne]),Object(v.useEffect)((()=>{if(i.length>0){w({userLat:xe.lat,userLong:xe.lng});const e=n.sort(((e,t)=>Object(T.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,o;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus}));_t(t)}}),[i,n.length]),Object(v.useEffect)((()=>{if(Me){const e=It?ve(Qe,St,Nt):Qe;Ce(e),Vt(Qe),ke(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Ne&&(we([]),ut([]),He(""),_t([]));let e=Object(s.d)(Ne,W);Ft(e)}),[pe,Ne,Me,Qe]);const Vt=e=>{Object(s.ze)(e,Y)},Yt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(Y))).includes(t);var t},zt=()=>{Ce(""),_t([]),we([]),ut([]),rt(!1),He(""),_e(!1)},qt=Object(v.useCallback)((async()=>{const e=await Promise.all(Pe.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));fe(e)}),[Pe]),Kt=Object(v.useCallback)((async()=>{const e=await Promise.all(yt.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));fe(e)}),[yt]),Jt=()=>{Object(T.i)(Ae,Se),_e(!Ae),Le(!Ae)},Qt=(e,t)=>{He(e),Je(t)},Xt=()=>{qt(),Le(!0),He(Object(s.sd)(Pe[Ge]))},Zt=async()=>{await Kt(),Le(!0),He(Object(s.sd)(yt[Ge]))};Object(v.useEffect)((()=>{((e,t,o,a)=>{let{TYPE_TAKE_WAY:i,DINE_IN:l,dispositionType:n,callSelectedStore:d,callSelectedFavStore:c}=a;e?t.length&&[i,l].indexOf(n.toUpperCase())>-1&&d():o.length&&[i,l].indexOf(n.toUpperCase())>-1&&c()})(Rt,Pe,yt,{TYPE_TAKE_WAY:Z,DINE_IN:ne,dispositionType:Se,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=Pe.filter((e=>{var t,o,a,i,l,n;return(null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(l=i.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})),t=Pe.filter((e=>{var t,o,a,i,l,n,d,c,r;const s="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(o=t.status)||void 0===o||null===(a=o.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:m,scheduled:O,asap:b}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=O,{interval:h=0,startEndTime:g={}}=O&&(null===O||void 0===O||null===(c=O.periods)||void 0===c?void 0:c.length)&&(null===O||void 0===O?void 0:O.periods[0]),{from:I,to:S}=g,N=Object(Ee.j)(I,S,h,null===b||void 0===b?void 0:b.isAvailable,1===m.length&&(null===ht||void 0===ht||null===(r=ht.country)||void 0===r?void 0:r.toUpperCase())===be,j,p);return(!N||0===N.length)&&s&&(u||v)}));ut(e),mt(t)}),[Pe,Ge,Fe,P,ne,$,Z,Se,qt,Rt,yt]);const $t=e=>{He("");let t=e?Ge+1:Ge-1;Je(t),((e,t,o,a,i)=>{t(!0===e?Object(s.sd)(o[i]):null===a||void 0===a?void 0:a[i])})(Rt,He,Pe,yt,t)},eo=e=>{Lt(e)},to=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},oo=e=>{to(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Pt,dispatch:"dispatch"})),Tt(!0)},ao=e=>{to(),pt(Object(d.x)({tenantId:gt,customerId:Pt,storeId:Object(s.sd)(e.id),dispatch:"dispatch"})),Tt(!1)};Object(v.useEffect)((()=>{Et&&Ie.b.dark(Object(D.jsxs)("div",{className:"img-text-div",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ie.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[n.length]),Object(v.useEffect)((()=>{0!==We||0!==jt||!nt||P||xt||(Se.toUpperCase()===Z?Object(s.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(ie)):Object(s.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(oe)))}),[We,jt,nt,P,xt]);const io=(e,t)=>{var o,i,l,n;const d=(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)===Q,c=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:r=[]}=c[0],u="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:d?Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:x,isOpen:d,isMapView:!0,onStoreSelectFinish:y,isMobile:Ue,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===yt||void 0===yt?void 0:yt.length)},t):Object(D.jsx)(Ve,{orderTypes:r,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:y,isMobile:Ue,isMapView:!0,storeInfo:e,mapText:B,onClick:()=>{Jt(),qt()},...a[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===yt||void 0===yt?void 0:yt.length)},u)})},lo=yt.map(((e,t)=>{var o,i,l,n;if((null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)===Q){var d,c;const o=(null===(d=e.summary)||void 0===d||null===(c=d.status)||void 0===c?void 0:c.currentStatus)===Q;return o&&Ct++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:x,isOpen:o,onStoreSelectFinish:y,isMobile:Ue,loggedIn:At,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{ao(e)}},t)})}if((null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)===$){Ct++;const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=o[0],l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:Ue,loggedIn:At,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{ao(e)},onStoreSelectFinish:y,storeInfo:e,...a[0]},l)})}})),no=Pe.map(((e,t)=>{var o,i,l,d;if(Ne||we([]),We>=A||0===(null===(o=e.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(l=i.scheduled)||void 0===l||null===(d=l.periods)||void 0===d?void 0:d.length))return null;{var c,r;const o=(null===(c=e.summary)||void 0===c||null===(r=c.status)||void 0===r?void 0:r.currentStatus)===Q;return o&&We++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:x,isOpen:o,onStoreSelectFinish:y,isMobile:Ue,loggedIn:At,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{ao(e)}},t)})}})),co=()=>{let e=-1!==Se.toLowerCase().indexOf("dine")?le:Se;if(bt=Object(T.a)(e,i),bt)return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:bt,onClearTextHandler:zt,dispositionType:Se,handleGoBack:_})})},ro=()=>{if(Pe.length===vt.length&&vt.length>0){let e=-1!==Se.toLowerCase().indexOf("dine")?le:Se,t=Object(T.a)(e,i);return Object(s.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(t)),co()}if(Pe.length===st.length&&st.length)return so;{let e=-1!==Se.toLowerCase().indexOf("dine")?le:Se;return Pe.length&&(bt=Object(T.a)(e,Pe),bt)?co():(We<5&&no.push(so),no)}},so=st.map(((e,t)=>{const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=Object(s.rd)(o[0]);if(Ne||we([]),jt>=A-We)return null;{jt++;const o="".concat(e.name[0].value,"_").concat(t),l=Pe.findIndex((t=>t.id===e.id));return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:Ue,loggedIn:At,onClickMapHandler:()=>{Qt(e,l),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{oo(e)},removeFromFavoriteHandler:()=>{ao(e)},onStoreSelectFinish:y,storeInfo:e,...a[0]},o)})}})),uo=()=>{switch(Se.split("-").join(" ").toUpperCase()){case Z:return Object(l.translateWithI18Next)(ie);case ne:return Object(l.translateWithI18Next)(oe);default:return null}},vo=()=>{Je(0),Jt(),((e,t,o)=>{!0===e?t():o()})(Rt,qt,Kt)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"store-count",children:[Object(D.jsx)("span",{className:"member-signin",children:!At&&Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(l.translateWithI18Next)(k),Object(D.jsx)("span",{onClick:b,children:Object(D.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(l.translateWithI18Next)(F.linkText)})})]})}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(f.o)(),await r.b.BindLocation(),Object(T.m)(),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),We=0,fe({lat:e,lng:t}),_e(!1),c({userLat:e,userLong:t}),rt(!0),Ce(r.b.address),tt(r.b.address),ke(!0)}Object(M.s)(Ot,!r.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:Ke,alt:"location",className:"location-img"}),Object(l.translateWithI18Next)(H)]})})]}),Object(D.jsx)("div",{className:"search-address",children:Object(D.jsx)("div",{className:"input-address",children:Object(D.jsx)(N.a,{"data-testid":"handle-select",value:Ne,onChange:e=>{e||zt(),Ce(e),Object(s.pc)(e)<3&&Ft(!1)},onSelect:Bt,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:o,getSuggestionItemProps:a,loading:i}=e;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"".concat(bt||0===We&&0===jt&&nt&&P&&!Pe.length?"search-container-data error-border":"search-container-data"),children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(l.translateWithI18Next)(U)})}),Ne&&Object(D.jsx)("img",{"data-testid":"clear-text-icon",src:Ye.a,className:"clearTextIcon",onClick:()=>zt(),alt:"Clear Text Icon"})]}),!!Object(s.hb)(Object(s.pc)(o),kt)&&Object(D.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:o.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>V.includes(e)))){const o=e.active?{backgroundColor:q,opacity:K}:{backgroundColor:J};return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(l.translateWithI18Next)(G)}),Object(D.jsx)("div",{style:o,children:Object(D.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...a(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment",children:[Object(D.jsx)("div",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:Yt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(D.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(Ne,Ae,X,Jt,qt),Object(D.jsxs)("form",{className:"form",children:[Object(D.jsxs)("div",{className:"store-count",children:[!!We&&Object(D.jsx)("span",{"data-testid":"tab-open-store",className:ot(At,Rt),onClick:()=>{Je(0),eo(!0)},children:At?Object(D.jsxs)("span",{children:[" ","".concat(Object(l.translateWithI18Next)("nearYou"))," (",We+jt,")"]}):Object(D.jsxs)("span",{children:[We+jt," ","".concat(Object(l.translateWithI18Next)("nearYou"))]})}),!!jt&&Pe.length===st.length&&Pe.length!==vt.length&&Object(D.jsx)("span",{"data-testid":"tab-closed-store",className:ot(At,Rt),onClick:()=>{Je(0),eo(!0)},children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===We&&0===jt&&nt&&P&&Object(D.jsx)("span",{className:"store-count-title",children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(We,")")}),ct(We,jt,At,Ct,{firstTab:Rt,setCenterIndex:Je,handleTabChange:eo}),(!!We||!!jt)&&Pe.length!==vt.length&&Object(D.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{vo()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:it(Ae),alt:"map",className:"map-img"})}),Ae?Object(l.translateWithI18Next)(X):B]})}),0===We&&0===jt&&nt&&P&&Object(D.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{vo()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:it(Ae),alt:"map",className:"map-img"})}),Ae?Object(l.translateWithI18Next)(X):Object(l.translateWithI18Next)(B)]})})]}),Ae?Object(D.jsx)("div",{className:"order-button-section",children:0===We&&0===jt&&nt&&P&&Object(D.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:uo()}),Object(D.jsx)(C.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Wt,children:Object(l.translateWithI18Next)(ee)})]})})}):Object(D.jsxs)(D.Fragment,{children:[Object(s.hb)(!xt,Object(s.hb)(Rt,0!==We||0!==jt||!nt||P||Pe.length?ro():Gt(uo,Wt,te))),At&&!Rt&&Object(D.jsx)("div",{className:"order-button-section",children:lo})]}),Object(D.jsx)("div",{className:"clearfix"})]})]}),Ae&&Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"".concat((null===Se||void 0===Se?void 0:Se.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(E.a,{latLongValue:Te,loadingElement:Object(D.jsx)("div",{style:{height:"100%"}}),containerElement:Object(D.jsx)("div",{style:{height:"400px"}}),mapElement:Object(D.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Ce(e)},isVisible:Se.toUpperCase()===Z||Se.toUpperCase()===ne,isMobile:Ue,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(s.ad)(Rt,(e=>{const t=Pe.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Xt(),Je(t))}),(e=>{((e,t,o,a,i)=>{const l=e.findIndex((e=>e.location.latitude===a.lat()&&e.location.longitude===a.lng()));l>-1&&(i===l&&t(),o(l))})(yt,Zt,Je,e,Ge)})),storeCardHeight:wt}),Re&&Fe&&Ue?!bt&&io(Fe,"Selected-Card"):null]}),Re&&Fe&&!Ue?Object(s.hb)(Pe.length===st.length,Rt)&&!bt&&((e,t)=>{const o=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=Object(s.rd)(o[0]),l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:Ue,isMapView:!0,onStoreSelectFinish:y,onClick:()=>{Jt(),qt()},storeInfo:e,...a[0],centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===yt||void 0===yt?void 0:yt.length)},l)})})(Fe,"Selected-Card")||io(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,o,a,i){return Object(D.jsx)(D.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(D.jsxs)("div",{className:"enter-your-address-section",children:[Object(D.jsx)("span",{className:"search-store-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsx)("div",{"data-testid":"show-list-map",className:Object(s.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&a(),i()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:it(t),alt:"map",className:"map-img"})}),Object(s.ad)(t,Object(l.translateWithI18Next)(o),Object(l.translateWithI18Next)("map"))]})})]})})}function ct(e,t,o,a,i){let{firstTab:n,setCenterIndex:d,handleTabChange:c}=i;return Object(D.jsx)(D.Fragment,{children:(!!e||!!t)&&o&&Object(D.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(n),onClick:()=>{d(0),c(!1)},children:"".concat(Object(l.translateWithI18Next)("savedkfc")," (").concat(a,")")})})}var rt=o(1154),st=o(86),ut=o(1117),vt=o(133);const mt=e=>{var t;const{contentData:o={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:I,ANALYTICS_LOCALISATION_SIGNIN:S}=j.a,N=Object(O.b)(),{COUNTRY_CODE:C,STORE_CARD_LIMIT:E,TYPE_TAKE_WAY:f,PICK_UP:A,TENANT_ID:y,TENATNT_SESSION_ID:_,TYPE_DELIVERY:R}=p.a,{userOrderState:P,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:k,searchStoreData:F,showLocationConfirmModal:H}=P,{dispositionType:U=localStorage.getItem("dispositionType")}=Object(s.ud)(k),{currentMarket:B=C,storeCardLimit:W=E,storeStatusUrl:G="".concat(Object(i.a)(a.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:V=y,tenantSessionID:Y=_}=F,{searchStoreHeaderText:z="",deliveryHeaderText:q="",searchStoreModalContent:K={}}=o,{formContent:J={},locationsContent:{storeData:Q=[]}}=K,[X,Z]=m.a.useState([]),[$,ee]=m.a.useState({}),[te,oe]=m.a.useState([]),[ae,ie]=m.a.useState([]),{storeSearch:le={},tenantId:ne,componentOptions:de}=Object(O.c)((e=>Object(s.sd)(e.tenantReducer))),{storesWithStatus:ce=[],isStoreStatusLoading:re=!1}=Object(O.c)((e=>Object(s.sd)(e.storesReducer))),{allStores:se=[]}=Object(O.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:Oe,maxPickupDistanceMtrs:be,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=le,Ie=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:I,value:{showDisposition:!1}}),w({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ie(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Se=e=>{e.stopPropagation(),e.preventDefault(),w({type:I,value:{showDisposition:!0}}),w({type:g,value:{showSearchStore:!1}})},Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(S,JSON.stringify(!0)),Object(T.j)(),setTimeout((()=>{Object(st.c)()}),500)},Ce=Object(O.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(w,H)}),[]),Object(v.useEffect)((()=>{Ee({userLat:$.userLat,userLong:$.userLong})}),[Ce.length]),Object(v.useEffect)((()=>{se.length>0&&Ae(se)}),[se]),Object(v.useEffect)((()=>{ce.length>0&&we(ce)}),[ce]),Object(v.useEffect)((()=>{(null===U||void 0===U?void 0:U.toUpperCase())===R&&ye(ae)}),[ae]);const Ee=e=>{Object(rt.a)(e.userLat,e.userLong,Ce,Te)},Te=(e,t)=>{const o=Object(s.ad)((null===U||void 0===U?void 0:U.toUpperCase())===f,A,U),a=G.replace("{channel}",r.b.channel).replace("{service}",o).replace(" ","-"),i=Object(b.a)();Object(T.h)(e,a.toLowerCase(),V,Y||Object(b.a)(),i,fe)},fe=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:o,amenities:a,dname:i,id:l,location:n}=e.storeBasic;return{...e,id:l,location:n,name:i,amenities:a,addresses:o,additionalAttributes:t,storeBasic:{}}}));oe(t)},xe=e=>{N(Object(n.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),De(e.userLat,e.userLong),setTimeout((()=>{N(Object(n.a)())}),2e3)},De=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},a=c.a.calculateGH(o);N(Object(d.v)(null===a||void 0===a?void 0:a.length))},Ae=e=>{const t=Object(s.Mb)(U.toUpperCase()),o=e.filter((e=>{var t,o;return Object(s.qe)(e.id)&&Object(s.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(s.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)})),a={stores:o,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(s.ad)(U.toUpperCase()===R,Oe,be),noOfStores:Object(s.ad)(U.toUpperCase()===R,2,o.length),channel:r.b.channel},i=c.a.checkAndProceed(a);ie(i),U.toUpperCase()===R?ye(i):Pe(i,t)},ye=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,a;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),Object(rt.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:o}=e;const a=Object(s.Mb)(U.toUpperCase()),i={stores:Le(t,ae),numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},l=c.a.getSortedNearbyStores(i);(null===l||void 0===l?void 0:l.length)>0&&Pe(l,a)},Le=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),Pe=(e,t)=>{const o={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:r.b.channel,service:t}))),store:e,tenantId:ne,setStatusFlag:!1,isFavoritePage:!1};N(Object(d.d)(o,null))},we=e=>{let t=e.filter((e=>{var t,o,a,i,l,n,d,c,r,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const o=Object(s.Mb)(U.toUpperCase());if(ge&&U.toUpperCase()===R){const e={stores:t,numberOfStores:2,disposition:o,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},a=c.a.getSortedNearbyStores(e);t=(null===a||void 0===a?void 0:a.length)>0?a:[]}Z(t)},Me=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:ke}=L.gd,{configSearchScreen:Fe=localStorage.getItem(ke)}=F,He="".concat(null===U||void 0===U?void 0:U.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:Ue}={...null===vt.d||void 0===vt.d?void 0:vt.d[He],...null===Me||void 0===Me?void 0:Me[He]},{Error_Yellow:Be}=x.a||{},{LOCATION_BLOCKED_ERROR:We,KFC_URL:Ge}=Re.a,Ve=Object(s.Je)(H,Ue),Ye=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ut.a,{show:Ve,errorMsg:Object(M.G)(We,Ge),errImage:Be,cssClass:"location-blocked"}),(null===U||void 0===U?void 0:U.toUpperCase())===R?Object(D.jsx)(me,{singInClickhandler:Ne,formContent:J,storeData:Q,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:W,userPositionHandler:xe,currentMarket:B}):Object(D.jsx)(nt,{singInClickhandler:Ne,formContent:J,storeData:Q,eligibleStoreData:X,noStoresList:re,storeCardLimit:W,userPositionHandler:xe,currentMarket:B,onStoreSelectFinish:h,handleGoBack:Se,favoriteStoreData:te,favoriteStoreHandler:Ee})]});return Object(D.jsx)(he,{handleClose:Ie,orderModeTypeItem:Ye,showLocationError:Ve,headerText:Object(s.ad)((null===U||void 0===U?void 0:U.toUpperCase())===R,Object(l.translateWithI18Next)(q),Object(l.translateWithI18Next)(z)),handleGoBack:Se,modalTitleId:"search-store"})};mt.defaultProps=h.a;t.default=mt},964:function(e,t,o){"use strict";o.r(t),o.d(t,"ScheduleOrder",(function(){return m}));var a=o(3),i=o.n(a),l=o(1143),n=o(144),d=o(2);var c=e=>{const{handleClose:t,ScheduleOrderForm:o,headerText:a,modalTitleId:l="",handleGoBack:c}=e;return Object(d.jsx)(i.a.Fragment,{children:Object(d.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:c,children:o})})},r=o(85),s=o(16),u=o(6),v=o(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:o,userOrderStateDispatch:i}=Object(a.useContext)(r.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:m}=s.a,{scheduleOrderData:O}=o,{changeFlow:b=!1}=O,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),i({type:m,value:{selectedStoreInfo:o.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),i({type:n,value:{showSearchStore:!1}})};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(l.a,{onStoreSelectFinish:t});return Object(d.jsx)(c,{handleGoBack:()=>{i({type:n,value:{showSearchStore:!0}}),i({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:b?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},966:function(e,t,o){"use strict";o.r(t),o.d(t,"getCaloriesPriceTemplate",(function(){return g}));var a=o(3),i=o(85),l=o(15),n=o(46),d=o(41),c=o(61),r=o(1106),s=o(5),u=(o(1095),o(1128)),v=o(0),m=o(6),O=o(262),b=o(264),j=o(967),p=o(4),h=o(2);const g=e=>{const{calories:t,kilojoule:o,price:a,currencySymbol:i,toRenderCheckBox:l,modgrpMax:n,pricewithNumberofDecimalDigit:d}=e,c=((e,t,o,a)=>{let i=Object(s.ad)(e<0,"-".concat(t).concat(Math.abs(e).toFixed(a)," "),"+".concat(t).concat(Math.abs(e).toFixed(a)," "));return 0!==Number(e)?Object(s.ad)(o,i,"+".concat(t).concat(Math.abs(e).toFixed(a))):Object(s.ad)(o,"",Object(m.translateWithI18Next)(v.qc))})(a,i,!(!l||l&&n>1),d),r=void 0!==a&&Object(h.jsx)("span",{className:"caloricInfo",children:c}),u=Object(h.jsx)("span",{className:"caloricInfo calorificWithPrice",children:" ".concat(t," ").concat(o)}),O=Object(h.jsx)("span",{className:"caloricInfo",children:" ".concat(t," ").concat(o)}),b=t?((e,t)=>Object(s.hb)(void 0!==e,Object(s.pc)(t)>0))(a,c)&&u||O:Object(h.jsx)(h.Fragment,{});return Object(h.jsxs)("div",{children:[r,b]})};t.default=e=>{var t,o,v,I;const{onSaveProduct:S,imageContainerSize:N,defaultImagePath:C,selectedProduct:E,price:T,isMobile:f,cardData:x,modgrpData:D,kilojoule:A,isStoreClosed:y,customizeClickHandler:_,localized:R,showButton:L,currencySymbol:P,updateItemQuantity:w,itemCount:M,isModgrpMax:k,toRenderCheckBox:F,toRenderQuantityModifier:H,dispositionType:U,handleCateringModifierQuantity:B,itemCountShouldAtModifierLevel:W,savedCustomizedModifier:G,tenantData:V}=e,Y=null===V||void 0===V||null===(t=V.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(v=o.global)||void 0===v?void 0:v.pricewithNumberofDecimalDigit,{Selection_Customize:z}=l.a,{modgrpId:q,max:K,comboL2:J=!1,modifierLength:Q}=D,{id:X,dname:Z,isHidden:$,content:ee,modgrps:te,isExcluded:oe,defaultQuantity:ae}=x,ie=Object(s.pc)(Z)&&(null===(I=Z[0])||void 0===I?void 0:I.value),le=null===ee||void 0===ee?void 0:ee.caloricValue,{userOrderState:ne}=Object(a.useContext)(i.a),{pdpPayloadData:de}=ne,{ITEM_QUANTITY:ce}=r.a,{PEROPTIONMAX_KEY:re,PEROPTIONMIN_KEY:se}=O.a,{QUANTITY_ACTION:ue}=c.a,ve=K>1?l.a.Multiselect_Check_Icon:l.a.Check_Icon,me=K>1?l.a.Multiselect_Uncheck_Icon:l.a.Selection_Checkbox_off,Oe=Object(s.qc)(ee,N,N),be=Object(s.j)([Object(s.Hd)(U),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("picture",{className:"sopac-modifier-card-tick",children:[Object(h.jsx)("source",{media:"(max-width: 1023px)",srcSet:E&&!oe&&ve||me,alt:E&&!oe?"checked":""}),Object(h.jsx)("img",{src:E&&!oe&&ve||me,alt:E?"checked":""})]}),je=Oe?Object(h.jsx)(n.a,{defaultPath:C,srcFile:Oe,className:"sopac-modifier-card-image"}):Object(h.jsx)(h.Fragment,{}),pe=()=>{const e=g({comboL2:J,calories:le,kilojoule:A,price:T,currencySymbol:P,toRenderCheckBox:F,modgrpMax:K,pricewithNumberofDecimalDigit:Y});return Object(h.jsxs)("div",{className:"sopac-modifier-card-name",tabIndex:"0",children:[Object(h.jsx)("div",{className:"title",children:ie}),oe?he():e]})},he=()=>Object(h.jsxs)("div",{className:"unavailable-container",children:[Object(h.jsx)(b.a,{src:l.a.TimerIcon,className:"unavailable-icon"}),Object(h.jsx)("div",{className:"unavailable-text",children:Object(m.translateWithI18Next)(null===p.a||void 0===p.a?void 0:p.a.CURRENTLY_UNAVAILABLE)})]}),ge=Object(s.ad)(W,Object(s.pd)(null===x||void 0===x?void 0:x.additionalProperties,re),Object(s.pd)(null===D||void 0===D?void 0:D.additionalProperties,re)),Ie=W?Object(s.pd)(null===x||void 0===x?void 0:x.additionalProperties,se):Object(s.pd)(null===D||void 0===D?void 0:D.additionalProperties,se),Se=f&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sopac-modifier-wrapper",children:[Object(s.j)([R,F,!y])&&be,pe()]}),je]}),Ne=!f&&Object(h.jsxs)(h.Fragment,{children:[Object(s.j)([R,F,!y])&&be,je,pe()]});return!$&&Object(h.jsxs)("div",{className:"sopac-modifier ".concat(Object(s.ad)(oe,"sopac-modifier-deactive")),children:[Object(h.jsxs)("div",{className:"sopac-modifier-card d-flex","data-testid":"click-save-product",onClick:e=>!oe&&((e,t,o,a,i)=>{Object(s.j)([t,!o,i])?a():(e.preventDefault(),e.stopPropagation())})(e,R,y,S,F),children:[Se,Ne]}),L?Object(h.jsx)("div",{className:"sopac-modifier-customizeblock",children:Object(h.jsxs)(d.a,{ariaLable:"customize","data-testid":"customize-btn",className:"deepBlack font-bold customize-btn button blackBorder",disabled:!E||oe,onClick:e=>_(e,X,q),children:[Object(u.a)(x,q,de),Object(h.jsx)(n.a,{className:"customize-icon ".concat(Object(s.ad)(!E,"disabled-icon","")),srcFile:z})]})}):null,Object(s.j)([R,H,!y,!oe])&&(Object(s.j)([Object(s.Hd)(U),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"sopac-modifier-customizeblock ".concat(Object(s.hb)(k,"modgrp-greyout")),children:Object(h.jsx)(j.default,{itemCount:M||0,itemQuantity:ce,updateItemQuantity:w,quantityAction:ue,item:void 0,itemName:ie,defaultQuantity:ae,maxItemCountPerLineItem:ge,cartItemCount:1,hideChild:!0,type:"button",dispositionType:U,handleQuantityForCatering:B,inputType:"number",modgrpMax:K,savedCustomizedModifier:G,minItemCountPerLineItem:Ie})}))]})}},967:function(e,t,o){"use strict";o.r(t),o.d(t,"decreaseQtyCheck",(function(){return u})),o.d(t,"getCheckItemDefalutQtyEqualStatus",(function(){return v}));o(3);var a=o(395),i=o(404),l=o(5),n=o(1095),d=o(6),c=o(4),r=o(1123),s=o(2);const u=(e,t,o,a,i)=>e>t&&v(e,o)||"0"===a&&e>0||a!==i&&e>1,v=(e,t)=>e!==t;t.default=e=>{const{itemQuantity:t,itemCount:o,updateItemQuantity:m,quantityAction:O,item:b,itemName:j,maxItemCountPerLineItem:p,hideChild:h=!1,type:g="",dispositionType:I,handleQuantityForCatering:S,inputType:N="",onKeyPressHandler:C=r.c,defaultQuantity:E,modgrpMax:T,savedCustomizedModifier:f,minItemCountPerLineItem:x}=e,{quantityDecreseText:D,quantityIncreaseText:A,quantityUpdateText:y}=c.a;var _="".concat(Object(d.translateWithI18Next)(D)," ").concat(j),R="".concat(Object(d.translateWithI18Next)(A)," ").concat(j);const L=Object(l.Hd)(I)&&0===o?"cateringInputChangedZero":"";return Object(s.jsxs)("div",{className:"cart-food-quantity-change cart-food-quantity-change-sopac ".concat(Object(n.s)(I)),children:[u(o,t,E,x,p)?Object(s.jsx)(a.a,{className:"button quantity-decrease ".concat(0!==o&&"red-quantity-decrease"),ariaLable:_,onClickHandler:e=>m(b,O.Decrease,e),"data-testid":"quantity-minus",type:g,children:!h&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(a.a,{className:"button quantity-decrease ".concat(0!==o&&!v(o,t)&&"red-quantity-decrease"," ").concat(v(o,t)&&"quantity-decrease-disable"),disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!h&&Object(s.jsx)("span",{children:"-"})}),Object(l.Hd)(I)?Object(s.jsx)(i.a,{"aria-label":"Enter quantity",className:"quantity-input",id:"inputFocus","data-testid":"quantity-input",inputMode:"numeric",maxLength:"3",onChange:S,value:o,autocomplete:"off",inputType:N,onKeyPressHandler:C}):Object(s.jsx)("span",{className:"cart-food-quantity",children:o}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"".concat(Object(d.translateWithI18Next)(y)," ").concat(o)}),Object(s.jsx)(a.a,{className:"transparent-btn button quantity-increase ".concat(0!==o?"red-quantity-increase":"gray-quantity-increase"," ").concat((null===f||void 0===f?void 0:f.totalQuantity)===T&&0===o&&"red-quantity-increase"," ").concat(L),ariaLable:R,"data-testid":"quantity-plus",type:g,onClickHandler:e=>m(b,O.Increase,e),disabled:!!(0!==p&&o>=p),children:!h&&Object(s.jsx)("span",{children:"+"})})]})}},975:function(e,t,o){"use strict";o.r(t),o.d(t,"filterStores",(function(){return Le})),o.d(t,"SearchStoreModule",(function(){return Pe}));var a=o(3),i=o.n(a),l=o(85),n=o(144),d=o(2);const c=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:a,headerText:l,modalTitleId:c="",className:r,backDataTestId:s}=e;return Object(d.jsx)(i.a.Fragment,{children:Object(d.jsx)(n.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:c,show:!0,classNames:"".concat(r," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:l,autoFocus:!0,backDataTestId:s,children:a})})};var r=i.a.memo(c),s=o(16),u=o(43),v=o(437),m=o(192),O=o(73),b=o(394),j=o(28),p=o(331),h=o(6),g=o(5),I=o(24),S=o(86),N=o(426),C=o(46),E=o(263),T=o(1193),f=o(1197),x=o(55),D=o(269),A=o(329),y=o(41),_=o(15),R=o(4),L=o(80),P=o(132);const{Error:w}=_.a,M=e=>{var t,o;const{show:a,address:i,suggestedAddress:l,onRetryClickHandler:n,onUseThisAddressHandler:c,changeAddressErrorMsgStyle:r}=e,{LOCATION_WARNING_MESSAGE:s,RETRY_BTN_TEXT:u,USE_THIS_ADDRESS_TEXT:v}=R.a,m=Object(P.b)(L.b);return a?Object(d.jsx)("div",{className:"err-container",children:Object(d.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[!r&&Object(d.jsx)(C.a,{srcFile:w,className:"location-alert-icon"}),Object(d.jsx)("div",{className:(O=r,O?"location-error-message location-error-message-change-style":"location-error-message"),children:Object(h.translateWithI18Next)(s)}),Object(d.jsxs)("div",{className:"location-error-address",children:[Object(g.qd)(null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.description,null!==(o=Object(b.M)(m))&&void 0!==o?o:i),";"]}),Object(d.jsxs)("div",{className:"location-error-button-section",children:[Object(d.jsx)(y.a,{className:"button whiteButton blackBorder location-warning-button mr one-line-text",onClick:n,"data-testid":"location-retry-btn",children:Object(h.translateWithI18Next)(u)}),Object(d.jsx)(y.a,{className:"button whiteButton blackBorder location-warning-button ml one-line-text","data-testid":"use-this-address",onClick:c,children:Object(h.translateWithI18Next)(v)})]})]})}):null;var O},k=i.a.memo(M),{GoogleMapLocationImage:F}=_.a,H=e=>{const{show:t=!1,suggestedAddress:o="",confirmDeliveryAddressLineHandler:l,onChangeDeliveryAddressLine:n,deliveryAddressLineVal:c,shouldEnableConfirmButton:r,apartmentDetailsRegex:s}=e,{DELIVERY_ADDRESS_LINE_LABEL:v,CONFIRM_BTN_TEXT:m,PLEASE_FILL_OUT_THIS_FIELD:O}=R.a,b=Object(P.a)(),j=Object(a.useCallback)((e=>{var t;s.test(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&(n(e.target.value),b(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:e.target.value})))}),[n]);return Object(d.jsx)(i.a.Fragment,{children:t?Object(d.jsxs)("div",{"data-testid":"delivery-address-line-container",className:"err-container",children:[Object(d.jsxs)("div",{className:"alert-location-popup unit-number-container",children:[Object(d.jsxs)("div",{className:"icon-with-address",children:[Object(d.jsx)(C.a,{srcFile:F,alt:" ",className:"google-location-img"}),Object(d.jsx)("span",{className:"suggested-address-unit",children:o})]}),Object(d.jsxs)("div",{className:"unit-number-input-div",children:[Object(d.jsx)("input",{"data-testid":"delivery-address-line-input",type:"text",value:c,onChange:j,required:!0,title:Object(h.translateWithI18Next)(O)}),Object(d.jsx)("label",{children:Object(h.translateWithI18Next)(v)})]})]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)(y.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"delivery-address-line-confirm",onClick:()=>l(c),disabled:r&&!(null!==c&&void 0!==c&&c.length),children:Object(h.translateWithI18Next)(m)})})]}):null})};var U=i.a.memo(H),B=o(1117),W=o(1147),G=o(0),V=o(1186);const Y=e=>{var t;const{showKfcCount:o,showMapLink:a,typeOfView:l,toggleView:n,kfcStoresCountText:c,kfcCount:r,isStoresLoading:s}=e,u=Object(j.c)((e=>{var t,o,a;return(null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isFavoriteStoreStatusLoading)}));return Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsxs)("div",{className:"kfc-near-you-section",children:[o?Object(d.jsx)("div",{className:"kfc-count",children:null===(t=Object(h.translateWithI18Next)(c))||void 0===t?void 0:t.replace("%storeCount%",r)}):null,a?Object(d.jsx)("div",{className:"list-map-link-section","data-testid":"toggle-view-test",onClick:()=>n(),children:Object(d.jsxs)(E.a,{className:"list-map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(C.a,{"data-testid":"",srcFile:null===l||void 0===l?void 0:l.imageSrc,alt:"map",className:"map-img"})}),Object(h.translateWithI18Next)(null===l||void 0===l?void 0:l.text)]})}):null]}),(u||s)&&Object(d.jsx)("div",{className:"placeholder",children:Array(8).fill().map((()=>Object(d.jsx)(z,{})))})]})},z=()=>Object(d.jsxs)("div",{className:"table store-card-container",children:[Object(d.jsx)("div",{className:"loading card-title shorter-s"}),Object(d.jsx)("div",{className:"loading table-content"}),Object(d.jsx)("div",{className:"loading table-content"})]});var q=i.a.memo(Y),K=o(1206),J=o(133),Q=o(62),X=o(1196),Z=o(52),$=o(399);const{Error_Yellow:ee,MapImage:te}=_.a||{},{RETAIN_ADDRESS:oe,CONFIG_SEARCH_SCREEN:ae,FROM_SCHEDULE_ORDER_CONTAINER:ie,ADDRESS_COORDS:le}=G.gd||{},{SEARCH_ORDER_DATA:ne,DISPOSITION_METHOD:de,REORDER_MODAL_OPEN:ce,REORDER_STORE_CHANGED:re,SCHEDULE_ORDER_DATA:se}=s.a||{},{MIN_SEARCH_CHARACTER_LIMIT:ue,SET_LOCATION_BUTTON_FLAG:ve,SELECTED_FAV_ADDRESS:me,FORMATTED_DELIVERY_ADDRESS:Oe,SELECTED_LINE_ADDRESS_VAL:be,IS_FAV_ADDRESS_SELECTED:je,STREET_NUMBER:pe,NON_FORMATTED_ADDRESS:he,TYPE_DELIVERY:ge}=u.a,{RETRY_BTN_TEXT:Ie,VIEW_MAP_BTN_TEXT:Se,ADDRESS_NOT_FOUND_ERROR:Ne,GOOGLE_API_ERROR:Ce,LOCATION_BLOCKED_ERROR:Ee,KFC_URL:Te,PLEASE_ENTER_YOUR_LOCATION:fe,MAP:xe}=R.a,{ENTER:De}=G.ag.KEY_CHAR_CODE||{},{SET_LOCATION_INFO:Ae}=Z.a;let ye=!1;const _e=e=>{let{orderSummaryModalClose:t,eligibleStoresForList:o,loggedIn:a,onClickMapHandler:i,storeOpenBtnText:l,findAKFC:n,storeNumberFormat:c}=e;return Object(d.jsx)(d.Fragment,{children:t&&(null===o||void 0===o?void 0:o.map((e=>Object(d.jsx)(K.a,{store:e,loggedIn:a,onClickMapHandler:i,storeOpenBtnText:l,findAKFC:n,storeNumberFormat:c,isUberServiceableEnabled:!1},null===e||void 0===e?void 0:e.id))))})};var Re=e=>{var t,o,i,n,c,r,s,v,m,O,p,S,N,y,R,w,M;const{userPositionHandler:F,eligibleStoreData:H,isStoresLoading:Y,setIsStoresLoading:z=(()=>{}),dispositionType:Z,seteligibleStoreData:ce,storeSelection:re,formContent:Re,eligibleFavoriteStoreData:Le,findAKFC:Pe,finAKFCContentData:we={},isMobile:Me,setShowStores:ke=null,showStores:Fe=null,currentMarket:He}=e,Ue=Object(a.useRef)(null),Be=Object(Q.g)(),We=Object(P.a)(),{userOrderState:Ge,userOrderStateDispatch:Ve}=Object(a.useContext)(l.a),{searchStoreData:Ye,scheduleOrderData:ze,setLocationClicked:qe,showLocationConfirmModal:Ke,showNotInRadiusError:Je,notInRadiusRestaurant:Qe,orderSummaryModalClose:Xe}=Ge,{configSearchScreen:Ze=localStorage.getItem(ae)}=Ye,$e=JSON.parse(localStorage.getItem(ie)),[et,tt]=Object(a.useState)(!1),[ot,at]=Object(a.useState)(!1),[it,lt]=Object(a.useState)(!1),[nt,dt]=Object(a.useState)(!1),[ct,rt]=Object(a.useState)(!1),[st,ut]=Object(a.useState)([]),[vt,mt]=Object(a.useState)(!1),[Ot,bt]=Object(a.useState)({}),[jt,pt]=Object(a.useState)(""),[ht,gt]=Object(a.useState)(!1),[It,St]=Object(a.useState)(""),[Nt,Ct]=Object(a.useState)(""),[Et,Tt]=Object(a.useState)({}),ft=Object(j.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[xt,Dt]=Object(a.useState)({}),[At,yt]=Object(a.useState)(null),[_t,Rt]=Object(a.useState)(!1),Lt=Object(j.c)((e=>e.appStateReducer.userStatus)),{loggedIn:Pt}=Object(g.sd)(Lt),{savedAddresses:wt,favouriteStores:Mt}=Object(j.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{componentOptions:kt,savedAddressPage:Ft,useLatLngForReverseGeocode:Ht,isShowDefulteMapForDelivery:Ut,isUberServiceableEnabled:Bt,enableDeliveryMenuOption:Wt}=Object(j.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Gt=G.bf,Vt=null!==(t=null===Ft||void 0===Ft?void 0:Ft.showAddressWithApartment)&&void 0!==t&&t,Yt=null===kt||void 0===kt||null===(o=kt.web)||void 0===o?void 0:o.dispositionConfig,zt=null===kt||void 0===kt||null===(i=kt.web)||void 0===i||null===(n=i.restaurantDetailPage)||void 0===n?void 0:n.storeNumberFormat,qt=null===kt||void 0===kt||null===(c=kt.web)||void 0===c||null===(r=c.dispositionConfig)||void 0===r?void 0:r.autoSelectDeliveryStore,Kt=null===kt||void 0===kt||null===(s=kt.web)||void 0===s||null===(v=s.dispositionConfig)||void 0===v||null===(m=v.deliveryStores)||void 0===m?void 0:m.shouldEnableConfirmButton,Jt=null===kt||void 0===kt||null===(O=kt.web)||void 0===O||null===(p=O.dispositionConfig)||void 0===p?void 0:p.apartmentDetailsRegex,Qt=null===kt||void 0===kt||null===(S=kt.web)||void 0===S||null===(N=S.storeSearch)||void 0===N?void 0:N.changeAddressErrorMsgStyle,Xt=(null===kt||void 0===kt||null===(y=kt.storeSelection)||void 0===y||y.hideUseMyLocationInStoresListScreen,void 0!==Ge.isMapViewConfirmBtnFlow&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===ge?Ge.isMapViewConfirmBtnFlow:null===kt||void 0===kt||null===(R=kt.web)||void 0===R||null===(w=R.storeSearch)||void 0===w?void 0:w.isMapViewConfirmBtnFlow),{enableScheduleOrder:Zt=!1}=Yt,$t="".concat(Z,"_").concat(Ze),eo=Xt&&Z===ge,{placeholder:to,shouldShowLocationWarning:oo,shouldShowDeliveryAddressLine:ao,shouldHandleKeyPress:io,serviceUnavailableError:lo,shouldShowSingleStore:no,shouldShowStoresList:co,shouldShowKfcStoresCount:ro,shouldShowMapListToggleLink:so,kfcStoresCountText:uo,shouldShowLocationLink:vo,shouldPopulateFirstSuggestion:mo,storeOpenBtnText:Oo,filteredTypes:bo,filterConditions:jo}={...null===J.d||void 0===J.d?void 0:J.d[$t],...null===Yt||void 0===Yt?void 0:Yt[$t]},{shouldShowSavedAddress:po}=(!Bt||(null===Z||void 0===Z?void 0:Z.toUpperCase())!==G.Jb.DELIVERY)&&{...null===J.d||void 0===J.d?void 0:J.d[$t],...null===Yt||void 0===Yt?void 0:Yt[$t]},ho=Object(P.b)(L.b),{errMsg:go,firstBtnText:Io,firstBtnHandler:So,secondBtnHandler:No,secondBtnText:Co,firstBtnClassName:Eo}=lo||{},To=!!(Pe||Zt||eo)||no,fo=Object(j.c)((e=>{var t,o,a,i;return Object(g.Ke)(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading,null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading,null===(a=e.storesReducer)||void 0===a?void 0:a.isFavoriteStoreStatusLoading,null===(i=e.allStoresReducer)||void 0===i?void 0:i.isNearByStoresLoading)}));Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&localStorage.removeItem(oe);const xo=JSON.parse(localStorage.getItem(null===G.gd||void 0===G.gd?void 0:G.gd.SELECTED_ADDRESS)),Do=[null===xo||void 0===xo?void 0:xo.apartmentName,null===xo||void 0===xo?void 0:xo.roomNumber,null===xo||void 0===xo?void 0:xo.companyName],Ao=((e,t)=>[e,...t.filter((e=>e))].join(" "))(null===Ge||void 0===Ge||null===(M=Ge.scheduleOrderData)||void 0===M?void 0:M.deliveryAddress,Do),yo=()=>{bt({}),eo&&mt(!1),ke(!1),at(!0)},_o=Object(a.useCallback)((()=>{var e;tt(!1),bt({}),Tt({}),rt(!1),null===Ue||void 0===Ue||null===(e=Ue.current)||void 0===e||e.select()}),[]);Object(a.useEffect)((()=>{(null===ho||void 0===ho?void 0:ho.selectedLineValueAddress)&&Ct(null===ho||void 0===ho?void 0:ho.selectedLineValueAddress)}),[ho]);const Ro=Object(a.useCallback)((e=>{Object(b.I)(io,(null===e||void 0===e?void 0:e.keyCode)===De,Ue,Ve);const t=Object(g.Je)(io,(null===e||void 0===e?void 0:e.keyCode)===De,!(null!==st&&void 0!==st&&st.length));Object(b.K)(mo,(null===e||void 0===e?void 0:e.keyCode)===De,st,pt,jt);let o={showError:t,errMsg:Object(h.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:Object(h.translateWithI18Next)(Se),firstBtnCTA:_o,secondBtnCTA:yo},a={showError:t,errMsg:Object(h.translateWithI18Next)(go),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Io),secondBtnText:Object(h.translateWithI18Next)(Co),firstBtnCTA:null===Bo||void 0===Bo?void 0:Bo[So],secondBtnCTA:null===Bo||void 0===Bo?void 0:Bo[No],firstBtnClassName:Eo},i=Object(g.ad)((null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY,o,a);(null===Ot||void 0===Ot||!Ot.showError)&&bt(i),null!==o&&void 0!==o&&o.showError?(null===Et||void 0===Et||!Et.showError)&&Tt(o):Tt({}),at(!1)}),[null===Ot||void 0===Ot?void 0:Ot.showError,null===Et||void 0===Et?void 0:Et.showError,_o,io,null===st||void 0===st?void 0:st.length]),Lo=async function(e,t){var o;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];St(e),Rt(!0),pt(e),Object(D.e)(e);let i=[];try{i=await Object(A.geocodeByAddress)(e),!i.length&&z(!1)}catch(r){console.error("Error occurred:",r),z(!1)}const l=null===G.mf||void 0===G.mf?void 0:G.mf.some((t=>e.includes(t)));let n;if(Object(g.tf)(Z,i,Bt),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&!a){var d;n=xt;const e={longitude:n.lng.toString(),latitude:null===(d=n)||void 0===d?void 0:d.lat.toString()};localStorage.setItem(le,JSON.stringify(e)),at(!1)}else n=await Object(A.getLatLng)(i[0]);var c;null!==Yt&&void 0!==Yt&&Yt.clearDliveryTextFilter&&Z===ge?null!==(c=Object(b.x)(i))&&void 0!==c&&c.long_name?(F({userLat:n.lat,userLong:n.lng}),Dt(n)):rt(!1):(F({userLat:n.lat,userLong:n.lng}),Dt(n));l&&(We(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:Object(b.y)(e)})),Ct(Object(b.y)(e)),We(Object(L.d)({key:Oe,value:t.replace("".concat(Object(b.y)(e),","),"")}))),We(Object(L.d)({key:he,value:t})),We(Object(L.d)({key:pe,value:null===(o=Object(b.x)(i))||void 0===o?void 0:o.long_name}))},Po=Object(a.useCallback)((async e=>{if(e.preventDefault(),ce([]),z(!0),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&!it){$e&&localStorage.setItem(ie,!1);const e=Ao;Jo(e,xt),Lo(e,e)}else Lo(it,nt)}),[io,st,F,Z,nt,it]);Object(a.useEffect)((()=>{He===G.fb.TH&&null!==bo&&void 0!==bo&&bo.includes("address")&&Lo(it,nt)}),[bo]);const wo=Object(a.useCallback)((async(e,t,o)=>{const a=!$e&&Object(b.o)(t,io,st,e,Z);if(lt(a),dt(e),Boolean(!(null!==ze&&void 0!==ze&&ze.changeFlow)||eo)&&pt(e),Boolean(!eo||Boolean(eo&&(null===ze||void 0===ze?void 0:ze.changeFlow)))&&Lo(a,e),Z===G.Jb.DELIVERY&&Ut&&t){const e=await Object(A.geocodeByAddress)(a),t=await Object(A.getLatLng)(e[0]);Dt(t),at(o!==J.b)}}),[io,st,F,Z,eo,null===ze||void 0===ze?void 0:ze.changeFlow]),Mo=Object(a.useCallback)((()=>{eo&&at(!1),rt(!1),mt(ao),pt(It),Vt&&Ct(It.includes("/")?It.split("/")[0]:""),Vt&&We(Object(L.c)({key:be}))}),[It,ao,eo]),ko=Object(a.useCallback)((e=>{Object(b.z)(e,To,jt,Nt,ke,ot,Ve,Ge,qt,Z)}),[jt,ot,To,Nt,Ve]),Fo=Object(a.useCallback)((()=>{tt(!1),mt(!1),Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.c}}),localStorage.setItem(ae,J.c),ko(H),Boolean(Pe||ot||Zt)&&Qo(Ue),Boolean(Pe||ot||Zt)&&Qo(Ue),Ve({type:Ae,value:{selectedDeliveryAddress:jt,deliveryAddressLineVal:Nt}}),We(Object(L.d)({key:null===G.se||void 0===G.se?void 0:G.se.REORDER_FLAG,value:{isReorderFlow:!1}}))}),[H,ko,Ve,eo]),Ho=Object(a.useCallback)((()=>{var e;Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(G.gd.CONFIG_SEARCH_SCREEN,J.a),pt(""),rt(!1),mt(!1),bt({}),tt(!1),Tt({}),ke(!1),(!eo||Ut)&&at(!1),null===Ue||void 0===Ue||null===(e=Ue.current)||void 0===e||e.focus(),yt(null),Rt(!1),We(Object(L.c)({key:Oe})),We(Object(L.c)({key:me})),We(Object(L.c)({key:be})),We(Object(L.c)({key:je})),Ct(""),ce([])}),[ce,eo]),Uo=Object(a.useCallback)((e=>{bt({}),Tt({}),rt(!1),mt(!1),eo&&e.trim()&&(dt(e),lt(e)),(null===Yt||void 0===Yt?void 0:Yt.clearDliveryTextFilter)&&Ve({type:se,value:{showScheduleOrderCatering:!1,changeFlow:!1}}),e.trim()?pt(e):Ho(),yt(null)}),[Ho,eo]),Bo=Object(a.useMemo)((()=>({focusInputBox:()=>{Ue.current.select(),bt({}),Tt({})},gotoMenuPage:()=>{Be.push({pathname:Object(g.sc)(Z,Wt)}),Ve({type:ne,value:{showSearchStore:!1}})},switchToPickup:()=>{Ve({type:de,value:{dispositionType:G.Jb.PICKUP}}),Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(ae,J.a),Ho()},openDeliveryAddressScreen:()=>{Ve({type:ne,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(ae,J.a),Ve({type:de,value:{dispositionType:G.Jb.DELIVERY}}),Ue.current.select(),bt({}),Tt({})}})),[Be,Ho,Ve]),Wo=Object(a.useCallback)((e=>{oo||ko(e)}),[oo,ko]),Go=Object(a.useCallback)(((e,t,o,a,i)=>{if((null===e||void 0===e?void 0:e.length)>0)bt({}),Tt({}),rt(oo),Wo(e);else if(Object(g.Je)(null===i||void 0===i?void 0:i.length,jt,(null===Z||void 0===Z?void 0:Z.toUpperCase())!==G.Jb.DELIVERY))bt({}),Tt({}),ce(i);else{let e=Object(g.Je)(jt!==It,io,(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY),i={showError:Object(g.Je)(!o,io),errMsg:Object(h.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:Object(h.translateWithI18Next)(Se),firstBtnCTA:_o,secondBtnCTA:yo},l={showError:Object(g.Je)(!t,!o,a),errMsg:Object(h.translateWithI18Next)(go),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Io),secondBtnText:Object(h.translateWithI18Next)(Co),firstBtnCTA:null===Bo||void 0===Bo?void 0:Bo[So],secondBtnCTA:null===Bo||void 0===Bo?void 0:Bo[No],firstBtnClassName:Eo};Object(b.W)(e,i,l,bt)}}),[Wo,Bo,lo,oo,jt,Z]),{handleSelectAddress:Vo,onUseThisAddressHandler:Yo,callOnAddressConfirmHandler:zo}=Object(D.a)({handleSelectAddressGlobal:wo,onUseThisAddressHandlerGlobal:Mo,onAddressSelectionGlobal:Go}),qo=Object(a.useCallback)((async()=>{Object(b.Q)(),Object(x.o)();const e=await Object(D.b)(Ve,ft);if(e){St(I.b.address),pt(I.b.address),Object(D.e)(I.b.address),ut([{description:I.b.address}]);const{longitude:e,latitude:t}=I.b.coordinates;let o=await Object(A.geocodeByAddress)(I.b.address);Object(g.tf)(Z,o),F({userLat:t,userLong:e}),Dt({lat:t,lng:e}),Rt(!0)}Object(b.s)(Ve,!e)}),[Ve,F,Z]),Ko=Object(a.useCallback)((e=>{Object(b.e)(e,G.Uf,ut);const t=G.ge.includes(e);bt({showError:t,errMsg:Object(h.translateWithI18Next)(Ce),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:null,firstBtnCTA:_o,secondBtnCTA:null})}),[_o]);Object(a.useEffect)((()=>{if(qe){(async()=>{await qo()})(),Ve({type:ve,value:{setLocationClicked:!1}})}}),[qe]),Object(a.useEffect)((()=>{const e=(null===Ot||void 0===Ot?void 0:Ot.errMsg)===Object(h.translateWithI18Next)(Ce);Object(b.D)(e,ye),e&&(ye=!0)}),[null===Ot||void 0===Ot?void 0:Ot.showError]),Object(a.useEffect)((()=>{const e=(null===jt||void 0===jt?void 0:jt.length)>2&&eo;tt(e);const t=Object(g.d)(jt,ue);gt(t)}),[jt,eo]),Object(a.useEffect)((()=>{if(!Pe){var e,t;null===Ue||void 0===Ue||null===(e=Ue.current)||void 0===e||e.focus();const o=null===(t=localStorage)||void 0===t?void 0:t.getItem(oe);Object(b.c)(ze,Ye,st,ut,Vo,o,jt)}at(!1)}),[Ze,Pe]),Object(a.useEffect)((()=>{var e;Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&(at(!0),yt(null===Ge||void 0===Ge||null===(e=Ge.scheduleOrderData)||void 0===e?void 0:e.storeId),Lo(Ao,Ao,!0))}),[]),Object(a.useEffect)((()=>{Object(b.f)(Ve,Ke)}),[Ve]),Object(a.useEffect)((()=>{eo?It&&zo(H,fo,Y,It,Le):zo(H,fo,Y,It,Le)}),[H,fo,It,Le,Y]);const Jo=(e,t)=>{const o=Object(g.de)(window.innerWidth);var a,i;(Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?(Uo(Ao),ut([{description:Ao}])):(Uo(e),ut([{description:e}])),Dt(t),o)?null===Ue||void 0===Ue||null===(a=Ue.current)||void 0===a||a.blur():null===Ue||void 0===Ue||null===(i=Ue.current)||void 0===i||i.focus();ot&&Qo(Ue)},Qo=e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)},Xo=Object(a.useCallback)((e=>{at(!0),ke(!1),yt(e)}),[]),Zo=Object(a.useCallback)((()=>{ke(ot),at(!ot),Object(b.E)(ot,Z)}),[ot]),$o=Object(g.Je)(null===wt||void 0===wt?void 0:wt.length,Pt,po,!ct,!vt,!(null!==Ot&&void 0!==Ot&&Ot.showError)),ea=!JSON.parse($e)&&Object(g.Je)(ct,null===st||void 0===st?void 0:st.length,null===H||void 0===H?void 0:H.length);Object(a.useEffect)((()=>{ea&&eo&&(null!==ze&&void 0!==ze&&ze.changeFlow||Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?Fo():Yo())}),[ea,eo,null===ze||void 0===ze?void 0:ze.changeFlow]);const ta=Object(g.Je)(null===Ot||void 0===Ot?void 0:Ot.showError,!fo,jt),oa=Object(g.Je)(Ke,vo,!ot),aa=Object(b.T)(H,Mt,Gt,!Object(g.Je)(Fe,!(null!==Ot&&void 0!==Ot&&Ot.showError)),co),ia=Object(g.Ke)(null===Ot||void 0===Ot?void 0:Ot.showError,oa,Je,ea,ta,vt),la=Object(g.Je)(ro,(null===H||void 0===H?void 0:H.length)>0,!fo,_t,!ia),na=Object(g.Je)(jt,(null===H||void 0===H?void 0:H.length)>0,so,!fo,_t,!ia),da=Object(b.T)(H,Mt,Gt,Object(g.Je)(Fe,!(null!==Ot&&void 0!==Ot&&Ot.showError)),co),ca=null!==Et&&void 0!==Et&&Et.showError?[]:aa,ra=ot?null===aa||void 0===aa?void 0:aa.length:null===da||void 0===da?void 0:da.length,sa=(Object(g.Ke)(ot,!vo),Object(g.Je)(ra,!ot,_t)),ua=Object(g.Ke)(ia,la,ot),va=Object(g.Je)(Pe,!ua,!sa);return Object(d.jsx)("div",{className:Pe?"".concat(Object(g.ad)(ua,"findkfc-delivery-show-container","findkfc-delivery-hide-container")," ").concat(ia&&"findkfc-delivery-error-container"," ").concat(Object(g.ad)(ot,"mapview","listview")):"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(d.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(d.jsxs)("div",{id:"search-store-global-content",className:Object(b.u)(Ke),children:[Object(d.jsx)(B.a,{show:oa,errorMsg:Object(b.G)(Ee,Te),errImage:ee,cssClass:"location-blocked"}),Object(d.jsxs)("div",{className:Object(g.ad)(Pe,"findkfc-search-store-container","selectkfc-search-store-container"),children:[Object(d.jsx)(f.a,{loggedIn:Pt,formContent:Re,storeSelection:re,useCurrentLocation:qo,hideLocationLink:!!re.hideUseMyLocationInStoresListScreen&&!vo,showLocationConfirmModal:Ke}),Object(d.jsx)(T.a,{...e,storeSelection:re,history:Be,inputOnChange:Uo,address:jt,showAutoSuggestion:ht,setSuggestedAddress:ut,handleSelectAddress:Vo,alreadySearched:D.c,onClearTextHandler:Ho,keyPress:Ro,inputRef:Ue,onSearchError:Ko,placeholder:Object(h.translateWithI18Next)(to),filteredTypes:bo,filterConditions:jo,showConfirmBtn:eo,onClickHandler:Po,confirm:et,isAddressNotChangable:Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY}),Object(d.jsx)("div",{className:"".concat(Object(g.ad)(Je,"error-can-not-deliver","hide-error-container")),children:Object(d.jsx)(B.a,{show:Je,errorMsg:[Object(d.jsxs)("span",{className:"store-name",children:[Qe," "]}),Object(h.translateWithI18Next)(u.a.CAN_NOT_DELIVER_ERROR_MSG)],errImage:_.a.Error,cssClass:"error-sub-container"})}),!eo||ot||ea||Fe||ta?null:Object(d.jsx)("div",{className:"map-button-form",children:Object(d.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:yo,children:[Object(d.jsx)("span",{className:"delivery-map-text",children:Object(h.translateWithI18Next)(fe)}),Object(d.jsxs)(E.a,{className:"map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(C.a,{"data-testid":"",srcFile:te,alt:" ",className:"map-img"})}),Object(h.translateWithI18Next)(xe)]})]})}),!eo&&Object(d.jsx)(k,{show:ea,onRetryClickHandler:_o,address:It,onUseThisAddressHandler:Yo,changeAddressErrorMsgStyle:Qt}),Object(d.jsx)(U,{show:vt,suggestedAddress:jt,confirmDeliveryAddressLineHandler:Fo,onChangeDeliveryAddressLine:Ct,deliveryAddressLineVal:Nt,shouldEnableConfirmButton:Kt,apartmentDetailsRegex:Jt}),Object(d.jsx)(W.a,{show:ta,errorObj:Ot}),Object(d.jsx)(V.a,{show:$o,savedAddresses:wt,handleSelectAddress:Vo}),Object(d.jsx)(q,{showKfcCount:la,kfcCount:ra,showMapLink:na,typeOfView:Object(b.X)(ot),toggleView:Zo,kfcStoresCountText:uo,isStoresLoading:Y})]}),Object(d.jsxs)("div",{className:Pe?"".concat(Object(g.ad)(sa,"store-dynamic-card-container","store-no-card-container")):"selectkfc-card-container",children:[va&&Object(d.jsx)(C.a,{srcFile:Me?we.mobileImage:we.desktopImage,className:"findkfc-img"}),Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY?(e=>{var t;let{orderSummaryModalClose:o,eligibleStoresForList:a,loggedIn:i,onClickMapHandler:l,storeOpenBtnText:n,findAKFC:c,storeNumberFormat:r}=e;return Object(d.jsx)(d.Fragment,{children:o&&Bt&&(null===Z||void 0===Z?void 0:Z.toUpperCase())===G.Jb.DELIVERY&&(null===a||void 0===a||null===(t=a.filter((e=>{var t;return Object($.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)})))||void 0===t?void 0:t.map((e=>Object(d.jsx)(K.a,{store:e,loggedIn:i,onClickMapHandler:l,storeOpenBtnText:n,findAKFC:c,storeNumberFormat:r,isUberServiceableEnabled:Bt},null===e||void 0===e?void 0:e.id))))})})({orderSummaryModalClose:Xe,eligibleStoresForList:da,loggedIn:Pt,onClickMapHandler:Xo,storeOpenBtnText:Oo,findAKFC:Pe,storeNumberFormat:zt}):_e({orderSummaryModalClose:Xe,eligibleStoresForList:da,loggedIn:Pt,onClickMapHandler:Xo,storeOpenBtnText:Oo,findAKFC:Pe,storeNumberFormat:zt})]})]}),ot?Object(d.jsx)(X.a,{eligibleStores:ca,defaultStoreId:At,loggedIn:Pt,selectedCoords:xt,passAddress:Jo,configSearchKey:$t,useCurrentLocation:qo,showLocationConfirmModal:Ke,findAKFC:Pe,favouriteStores:Mt,useLatLngForReverseGeocode:Ht,markerDragValue:!0,...Bt&&{zoomLevel:19}}):null]})})};const Le=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.filter((e=>{var t,o,a,i,l,n,d,c,r,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));if(t){return o.filter((e=>e.summary.status.currentStatus===(null===s.a||void 0===s.a?void 0:s.a.CLOSED))).length===(null===e||void 0===e?void 0:e.length)?[]:o}return o},Pe=e=>{var t,o,n,c,N,C,E,T;const{contentData:f={},onStoreSelectFinish:x,finAKFCContentData:D={},isMobile:A=!1}=e,{SEARCH_ORDER_DATA:y,DISPOSITION_DATA:_,ANALYTICS_LOCALISATION_SIGNIN:R,SET_ELIGIBLE_STORE:w,SET_FIND_A_KFC_VIEW:M,SET_REDIRECTION_PATH:k,REORDER_MODAL_OPEN:F,FROM_REORDER_MODAL_OPEN:H,REORDER_STORE_CHANGED:U,FAV_STORE_NOT_IN_RADIUS:B}=s.a,{DELIVERY:W,PICKUP:V}=G.Jb,Y=Object(j.b)(),z=Object(P.a)(),{FORMATTED_DELIVERY_ADDRESS:q,SELECTED_LINE_ADDRESS_VAL:K,SELECTED_FAV_ADDRESS:Q,IS_FAV_ADDRESS_SELECTED:X,STREET_NUMBER:$,TYPE_DELIVERY:ee}=u.a,{userOrderState:te,userOrderStateDispatch:oe}=Object(a.useContext)(l.a),{dispositionStateData:ae,searchStoreData:ie,findAKFC:le}=te,{dispositionType:ne=localStorage.getItem(G.gd.DISPOSITION_TYPE)}=Object(g.ud)(ae),{storeSearch:de={},tenantId:ce,countryCode:re=[],componentOptions:se,storelocatormaxreturncount:ue=10,ispolygonrequired:ve,savedAddressPage:me,isUberServiceableEnabled:Oe}=Object(j.c)((e=>Object(g.sd)(e.tenantReducer))),be=Object(j.c)((e=>{var t;return null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading})),je=null===se||void 0===se||null===(t=se.web)||void 0===t||null===(o=t.storeSearch)||void 0===o?void 0:o.addPickupAndDropoffLatLngInStatusApi,{isSendEntireStoreAsPayloadInStatusApi:pe=!1}=(null===se||void 0===se||null===(n=se.web)||void 0===n?void 0:n.storeSearch)||{},he=Object(P.b)(L.b),ge=null!==(c=null===me||void 0===me?void 0:me.showAddressWithApartment)&&void 0!==c&&c,{storeSelection:Ie,web:Se={}}=se,{shouldCheckDropOffAddress:Ne=!1}=Se,Ce=null===se||void 0===se||null===(N=se.web)||void 0===N?void 0:N.dispositionConfig,Ee=null===se||void 0===se||null===(C=se.web)||void 0===C||null===(E=C.dispositionConfig)||void 0===E?void 0:E.enableClickCollectScheduleOrder,{currentMarket:Te=(null===re||void 0===re||null===(T=re[0])||void 0===T?void 0:T.toUpperCase()),storeCardLimit:fe=ue,configSearchScreen:xe=localStorage.getItem(G.gd.CONFIG_SEARCH_SCREEN)}=ie,De="".concat(null===ne||void 0===ne?void 0:ne.toUpperCase(),"_").concat(xe),{modalHeaderTitle:Ae,shouldShowDisposition:ye,shouldShowSearchStore:_e,shouldShowClosedStore:Pe}={...null===J.d||void 0===J.d?void 0:J.d[De],...null===Ce||void 0===Ce?void 0:Ce[De]},{searchStoreModalContent:we={}}=f,Me=Ae,{formContent:ke={},locationsContent:{storeData:Fe=[]}}=we,[He,Ue]=i.a.useState(!1),[Be,We]=i.a.useState({}),[Ge,Ve]=i.a.useState([]),[Ye,ze]=i.a.useState([]),[qe,Ke]=i.a.useState([]),{maxDriveTimeMins:Je,distanceMetrics:Qe,maxDeliveryDistanceMtrs:Xe,maxPickupDistanceMtrs:Ze,maxCateringDistanceMtrs:$e,geohashprecision:et,boundingBoxSizeMeters:tt,shouldCallGoogleDistanceApi:ot,numOfStoresToShowDelivery:at,boundingBoxSizeDivider:it}=de,{allStores:lt=[],storesUpdated:nt}=Object(j.c)((e=>e.allStoresReducer))||{},[dt,ct]=Object(a.useState)(!1),{storesWithStatus:rt,favoriteStoresWithStatus:st}=Object(j.c)((e=>Object(g.sd)(e.storesReducer))),ut=e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(G.gd.SET_CART_CLEAR),localStorage.setItem(G.gd.RENDER_COMP,!0),oe({type:_,value:{showDisposition:!1}}),oe({type:y,value:{showSearchStore:!1}}),oe({type:k,value:{redirectionOrder:""}}),oe({type:F,value:{reorderModalOpen:!1}}),oe({type:H,value:{fromReorderFlag:!1}}),oe({type:U,value:{storeChanged:!1}}),oe({type:M,value:{findAKFC:window.location.pathname===G.Ce.FIND_STORE}}),z(Object(L.c)({key:q})),z(Object(L.c)({key:Q})),!ge&&z(Object(L.c)({key:K})),z(Object(L.c)({key:X})),z(Object(L.c)({key:$})),oe({type:B,value:{showNotInRadiusError:!1,notInRadiusRestaurant:""}})};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&ut(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const{favouriteStores:vt,savedAddresses:mt}=Object(j.c)((e=>e.profileReducer)),{localized:Ot=!1}=Object(j.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(a.useEffect)((()=>{Object(g.Je)(lt.length>0,nt)&&jt(lt)}),[lt,nt,null===vt||void 0===vt?void 0:vt.length,Be]),Object(a.useEffect)((()=>{(null===rt||void 0===rt?void 0:rt.length)>0&&ne!==G.T?Ct(rt):be||ct(!1)}),[ne,rt]),Object(a.useEffect)((()=>{const e=null===st||void 0===st?void 0:st.sort(((e,t)=>{var o,a,i,l;return(null===e||void 0===e||null===(o=e.distance)||void 0===o||null===(a=o.distance)||void 0===a?void 0:a.value)-(null===t||void 0===t||null===(i=t.distance)||void 0===i||null===(l=i.distance)||void 0===l?void 0:l.value)}));Ke(e)}),[st]),Object(a.useEffect)((()=>{Object(g.Je)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,ot)&&pt(Ye)}),[Ye]),Object(a.useEffect)((()=>()=>{Y(Object(O.u)())}),[le,Y]);const bt=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:tt/it,geohashprecision:et},a=m.a.calculateGH(o);Y(Object(O.v)(null===a||void 0===a?void 0:a.length))},jt=e=>{const t=Object(g.Mb)(null===ne||void 0===ne?void 0:ne.toUpperCase());let o=e.filter((e=>{var t,o;return Object(g.qe)(e.id)&&Object(g.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(g.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}));Object(g.Jd)(ne)&&ve&&(o=Object(b.S)(o,Be));const a={stores:o,disposition:t,distanceMetrics:Qe,driveTime:Je,distanceInMtrs:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,Xe,Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.PICKUP,Ze,$e)),noOfStores:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,at,o.length),channel:I.b.channel},i=m.a.checkAndProceed(a);ze(i),i&&((null===ne||void 0===ne?void 0:ne.toUpperCase())===W&&ot?pt(i):(pe&&(null===i||void 0===i?void 0:i.length)>ue&&i.splice(ue),It(i,t)))},pt=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,a;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),Object(v.c)(t,[{lat:Be.userLat,lng:Be.userLong}],ht)},ht=e=>{let{allStoreDistance:t,originAddressText:o}=e;const a=Object(g.Mb)(ne.toUpperCase()),i={stores:gt(t,Ye),numberOfStores:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.DELIVERY,at,ue),disposition:a,distanceMetrics:Qe,driveTime:Je,distanceInMtrs:Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===W,Xe,Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===G.Jb.PICKUP,Ze,$e))},l=m.a.getSortedNearbyStores(i);(null===l||void 0===l?void 0:l.length)>0&&It(l,a)},gt=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),It=(e,t)=>{const o={data:Object(g.C)(e,t,null,Ne,null===he||void 0===he?void 0:he.latLong),store:e,tenantId:ce,setStatusFlag:!1,isFavoritePage:!1};Y(Object(O.d)(o))};Object(a.useEffect)((()=>{St({userLat:Be.userLat,userLong:Be.userLong})}),[vt.length,Be]);const St=e=>{var t,o;const a=localStorage.getItem(G.gd.STORE_INFO),i=a&&void 0!==a&&JSON.parse(a),l=null!==mt&&void 0!==mt&&mt.length?mt.filter((e=>e.isPrimary)):[],n=i&&Ot?i:(null===l||void 0===l?void 0:l.length)&&l[0];Object(v.a)(null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,null===n||void 0===n||null===(o=n.location)||void 0===o?void 0:o.longitude,vt,Nt)},Nt=e=>{const t=Object(g.ad)((null===ne||void 0===ne?void 0:ne.toUpperCase())===V,G.fe,ne),o=null===e||void 0===e?void 0:e.map((e=>{var t,o,a,i,l,n;return{availableServicesPerChannel:null===e||void 0===e?void 0:e.availableServicesPerChannel,distance:{distance:null===e||void 0===e?void 0:e.distance},duration:null===e||void 0===e?void 0:e.duration,id:null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id,name:null===e||void 0===e||null===(o=e.storeBasic)||void 0===o?void 0:o.dname,amenities:null===e||void 0===e||null===(a=e.storeBasic)||void 0===a?void 0:a.amenities,addresses:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.address,additionalAttributes:null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.additionalProperties,location:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.location}})),a={data:Object(g.C)(o,t,null,Ne,null===he||void 0===he?void 0:he.latLong),store:o,tenantId:ce,setStatusFlag:!1,isFavoritePage:!1};!le&&a.data.length&&Y(Object(O.h)(a))},Ct=e=>{const t=Le(e,Ee,Pe);Ve(t),ct(!1),oe({type:w,value:{eligibleStore:t}})},Et=Object(d.jsx)(Re,{singInClickhandler:e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(R,JSON.stringify(!0)),Object(b.O)(),Object(S.c)()},formContent:ke,storeData:Fe,isStoresLoading:dt,setIsStoresLoading:ct,onStoreSelectFinish:x,eligibleStoreData:Ge,storeCardLimit:fe,userPositionHandler:e=>{Y(Object(p.b)()),Y(Object(O.u)()),je&&z(Object(L.d)({key:G.se.LAT_LONG,value:{lat:null===e||void 0===e?void 0:e.userLat,lng:null===e||void 0===e?void 0:e.userLong}})),We({userLat:e.userLat,userLong:e.userLong}),Ge&&Ve([]),bt(e.userLat,e.userLong),setTimeout((()=>{Y(Object(p.a)())}),2e3)},currentMarket:Te,dispositionType:null===ne||void 0===ne?void 0:ne.toUpperCase(),seteligibleStoreData:Ve,storeSelection:Ie,eligibleFavoriteStoreData:qe,findAKFC:le,finAKFCContentData:D,isMobile:A,setShowStores:Ue,showStores:He}),Tt=Object(d.jsx)(r,{handleClose:ut,orderModeTypeItem:Et,headerText:Object(h.translateWithI18Next)(Me),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),Ue(!1),Oe&&(null===ne||void 0===ne?void 0:ne.toUpperCase())===ee?(oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.ENABLE_ADDRESS_LOCALISATION,value:!0}),oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.SHOW_MAP_VIEW_BUTTON,value:!1})):(oe({type:_,value:{showDisposition:ye}}),oe({type:y,value:{showSearchStore:_e,configSearchScreen:J.a,searchedPlaceNonLocalized:null===ie||void 0===ie?void 0:ie.searchedPlaceNonLocalized}}))},modalTitleId:"search-store",className:"search-store-global-container ".concat(Object(g.hb)(Object(g.Hd)(ne),"catering-modal")),backDataTestId:"back-btn-global-modal-id"});return null!==te&&void 0!==te&&te.findAKFC?Et:Tt};Pe.defaultProps=N.a;t.default=Pe},980:function(e,t,o){"use strict";o.r(t),o.d(t,"settingsRecommendation",(function(){return D}));var a=o(3),i=o.n(a),l=o(62),n=o(46),d=o(61),c=o(4),r=o(1096),s=o(1115),u=o(1116),v=o(28),m=o(85),O=o(1098),b=o(5),j=o(16),p=o(262),h=o(6),g=o(0),I=o(1166),S=o(1138),N=o(1220),C=o(2);const{PLP_PDP_DETAILS:E}=j.a,{RECOMENDATIONS:T}=d.a,{SLIDES_TO_SCROLL:f,SLIDES_TO_SHOW_CART_PAGE:x}=T,D=(e,t,o,a,i)=>({dots:!1,infinite:!1,speed:500,slidesToShow:i,slidesToScroll:f,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(C.jsx)(s.a,{clickNextCard:t}),prevArrow:Object(C.jsx)(u.a,{clickPrevCard:e}),beforeChange:(e,t)=>a(t),afterChange:e=>o(e),variableWidth:!1,accessibility:!0,responsive:g.H}),A=e=>{var t,o,i,d,r,s,u;let{tenantData:j,storeClosedData:N,item:T,userParams:f,index:x}=e;const{userOrderState:D,userOrderStateDispatch:A}=Object(a.useContext)(m.a),y="medium",{tenantReducer:_}=Object(v.c)((e=>({tenantReducer:Object(b.sd)(e.tenantReducer)}))),R=Object(b.Sd)(D.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):D.dispositionNew,L=R?R.store:g.eg,P=T.id,{currencyConversionFactor:w=1,currencySymbol:M=""}=j,{name:k="",availability:F,imageName:H,categoryUrl:U,id:B}=Object(b.sd)(T),W=Object(l.g)(),G=(null===L||void 0===L||null===(t=L.summary)||void 0===t||null===(o=t.menu)||void 0===o||null===(i=o.catalogs)||void 0===i?void 0:i.length)&&(null===L||void 0===L||null===(d=L.summary)||void 0===d||null===(r=d.menu)||void 0===r?void 0:r.catalogs[0])||(null===_||void 0===_?void 0:_.genericMenuName)||"",{componentOptions:V={}}=j,{PlpProductCard:Y={}}=V,{allowClickOnProductCard:z=!1,showDefaultImage:q}=Y,K=Object(v.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{cartData:J={}}=Object(v.c)((e=>(null===e||void 0===e?void 0:e.cartReducer)||{})),{discountLines:Q=[]}=J||{},[X,Z]=Object(a.useState)(Object(b.de)(window.innerWidth)),{headerData:{pdpBackgroundImage:$={}}={}}=Object(v.c)((e=>{var t;return Object(b.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(b.lb)($),[te,oe]=Object(a.useState)(0),{RECOMMENDED_ITEM:ae}=g.Oc,{ITEM_IMAGE_HEIGHT_MOBILE:ie,ITEM_IMAGE_WIDTH_MOBILE:le,ITEM_IMAGE_HEIGHT_DESKTOP:ne,ITEM_IMAGE_WIDTH_DESKTOP:de}=ae,ce=()=>{const e=Object(b.de)(window.innerWidth);Z(e)};Object(a.useEffect)((()=>{window.addEventListener("resize",ce),oe(Object(b.de)(window.innerWidth)?{height:ie,width:le}:{height:ne,width:de})}),[X]);const re=(e,t,o,a,i,l)=>{var n,d,c;e.preventDefault(),e.stopPropagation();let r={category_id:a,customizable:o,productId:t,isFromPlp:!0,productInfo:i,catalogName:G};const{url:s}=null!==(n=null===K||void 0===K||null===(d=K.productMapByItemId)||void 0===d?void 0:d[B])&&void 0!==n?n:{};A({value:r,type:E});const{localized:u=!1,loggedIn:v=!1}=Object(b.sd)(f),m=Object(b.od)(u,v),h=(I=Q)&&(null===I||void 0===I?void 0:I.length)-1;var I;const S=((e,t)=>e&&e[t])(Q,h),{couponCode:N="",amount:C=""}=S||{};const T=[{item_name:k,item_id:B,price:Object(b.Ec)(F[0],null===j||void 0===j?void 0:j.currencyConversionFactor),coupon:N,discount:C,currency:g.p.AUD,item_category:U&&U[0],item_list_name:g.p.PDP_UPSELL,item_list_id:g.p.SR_VALUE,index:l,quantity:1}];Object(O.b)(m,T),A({type:p.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),W.push({pathname:Object(b.xc)(U,s,null===W||void 0===W||null===(c=W.location)||void 0===c?void 0:c.pathname)}),localStorage.setItem(g.gd.PRODUCT_DETAILS,JSON.stringify(r))};return Object(C.jsx)("div",{className:Object(I.a)(),children:Object(C.jsxs)("div",{className:Object(S.b)(X,y,z),children:[Object(C.jsx)("div",{style:Object(b.mb)(ee,te.width,te.height),className:"product-image-parent-container",children:(()=>{var e;return Object(C.jsx)(n.a,{"data-testid":"product-image",className:Object(S.c)(X,y),defaultPath:Object(b.bc)(null,j,q),srcFile:null===(e=H[0])||void 0===e?void 0:e.value,onClick:e=>z&&re(e,P,T.customizable,null,{productName:T.dname,productImage:H,productPrice:Object(b.Ec)(F[0],null===j||void 0===j?void 0:j.currencyConversionFactor)},x),alt:""})})()}),Object(C.jsx)("div",{className:"menu-card-content","data-testid":"menu-card-content",onClick:e=>z&&re(e,P,T.customizable,null,{productName:T.dname,productImage:H,productPrice:Object(b.Ec)(F[0],null===j||void 0===j?void 0:j.currencyConversionFactor)},x),children:Object(C.jsxs)("div",{className:X?"small-menu-product-header":"medium-menu-product-header",children:[k,Object(C.jsxs)("div",{className:X?"small-price-and-KJ-info":"Price-and-KJ-info",children:[Object(C.jsxs)("div",{className:X?"small-menu-price-and-KJ":"medium-menu-price-and-KJ",children:[null===T||void 0===T||null===(s=T.content)||void 0===s?void 0:s.caloricValue," ",null===j||void 0===j?void 0:j.kilojoule,"\xa0\xa0",Object(h.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SERVES)," ",null===T||void 0===T||null===(u=T.content)||void 0===u?void 0:u.serves]}),Object(C.jsx)("div",{className:"medium-menu-vegOrNonVeg cartItem-serves"})]}),Object(C.jsx)("div",{className:"medium-menu-product-price",children:Object(C.jsxs)("span",{children:[M,Object(b.Ec)(F[0],w)]})})]})})]})})},y=e=>{var t,o,l;let{recommendRules:n,storeClosedData:d}=e;n=null===(t=n)||void 0===t?void 0:t.filter((e=>void 0!==e.name));const c=Object(v.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),s=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[u,m]=Object(a.useState)(0),[O,j]=Object(a.useState)(0),[p,h]=Object(a.useState)(x),[g,I]=Object(a.useState)(Object(b.de)(window.innerWidth));Object(a.useEffect)((()=>{window.addEventListener("resize",E)}),[g]);const S=i.a.useRef(null),E=()=>{const e=Object(b.de)(window.innerWidth);I(e)};Object(a.useEffect)((()=>{if(S.current){var e,t,o,a;const i=null===(e=S.current)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.breakpoint,l=null===(o=S.current)||void 0===o||null===(a=o.props)||void 0===a?void 0:a.responsive;h(Object(b.Rc)(i,l))}}),[null===(o=S.current)||void 0===o||null===(l=o.state)||void 0===l?void 0:l.breakpoint]);return Object(C.jsxs)("div",{className:"cart-recomendations-list-container-root recommendedCard-list",children:[Object(C.jsx)("div",{className:"cart-recomendations-list-container recommendedCarousal-list",children:n.length&&Object(C.jsx)(r.b,{settings:D((()=>(u>0&&(m(u-f),S.current.slickGoTo(u-f)),Object(N.a)(u-f),!0)),(()=>{if(u<n.length-1){let e=0;e=u+f>n.length-p-1?n.length-p:u+f,Object(N.a)(e),m(e),S.current.slickGoTo(e)}return!0}),m,j,p),carousalRef:S,children:n.map(((e,t)=>Object(C.jsx)(A,{tenantData:c,storeClosedData:d,item:e,userParams:s,index:t})))})}),!g&&n.length>p&&Object(C.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(C.jsx)("input",{type:"range","data-testid":"range-input",value:O,id:"myRange",onChange:e=>{j(e.target.value),S.current.slickGoTo(e.target.value),Object(N.a)(e.target.value)},min:"0",max:n.length-p,className:"cart-recomendations-slider"})})]})};t.default=e=>{var t;let{storeClosedData:o,recommendedProducts:a}=e;const i=null===a||void 0===a||null===(t=a.filter)||void 0===t?void 0:t.call(a,(e=>!e.isHidden));return Boolean(null===i||void 0===i?void 0:i.length)&&Object(C.jsx)("div",{className:"recommended-container pdp-recommendations recommended-container-empty-cart",children:Object(C.jsxs)("div",{className:"recommendedCard-container recommendedCard-container-au",children:[Object(C.jsx)("div",{className:"recommendedContainerHeader-items",children:Object(C.jsx)("div",{className:"recommendedContainer-header cart-recomendations-title",children:Object(C.jsx)("span",{className:"main-header",children:Object(h.translateWithI18Next)(d.a.EMPTY_CART.SUGGESTION_TEXT)})})}),Object(C.jsx)(y,{recommendRules:i,storeClosedData:o})]})})}}}]);