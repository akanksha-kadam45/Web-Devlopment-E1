(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[51,2,6,8,112,137,145],{1046:function(e,t,i){"use strict";i.r(t);var a=i(3),o=i.n(a),l=i(115),n=i(422),d=i(28),s=i(1113),r=i(1119),c=i(41),u=i(15),v=i(5),m=i(6),O=i(406),b=i(1109),j=i(0),p=i(63),h=i(2);var g=e=>{let{currentMenu:t,updateMenu:i,history:o}=e;const l=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),[n,s]=Object(a.useState)(Object(v.de)(window.innerWidth)),r=()=>{localStorage.removeItem(j.gd.ADD_TO_ORDER),localStorage.removeItem(null===j.gd||void 0===j.gd?void 0:j.gd.DISPOSITION_NEW),Object(b.d)(null===l||void 0===l?void 0:l.id),p.a.getInstance().logout(),Object(v.Ye)({history:o})},{Strips:g,Arrow:N}=u.a;Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.de)(window.innerWidth);s(e)}))}),[n]);const{ORDER_HISTORY_TAG:I,MY_FAV_MENU:S,ADDRESS:T,ACCOUNT_SETTING:E,SIGN_OUT:f}=O.d;return n?Object(h.jsxs)("div",{className:"account-mobile-container",children:[Object(h.jsx)("div",{className:"account-mobile-header",children:Object(h.jsxs)("div",{className:"account-header-container",children:[Object(h.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"}),Object(h.jsx)("h4",{className:"account-header",children:Object(m.translateWithI18Next)("Good ".concat(Object(v.ec)()," ").concat(l.firstName||l.phone,"!"))}),Object(h.jsx)(c.a,{className:"button transparent-btn white-border sign-out-btn","data-id":j.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"aria-label":"",onClickHandler:r,type:"submit",children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(f)})})]})}),Object(h.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(h.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:()=>i(I),class:"account-accordian",children:Object(h.jsx)("div",{class:"global-accordian-container",children:Object(h.jsxs)("div",{class:"global-accordian-header-container",children:[Object(h.jsx)("span",{class:"global-accordian-header",children:Object(m.translateWithI18Next)(I)}),Object(h.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"})]})})}),Object(h.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:()=>i(S),class:"account-accordian",children:Object(h.jsx)("div",{class:"global-accordian-container",children:Object(h.jsxs)("div",{class:"global-accordian-header-container",children:[Object(h.jsx)("span",{class:"global-accordian-header",children:Object(m.translateWithI18Next)(S)}),Object(h.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"})]})})}),Object(h.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:()=>i(T),class:"account-accordian",children:Object(h.jsx)("div",{class:"global-accordian-container",children:Object(h.jsxs)("div",{class:"global-accordian-header-container",children:[Object(h.jsx)("span",{class:"global-accordian-header",children:Object(m.translateWithI18Next)(T)}),Object(h.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"})]})})}),Object(h.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:()=>i(E),class:"account-accordian",children:Object(h.jsx)("div",{class:"global-accordian-container",children:Object(h.jsxs)("div",{class:"global-accordian-header-container",children:[Object(h.jsx)("span",{class:"global-accordian-header",children:Object(m.translateWithI18Next)(E)}),Object(h.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"})]})})})]})]}):Object(h.jsxs)("div",{className:"account-header-container",children:[Object(h.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"}),Object(h.jsx)("h4",{className:"account-header account-profile-name","data-testid":"account-profile-name-testid",children:Object(m.translateWithI18Next)("".concat(Object(m.translateWithI18Next)("greetingGood")," ").concat(Object(v.ec)()," ").concat(l.firstName||Object(m.translateWithI18Next)("kfcLover"),"!"))}),Object(h.jsxs)("div",{className:"account-menu-container",children:[Object(h.jsx)("div",{"data-testid":"order-history-testid",className:Object(v.ad)(t===I,"activeMenu account-menu","account-menu"),onClick:()=>i(I),children:Object(m.translateWithI18Next)(I)}),Object(h.jsx)("div",{className:Object(v.ad)(t===S,"activeMenu account-menu","account-menu"),onClick:()=>i(S),"data-testid":"fav-menu-link",children:Object(m.translateWithI18Next)(S)}),Object(h.jsx)("div",{"data-testid":"saved-address-testid",className:Object(v.ad)(t===T,"activeMenu account-menu","account-menu"),onClick:()=>i(T),children:Object(m.translateWithI18Next)(T)}),Object(h.jsx)("div",{"data-testid":"account-settings-testid",className:Object(v.ad)(t===E,"activeMenu account-menu","account-menu"),onClick:()=>i(E),children:Object(m.translateWithI18Next)(E)})]}),Object(h.jsx)(c.a,{"data-id":j.qb.HEADER_SIGN_IN_ATTR_DATA_ID,className:"button transparent-btn white-border sign-out-btn","aria-label":"",type:"submit",children:Object(h.jsx)("span",{"data-testid":"signout-button-testid",onClick:r,children:Object(m.translateWithI18Next)(f)})})]})},N=i(499),I=i(500),S=i(501),T=i(502),E=i(12),f=i(265);var x=e=>{const{onClickHandler:t,isDarkMode:i=!1,dataTestId:l,cardInfo:n={},title:d,occassionTime:s,onEditOccasionName:r,itemId:c,itemName:b,favouriteOrders:p=[],tenantData:g={}}=e,{ScheduledIcon:x,Reload:C}=u.a,{AT:D,REFUND_INIT:y,SCHEDULE:A,REFUND_INIT_TEXT:_,EDIT_ITEM_TEXT:R,TODAY_AT:L,CANCELLED:P,DELIVERED:w,PICK_UP:k}=O.d,{id:M="",fulfillmentDateTime:F="",service:H="",status:U="",fulfillmentDateTime:W=""}=Object(v.sd)(n),{pastOrderDateformat:B="",pastOrderTimeFormat:G=""}=g;let Y={};Y=p.length>0&&p.find((e=>e.id===M))||{};const V=Object.keys(Y).length>0?Y.name:"".concat("pickup"===H&&k||H," ").concat(Object(m.translateWithI18Next)("order")),K=Object(E.C)(F,B),q=Object(E.C)(W,B),z=("".concat(Object(E.C)(F,B),"  ").concat(Object(m.translateWithI18Next)(D)),Object(E.h)(new Date,B));let J="".concat(q," ").concat(Object(m.translateWithI18Next)(D)," ");Object(E.h)(Object(E.M)(F),G);const Q=Object(E.J)(W);q===z&&(J=Object(m.translateWithI18Next)(A)+" for "+Object(m.translateWithI18Next)(L));const[X,Z]=Object(a.useState)(!1),$=e=>{Z(!X),t&&!X&&t(e,M)},ee=Q&&(K===z||q===z),te=e=>"".concat(Object(E.C)(e,j.Qe.LL)," ").concat(Object(m.translateWithI18Next)(D)," ").concat(Object(E.C)(e,j.Qe.hh_mm_a));return Object(h.jsxs)("div",{className:"global-accordian-container ".concat(X?"account-accordian-open":""),children:[Object(h.jsxs)("div",{className:"global-accordian-header-container",children:[Object(h.jsxs)("span",{className:"global-accordian-header",children:[U===y&&!d&&Object(h.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(h.jsx)("img",{src:C,className:"account-icon",alt:"Account Icon"}),Object(h.jsx)("span",{className:"order-status",children:Object(m.translateWithI18Next)(_)})]}),ee&&(ie=U,ie!==P&&ie!==w)?Object(h.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(h.jsx)("img",{src:x,className:"account-icon",alt:"Account Icon"}),Object(h.jsx)("span",{className:"order-status",children:Object(m.translateWithI18Next)(A)})]}):null,d?Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)("span",{className:"order-accordian-heading",children:d}),Object(h.jsx)("span",{className:"edit-occasion-link",onClick:()=>r(c,b),children:Object(m.translateWithI18Next)(R)})]}):Object(h.jsx)("span",{className:"order-accordian-heading",children:V})]}),Object(h.jsxs)("div",{className:"global-accordian-right",children:[Object(f.k)(n.status)?Object(h.jsxs)("span",{className:"order-time red-status",children:[Object(m.translateWithI18Next)("canceled")," : ",te(n.statusUpdatedDate)]}):s?Object(h.jsx)("span",{className:"order-time",children:s}):Object(h.jsx)("span",{className:"order-time",children:te(n.fulfillmentDateTime)}),i?Object(h.jsx)("img",{src:X&&T.a||S.a,onClick:$,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:"Accordian Handle"}):Object(h.jsx)("img",{src:X&&I.a||N.a,onClick:$,className:"global-accordian-arrow","data-testid":l,alt:"Global Accordian"})]})]}),X&&Object(h.jsx)("div",{className:"global-accordian-content",children:e.children})]});var ie},C=i(114),D=i.n(C),y=i(144),A=i(1262),_=i(332),R=i(91);var L=e=>{const t=Object(d.b)(),{onCancel:i,cardInfo:o,tenantData:l}=e,{tenantId:n}=l,[s,r]=Object(a.useState)([]),[u,v]=Object(a.useState)(!1),[b,j]=Object(a.useState)(!1),{customerInfo:p}=Object(d.c)((e=>({customerInfo:e.profileReducer||{}}))),{customerId:g,basic:{phone:N=""}={},favouriteOrders:I=[]}=p||{},{CANCEL:S,SAVE:T,OCCASSOIN_HEADING:E,OREDER_PLACEHOLDER:f,NAME_EXIST:x,OCCASION_NAME_VALIDATION:C}=O.d;Object(a.useEffect)((()=>{const e=[];I.map((t=>{var i;return e.push(null===(i=t.name.toUpperCase())||void 0===i?void 0:i.trim())})),r(e)}),[]);const[D,y]=Object(a.useState)("");return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"InputHeading",children:Object(m.translateWithI18Next)(E)}),Object(h.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(h.jsx)("input",{value:D,type:"tel","data-testid":"occasion-input",className:"occasion-input-box",placeholder:Object(m.translateWithI18Next)(f),maxlength:"11",required:!0,onChange:e=>(e=>{y(e.target.value),j(!1),v(!1)})(e)}),u&&Object(h.jsx)("span",{className:"error-text",children:Object(m.translateWithI18Next)(x)}),b&&Object(h.jsx)("span",{className:"error-text",children:Object(m.translateWithI18Next)(C)})]}),Object(h.jsxs)("div",{className:"buttonItems",children:[Object(h.jsx)(c.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>i(),children:Object(m.translateWithI18Next)(S)}),Object(h.jsx)(c.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>{let e=null===D||void 0===D?void 0:D.trim();const a=s.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),l=R.c.test(D);let d=e.replace(/ /g,"").length;if(!l||0===d||d<=2)j(!0);else if(l&&a>=0)v(!0),j(!1);else{const{id:e}=o;t(Object(_.a)({customerId:g,tenantId:n,phoneNumber:N},{orderId:e,name:D})),i()}},children:Object(m.translateWithI18Next)(T)})]})]})},P=i(1272),w=i(1285),k=i(35),M=i(171),F=i(1104),H=i(419),U=i.n(H),W=i(42),B=i.n(W),G=i(24),Y=i(55),V=i(1207),K=i(62);var q=e=>{const{isMobile:t,cardInfo:i,tenantData:o,customerId:l,orderItemArray:n,isGetOrdersLoading:s}=e,r=n.find((e=>e.id===i.id)),[b,p]=Object(a.useState)(!1),[g,N]=Object(a.useState)(!1),{REORDER_TEXT:I,ADD_TO_OCCASION:S,VIEW_RECEIPT:T,ACCOUNT_ORDERS:E,TRACK_ORDER:f}=O.d,x=Object(d.c)((e=>e.cartReducer)),C=Object(d.c)((e=>e.tenantReducer)),[D,_]=Object(a.useState)(!1),[R,H]=Object(a.useState)(!1),[W,q]=Object(a.useState)({}),{cartData:z={}}=x,{tenantId:J,currencyConversionFactor:Q}=C,X=Object(d.b)(),Z=Object(K.g)(),$=Object(d.c)((e=>e.appStateReducer.userStatus)),ee={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:b,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>p(!1),modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},te=Object(h.jsx)(y.a,{...ee,children:Object(h.jsx)("div",{className:"ReceiptModal",children:Object(a.createElement)(A.a,{...e,key:"receipt-".concat(i.id),orderItem:r})})}),ie={id:"OccassionModal",role:"dialog",modalTitleId:"OccassionModal",show:g,classNames:"Base-modal ".concat(Object(v.ad)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>N(!1),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ae=Object(h.jsx)(y.a,{...ie,children:Object(h.jsx)("div",{className:"OccassionModal",children:Object(h.jsx)(L,{onCancel:()=>N(!1),cardInfo:i,tenantData:o,customerId:l})})}),{foodLines:oe=[]}=Object(v.sd)(z),le=()=>{oe.length>0?_(!0):(X(Object(k.r)()),H(!0))},ne=e=>{const t=U()(B()(e,"response",{}),{}),{id:i}=Object(v.sd)(r);q(t),X(Object(M.f)({tenantId:J,orderId:i,customerId:l},le))},{ReorderIcon:de}=u.a;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(h.jsxs)("span",{className:"global-accordian-header mobile-accordian-header",children:[Object(h.jsx)("span",{className:r?"order-receipt-option":"order-receipt-Disable-option","data-testid":"view-receipt",onClick:()=>p(!0),children:Object(m.translateWithI18Next)(T)}),Object(h.jsx)("span",{className:"order-ocasion-option","data-testid":"view-occasion-modal",onClick:()=>N(!0),children:Object(m.translateWithI18Next)(S)})]}),Object(h.jsxs)("div",{className:Object(V.g)(r)||Object(V.i)(r)?"global-accordian-right":"btn-algn global-accordian-right",children:[Object(V.n)(r)&&new Date(1e3*(null===r||void 0===r?void 0:r.fulfillmentDateTime)).getTime()>=(new Date).getTime()&&Object(h.jsxs)(c.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(()=>{const e=Object(v.sd)(r);sessionStorage.setItem(j.gd.ORDER_TRACKING,JSON.stringify(Object(V.w)(J,e))),Object(P.a)((null===e||void 0===e?void 0:e.total)/Q),Object(v.ff)({history:Z})})()},"data-testid":"track-order-btn",children:[Object(h.jsx)("img",{alt:"account-icon",src:de,className:"account-icon"}),Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(f)})]}),Object(h.jsxs)(c.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(()=>{if(s)return;(null===$||void 0===$||!$.localized)&&Object(Y.o)();const{store:e={},service:t=""}=Object(v.sd)(r),{storeId:i=""}=Object(v.sd)(e),a=[{storeId:i,channel:G.b.channel,service:t}];X(Object(F.a)(a,J,ne)),sessionStorage.setItem("reorderClick",!0)})(),localStorage.setItem(j.lb,E)},"data-testid":"re-order-btn",children:[Object(h.jsx)("img",{alt:"account-icon",src:de,className:"account-icon"}),Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(I)})]})]})]}),b&&r&&te,g&&ae,Object(v.qd)(D,R)&&Object(h.jsx)(w.a,{storeInfo:W,currentOrderInfo:i,reorderModalOpen:D,setReorderModalOpen:_,isQuickReorderModalOpen:R,setQuickReorderModalOpen:H})]})},z=i(4),J=i(46),Q=i(1102),X=i.n(Q),Z=i(145);var $=e=>{const t=Object(K.g)(),{cardInfo:i,tenantData:a,orderItemArray:o,favouriteItems:l,customerId:n}=e,{tenantId:s,currencySymbol:r,currencyConversionFactor:O,addHope:b,carryBag:j}=a,{id:p}=i,g=o.find((e=>e.id===p))||{},{foodLines:N=[]}=g;let I=Object(v.Tb)(N,b,j);const{heartIcon_active_red:S,Favourite:T}=u.a,E=Object(d.b)();return Object(h.jsxs)(h.Fragment,{children:[Object(f.k)(i.status)&&Object(h.jsxs)("div",{class:"order-cancelled-msg",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("b",{children:[Object(m.translateWithI18Next)("cashOnDelivery")," "]})," ",Object(m.translateWithI18Next)(z.a.CASH_ON_DELIVERY_MSG)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:Object(m.translateWithI18Next)(z.a.ONLINE_PAYMENT)}),Object(h.jsxs)("span",{children:[" ",Object(m.translateWithI18Next)(z.a.ONLINE_PAYMENT_MSG)]})]}),Object(h.jsx)("div",{class:"order-cancelled-help-button",children:Object(h.jsx)(c.a,{className:"button transparent-btn","aria-label":"",onClickHandler:()=>{t.push("/help")},children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)("getHelp")})})})]}),I.map((e=>{const{item:t}=e,{mdmId:i,unitPrice:o}=t,d=X()(l,{mdmId:i});return Object(h.jsxs)("div",{className:"global-accordian-header-container order-section",children:[Object(h.jsx)("span",{className:"global-accordian-header mobile-order-details-section",children:Object(h.jsx)(J.a,{className:"order-item-img",defaultPath:Object(v.bc)(null,a,!0),srcFile:Object(v.bc)(t.imageName,a)})}),Object(h.jsxs)("span",{className:"product-details-section",children:[Object(h.jsxs)("span",{className:"product-title",children:[t.quantity,"x ",t.name]}),Object(h.jsx)("span",{className:"product-desc",children:(u=t,B()(u,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>"".concat(e.quantity,"x ").concat(e.name))).join())}),Object(h.jsxs)("span",{className:"product-price",children:[r,(c=o,(c/O).toFixed(2))]})]}),Object(h.jsx)("div",{className:"global-accordian-right","data-testid":"favourite-btn",onClick:()=>((e,t,i)=>{const{mdmId:a,id:o,name:l,imageName:d,longDescription:r,quantity:c,customizable:u,customProperties:v}=e;E(t?Object(Z.b)({customerId:n,tenantId:s,itemId:o}):Object(Z.a)({customerId:n,tenantId:s},{mdmId:a,id:o,name:l,imageName:d,description:r,quantity:c,isCustomized:u,price:(null===i||void 0===i?void 0:i.unitPrice)/O,additionalProperties:v}))})(t,d,e),children:Object(h.jsx)("img",{src:d?S:T,className:"account-icon",alt:"Account Icon"})})]});var c,u}))]})},ee=i(123),te=i(1230),ie=i(498),ae=i(122),oe=i(271),le=i(71),ne=i(334),de=i(414);const{phoneImg:se,Direction:re}=u.a;let ce=0;const ue=(e,t,i)=>{let a={...e},o=a.errorMessage;var l;return a.value=t,t?(l=t,ie.a.EMAIL_REGEX.test(l)?(ce=0,a.error=!1,a.errorMessage=""):(a.error=!0,a.errorMessage=Object(m.translateWithI18Next)("invalidYourEmailErrText"),i(!0))):(a.error=!0,a.errorMessage=Object(m.translateWithI18Next)("yourEmailHelpText"),i(!0)),o!==a.errorMessage&&(ce=0),a.error&&0===ce&&(ce=1,Object(v.Ob)("OrderLookup",a.errorMessage)),a},ve=(e,t,i,a)=>{var o,l;return(null===e||void 0===e||null===(o=e.discountLines)||void 0===o?void 0:o.length)>0&&Object(h.jsxs)("div",{className:"priceList",children:[Object(h.jsxs)("span",{className:"fonts",children:[Object(m.translateWithI18Next)(a)," (",null===e||void 0===e||null===(l=e.discountLines[0])||void 0===l?void 0:l.couponCode,")"]}),Object(h.jsxs)("span",{className:"amount",children:[" ","- ",t,i]})]})};var me=e=>{var t,i,o,l;const{isOpen:n=!1,handleClose:s}=e,r=Object(d.b)(),u=Object(d.c)((e=>e.tenantReducer)),{tenantId:O,currencySymbol:b,currencyConversionFactor:j,addHope:p,carryBag:g,showCustomDeliveryFee:N}=u,[I,S]=Object(a.useState)(Object(v.de)(window.innerWidth)),[T,f]=Object(a.useState)(""),[x,C]=Object(a.useState)(0),[D,A]=Object(a.useState)([]),[_,R]=Object(a.useState)([]),[L,P]=Object(a.useState)(0),[w,k]=Object(a.useState)(""),[M,F]=Object(a.useState)(""),[H,U]=Object(a.useState)(!1),[W,B]=Object(a.useState)(!1),[G,Y]=Object(a.useState)(!1),[V,K]=Object(a.useState)({}),[q,J]=Object(a.useState)(!0),[Q,X]=Object(a.useState)(""),[Z,$]=Object(a.useState)(""),[ce,me]=Object(a.useState)(""),[Oe,be]=Object(a.useState)(0),[je,pe]=Object(a.useState)(0),[he,ge]=Object(a.useState)([]),[Ne,Ie]=Object(a.useState)({value:"",errorMessage:"",error:!1}),[Se,Te]=Object(a.useState)({value:"",errorMessage:"",error:!1}),[Ee,fe]=Object(a.useState)({value:"",errorMessage:"",error:!1}),{PHONE_NUM:xe,ORDER_NUMBER:Ce,CANCEL:De,SUBMIT:ye,ORDERHASH:Ae,YOUR_ORDER:_e,DELIVER_TO:Re,ORDER_FROM:Le,GET_DIRECTION:Pe,DISCOUNT:we,TOTAL:ke,COMPLETED:Me,SUB_TOTAL:Fe,PAYMENT:He,ORDER_LOOKUP:Ue,EMAIL_ADDRESS:We,DELIVERY:Be,SEARCH_IN_CART:Ge,largeCarryBagText:Ye,addHopeText:Ve}=ie.a;Object(a.useEffect)((()=>(window.addEventListener("resize",Ke),()=>{window.removeEventListener("resize",Ke)})),[I]);const Ke=()=>{S(Object(v.de)(window.innerWidth))};Object(a.useEffect)((()=>{r(Object(oe.a)({object:Object(le.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(a.useEffect)((()=>{""===Ne.value||Ne.error||""===Se.value||Se.error||""===Ee.value||Ee.error||J(!1)})),Object(a.useEffect)((()=>{""===Ee.value.trim()&&J(!0)}),[null===Ee||void 0===Ee?void 0:Ee.value]);const{tendersContent:qe}=Object(d.c)((e=>e.paymentsContentReducer)),{items:ze}=qe,Je=e=>(e/j).toFixed(2);Object(a.useEffect)((()=>r(Object(ee.a)({emailId:Ne.value,phoneNo:Se.value,orderNo:Ee.value}))),[]);const Qe=Object(d.c)((e=>e.orderReducer)),{pastOrderResponse:Xe=[{}]}=Qe,Ze=Xe[0];Object(a.useEffect)((()=>{Object(v.hb)(null===ze||void 0===ze?void 0:ze.length,null===Ze||void 0===Ze?void 0:Ze.paymentReferences)&&ze.forEach((e=>{e.fields.title===Ze.paymentReferences[0].paymentType&&K(e)}))}),[Ze]),Object(a.useEffect)((()=>{if(null!==Ze&&void 0!==Ze&&Ze.id){U(!1),Y(!0);const e=Ze.fulfillmentDateTime,t=Object(E.h)(Object(E.M)(e),"ll"),i=Object(E.h)(Object(E.M)(e),"h:mm A");if(f(t+" at "+i),A(Ze.taxLines),R(Ze.additionalChargeLines),P(Je(Ze.discountTotal)),F(function(e){e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Ze.store.phoneNumber)),C(Je(Ze.subTotal)),k(Je(Ze.total)),X(Ze.service),Object(v.hb)(p,g)){((e,t,i,a,o,l,n)=>{const{setAddHopeDataExistsId:d,setAddHopeDataPrice:s}=o,{setCarryBagDataExistsId:r,setCarryBagDataPrice:c}=l,{currencyConversionFactor:u}=n;let m=e.foodLines.length?Object(v.eb)(e.foodLines,t,u,a):{},O=Object(v.ud)(null===m||void 0===m?void 0:m.id);if(d(O),O){let t=e.foodLines.find((e=>e.id===O));s(Object(ne.a)(t.amount,n))}let b=e.foodLines.length?Object(v.rb)(e.foodLines,i,u,a):{},j=Object(v.ud)(null===b||void 0===b?void 0:b.id);if(r(j),j){let t=e.foodLines.find((e=>e.id===j));c(Object(ne.a)(t.amount,n))}})(Ze,p,g,Ge,{setAddHopeDataExistsId:me,setAddHopeDataPrice:be},{setCarryBagDataExistsId:$,setCarryBagDataPrice:pe},u);let e=((e,t,i)=>e.filter((e=>{var a,o;return(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.name)!==t&&(null===(o=e.item)||void 0===o?void 0:o.name)!==i})))(Ze.foodLines,p,g);ge(e)}}else Ze||(Y(!1),U(!0),Object(v.Ob)("OrderLookup",Object(m.translateWithI18Next)("invaidInputs")),J(!0))}),[Xe]);const $e=I?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:n,classNames:Object(v.ad)(G,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:s,autoFocus:!0,modalTitle:Object(m.translateWithI18Next)(Ue),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:n,classNames:Object(v.ad)(G,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};const et=(e,t)=>{U(!1);let i=e.target.value;if(Object(v.Ie)(i,t)){let e=i.replace(/\+|-/gi,"");Te({...Object(v.If)(Se,e,J)})}t===We&&Ie({...ue(Ne,i,J)}),t===Ce&&fe({...Object(v.Kf)(Ee,i,J)})},tt=Object(h.jsxs)("div",{className:"priceList",children:[Object(h.jsx)("span",{className:"fonts",children:"GST"}),Object(h.jsxs)("span",{className:"amount",children:[b,Je(null===Ze||void 0===Ze?void 0:Ze.inclusiveTaxTotal)," "]})]}),it=null===_||void 0===_||null===(t=_.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===t?void 0:t.map((function(e,t){return Object(h.jsxs)("div",{className:"priceList",children:[Object(h.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(h.jsxs)("span",{className:"amount",children:[b,Je.call(this,e.amount)," "]})]},t)})),at=Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"InputArea",children:[Object(h.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(h.jsxs)("div",{className:"inputLookUpNumbox",children:[!I&&Object(h.jsx)("p",{className:"lookup-mandatory-note",children:Object(m.translateWithI18Next)("mandatorynote")}),Object(h.jsx)(ae.a,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Se.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(m.translateWithI18Next)(xe),onChange:e=>et(e,xe),helperText:Se.errorMessage,error:Se.error}),Object(h.jsx)(ae.a,{"data-testid":"user-orderId",autoComplete:"off",value:Ee.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(m.translateWithI18Next)(Ce),onChange:e=>et(e,Ce),helperText:Ee.errorMessage,error:Ee.error}),Object(h.jsx)(ae.a,{"data-testid":"user-email",autoComplete:"on",value:Ne.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(m.translateWithI18Next)(We),onChange:e=>et(e,We),helperText:Ne.errorMessage,error:Ne.error})]}),H&&Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"exMark",children:"!"}),Object(h.jsx)("span",{className:"errorMessage",children:Object(m.translateWithI18Next)("invaidInputs")})]})]}),Object(h.jsxs)("div",{className:"buttonItems",children:[Object(h.jsx)(c.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>lt(),children:De}),Object(h.jsx)(c.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:e=>ot(e),disabled:q,children:ye})]})]}),ot=e=>{""!==Object(v.hb)(Ne.value,Object(v.hb)(Se.value,Ee.value))&&r(Object(ee.d)({emailId:Ne.value,phoneNo:Se.value,orderNo:Ee.value,tenantId:O}))},lt=()=>{Y(!1),s(),r(Object(ee.a)({emailId:Ne.value,phoneNo:Se.value,orderNo:Ee.value}))};const nt="tel:"+(null===Ze||void 0===Ze||null===(i=Ze.store)||void 0===i?void 0:i.phoneNumber);return Object(h.jsxs)("div",{children:[n&&!G&&Object(h.jsx)(y.a,{...$e,children:Object(h.jsx)("div",{className:"LookUpmodalContants",children:at})}),n&&G&&Ze&&Object(h.jsx)(y.a,{...$e,children:Object(h.jsx)("div",{className:"LookUpmodalContants",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"orderLookUpData",children:[Object(h.jsxs)("div",{className:"Orderheading",children:[Object(h.jsx)("span",{className:"yourOrder",children:_e}),Object(h.jsxs)("span",{className:"idNumber",children:[Ae,Ze.posOrderId]})]}),Object(h.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(h.jsx)("span",{className:"completed",children:Me}),Object(h.jsx)("span",{className:"dateCompleted",children:T})]}),Object(v.rf)(null===Ze||void 0===Ze?void 0:Ze.service)===Be&&null!==(null===Ze||void 0===Ze?void 0:Ze.deliveryAddress)&&Object(h.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(h.jsx)("span",{className:"completed",children:Re}),Object(h.jsx)("span",{className:"dateCompleted",children:Object(v.a)(null===Ze||void 0===Ze?void 0:Ze.deliveryAddress)})]}),Object(h.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(h.jsx)("span",{className:"completed",children:He}),Object(h.jsx)("span",{className:"dateCompleted",children:"Only image"===V.fields.displayFormat?Object(h.jsx)("img",{src:V.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(h.jsx)("span",{className:"dateCompleted",children:V.fields.displayName})})]}),Object(h.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(h.jsxs)("span",{className:"completed",children:[" ",Le]}),null!==Ze.store&&void 0!==Ze.store&&Object(h.jsxs)("span",{className:"dateCompleted",children:[Ze.store.name,Object(h.jsx)("br",{}),null===Ze||void 0===Ze||null===(o=Ze.store)||void 0===o||null===(l=o.address)||void 0===l?void 0:l.addressLines]})]}),Object(h.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(h.jsx)("span",{children:" "}),Object(h.jsxs)("span",{className:"callAndDirection",children:[Object(h.jsxs)("span",{className:"KfcphoneNums",children:[Object(h.jsx)("img",{src:se,alt:"phone",className:"KfcphoneIcon"}),Object(h.jsx)("a",{href:nt,className:"anchorTags",children:M})]}),Object(h.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>{B(!0)},children:[Object(h.jsx)("img",{src:re,alt:"phone",className:"KfcDirectionIcon"}),Object(m.translateWithI18Next)(Pe)]})]})]}),Object(h.jsx)("div",{className:"detailsAccordian",children:Object(de.d)(he,b,j)}),Object(h.jsxs)("div",{className:"price",children:[Object(h.jsx)("span",{className:"fonts",children:Object(m.translateWithI18Next)(Fe)}),Object(h.jsxs)("span",{className:"amount",children:[b,x]})]}),D&&Object(h.jsx)("div",{children:tt}),N&&_&&(e=>{var t;return null===e||void 0===e||null===(t=e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))))||void 0===t?void 0:t.map(((e,t)=>Object(h.jsxs)("div",{className:"priceList",children:[Object(h.jsx)("span",{className:"fonts",children:Object(m.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.DELIVERY_FEE)}),Object(h.jsxs)("span",{className:"amount",children:[b,Je.call(void 0,e.amount)," "]})]},t)))})(_),N&&_&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(h.jsxs)("div",{className:"priceList",children:[Object(h.jsx)("span",{className:"fonts",children:Object(m.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.IN_DELIVERY_FEE)}),Object(h.jsxs)("span",{className:"amount","data-testid":"custom-delivery-fee-amount",children:[b,Je.call(void 0,t.amount)," "]})]})})(_),!N&&_&&Object(h.jsx)("div",{children:it}),ve(Ze,b,L,we),"PICKUP"===Q.toUpperCase()&&Z&&Object(h.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(h.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(m.translateWithI18Next)(Ye)}),Object(h.jsx)("span",{className:"amount",id:"amountStyle",children:je})]}),Boolean(ce)&&Object(h.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(h.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(m.translateWithI18Next)(Ve)}),Object(h.jsx)("span",{className:"amount",id:"amountStyle",children:Oe})]}),w&&Object(h.jsxs)("div",{className:"totalAmount",children:[Object(h.jsx)("span",{className:"total",children:ke}),Object(h.jsxs)("span",{className:"total",children:[b,w]})]})]}),Object(h.jsxs)("div",{className:"buttonItemsDone",children:[Object(h.jsx)(c.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:e=>{Y(!1)},children:Object(m.translateWithI18Next)("backButton")}),Object(h.jsx)(c.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:e=>lt(),children:Object(m.translateWithI18Next)("popoverDoneButton")})]})]})})}),W&&Object(h.jsx)("div",{children:Object(h.jsx)(te.a,{"data-testid":"map-modal",isOpen:W,handleClose:()=>B(!1),OrderReducerData:Ze})})]})};var Oe=e=>{let{renderSwitch:t,updateMenu:i}=e;const o=Object(K.g)(),{NO_ORDER_MSG:l,REFUND_MSG:n,HAVE_A_QUESTION:s,CONNECT_WITH_SPECIALIST:r,YOUR_PAST_ORDER:b,LOOKING_FOR_OFFER:j,ORDER_HISTORY_TAG:p,REFUND_INIT:g,GET_HELP:N,LOAD_MORE:I,VIEWED:S,OF:T,ORDER_LOOKUP:E,VIEW_MENU:f}=O.d,{Arrow:C}=u.a,{tenantData:y,orderHistoryInfo:A,orderInfo:R,customerInfo:L}=Object(d.c)((e=>({tenantData:e.tenantReducer||{},orderHistoryInfo:e.orderHistoryReducer||{},orderInfo:e.orderReducer||{},customerInfo:e.profileReducer||{}}))),[P,w]=Object(a.useState)(Object(v.de)(window.innerWidth));Object(a.useEffect)((()=>()=>{localStorage.removeItem("LoadMoreOrderHistory")}),[]),Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.de)(window.innerWidth);w(e)}))}),[P]);const k=Object(d.b)(),{tenantId:M}=y,{orderHistory:F}=A,{favouriteItems:H,customerId:U,favouriteOrders:W=[]}=L,{response:B,isGetOrdersLoading:G}=R,[Y,V]=Object(a.useState)([]),[z,J]=Object(a.useState)([]),[Q,X]=Object(a.useState)(!1),Z=()=>{const e=(e=>{const t=["01","02","03","04","05","06","07","08","09","10","11","12"],i=[],a=new Date,o=a.getMonth()+1;let l,n;for(let d=e;d>0;d-=1){l=new Date(a.getFullYear(),o-d,1),n=t[l.getMonth()];let e=a.getFullYear();n>o&&(e-=1),i.push({yearMonth:"".concat(e,"-").concat(n)})}return i})(12);k(Object(_.d)({customerId:U,tenantId:M},e))};Object(a.useEffect)((()=>{M&&Z()}),[M,U]),Object(a.useEffect)((()=>{const e=z.find((e=>e.id===B.id))||{};Object(v.Td)(e)||J([...z,B])}),[B]),Object(a.useEffect)((()=>{te(10)}),[F]);const te=e=>{if(F&&D()(F)){const t=null===F||void 0===F?void 0:F.sort(((e,t)=>t.orderDateTimeInEpoch-e.orderDateTimeInEpoch));V([...t].splice(0,e))}else V([])},ie=(e,t)=>{const i=z.find((e=>e.id===t))||{};Object(v.Td)(i)||k(Object(ee.c)({orderId:t,tenantId:M}));const a=e.target.parentElement.parentElement.parentElement;a.classList.contains("account-accordian-open")?a.classList.remove("account-accordian-open"):a.classList.add("account-accordian-open")},ae=()=>{o.push("/help")},oe=Object(h.jsxs)("div",{className:"global-accordian-header-container mobile-refund-section",children:[Object(h.jsx)("span",{className:"global-accordian-header",children:Object(h.jsx)("span",{className:"order-refund-msg",children:Object(m.translateWithI18Next)(n)})}),Object(h.jsx)("div",{className:"global-accordian-right",children:Object(h.jsx)(c.a,{className:"button transparent-btn","aria-label":"","data-testid":"get-Help-Btn",type:"submit",onClickHandler:ae,children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(N)})})})]}),le=Object(h.jsxs)("div",{className:"pageFooter",children:[Y.length>0&&F.length>Y.length&&F.length>10&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"load-more",children:Object(h.jsx)(c.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":"",onClickHandler:()=>te(F.length),children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(I)})})}),Object(h.jsx)("div",{className:"view-order-count",children:Object(h.jsx)("span",{children:"".concat(Object(m.translateWithI18Next)(S)," ").concat(Y.length," ").concat(Object(m.translateWithI18Next)(T)," ").concat(F.length)})})]}),Object(h.jsx)("hr",{className:"horizontal-bar"}),Object(h.jsxs)("div",{className:"get-help-section",children:[Object(h.jsxs)("div",{className:"footer-bootm-left",children:[Object(h.jsx)("span",{className:"have-a-question",children:Object(m.translateWithI18Next)(s)}),Object(h.jsx)("span",{className:"connect-specialist",children:Object(m.translateWithI18Next)(r)})]}),Object(h.jsx)("div",{children:Object(h.jsx)(c.a,{className:"button transparent-btn footer-btn","aria-label":"",onClickHandler:ae,children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(N)})})})]})]});return Object(h.jsxs)(h.Fragment,{children:[P&&Object(h.jsxs)("div",{className:"order-history-header",children:[Object(h.jsx)("img",{src:C,className:"back-icon",alt:"Back Icon","data-testid":"order-history-back-btn",data:!0,onClick:()=>{t(),i("")}}),Object(h.jsx)("span",{className:"page-heading",children:Object(m.translateWithI18Next)(p)})]}),Object(h.jsxs)("div",{className:"account-order-desktop",children:[Object(h.jsxs)("div",{className:"page-header",children:[Object(h.jsx)("span",{className:"page-heading",children:Object(m.translateWithI18Next)(p)}),Object(h.jsxs)("div",{className:"headingItemsRight",children:[Object(h.jsx)("span",{className:"heading-item-text",children:Object(m.translateWithI18Next)(j)}),Object(h.jsx)(c.a,{className:"button transparent-btn order-lookup","data-testid":"order-lookup-order-history",type:"submit",onClickHandler:()=>{k(Object(ee.a)({})),X(!0)},children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(E)})})]})]}),Y.length>0&&Object(h.jsxs)("div",{className:"sub-section",children:[Object(h.jsxs)("span",{className:"sub-heading-text",children:[Object(m.translateWithI18Next)(b)," (",F.length,")"]}),Object(h.jsx)("section",{children:Y.map(((e,t)=>Object(h.jsx)("section",{className:"account-accordian",children:Object(h.jsxs)(x,{onClickHandler:ie,cardInfo:e,dataTestId:"order-details-".concat(t),favouriteOrders:W,tenantData:y,children:[e.status===g&&oe,Object(h.jsxs)("section",{className:"account-accordian-details-section",children:[Object(h.jsx)("div",{className:"option-section",children:Object(h.jsx)($,{cardInfo:e,tenantData:y,orderItemArray:z,favouriteItems:H,customerId:U},t)}),Object(h.jsx)(q,{isMobile:P,orderItemArray:z,cardInfo:e,tenantData:y,customerId:U,isGetOrdersLoading:G},"Reorder-".concat(t))]})]})})))})]}),0===Y.length&&Object(h.jsx)("div",{className:"sub-section sub-section-no-order",children:Object(h.jsxs)("div",{className:"no-order",children:[Object(h.jsx)("span",{className:"no-order-msg",children:Object(m.translateWithI18Next)(l)}),Object(h.jsx)("div",{children:Object(h.jsx)(c.a,{className:"button transparent-btn view-menu-btn","aria-label":"","data-testid":"goto-menu-page-btn",onClickHandler:()=>{o.push("/menu")},children:Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(f)})})})]})}),le,Q&&Object(h.jsx)(me,{isOpen:!0,handleClose:()=>X(!1),tenantReducerData:y})]})]})},be=i(66);var je=e=>{var t,i;let{communicationPreferences:o,basicData:l,tenantId:n}=e;const{SAVE:s}=O.b,r=Object(d.c)((e=>e.marketConfigReducer.response||null)),[u,v]=Object(a.useState)([]),j=Object(d.b)();Object(a.useEffect)((()=>{var e,t,i;let a=[];null===r||void 0===r||null===(e=r.headerData)||void 0===e||null===(t=e.communicationPreferences)||void 0===t||t.forEach((e=>{var t,i,l;a.push({mainText:null===(t=e.fields)||void 0===t?void 0:t.value,subText:null===(i=e.fields)||void 0===i?void 0:i.subValue,checked:!(null===o||void 0===o||!o.find((t=>{var i;return t===(null===(i=e.fields)||void 0===i?void 0:i.code)}))),code:null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.code})})),(null===l||void 0===l||null===(i=l.marketingPreferences)||void 0===i?void 0:i.length)>0?v(a.map((e=>l.marketingPreferences.find((t=>t===e.code))?{...e,checked:!0}:e))):v(a)}),[null===r||void 0===r||null===(t=r.headerData)||void 0===t||null===(i=t.communicationPreferences)||void 0===i?void 0:i.length]);const p=e=>{const t=u.map((t=>t.code===e.target.value?{...t,checked:!t.checked}:t));v(t)};return Object(h.jsxs)("div",{className:"preferences-card",children:[Object(h.jsx)("div",{className:"preferences-card-left-side",children:Object(m.translateWithI18Next)(z.a.PREFERENCES_COMMUNICATION_PREFERENCES)}),Object(h.jsxs)("div",{className:"preferences-card-right-side",children:[Object(h.jsx)("p",{children:"Colonels Club"}),Object(h.jsx)("p",{children:"(member since 2016)"}),Object(h.jsx)("div",{className:"horizontal-line-club"}),Object(h.jsx)("div",{className:"preferences-container",children:Object(h.jsx)("ul",{className:"preferences-item",children:null===u||void 0===u?void 0:u.map((e=>Object(h.jsxs)("li",{className:"preferences-item-list",children:[Object(h.jsx)("input",{id:e.code,type:"checkbox",value:e.code,checked:e.checked,"data-testid":"communication-preferences-".concat(e.mainText,"-test"),onChange:p}),Object(h.jsxs)("div",{className:"preferences-text",children:[Object(h.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(h.jsx)("span",{className:"preference-subText",children:e.subText})]})]},e.code)))})}),Object(h.jsx)(c.a,{className:"save-account-button","data-testid":"save-communication-preferences",onClickHandler:()=>{let e=[];u.forEach((t=>{if(t.checked)return e.push(t.code)})),Object(b.e)(e),j(Object(be.g)({tenantId:n,customerId:null===l||void 0===l?void 0:l.id,phoneNumber:null===l||void 0===l?void 0:l.phone,body:{marketingPreferences:e}}))},children:Object(m.translateWithI18Next)(s)})]})]})},pe=i(263),he=i(1148),ge=i(80);const Ne=e=>{var t,i,l,n,s;let{handleClose:r,customerData:u,updateCustomerData:v,isLoading:b}=e;const{EDIT_PERSONAL_INFO:j,emailHelpText:p,phoneHelpText:g,firstNameHelpText:N,lastNameHelpText:I,SAVE:S,CANCEL:T,FIRST_NAME_TEXT:E,LAST_NAME_TEXT:f,EMAIL_TEXT:x,PHONE_NUMBER_TEXT:C}=O.a,D=Object(d.c)((e=>{var t,i,a;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t||null===(i=t.cartData)||void 0===i||null===(a=i.deliveryAddress)||void 0===a?void 0:a.pinCode})),[A,_]=Object(a.useState)({firstName:null===u||void 0===u?void 0:u.firstName,lastName:null===u||void 0===u?void 0:u.lastName,emailId:null===u||void 0===u?void 0:u.email,phoneNumber:null===u||void 0===u?void 0:u.phone,postalCode:D,user_id:u.id}),R=e=>{"phoneNumber"===e.target.name&&e.target.value.length>10||_({...A,[e.target.name]:e.target.value})};return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsx)(y.a,{classNames:"personal-information-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:r,modalTitleRequired:!0,modalTitle:Object(m.translateWithI18Next)(j),children:Object(h.jsxs)("div",{className:"personal-information-card",children:[Object(h.jsx)("p",{className:"personal-information-text",children:"PERSONAL INFORMATION"}),Object(h.jsx)(ae.a,{name:"firstName",placeholder:Object(m.translateWithI18Next)(E),value:null===A||void 0===A?void 0:A.firstName,inputClassName:"edit-info-input-class",onChange:R,error:(null===A||void 0===A||null===(t=A.firstName)||void 0===t?void 0:t.length)>0&&!Object(he.g)(null===A||void 0===A?void 0:A.firstName),helperText:Object(m.translateWithI18Next)(N),helperTextClassName:"error-text",maxlength:"20"}),Object(h.jsx)(ae.a,{name:"lastName",placeholder:Object(m.translateWithI18Next)(f),value:null===A||void 0===A?void 0:A.lastName,inputClassName:"edit-info-input-class",onChange:R,error:(null===A||void 0===A||null===(i=A.lastName)||void 0===i?void 0:i.length)>0&&!Object(he.g)(null===A||void 0===A?void 0:A.lastName),helperText:Object(m.translateWithI18Next)(I),helperTextClassName:"error-text",maxlength:"20"}),Object(h.jsx)(ae.a,{name:"emailId",type:"email",placeholder:Object(m.translateWithI18Next)(x),value:null===A||void 0===A?void 0:A.emailId,inputClassName:"edit-info-input-class",onChange:R,error:(null===A||void 0===A||null===(l=A.emailId)||void 0===l?void 0:l.length)>0&&!Object(he.f)(A.emailId),helperText:Object(m.translateWithI18Next)(p),helperTextClassName:"error-text",maxlength:"320"}),Object(h.jsx)(ae.a,{readOnly:(null===u||void 0===u||null===(n=u.phone)||void 0===n?void 0:n.length)>0,name:"phoneNumber","data-testid":"phone-number-testid",placeholder:Object(m.translateWithI18Next)(C),value:null===A||void 0===A?void 0:A.phoneNumber,inputClassName:"edit-info-input-class",onChange:R,error:(null===A||void 0===A||null===(s=A.phoneNumber)||void 0===s?void 0:s.length)>0&&!Object(he.i)(null===A||void 0===A?void 0:A.phoneNumber),helperText:Object(m.translateWithI18Next)(g),helperTextClassName:"error-text"}),Object(h.jsxs)("div",{className:"buttons-container",children:[Object(h.jsx)(c.a,{className:"buttons-group cancel",onClickHandler:r,children:Object(m.translateWithI18Next)(T)}),Object(h.jsx)(c.a,{className:"buttons-group save",disabled:b||!Object(he.c)({firstNameText:A.firstName,lastNameText:A.lastName,phoneNoText:A.phoneNumber,emailText:A.emailId}),"data-testid":"update-account-button-testid",onClickHandler:()=>v(A),children:Object(m.translateWithI18Next)(S)})]})]})})})};var Ie=e=>{let{basicData:t,isLoading:i}=e;const{PERSONAL_INFO_TEXT:o,EDIT:l}=O.a,[n,s]=Object(a.useState)(!1),r=Object(d.c)((e=>e.tenantReducer)),c=Object(d.c)((e=>e.profileReducer.customerId)),u=Object(d.c)(ge.b),j=()=>{s(!0)},p=Object(d.b)();return Object(a.useEffect)((()=>(null!==u&&void 0!==u&&u.accoundSetting&&j(),()=>{(null===u||void 0===u?void 0:u.accoundSetting)&&p(Object(ge.c)({key:null===z.a||void 0===z.a?void 0:z.a.ACCOUNT_SETTING}))})),[]),Object(h.jsxs)("div",{className:"personal-info-card",children:[Object(h.jsx)("div",{className:"personal-card-left-side",children:Object(m.translateWithI18Next)(o)}),Object(h.jsxs)("div",{className:"personal-card-right-side",children:[Object(h.jsx)("div",{className:"edit-input",children:Object(h.jsx)(pe.a,{"data-testid":"edit-account-button-testid",onClickHandler:j,children:Object(m.translateWithI18Next)(l)})}),Object(h.jsxs)("p",{children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(h.jsx)("p",{children:t.email}),Object(h.jsx)("p",{children:Object(v.bb)(null===t||void 0===t?void 0:t.phone)})]}),n&&Object(h.jsx)(Ne,{handleClose:()=>{s(!1)},isLoading:i,customerData:t,updateCustomerData:e=>{var t,i;Object(b.c)(e,null===r||void 0===r||null===(t=r.componentOptions)||void 0===t||null===(i=t.phoneNumberConstants)||void 0===i?void 0:i.phoneRegexPattern);const a={birthYear:null,birthDay:null,birthMonth:null,postalCode:(null===e||void 0===e?void 0:e.postalCode)||null};e.attributes=a,p(Object(be.i)({sucessCallback:()=>{return t=e,void p(Object(be.d)(t));var t},tenantId:null===r||void 0===r?void 0:r.tenantId,customerId:c,body:e})),s(!1)}})]})},Se=i(87);const Te=e=>{let{handleClose:t,deleteAccountCallback:i}=e;const{DELETE_ACCOUNT_TEXT:a,DELETE_ACCOUNT_MESSAGE:l,CANCEL:n,CONFIRM:d}=O.a;return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsx)(y.a,{classNames:"confirm-delete-account-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:t,modalTitleRequired:!1,children:Object(h.jsxs)("div",{className:"confirm-delete-account-content",children:[Object(h.jsx)("p",{className:"main-heading",children:Object(m.translateWithI18Next)(a)}),Object(h.jsx)("p",{className:"delete-account-text",children:Object(m.translateWithI18Next)(l)}),Object(h.jsxs)("div",{className:"buttons-container",children:[Object(h.jsx)(c.a,{className:"buttons-group cancel",onClickHandler:t,children:Object(m.translateWithI18Next)(n)}),Object(h.jsx)(c.a,{className:"buttons-group save",onClickHandler:i,"data-testid":"delete-account-confirm",children:Object(m.translateWithI18Next)(d)})]})]})})})};var Ee=e=>{let{updateMenu:t,history:i}=e;const{ACCOUNT_SETTINGS_TEXT:o,DELETE_ACCOUNT_TEXT:l}=O.a,{SingleArrowback:n}=u.a,[s,r]=Object(a.useState)(!1),j=Object(d.c)((e=>e.profileReducer||null)),g=Object(d.c)((e=>e.tenantReducer));return Object(h.jsxs)("div",{className:"account-settings-container",children:[Object(h.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(h.jsx)("img",{className:"backArrow-account-setting",onClick:()=>t(""),src:n,alt:"Back Arrow"}),Object(h.jsx)("span",{className:"account-setting-text-header",children:Object(m.translateWithI18Next)(o)})]}),Object(h.jsx)("p",{className:"account-setting-text-heading",children:Object(m.translateWithI18Next)(o)}),Object(h.jsx)(Ie,{basicData:null===j||void 0===j?void 0:j.basic,isLoading:null===j||void 0===j?void 0:j.isLoading}),Object(h.jsx)(je,{tenantId:null===g||void 0===g?void 0:g.tenantId,communicationPreferences:null===j||void 0===j?void 0:j.marketingPreferences,basicData:null===j||void 0===j?void 0:j.basic}),Object(h.jsx)(c.a,{"data-testid":"delete-button-testid",className:"delete-account-button",onClickHandler:()=>{r(!0),Object(Se.c)({popupTitle:Object(m.translateWithI18Next)(l)})},children:Object(m.translateWithI18Next)(l)}),s&&Object(h.jsx)(Te,{handleClose:()=>{r(!1)},deleteAccountCallback:()=>{Object(b.b)(null===j||void 0===j?void 0:j.customerId),p.a.getInstance().deleteAccount(),r(!1),Object(v.Ye)({history:i})}})]})},fe=i(59),xe=i(85);var Ce=e=>{var t;const{occassionOrder:i,checkProductAvailabity:l,additemToUnfavourite:n,addItemToFavourite:s,availableProductPrice:r,getPrice:c}=e,m=Object(d.c)((e=>e.tenantReducer||null)),{tenantId:O,currencySymbol:b,addHope:j,carryBag:p,currencyConversionFactor:g,componentOptions:{web:{global:{showPriceWithTax:N=!1}={}}={}}={}}=m,I=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||null})),S=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic.id)||null})),{flatResponse:{itemMapById:T={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[E,f]=Object(a.useState)([]),{heartIcon_inactive_red:x,heartIcon_activeFavourite:C,Error:D}=u.a,{items:y}=i;return Object(a.useEffect)((()=>{let e=y.filter((e=>(null===e||void 0===e?void 0:e.name)!==j&&(null===e||void 0===e?void 0:e.name)!==p));f(e)}),[i]),Object(h.jsx)(o.a.Fragment,{children:E.map(((e,t)=>{var i;const a=l(e.id),o=null===T||void 0===T?void 0:T[e.id],d=c(r(e.id)),u=c(e.priceWithTax)-d,j=Object(v.Ic)(null===o||void 0===o?void 0:o.availability[0].price,null===o||void 0===o?void 0:o.additionalProperties,g,N);return Object(h.jsx)("section",{className:a?"account-accordian-details-section":"account-accordian-details-section product-unavailable",children:Object(h.jsxs)("div",{className:"option-section option-section-fav-menu",children:[Object(h.jsx)(J.a,{className:"favourite-order-img",srcFile:Object(v.bc)(e.imageName,m),alt:"No-Image",defaultPath:Object(v.bc)(null,m,!0)}),Object(h.jsxs)("div",{className:"favourite-order-details",children:[Object(h.jsx)("span",{className:"order-item-name",children:e.name}),Object(h.jsx)("div",{className:"fav-order-details",children:e.modGroups&&e.modGroups.map((e=>Object(h.jsx)("span",{children:e&&e.modifiersDetails.map((e=>Object(h.jsxs)("span",{children:[" ",e.quantity,"x ",e.name]})))})))}),a&&Object(h.jsx)("div",{className:"occasion-item-price",children:0!==u?Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{className:"prev-price",children:[b,null===(i=c(e.price))||void 0===i?void 0:i.toFixed(2)]}),"  ",Object(h.jsxs)("span",{className:"new-current-price",children:[b,j]})]}):Object(h.jsxs)("span",{className:"current-price",children:[b,j]})}),!a&&Object(h.jsxs)("div",{className:"occasion-item-price-unavailable",children:[Object(h.jsx)("img",{src:D,alt:"Item Unavailable"})," ","Unavailable"]})]}),Object(h.jsx)("div",{className:"occasion-fav-item",children:Object(h.jsx)("img",{src:Array.isArray(I)&&I.find((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))?C:x,alt:"",className:"pdp-product-save","data-testid":"save-product-handler-".concat(t),onClick:()=>Array.isArray(I)&&I.find((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))?n(O,S,e.id):s(O,e,null===e||void 0===e?void 0:e.availability,S)})})]})})}))})},De=i(1125);const ye=e=>{const{isOpen:t,handleClose:i,occasionName:l,onSaveOccassion:n,onChangeOccasionName:d,occasionNameResponse:s,handleClearEditInput:r}=e,[v,b]=Object(a.useState)(!1),{CANCEL:j,SAVE:p,EDIT_OCCASSION_DIALOG_TITLE:g,OCCASSION_LABEL:N,SAME_OCCASSIONNAME_ERROR:I,EMPTY_OCCASSION_FIELD_ERROR:S}=O.d,{ClearIconDark:T}=u.a;return Object(h.jsx)(o.a.Fragment,{children:t&&Object(h.jsx)(y.a,{show:t,showCloseBtn:!0,closeButtonHandler:()=>{i(),b(!1)},classNames:"Base-modal edit-occasion-modal",id:"edit-occassion-modal",autoFocus:!0,children:Object(h.jsxs)("div",{className:"edit-occasion-modal-content",children:[Object(h.jsx)("h1",{children:Object(m.translateWithI18Next)(g)}),Object(h.jsxs)("div",{className:"edit-occassion--error-container",children:[Object(h.jsxs)("div",{className:"edit-occassion-input-container",children:[Object(h.jsx)("label",{for:"occasion-name",children:Object(m.translateWithI18Next)(N)}),Object(h.jsx)("input",{type:"text",id:"occasion-name","data-testid":"occasion-input",name:"occasion-name",value:l,onChange:e=>{d(e),b(!0)}}),Object(h.jsx)("img",{src:T,alt:"Clear Icon",className:"edit-input-clear-icon",onClick:r})]}),v&&l===s&&Object(h.jsx)("div",{className:"errorMessageEditOccasion",children:Object(m.translateWithI18Next)(I)}),0===l.length&&Object(h.jsx)("div",{className:"errorMessageEditOccasion",children:Object(m.translateWithI18Next)(S)})]}),Object(h.jsxs)("div",{className:"buttonItems",children:[Object(h.jsx)(c.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:i,children:Object(m.translateWithI18Next)(j)}),Object(h.jsx)(c.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",disabled:l===s||0===l.length,onClick:n,children:Object(m.translateWithI18Next)(p)})]})]})})})};ye.defaultProps={isOpen:!1};var Ae=ye,_e=i(120),Re=i(398),Le=i(1099),Pe=i(1146),we=i(235),ke=i(61),Me=i(410),Fe=i(1112),He=i(1134),Ue=i(16),We=i(400);const Be=(e,t)=>e?"cardwithQuantity "+t:"cardwithNoquantity",{heartIcon_activeFavourite:Ge,heartIcon_active:Ye,Non_veg_dot_Icon:Ve,Veg_dot_Icon:Ke}=u.a,qe=(e,t)=>e?Object(h.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(v.ad)(!(null!==t&&void 0!==t&&t.veg),Ve,Ke)}):!(null!==t&&void 0!==t&&t.veg)&&Object(m.translateWithI18Next)(Re.o.MENU_CARD.NON_VEG)||Object(m.translateWithI18Next)(Re.o.MENU_CARD.VEG);var ze=e=>{var t,i,l,n;const{isProductAvailable:s,catalogueData:r,maxItemCountPerLineItem:c,product:u,customerId:b,differencePrice:p,currencySymbol:g,additionalProperties:N,addItemToUnFavouriteFunction:I,addToCartFunction:S,userParams:T,getPrice:E,storeClosedData:f}=e,{RESET_MODGROUP_IDS_UPDATE:x}=We.a,{MINI_PDP_DATA:C,FROMFLAGEDIT:D,EDIT_CLICKED:y}=Ue.a,[A,_]=Object(a.useState)(Object(v.de)(window.innerWidth)),{ITEM_UNAVAILABLE:R}=O.d,{ITEM_QUANTITY:L}=we.a,{QUANTITY_ACTION:P}=ke.a,w=Object(d.c)((e=>e.cartReducer)),{cartData:M={}}=Object(v.sd)(w),[F,H]=Object(a.useState)(0),[U,W]=Object(a.useState)(null),[B,G]=Object(a.useState)(0),[Y,V]=Object(a.useState)(0),[K,q]=Object(a.useState)(!1),[z,Q]=Object(a.useState)([]),[X,$]=Object(a.useState)(""),{flatResponse:{productMapById:ee={}}={}}=Object(v.Pb)(Object(d.c)((e=>{let{menuReducer:t}=e;return t}))),[te,ie]=Object(a.useState)(!1),{userOrderStateDispatch:ae}=Object(a.useContext)(xe.a),oe=Object(v.ad)(T.loggedIn,j.cg,""),le=Object(d.b)(),{tenantReducer:ne}=Object(d.c)((e=>e)),{tenantId:de,currencyConversionFactor:se,componentOptions:re}=ne,{web:{global:{showPriceWithTax:ce=!1}={}}={}}=null!==re&&void 0!==re?re:{},ue=e=>{if(null!==M&&void 0!==M&&M.id){let t=null===M||void 0===M?void 0:M.foodLines.filter((t=>{var i;return(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===e}));Q(t)}$(e),q(!0)},ve=(e,t)=>{const i=Number((Y/se).toFixed(2));let a={foodName:null===r||void 0===r?void 0:r.name,foodItemId:null===r||void 0===r?void 0:r.mdmId,cartPrice:i,modifiers:[],quantity:F,foodLineId:U};const{itemQuantityHandler:o}=Object(Me.a)({cartId:M.id},de,void 0,ee,ae,le,void 0);t===P.Increase?u.isCustomized?ue(null===a||void 0===a?void 0:a.foodItemId):o(a,P.Increase):B>1?ue(null===a||void 0===a?void 0:a.foodItemId):o(a,P.Decrease)},me=()=>{_(Object(v.de)(window.innerWidth))};Object(a.useEffect)((()=>{window.addEventListener("resize",me)}),[A]),Object(a.useEffect)((()=>{const e=Object(v.Td)(M)?Object(v.mc)(u.id,M):{},t=Object(v.ad)(Object(v.Td)(e),e.count,0),i=Object(v.ad)(Object(v.Td)(e),e.matchedItemFoodLineId,""),a=Object(v.ad)(Object(v.Td)(e),e.entriesCount,0),o=Object(v.ad)(Object(v.Td)(e),e.itemUnitPrice,"");H(t),W(i),G(a),V(o)}),[M,u.id]);const Oe=e=>Object(h.jsxs)("div",{className:"medium-menu-vegOrNonVeg",children:[qe(A,e),(null===e||void 0===e?void 0:e.servings)&&Object(h.jsx)("div",{className:"Dot"}),Re.o.MENU_CARD.SERVES,null===e||void 0===e?void 0:e.servings]}),be=(e,t)=>{var i;const a=Object(v.Fc)(null===t||void 0===t?void 0:t.availability[0],null===t||void 0===t||null===(i=t.additionalPropertyMap)||void 0===i?void 0:i.pricewithouttax,se,ce);return Object(h.jsx)("div",{className:"medium-menu-product-price",children:e?Object(h.jsx)("span",{className:"price-difference-container",children:Object(v.ad)(0!==p,Object(h.jsxs)("span",{className:"prev-price",children:[g,u.price]})-Object(h.jsxs)("span",{className:"new-current-price",children:[g,a]}),Object(h.jsxs)("span",{className:"current-price",children:[g,a]}))}):""})},je=()=>{1===F?(ae({type:C,value:{id:null===r||void 0===r?void 0:r.mdmId,flag:D,foodLineId:U}}),ae({type:x}),ae({type:y,value:{cartEditClicked:!1}}),le(Object(Z.c)({tenantId:de,catalogName:null===M||void 0===M?void 0:M.catalog,itemId:null===r||void 0===r?void 0:r.mdmId})),le(Object(k.v)({showProductListingModal:!0,categorySelected:u.id.split("-")[0]}))):(u.isCustomized&&ue(null===r||void 0===r?void 0:r.mdmId),ie(!0),q(!0))};return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsxs)("div",{className:s?"medium-menu-container medium-menu-container-fav-menu":"medium-menu-container medium-menu-container-fav-menu medium-menu-container-fav-menu-disabled",children:[Object(h.jsx)("div",{className:"product-container",children:Object(h.jsxs)("div",{className:"medium-menu-product-card product-card-active","data-testid":"",children:[s?Object(h.jsx)(J.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(v.bc)(null===r||void 0===r?void 0:r.imageName,ne),alt:"No-Image",defaultPath:Object(v.bc)(null,ne,!0)}):Object(h.jsx)(J.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(v.bc)(u.imageName,ne),alt:"No-Image",defaultPath:Object(v.bc)(null,ne,!0)}),Object(h.jsx)("div",{className:"discount-product-ribbon"}),Object(h.jsx)("span",{className:"discount-ribbon-text"}),Object(h.jsx)("img",{src:Ye,alt:"favourite menu product",className:"menu-product-save","data-testid":"on-image-fav",onClick:()=>I(de,b,u.id)}),Object(h.jsxs)("div",{className:"menu-card-content menu-card-content-fav","data-testid":"menu-card-content-pdp-nav",children:[Object(h.jsx)("div",{className:"medium-menu-product-header",children:Object(v.ad)(s,null===r||void 0===r?void 0:r.name,u.name)}),A?Object(h.jsxs)("div",{className:"product-details-mobile-view",children:[Object(h.jsxs)("div",{className:"medium-menu-product-description",id:"longDescription",children:[Object(v.ad)(s,null===r||void 0===r||null===(l=r.longDescription[0])||void 0===l?void 0:l.value,null===(n=u.description[0])||void 0===n?void 0:n.value)," "]}),Object(h.jsxs)("div",{className:"price-veg-nonveg",children:[be(s,r),Oe(N),Object(h.jsx)("div",{className:"heart-icon",children:s&&Object(h.jsx)("img",{src:Ge,alt:"favourite menu product",className:"mobile-fav-menu-style","data-testid":"mobile-view-fav",onClick:()=>I(de,b,u.id)})||Object(h.jsx)("img",{src:Ge,alt:"un-favourite menu product",className:"mobile-fav-menu-style-unavailable","data-testid":"unavailable-fav",onClick:()=>I(de,b,u.id)})})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{className:"menu-vegOrNonVeg-icon",src:!(null!==N&&void 0!==N&&N.veg)&&Ve||Ke,alt:"favourite menu product-vegOrNonVeg-icon"}),Oe(N),be(s,r),Object(h.jsx)("div",{className:"medium-menu-product-description",id:"longDescription",children:Object(v.ad)(s,null===r||void 0===r||null===(t=r.longDescription[0])||void 0===t?void 0:t.value,null===(i=u.description[0])||void 0===i?void 0:i.value)})]})]}),Object(h.jsxs)("div",{className:"quantityAddtocart ".concat(Be(F,oe)),children:[!!F&&(pe=F,he=ve,ge=c,Object(h.jsx)(Le.a,{itemCount:pe,itemQuantity:L,updateItemQuantity:he,quantityAction:P,item:void 0,maxItemCountPerLineItem:ge,cartItemCount:1})),s&&Object(h.jsx)("div",{className:"cart-btn-container",children:Object(h.jsx)("div",{className:Object(Pe.a)(F,oe),children:F<1?Object(h.jsxs)("button",{disabled:Object(Fe.m)(f),onClick:e=>S(e,u,{productName:null===r||void 0===r?void 0:r.dname,productImage:null===r||void 0===r?void 0:r.imageName,productPrice:E(null===r||void 0===r?void 0:r.availability[0].price)}),className:"button activeBtn redButton medium-menu-cart-button ","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-fav-menu",children:[Object(Fe.f)(f).btnText,Object(v.J)(f.isStoreClosed)]}):u.isCustomized&&Object(h.jsx)("span",{className:"edit-selection","data-testid":"edit-section-fav-menu",onClick:()=>je(),children:Object(m.translateWithI18Next)(Re.o.EDIT_SELECTIONS)})})}),!s&&Object(h.jsx)("div",{className:"cart-btn-container",children:Object(h.jsx)("div",{className:"cardButtonOnly",children:Object(h.jsx)("button",{disabled:!0,className:"button activeBtn redButton medium-menu-cart-button medium-menu-cart-button-disabled","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-L-402983",children:Object(m.translateWithI18Next)(R)})})})]})]})}),K&&Object(h.jsx)(He.a,{isFavouriteMenu:!0,handleClose:()=>{q(!1),ie(!1)},filteredPreviousData:z,updateItemQuantity:ve,tenantData:ne,dname:null===r||void 0===r?void 0:r.dname,clickHandler:S,cardId:u.id,itemCount:F,availability:null===r||void 0===r?void 0:r.availability,imageName:null===r||void 0===r?void 0:r.imageName,itemFoodlineId:U,customizable:u.isCustomized,setOpenCostomizedModal:q,openCostomizedModal:K,cartData:M,product:u,foodId:X,isEditSelection:te,headerText:te?Object(m.translateWithI18Next)(Re.o.EDIT_QUANTITY):Object(m.translateWithI18Next)(Re.o.SELECT_QUANTITY),categoryId:u.id.split("-")[0]})]})});var pe,he,ge},Je=i(1103);const Qe=e=>"False"!==e&&e;var Xe=e=>{var t,i,l;const{limitSize:n,checkProductAvailabity:s,availableProductPrice:r,getPrice:c}=e,{userOrderState:u}=Object(a.useContext)(xe.a),[m,O]=Object(a.useState)(!1),b=Object(a.useMemo)((()=>Object(v.Sd)(u.currentStoreInfo)?Object(v.b)(localStorage.getItem("currentStoreInfo")):u.currentStoreInfo),[u.currentStoreInfo]),{futureDates:j,scheduled:p,asap:g}=Object(v.sd)(null===b||void 0===b||null===(t=b.summary)||void 0===t?void 0:t.timings),{unavailibilities:N}=Object(v.sd)(p),{interval:I=0,startEndTime:S={}}=Object(v.sd)((null===p||void 0===p||null===(i=p.periods)||void 0===i?void 0:i.length)&&(null===p||void 0===p?void 0:p.periods[0])),{from:T,to:E}=S,f=Object(a.useCallback)((()=>{if(Object(v.Td)(b)){var e,t;let i=null===(e=b.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Object(_e.j)(T,E,I,null===g||void 0===g?void 0:g.isAvailable,1===(null===j||void 0===j?void 0:j.length)&&(null===x||void 0===x?void 0:x.toUpperCase())===Je.a.INDIA,N);"CLOSED"!==i||a.length?O(!1):O(!0)}else O(!1)}),[b]);Object(a.useEffect)((()=>{f()}),[f]);const{country:x="",currencySymbol:C,maxItemCountPerLineItem:D}=Object(d.c)((e=>e.tenantReducer||{})),y=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),A=Object(d.c)((e=>{var t,i;return(null===(t=e.profileReducer)||void 0===t||null===(i=t.basic)||void 0===i?void 0:i.id)||""})),{flatResponse:{itemMapById:_={}}={}}=null!==(l=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{};return Object(h.jsx)(o.a.Fragment,{children:y.slice(0,n).map((t=>{var i;const a=null===_||void 0===_?void 0:_[t.id],o=s(t.id),l=null!==(i=null===a||void 0===a?void 0:a.additionalProperties)&&void 0!==i?i:null===t||void 0===t?void 0:t.additionalProperties,n=c(r(t.id)),d=t.price-n,u=null===l||void 0===l?void 0:l.reduce(((e,t)=>{let{key:i,value:a}=t;return{...e,[i]:"True"===a||Qe(a)}}),{});return Object(h.jsx)(ze,{isProductAvailable:o,catalogueData:a,maxItemCountPerLineItem:D,product:t,customerId:A,differencePrice:d,currencySymbol:C,additionalProperties:u,...e,"data-testid":"favourite-menu-card-".concat(t.id),storeClosedData:{isStoreClosed:m}})}))})},Ze=i(262),$e=i(1179),et=i(519),tt=i(1225),it=i(21),at=i(9);const ot=(e,t,i)=>{const a=null!==e&&void 0!==e&&e.items?e.items:e,{ACCOUNT_FAV_PAGE:o}=O.d,l=[];null===a||void 0===a||a.forEach(((a,n)=>{var d;const s=null!==e&&void 0!==e&&e.items?Object(v.jb)(Number(((null===a||void 0===a?void 0:a.price)/i).toFixed(j.gg)),0):Object(v.jb)(null===a||void 0===a?void 0:a.price,0),r=null!==e&&void 0!==e&&e.items?Object(v.jb)((null===e||void 0===e?void 0:e.discountTotal)/i,0):Object(v.jb)(null===e||void 0===e?void 0:e.discountTotal,0),{categoryId:c="NA",categoryName:u="NA"}=null!==(d=null===t||void 0===t?void 0:t[null===a||void 0===a?void 0:a.id])&&void 0!==d?d:{};l.push({item_name:null===a||void 0===a?void 0:a.name,item_id:null===a||void 0===a?void 0:a.id,price:s,item_category:u,item_list_name:o,item_list_id:c,index:n,quantity:null===a||void 0===a?void 0:a.quantity,coupon:Object(v.jb)(null===e||void 0===e?void 0:e.couponCode,"NA"),discount:r,currency:j.p.INR})})),(async e=>{var t,i,a;await it.a.registerEvent(null===at.a||void 0===at.a||null===(t=at.a.accountViewFavItemList)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,items:e}}},v.Bb)})(l)};var lt=e=>{var t,i,o,l,n,s,r;const{isMobile:g,updateMenu:N,currentMenu:I}=e,S=Object(d.b)(),T=Object(K.g)(),{LOAD_MORE:f,ADD_ITEM_TO_CART_TEXT:C}=O.d,{RESET_MODGROUP_IDS_UPDATE:D}=Ze.a,{MINI_PDP_DATA:y,FROMFLAGPLP:A,EDIT_CLICKED:R,ADD_TO_CART_CLICK:L}=Ue.a,{userOrderState:P,userOrderStateDispatch:H}=Object(a.useContext)(xe.a),[W,V]=Object(a.useState)(""),[q,z]=Object(a.useState)(9),[Q,X]=Object(a.useState)(""),[$,ee]=Object(a.useState)(""),te=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),ie=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),{id:ae,phone:oe}=Object(d.c)((e=>{var t;return Object(v.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:le,currencyConversionFactor:ne}=Object(d.c)((e=>e.tenantReducer||{})),de=Object(d.c)((e=>e.tenantReducer)),se=Object(d.c)((e=>e.cartReducer)),{flatResponse:{productMapById:re={},itemMapById:ce={},categoryMapById:ue={}}={}}=Object(v.Pb)(Object(d.c)((e=>{let{menuReducer:t}=e;return t}))),ve=Object(d.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),me=Object(d.c)((e=>e.appStateReducer.userStatus)),[Oe,je]=Object(a.useState)(!1),{ORDER_HISTORY_TAG:pe,VIEW_ORDER_HISTORY_BTN:he,MY_OCCASSION_TEXT:ge,MY_OCCASSION_UNAVAILABLE_TITLE:Ne,DELETE_OCCASSION_TEXT:Ie,REORDER_TEXT:Se,MY_FAVOURITE_MENU_TITLE_TEXT:Te,MY_FAVOURITE_NO_ITEMS_TEXT:Ee,MY_FAVOURITE_BROWSE_MENU:ye,MY_FAV_MENU:_e,UNFAVOURITE_ITEM_MESSAGE:Re}=O.d,Le=Object(v.Pb)(B()(se,"cartData",{})),[Pe,we]=Object(a.useState)(!1),[ke,Me]=Object(a.useState)(!1),[Fe,He]=Object(a.useState)({}),[We,Be]=Object(a.useState)({}),{tickWhiteToast:Ge,SingleArrowback:Ye,ReorderIcon:Ve}=u.a,Ke=e=>e/ne,qe=Object(v.Sd)(P.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):P.dispositionNew,ze=Object(a.useMemo)((()=>{var e;return{tenantReducer:Object(v.Td)(de)?de:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:qe?qe.store:{},dispositionType:null!==qe&&void 0!==qe&&qe.type?Object(v.Mb)(qe.type):Object(v.Mb)(null===(e=de.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[qe,de,P]),Je=(null===ze||void 0===ze||null===(t=ze.storeInfo)||void 0===t||null===(i=t.summary)||void 0===i||null===(o=i.menu)||void 0===o||null===(l=o.catalogs)||void 0===l?void 0:l.length)&&(null===ze||void 0===ze||null===(n=ze.storeInfo)||void 0===n||null===(s=n.summary)||void 0===s||null===(r=s.menu)||void 0===r?void 0:r.catalogs[0])||Object(v.ud)(null===de||void 0===de?void 0:de.genericMenuName),Qe=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;((e,t,i)=>{S(Object(Z.a)({tenantId:e,customerId:i},t))})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{mdmId:e.mdmId,id:e.id,name:e.name,imageName:e.imageName,description:e.description,quantity:1,isCustomized:e.customizable,price:e.priceWithTax/ne,additionalProperties:e.additionalProperties},t)},it=(e,t,i)=>{S(Object(Z.b)({tenantId:e,customerId:t,itemId:i}));let a=Object(h.jsx)(J.a,{srcFile:et.a});setTimeout((()=>{Object(v.Df)(Object(m.translateWithI18Next)(Re),a)}),2e3),setTimeout((()=>{fe.b.dismiss()}),4e3)},at=e=>{var t,i,a,o;const l=Object(E.p)(),n=Object(v.Pb)(null===ce||void 0===ce?void 0:ce[e]),d=null===n||void 0===n||null===(t=n.availability)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.availableHours.startTime.time,s=null===n||void 0===n||null===(a=n.availability)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.availableHours.endTime.time;return Object(E.f)(l,d,s)},lt=e=>{if(at(e)){var t,i;const a=Object(v.Pb)(null===ce||void 0===ce?void 0:ce[e]);return null===a||void 0===a||null===(t=a.availability)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.price}return 0},nt=(e,t)=>{e&&(V(e),X(t),ee(t))},dt=()=>{V("")},st=()=>{X("")},rt=()=>{const{phoneNumber:e}=p.a.getInstance(),t={tenantId:le,customerId:ae,phoneNumber:e},i={orderId:W,name:Q};S(Object(_.a)(t,i)),V("")},ct=e=>{X(e.target.value)},ut=Object(a.useCallback)((()=>{let e=0;if(e=q+9,e>ie.length){const e=ie.length-q;z(q+e)}else z(e)}),[q,ie]);Object(a.useEffect)((()=>{ie.length<q&&z(ie.length)}),[S,ie,q]),Object(a.useEffect)((()=>{((e,t,i,a)=>{if(e){const o={customerId:t,tenantId:e,phoneNumber:i,updateUserData:!0};a(Object(be.d)(o))}})(le,ae,oe,S)}),[S,le,ae,oe]),Object(a.useEffect)((()=>{ve&&P.minipdpData.itemId===ve.id&&P.cartEditClicked&&S(Object(k.v)({showProductListingModal:!0,categorySelected:""}))}),[ve,P.minipdpData.itemId,P.cartEditClicked]),Object(a.useEffect)((()=>{null!==se&&void 0!==se&&se.isItemAdded&&(fe.b.dark(Object(h.jsxs)("div",{className:"img-text-div",children:[Object(h.jsx)(J.a,{srcFile:Ge})," ",Object(h.jsx)("span",{className:"text",children:Object(m.translateWithI18Next)(C)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:fe.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{fe.b.dismiss()}),3e3))}),[null===se||void 0===se?void 0:se.isItemAdded]),Object(a.useEffect)((()=>{je(!1)})),Object(a.useEffect)((()=>{I===_e&&null!==ie&&void 0!==ie&&ie.length&&ot(ie,re,ne)}),[I]);const{foodLines:vt=[]}=Le,mt=()=>{vt.length>0?we(!0):(S(Object(k.r)()),Me(!0))};return Object(h.jsxs)("div",{className:"account-order-desktop",children:[Object(h.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(h.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>N(""),src:Ye,alt:"back button"}),Object(h.jsx)("span",{className:"account-setting-text-header",children:Object(m.translateWithI18Next)(_e)})]}),Object(h.jsx)("div",{className:"page-header page-header-favourite-occasion",children:Object(h.jsxs)("span",{className:"page-heading",children:[Object(m.translateWithI18Next)(ge)," ",te.length>0?"(".concat(te.length,")"):""]})}),0===te.length&&Object(h.jsxs)("div",{className:"no-occasion-container",children:[Object(h.jsx)("p",{children:Object(m.translateWithI18Next)(Ne)}),Object(h.jsx)(c.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:()=>N(pe),children:Object(m.translateWithI18Next)(he)})]}),null===te||void 0===te?void 0:te.map(((e,t)=>Object(h.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("section",{className:"account-accordian",children:Object(h.jsxs)(x,{title:e.name,occassionTime:g?"".concat(Object(E.C)(e.fulfillmentDateTime,"ll")):"".concat(Object(E.C)(e.fulfillmentDateTime,"ll")," at ").concat(Object(E.C)(e.fulfillmentDateTime,"hh:mm a")),onClickHandler:t=>((e,t)=>{var i,a,o;const l=null===(i=e.target)||void 0===i||null===(a=i.parentElement)||void 0===a||null===(o=a.parentElement)||void 0===o?void 0:o.parentElement;null!==l&&void 0!==l&&l.classList.contains("account-accordian-open")?null===l||void 0===l||l.classList.remove("account-accordian-open"):null===l||void 0===l||l.classList.add("account-accordian-open");const n=null===te||void 0===te?void 0:te.find((e=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)));ot(n,re,ne)})(t,e),onEditOccasionName:nt,itemId:e.id,itemName:e.name,"data-testid":"order-details",children:[Object(h.jsx)(Ce,{occassionOrder:e,checkProductAvailabity:at,addItemToFavourite:Qe,additemToUnfavourite:it,availableProductPrice:lt,getPrice:Ke,"data-testid":"occasion-component"}),Object(h.jsx)("section",{className:"fav-menu-event",children:Object(h.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(h.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(h.jsx)("span",{className:"order-receipt-option","data-testid":"delete-occassion",onClick:()=>{return t=le,i=ae,a=e.id,void S(null===_.b||void 0===_.b?void 0:Object(_.b)({tenantId:t,customerId:i,itemId:a}));var t,i,a},children:Object(m.translateWithI18Next)(Ie)})}),Object(h.jsx)("div",{className:"global-accordian-right",children:Object(h.jsxs)(c.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(e=>{(null===e||void 0===e||!e.localized)&&Object(Y.o)(),localStorage.setItem(j.lb,tt.ACCOUNT_FAVORDERS)})(me),(e=>{const t=B()(e,"store",{}),i=B()(e,"service",""),a=[{storeId:B()(t,"storeId",""),channel:G.b.channel,service:i}];S(Object(F.a)(a,le,(t=>{const i=U()(B()(t,"response",{}),{}),{id:a}=e;He(i),S(Object(M.f)({tenantId:le,orderId:a,customerId:ae},mt))}))),Be(e),sessionStorage.setItem("reorderClick",!0)})(e)},"data-testid":"re-order-btn",children:[Object(h.jsx)("img",{src:Ve,className:"account-icon",alt:"Account Icon"}),Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(Se)})]})})]})})]})}),Object(h.jsx)(Ae,{isOpen:e.id===W,handleClose:dt,occasionName:Q,onSaveOccassion:rt,onChangeOccasionName:ct,occasionNameResponse:$,handleClearEditInput:st})]})}))),Object(h.jsx)("div",{className:"page-header page-header-favourite",children:Object(h.jsxs)("span",{className:"page-heading",children:[Object(m.translateWithI18Next)(Te)," ",ie.length>0?"(".concat(ie.length,")"):""]})}),(null===se||void 0===se?void 0:se.showProductListingModal)&&Object(h.jsx)(De.a,{}),Object(h.jsxs)("div",{className:"favorite-items-container",children:[0===ie.length&&Object(h.jsxs)("div",{className:"no-occasion-container",children:[Object(h.jsx)("p",{children:Object(m.translateWithI18Next)(Ee)}),Object(h.jsx)(c.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:()=>{T.push({pathname:"/menu"})},children:Object(m.translateWithI18Next)(ye)})]}),Object(h.jsx)(Xe,{limitSize:q,checkProductAvailabity:at,addItemToUnFavouriteFunction:it,addToCartFunction:(e,t,i)=>{var a,o;null===e||void 0===e||e.stopPropagation();const{categoryId:l=""}=null!==(a=null===re||void 0===re?void 0:re[t.id])&&void 0!==a?a:{},{id:n="",name:d="",url:s=""}=null!==(o=null===ue||void 0===ue?void 0:ue[l])&&void 0!==o?o:{},r={categoryId:n,categoryName:d,categoryUrl:s},{id:c,isCustomized:u}=t;var m;me.localized?u?(H({type:y,value:{id:c,flag:A,foodLineId:""}}),H({type:D}),H({type:R,value:{cartEditClicked:!0}}),S(Object(Z.c)({tenantId:le,catalogName:Je,itemId:c}))):(((e,t,i,a)=>{const{categoryId:o,categoryName:l,categoryUrl:n}=a;S(Object(k.a)({params:{basketId:i},tenantId:e},[{Id:t,categoryId:o,quantity:1,modGrps:[],categoryName:l,categoryUrl:n}]))})(le,c,null===se||void 0===se||null===(m=se.cartData)||void 0===m?void 0:m.id,r),S(Object(k.u)(new Date)),Object(b.a)({item_name:Object(v.qd)(t.name,"NA"),item_id:Object(v.qd)(t.id,"NA"),item_category:d,price:Object(v.qd)(t.price,"NA"),item_variant:"NA",item_list_name:d,item_list_id:n,index:1,quantity:Object(v.qd)(t.quantity||1)})):(je(!0),H({type:L,value:{addToCart:!0,productItemId:c,categoryId:n,oldProduct:i,customizable:u,catalogs:Je,fromPdpPage:!1}}))},availableProductPrice:lt,getPrice:Ke,"data-testid":"favourite-menu",userParams:me})]}),ie.length>9&&Object(h.jsxs)("div",{className:"load-more-button-container",children:[Object(h.jsx)(c.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"load-more-favourite-items",onClick:ut,children:Object(m.translateWithI18Next)(f)}),Object(h.jsx)("div",{className:"load-more-text",children:Object(m.translateWithI18Next)("Viewed ".concat(q," of ").concat(ie.length))})]}),Oe&&Object(h.jsx)($e.a,{}),(Pe||ke)&&Object(h.jsx)(w.a,{storeInfo:Fe,currentOrderInfo:We,reorderModalOpen:Pe,setReorderModalOpen:we,isQuickReorderModalOpen:ke,setQuickReorderModalOpen:Me})]})},nt=i(1249),dt=i(1131),st=i(113),rt=i(1135),ct=i(401),ut=i(158);var vt=e=>{const{favouriteStores:t,removeFromFavoriteHandler:i,history:l,isMobile:n}=e,s=Object(d.b)(),[r,O]=Object(a.useState)(!1),[b,j]=Object(a.useState)(!1),[p,g]=Object(a.useState)({}),[N,I]=Object(a.useState)(0),[S]=Object(a.useState)(325),[T,f]=Object(a.useState)(null),{userOrderState:x,userOrderStateDispatch:C}=Object(a.useContext)(xe.a),{FavoriteFillImage:D,Union:y,GreenTickImage:A}=u.a,_=Object(v.Sd)(x.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):x.dispositionNew,{BROWSE_MENU:R,STORE_STATUS_CLOSED:L,PICK_UP:P,TAKE_AWAY:w,LIST_TEXT:M,STORE_STATUS_CLOSED_CAPS:F}=ut.a,{SCHEDULE_ORDER_DATA:H,SEARCH_ORDER_DATA:U,SELECTED_TILE_DATA:W,MENU_URL:B,SET_DISPOSITION:G,USER_LOCALIZED:V,DISPOSITION_DATA:K,SCHEDULE_ORDER_TIME_DATA:q,CURRENT_STORE_INFO:z}=Ue.a,{DEFAULT_DISPOSITION_TAKEWAY:Q,mapText:X}=nt.a;let Z=Object(d.c)((e=>e.appStateReducer.userStatus));const $=Object(d.c)((e=>e.profileReducer)),ee=Object(d.c)((e=>e.tenantReducer)),{componentOptions:te={}}=ee,{allowScheduleOrder:ie}=Object(v.qd)(null===te||void 0===te?void 0:te.ScheduledDeliveryComponent,!0),ae=e=>{var t;const i=e.summary,{operatingHours:a=[]}=Object(v.ad)(null===i||void 0===i||null===(t=i.timings)||void 0===t?void 0:t.operatingHours,null===i||void 0===i?void 0:i.timings,[]);return Object(ct.c)(e.isOpen,a)},oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e&&Object(ct.g)(e),{services:i=[]}=Object(v.qd)(null===t||void 0===t?void 0:t[0],[]);return i.map(((e,t)=>Object(h.jsxs)("div",{className:"store-order-options",children:[Object(h.jsx)("span",{children:Object(h.jsx)(J.a,{"data-testid":"",srcFile:A,alt:"tick",className:"tick-image"})}),Object(h.jsx)("span",{children:Object(v.ad)(e===P,Object(m.translateWithI18Next)(w),e)})]},t)))},le=()=>{s(Object(st.a)({...Z,localized:!0}))},ne=()=>{C({type:U,value:{showSearchStore:!1}})},de=e=>(e.additionalProperties=e.storeBasic.additionalProperties,e.addresses=e.storeBasic.address,e.amenities=e.storeBasic.amenities,e.name=e.storeBasic.dname,e.id=e.storeBasic.id,e.location=e.storeBasic.location,e.service=e.storeBasic.service,e),se=e=>{C({type:z,value:e})},re=(e,t)=>{var i,a,o,l;e.preventDefault(),e.stopPropagation(),localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),localStorage.setItem("dispositionType",Q),t=de(t),Oe(),C({type:H,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,isAddressFlow:!0}}),C({type:U,value:{showSearchStore:!1}});const n={storeID:null===(i=t)||void 0===i?void 0:i.id,disposition:Q,postCode:null===(a=t)||void 0===a||null===(o=a.addresses[0])||void 0===o||null===(l=o.address)||void 0===l?void 0:l.pinCode};Object(ct.k)(),ue(t),Object(Y.y)(n)},ce=()=>{C({type:W,value:{selectedData:{}}})},ue=e=>{let t=e;ce(),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),se(t)},ve=e=>{var t,i;const{futureDates:a,scheduled:o,asap:l}=Object(v.sd)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),{interval:n=0,startEndTime:d={}}=Object(v.sd)((null===o||void 0===o?void 0:o.periods.length)&&o.periods[0]),{from:s,to:r}=Object(v.sd)(d),{unavailibilities:c}=Object(v.sd)(o);return Object(_e.j)(s,r,n,null===l||void 0===l?void 0:l.isAvailable,Object(v.hb)(1===(null===a||void 0===a?void 0:a.length),"INDIA"===(null===ee||void 0===ee||null===(i=ee.country)||void 0===i?void 0:i.toUpperCase())),c)},me=async(t,i)=>{var a,o,l,n,d,r,c,u,m,O,b,j;t.preventDefault(),t.stopPropagation(),Object(ct.l)();const{futureDates:p,scheduled:h,asap:g}=(null===(a=i)||void 0===a||null===(o=a.summary)||void 0===o?void 0:o.timings)||{},{interval:N=0,startEndTime:I={}}=(null===h||void 0===h?void 0:h.periods.length)&&h.periods[0]||{},{from:S,to:T}=I;Object(_e.j)(S,T,N,null===g||void 0===g?void 0:g.isAvailable,Object(v.hb)(1===p.length,"INDIA"===(null===ee||void 0===ee?void 0:ee.country)));let E={time:"ASAP",interval:null===(l=i)||void 0===l||null===(n=l.summary)||void 0===n||null===(d=n.timings.scheduled.periods[0])||void 0===d?void 0:d.interval,date:new Date,selectedTime:"ASAP"};if(i=de(i),null===_||_.type!==Q||_.store.id!==i.id||_.deliveryAddress!==(null===x||void 0===x||null===(r=x.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress)){let e=await Object(v.A)(i,Object(v.Mb)(Q),$.customerId,E);s(Object(k.m)("")),s(Object(k.f)({data:e,tenantId:ee.tenantId}))}((t,i)=>{let a=t;ce(),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),se(a),le(),C({type:q,value:{selectedDateTime:i}}),localStorage.setItem("tenantReducer",JSON.stringify(ee)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",Q),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),e.history.push({pathname:"".concat(B)})})(i,E),C({type:G,value:{oldvalue:_,newValue:{type:Q,store:i,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===x||void 0===x||null===(c=x.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(_)),localStorage.setItem("dispositionNew",JSON.stringify({type:Q,store:i,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===x||void 0===x||null===(u=x.scheduleOrderData)||void 0===u?void 0:u.deliveryAddress}));const f={storeID:null===(m=i)||void 0===m?void 0:m.id,disposition:Q,postCode:null===(O=i)||void 0===O||null===(b=O.addresses[0])||void 0===b||null===(j=b.address)||void 0===j?void 0:j.pinCode};Object(Y.y)(f),ne(),Oe()},Oe=()=>{C({type:V,value:{isLocalized:!0}})},be=()=>{O(!r),j(!r)};Object(a.useEffect)((()=>{j(!0),je()}),[N,T]);const je=()=>{const e=t.map((e=>({lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude})));g(e)},he=e=>{const t=ve(e).length;return Object(v.ad)(t,"Today","Tomorrow")},ge=(e,a,n)=>{var d,s,u,O,b,j,p,g,S,T,x,y,A,P,w,k,M,H,U,W,V,q,z,Z,$,ee,te,ce,ue,Oe,ge,Ne,Ie;return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(n),children:[Object(h.jsxs)("div",{className:"address-block d-flex",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"card-store-name",children:Object(v.Sc)(null===e||void 0===e||null===(d=e.storeBasic)||void 0===d?void 0:d.dname)}),Object(h.jsx)("span",{className:"store-distance",children:null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.text}),r&&Object(h.jsx)("span",{className:"store-index fl-rgt",children:"".concat(N+1," of ").concat(t.length)})]}),Object(h.jsxs)("div",{className:"card-content",children:[Object(h.jsx)("div",{className:"order-items",children:oe(null===e||void 0===e?void 0:e.availableServicesPerChannel)}),Object(h.jsxs)("div",{className:"w-100",children:[Object(h.jsx)("span",{className:"store-address",children:Object(v.ac)(null===e||void 0===e||null===(u=e.storeBasic)||void 0===u?void 0:u.address)}),!r&&Object(h.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>{((e,t)=>{f(e),I(t)})(e,a),be(),je()},children:Object(h.jsx)(pe.a,{className:"card-map-link",children:Object(m.translateWithI18Next)(X)})})]}),(null===e||void 0===e?void 0:e.summary)&&(null===e||void 0===e?void 0:e.isOpen)&&Object(h.jsxs)("div",{className:"info-timing ".concat(!(null!==e&&void 0!==e&&e.isOpen)&&"info-timingClosed"),children:[null!==e&&void 0!==e&&e.isOpen?"":Object(h.jsx)("span",{children:Object(m.translateWithI18Next)(L)}),Object(h.jsx)("span",{className:"".concat(!(null!==e&&void 0!==e&&e.isOpen)&&ae(e)&&"list-circle"),children:ae(e)})]}),(null===e||void 0===e?void 0:e.summary)&&!(null!==e&&void 0!==e&&e.isOpen)&&Object(h.jsx)("div",{className:"info-timingClosed",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:(null===(O=e.summary.status)||void 0===O?void 0:O.currentStatus)===F?Object(h.jsx)("span",{className:"closed-text",children:L}):""}),Object(h.jsx)("li",{children:(null===(b=e.summary)||void 0===b||null===(j=b.timings)||void 0===j||null===(p=j.scheduled)||void 0===p||null===(g=p.unavailibilities)||void 0===g?void 0:g.length)>0&&Object(E.S)(null===(S=e.summary)||void 0===S||null===(T=S.timings)||void 0===T||null===(x=T.scheduled)||void 0===x||null===(y=x.unavailibilities[0])||void 0===y?void 0:y.to,"HH MM","HH:MM")<=Object(E.S)(null===(A=e.summary)||void 0===A||null===(P=A.timings)||void 0===P||null===(w=P.operatingHours[0])||void 0===w||null===(k=w.availableHours)||void 0===k?void 0:k.to,"HH MM","HH:MM")?"Open Today ".concat((null===(M=e.summary)||void 0===M||null===(H=M.timings)||void 0===H||null===(U=H.scheduled)||void 0===U||null===(W=U.unavailibilities[0])||void 0===W?void 0:W.to)&&Object(E.S)(null===(V=e.summary)||void 0===V||null===(q=V.timings)||void 0===q||null===(z=q.scheduled)||void 0===z||null===(Z=z.unavailibilities[0])||void 0===Z?void 0:Z.to,"hh mm","hh:mm a")):"Open ".concat(he(e)," ").concat((null===($=e.summary)||void 0===$||null===(ee=$.timings)||void 0===ee||null===(te=ee.operatingHours[0])||void 0===te||null===(ce=te.availableHours)||void 0===ce?void 0:ce.from)&&Object(E.S)(null===(ue=e.summary)||void 0===ue||null===(Oe=ue.timings)||void 0===Oe||null===(ge=Oe.operatingHours[0])||void 0===ge||null===(Ne=ge.availableHours)||void 0===Ne?void 0:Ne.from,"hh mm","hh:mm a"))})]})}),Object(h.jsx)("div",{className:"facilities",children:(null===(Ie=Object(dt.a)(null===e||void 0===e?void 0:e.storeBasic))||void 0===Ie?void 0:Ie.length)>0&&Object(dt.a)(null===e||void 0===e?void 0:e.storeBasic).map((e=>Object(h.jsx)(J.a,{"data-testid":"",srcFile:e.image,alt:Object(v.qd)(e.label,""),className:"facility-img",title:e.label},e.key)))})]})]}),!r&&Object(h.jsx)("div",{className:"d-flex flex-dir mt5 flex-dir-pos",children:Object(h.jsx)(J.a,{"data-testid":"favorite-img",srcFile:D,alt:"favorite",className:"favorite-img",onClick:()=>{var t;return i(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id)}})})]}),Object(h.jsxs)("div",{className:"button-block align-center d-flex mt-2",children:[(null===e||void 0===e?void 0:e.isOpen)&&ie&&Object(h.jsx)(c.a,{"data-testid":"schedule-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:t=>re(t,e),children:Object(m.translateWithI18Next)("scheduleOrder")}),(null===e||void 0===e?void 0:e.isOpen)&&Object(h.jsx)(c.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:t=>me(t,e),children:"Order Now"}),mt(e,ve,re),Object(v.hb)(!(null!==e&&void 0!==e&&e.isOpen),!ve(e).length)&&Object(h.jsx)(c.a,{className:"padding-set wdth-set browse-pad ml5 ml-0 font-bold button whiteButton blkBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>(e=>{var t,i;let a=de(e);const o={storeID:null===a||void 0===a?void 0:a.id,disposition:Q,postCode:null===a||void 0===a||null===(t=a.addresses[0])||void 0===t||null===(i=t.address)||void 0===i?void 0:i.pinCode};Object(Y.y)(o),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),se(),le(),C({type:G,value:{oldvalue:_,newValue:{type:Q,store:a,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem("dispositionOld",JSON.stringify(_)),localStorage.setItem("dispositionNew",JSON.stringify({type:Q,store:a,date:"",time:"",interval:"",deliveryAddress:""})),C({type:K,value:{showDisposition:!1}}),ne(),l.push({pathname:"".concat(B)})})(e),children:Object(m.translateWithI18Next)(R)})]})]})})},Ne=(Ie=t,Ie.sort((function(e,t){var i,a,o,l;return Object(v.Sc)(null===(i=e.storeBasic)||void 0===i?void 0:i.dname)<Object(v.Sc)(null===(a=t.storeBasic)||void 0===a?void 0:a.dname)?-1:Object(v.Sc)(null===(o=e.storeBasic)||void 0===o?void 0:o.dname)>Object(v.Sc)(null===(l=t.storeBasic)||void 0===l?void 0:l.dname)?1:0}))).map(((e,t)=>ge(e,t)));var Ie;return Object(h.jsxs)("div",{className:"favorite-stores-section",children:[t.length>0&&Object(h.jsxs)("div",{className:"header-text",children:["My Favorite Stores (",t.length,")",r&&Object(h.jsx)("span",{"data-testid":"list-handler",onClick:()=>{be(),je()},children:Object(h.jsxs)(pe.a,{className:"map-link-list",children:[Object(h.jsx)("span",{children:Object(h.jsx)(J.a,{"data-testid":"",srcFile:y,alt:"map",className:"map-img"})}),Object(m.translateWithI18Next)(M)]})})]}),t.length>0&&!r>0&&Ne,r&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(rt.a,{"data-testid":"mymap-id",latLongValue:p,loadingElement:Object(h.jsx)("div",{style:{height:"100%"}}),containerElement:Object(h.jsx)("div",{style:{height:"400px"}}),mapElement:Object(h.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:n,centerIndex:N,onPositionChangeHandler:e=>{let i=e?N+1:N-1;I(i),f(Object(v.sd)(t[i]))},setShowCard:j,setStoreMarker:e=>{const i=t.findIndex((t=>t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()));i>-1&&(I(i),f(Object(v.sd)(t[i])))},storeCardHeight:S}),b&&T&&n?ge(T,"","Selected-mobile-Card"):null]}),b&&T&&!n?ge(T,"","Selected-desktop-Card"):null]})})]})};function mt(e,t,i){return Object(h.jsx)(h.Fragment,{children:Object(v.hb)(!(null!==e&&void 0!==e&&e.isOpen),t(e).length>0)&&Object(h.jsx)(c.a,{"data-testid":"closed-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:t=>i(t,e),children:Object(m.translateWithI18Next)("scheduleOrder")})})}var Ot=i(192),bt=i(73),jt=i(1121);const{SuggestionItemSearchPin:pt}=u.a,ht=(e,t,i)=>(null===t||void 0===t?void 0:t.toUpperCase())===nt.a.OK&&e.map((e=>{var t;const{place_id:a,structured_formatting:{main_text:o,secondary_text:l}}=e;return Object(h.jsx)(h.Fragment,{children:(null===(t=e.terms.filter((e=>e.value===nt.a.INDIA)))||void 0===t?void 0:t.length)>0&&Object(h.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:i(e),children:[Object(h.jsx)(J.a,{srcFile:pt,alt:"googleMapLocation",className:"suggetion-pin"}),Object(h.jsxs)("span",{className:"address-text",children:[Object(h.jsx)("strong",{children:o})," ",l]})]},a)})}));var gt=e=>{const t=Object(d.b)(),{isOpen:i,modalType:o,handleClose:l,storeSearch:n,tenantId:s,allStores:r}=e,{ADD_NEW_ADDRESS:u,EDIT_DELIVERY_ADDRESS:m,HIDDEN:O,DELIVERY_SERVICE:b,CHANNEL:j,NOT_SERVICEABLE:g,INITIAL_STATE:N}=nt.a,I=Object(v.Td)(e.address)?e.address:N,[S,T]=Object(a.useState)(I),[E,f]=Object(a.useState)(!1),x=null===n||void 0===n?void 0:n.geohashprecision,C=(null===n||void 0===n?void 0:n.boundingBoxSizeMeters)/1e3,{ready:D,value:A,suggestions:{status:_,data:R},setValue:L,clearSuggestions:P}=Object(jt.a)({requestOptions:{componentRestrictions:{country:"in"}},debounce:300}),w=Object(a.useRef)(null);Object(a.useEffect)((()=>{var e,t;o&&Ot.a.calculateGH({lat:parseFloat((null===S||void 0===S||null===(e=S.location)||void 0===e?void 0:e.latitude)||(null===S||void 0===S?void 0:S.latitude)),lon:parseFloat((null===S||void 0===S||null===(t=S.location)||void 0===t?void 0:t.longitude)||(null===S||void 0===S?void 0:S.longitude)),distanceFromCurrentLoc:C,geoHashPrecision:x});document.querySelector("body").style.overflow=O}),[]),Object(a.useEffect)((()=>(document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)})));const k=e=>{w.current&&!w.current.contains(e.target)&&P()},M=e=>{let{target:t}=e;const{name:i,value:a}=t;if("floor"!==i)"checkbox"!==t.type?T({...S,[i]:a}):T({...S,[i]:"true"!==a});else{T({...S,[i]:a});const e=[a,null===S||void 0===S?void 0:S.addressLines[1]];T({...S,addressLines:e})}},F=e=>{const t=e.address_components.reduce(((e,t)=>{let{long_name:i,types:a}=t;return a.forEach((t=>e[t]=i)),e}),{}),i=(e=>{let t=[];return Object.entries(e).forEach((e=>{switch(e[0]){case"route":case"street_address":case"neighborhood":case"sublocality_level_1":case"sublocality_level_2":case"sublocality_level_3":t.push(e[1])}t.length||"sublocality"!==e[0]&&"administrative_area_level_2"!==e[0]||t.push(e[1])})),t=t.join(","),t})(t);let a=[(null===t||void 0===t?void 0:t.street_number)||"",i];L(i),T((e=>({...e,country:null===t||void 0===t?void 0:t.country,addressLines:a,city:(null===t||void 0===t?void 0:t.administrative_area_level_2)||(null===t||void 0===t?void 0:t.locality),state:(null===t||void 0===t?void 0:t.administrative_area_level_1)||"",pinCode:(null===t||void 0===t?void 0:t.postal_code)||""}))),H(),setTimeout((()=>{P()}),800)},H=()=>{var e,t,i,a;return(null===S||void 0===S?void 0:S.addressLines[1].length)&&(null===S||void 0===S||null===(e=S.name)||void 0===e?void 0:e.length)&&(null===S||void 0===S||null===(t=S.city)||void 0===t?void 0:t.length)&&(null===S||void 0===S||null===(i=S.pinCode)||void 0===i?void 0:i.length)&&(null===S||void 0===S||null===(a=S.state)||void 0===a?void 0:a.length)},U=e=>{var t,i,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===j&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===b})))},W={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:i,classNames:"address-module-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:o?m:u,autoFocus:!0},B=e=>(e.preventDefault(),!1);return Object(h.jsxs)(y.a,{...W,"data-testid":"address-modal-landing-page",children:[Object(h.jsx)("div",{className:"address-form-section",children:Object(h.jsxs)("div",{className:"form-container",children:[E&&Object(h.jsx)("div",{className:"error-service-msg",children:g}),Object(h.jsx)("div",{className:"form-header",children:"Address"}),Object(h.jsxs)("form",{autocomplete:"off",children:[Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===S||void 0===S?void 0:S.name,onChange:M}),Object(h.jsx)("label",{children:"Address Nickname*"})]}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("input",{"data-testid":"search-input-address",value:A||(null===S||void 0===S?void 0:S.addressLines[1]),onChange:e=>{L(e.target.value);const t=[null===S||void 0===S?void 0:S.addressLines[0],e.target.value];T({...S,addressLines:t})},disabled:!D,name:"addressName",onFocus:()=>{L(A)},required:!0,type:"text"}),Object(h.jsx)("label",{children:"Address*"}),Object(h.jsx)("ul",{ref:w,className:"address-list",children:ht(R,_,(e=>{let{description:i,structured_formatting:{main_text:a,secondary_text:o}}=e;return()=>{f(!1),P(),t(Object(bt.u)()),Object(jt.b)({address:i,componentRestrictions:{country:"in"}}).then((e=>(F(e[0]),Object(jt.c)(e[0])))).then((e=>{Ot.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:C,geoHashPrecision:x}),T((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})))})).catch((e=>{console.log("Error: ",e)}))}}))})]}),Object(h.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===S||void 0===S?void 0:S.floor)||(null===S||void 0===S?void 0:S.addressLines[0]),onChange:M}),Object(h.jsx)("label",{children:"Apt / Suite / Floor"})]}),Object(h.jsxs)("div",{className:"input-container ml5",children:[Object(h.jsx)("input",{className:"p-none",required:!0,type:"text",name:"pinCode",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===S||void 0===S?void 0:S.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:M}),Object(h.jsx)("label",{children:"Postal Code*"})]})]}),Object(h.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===S||void 0===S?void 0:S.city,"data-testid":"city-id",onChange:M}),Object(h.jsx)("label",{children:"City / Town*"})]}),Object(h.jsxs)("div",{className:"input-container ml5",children:[Object(h.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===S||void 0===S?void 0:S.state,"data-testid":"state-id",onChange:M}),Object(h.jsx)("label",{children:"State*"})]})]}),Object(h.jsxs)("div",{className:"default-address-section",children:[Object(h.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===S||void 0===S?void 0:S.isPrimary,checked:null===S||void 0===S?void 0:S.isPrimary,onChange:M}),Object(h.jsx)("div",{className:"default-label-text",children:Object(h.jsx)("label",{htmlFor:"default-address",children:"Make this my default address"})})]})]})]})}),Object(h.jsxs)("div",{className:"input-container text-center",children:[Object(h.jsx)(c.a,{onClick:l,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:"Cancel"}),Object(h.jsx)(c.a,{disabled:!H(),className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{const e=(e=>{var t,i;let a={},o=["",""];return o[1]=e.addressLines[1],o[0]=(null===e||void 0===e?void 0:e.floor)||e.addressLines[0],a={addressId:(null===e||void 0===e?void 0:e.id)||"",addressName:e.name||"",city:e.city,postalCode:e.pinCode,state:e.state,country:e.country||"",isPrimary:e.isPrimary||!1,location:{latitude:(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)||(null===e||void 0===e?void 0:e.latitude),longitude:(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)||(null===e||void 0===e?void 0:e.longitude)},addressLines:o},a})(S),i=null===r||void 0===r?void 0:r.filter(U),a=null===n||void 0===n?void 0:n.maxDriveTimeMins,o=Ot.a.checkAndProceed({stores:i,disposition:b,distanceMetrics:null===n||void 0===n?void 0:n.distanceMetrics,driveTime:a});if(null!==o&&void 0!==o&&o.length){const{phoneNumber:i,customerId:a}=p.a.getInstance();t(Object(be.a)({customerId:a,phoneNumber:i,tenantId:s,data:e})),l()}else f(!0)},children:"Save"})]})]})};var Nt=e=>{const t=Object(d.b)(),{savedAddresses:i,storeSearch:l,tenantId:n,allStores:s,driveTime:r}=e,[u,v]=Object(a.useState)(!1),[O,b]=Object(a.useState)(!1),[j,g]=Object(a.useState)({}),{MYDELIVERYADDRESSES:N}=nt.a,I=function(e){const t="edit"===e;g(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),v(!0),b(t)},S=(T=i,T.sort(((e,t)=>t.isPrimary-e.isPrimary))).map((e=>Object(h.jsx)(o.a.Fragment,{children:Object(h.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(h.jsxs)("div",{className:"address-description d-flex",children:[Object(h.jsxs)("p",{className:"address-mode",children:[Object(h.jsx)("span",{className:"text-transform-capitalize",children:null===e||void 0===e?void 0:e.name})," ",null!==e&&void 0!==e&&e.isPrimary?"(Default)":""]}),Object(h.jsx)("div",{className:"delivery-details",children:Object(h.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.city)&&Object(h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})})]}),Object(h.jsxs)("div",{className:"action-btn d-flex",children:[Object(h.jsx)("div",{onClick:()=>I("edit",e),"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:"Edit"}),Object(h.jsx)("div",{onClick:()=>(e=>{const{phoneNumber:i,customerId:a}=p.a.getInstance();t(Object(be.b)({customerId:a,phoneNumber:i,tenantId:n,addressId:e}))})(null===e||void 0===e?void 0:e.id),"data-testid":"delete-testid",className:"anchor-info del-adjust",children:"Delete"})]})]})})));var T;return Object(h.jsxs)("div",{className:"delivery-address-section",children:[Object(h.jsxs)("div",{className:"header-text",children:[Object(m.translateWithI18Next)(N)," ",(null===i||void 0===i?void 0:i.length)>0&&"(".concat(i.length,")")]}),(null===i||void 0===i?void 0:i.length)>0&&S,Object(h.jsx)("div",{className:"add-address",children:Object(h.jsx)(c.c,{"data-testid":"add-testid",onClickHandler:()=>I("add"),variant:c.b.tertiary,className:"mt-10",children:"Add New Address"})}),u&&Object(h.jsx)(gt,{"data-testid":"address-modal",isOpen:u,modalType:O,storeSearch:l,address:j,tenantId:n,driveTime:r,allStores:s,handleClose:()=>(document.querySelector("body").style.overflow="",v(!1),void t(Object(bt.u)()))})]})};var It=e=>{var t;const{KM:i,ADDRESS:o}=nt.a,{STORE_STATUS_OPEN:l}=ut.a,{REMOVED_MSG:n}=z.a,{SingleArrowback:s,tickWhiteToast:r}=u.a,c=Object(d.b)(),{userOrderState:O}=Object(a.useContext)(xe.a),{storesWithStatus:b}=Object(d.c)((e=>e.storesReducer)),{allStores:j=[]}=Object(d.c)((e=>e.allStoresReducer)),{favouriteStores:g,savedAddresses:N}=Object(d.c)((e=>e.profileReducer)),{localized:I=!1}=Object(d.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),S=Object(d.c)((e=>e.tenantReducer)),{tenantId:T="",storeSearch:E={},driveTime:f}=S,[x,C]=Object(a.useState)([]),[D,y]=Object(a.useState)(!1),A=Object(v.Sd)(O.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):O.dispositionNew,_=A&&A.type?Object(v.Mb)(A.type):Object(v.Mb)(null===(t=S.authoredContent)||void 0===t?void 0:t.defaultdisposition);Object(a.useEffect)((()=>{if(null!==x&&void 0!==x&&x.length&&T){const e=[];x.forEach((t=>{e.push({storeId:t.storeBasic.id,channel:G.b.channel,service:_})}));const t=!0;localStorage.getItem("setFav")||c(Object(bt.d)({data:e,tenantId:T,isFavoritePage:t}))}}),[T,null===x||void 0===x?void 0:x.length]),Object(a.useEffect)((()=>(window.scrollTo(0,0),c(Object(bt.u)()),()=>{c(Object(bt.u)())})),[]),Object(a.useEffect)((()=>{null!==x&&void 0!==x&&x.length&&null!==b&&void 0!==b&&b.length&&(x.forEach((e=>{const t=b.find((t=>t.storeId===e.storeBasic.id));t&&(e.summary=t.summary,e.isOpen=t.summary.status.currentStatus===l)})),C(x.filter((e=>e.summary))))}),[null===b||void 0===b?void 0:b.length,null===x||void 0===x?void 0:x.length]),Object(a.useEffect)((()=>{localStorage.getItem("renderComp")&&localStorage.getItem("setFav")&&(localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),c(Object(bt.u)()),R())})),Object(a.useEffect)((()=>{R(),D&&(fe.b.dark(Object(h.jsxs)("div",{className:"img-text-div",children:[Object(h.jsx)(J.a,{srcFile:r})," ",Object(h.jsx)("span",{className:"text",children:Object(m.translateWithI18Next)(n)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:fe.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{fe.b.dismiss()}),3e3))}),[g.length,D]);const R=()=>{const e=JSON.parse(localStorage.getItem("storeInfo")),t=null!==N&&void 0!==N&&N.length?N.filter((e=>e.isPrimary)):[],a=e&&I?e:(null===t||void 0===t?void 0:t.length)&&t[0];if(a){let e=null===E||void 0===E?void 0:E.distanceMetrics;e=e!==i?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;const t=g.map((e=>{var t;const{latitude:i,longitude:a}=(null===(t=e.storeBasic)||void 0===t?void 0:t.location)||{};return{lat:i,lng:a}}));var o,l;if(null!==g&&void 0!==g&&g.length)L([{lat:null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.latitude,lng:null===a||void 0===a||null===(l=a.location)||void 0===l?void 0:l.longitude}],t,e);else C([]),y(!1)}else C(g),y(!1)},L=(e,t,i)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:i,avoidHighways:!1,avoidTolls:!1},P)},P=(e,t)=>{let i=[],a=[];a=(null===e||void 0===e?void 0:e.rows)&&e.rows[0].elements.map((e=>e)),i=g.map(((e,t)=>({...e,...a[t]}))),C(i),y(!1)};return Object(h.jsxs)("div",{className:"addresses-and-stores-container",children:[Object(h.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(h.jsx)("img",{className:"backArrow-account-setting",onClick:()=>e.updateMenu(""),src:s,alt:"Back Arrow"}),Object(h.jsx)("span",{className:"account-setting-text-header",children:Object(m.translateWithI18Next)(o)})]}),((null===x||void 0===x?void 0:x.length)>0||(null===b||void 0===b?void 0:b.length)>0)&&Object(h.jsx)(vt,{"data-testid":"favStore-list",removeFromFavoriteHandler:e=>{const{customerId:t}=p.a.getInstance();c(Object(bt.x)({tenantId:T,customerId:t,storeId:e,dispatch:"dispatch"})),y(!0)},localized:I,history:e.history,storesReducer:b,favouriteStores:x,isMobile:e.isMobile}),Object(h.jsx)(Nt,{storeSearch:E,savedAddresses:N,isMobile:e.isMobile,tenantId:T,driveTime:f,allStores:j,updateMenu:e.updateMenu})]})},St=i(1101),Tt=i(132);var Et=e=>{let{history:t,setShowKfcHeader:i}=e;const{ACCOUNT_SETTING:o,ORDER_HISTORY_TAG:l,ADDRESS:n,MY_FAV_MENU:d}=O.d,[s,r]=Object(a.useState)(Object(v.de)(window.innerWidth)),[c,u]=Object(a.useState)(""),{userOrderState:m}=Object(a.useContext)(xe.a),b=Object(Tt.b)(ge.b);Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.de)(window.innerWidth);r(e)}))}),[s]),Object(a.useEffect)((()=>("GoToOrderHistory"!==localStorage.getItem("LoadMoreOrderHistory")&&!0!==t.location.isNavigatingFromReorder||u(l),()=>{localStorage.removeItem("LoadMoreOrderHistory")})),[]),Object(a.useEffect)((()=>{null!==b&&void 0!==b&&b.accoundSetting&&u(o)}),[]);const j=e=>{switch(e){case o:return i(!1),Object(h.jsx)(Ee,{updateMenu:e=>u(e),history:t});case l:return i(!1),Object(h.jsx)(Oe,{isMobile:s,renderSwitch:j,updateMenu:e=>u(e)});case n:return i(!1),Object(h.jsx)(It,{history:t,isMobile:s,updateMenu:e=>u(e)});case d:return i(!1),Object(h.jsx)(lt,{isMobile:s,updateMenu:e=>u(e),currentMenu:c});default:return i(!0),s?Object(h.jsx)(g,{isMobile:s,currentMenu:c,updateMenu:e=>u(e),history:t}):Object(h.jsx)(Oe,{isMobile:s,renderSwitch:j,updateMenu:e=>u(e)})}};return s?Object(h.jsxs)("div",{className:"mobile-order-history",children:[j(c),m.showCartClearAlert?Object(h.jsx)(St.a,{}):null]}):Object(h.jsxs)("div",{className:"account-desktop-container mt-5 grid-container",children:[Object(h.jsx)("div",{className:"account-section-left",children:Object(h.jsx)(g,{isMobile:s,currentMenu:c,updateMenu:e=>u(e),history:t})}),Object(h.jsx)("div",{className:"account-section-right",children:j(c)}),m.showCartClearAlert?Object(h.jsx)(St.a,{}):null]})},ft=i(961),xt=i(1129);var Ct={HEADER_LOGO:"HEADER LOGO",MENU_LINK:"MENU LINK",DEALS_LINK:"DEALS LINK",CATERING_LINK:"CATERING LINK",SIGN_IN_LINK:"SIGN IN LINK",CART_ICON:"CART ICON",LANGUAGE_SELECTOR:"LANGUAGE SELECTOR",SUPPORT_LINK:"SUPPORT SECTION",GUEST_USER_SINGIN_TEXT:"signInSignUp",LOGGEDIN_USER_SINGIN_TEXT:"account",CART_ICON_100_PERCENT:"CART ICON ANIMATION_100%",CART_ICON_120_PERCENT:"CART ICON ANIMATION_120%",BACK_TO_CART:"backToCart",USER_SINGIN_TEXT:"Sign In",Go_TO_HOME_PAGE:"GoToHomePage",ZERO:0,CART_ALT_TEXT:"Cart",NEED_HELP:"needHelp",LANGUAGE_SELECTOR_TYPE:"Language Selector"},Dt=i(1219);t.default=e=>{var t,i,c,u,m,O;const{DISPOSITION:b}=ft.default,[j,p]=Object(a.useState)(!0),g=Object(d.b)();let N=Object(d.c)((e=>e.appStateReducer.userStatus)),I=null,S=null,T=null;const{userOrderState:E,userOrderStateDispatch:f}=Object(a.useContext)(xe.a),x=Object(d.c)((e=>{var t;return{marketPageContent:e.marketConfigReducer.response||null,tenantData:e.tenantReducer||null,userParams:e.appStateReducer.userStatus||null,homePageContent:Object(v.wd)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),tenantReducerContent:Object(v.wd)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(Object(a.useEffect)((()=>{f({type:Ct.SET_HIDE_NAV_BARS,value:{flag:!j}})}),[j,f]),Object(a.useEffect)((()=>{var e;g(Object(n.a)({object:Object(le.a)(),contentFull:{content_type:"marketConfig","fields.location":null===x||void 0===x||null===(e=x.tenantData)||void 0===e?void 0:e.country,"fields.channel":G.b.channel,include:5}}))}),[null===x||void 0===x||null===(t=x.tenantData)||void 0===t?void 0:t.country,g]),Object(a.useEffect)((()=>{g(Object(l.c)({object:Object(le.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":G.b.channel,include:"5"},userParams:x.userParams}))}),[x.userParams,g]),x.marketPageContent&&x.tenantData&&x.homePageContent){const{header:e,footer:t}=x.marketPageContent.headerData;I=Object(v.gc)(e),S=Object(v.fc)(x.homePageContent),T=Object(v.Wb)(t)}return Object(h.jsxs)(o.a.Fragment,{children:[Object(v.Td)(I)&&(!Object(v.de)(window.innerWidth)||j)&&Object(h.jsx)(r.a,{contentData:I,tenantReducerData:x.tenantData,userParams:x.userParams})||null,Object(h.jsx)(xt.a,{contentData:{segmentedHomePageData:null!==(i=null===(c=S)||void 0===c?void 0:c[b])&&void 0!==i?i:{},contentDispositionData:null!==(u=null===(m=S)||void 0===m?void 0:m[b])&&void 0!==u?u:{}},userParams:N,showHeader:!Object(v.de)(window.innerWidth)||j}),Object(h.jsx)(Et,{history:e.history,setShowKfcHeader:e=>p(e)}),Object(v.Td)(T)&&Object(h.jsx)(s.a,{history:e.history,contentData:T,tenantReducerData:x.tenantData})||null,(null===(O=E.cartAlertData)||void 0===O?void 0:O.showCartAlert)&&Object(h.jsx)(Dt.a,{}),E.showCartClearAlert?Object(h.jsx)(St.a,{}):null]})}},1096:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(3);var a=i(1181),o=i.n(a),l=(i(1182),i(1183),i(2));const n=e=>{const{settings:t,carousalRef:i}=e;return Object(l.jsx)(o.a,{...t,ref:i,children:e.children})};n.defaultProps={settings:null,carousalRef:null},t.b=n},1098:function(e,t,i){"use strict";i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return r})),i.d(t,"d",(function(){return c})),i.d(t,"h",(function(){return u})),i.d(t,"g",(function(){return v})),i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return O})),i.d(t,"c",(function(){return b}));var a=i(21),o=i(9),l=i(5),n=i(398),d=i(0);const s=async(e,t)=>{var i;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(i=o.a.upsizeSelectedPwa)||void 0===i?void 0:i.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},l.Bb))},r=async e=>{var t;await a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},l.Bb)},c=async e=>{var t;await a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},l.Bb)},u=async e=>{var t,i,n,d,s;const{eventFlag:r,itemsArray:c,userType:u="",totalAmount:v="",couponCode:m="",currencyShortName:O=""}=e,b=await(null===c||void 0===c?void 0:c.length)>0&&((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.item_name)===(null===c||void 0===c||null===(i=c[1])||void 0===i?void 0:i.item_name)?[null===c||void 0===c?void 0:c[0]]:c);await(null===c||void 0===c?void 0:c.length)>0&&a.a.registerEvent(null===o.a||void 0===o.a||null===(n=o.a[r])||void 0===n?void 0:n.name,{data:{event:r,userType:u||"",ecommerce:{items:b,currency:O||"",value:v||(null===b||void 0===b||null===(d=b[0])||void 0===d?void 0:d.price)*(null===b||void 0===b||null===(s=b[0])||void 0===s?void 0:s.quantity)||"",coupon:m||""}}},l.Bb)},v=async(e,t)=>{var i;await a.a.registerEvent(null===o.a||void 0===o.a||null===(i=o.a.viewItemList)||void 0===i?void 0:i.name,{data:{event:n.u,disposition:Object(l.h)(t),ecommerce:{items:e||[]}}},l.Bb)},m=async()=>{var e;await a.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},l.Bb)},O=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:i}}}}))},b=async e=>{var t,i,n;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_name,item_list_id:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_id,ecommerce:{items:e||[]}}},l.Bb))}},1099:function(e,t,i){"use strict";var a=i(962);i.d(t,"a",(function(){return a.default}))},1101:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i(3),o=i(28),l=i(92),n=i(106),d=i(85);const s={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var r=i(16),c=i(6),u=i(5),v=i(35),m=i(15),O=i(0),b=i(80),j=i(2);const p=e=>{const t=Object(o.c)((e=>e.cartReducer)),{cartData:i={}}=t||{},p=Object(o.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:N}=Object(a.useContext)(d.a),{modalToOpenOnConfirm:I,modalOpenFrom:S,confirmCallBack:T}=g,{CartError:E}=m.a,f=Object(o.b)(),{CLEAR_ALL_MSG:x,CLEAR_ALL:C,CANCEL:D,TO_CHANGE_LANGUAGE:y}=s;((e,t,i)=>{e.langSelector?t.MSGTXT3=i:t.MSGTXT3})(e,x,y);const{SHOW_CLEAR_CART_ALERT:A,DISPOSITION_DATA:_,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:P,orderTypeAlertTitle:w,searchStoreAlertTitle:k,RESET_DELIVERY_ADDRESS_LINE:M,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:H}=r.a,U=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,W=()=>{N({type:F,value:{}}),N({type:O.Oe,value:{selectedLanguage:""}}),N({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),S===P&&N({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:U.store,changeFlow:!0}})};return Object(j.jsx)(n.a,{handleClose:W,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(l.a,{splitTitle:x,imageSrc:E,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(C),cancelButtonText:Object(c.translateWithI18Next)(D),cancelHandler:W,confirmHandler:()=>{if(i.discountLines.length>0){let e=i.discountLines.map((e=>e.id));f(Object(v.n)({params:{basketId:i.id},tenantId:h,shouldClearCart:!0},e))}else f(Object(v.o)({basketId:i.id,tenantId:h}));f(Object(b.c)({key:O.gd.VIEW_PRODUCT})),localStorage.removeItem(O.gd.ADD_TO_ORDER),f(Object(v.u)(new Date)),N({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),T&&T(),I===w?(N({type:M}),N({type:_,value:{showDisposition:!0}}),N({type:L,value:{showScheduleOrderCatering:!1}}),N({type:R,value:{showSearchStore:!1}}),N({type:H,value:{orderCapacityDataUpdated:!1}}),N({type:F,value:{}})):I===k&&N({type:R,value:{showSearchStore:!0}})}})})}},1103:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a}));let a;(async()=>{a=await(async()=>{var t,a,o,l,n;const d=null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE,s=await Promise.resolve().then(i.bind(null,215));return null===s||void 0===s||null===(o=s.default)||void 0===o||null===(l=o[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===l?void 0:l.MENU_PLP_CONSTANTS})()})()}).call(this,i(121))},1108:function(e,t,i){"use strict";i.d(t,"o",(function(){return b})),i.d(t,"f",(function(){return j})),i.d(t,"r",(function(){return h})),i.d(t,"d",(function(){return g})),i.d(t,"g",(function(){return T})),i.d(t,"y",(function(){return E})),i.d(t,"v",(function(){return f})),i.d(t,"s",(function(){return x})),i.d(t,"w",(function(){return C})),i.d(t,"n",(function(){return D})),i.d(t,"x",(function(){return y})),i.d(t,"u",(function(){return A})),i.d(t,"k",(function(){return _})),i.d(t,"p",(function(){return k})),i.d(t,"h",(function(){return M})),i.d(t,"i",(function(){return F})),i.d(t,"j",(function(){return H})),i.d(t,"q",(function(){return U})),i.d(t,"e",(function(){return G})),i.d(t,"l",(function(){return Y})),i.d(t,"m",(function(){return V})),i.d(t,"a",(function(){return K})),i.d(t,"b",(function(){return q})),i.d(t,"c",(function(){return z})),i.d(t,"t",(function(){return J}));var a=i(0),o=i(274),l=i(5),n=i(12),d=i(265),s=i(20),r=i.n(s),c=i(6),u=i(57),v=i(4),m=i(1111),O=i(1180);const b={tenantId:null,currencyCode:null,currencySymbol:null,currencyShortName:null,showCarryBagInLineItem:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,favouriteOrderRegex:"",hideCancelOrderPanel:null,enableCancelOrderCallsupportModal:null,hidePickupCheckin:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,miscPaymentReferenceId:null,wiCodePurchaseId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},enableOrderNoteForCheckout:!1,deliveryOrEstimatedOrCollectAtTime:null,pickupOrderEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(l.de)(window.innerWidth),discountLines:[],paymentDiscountLines:[],paymentDiscountTotal:0,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayOrderProcessingPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,deliverySearchType:"",savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,isShowStoreClosePickupOrderCancelModal:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0,orderSummarycontentData:{},openCallSupportModal:!1,showGiftCardOrVoucherSummary:!1,showPromosSummary:!1,showOrderingTime:"",isPostorderStoreShutdownPopupModal:!1,showOrderSummaryOnSentToPosFailed:!1,isUberServiceableEnabled:!1},j=e=>null!==e&&void 0!==e&&e.enableGlobalOrderTracking?0===parseInt(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber:0===parseInt(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId,p=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(l.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((e=>{var o,l,n,d,s,r,c,u,v,m,O,b,j,p,h,g,N,I,S;return(null===i||void 0===i?void 0:i.length)>0&&(null===a.Vd||void 0===a.Vd||null===(o=a.Vd.CREDIT_CARD)||void 0===o?void 0:o.toLowerCase())===(null===t||void 0===t||null===(l=t[0])||void 0===l||null===(n=l.type)||void 0===n?void 0:n.toLowerCase())?(null===e||void 0===e||null===(d=e.fields)||void 0===d||null===(s=d.title)||void 0===s?void 0:s.toLowerCase())===(null===i||void 0===i||null===(r=i[0])||void 0===r||null===(c=r.paymentInstrumentType)||void 0===c?void 0:c.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===i||void 0===i||null===(m=i[0])||void 0===m||null===(O=m.paymentInstrumentType)||void 0===O?void 0:O.toLowerCase()):(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(j=b.title)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(p=t[0])||void 0===p||null===(h=p.type)||void 0===h?void 0:h.toLowerCase())||(null===e||void 0===e||null===(g=e.fields)||void 0===g||null===(N=g.orderServName)||void 0===N?void 0:N.toLowerCase())===(null===t||void 0===t||null===(I=t[0])||void 0===I||null===(S=I.type)||void 0===S?void 0:S.toLowerCase())})):{}};function h(e){var t,i,o,l;if((null===e||void 0===e?void 0:e.status)===(null===a.Rd||void 0===a.Rd||null===(t=a.Rd.SENT_TO_POS_FAILED)||void 0===t?void 0:t.toLowerCase()))return;let n=[];const d=localStorage.getItem("guestActiveOrders");if(d)try{const e=JSON.parse(d);n=null!==Array&&void 0!==Array&&Array.isArray(e)?e:[]}catch(C){console.error("Error parsing stored orders:",C)}const s=null===(i=n)||void 0===i?void 0:i.some((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))),r=(null===e||void 0===e?void 0:e.displayOrderId)||(null===e||void 0===e?void 0:e.posOrderId);if(!s&&(null===e||void 0===e?void 0:e.status)!==(null===a.Rd||void 0===a.Rd||null===(o=a.Rd.SENT_TO_POS_FAILED)||void 0===o?void 0:o.toLowerCase())&&(null===e||void 0===e?void 0:e.status)!==(null===a.Rd||void 0===a.Rd||null===(l=a.Rd.ACCEPTED)||void 0===l?void 0:l.toLowerCase())){var c,u,v,m,O,b,j,p,h,g,N,I,S,T,E,f,x;const t={id:null===e||void 0===e?void 0:e.orderId,email:(null===e||void 0===e||null===(c=e.customer)||void 0===c?void 0:c.email)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.customer)||void 0===v?void 0:v.email)||(null===e||void 0===e?void 0:e.userEmail),phone:(null===e||void 0===e||null===(m=e.customer)||void 0===m?void 0:m.phoneNumber)||(null===e||void 0===e||null===(O=e.postOrderDetails)||void 0===O||null===(b=O.customer)||void 0===b?void 0:b.phoneNumber)||(null===e||void 0===e?void 0:e.userPhone),service:null===e||void 0===e?void 0:e.service,referenceNumber:r,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.fulfillmentDateTime),store:{timeZoneIANA:(null===e||void 0===e||null===(p=e.store)||void 0===p?void 0:p.timeZoneIANA)||(null===e||void 0===e||null===(h=e.postOrderDetails)||void 0===h||null===(g=h.store)||void 0===g?void 0:g.timeZoneIANA),storeId:(null===e||void 0===e||null===(N=e.store)||void 0===N?void 0:N.storeId)||(null===e||void 0===e||null===(I=e.postOrderDetails)||void 0===I||null===(S=I.store)||void 0===S?void 0:S.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(T=e.postOrderDetails)||void 0===T?void 0:T.requestedDateTime),deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(E=e.postOrderDetails)||void 0===E?void 0:E.deliveryDetails),status:null===e||void 0===e?void 0:e.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(f=e.postOrderDetails)||void 0===f?void 0:f.otu),isActiveGuestTracking:!0};null===(x=n)||void 0===x||x.unshift(t),localStorage.setItem("guestActiveOrders",JSON.stringify(n))}if(s){let t=!1;const i=n.map((i=>{var a;if((null===i||void 0===i?void 0:i.id)===(null===e||void 0===e?void 0:e.orderId)&&(null==(null===i||void 0===i?void 0:i.referenceNumber)||null==(null===i||void 0===i?void 0:i.fulfillmentDateTime)||null==(null===i||void 0===i?void 0:i.requestedDateTime)||null==(null===i||void 0===i||null===(a=i.store)||void 0===a?void 0:a.id)||null==(null===i||void 0===i?void 0:i.otu))){var o,l,n,d,s,c,u,v,m,O,b,j;t=!0;return{...i,referenceNumber:r||i.referenceNumber,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(o=e.postOrderDetails)||void 0===o?void 0:o.fulfillmentDateTime)||i.fulfillmentDateTime,store:{timeZoneIANA:(null===e||void 0===e||null===(l=e.store)||void 0===l?void 0:l.timeZoneIANA)||(null===e||void 0===e||null===(n=e.postOrderDetails)||void 0===n||null===(d=n.store)||void 0===d?void 0:d.timeZoneIANA)||(null===(s=i.store)||void 0===s?void 0:s.timeZoneIANA),storeId:(null===e||void 0===e||null===(c=e.store)||void 0===c?void 0:c.storeId)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.store)||void 0===v?void 0:v.storeId)||(null===(m=i.store)||void 0===m?void 0:m.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(O=e.postOrderDetails)||void 0===O?void 0:O.requestedDateTime)||i.requestedDateTime,deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(b=e.postOrderDetails)||void 0===b?void 0:b.deliveryDetails)||i.deliveryDetails,status:(null===e||void 0===e?void 0:e.status)||i.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.otu)}}return i}));t&&localStorage.setItem("guestActiveOrders",JSON.stringify(i))}}const g=(e,t)=>{var i;let a=null===e||void 0===e?void 0:e.filter((e=>!Object(l.q)(e,!0)));return a=null===(i=a)||void 0===i?void 0:i.filter((e=>!(e=>{var t;let i=!1;const a=Object(d.k)(e)||Object(d.k)(null===e||void 0===e||null===(t=e.deliveryDetails)||void 0===t?void 0:t.riderStatus),o=Object(d.K)(e)||Object(d.hb)(e);return(a||o)&&(i=!0),i})(e))),(null===e||void 0===e?void 0:e.length)>0&&localStorage.setItem("guestActiveOrders",JSON.stringify(a)),t?(localStorage.removeItem("guestActiveOrders"),[]):a},N=e=>{var t,i;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(l.qe)(null===e||void 0===e||null===(i=e.orderAccepted)||void 0===i?void 0:i.id)},I=e=>{var t,i,a;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(i=e.pastOrderResponse)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.id)},S=e=>{var t;return(e=>{var t,i,a,o,l;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(i=Object.keys(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.order))||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(l=o.order)||void 0===l?void 0:l.id)})(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},T=e=>{const{postOrderReducer:t={},orderReducer:i={},orderDetails:a={},isCheckOrderDetails:o=!0}=e;let l=(e=>N(e)?null===e||void 0===e?void 0:e.orderAccepted:null)(t);var n;null===l&&(l=(e=>{var t;return I(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null})(i),null===l&&(l=S(i),o&&null===l&&(l=null!==a&&void 0!==a&&a.postOrderDetails&&null!==(n=Object.keys(null===a||void 0===a?void 0:a.postOrderDetails))&&void 0!==n&&n.length?null===a||void 0===a?void 0:a.postOrderDetails:{})));return l||{}},E=e=>{var t,i,a,o,l,n,d,s,r,c,u,v,m,O,b,j,p,h,g,N,I,S,T,E,f,x,C,D,y,A,_,R,L,P,w,k,M,F,H,U,W,B,G,Y,V,K,q,z,J,Q,X,Z,$,ee,te,ie,ae,oe,le,ne,de,se,re,ce,ue,ve,me,Oe,be,je,pe,he,ge,Ne,Ie,Se,Te,Ee,fe,xe,Ce,De,ye;const{props:Ae,dispatch:_e,tenantReducer:Re={},isExternalTrackOrder:Le=!1,dispositionPaymentPage:Pe,updateSetOrderDetails:we}=e,{tenantId:ke,currencyCode:Me,currencySymbol:Fe,currencyShortName:He,showCarryBagInLineItem:Ue,addHope:We,carryBag:Be,currencyConversionFactor:Ge,pastOrderDateformat:Ye,pastOrderTimeFormat:Ve,storeSearch:Ke={},driveTime:qe,buffertimepmpickup:ze,buffertimepmdelivery:Je,favouriteOrderRegex:Qe,componentOptions:Xe,enablePickupMethodChangePostOrder:Ze,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,postorderStoreShutdownPopup:it}=Re;we({props:Ae,dispatch:_e,tenantId:ke,enablePickupMethodChangePostOrder:Ze,postorderStoreShutdownPopup:it,currencyCode:Me,currencySymbol:Fe,currencyShortName:He,showCarryBagInLineItem:Ue,addHope:We,carryBag:Be,currencyConversionFactor:Ge,pastOrderDateformat:Ye,pastOrderTimeFormat:Ve,isExternalTrackOrder:Le,storeSearch:Ke,driveTime:qe,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,buffertimepmpickup:ze,buffertimepmdelivery:Je,favouriteOrderRegex:Qe,operatingTime:null===Pe||void 0===Pe||null===(t=Pe.store)||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.timings,hideCancelOrderPanel:null===Xe||void 0===Xe||null===(a=Xe.web)||void 0===a||null===(o=a.orderPages)||void 0===o?void 0:o.hideCancelOrderPanel,enableOrderNoteForCheckout:null===Xe||void 0===Xe||null===(l=Xe.checkout)||void 0===l?void 0:l.enableOrderNoteForCheckout,hidePickupCheckin:null===Xe||void 0===Xe||null===(n=Xe.web)||void 0===n||null===(d=n.orderPages)||void 0===d?void 0:d.orderSummaryShowPickupOrderCollectionMethodPanel,showTaxLines:null===Xe||void 0===Xe||null===(s=Xe.web)||void 0===s||null===(r=s.cartPage)||void 0===r?void 0:r.showTaxLines,showTaxExcluded:null===Xe||void 0===Xe||null===(c=Xe.web)||void 0===c||null===(u=c.checkout)||void 0===u?void 0:u.showTaxExcluded,enableGlobalOrderTracking:null===Xe||void 0===Xe||null===(v=Xe.web)||void 0===v||null===(m=v.orderPages)||void 0===m?void 0:m.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===Xe||void 0===Xe||null===(O=Xe.web)||void 0===O||null===(b=O.orderPages)||void 0===b?void 0:b.enableRetryCountForPickupOrderTracking,enableCancelOrderCallsupportModal:null===Xe||void 0===Xe||null===(j=Xe.web)||void 0===j||null===(p=j.orderPages)||void 0===p?void 0:p.enableCancelOrderCallsupportModal,showOrderTrackingIFrame:null===Xe||void 0===Xe||null===(h=Xe.web)||void 0===h||null===(g=h.orderPages)||void 0===g?void 0:g.showOrderTrackingIFrame,orderTrackingProgressBarCount:null===Xe||void 0===Xe||null===(N=Xe.web)||void 0===N||null===(I=N.orderPages)||void 0===I?void 0:I.orderTrackingProgressBarCount,showDeliveryDriverDetails:null===Xe||void 0===Xe||null===(S=Xe.web)||void 0===S||null===(T=S.orderPages)||void 0===T?void 0:T.showDeliveryDriverDetails,showDeliveryTrackingMap:null===Xe||void 0===Xe||null===(E=Xe.web)||void 0===E||null===(f=E.orderPages)||void 0===f?void 0:f.showDeliveryTrackingMap,orderTrackingProgressBarScheduleOrdersCount:null===Xe||void 0===Xe||null===(x=Xe.web)||void 0===x||null===(C=x.orderPages)||void 0===C?void 0:C.orderTrackingProgressBarScheduleOrdersCount,showOrderSummaryInfoDetails:null===Xe||void 0===Xe||null===(D=Xe.web)||void 0===D||null===(y=D.orderPages)||void 0===y?void 0:y.showOrderSummaryInfoDetails,deliveryProgressBarAsapOrder:null===Xe||void 0===Xe||null===(A=Xe.web)||void 0===A||null===(_=A.orderPages)||void 0===_?void 0:_.deliveryProgressBarAsapOrder,deliveryProgressBarScheduleOrders:null===Xe||void 0===Xe||null===(R=Xe.web)||void 0===R||null===(L=R.orderPages)||void 0===L?void 0:L.deliveryProgressBarScheduleOrders,hideEstimatedDeliveryTime:null===Xe||void 0===Xe||null===(P=Xe.web)||void 0===P||null===(w=P.orderPages)||void 0===w?void 0:w.hideEstimatedDeliveryTime,getDeliveryActualPickupTime:null===Xe||void 0===Xe||null===(k=Xe.web)||void 0===k||null===(M=k.orderPages)||void 0===M?void 0:M.getDeliveryActualPickupTime,hideProgressBar:null===Xe||void 0===Xe||null===(F=Xe.web)||void 0===F||null===(H=F.orderPages)||void 0===H?void 0:H.hideProgressBar,enableScheduleOrder:null===Xe||void 0===Xe||null===(U=Xe.web)||void 0===U||null===(W=U.dispositionConfig)||void 0===W?void 0:W.enableScheduleOrder,enableClickCollectScheduleOrder:null===Xe||void 0===Xe||null===(B=Xe.web)||void 0===B||null===(G=B.dispositionConfig)||void 0===G?void 0:G.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===Xe||void 0===Xe||null===(Y=Xe.web)||void 0===Y||null===(V=Y.scheduledDelivery)||void 0===V?void 0:V.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===Re||void 0===Re||null===(K=Re.componentOptions)||void 0===K||null===(q=K.web)||void 0===q||null===(z=q.orderPages)||void 0===z?void 0:z.showGiftCardOrVoucherSummary,showPromosSummary:null===Re||void 0===Re||null===(J=Re.componentOptions)||void 0===J||null===(Q=J.web)||void 0===Q||null===(X=Q.orderPages)||void 0===X?void 0:X.showPromosSummary,showStoreRegistrationNumber:null===Xe||void 0===Xe||null===(Z=Xe.web)||void 0===Z||null===($=Z.orderPages)||void 0===$?void 0:$.showStoreRegistrationNumber,showStoreOrderNumber:null===Xe||void 0===Xe||null===(ee=Xe.web)||void 0===ee||null===(te=ee.orderPages)||void 0===te?void 0:te.showStoreOrderNumber,showOrderDateTime:null===Xe||void 0===Xe||null===(ie=Xe.web)||void 0===ie||null===(ae=ie.orderPages)||void 0===ae?void 0:ae.showOrderDateTime,showOrderMode:null===Xe||void 0===Xe||null===(oe=Xe.web)||void 0===oe||null===(le=oe.orderPages)||void 0===le?void 0:le.showOrderMode,showOrderStatus:null===Xe||void 0===Xe||null===(ne=Xe.web)||void 0===ne||null===(de=ne.orderPages)||void 0===de?void 0:de.showOrderStatus,showPickupOrDeliveryTime:null===Xe||void 0===Xe||null===(se=Xe.web)||void 0===se||null===(re=se.orderPages)||void 0===re?void 0:re.showPickupOrDeliveryTime,hidePostOrderCollectionForAsap:null===Xe||void 0===Xe||null===(ce=Xe.web)||void 0===ce||null===(ue=ce.orderPages)||void 0===ue?void 0:ue.hidePostOrderCollectionForAsap,allowedPickupCollectionMethods:null===Xe||void 0===Xe||null===(ve=Xe.checkout)||void 0===ve?void 0:ve.allowedPickupCollectionMethods,geoLocationCheckForCheckin:null===Xe||void 0===Xe||null===(me=Xe.web)||void 0===me||null===(Oe=me.orderPages)||void 0===Oe?void 0:Oe.geoLocationCheckForCheckin,orderStatusFlag:null===Re||void 0===Re||null===(be=Re.componentOptions)||void 0===be||null===(je=be.web)||void 0===je||null===(pe=je.orderPages)||void 0===pe?void 0:pe.getDeliveryOrderStatusMessageFlag,tenantSpecificDateFormat:null===Re||void 0===Re||null===(he=Re.componentOptions)||void 0===he||null===(ge=he.web)||void 0===ge||null===(Ne=ge.orderPages)||void 0===Ne?void 0:Ne.displayOrderDeliveryDateFormat,showCancelOrderNumber:null===Xe||void 0===Xe||null===(Ie=Xe.web)||void 0===Ie||null===(Se=Ie.dispositionConfig)||void 0===Se?void 0:Se.showCancelOrderNumber,showStateCityAddAddress:null===Re||void 0===Re||null===(Te=Re.savedAddressPage)||void 0===Te?void 0:Te.showStateCityAddAddress,hideCustomerName:null===Xe||void 0===Xe||null===(Ee=Xe.web)||void 0===Ee||null===(fe=Ee.orderPages)||void 0===fe?void 0:fe.hideCustomerName,hideCreateAccountPanel:null===Xe||void 0===Xe||null===(xe=Xe.web)||void 0===xe||null===(Ce=xe.orderPages)||void 0===Ce?void 0:Ce.hideCreateAccountPanel,showPinCode:null===Xe||void 0===Xe||null===(De=Xe.web)||void 0===De||null===(ye=De.orderPages)||void 0===ye?void 0:ye.showOrderPinCode,showOrderSummaryOnSentToPosFailed:null===Re||void 0===Re?void 0:Re.showOrderSummaryOnSentToPosFailed,isUberServiceableEnabled:null===Re||void 0===Re?void 0:Re.isUberServiceableEnabled,useTradingHoursForStoreCloseCalculation:null===Re||void 0===Re?void 0:Re.useTradingHoursForStoreCloseCalculation})},f=e=>{const{helpReducer:t,updateSetOrderDetails:i}=e;i({helpContantData:Object(l.ic)((null===t||void 0===t?void 0:t.helpResponse)||null)})},x=e=>{const{appStateReducer:t,updateSetOrderDetails:i}=e;i({userStatus:null===t||void 0===t?void 0:t.userStatus})},C=e=>{const{profileReducer:t,orderDetails:i,updateSetOrderDetails:a}=e;a({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:D(i,null===t||void 0===t?void 0:t.favouriteOrders)})},D=function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=i||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===a||void 0===a?void 0:a.findIndex((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))))},y=e=>{var t,i,a,o,l,n,d,s;const{storesReducer:r={},updateSetOrderDetails:c}=e,u=null!==r&&void 0!==r&&null!==(t=r.storesWithStatus)&&void 0!==t&&t.length?null===r||void 0===r||null===(i=r.storesWithStatus)||void 0===i?void 0:i[0]:{};c({allStoresDetails:null!==r&&void 0!==r&&null!==(a=r.allStores)&&void 0!==a&&a.length?null===r||void 0===r?void 0:r.allStores:[],currentStoresDetails:u,operatingTimeFromStoreReducer:null!==(o=Object.keys(u))&&void 0!==o&&o.length?null===u||void 0===u||null===(l=u.summary)||void 0===l||null===(n=l.timings)||void 0===n?void 0:n.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(d=Object.keys(u))&&void 0!==d&&d.length?null===u||void 0===u||null===(s=u.summary)||void 0===s?void 0:s.availableCollectionPoints:null})},A=e=>{var t;const{orderReducer:i={},paymentsContentReducer:a={},orderDetails:o,updateSetOrderDetails:l,tenantReducer:n}=e,d=null===i||void 0===i||null===(t=i.response)||void 0===t?void 0:t.order;l({..._({orderReducerCreateOrderResponse:d,paymentsContentReducer:a,orderDetails:o,tenantReducer:n})})},_=e=>{var t;const{postOrPastOrderDetails:i={},orderReducerCreateOrderResponse:a={},paymentsContentReducer:o={},orderDetails:n,tenantReducer:d}=e,s=Object(l.pe)(i)?i:a,r=P({orderDetailsFromReducer:s,orderDetails:n,tenantReducer:d});return r.postOrderDetails=i,r.paymentType=p(null===o||void 0===o||null===(t=o.tendersContent)||void 0===t?void 0:t.items,null===s||void 0===s?void 0:s.tenders,null===s||void 0===s?void 0:s.paymentReferences),r},R=e=>{const{storeTimeZoneIANA:t,estimatedDeliveryTime:i,orderTime:o,format:l=(null===a.sb||void 0===a.sb?void 0:a.sb.H_MM_A)}=e;return t?Object(n.D)(i||o,t,l):Object(n.C)(i||o,l)},L=e=>{const{storeTimeZoneIANA:t,statusUpdatedDate:i,pastOrderDateformat:a}=e;return t?Object(n.D)(i,t,a):Object(n.C)(i,a)},P=e=>{var t,i,o,s,r,c,v,m,O,b,p,h,g,N,I,S,T,E,f,x,C,D,y,A,_,P,k,M;const{orderDetailsFromReducer:F,orderDetails:H={},tenantReducer:U}=e,W={additionalChargeLines:null===F||void 0===F?void 0:F.additionalChargeLines,customerId:null===F||void 0===F||null===(t=F.customer)||void 0===t?void 0:t.id,customer:null===F||void 0===F?void 0:F.customer,deliveryAddress:null===F||void 0===F?void 0:F.deliveryAddress,deliveryDetails:null===F||void 0===F?void 0:F.deliveryDetails,deliveryPartner:null===F||void 0===F?void 0:F.deliveryPartner,otu:(null===H||void 0===H?void 0:H.otu)||(null===F||void 0===F?void 0:F.otu),isActiveGuestTracking:(null===H||void 0===H?void 0:H.isActiveGuestTracking)||(null===F||void 0===F?void 0:F.isActiveGuestTracking),foodLines:null===F||void 0===F?void 0:F.foodLines,orderId:null===F||void 0===F?void 0:F.id,displayOrderId:j({...H,...F}),fulfillmentDateTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.fulfillmentDateTime,null===F||void 0===F||null===(i=F.store)||void 0===i?void 0:i.timeZoneIANA),orderTime:Object(n.M)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayOrderTime:Object(l.bd)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayFormatOrderTime:u.a.formatValue(u.a.tz(Object(n.L)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===F||void 0===F||null===(o=F.store)||void 0===o?void 0:o.timeZoneIANA)," h:mma"),displayTodayDate:Object(n.h)(new Date,null===H||void 0===H?void 0:H.pastOrderDateformat),posOrderId:null===F||void 0===F?void 0:F.posOrderId,userEmail:null===F||void 0===F||null===(s=F.customer)||void 0===s?void 0:s.email,userPhone:(null===F||void 0===F||null===(r=F.customer)||void 0===r?void 0:r.phoneNumber)||(null===F||void 0===F||null===(c=F.customer)||void 0===c?void 0:c.phone),service:null===F||void 0===F?void 0:F.service,status:null===F||void 0===F?void 0:F.status,orderStatus:Object(d.c)({...H,...F}),orderStatusChangedAt:Object(d.b)({orderDetails:H,orderDetailsFromReducer:F}),sameOrderStatusMaintainLast30Mins:Object(d.q)({orderDetails:H,orderDetailsFromReducer:F}),store:null===F||void 0===F?void 0:F.store,storeName:null===F||void 0===F||null===(v=F.store)||void 0===v?void 0:v.name,phoneNumber:null===F||void 0===F||null===(m=F.store)||void 0===m?void 0:m.phoneNumber,phoneNumberFormat:Object(l.bb)(null===F||void 0===F||null===(O=F.store)||void 0===O?void 0:O.phoneNumber),storeTimeZoneIANA:null===F||void 0===F||null===(b=F.store)||void 0===b?void 0:b.timeZoneIANA,storeOperatingTime:null===F||void 0===F||null===(p=F.store)||void 0===p?void 0:p.timings,deliveryOrEstimatedOrCollectAtMonthDate:R({estimatedDeliveryTime:null===F||void 0===F||null===(h=F.deliveryDetails)||void 0===h?void 0:h.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(g=F.store)||void 0===g?void 0:g.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.YYYY_MM_dd:a.sb.MMMM_D}),deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(N=F.deliveryDetails)||void 0===N?void 0:N.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(I=F.store)||void 0===I?void 0:I.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.YYYY_MM_dd_AA:a.sb.D_MMMM_AA}),deliveryOrEstimatedOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(S=F.deliveryDetails)||void 0===S?void 0:S.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(T=F.store)||void 0===T?void 0:T.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.HH_mm:a.sb.H_MM_A}),deliveryOrActualOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(E=F.deliveryDetails)||void 0===E?void 0:E.actualDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(f=F.store)||void 0===f?void 0:f.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.HH_mm:a.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(x=F.deliveryDetails)||void 0===x?void 0:x.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(C=F.store)||void 0===C?void 0:C.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.HH_mm:a.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:R({estimatedDeliveryTime:null===F||void 0===F||null===(D=F.deliveryDetails)||void 0===D?void 0:D.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(y=F.store)||void 0===y?void 0:y.timeZoneIANA,format:null!==H&&void 0!==H&&H.scheduleOrderDateFormat?null===a.sb||void 0===a.sb?void 0:a.sb.YYYY_MM_dd_AA:a.sb.H_MM_A}),orderDateOn:L({statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,storeTimeZoneIANA:null===F||void 0===F||null===(A=F.store)||void 0===A?void 0:A.timeZoneIANA,pastOrderDateformat:null===H||void 0===H?void 0:H.pastOrderDateformat}),statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,isContactless:null===F||void 0===F?void 0:F.isContactless,filteredFoodLines:Object(l.Tb)(null===F||void 0===F?void 0:F.foodLines,null===H||void 0===H?void 0:H.addHope,null===H||void 0===H?void 0:H.carryBag,null===U||void 0===U?void 0:U.showCarryBagInLineItem),orderedItemDetails:null===F||void 0===F?void 0:F.orderedItemDetails,orderingDateTime:null===F||void 0===F?void 0:F.orderingDateTime,orderingDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.orderingDateTime,null===F||void 0===F||null===(_=F.store)||void 0===_?void 0:_.timeZoneIANA),orderingDate:Object(l.Cb)(null===F||void 0===F?void 0:F.orderingDateTime),orderingDayAndMonthName:Object(l.Db)(null===F||void 0===F?void 0:F.orderingDateTime,null===H||void 0===H?void 0:H.dateFormat),orderingTime:Object(l.bd)(null===F||void 0===F?void 0:F.orderingDateTime,null===H||void 0===H?void 0:H.timeFormat),fullAddressDetails:w(null===F||void 0===F?void 0:F.deliveryAddress,null===U||void 0===U||null===(P=U.savedAddressPage)||void 0===P?void 0:P.showStateCityAddAddress,null===U||void 0===U?void 0:U.isUberServiceableEnabled),instruction:null===F||void 0===F?void 0:F.instruction,addressLines:null===F||void 0===F||null===(k=F.store)||void 0===k||null===(M=k.address)||void 0===M?void 0:M.addressLines,taxLines:null===F||void 0===F?void 0:F.taxLines,additionalCharges:null===F||void 0===F?void 0:F.additionalChargeLines,checkInSummary:null===F||void 0===F?void 0:F.checkInSummary,subTotal:null===F||void 0===F?void 0:F.subTotal,discountLines:null===F||void 0===F?void 0:F.discountLines,paymentDiscountLines:(null===F||void 0===F?void 0:F.paymentDiscountLines)||[],paymentDiscountTotal:(null===F||void 0===F?void 0:F.paymentDiscountTotal)||0,discountTotal:null===F||void 0===F?void 0:F.discountTotal,total:(null===F||void 0===F?void 0:F.total)||(null===F||void 0===F?void 0:F.amount),inclusiveTaxTotal:null===F||void 0===F?void 0:F.inclusiveTaxTotal,tenders:null===F||void 0===F?void 0:F.tenders,paymentReferences:null===F||void 0===F?void 0:F.paymentReferences,taxTotal:null===F||void 0===F?void 0:F.taxTotal,orderAcceptedLoading:(null===F||void 0===F?void 0:F.orderAcceptedLoading)||!1,requestedTimeStamp:null===F||void 0===F?void 0:F.requestedTimeStamp,requestedDateTime:null===F||void 0===F?void 0:F.requestedDateTime,orderDateTimeInEpoch:null===F||void 0===F?void 0:F.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null,bottleDepositChargeTotal:(null===F||void 0===F?void 0:F.bottleDepositChargeTotal)||0,tipCharge:null===F||void 0===F?void 0:F.driverTippingCharge,tipChargeType:null===F||void 0===F?void 0:F.driverTippingChargeType,driverTippingChargeOption:null===F||void 0===F?void 0:F.driverTippingChargeOption,showOrderingTime:Object(n.h)(Object(n.M)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===H||void 0===H?void 0:H.pastOrderTimeFormat),deliveryPinDetails:null===F||void 0===F?void 0:F.deliveryPinDetails};return null!==(null===H||void 0===H?void 0:H.orderId)&&null!==(null===F||void 0===F?void 0:F.id)&&(null===H||void 0===H?void 0:H.orderId)!==(null===F||void 0===F?void 0:F.id)&&(W.oldOrderId=null===F||void 0===F?void 0:F.id),W},w=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(l.pe)(e)){var a,o;let{addressLines:r}=e;const{city:c,state:u,country:v,pinCode:m,customProperties:O=[]}=e,b=Object(l.vd)(m),j=Object(l.vd)(c),p=Object(l.vd)(u),h=Object(l.vd)(v),g=null!==(a=null===(o=O[2])||void 0===o?void 0:o.value)&&void 0!==a?a:"";var n,d,s;if(i)r[1]=null===(n=r[1])||void 0===n||null===(d=n.split(","))||void 0===d||null===(s=d.join)||void 0===s?void 0:s.call(d,"");const N=null===r||void 0===r?void 0:r.filter((e=>e)).join(", ");if(t){const e=u&&"".concat(u)||"",t=c&&"".concat(c)||"";return"".concat(e).concat(t).concat(null===r||void 0===r?void 0:r.filter((e=>e)).join(" ")," ").concat(g)}return"".concat(N).concat(j).concat(p).concat(b).concat(h)}return null},k=(e,t,i,a)=>{var o,l;!r()(e)&&((null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)||a)&&i({orderSummarycontentData:W(null===(o=e.items)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.fields,t)})},M=e=>{var t,i;const{orderSummarycontentData:o}=e;return null===o||void 0===o||null===(t=o.headline)||void 0===t?void 0:t.replace(a.nb,null===e||void 0===e||null===(i=e.customer)||void 0===i?void 0:i.firstName.replace(/(.{7})..+/,"$1..."))},F=e=>{const{orderSummarycontentData:t,enableClickCollectScheduleOrder:i,allowScheduleOrderForDispositions:o,service:l}=e,n=i&&(null===o||void 0===o?void 0:o.includes(l));var s;return Object(d.x)(e)||Object(d.B)(e)?(null===e||void 0===e||null===(s=e.paymentReferences[0])||void 0===s?void 0:s.paymentType)===(null===a.Vd||void 0===a.Vd?void 0:a.Vd.PAY_BY_CASH)&&null!==t&&void 0!==t&&t.payOnArrival?Object(O.a)(e):null===t||void 0===t?void 0:t.subHeadline:null!==t&&void 0!==t&&t.scheduleOrders||n?U(t,e):null===t||void 0===t?void 0:t.subHeadline},H=e=>{(e=>Object(l.Jd)(null===e||void 0===e?void 0:e.service)?Object(d.sb)(e)||Object(d.rb)(e):Object(d.t)(e)||Object(d.s)(e))(e)&&Object(o.a)(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ORDER_UPDATE_TEXT),4e3)},U=(e,t)=>{var i,o,s,r,u,m,O;const{enableClickCollectScheduleOrder:b,allowScheduleOrderForDispositions:j,service:p}=t,h=b&&(null===j||void 0===j?void 0:j.includes(p)),g=null===e||void 0===e||null===(i=e.subHeadline)||void 0===i?void 0:i.includes(a.tb),N=null===t||void 0===t?void 0:t.fulfillmentDateTime,I=Object(n.D)(N,null===t||void 0===t||null===(o=t.store)||void 0===o?void 0:o.timeZoneIANA,g?null===a.sb||void 0===a.sb?void 0:a.sb.DDDD_D_MMMM_A:null===a.sb||void 0===a.sb?void 0:a.sb.hh_mm_A),S=Object(n.D)(N,null===t||void 0===t||null===(s=t.store)||void 0===s?void 0:s.timeZoneIANA,null===a.sb||void 0===a.sb?void 0:a.sb.MMMM_D),T=Object(n.D)(N,null===t||void 0===t||null===(r=t.store)||void 0===r?void 0:r.timeZoneIANA,null===a.sb||void 0===a.sb?void 0:a.sb.YYYY_MM_DD),E=h&&g?I.replace(/^\w+/,Object(l.ed)(S,null===t||void 0===t||null===(u=t.store)||void 0===u?void 0:u.timeZoneIANA)):I,f=null===E||void 0===E?void 0:E.split(" "),x=Object(l.ed)(T,null===t||void 0===t||null===(m=t.store)||void 0===m?void 0:m.timeZoneIANA),C=null===e||void 0===e||null===(O=e.subHeadline)||void 0===O?void 0:O.replace(g?a.tb:a.Md,'<span class="red">'.concat((e=>{const{timeStamp:t,dayInAWeek:i,dateTimeArray:o,orderReadyDateTime:l,orderDetails:n}=e;if(!t)return l;switch(null===n||void 0===n?void 0:n.tenantSpecificDateFormat){case null===a.sb||void 0===a.sb?void 0:a.sb.DDDD_MMMM_D_HH_MM_A:return(i===a.uf?Object(c.translateWithI18Next)(v.a.TODAY):'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ON),"</span> ")+Object(c.translateWithI18Next)(o[0]))+" "+Object(c.translateWithI18Next)(o[2])+" "+o[1]+" "+'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.AT),"</span> ")+" "+(Object(d.A)(n)?null===n||void 0===n?void 0:n.deliveryOrActualOrCollectAtTime:o[4]+o[5]);case null===a.sb||void 0===a.sb?void 0:a.sb.D_MMMM_A:return Object(c.translateWithI18Next)(o[0])+" "+o[1]+" "+Object(c.translateWithI18Next)(o[2])+" "+o[3]+" "+o[4]+" "+o[5];default:return l}})({timeStamp:g,dayInAWeek:x,dateTimeArray:f,orderReadyDateTime:I,orderDetails:t}),"</span>"));return C?"<div class='subheadline-content ".concat(((e,t)=>(null===e||void 0===e?void 0:e.tenantSpecificDateFormat)===(null===a.sb||void 0===a.sb?void 0:a.sb.DDDD_MMMM_D_HH_MM_A)&&t?"subheadline-content-two":"")(t,g),"'>").concat(C,"</div>"):""},W=(e,t)=>{var i;const{showOrderSummaryOnSentToPosFailed:a}=t,o=null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.find((e=>{var i,o,n,s,r,c,u,v,m,O,b,j,p,h,g,N;return null!==t&&void 0!==t&&null!==(i=t.requestedDateTime)&&void 0!==i&&i.isForNow||!(Object(d.ob)(t)||Object(d.v)(t)||Object(d.C)(t)||Object(d.Q)(t)||Object(d.nb)(t))?a&&!Object(l.Jd)(null===t||void 0===t?void 0:t.service)?!(null!==e&&void 0!==e&&null!==(o=e.fields)&&void 0!==o&&o.scheduleOrders)&&(null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.orderStatus.toLowerCase())===(null===t||void 0===t||null===(s=t.orderStatus)||void 0===s?void 0:s.toLowerCase()):(null===e||void 0===e||null===(r=e.fields)||void 0===r?void 0:r.orderStatus.toLowerCase())===(null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.toLowerCase()):(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.scheduleOrders)&&(!(null!==t&&void 0!==t&&t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(m=v.orderStatus)||void 0===m?void 0:m.toLowerCase())===(null===t||void 0===t||null===(O=t.orderStatus)||void 0===O?void 0:O.toLowerCase())||(null===t||void 0===t?void 0:t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(j=b.collectionPoint)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(p=t.selectedPickupOrderCollectionMethod)||void 0===p?void 0:p.toLowerCase())&&(null===e||void 0===e||null===(h=e.fields)||void 0===h||null===(g=h.orderStatus)||void 0===g?void 0:g.toLowerCase())===(null===t||void 0===t||null===(N=t.orderStatus)||void 0===N?void 0:N.toLowerCase()))}));return null===o||void 0===o?void 0:o.fields},B=(e,t)=>{var i,a,o;return null===Object||void 0===Object||null===(i=Object.keys)||void 0===i||null===(a=i.call(Object,e))||void 0===a||null===(o=a.filter)||void 0===o?void 0:o.call(a,(e=>{var i,a;return null===d.ub||void 0===d.ub||null===(i=Object(d.ub)())||void 0===i||null===(a=i[e])||void 0===a?void 0:a.call(i,t)}))},G=e=>{var t;const i=null!==e&&void 0!==e&&e.enableClickCollectScheduleOrder||null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t||!t.isForNow?null===e||void 0===e?void 0:e.deliveryProgressBarScheduleOrders:null===e||void 0===e?void 0:e.deliveryProgressBarAsapOrder;if(i){let t=B(i,e);if(Array.isArray(t)&&t.length>0){var a,o;if(1===t.length)return null!==(o=null===i||void 0===i?void 0:i[t[0]])&&void 0!==o?o:void 0;const e=null===(a=t.map((e=>null===i||void 0===i?void 0:i[e])))||void 0===a?void 0:a.filter((e=>void 0!==e));return e.length>0?Math.max(...e):void 0}}else;},Y=e=>{var t,i;return null!==(t=null===e||void 0===e||null===(i=e.hideEstimatedDeliveryTime)||void 0===i?void 0:i[B(null===e||void 0===e?void 0:e.hideEstimatedDeliveryTime,e)])&&void 0!==t&&t},V=e=>{var t,i,a;return null!==(t=null===e||void 0===e||null===(i=e.hideProgressBar)||void 0===i?void 0:i[B(null===e||void 0===e?void 0:e.hideProgressBar,e)])&&void 0!==t&&t&&!(null!==e&&void 0!==e&&null!==(a=e.requestedDateTime)&&void 0!==a&&a.isForNow)},K=e=>{let{orderDetails:t,orderReducer:i,postOrderReducer:o,paymentsContentReducer:l,updateSetOrderDetails:n,dispatch:s,tenantReducer:r,userOrderState:c}=e;if(null!==t&&void 0!==t&&t.tenantId){!sessionStorage.getItem(a.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&(e=>{let{orderReducer:t,postOrderReducer:i}=e;return N(i)||I(t)})({orderReducer:i,postOrderReducer:o})&&((e=>{const{postOrderReducer:t={},orderReducer:i={},paymentsContentReducer:a={},isCheckOrderDetails:o=!0,orderDetails:l,updateSetOrderDetails:n,tenantReducer:s}=e,r=T({postOrderReducer:t,orderReducer:i,isCheckOrderDetails:o}),{orderStatus:c,retryCountForGetOrderTrackingStatus:u,tenders:v,paymentReferences:m,displayOrderId:O}=l;if(Object(d.c)({...l,...r})!==c||j({...l,...r})!==O)n({..._({postOrPastOrderDetails:r,paymentsContentReducer:a,orderDetails:l,tenantReducer:s})});else if(Object(d.p)(l,r)){var b;n({deliveryPartner:null===r||void 0===r?void 0:r.deliveryPartner,deliveryDetails:null===r||void 0===r?void 0:r.deliveryDetails,retryCountForGetOrderTrackingStatus:u+1,fullAddressDetails:w(null===r||void 0===r?void 0:r.deliveryAddress,null===s||void 0===s||null===(b=s.savedAddressPage)||void 0===b?void 0:b.showStateCityAddAddress,null===s||void 0===s?void 0:s.isUberServiceableEnabled)})}var h;v===(null===r||void 0===r?void 0:r.tenders)&&m===(null===r||void 0===r?void 0:r.paymentReferences)||n({tenders:null===r||void 0===r?void 0:r.tenders,paymentReferences:null===r||void 0===r?void 0:r.paymentReferences,paymentType:p(null===a||void 0===a||null===(h=a.tendersContent)||void 0===h?void 0:h.items,null===r||void 0===r?void 0:r.tenders,null===r||void 0===r?void 0:r.paymentReferences)})})({postOrderReducer:o,orderReducer:i,paymentsContentReducer:l,isCheckOrderDetails:!1,orderDetails:t,updateSetOrderDetails:n,tenantReducer:r}),null!==t&&void 0!==t&&t.tenantId&&Object(m.r)({dispatch:s,orderDetails:t,updateSetOrderDetails:n,userOrderState:c}))}Object(d.f)()&&(e=>{const{postOrderReducer:t,orderDetails:i,updateSetOrderDetails:a}=e;if((null===t||void 0===t||!t.addHopeOrderLoading)&&Object(d.j)()){const{miscPaymentReferenceId:e,status:o}=null===t||void 0===t?void 0:t.addHopeOrderResponse,l={status:o,orderStatus:o};(null===i||void 0===i?void 0:i.miscPaymentReferenceId)!==e&&(l.miscPaymentReferenceId=e),a(l)}if((null===t||void 0===t||!t.giftCardPurchaseLoading)&&Object(d.Y)()){const{miscPaymentReferenceId:e,status:o}=null===t||void 0===t?void 0:t.giftCardPurchaseResponse,l={status:o,orderStatus:o};(null===i||void 0===i?void 0:i.wiCodePurchaseId)!==e&&(l.wiCodePurchaseId=e),a(l)}})({postOrderReducer:o,orderDetails:t,updateSetOrderDetails:n})},q=e=>{const{enableClickCollectScheduleOrder:t,allowScheduleOrderForDispositions:i,service:a,orderStatusFlag:o}=e,n=t&&(null===i||void 0===i?void 0:i.includes(a));return Object(l.Jd)(a)?!(Object(d.K)(e)&&!o||Object(d.sb)(e)||Object(d.Q)(e)||Object(d.rb)(e))&&(Object(d.O)(e)||Object(d.C)(e)||Object(d.B)(e),!0):n?Boolean(Object(d.mb)(e)||Object(d.u)(e)||Object(d.w)(e)):Object(d.mb)(e)||Object(d.nb)(e)},z=e=>{var t;return(null===e||void 0===e||null===(t=e.paymentReferences[0])||void 0===t?void 0:t.paymentType)!==(null===a.Vd||void 0===a.Vd?void 0:a.Vd.PAY_BY_CASH)?F(e):""},J=e=>{const{contentReducer:t,updateSetOrderDetails:i}=e;i({StoreRegistrationNumber:Object(l.Uc)(t),...Object(l.Tc)(t)})}},1109:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return u}));var a=i(21),o=i(9),l=i(5),n=i(12);i(0);const d=async function(e,t,i,n){var d;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await a.a.registerEvent(null===o.a||void 0===o.a||null===(d=o.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:s,value:i||"",coupon:n||""}}},l.Bb)},s=e=>{a.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(n.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(n.P)(e.month),", ").concat(e.day)||"NA"},l.Bb)},r=e=>{a.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},l.Bb)},c=async e=>{await a.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},l.Bb)},u=async e=>{await a.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},l.Bb)}},1111:function(e,t,i){"use strict";i.d(t,"r",(function(){return E})),i.d(t,"b",(function(){return f})),i.d(t,"t",(function(){return x})),i.d(t,"k",(function(){return C})),i.d(t,"p",(function(){return y})),i.d(t,"e",(function(){return _})),i.d(t,"l",(function(){return L})),i.d(t,"i",(function(){return P})),i.d(t,"j",(function(){return w})),i.d(t,"f",(function(){return M})),i.d(t,"d",(function(){return F})),i.d(t,"c",(function(){return H})),i.d(t,"n",(function(){return U})),i.d(t,"m",(function(){return W})),i.d(t,"o",(function(){return B})),i.d(t,"s",(function(){return G})),i.d(t,"g",(function(){return Y})),i.d(t,"h",(function(){return V})),i.d(t,"a",(function(){return K})),i.d(t,"u",(function(){return q})),i.d(t,"q",(function(){return z}));var a=i(35),o=i(123),l=i(49),n=i(171),d=i(73),s=i(271),r=i(1114),c=i(11),u=i(14),v=i(0),m=i(24),O=i(55),b=i(71),j=i(5),p=i(265),h=i(1108),g=i(16),N=i(12);const I=(e,t,i)=>{null!==e&&void 0!==e&&e.isExternalTrackOrder||t||D(i)},S=e=>{let{displayOrderProcessingPage:t,orderDetails:i,service:a,updateSetOrderDetails:o,showOrderSummaryOnSentToPosFailed:l=!1}=e;(l||t&&(!Object(p.pb)(i)&&!Object(p.j)()&&!Object(p.Y)()||Object(p.i)(i)||Object(p.X)(i)||Object(p.W)(i)||Object(j.Hd)(a)&&!Object(p.qb)(i)))&&o({displayOrderProcessingPage:!1})},T=(e,t,i)=>{Object(p.p)(e)&&t({retryCountForGetOrderTrackingStatus:i+1})},E=e=>{var t,i;const{orderDetails:a,updateSetOrderDetails:o,userOrderState:l}=e;(null===a||void 0===a||null===(t=a.userStatus)||void 0===t?void 0:t.loggedIn)&&(null===JSON||void 0===JSON?void 0:JSON.parse(null===(i=sessionStorage)||void 0===i?void 0:i.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))||(Object(p.l)(a)&&Object(O.B)({orderDetails:a,userOrderState:l}),!Object(p.jb)(a)&&!Object(p.J)(a)||null!==a&&void 0!==a&&a.isAnalyticsUpdated||(Object(O.B)({orderDetails:a,userOrderState:l}),o({isAnalyticsUpdated:!0})))},f=e=>{localStorage.getItem(v.gd.POST_PAYMENT_TYPE)===v.qe.GIFT_CARD_PURCHASE&&(localStorage.setItem(v.gd.PAYMENT_STATUS,v.Ud.SUCCESS),Object(j.We)(e))},x=e=>{var t,i;const a=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING));if(a&&null!==Object&&void 0!==Object&&null!==(i=Object.keys(a))&&void 0!==i&&i.length){const{dispatch:t,updateSetOrderDetails:i,tenantReducer:o,userParams:l}=e;null!==a&&void 0!==a&&a.postOrderDetails&&0===Object.keys(null===a||void 0===a?void 0:a.postOrderDetails).length&&A({dispatch:t,orderDetails:a,updateSetOrderDetails:i,tenantReducer:o,userParams:l})}else y(e)},C=e=>{const{dispatch:t,orderDetails:i,updateSetOrderDetails:a,miscPaymentReferenceId:o,tenantReducer:l}=e;if((null===i||void 0===i?void 0:i.tenantId)&&Object(p.p)(i)&&a({displayOrderProcessingPage:!1}),null!==i&&void 0!==i&&i.orderId&&Object(p.eb)(i)){const e=setTimeout((()=>{const n=JSON.parse(sessionStorage.getItem(v.gd.ORDER_TRACKING)||"{}").orderId;null!==i&&void 0!==i&&i.orderId&&n&&n!==(null===i||void 0===i?void 0:i.orderId)?clearTimeout(null===i||void 0===i?void 0:i.dispatchDeliveryOrderTrackerTimer):((null===i||void 0===i?void 0:i.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===i||void 0===i?void 0:i.dispatchDeliveryOrderTrackerTimer),a({dispatchDeliveryOrderTrackerTimer:e}),A({dispatch:t,orderDetails:i,updateSetOrderDetails:a,miscPaymentReferenceId:o,tenantReducer:l}))}),Object(u.a)(c.K))}},D=e=>{const{dispatch:t,orderDetails:i,cartReducer:o,userOrderState:l,appStateReducer:n,updateSetOrderDetails:d}=e,{service:s}=i,r=(null===m.b||void 0===m.b?void 0:m.b.shouldGoogleSpotIgnoreOloFailure)||Object(p.ob)(i)||Object(p.l)(i);if(Object(j.Md)(s)&&r){var c;const e=null===n||void 0===n?void 0:n.userStatus;Object(j.l)(r,!(null!==o&&void 0!==o&&o.isBasketLoading),null===o||void 0===o||null===(c=o.cartData)||void 0===c?void 0:c.id,null===e||void 0===e?void 0:e.localized,null===i||void 0===i?void 0:i.tenantId)&&(d({isBasketsCreated:!0}),Object(j.I)(t,a.f,null===i||void 0===i?void 0:i.tenantId,l,null,null,null,null,null===i||void 0===i?void 0:i.deliveryAddress),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SELECTED_NOT_NOW,value:!1},t),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1},t))}},y=e=>{var t;const{dispatch:i,postOrderReducer:a={},orderReducer:o={},orderDetails:l,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:s}=e,r=Object(h.g)({postOrderReducer:a,orderReducer:o,orderDetails:l,isCheckOrderDetails:!1}),{props:m,orderId:O,retryCountForGetOrderStatus:b,miscPaymentReferenceId:g,wiCodePurchaseId:N,orderTrackingID:I}=l;I||l&&(O||g||N)&&Object(p.tb)(l)?0===b||(Object(p.pb)(r)||Object(p.h)(l)||Object(p.V)(l))&&b<Object(u.a)(c.J)?A({dispatch:i,orderDetails:l,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:s}):(Object(p.pb)(r)||Object(p.h)(l)||Object(p.V)(l))&&b>=Object(u.a)(c.J)&&(localStorage.setItem(v.Ud.STATUS_TEXT,v.Ud.FAILED),Object(j.ef)(m)):null!==e&&void 0!==e&&null!==(t=e.orderDetails)&&void 0!==t&&t.orderId&&Object(j.Ye)(m)},A=e=>{const{dispatch:t,orderDetails:i,updateSetOrderDetails:a=null,userOrderStateDispatch:o,tenantReducer:l,appStateReducer:n}=e;null!==i&&void 0!==i&&i.isExternalTrackOrder?_({dispatch:t,orderDetails:i,updateSetOrderDetails:a}):Object(p.j)()?P({dispatch:t,orderDetails:i,updateSetOrderDetails:a}):Object(p.Y)()?w({dispatch:t,orderDetails:i,updateSetOrderDetails:a}):R({dispatch:t,orderDetails:i,updateSetOrderDetails:a,userOrderStateDispatch:o,tenantReducer:l,appStateReducer:n})},_=e=>{const{dispatch:t,orderDetails:i,updateSetOrderDetails:a=null}=e,l={emailId:null===i||void 0===i?void 0:i.userEmail,phoneNo:null===i||void 0===i?void 0:i.userPhone,orderNo:null===i||void 0===i?void 0:i.posOrderId,tenantId:null===i||void 0===i?void 0:i.tenantId},n=(null===i||void 0===i?void 0:i.retryCountForGetOrderStatus)+1;t(Object(o.d)(l,(()=>k({count:n,updateSetOrderDetails:a}))))},R=e=>{var t,i,a;const{dispatch:o,orderDetails:l,updateSetOrderDetails:d=null,userOrderStateDispatch:s,tenantReducer:r,appStateReducer:c}=e,u=L(l),m=null===r||void 0===r||null===(t=r.componentOptions)||void 0===t||null===(i=t.homePage)||void 0===i?void 0:i.enableGuestOrderTracking,O=null===l||void 0===l?void 0:l.isActiveGuestTracking,b=localStorage.getItem(v.gd.FROM_ORDERTRACING_BUTTON);if(null!==l&&void 0!==l&&l.orderTrackingID||(O||u)&&m&&(null!==l&&void 0!==l&&l.otu||null!==l&&void 0!==l&&null!==(a=l.postOrderDetails)&&void 0!==a&&a.otu)&&b){let e;try{const t=new URL(null===l||void 0===l?void 0:l.otu);e=new URLSearchParams(t.search).get("PhoneNo")}catch(p){console.error("Error extracting phone number:",p),e="0"}const t={orderId:(null===l||void 0===l?void 0:l.orderTrackingID)||(null===l||void 0===l?void 0:l.id)||(null===l||void 0===l?void 0:l.orderId),tenantId:null===l||void 0===l?void 0:l.tenantId,Email:e},i=(null===l||void 0===l?void 0:l.retryCountForGetOrderStatus)+1;o(Object(n.g)(t,(e=>{var t;let a=!1;e.errors&&e.errors.length>0&&(a=!0),d({selectedPickupOrderCollectionMethod:null===e||void 0===e||null===(t=e.collectionPoint)||void 0===t?void 0:t.name});let o=localStorage.getItem(v.gd.USER_LANGUAGE);if("true"!==localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED)&&o!==(null===e||void 0===e?void 0:e.lang)){let t=null===e||void 0===e?void 0:e.lang,i={key:t,short_value:null===t||void 0===t?void 0:t.split("-")[1]};localStorage.setItem(v.gd.DEFAULT_LANGUAGE,JSON.stringify(i)),Object(j.id)({defaultLanguage:t,language:t},s),localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED,!0),setTimeout((()=>window.location.reload()),500)}k({count:i,orderDetails:l,hasError:a,updateSetOrderDetails:d})})))}else{const e={orderId:null===l||void 0===l?void 0:l.orderId,tenantId:null===l||void 0===l?void 0:l.tenantId,customerId:(null===l||void 0===l?void 0:l.customerId)||null},t=(null===l||void 0===l?void 0:l.retryCountForGetOrderStatus)+1;o(Object(n.f)(e,(()=>k({count:t,orderDetails:l,updateSetOrderDetails:d}))))}},L=e=>{var t;const i=localStorage.getItem("guestActiveOrders");let a;try{a=JSON.parse(i)}catch(o){a=[]}return null===(t=a)||void 0===t?void 0:t.some((t=>t.id===(null===e||void 0===e?void 0:e.orderId)))},P=e=>{if(Object(p.j)()){const{dispatch:t,orderDetails:i,updateSetOrderDetails:a}=e,o={tenantId:null===i||void 0===i?void 0:i.tenantId,miscPaymentReferenceId:null===i||void 0===i?void 0:i.miscPaymentReferenceId},l=(null===i||void 0===i?void 0:i.retryCountForGetOrderStatus)+1;t(Object(n.d)(o,(()=>k({count:l,orderDetails:i,updateSetOrderDetails:a}))))}},w=e=>{if(Object(p.Y)()){const{dispatch:t,orderDetails:i,updateSetOrderDetails:a}=e,o={tenantId:null===i||void 0===i?void 0:i.tenantId,wiCodePurchaseId:null===i||void 0===i?void 0:i.wiCodePurchaseId},l=(null===i||void 0===i?void 0:i.retryCountForGetOrderStatus)+1;t(Object(n.e)(o,(()=>k({count:l,orderDetails:i,updateSetOrderDetails:a}))))}},k=e=>{const{count:t,orderDetails:i,hasError:a,updateSetOrderDetails:o}=e;if(o){const e=setTimeout((()=>{(null===i||void 0===i?void 0:i.dispatchGetOrderStatusTimer)&&clearTimeout(null===i||void 0===i?void 0:i.dispatchGetOrderStatusTimer),o({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:e,hasError:a})}),Object(u.a)(c.L))}},M=e=>{e(Object(s.a)({object:Object(b.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},F=e=>{e(Object(r.a)({object:Object(b.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},H=e=>{var t,i,a,o,l;const{service:n,store:s,tenantId:r,deliveryAddress:c}=null===e||void 0===e?void 0:e.orderDetails;let u=(null===n||void 0===n?void 0:n.toUpperCase())===v.Jb.DELIVERY;const O=[{storeId:null===s||void 0===s?void 0:s.storeId,channel:m.b.channel,service:n,dropoffAddress:{city:null===c||void 0===c?void 0:c.city,state:null===c||void 0===c?void 0:c.state,zipCode:null===c||void 0===c?void 0:c.pinCode,street:null===c||void 0===c||null===(t=c.addressLines)||void 0===t?void 0:t.join(","),...u&&(null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.lat)&&{latitude:null===e||void 0===e||null===(a=e.latLong)||void 0===a?void 0:a.lat},...u&&(null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.lng)&&{longitude:null===e||void 0===e||null===(l=e.latLong)||void 0===l?void 0:l.lng}}}];null===e||void 0===e||e.dispatch(Object(d.d)({data:O,tenantId:r,isFavoritePage:!1}))},U=e=>{var t,i,a,d,s,r,c,u,m;const{dispatch:O,beforeUnload:b=!1,orderDetails:j={}}=e,{userStatus:h={}}=j,g=sessionStorage.getItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var N;b&&((null===(t=window)||void 0===t||null===(i=t.location)||void 0===i?void 0:i.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||(null===(a=window)||void 0===a||null===(d=a.location)||void 0===d?void 0:d.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.CHECKOUT))||g||(O(Object(l.z)()),(null===(s=localStorage)||void 0===s?void 0:s.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.PAYMENT_STATUS))!==(null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED)&&(O(Object(n.h)()),O(Object(o.e)())),O(Object(o.a)({value:[]})),((null===(r=window)||void 0===r||null===(c=r.location)||void 0===c?void 0:c.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||null!==h&&void 0!==h&&h.loggedIn||(null===h||void 0===h||!h.loggedIn)&&(null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)&&Object(p.cb)(j))&&(null===(N=sessionStorage)||void 0===N||N.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))},W=e=>{var t,i;const{orderDetails:a,updateSetOrderDetails:o,tenantReducer:l}=e,n=null===l||void 0===l||null===(t=l.componentOptions)||void 0===t||null===(i=t.homePage)||void 0===i?void 0:i.enableGuestOrderTracking,{props:d,service:s,displayOrderProcessingPage:r,retryCountForGetOrderTrackingStatus:c,orderAcceptedLoading:u,isBasketsCreated:m,customer:O,tenantId:b,userStatus:h}=a;if(Object(p.tb)(a)&&!u){if((e=>Object(p.gb)(e)&&!(null!==e&&void 0!==e&&e.enableRetryCountForPickupOrderTracking))(a))sessionStorage.setItem(v.Ne.PICKUP_ORDER_CANCELLED,a.orderId),Object(j.Ye)(d);else if((e=>Object(p.S)(e)||Object(p.g)(e)||Object(p.U)(e))(a)){var g;null===(g=localStorage)||void 0===g||g.setItem(null===v.Ud||void 0===v.Ud?void 0:v.Ud.STATUS_TEXT,null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED);const t=null===a||void 0===a?void 0:a.showOrderSummaryOnSentToPosFailed;t&&Object(p.nb)(a)?(I(a,m,e),S({displayOrderProcessingPage:r,orderDetails:a,service:s,updateSetOrderDetails:o,showOrderSummaryOnSentToPosFailed:t}),T(a,o,c)):Object(j.ef)(d)}else I(a,m,e),S({displayOrderProcessingPage:r,orderDetails:a,service:s,updateSetOrderDetails:o}),T(a,o,c);!n&&(e=>{let{userStatus:t,customer:i,tenantId:a,orderDetails:o}=e;null!==t&&void 0!==t&&t.loggedIn||Object(p.j)()||Object(p.Y)()||G({trackDetails:{customer:i,tenantId:a},orderDetails:o})})({userStatus:h,customer:O,tenantId:b,orderDetails:a})}},B=e=>{var t,i;const{orderDetails:a,dispositionPaymentPage:o,userOrderStateDispatch:l}=e,n={deliveryAddress:Object(j.ac)(null===a||void 0===a?void 0:a.deliveryAddress,null===a||void 0===a?void 0:a.showStateCityAddAddress),store:null===a||void 0===a?void 0:a.store,type:null===a||void 0===a?void 0:a.service},d=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(v.gd.DISPOSITION_NEW)))||{};d.orderDetails=n,null===(i=localStorage)||void 0===i||i.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(d)),l({type:null===g.a||void 0===g.a?void 0:g.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...o,orderDetails:n}}})},G=e=>{const{trackDetails:t,orderDetails:i,redirectTo:a,props:o}=e,{customer:l,tenantId:n}=t;if(null!==i&&void 0!==i&&i.id||null!==i&&void 0!==i&&i.orderId){const e=null!==i&&void 0!==i&&i.orderId?{...i,tenantId:n}:{...Object(h.k)({postOrPastOrderDetails:{...i},customer:l}),tenantId:n};e.postOrderDetails={},e.dispatch=null,e.storesReducer=null,e.additionalChargeLines=null,e.additionalCharges=null,e.filteredFoodLines=null,e.foodLines=null,e.operatingTime=null,e.operatingTimeFromStoreReducer=null,e.props=null,sessionStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING,JSON.stringify(e)),a&&a(o)}else console.error(JSON.stringify(i)),Object(j.ef)(o)},Y=e=>{const{dispatch:t,orderDetails:i,updateSetOrderDetails:a}=e,{orderId:o,customerId:l,tenantId:d}=i,s={orderId:o,tenantId:d,customerId:l,paramData:{reason:"default",channel:"web",isRefundable:!1}};t(Object(n.a)(s,(()=>{var e;null===(e=sessionStorage)||void 0===e||e.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING),A({dispatch:t,orderDetails:i,updateSetOrderDetails:a})}))),a({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowStoreClosePickupOrderCancelModal:!1})},V=e=>{const{dispatch:t,orderDetails:i,updateSetOrderDetails:a}=e,{orderId:o,customerId:l,tenantId:d,selectedPickupOrderCollectionMethod:s,collectionPoint:{carNumber:r=null}={}}=i,c={orderId:o,tenantId:d,customerId:l,paramData:{name:s,bayNumber:0,checkInSummary:"",carNumber:r}};t(Object(n.b)(c,(e=>((e,t)=>{var i;null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e||null===(i=e.errors)||void 0===i?void 0:i.length)>0&&t({isShowStoreClosePickupOrderCancelModal:!0})})(e,a))))},K=e=>{var t,i;const{orderReducer:a,paymentsContentReducer:o,orderDetails:l,updateSetOrderDetails:n,props:d,tenantReducer:s}=e;var r,c,u;null!==a&&void 0!==a&&null!==(t=a.response)&&void 0!==t&&null!==(i=t.order)&&void 0!==i&&i.id&&(0===(null===a||void 0===a||null===(r=a.response)||void 0===r||null===(c=r.order)||void 0===c||null===(u=c.tenders)||void 0===u?void 0:u.length)?Object(j.Qe)(d):Object(h.u)({orderReducer:a,paymentsContentReducer:o,orderDetails:l,updateSetOrderDetails:n,tenantReducer:s}))},q=(e,t,i)=>{var a,o,l;const n=null!==e&&void 0!==e&&null!==(a=e.storesWithStatus)&&void 0!==a&&a.length?null===e||void 0===e||null===(o=e.storesWithStatus)||void 0===o?void 0:o[0]:{};(null===t||void 0===t||null===(l=t.store)||void 0===l?void 0:l.timings)&&i({store:{...null===t||void 0===t?void 0:t.store,...null===n||void 0===n?void 0:n.summary}})},z=e=>{var t,i,a,o,l,n,d,s,r,c;Object(O.z)({userType:null!==e&&void 0!==e&&null!==(t=e.userStatus)&&void 0!==t&&t.loggedIn?"lo-member":"lo-guest",tip_amount:null===e||void 0===e?void 0:e.tipCharge,bottle_deposit:null===e||void 0===e?void 0:e.bottleDepositChargeTotal,storeID:null===e||void 0===e||null===(i=e.postOrderDetails)||void 0===i||null===(a=i.store)||void 0===a?void 0:a.storeId,payment_type:null===e||void 0===e||null===(o=e.paymentReferences)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.paymentType,state:null===e||void 0===e||null===(n=e.store)||void 0===n||null===(d=n.address)||void 0===d?void 0:d.state,orderTime:Object(N.S)(null===e||void 0===e?void 0:e.displayFormatOrderTime,v.sb.H_MM_A,v.sb.HH_mm),CheckInTime:Object(N.e)(v.sb.HH_mm),checkInlocation:null===e||void 0===e||null===(s=e.collectionPoint)||void 0===s?void 0:s.name,eventType:2,disposition:null===e||void 0===e?void 0:e.service,purchase_day:Object(N.e)(v.sb.DDDD),transaction_id:null===e||void 0===e||null===(r=e.paymentReferences)||void 0===r||null===(c=r[0])||void 0===c?void 0:c.transactionId})}},1112:function(e,t,i){"use strict";i.d(t,"g",(function(){return O})),i.d(t,"j",(function(){return b})),i.d(t,"l",(function(){return j})),i.d(t,"k",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return g})),i.d(t,"n",(function(){return I})),i.d(t,"e",(function(){return S})),i.d(t,"d",(function(){return T})),i.d(t,"m",(function(){return E})),i.d(t,"f",(function(){return f})),i.d(t,"h",(function(){return x})),i.d(t,"i",(function(){return C})),i.d(t,"a",(function(){return D}));var a=i(21),o=i(5),l=i(9),n=i(146),d=i(6),s=i(406),r=i(398),c=i(20),u=i.n(c),v=i(0),m=i(2);const O=async(e,t)=>{var i;await a.a.registerEvent(null===l.a||void 0===l.a||null===(i=l.a.menuNavigation)||void 0===i?void 0:i.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},o.Bb)},b=async(e,t)=>{const i=[];i.push({event:e.eventType,[t]:e.selectedData}),await a.a.registerEvent("suggestedSearchClick",{data:i[0]},o.Bb)},j=async(e,t,i)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[i]:e.selectedData[i]}),await a.a.registerEvent(e.eventType,{data:l[0]},o.Bb)},p=async(e,t,i,l)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[i]:e.selectedData[i],[l]:e.selectedData[l]}),await a.a.registerEvent(void 0,{data:n[0]},o.Bb)},h=(e,t)=>{const i=JSON.parse(JSON.stringify(e));let a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===i||void 0===i?void 0:i.find((t=>{let{isHidden:i=!1,items:a}=t;return!i&&(null===a||void 0===a?void 0:a.length)&&a[0].id===e.id}));t&&a.push(t)})),a},g=(e,t,i,a,o,l)=>{var n;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.length)&&0===Object.keys(t).length?N(e.categories[0],i,a,o):Object.keys(t).length>0?N(t,i,a,o):N(e,i,a,o),d},N=(e,t,i,a)=>{var l;let n={},d=[];return d=null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.map((e=>(e.items.forEach(((e,l)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===r.o.PRICE_WITHOUT_TAX.toLowerCase())),s=Object(o.Jc)(d.value,a).toFixed(2);s=s?parseFloat(s):"NA",n={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:s,item_category:t,item_list_name:t,item_list_id:i,index:l,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),n))),d},I=async e=>{var t,i,n;await a.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_name,items:e}}},o.Bb)},S=(e,t)=>{let i={},a=e.find((e=>{var i;return(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim())===t}))||{};return 0===Object.keys(a).length&&(a=e.find((e=>{var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(const o in e.categories)if(e.categories[o].id===t)return i=e.categories[o],!0;return!1}))),{selectedCategory:a,selectedSubcategory:i}},T=function(e,t,i,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return a(!1),!1;const l=(s=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:i,categories:a}=e,o=!i&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===s||void 0===s?void 0:s.toLowerCase());return o||(o=a.find((e=>{let{url:t,isHidden:i}=e;return!i&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===s||void 0===s?void 0:s.toLowerCase())}))),o})));var d,s,r;if(u()(l)){if(t&&(i("category"),a(!0)),!u()(e)){var c;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&n.scroller.scrollTo(null===t||void 0===t||null===(c=t.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-140:-100})}}else n.scroller.scrollTo(null===l||void 0===l||null===(r=l.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-150:-100});return!u()(l)},E=e=>null===e||void 0===e?void 0:e.isStoreClosed,f=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:i}=s.d;let a=Object(d.translateWithI18Next)(t),o=Object(d.translateWithI18Next)(i);return null!==e&&void 0!==e&&e.isStoreClosed&&(a=o),{btnText:a}},x=(e,t)=>{0===e.length&&Object(o.Ob)(document.title,Object(d.translateWithI18Next)(r.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(r.s))},C=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let i=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:a=[]}=e;i.push(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.name)})),i},D=e=>{const{searchMode:t,filterList:i,dietaryList:a,products:o,viewUp:l,tenantData:n,getCardCount:d,catalogs:s,storeClosedData:r,setShowTopScrollBtn:c,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:O}=e;return(t.isSearchedMode||[...i,...a].length)&&null!==o&&void 0!==o&&o.length?Object(m.jsx)("div",{className:l?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:o,cardType:l?"small":"medium",tenantData:n,cardCount:d,catalogs:s,storeClosedData:r,setShowTopScrollBtn:c,categoryId:O})}):t.isSearchedMode&&u()}},1113:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i(210),o=i(2);const l=e=>Object(o.jsx)(a.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},1119:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return n}));var a=i(210),o=i(2);const l=e=>Object(o.jsx)(a.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),n=e=>Object(o.jsx)(a.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},1122:function(e,t,i){"use strict";i.d(t,"b",(function(){return W})),i.d(t,"f",(function(){return B})),i.d(t,"i",(function(){return G})),i.d(t,"c",(function(){return Y})),i.d(t,"j",(function(){return V})),i.d(t,"h",(function(){return z})),i.d(t,"d",(function(){return Q})),i.d(t,"e",(function(){return X})),i.d(t,"g",(function(){return Z})),i.d(t,"a",(function(){return $}));var a=i(16),o=i(106),l=i(92),n=i(270),d=i(6),s=i(46),r=i(24),c=i(0),u=i(5),v=i(15),m=i(2);const{Location_Error:O,errorIcon:b}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:N,DINEIN_TOAST_MSG:I,NOSTORE_TITLE:S,NOSTORE_CONTENT:T,NOSTORE_TOAST_MSG:E,CLOSED_STORE_TITLE:f,CLOSED_STORE_CONTENT:x,LOCATION_ALERT_MSG:C,CLOSED_STORE_TOAST_MSG:D}=n.b,{DINE_IN:y,DISTANCE_20000MR:A,START_ORDER_BUTTON:_,BROWSE_MENU_BUTTON:R}=n.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:P="",SCHEDULE_ORDER_TIME_DATA:w="",SET_DISPOSITION:k,USER_LOCALIZED:M,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:H,SET_FORCERELOAD:U}=a.a,W=(e,t,i,a,o,l)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?l(e):o(e,t):null!==e&&void 0!==e&&e.length||a(t,i)},B=function(e,t,i,a,o,l,n,d,s,u,v,m){var O;let b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:j,maxDriveTimeMins:p,geoLocation:h}=b;let g=e.filter((e=>{var t,i,a,o,l,n,d,s,r,c,u,v,m,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(s=d.menu)||void 0===s||null===(r=s.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(O=m.timings)||void 0===O?void 0:O.asap)}));if((null===(O=g)||void 0===O?void 0:O.length)>0){if(j&&l===c.yb){const e={stores:g,numberOfStores:2,disposition:l,distanceMetrics:o,driveTime:p,channel:r.b.channel,isDriveTimeFromAdminPortal:j},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(l,o);g=t}if(d){var N=JSON.parse(localStorage.getItem(c.Hb));N&&(g[0].id!==N.store.id||g[0].service!==N.type?(s(!0),i(!1),v(g[0])):i(!1))}else t(g[0])}else m(!0),u(l,o)},G=(e,t,i,a,o,l)=>{var n,d;t({type:k,value:{oldvalue:e,newValue:{type:a,store:o,date:l.date,time:l.time,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:null===i||void 0===i||null===(n=i.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:a,store:o,date:l.date,time:l.time,selectedTime:l.selectedTime,interval:l.interval,deliveryAddress:null===i||void 0===i||null===(d=i.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:M,value:{isLocalized:!0}})},Y=(e,t,i,o)=>{const{SCHEDULE_ORDER_DATA:l,DISPOSITION_METHOD:n}=a.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:s,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:O}=c.gd;let b={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:k,value:{oldvalue:b,newValue:b}}),localStorage.removeItem(v),localStorage.removeItem(s),e({type:w,value:{selectedDateTime:{}}}),e({type:H,value:{}}),localStorage.removeItem(m),localStorage.removeItem(O),i(t({...o,localized:!1})),e({type:M,value:{isLocalized:!1}}),e({type:l,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:n,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(r),e({type:F,value:{}})},V=(e,t,i,a,o)=>{e({type:P,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),e({type:F,value:a}),e({type:w,value:{selectedDateTime:i}}),e({type:H,value:{selectContentTime:"ASAP"}}),e({type:U,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(o)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP")},K=(e,t,i,a)=>{let o="";return e?o=a===y?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):i?o=Object(d.translateWithI18Next)(S):t&&(o=Object(d.translateWithI18Next)(f)),o},q=(e,t,i,a)=>{let o="";return e?o=a===y?Object(d.translateWithI18Next)(N):Object(d.translateWithI18Next)(p):i?o=Object(d.translateWithI18Next)(T):t&&(o=Object(d.translateWithI18Next)(x)),o},z=(e,t,i,a,o,l,n,s)=>{let r="";return e?(l(!1),r=a===y?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(h)):i?(n(!1),r=Object(d.translateWithI18Next)(E)):t&&(s(!1),r="".concat(Object(d.translateWithI18Next)(D)," ").concat(J(null===o||void 0===o?void 0:o.from)," to ").concat(J(null===o||void 0===o?void 0:o.to))),r},J=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function Q(e,t,i,a,n,d,s,r,c,u,v){const b={HEADER_MSG:{MSGTXT1:K(i,a,n,d)},CONTENT_MSG:q(i,a,n,d)};return(i||a||n)&&Object(m.jsx)(o.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(l.a,{splitTitle:b.HEADER_MSG,contentMsg:b.CONTENT_MSG,imageSrc:O,altText:"location-error",confirmButtonText:R,cancelButtonText:i?_:null,cancelHandler:i?t:null,confirmHandler:()=>{e(a,n)}})})}const X=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(s.a,{srcFile:b,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(C)})]})}),Z=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),$=e=>e.filter((e=>{var t,i;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)}))},1125:function(e,t,i){"use strict";var a=i(3),o=i.n(a),l=i(75),n=i.n(l),d=i(28),s=i(144),r=i(2);var c=e=>{const{handleClose:t,ProductListingModalForm:i,headerText:a,modalTitleId:l=""}=e;return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsx)(s.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:l,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:i})})},u=i(41),v=i(1144),m=i.n(v),O=i(46),b=i(5),j=i(85),p=i(400),h=i(16);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},N=i(87),I=i(62),S=i(15);const T=(e,t)=>e?t:null,E=(e,t,i,a,o)=>{const{SETFLAGCASE:l}=g,{FROMFLAGEDIT:n}=h.a;if(0===e.length){if(a&&t.minipdpData.fromFlag!==n)return l.DEFAULT;if(t.minipdpData.fromFlag===n&&((e,t)=>{if(Object(b.Td)(t))return t.filter((t=>{let{id:i}=t;return i===e})).length>0;return!1})(i,o))return l.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(i))return l.ITEMINCLUDES},f=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),x=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",C=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",D=(e,t)=>{let{analyticsObject:i,currLocation:a}=e;t||Object(N.g)(i,a)};var y=e=>{const{cardData:t,min:i,max:o,savedModifierHandler:l,savedModifiers:n,cardType:d,tenantReducer:s,modgrpId:c,modGrpName:u,updatedItems:v,getCartModifiers:m}=e,{Check_Icon:N}=S.a,{id:y,name:A,size:_,dname:R,isDefault:L,imageName:P,isHidden:w,calorificInfo:k}=t;let M=(F=R)&&F.length&&F[0].value;var F;const[H,U]=Object(a.useState)(!1),{userOrderState:W,userOrderStateDispatch:B}=Object(a.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=W,{MODGROUP_IDS_UPDATE:Y,UPDATE_DEFAULT_MODGROUP:V}=p.a,{CONFIRM_UPSIZE_ANALYTICS:K}=h.a,{SETFLAGCASE:q}=g,z=Object(I.h)();Object(a.useEffect)((()=>{switch(E(v,W,y,L,m)){case q.DEFAULT:case q.FROMEDIT:U(!0),l(t,!0,n);break;case q.ITEMINCLUDES:U(!0);break;default:U(!1)}}),[y,v,L,m]);return!w&&Object(r.jsxs)("div",{className:f(d,H),"data-testid":"click-save-product",onClick:()=>{if(L||G.includes(c)){if(L){let e=G.filter((e=>e!==c));B({type:V,value:e})}}else B({type:Y,value:c});let e={analyticsObject:{name:A,size:_},currLocation:Object(b.Ab)(z.pathname)};1===i&&1===o?(D(e,H),!H&&U(!0),l(t,"single",n)):H&&n.length>i&&n.length<=o?(U(!1),l(t,!1,n)):!H&&n.length>=i&&n.length<o&&(D(e,H),U(!0),l(t,!0,n)),B({type:K,value:{confirmUpsizeName:u}})},children:[Object(r.jsx)(O.a,{defaultPath:Object(b.bc)(null,s,!0),srcFile:Object(b.bc)(P,s),className:C(d)}),Object(r.jsxs)("picture",{children:[Object(r.jsx)("source",{media:"(max-width: 1023px)",srcSet:(Q=H,X=N,Q?X:null),alt:"",className:x(d)}),Object(r.jsx)("img",{src:T(H,N),alt:"",className:x(d)})]}),Object(r.jsxs)("div",{className:"modifier-card-content",children:[Object(r.jsx)("div",{className:"title",children:M}),(J=k,J&&Object(r.jsx)("div",{className:"caloricInfo",children:J}))]})]});var J,Q,X},A=i(264),_=i(1096),R=i(21);const L=(e,t,i)=>e.map((e=>e.size&&{name:e.size,rate:Object(b.Ic)(e.availability[0],e.additionalProperties,t,i)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),P=(e,t,i,a)=>{let o=-1,l=L(t,i,a),n=L(e,i,a);return Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e)))).forEach((e=>{o="regular"!==e.name?n.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),o>=0&&n.splice(o,1),Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e))))},w=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)};var k=i(6);const{HamburgerDownArrow:M,filter_options_stoke:F}=S.a,H=(e,t)=>{if(e!==t)return Object(r.jsx)("span",{children:":"})},U=(e,t,i)=>e.rate&&e.name!==t?"+".concat(i).concat(e.rate):"",W=(e,t,i,a)=>e&&e.length&&P(e,t,i,a).length>0;var B=e=>{const{data:t,min:i,max:l,showSelectedModifier:n,modgrpId:s,modGrpName:c}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:m}=g,{userOrderState:O,userOrderStateDispatch:N}=Object(a.useContext)(j.a),[I,S]=Object(a.useState)([]),[T,E]=Object(a.useState)({}),[f,x]=Object(a.useState)(!1),[C,D]=Object(a.useState)([]),[R,L]=Object(a.useState)(!0),[B,G]=Object(a.useState)(Object(b.de)(window.innerWidth)),[Y,V]=Object(a.useState)(t),K=Object(d.c)((e=>e.cartReducer)),q=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:z,currencyConversionFactor:J,componentOptions:Q}=q,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==Q&&void 0!==Q?Q:{},[Z,$]=Object(a.useState)({}),[ee,te]=Object(a.useState)({}),ie=Object(a.useRef)(null),ae=Object(a.useRef)(null),oe=Object(a.useRef)(null),le={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(a.useEffect)((()=>{const e=Object(b.ad)(t.length,JSON.parse(JSON.stringify(t)),[]);let i=((e,t)=>Object(b.Td)(e)?t.filter((t=>t.size===e.name)):t)(T,e);V([...i])}),[t]);const ne=(e,i,a)=>{let{id:o}=e;if(i===m)t.forEach((e=>{e.id===o&&D([e.id])})),S([{...e,itemId:o,modgrpId:s}]);else if(i){!a.some((t=>{let{id:i}=t;return i===e.id}))&&S([...a,{...e,itemId:o,modgrpId:s}])}else if(a.length){let e=a.filter((e=>{let{itemId:t}=e;return t!==o}));S(e)}},de=()=>{const e=Object(b.de)(window.innerWidth);G(e)};Object(a.useEffect)((()=>{let e=((e,t,i,a)=>{var o;const{FROMFLAGEDIT:l}=h.a,{MODGROUP_IDS_UPDATE:n}=p.a;if((null===t||void 0===t||null===(o=t.minipdpData)||void 0===o?void 0:o.fromFlag)===l){var d,s;let o=a.foodLines.find((e=>{let{id:i}=e;return i===t.minipdpData.foodLineId})),l=null===o||void 0===o||null===(d=o.item)||void 0===d||null===(s=d.modGrps)||void 0===s?void 0:s.find((t=>{let{id:i}=t;return i===e}));var r;return l?(!l.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(r=t.pdpScreenCommons)&&void 0!==r&&r.modGroupIdsUpdated.includes(l.id)||i({type:n,value:l.id}),l.modifiers):{}}return{}})(s,O,N,null===K||void 0===K?void 0:K.cartData);te(e)}),[]),Object(a.useEffect)((()=>{n(I)}),[JSON.stringify(I)]),Object(a.useEffect)((()=>{window.addEventListener("resize",de)}),[B]),Object(a.useEffect)((()=>{f?document.addEventListener("click",se):document.removeEventListener("click",se)}),[f]);const se=e=>{(Object(b.hb)(ie.current,ie.current===e.target)||ae.current&&oe.current&&ae.current!==e.target&&!oe.current.contains(e.target))&&x(!1)},re=()=>{x(!0)},ce=()=>{x(!f)},ue=(e,i)=>{E(e);let a=t.filter((t=>t.size===e.name));V(a),w(i),x(!f)},ve=(e,i,a)=>{let o=((e,t,i)=>Object(b.Td)(t)?(e(t),i.filter((e=>e.size===t.name))):i)(E,e,t);V(o),w(i),L(!a),x(!1)},me=()=>{E({}),$({}),L(!0)},Oe=()=>{let e="",t=U(T,u,z);return e=Object(b.ad)(t.length>0,":",""),e};return Object(b.ad)(B,Object(r.jsxs)(o.a.Fragment,{children:[W(t,I,J,X)&&Object(r.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(r.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:re,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(T.name,T.name+Oe(),Object(k.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:U(T,u,z)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:M,alt:"DropDown"})]})}),f&&Object(r.jsx)("div",{className:"mobile-modal-filter-background",ref:ie,children:Object(r.jsxs)("div",{className:"mobile-modal-filter",children:[Object(r.jsx)("div",{className:"mobile-modal-filter-container",children:Object(r.jsxs)("ul",{className:"mobile-filter-list",children:[Object(r.jsx)("li",{className:R&&0===Object.keys(T).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:me,children:Object(r.jsx)("div",{className:"mobile-rate-container",children:Object(k.translateWithI18Next)(v)})}),P(t,I,J,X).map((e=>Object(r.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{x(!0),$(e),L(!1)})(e),children:Object(r.jsxs)("div",{className:"mobile-rate-container",children:[Object(r.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),H(e.name,u),Object(r.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(z).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(r.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,c,Z.name===T.name),children:Object(k.translateWithI18Next)("done")})]})}),Object(r.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:Y&&Y.length>2&&ee?Object(r.jsx)(_.b,{settings:le,children:Y&&Y.length&&ee?Y.map(((e,t)=>Object(r.jsx)(y,{cardType:"carousal",min:i,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:q,modgrpId:s,modGrpName:c,updatedItems:C,getCartModifiers:ee},t))):null}):Y&&Y.length&&ee&&Y.map(((e,t)=>Object(r.jsx)(y,{cardType:"regular",min:i,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:q,modgrpId:s,modGrpName:c,updatedItems:C,getCartModifiers:ee},t)))||null})]}),Object(r.jsxs)(o.a.Fragment,{children:[W(t,I,J,X)&&Object(r.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(r.jsxs)("div",{className:"language-select-uplift",ref:ae,"data-testid":"desktop-dropdown-filter",onClick:ce,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(b.ad)(T.name,T.name+Oe(),Object(k.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:U(T,u,z)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:M,alt:"DropDowm"})]}),f&&Object(r.jsx)("div",{ref:oe,children:Object(r.jsx)("ul",{className:"filter-list",children:P(t,I,J,X).map((e=>function(e,t,i,a,o,l){return Object(r.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,i),children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsxs)("div",{className:"rate-container",children:[Object(r.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(o).concat(e.rate):""}),e.name===l.name&&Object(r.jsx)(A.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,c,u,z,T)))})})]}),Object(r.jsx)("div",{className:"modifier-list-items",children:Y&&Y.length&&ee?Y.map(((e,t)=>Object(r.jsx)(y,{min:i,max:l,cardData:e,savedModifierHandler:ne,savedModifiers:I,tenantReducer:q,modGrpName:c,modgrpId:s,updatedItems:C,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:i,selectedModifiers:l,source:n=""}=e,{PDP:d}=p.a,[s,c]=Object(a.useState)(t),[u,v]=Object(a.useState)([]),{userOrderState:m}=Object(a.useContext)(j.a),{pdpScreenCommons:{currentAccordian:O,modGroupIdsUpdated:h}}=m,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(a.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);c([...e])})()}),[JSON.stringify(t)]),Object(a.useEffect)((()=>{if(Object(b.hb)(O,n===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===O){var i;const t=(null===(i=e.modifiers)||void 0===i?void 0:i.length)>1?300:0;let a=document.getElementById("accordion-"+O).offsetTop;window.scrollTo({top:a-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));c([...e])}}),[O,JSON.stringify(t)]);const N=e=>{let t,i,a;if(e.length){t=e.map(JSON.stringify),i=new Set(t),a=Array.from(i).map(JSON.parse);let o=[];if(u.length){o=u;let e=u.findIndex((e=>e[0].modgrpId===a[0].modgrpId));e>=0?(o.splice(e,1,a),v([...o])):v([...o,a])}else v((e=>[...e,a]))}};Object(a.useEffect)((()=>{u.length&&i(u),l(u)}),[u]);const I=e=>{let t=[];for(let i of u)for(let a of i)a.modgrpId===e&&a.dname&&a.dname.length&&t.push(a.dname[0].value);return t.join(", ")};return s.map(((e,t)=>{let{id:i,name:a,modifiers:l,expanded:n,min:d,max:v}=e;const m=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(i);return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)("div",{className:"accordian-container",id:"accordion-"+i,"data-testid":"product-listing-accordion-".concat(t),children:[Object(r.jsxs)("div",{className:"accordian-header",children:[Object(r.jsxs)("div",{className:"".concat(n?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(i),onClick:e=>((e,t)=>{e&&g();let i=s.length?JSON.parse(JSON.stringify(s)):[];i.map(((e,i)=>(e.id===t&&(e.expanded=!e.expanded),e))),c([...i])})(e,i),children:[Object(r.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),m?Object(r.jsx)("span",{className:"updatedBadge",children:Object(k.translateWithI18Next)("updated")}):null]}),Object(r.jsx)("span",{className:"selected-mod",children:u.length&&I(i)})]}),Object(r.jsx)("div",{className:"".concat(n?"panel panel-active":"panel"),children:Object(r.jsx)(B,{modgrpId:i,modGrpName:a,data:l,min:d,max:v,showSelectedModifier:N})})]})},t)}))},Y=i(35),V=i(61),K=i(235),q=i(1099),z=i(1109),J=i(0),Q=i(173),X=i(262),Z=i(396),$=i(80),ee=i(132),te=i(211);const ie=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ae=(e,t)=>{var i,a,o,l;const n=null===t||void 0===t?void 0:t[J.gd.VIEW_PRODUCT],d=null===n||void 0===n?void 0:n.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===n||void 0===n||null===(i=n.promoParams)||void 0===i||null===(a=i.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===a?void 0:a.quantity,maxPromoQuantity:null===n||void 0===n||null===(o=n.promoParams)||void 0===o||null===(l=o.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===l?void 0:l.maxQuantity}},oe=(e,t,i,a)=>{var o,l,n,d,s,r;const{setClickEvent:c,setConfirmed:u,productMapById:v,modifiersList:O,data:j,currencyConversionFactor:p,itemCount:g,minipdpData:I,FROMFLAGEDIT:S,dispatch:T,cartReducer:E,tenantId:f,id:x,modifierGrp:C,userOrderStateDispatch:D,confirmUpsizeName:y,userType:A,categoryMapById:_,addToOrderClickHandler:L,closeParentModal:P,getPwaStorageData:w,sliceDispatch:k,isAddonsAndUpsellEnabled:M}=t,{foodLines:F}=(null===E||void 0===E?void 0:E.cartData)||{},{couponCode:H,discountTotal:U}=Object(b.zb)(null===E||void 0===E?void 0:E.cartData),W=Object(b.Td)(null===E||void 0===E?void 0:E.cartData)?Object(b.nc)(null===I||void 0===I?void 0:I.foodLineId,null===E||void 0===E?void 0:E.cartData):{},B=Math.abs(g-(null===W||void 0===W?void 0:W.count));let G="";e.stopPropagation(),e.preventDefault(),c(e),u(!0);const K=(null===x||void 0===x?void 0:x.split("_")[0])||"",{categoryId:q=""}=null!==(o=null===v||void 0===v?void 0:v[K])&&void 0!==o?o:{},{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:ee}=h.a,{ADDONS:ie}=te.MENU_PLP_CONSTANT,{id:oe="",name:ne="",url:de=""}=null!==(l=null===_||void 0===_?void 0:_[q])&&void 0!==l?l:{},se=null===t||void 0===t||null===(n=t.categoryMapById)||void 0===n||null===(d=n[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,re=Object(Z.d)(K,i);if(Object(Z.c)({categoryUrl:se,itemInCart:re,alertType:Object(Z.j)(null===i||void 0===i?void 0:i.timebasedItemInCart,null===J.Sb||void 0===J.Sb?void 0:J.Sb.ITEM)},i,D))return;m()(O,(e=>{G+="".concat(e[0].name,", ")}));const ce=Object(b.Ic)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let ue={item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,coupon:H,discount:+(U/p).toFixed(2),price:Object(b.oc)(ce),item_list_name:ne,item_list_id:oe,index:Object(Q.b)(F,null===j||void 0===j?void 0:j.id,0),quantity:B,currency:J.p.INR,item_variant:null!==j&&void 0!==j&&null!==(s=j.modgrps)&&void 0!==s&&s.length?null===j||void 0===j||null===(r=j.modgrps)||void 0===r?void 0:r.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const ve=ae(x,w);if(I.fromFlag!==S){var me,Oe,be,je,pe,he;T(Object(Y.a)({params:{basketId:null===E||void 0===E||null===(me=E.cartData)||void 0===me?void 0:me.id},tenantId:f},[{Id:x,categoryId:oe,quantity:g,modGrps:le(C),categoryName:ne,categoryUrl:de,isProductPromo:null===ve||void 0===ve?void 0:ve.isPromoApplied}],(()=>{null!==ve&&void 0!==ve&&ve.productPromosInStorage&&(L({couponCode:ve.productPromosInStorage}),k(Object($.c)({key:J.gd.VIEW_PRODUCT})),D({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),P()),M&&D({type:ee,value:{viewType:ie}})}))),Object(z.a)({item_name:Object(b.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(b.oc)(null===j||void 0===j?void 0:j.id),item_category:ne,price:Object(b.oc)((null===j||void 0===j||null===(Oe=j.availability)||void 0===Oe||null===(be=Oe[0])||void 0===be?void 0:be.price)/p),item_variant:Object(b.oc)(null===(je=G)||void 0===je?void 0:je.trim()),item_list_name:ne,item_list_id:oe,index:1,quantity:g,coupon:H||"",discount:+(U/p).toFixed(2),currency:a},A,g*Object(b.oc)((null===j||void 0===j||null===(pe=j.availability)||void 0===pe||null===(he=pe[0])||void 0===he?void 0:he.price)/p),H,a)}else{var ge;T(Object(Y.y)({params:{basketId:null===E||void 0===E||null===(ge=E.cartData)||void 0===ge?void 0:ge.id,basketLineItemId:I.foodLineId},tenantId:f},{Id:x,quantity:g,modGrps:le(C)}));const e=(null===ue||void 0===ue?void 0:ue.price)*(null===ue||void 0===ue?void 0:ue.quantity);g!==(null===W||void 0===W?void 0:W.count)&&(g>(null===W||void 0===W?void 0:W.count)?Object(N.j)(A,ue,+e,H,a):Object(N.l)(V.a.ANALYTICS_EVENTS.REMOVE,ue,A,a,e))}T(Object(Y.u)(new Date)),D({type:V.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:x,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},b.Bb)})(y)};function le(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var ne=e=>{var t,i,l;const{data:n,categoryId:s,handleClose:c,showPriceContent:v=!0,source:m="",addToOrderClickHandler:O,closeParentModal:p}=e,{id:N,modgrps:I,availability:S=[],additionalProperties:T=[]}=n,{userOrderState:E,userOrderStateDispatch:f}=Object(a.useContext)(j.a),{confirmUpsizeName:x,minipdpData:C,timeBasedCetegory:D}=E,[y,A]=Object(a.useState)(I),[_,R]=Object(a.useState)([]),L=Object(d.b)(),P=Object(d.c)((e=>e.tenantReducer)),w=Object(d.c)((e=>e.cartReducer)),{cartData:M={},isAddItemLoading:F=!1}=w||{},{currencySymbol:H,tenantId:U,currencyConversionFactor:W,maxItemCountPerLineItem:B,componentOptions:{web:{global:{showPriceWithTax:Y=!1}={}}={}}={}}=P,z=null===P||void 0===P||null===(t=P.componentOptions)||void 0===t||null===(i=t.plp)||void 0===i?void 0:i.isAddonsAndUpsellEnabled,{flatResponse:{productMapById:J={},categoryMapById:Q={}}={}}=null!==(l=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==l?l:{},[X,Z]=Object(a.useState)(0),te=Object(b.Ic)(S[0],T,W,Y),{ADDTOCART:le,UPDATECART:ne}=g,{FROMFLAGEDIT:de,EDIT_CLICKED:se}=h.a,[re,ce]=Object(a.useState)(1),[ue,ve]=Object(a.useState)(0),{ITEM_QUANTITY:me}=K.a,[Oe,be]=Object(a.useState)(!1),[je,pe]=Object(a.useState)(null),he=Object(d.c)((e=>e.appStateReducer.userStatus)),ge=Object(b.od)(null===he||void 0===he?void 0:he.localized,null===he||void 0===he?void 0:he.loggedIn),Ne=Object(ee.a)(),Ie=Object(ee.b)($.b),Se=ae(N,Ie),Te={setClickEvent:pe,setConfirmed:be,categoryId:s,modifiersList:_,data:n,itemCount:re,minipdpData:C,FROMFLAGEDIT:de,dispatch:L,cartReducer:w,tenantId:U,id:N,modifierGrp:y,userOrderStateDispatch:f,confirmUpsizeName:x,productMapById:J,currencyConversionFactor:W,userType:ge,categoryMapById:Q,addToOrderClickHandler:O,closeParentModal:p,getPwaStorageData:Ie,sliceDispatch:Ne,isAddonsAndUpsellEnabled:z};Object(a.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:y,modifiedItemPrice:X})}),[y]),Object(a.useEffect)((()=>{const e=Object(b.Td)(M)?Object(b.mc)(N,M):{},t=Object(b.Td)(e)?e.count:0;if(ve(t),C.fromFlag===de){const e=Object(b.Td)(M)?Object(b.nc)(C.foodLineId,M):{},t=Object(b.Td)(e)?e.count:1;ce(t)}}),[M]),Object(a.useEffect)((()=>()=>{f({type:se,value:{cartEditClicked:!1}})}),[f,se]);Object(a.useEffect)((()=>{Oe&&!F&&c(je)}),[Oe,F]),Object(a.useEffect)((()=>(window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}))),Object(a.useEffect)((()=>{C.fromFlag!==de&&N&&(null===Se||void 0===Se?void 0:Se.minPromoQuantity)&&ce(null===Se||void 0===Se?void 0:Se.minPromoQuantity)}),[N]);const Ee=C.fromFlag===de?Object(k.translateWithI18Next)(ne):Object(k.translateWithI18Next)(le);return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(r.jsx)("form",{className:"form",children:Object(b.Td)(I)?Object(r.jsx)(G,{grouplist:I,getSelectedModifiers:e=>{let t=0,i=[];e.forEach((e=>{let a={};a.id=e[0].modgrpId,a.modifiers=[],e.forEach((e=>{let i={},o=JSON.parse(JSON.stringify(e));i.id=o.id,i.quantity=o.defaultQuantity,i.modGrps=o.modgrps,i.categoryId=s,a.modifiers.push(i);let l=Object(b.Ic)(e.availability[0],e.additionalProperties,W,Y);t+=l})),i.push(a)})),Z(te+t),A(i)},selectedModifiers:R,source:m}):null})}),v&&Object(r.jsx)("div",{className:"price-content",children:Object(r.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[re?Object(r.jsx)(q.a,{itemCount:re,itemQuantity:me,updateItemQuantity:(e,t)=>{t===V.a.QUANTITY_ACTION.Increase?ce((e=>+e+1)):ce((e=>+e-1))},quantityAction:V.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==Se&&void 0!==Se&&Se.isPromoApplied?null===Se||void 0===Se?void 0:Se.maxPromoQuantity:B,cartItemCount:ue+1}):null,Object(r.jsxs)(u.a,{className:"button start-order-btn ".concat(F?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>oe(e,Te,D,null===P||void 0===P?void 0:P.currencyShortName),children:[Object(r.jsx)("span",{className:"title-for-button",children:"".concat(Ee)}),Object(r.jsx)("span",{className:"currency-symbol",children:"".concat(H," ").concat((fe=X,(re*fe).toFixed(2)))})]})]})})]});var fe},de=i(52);const se=e=>{if(e){var t;let i=JSON.parse(JSON.stringify(e));return i.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),i}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:i=!0,callBackToPDP:o,data:l={},source:s=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=de.a,{userOrderStateDispatch:m}=Object(a.useContext)(j.a),O=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(b.Td)(l)?se(l):se(O),h=Object(d.b)(),N=Object(d.c)((e=>e.cartReducer)),I=e=>{e.stopPropagation(),e.preventDefault(),m({type:v,value:{fromCouponSection:!1}}),h(Object(Y.v)({showProductListingModal:!1,categorySelected:""}))},S=Object(r.jsx)(ne,{data:p,categoryId:N.categorySelected,handleClose:I,showPriceContent:i,callBackToPDP:o,"data-testid":"product-listing-modal-enabled",source:s,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),T=Object(r.jsx)(c,{handleClose:I,ProductListingModalForm:S,headerText:Object(k.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),E=Object(r.jsx)("div",{className:"pdp-custm",children:S});return t?n.a.createPortal(T,document.getElementById("modal-popups")):E}},1126:function(e,t,i){"use strict";var a=i(106),o=i(92),l=i(4),n=i(61),d=i(6),s=i(3),r=i(85),c=i(44),u=i(132),v=i(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:i={},setConfirmationModel:m=null,itemRemoveHandler:O=null,isRemoveItemLoading:b=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:N=null,addtoCartClinckHandler:I=null,setAddToClickParms:S=null,addToClickParms:T={},selectedStoreData:E=null,clickHandler:f=null,title:x="",confirmButtonText:C="",removeCouponHandler:D=null,couponCode:y="",couponTitle:A="",itemRemoveWrapper:_=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:L=""}=e,{userOrderStateDispatch:P}=Object(s.useContext)(r.a),w=Object(u.a)(),{REMOVE_COUPON:k}=n.a,{CONTINUE:M,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:H,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:U,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:W}=l.a;return Object(v.jsx)(a.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(o.a,{title:h===k?x:Object(d.translateWithI18Next)(H),giftCardOrVoucherErrMsg:h===k?R:Object(d.translateWithI18Next)(W),giftCardErrFirstMsg:h===k?L:Object(d.translateWithI18Next)(U),altText:"",confirmButtonText:h===k?C:Object(d.translateWithI18Next)(M),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:i,setConfirmationModel:a,itemRemoveHandler:o,isRemoveItemLoading:l,setCouponModal:d,setRemoveItem:s,flag:r,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:O,addToClickParms:b,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:N,couponTitle:I,itemRemoveWrapper:S,userOrderStateDispatch:T,sliceDispatch:E}=e;const{EDIT_ITEM:f,REMOVE_ITEM:x,QUANTITY_INCREASE_DECREASE:C,STORE_DISPOSITION_UPDATE:D,REMOVE_COUPON:y}=n.a;if(d(!1),r===x&&S({isAddedPromosCoupon:t,item:i,setConfirmationModel:a,itemRemoveHandler:o,isRemoveItemLoading:l,setRemoveItem:s,sliceDispatch:E}),r===C&&(T({type:c.p,value:{couponErrorMessage:"REMOVE"}}),v(i,u,h)),r===f){const{event:e,data:t,miniPDPData:i,totalAmount:a,cartId:o,pdpDataForUpdateFoodLine:l,cartData:n}=b;m(e,t,i,o,a,l,n),O({}),d(!1)}r===D&&p(h,j),r===y&&g(N,I)})({isAddedPromosCoupon:t,cartItem:i,setConfirmationModel:m,itemRemoveHandler:O,isRemoveItemLoading:b,itemRemoveWrapper:_,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:N,addtoCartClinckHandler:I,setAddToClickParms:S,addToClickParms:T,selectedStoreData:E,clickHandler:f,events:e,removeCouponHandler:D,couponCode:y,couponTitle:A,userOrderStateDispatch:P,sliceDispatch:w}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1129:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var a=i(3),o=i.n(a),l=i(1130),n=i(411),d=i(16),s=i(210),r=i(2);var c=e=>Object(r.jsx)(s.a,{importPath:"CONTENT_DISPOSITION_ITEMS",...e}),u=i(1157),v=i(5),m=i(1108),O=i(85),b=i(0),j=i(62),p=i(28),h=i(133),g=i(73),N=i(1122),I=i(55),S=i(399);const T=e=>{var t,i,T,E,f,x,C,D,y;const{userParams:A,contentData:_,showHeader:R=!0,hideTimeslot:L,showCateringDisposition:P}=e,{DISPOSITION_DATA:w,SCHEDULE_ORDER_DATA:k,DISPOSITION_METHOD:M,SHOW_CLEAR_CART_ALERT:F,SEARCH_ORDER_DATA:H,CLEAR_CART_CONFIRM_CANCEL_MODAL:U,clearCartExposedFlag:W,searchStoreAlertTitle:B,CURRENT_STORE_INFO:G,SET_FIND_A_KFC_VIEW:Y,ORDER_SUMMARY_MODAL_CLOSE:V,SCHEDULE_ORDER_CLICKED:K,SHOW_SCHEDULE_DISPOSITION:q}=d.a,{segmentedHomePageData:z=[]}=_,{headline:J=[],supportedDispositions:Q=[]}=z,X=e.contentData&&Object(n.b)(J,Q)||{},Z=(null===(t=e.contentData)||void 0===t?void 0:t.contentDispositionData)&&Object(v.Td)(e.contentData.contentDispositionData)&&Object(u.c)(e.contentData.contentDispositionData)||{},{userOrderState:$,userOrderStateDispatch:ee}=Object(a.useContext)(O.a)||{},te=localStorage.getItem(b.gd.SERVICE_TYPE),ie=null===te||void 0===te?void 0:te.toUpperCase();let{enableAddressLocalisation:ae=!1}=Object(p.c)((e=>Object(v.sd)(e.tenantReducer)));ae=void 0!==$.enableAddressLocalisation?$.enableAddressLocalisation:ae;const oe=null===$||void 0===$||null===(i=$.dispositionStateData)||void 0===i||null===(T=i.dispositionType)||void 0===T?void 0:T.toUpperCase(),le=(null===$||void 0===$||null===(E=$.scheduleOrderData)||void 0===E?void 0:E.changeFlow)||!1,ne=oe&&!le?oe===b.Lb.DELIVERY:ie===b.Lb.DELIVERY,de=ae&&ne,{cartData:se={}}=Object(p.c)((e=>e.cartReducer)),[re,ce]=Object(a.useState)(R),ue=Object(S.c)(),ve=le?JSON.parse(localStorage.getItem(b.gd.SELECTED_ADDRESS)):{},me=(null===$||void 0===$||null===(f=$.scheduleOrderData)||void 0===f?void 0:f.selectedAddress)||ve,Oe=null===me||void 0===me?void 0:me.deliverySearchType,be=Oe?ue.find((e=>e.id===Oe)):ue[0],[je,pe]=Object(a.useState)(be),he=Object(j.h)(),ge=Object(p.b)(),Ne=null===(x=localStorage)||void 0===x?void 0:x.getItem("guestActiveOrders");let Ie=[];try{Ie=JSON.parse(Ne)}catch(xe){Ie=[]}Ie=Object(m.d)(Ie,null===A||void 0===A?void 0:A.loggedIn);const Se=Object(a.useCallback)((()=>{var e;return(A.loggedIn||(null===(e=Ie)||void 0===e?void 0:e.length)>0&&!(null!==A&&void 0!==A&&A.loggedIn))&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACCOUNT||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACTIVE_ORDERS)||sessionStorage.getItem(b.Ne.PICKUP_ORDER_CANCELLED)&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE)}),[null===he||void 0===he?void 0:he.pathname,A.loggedIn]);Object(a.useEffect)((()=>{Se()||(ce(!0),sessionStorage.removeItem(b.Ne.PICKUP_ORDER_CANCELLED))}),[A.localized,Se()]),Object(a.useEffect)((()=>{var e;null!==$&&void 0!==$&&null!==(e=$.dispositionStateData)&&void 0!==e&&e.showDisposition&&pe(ue[0])}),[null===$||void 0===$||null===(C=$.dispositionStateData)||void 0===C?void 0:C.showDisposition]);const Te=Object(r.jsx)(s.a,{importPath:"START_ORDER_ITEMS",contentData:X,clickHandler:()=>{Object(n.c)(),ee({type:Y,value:{findAKFC:!1}}),ee({type:H,value:{showSearchStore:!1}}),ee({type:V,orderSummaryModalClose:!0}),localStorage.setItem(b.gd.RETAIN_ADDRESS,""),P?(Object(I.o)(),ee({type:H,value:{showSearchStore:!0,configSearchScreen:h.c}}),localStorage.setItem(b.gd.CONFIG_SEARCH_SCREEN,h.a),ee({type:M,value:{dispositionType:b.Jb.CATERING}}),ge(Object(g.u)())):Object(v.Wd)(null===he||void 0===he?void 0:he.pathname)?(ee({type:w,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),ee({type:H,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):ee({type:w,value:{showDisposition:!0}})}}),Ee=()=>{if(Se())return Object(r.jsx)(s.a,{...e,testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:ce,isHeaderTrackOrderEnabled:Se})},fe=Object(r.jsx)(c,{contentData:Z,clickHandler:(e,t)=>{e.preventDefault(),e.stopPropagation(),ee({type:Y,value:{findAKFC:!1}}),ee({type:H,value:{showSearchStore:!1}}),ee({type:k,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,changeFlow:!0}}),ee({type:G,value:t}),ee({type:q,value:{showSheduleDisposition:!1}}),ee({type:K,value:{scheduleModeClicked:!1}}),ee({type:d.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),ee({type:d.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}})},selectedInfo:$,hideTimeslot:L,showBlackStripeContent:re,headerTrackOrder:Ee,activeDisposition:ie,dispositionChange:(e,t)=>{let i="";var a;if(e.stopPropagation(),e.preventDefault(),Object(u.b)(t),i=t.trim(),null!==b.Kb&&void 0!==b.Kb&&b.Kb.includes(i.toUpperCase()))if(ee({type:M,value:{dispositionType:i}}),(null===se||void 0===se||null===(a=se.foodLines)||void 0===a?void 0:a.length)>0){let e={flag:W,onConfirm:B};Object(v.Fe)(ee,e,F,U)}else ee({type:H,value:{showSearchStore:!0}})}});return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[R&&(()=>{let e=Te;if(Se()&&(e=re?Object(r.jsxs)("div",{children:[Te," ",Ee()]}):Ee()),!Object(v.le)()&&Object(v.Td)(Z)&&A.localized)e=fe;else if(A.localized){const t=Object(v.Sd)($.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):$.dispositionNew;t&&Object(v.Td)(t.store||{})?e=fe:Object(v.w)()}return e})(),$.showLocationBlockBanner&&Object(N.e)(),(null===$||void 0===$||null===(D=$.dispositionStateData)||void 0===D?void 0:D.showDisposition)&&Object(r.jsx)(l.a,{}),!(null!==$&&void 0!==$&&$.findAKFC)&&(null===$||void 0===$||null===(y=$.searchStoreData)||void 0===y?void 0:y.showSearchStore)&&Object(r.jsx)(s.a,{importPath:de?"DELIVERY_ADDRESS_SEARCH_FORM":"SEARCH_STORE_TEMPLATE",deliverySearchType:je,setDeliverySearchType:pe,onStoreSelectFinish:I.y}),(null===$||void 0===$?void 0:$.scheduleOrderData.showScheduleOrderCatering)&&Object(r.jsx)(s.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:I.y})]})})}},1130:function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var a=i(3),o=i.n(a),l=i(62),n=i(28),d=i(73),s=i(5),r=i(35),c=i(6),u=i(41),v=i(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:i,setRef:a=null}=e,{contentText:l="",infoObject:n=null,orderTypes:d=[]}=t,s=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{i(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{ref:a,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:l}),n&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:n.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:i,"data-testid":"form-component",children:s})]})})},O=i(144),b=i(55);var j=e=>{Object(a.useEffect)((()=>{Object(b.o)()}),[]);const{handleClose:t,DispositionModuleForm:i,headerText:l,modalTitleId:n=""}=e;return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsx)(O.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:n,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:l,autoFocus:!0,children:i})})},p=i(21),h=i(9),g=i(0),N=i(407),I=i(16);const S=(e,t)=>{const i=[];for(const l of e){var a,o;const e=null===l||void 0===l||null===(a=l.fields)||void 0===a||null===(o=a.name)||void 0===o?void 0:o.split("-"),n=e[e.length-1].trim().toUpperCase();if(t&&null!==n&&void 0!==n&&n.includes(N.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:s=!1,name:r,showOption:c=!0,id:u="",dispositionType:v}=l.fields;i.push({buttonText:d,selectDefault:s,type:r,showOption:c,id:u,dispositionType:v})}return i},T=e=>{const{headline:t="",subHeadline:i="",subHeadlineType:a="",title:o=""}=e[0].fields||{};return{modalHeaderText:o,contentText:t,infoObject:{type:a,infoText:i}}},E=(e,t,i,a)=>{var o;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:l,SHOW_CLEAR_CART_ALERT:n}=I.a;null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length&&!a?Object(s.Fe)(t,{},n,l,i):i()};var f=i(85),x=i(24),C=i(113),D=i(92),y=i(236),A=i(1103),_=i(158),R=i(133),L=i(52);var P=e=>{const{CURRENTLY_CLOSED:t,SORRY:i}=A.a,{userOrderState:o,userOrderStateDispatch:u}=Object(a.useContext)(f.a),{contentData:O={}}=o.dispositionStateData,P=Object(n.c)((e=>e.tenantReducer)),{tenantId:w,disableOrderTypeAnalytic:k,isSpecialEventEnabled:M,enableDeliveryMenuOption:F}=P,{deeplinkSelectedStoreId:H,deepLinkStoreMode:U,isDeepLinkURL:W}=o,B=Object(s.Td)(O)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=e.disposition&&e.disposition.fields||{},{headline:o=[],supportedDispositions:l=[]}=a,n={modalHeaderText:"",modalContent:{}},d=i?l:l.filter((e=>{var t,i;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(i=t.dispositionType)||void 0===i?void 0:i.toUpperCase())!==g.Cf}));n.modalContent.orderTypes=S(d,t);const{modalHeaderText:s,contentText:r,infoObject:c}=T(o);return n.modalHeaderText=s,n.modalContent.contentText=r,n.modalContent.infoObject=c,n}({dispositionData:O,deepLinkStoreMode:U,isSpecialEventEnabled:M,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:Y=""}=B;const{SEARCH_ORDER_DATA:V,MENU_URL:K,DISPOSITION_DATA:q,CURRENT_STORE_INFO:z,SCHEDULE_ORDER_TIME_DATA:J,SELECTED_TILE_DATA:Q,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ie,SET_REDIRECTION_PATH:ae}=I.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:oe,TYPE_TAKE_WAY:le,TYPE_DELIVERY:ne,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:se,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:Oe}=N.a,{ENABLE_ADDRESS_LOCALISATION:be,SHOW_MAP_VIEW_BUTTON:je}=L.a,pe=o&&o.dispositionStateData&&o.dispositionStateData.dispositionType?o.dispositionStateData.dispositionType:null;let he="";const ge=Object(s.Sd)(o.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):o.dispositionNew,Ne=Object(n.b)(),Ie=Object(l.g)(),[Se,Te]=Object(a.useState)(""),[Ee,fe]=Object(a.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:xe={},qrCodeScanTime:Ce}=Object(n.c)((e=>e.cartReducer)),{customerId:De=""}=Object(n.c)((e=>e.profileReducer));let ye=Object(n.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:Re={}}=Object(n.c)((e=>Object(s.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Le}}=N.a;Object(a.useEffect)((()=>{Ne(Object(d.u)()),Ne(Object(d.t)()),Ne(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(U,Ie)}),[Ne]);const Pe=Object(a.useCallback)(((e,t)=>{e.stopPropagation();E(xe,u,(()=>{fe({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Le,u,xe]);Object(a.useEffect)((()=>{U&&Ne(Object(d.l)({storeId:H,tenantId:w},null,(()=>{fe({showError:!0,errMsg:Object(c.translateWithI18Next)(re),errDesc:null,buttonText:Object(c.translateWithI18Next)(se),buttonCTA:e=>Pe(e,!1)})})))}),[se,re,U,H,Ne,w]);const we=(e,t,i,a)=>{e.stopPropagation(),e.preventDefault();const o=t.split("-");if(he=o[o.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=oe),a&&(he=a),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(s.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},s.Bb)})({selectedDispositionType:he}),U){const e={data:[{storeId:H,channel:x.b.channel,service:g.fe},{storeId:H,channel:x.b.channel,service:g.Eb}],store:[{...Re,service:g.fe},{...Re,service:g.Eb}],tenantId:w,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Te(he),Ne(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};E(xe,u,t,i)}else[oe,le,ne,de].includes(he.toUpperCase())&&(u({type:ie,value:{findAKFC:!1}}),u({type:V,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:q,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:be,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:l=!1,loggedIn:n=!1}=ye,r=Object(s.od)(l,n);((e,t)=>{var i;t||Object(b.p)(null===h.a||void 0===h.a||null===(i=h.a.selectOrderType)||void 0===i?void 0:i.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(s.h)(he),"%userType%":r},k)},ke=async(e,t)=>{const i=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(s.Mb)(t)));if(null!==i&&void 0!==i&&i.length){var a,l,n,d,v,m,O,j,p,h,N,I,S;const e={time:"ASAP",interval:null===i||void 0===i||null===(a=i[0].summary.timings.scheduled.periods[0])||void 0===a?void 0:a.interval,date:new Date,selectedTime:"ASAP"},c=await Object(s.nb)(Ne,!0,Ce,null===i||void 0===i?void 0:i[0],Object(s.Mb)(t),De,e);Ne(Object(r.f)({data:c,tenantId:w})),u({type:$,value:{oldvalue:ge,newValue:{store:null===i||void 0===i?void 0:i[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(l=o.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===i||void 0===i?void 0:i[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress})),Object(s.ze)(null===i||void 0===i||null===(d=i[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(O=m.address)||void 0===O||null===(j=O.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(s.vf)();const g={storeID:null===i||void 0===i||null===(p=i[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===i||void 0===i||null===(h=i[0])||void 0===h||null===(N=h.addresses)||void 0===N||null===(I=N[0])||void 0===I||null===(S=I.address)||void 0===S?void 0:S.pinCode};Object(b.y)(g),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let i=e||null;u({value:{selectedData:{}},type:Q}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),u({value:i,type:z}),Ne(Object(C.a)({...ye,localized:!0})),u({value:{selectedDateTime:t},type:J}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(P)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP"),Ie.push({pathname:"".concat(K)})})(null===i||void 0===i?void 0:i[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===oe?fe({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(me),buttonCTA:e=>we(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===le&&fe({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>we(e,g.Fb,!0)})})(t)};Object(a.useEffect)((()=>{if(Ae.length>0&&!_e&&Se&&U){var e,a,o;((e,a)=>{null!==e&&void 0!==e&&e.length?ke(e,pe):fe({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(i)," ").concat(a," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(se),buttonCTA:e=>Pe(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,i,a,o,l,n,d,s,r,c,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(r=s.timings)||void 0===r||null===(c=r.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(a=e.name)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value)}}),[Ae,_e,U]);const Me=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ae,value:{redirectionOrder:""}}),u({type:ie,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),W&&Object(s.Bd)(Ie)};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&Me(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:G,onDispositionMethodSubmit:we}),He=Object(v.jsx)(j,{handleClose:Me,DispositionModuleForm:Fe,headerText:Y,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ee||void 0===Ee?void 0:Ee.showError)&&Object(v.jsx)(y.a,{handleClose:null,CartAlertForm:Object(v.jsx)(D.a,{title:null===Ee||void 0===Ee?void 0:Ee.errMsg,contentMsg:null===Ee||void 0===Ee?void 0:Ee.errDesc,confirmButtonText:null===Ee||void 0===Ee?void 0:Ee.buttonText,confirmHandler:null===Ee||void 0===Ee?void 0:Ee.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),He]})}},1134:function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var a=i(3),o=i(75),l=i.n(o),n=i(144),d=i(5),s=(i(0),i(1099)),r=i(61),c=i(85),u=i(16),v=i(28),m=i(145),O=i(262),b=i(35),j=i(15),p=i(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:i,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:l,isEditSelection:n}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=O.a,{userOrderState:N,userOrderStateDispatch:I}=Object(a.useContext)(c.a),{MINI_PDP_DATA:S,FROMFLAGEDIT:T,EDIT_CLICKED:E}=u.a,{QUANTITY_ACTION:f}=r.a,x=i[t],C=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[D,y]=Object(a.useState)(!1),{Single_Arrow_Edit:A}=j.a,_=(e,a)=>{x.quantity=a===f.Increase?(null===x||void 0===x?void 0:x.quantity)+1:(null===x||void 0===x?void 0:x.quantity)-1;const n=i;n[t]=x,o(n),l()};Object(a.useEffect)((()=>{var e;let t=!0;null===x||void 0===x||null===(e=x.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[x.modGrps]),Object(a.useEffect)((()=>{Object(d.tc)(C,x,N,D,h,b.v),y(!1)}),[C,D]);return Object(p.jsxs)(p.Fragment,{children:[n?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,i;I({type:S,value:{id:null===x||void 0===x||null===(e=x.foodItems)||void 0===e?void 0:e.id,flag:T,foodLineId:t}}),I({type:g}),I({type:E,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===x||void 0===x?void 0:x.tenantId,catalogName:null===x||void 0===x?void 0:x.catalog,itemId:null===x||void 0===x||null===(i=x.foodItems)||void 0===i?void 0:i.id})),y(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===x||void 0===x?void 0:x.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(x.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:A,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===x||void 0===x?void 0:x.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(x.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(s.a,{itemCount:null===x||void 0===x?void 0:x.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:f,maxItemCountPerLineItem:null===x||void 0===x?void 0:x.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var N=i(6);const I=e=>{const{addNewProductHandler:t,currencySymbol:i,updateCartHandler:a,customizableFoodItemsList:o,SetCustomizableFoodItemsList:l,totalAmount:n,calculateTotalAmountHandler:d,isEditSelection:s,handleClose:r,checkItemExpiry:c}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,m=Object.keys(o).length;return Object(p.jsxs)("div",{children:[Object.keys(o).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:o,SetCustomizableFoodItemsList:l,calculateTotalAmountHandler:d,isEditSelection:s,handleClose:r}))),s?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(N.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(N.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{c({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:a,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(N.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:i+n})]})})]})]})};var S=i(1109),T=i(397);const E=e=>{var t;const{filteredPreviousData:i,tenantData:o,dname:s,cardId:r,categoryId:c,categoryName:u,categoryUrl:m,itemCount:O,availability:j,imageName:h,itemFoodlineId:g,customizable:N,isFavouriteMenu:E=!1,cartData:f,clickHandler:x,handleClose:C,foodId:D,isEditSelection:y,headerText:A,pricewithouttax:_}=e,R=Object(v.b)(),{discountTotal:L="",couponCode:P=""}=Object(d.zb)(f)||{},w=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),k=Object(d.od)(null===w||void 0===w?void 0:w.localized,null===w||void 0===w?void 0:w.loggedIn),{flatResponse:{productMapById:M={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=o,[H,U]=Object(a.useState)({}),[W,B]=Object(a.useState)(0),{currencyConversionFactor:G,currencySymbol:Y,componentOptions:V}=o,{web:{global:{showPriceWithTax:K=!1}={}}={}}=null!==V&&void 0!==V?V:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:C,modalTitle:A},[z,J]=Object(a.useState)(-1),[Q,X]=Object(a.useState)([]),Z=()=>{J(-1),C&&C()},$=()=>{0===Q.length&&0===z?Z():Q&&null!==Q&&void 0!==Q&&Q.length&&z<=Q.length&&((()=>{var e,t,i,a;R(Object(b.x)({params:{basketId:null===f||void 0===f?void 0:f.id,basketLineItemId:null===(e=Q[z])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=Q[z])||void 0===t?void 0:t.quantity,isBundle:Object(T.e)((null===(i=Q[z])||void 0===i?void 0:i.foodItemId)||(null===(a=Q[z])||void 0===a?void 0:a.mdmId))}))})(),J(z+1))};Object(a.useEffect)((()=>{$()}),[Q]),Object(a.useEffect)((()=>{if(-1===z){var e;const t={...H};null===f||void 0===f||null===(e=f.foodLines)||void 0===e||e.forEach((e=>{var i,a;if(null!==e&&void 0!==e&&null!==(i=e.item)&&void 0!==i&&i.customizable&&(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)===D){var l,n;const i=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:i,displayName:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.displayName,modGrps:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps,maxItemCountPerLineItem:null===o||void 0===o?void 0:o.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===f||void 0===f?void 0:f.catalog,categorySelected:c}}})),U(t),J(0)}else z===Q.length?(Z(),R(Object(b.u)(new Date))):$()}),[null===f||void 0===f?void 0:f.foodLines]),Object(a.useEffect)((()=>{ee()}),[H]);const ee=()=>{let e=0;Object.values(H).forEach((t=>{const i=K?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*i})),B((e/G).toFixed(2))},te=Object(p.jsx)(n.a,{...q,children:Object(p.jsx)(I,{...e,"data-testid":"ModalTemplate",filteredPreviousData:i,addNewProductHandler:e=>{const t={id:r,itemCount:O,product:{productName:s,productImage:h,productPrice:Object(d.Fc)(j[0],_,G,K)},itemFoodlineId:g},i={catId:c,catName:u,catUrl:m};E?x(e,t,N,i):(x(e,t,N,i),C&&C())},currencySymbol:Y,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==f&&void 0!==f&&f.id&&F){var e,t;const i=Object.values(H),a=i.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(a);const l=null===i||void 0===i?void 0:i[0],{foodItems:n,unitPrice:s,quantity:r,previousQty:c}=null!==l&&void 0!==l?l:{},u=r-c;let v="".concat(Object(d.uc)(null===n||void 0===n?void 0:n.modGrps));const{categoryId:m="NA",categoryName:O="NA"}=null!==(e=null===M||void 0===M?void 0:M[null===n||void 0===n?void 0:n.id])&&void 0!==e?e:{};Object(S.a)({item_name:Object(d.oc)(null===n||void 0===n?void 0:n.name),item_id:Object(d.oc)(null===n||void 0===n?void 0:n.id),item_category:O,price:Object(d.oc)(s/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:O,item_list_id:m,index:1,quantity:u,coupon:P,discount:L/G,currency:null===o||void 0===o?void 0:o.currencyShortName},k,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(s/G))||void 0===t?void 0:t.toFixed(2)),P,null===o||void 0===o?void 0:o.currencyShortName)}},customizableFoodItemsList:H,SetCustomizableFoodItemsList:U,totalAmount:W,calculateTotalAmountHandler:ee,isEditSelection:y,handleClose:C})});return l.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,i){"use strict";var a=i(3),o=i.n(a),l=i(158),n=i(403),d=i(6),s=i(5),r=i(85),c=i(0),u=i(15),v=i(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:i,isMobile:m,onPositionChangeHandler:O,centerIndex:b,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=s.N,passAddress:N,storeCardHeight:I,latLongValue:S}=e,{PLACE_PIN:T}=l.a,{userOrderState:E}=o.a.useContext(r.a),{dispositionStateData:f={}}=E,{dispositionType:x=localStorage.getItem("dispositionType")}=f;let C,D,y=o.a.createRef();const[A,_]=Object(a.useState)(S),[R,L]=Object(a.useState)(!1),{RedMarker:P,RedMarkerNoText:w,BlackMarker:k,ArrowIcon:M}=u.a;Object(a.useEffect)((()=>{C=F(A),D=H(A)}),[]),Object(a.useEffect)((()=>{_(S),L(!1)}),[S]),Object(a.useEffect)((()=>{F(A),D=H(A)}),[A,b,R]);const F=e=>new window.google.maps.Map(y.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[b]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!m,gestureHandling:"greedy"}),H=e=>{const t=new window.google.maps.Geocoder;let i=e;C=F(i),j?R||(C.addListener("zoom_changed",(()=>{p(!1),L(!0)})),C.addListener("drag",(()=>{p(!1),L(!0)}))):(C.addListener("drag",(()=>{i={lat:C.getCenter().lat(),lng:C.getCenter().lng()},D.setPosition(i)})),window.google.maps.event.addListener(C,"dragend",(function(){!function(e,t,i){e.geocode({location:i},((e,t)=>{"OK"===t&&e[0]&&N(e[0].formatted_address)}))}(t,0,i)})));let a=Object(s.ad)(Array.isArray(i)&&i.length>0,i,[i]).map(((e,t)=>{let i=new window.google.maps.Marker({position:e,map:C,visible:!0,icon:Object(s.qd)(!j,!R&&j&&t===b)?(null===x||void 0===x?void 0:x.toUpperCase())===c.Df?w:P:k});return i.addListener("click",(function(e){g(e.latLng)})),i}));return Object(s.ad)(Array.isArray(i),a,a[0])};return Object(v.jsxs)(o.a.Fragment,{children:[!t&&((null===x||void 0===x?void 0:x.toUpperCase())!==c.Df||""!==i&&i?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(s.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(T)})})),m&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(I+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(s.hb)(0===b,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(s.ad)(0===b,e.preventDefault(),O(0)),children:Object(v.jsx)(n.a,{srcFile:M,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(b===A.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>b===A.length-1?e.preventDefault():O(1),children:Object(v.jsx)(n.a,{srcFile:M,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:y})]})}},1143:function(e,t,i){"use strict";i.d(t,"b",(function(){return Q}));var a=i(3),o=i.n(a),l=i(420),n=i.n(l),d=i(395),s=i(404),r=i(263),c=i(85),u=i(16),v=i(120),m=i(28),O=i(73),b=i(12),j=i(5),p=i(62),h=i(113),g=i(158),N=i(46),I=i(6),S=i(4),T=i(35),E=i(24),f=i(107),x=i(0),C=i(394),D=i(411),y=(i(1155),i(15)),A=i(55),_=i(600),R=i(2);const{ORDER_TYPE:L,YOUR_KFC_RESTAURANT:P,YOUR_LOCATION:w,EDIT:k,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:F,TIME:H,CONFIRM_BTN_TEXT:U,DELIVERY_UNAVAILABLE_ERROR:W,SWITCH_TO_TAKEAWAY_TEXT:B,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:Y,ERROR_MESSAGE_CLOSED:V,SCHEDULE_ORDER:K,CHANGE_ORDER_TITLE:q,ASAP_SERVES_Warning_Message:z}=S.a,J=(e,t,i)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(i)),Q=e=>"ASAP"!==e&&"-"!==e?e:Object(b.S)(Object(b.o)(),g.a.HHMM,g.a.LT),X=(e,t)=>{let i={};return"-"!==e&&"ASAP"!==e?i={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(i={isForNow:!0,futureDateTime:0}),i},Z=(e,t,i)=>{let a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(j.Kb)(a.type):t?x.Mb.PICKUP:Object(j.Kb)(i)};function $(e,t,i){var a;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||i(null===(a=e[0])||void 0===a?void 0:a.timestr):i("-")}t.a=Object(p.j)((e=>{var t,i,l,p,S,te,ie,ae,oe,le,ne,de,se,re,ce,ue,ve;const{SingleArrow:me,Calendar:Oe,Error:be}=y.a,je=Object(a.useRef)(null),pe=Object(a.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Ne,SCHEDULE_ORDER_DATA:Ie,DISPOSITION_DATA:Se,SCHEDULE_ORDER_TIME_DATA:Te,CLOSED:Ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:fe,MENU_URL:xe,PDP_URL:Ce,SELECTED_TILE_DATA:De,DISPOSITION_METHOD:ye,SET_DISPOSITION:Ae,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:Le,clearCartChangeFlag:Pe,orderTypeAlertTitle:we,searchStoreAlertTitle:ke,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:Fe}=u.a,He=Object(m.c)((e=>e.profileReducer)),{userOrderState:Ue,userOrderStateDispatch:We}=Object(a.useContext)(c.a),{dispositionStateData:Be={},scheduleOrderData:Ge={}}=Ue,{changeFlow:Ye=!1,isAddressFlow:Ve=!1}=Ge,Ke=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:qe=""}=Be,ze=qe||localStorage.getItem("dispositionType"),{value:Je=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Qe=""}=Ge&&(null===(i=Ge.selectedDateTimeInfo)||void 0===i||null===(l=i.date)||void 0===l?void 0:l.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Ge&&(null===(p=Ge.selectContentData)||void 0===p||null===(S=p.savedTime)||void 0===S?void 0:S.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(ie=Ge.storeInfo)||void 0===ie||null===(ae=ie.summary)||void 0===ae?void 0:ae.timings)||{},tt=Object(j.Sd)(Ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ue.dispositionNew,{unavailibilities:it,unavailibilityType:at}=$e,{interval:ot=0,startEndTime:lt={}}=$e&&(null===$e||void 0===$e||null===(oe=$e.periods)||void 0===oe?void 0:oe.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:nt,to:dt}=lt;let st=Object(m.c)((e=>e.appStateReducer.userStatus));const rt=Object(m.b)(),ct=Object(m.c)((e=>e.tenantReducer)),ut=Object(m.c)((e=>e.storesReducer)),vt=Object(m.c)((e=>e.cartReducer)),{cartData:mt}=vt,{storesAvilableTimeSlots:Ot,storesTimeSlots:bt}=ut,[jt,pt]=Object(a.useState)(!1),[ht,gt]=Object(a.useState)({error:!1,errormessage:""}),[Nt,It]=Object(a.useState)({from:nt,to:dt,interval:ot}),[St,Tt]=Object(a.useState)({error:!1,openStoreTime:""}),Et=(null===(le=Ge.storeInfo)||void 0===le||null===(ne=le.summary)||void 0===ne||null===(de=ne.status)||void 0===de?void 0:de.currentStatus)===Ee,ft=()=>{var e;return Ye?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ve&&(null===ze||void 0===ze?void 0:ze.toUpperCase())===g.a.TYPE_DELIVERY},[xt,Ct]=Object(a.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[Dt,yt]=Object(a.useState)(et&&et.isAvailable?"ASAP":Object(b.S)(null===lt||void 0===lt?void 0:lt.from,"hh:mm","LT")),[At,_t]=Object(a.useState)([]),[Rt,Lt]=Object(a.useState)(!1),[Pt,wt]=Object(a.useState)(!1),[kt,Mt]=Object(a.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{Mt(Object(j.de)(window.innerWidth))};Object(a.useEffect)((()=>{window.addEventListener("resize",Ft)}),[kt]),Object(a.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:E.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};rt(Object(O.c)({data:t,tenantId:ct.tenantId}))}let t=Object(v.j)(nt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),it,at);return _t(t),()=>{rt(Object(O.a)())}}),[]);const Ht=e=>{var t,i;if("INDIA"===(null===ct||void 0===ct?void 0:ct.country))return;const a=Object(b.h)(e,"YYYY-MM-DD");if($e.date===a){let t=Object(v.j)(nt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),it,at);return _t(t),yt(t[0].timestr),It({from:nt,to:dt,interval:ot}),Ct(e),gt({...ht,error:!1,errormessage:""}),Lt(!1),void wt(!1)}const o={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:E.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:a};if(rt(Object(O.c)({data:o,tenantId:ct.tenantId})),Ct(e),(null===Ot||void 0===Ot||null===(i=Ot.periods)||void 0===i?void 0:i.length)>0){const{startEndTime:e,interval:t}=Ot.periods[0],{from:i,to:a}=e;let o=Object(v.j)(i,a,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),it,at);It({from:i,to:a,interval:t}),_t(o)}gt({...ht,error:!1,errormessage:""})},Ut=e=>{const t=new Date,i=new Date(e.split("T")[0]);return i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()},Wt=e=>{var t;yt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let i=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ut(Qe)?"Today":"Tomorrow"});Ct(i),Lt(!1),wt(!1),gt({...ht,error:!1,errormessage:""})};Object(a.useEffect)((()=>{const e=Xe;Qe&&Ht(new Date(Qe)),((e,t,i,a,o,l)=>{if(e&&t){const e=Object(b.S)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===i||void 0===i?void 0:i.split(":")[0]),Number(null===i||void 0===i?void 0:i.split(":")[1]),0)?l(o):l(t)}})(Ye,e,nt,Qe,Xe,Wt),((e,t,i,a,o)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var l;const e={storeid:null===t||void 0===t||null===(l=t.storeInfo)||void 0===l?void 0:l.id,channel:E.b.channel,service:Object(j.Mb)(i()).toString().toLowerCase(),date:""};a(Object(O.c)({data:e,tenantId:null===o||void 0===o?void 0:o.tenantId}))}})(Ze,Ge,$t,rt,ct)}),[]),Object(a.useEffect)((()=>{let e=Object(j.ad)(Ye,Object(I.translateWithI18Next)(q),Object(I.translateWithI18Next)(K));var t;if(Object(j.Td)(bt)&&jt)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ee)gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(V)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(V));else{let t=new Date;if(new Date(xt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(b.o)().add(et.promiseTime,"minutes").format("LT");Object(b.c)(t,Dt,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(I.translateWithI18Next)(G))):J(he,xe,Ce)?Bt():Gt()}else J(he,xe,Ce)?Bt():Gt()}}),[bt,He]);const Bt=()=>{var t,i;We({type:De,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(ct)),localStorage.setItem("selectedTile",JSON.stringify({}));const a=null===he||void 0===he?void 0:he.pathname,o=null===Ke||void 0===Ke||null===(t=Ke.summary)||void 0===t?void 0:t.name,l=null===ct||void 0===ct||null===(i=ct.componentOptions)||void 0===i?void 0:i.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(xe),...!Object(j.ce)(a)&&{state:{toastData:{storeName:o,service:ze,showToastAfterLocalization:l}}}})},Gt=async()=>{We({type:Ie,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),We({type:ye,value:{dispositionType:ze}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),We({type:Me,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),We({type:Ne,value:{showSearchStore:!1}});let e="",t="";"ASAP"===Dt||"-"===Dt?(e="ASAP",t="ASAP"):(e=Dt,t=Dt),We({type:Fe,value:{forceReload:!0}});let i=Q(Dt);const a=Object(b.A)(Object(b.h)(xt,"YYYY-MM-DD")+" "+i,"YYYY-MM-DD hh:mm A");let o={time:e,interval:Nt.interval,date:xt,epochTime:a,selectedTime:Dt},l=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==Ke.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(Ke,Object(j.Mb)(ze),null===He||void 0===He?void 0:He.customerId,o,l,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);rt(Object(T.m)("")),rt(Object(T.f)({data:e,tenantId:ct.tenantId}))}rt(Object(h.a)({...st,localized:!0})),We({type:Ae,value:{oldvalue:tt,newValue:{type:$t(),store:Ke,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:l}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:Ke,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:l})),Object(j.vf)(),We({type:Te,value:{selectedDateTime:o}}),We({type:fe,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder",t)};Object(a.useEffect)((()=>{var e;let t,i={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(Ot||{}).length){var a,o,l;const{startEndTime:e,interval:d}=Object(j.qd)(null===(a=Ot[0])||void 0===a?void 0:a.periods[0],i),{startEndTime:s}=Object(j.qd)(null===(o=Ot[1])||void 0===o?void 0:o.periods[0],i),{from:r}=e,{to:c}=s;var n;if(t=Object(v.j)(r,c,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(l=Ot[0])||void 0===l?void 0:l.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),it,at),It({from:r,to:c,interval:d}),_t(t),$(t,Xe,Wt),!Ot.find((e=>e.date===Qe.split("T")[0])))Ct(new Date(null===(n=Ot[0])||void 0===n?void 0:n.date))}else if(Object.keys(Ot||{}).length){var d,s;const{startEndTime:e,interval:a}=Object(j.qd)(null===(d=Ot[0])||void 0===d?void 0:d.periods[0],i),{from:o,to:l}=e;var r;if(t=Object(v.j)(o,l,a,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===ct||void 0===ct?void 0:ct.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(s=Ot[0])||void 0===s?void 0:s.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),it,at),It({from:o,to:l,interval:a}),_t(t),$(t,Xe,Wt),!Ot.find((e=>e.date===Qe.split("T")[0])))Ct(new Date(null===(r=Ot[0])||void 0===r?void 0:r.date))}const c=localStorage.getItem("modalSource");var u;null!==ct&&void 0!==ct&&ct.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Et&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&Tt({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(Ot)]);const Yt=e=>{var t,i;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(i=pe.current)&&void 0!==i&&i.contains(e.target)||(Lt(!1),wt(!1))};Object(a.useEffect)((()=>(document.addEventListener("mousedown",Yt),()=>{document.removeEventListener("mousedown",Yt)})),[]);const Vt=()=>{We({type:Ne,value:{showSearchStore:!0}}),We({type:Ie,value:{showDisposition:!1}}),We({type:ye,value:{dispositionType:"Pickup"}})},Kt=null===Ge||void 0===Ge||null===(se=Ge.storeInfo)||void 0===se||null===(re=se.availableServicesPerChannel)||void 0===re||null===(ce=re.find((e=>"web"===e.channel)))||void 0===ce?void 0:ce.services,qt=null===Kt||void 0===Kt?void 0:Kt.includes("delivery"),zt=Object(j.hb)(ft(),!qt),Jt=()=>{let e=Object(I.translateWithI18Next)(Y),t=!1;return qt&&(e=Object(I.translateWithI18Next)(W),t=!0),{showTakeWayButton:t,message:e}},{message:Qt}=Jt();Object(a.useEffect)((()=>{Object(f.g)(Ye,Qt)}),[Qt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Jt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(N.a,{srcFile:be,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Vt,children:Object(I.translateWithI18Next)(B)})})]})},Zt=e=>{var t;let{orderType:i}=e,a=Object(I.translateWithI18Next)(z),o=null===a||void 0===a?void 0:a.replace("%time%",St.openStoreTime);return o=null===(t=o)||void 0===t?void 0:t.replace("%servesName%",i),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),o]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ye&&e?e.type:Ve?"Pickup":ze},ei=Ye?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(s.a,{value:Z(Ye,Ve,ze),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:we};Object(j.Fe)(We,e,Re,Le)}else We({type:Se,value:{showDisposition:!0}});We({type:Ie,value:{showScheduleOrderCatering:!1}}),We({type:Ne,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(I.translateWithI18Next)(k)})})]}),ht&&ht.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),ht.errormessage]}),kt&&zt&&Object(R.jsx)(Xt,{}),Object(R.jsx)("h3",{className:"order-type",children:ft()?Object(I.translateWithI18Next)(w):Object(I.translateWithI18Next)(P)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(s.a,{value:ft()?ei:Je||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:ft()?Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(We({type:ye,value:{dispositionType:Ye?JSON.parse(localStorage.getItem("dispositionNew")).type:ze}}),mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:ke};Object(j.Fe)(We,e,Re,Le)}else We({type:Ne,value:{showSearchStore:!0}});We({type:Ie,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(I.translateWithI18Next)(k)}):Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Pe,onConfirm:ke};Object(j.Fe)(We,e,Re,Le)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ve)We({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];We({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}We({type:Ie,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ye)}}),We({type:ye,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(I.translateWithI18Next)(k)})})]}),!kt&&zt&&Object(R.jsx)(Xt,{}),(null===St||void 0===St?void 0:St.error)&&Object(R.jsx)(Zt,{orderType:Z(Ye,Ve,ze)}),Object(R.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(M)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(I.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===ct||void 0===ct?void 0:ct.country)?Object(R.jsxs)(o.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>wt(!Pt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(n.a,{selected:xt,showPopperArrow:!1,onChange:e=>Ht(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Pt,readOnly:!0}),Object(R.jsx)("img",{src:Oe,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(o.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(b.h)(xt,"YYYYMMDD")===Object(b.e)("YYYYMMDD")&&Object(I.translateWithI18Next)("today")||Object(I.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(I.translateWithI18Next)(H)}),Object(R.jsxs)("div",{className:ee(At),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Lt(!Rt),onClick:()=>0!==$e.periods.length&&Lt(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:Dt}),Object(R.jsx)("img",{src:me,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===At||void 0===At||!At.length)&&(null===At||void 0===At?void 0:At.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{Tt((e=>({...e,error:!1}))),Wt(e)},onKeyPress:()=>Wt(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(I.translateWithI18Next)(U),onClickHandler:e=>{var t,i,a,o,l;Object(A.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===Ke||void 0===Ke?void 0:Ke.id,disposition:ze,postCode:null===Ke||void 0===Ke||null===(t=Ke.addresses[0])||void 0===t||null===(i=t.address)||void 0===i?void 0:i.pinCode};ge(n),Object(C.J)(n,Dt),Object(D.a)(Ge),pt(!0);let d=Q(Dt);const s=Object(b.A)(Object(b.h)(xt,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),r={storeid:null===Ge||void 0===Ge||null===(a=Ge.storeInfo)||void 0===a?void 0:a.id,channel:E.b.channel,service:null===(o=Object(j.Mb)($t()))||void 0===o||null===(l=o.toString())||void 0===l?void 0:l.toLowerCase(),futureDateTimeInEpochFormat:s,asap:Dt===x.s};rt(Object(O.n)({data:r,tenantId:ct.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const i=null===Ke||void 0===Ke||null===(e=Ke.summary)||void 0===e?void 0:e.name,a=null===ct||void 0===ct||null===(t=ct.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(_.a)(i,ze,a)}}))),null!==mt&&void 0!==mt&&mt.id&&rt(Object(O.q)({params:{basketId:null===mt||void 0===mt?void 0:mt.id},tenantId:ct.tenantId,postBody:X(Dt,s)})),We({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(I.translateWithI18Next)(U)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,i){"use strict";i.d(t,"a",(function(){return H}));var a=i(3),o=i(28),l=i(398),n=i(5),d=i(235),s=i(61),r=i(410),c=i(6),u=i(35),v=i(395),m=i(46),O=i(264),b=i(1099),j=i(1112),p=i(1134),h=i(0),g=i(15),N=i(145),I=i(85),S=i(16),T=i(262),E=i(2);const f=(e,t,i,a,o)=>Object(n.ad)(e||t||i||a||o,g.a.ribbonRedOutlined,null);var x=function(e){var t,i,r;const{getCardTypeName:x,cardType:C,allowClickOnProductCard:D,discount:y,specials:A,exclusive:_,timer:R,cardId:L,customizable:P,getProductImageClassName:w,tenantData:k,imageName:M,onCardClickHandler:F,categoryId:H,categoryName:U,categoryUrl:W,dname:B,availability:G=[],newitem:Y,topseller:V,customlabelfield:K,getSpecificRibbonBanner:q,userParams:z,favouriteItems:J,item:Q,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ie,veg:ae,servingCount:oe,getVegNonvegClassName:le,menuProductPriceClassName:ne,checkForBasePriceInMenu:de,baseprice:se,cardCat:re,displayPrice:ce,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:Oe,configureOptions:be,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Ne,menuCardBtnText:Ie,clickHandler:Se,itemFoodlineId:Te,openCostomizedModal:Ee,setOpenCostomizedModal:fe,filteredPreviousData:xe,cartData:Ce,CARD_TYPE:De,setShowTopScrollBtn:ye,pricewithouttax:Ae}=e,_e=Object(o.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=T.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:Pe,EDIT_CLICKED:we}=S.a,{userOrderStateDispatch:ke}=Object(a.useContext)(I.a),[Me,Fe]=Object(a.useState)(!1),[He,Ue]=Object(a.useState)(Object(n.de)(window.innerWidth)),{ITEM_QUANTITY:We}=d.a,{QUANTITY_ACTION:Be}=s.a,Ge=Object(n.ad)(null===z||void 0===z?void 0:z.loggedIn,h.cg,""),{allowAddToCartButton:Ye=!0}=be,{web:{global:{showPriceWithTax:Ve=!1}={}}={}}=null!==(t=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Ke,Veg_dot_Icon:qe,Product_Card_Icon:ze,TimerIcon:Je,FavoriteInActiveWhite:Qe,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(a.useEffect)((()=>{window.addEventListener(h.ye,et)}),[He]);const et=()=>{Ue(Object(n.de)(window.innerWidth))},tt=()=>Object(E.jsxs)("div",{className:ne(C),children:[Object(n.hb)(de(se,re),ce(se,null===k||void 0===k?void 0:k.currencyConversionFactor)),Object(E.jsxs)("span",{className:ue(se,re),children:[l.o.MENU_CARD.CURRENCY,Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ve).toFixed(2)]})]}),it=()=>Object(E.jsxs)("div",{className:le(C),children:[Object(n.hb)(He,Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ae,Ke,qe)})),Object(n.hb)(!He,Object(n.ad)(!ae,Object(c.translateWithI18Next)(l.o.MENU_CARD.NON_VEG),Object(c.translateWithI18Next)(l.o.MENU_CARD.VEG))),Object(n.hb)(oe,Object(E.jsx)("div",{className:"Dot"})),l.o.MENU_CARD.SERVES,oe]}),at=()=>{if(null!==z&&void 0!==z&&z.loggedIn)return Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(n.ad)("small-menu-product-card"===Z,Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),X(C),te(C)),Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(E.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Xe,Qe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(E.jsx)("img",{src:Object(n.hb)(Array.isArray(J),null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))))?Xe:Qe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},ot=()=>Object(E.jsx)(m.a,{"data-testid":"product-image",className:w(C),defaultPath:Object(n.bc)(null,k,!0),srcFile:Object(n.bc)(M,k),onClick:e=>Object(n.Nf)(D,F,[e,L,P,H,{productName:B,productImage:M,productPrice:Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ve)}]),alt:""}),lt={productId:L,productInfo:{productName:B,productImage:M,productPrice:Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ve)}},nt={catId:H,catName:U,catUrl:W},dt={id:L,itemCount:ee,product:{productName:B,productImage:M,productPrice:Object(n.Ec)(G[0],null===k||void 0===k?void 0:k.currencyConversionFactor)},itemFoodlineId:Te};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:x(C,D,y,A,_,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(n.Zd)()&&P&&Object(E.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),C!==De.SMALL&&ot(),Object(E.jsx)(O.a,{src:Object(n.ad)(A,ze,f(K,y,_,Y,V)),className:Object(n.ad)(A,"specials-product-ribbon",Object(n.ad)(Object(n.jb)(_,K),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(E.jsx)("span",{className:Object(n.ad)(A,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(E.jsxs)("div",{children:[Object(E.jsx)(O.a,{src:Je,className:"product-timer"}),Object(E.jsx)("span",{className:"product-timer-text",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.TIMER)})]}):q(A,y,_,Y,V,K)}),Object(n.hb)(!He,at()),Object(E.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{D&&F(e,lt,P,nt)},children:[Object(E.jsx)("div",{className:ie(C,y,A,_,{timer:R,newitem:Y,topseller:V,customlabelfield:K}),children:null===B||void 0===B?void 0:B[0].value}),He?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"description-and-image",children:[Object(E.jsx)("div",{className:ve(C),id:"longDescription",children:me[0].value}),C===De.SMALL&&ot()]}),Object(E.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),it(),Object(E.jsx)("div",{className:"hearticonDiv",children:at()})]})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ae,Ke,qe)}),it(),tt(),Object(E.jsx)("div",{className:ve(C),id:"longDescription",children:me[0].value})]})]}),Object(E.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(st=ee,rt=Oe,ct=null===B||void 0===B?void 0:B[0].value,ut=null===k||void 0===k?void 0:k.maxItemCountPerLineItem,Object(E.jsx)(b.a,{itemCount:st,itemQuantity:We,updateItemQuantity:rt,quantityAction:Be,item:void 0,itemName:ct,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ye&&je&&Object(E.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(E.jsxs)(v.a,{tabIndex:"0",className:he(ge,C,Ne,je),"data-testid":"add-to-cart-".concat(L),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Ie(je))&&void 0!==t&&t.enabled&&ee<=0&&Se(e,P,nt,dt)},"aria-label":(null===(i=Ie(je))||void 0===i?void 0:i.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(r=Ie(je))||void 0===r?void 0:r.btnText,Object(n.J)(je.isStoreClosed)]}):P&&Object(E.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(ke({type:Le,value:{id:null===Q||void 0===Q?void 0:Q.mdmId,flag:Pe,foodLineId:Te}}),ke({type:Re}),ke({type:we,value:{cartEditClicked:!1}}),_e(Object(N.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===Ce||void 0===Ce?void 0:Ce.catalog,itemId:null===Q||void 0===Q?void 0:Q.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:H}))):(Fe(!0),fe(!0))},children:Object(c.translateWithI18Next)(l.o.EDIT_SELECTIONS)})})]})]}),Object(E.jsx)("div",{children:Ee&&(()=>{var t;return Object(E.jsx)(p.a,{handleClose:()=>{fe(!1),Fe(!1)},filteredPreviousData:xe,updateItemQuantity:Oe,tenantData:k,dname:B,clickHandler:Se,cardId:L,categoryId:H,categoryName:U,categoryUrl:W,itemCount:ee,availability:G,pricewithouttax:Ae,imageName:M,itemFoodlineId:Te,customizable:P,setOpenCostomizedModal:fe,openCostomizedModal:Ee,cartData:Ce,setShowTopScrollBtn:ye,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Me,headerText:Object(n.ad)(Me,Object(c.translateWithI18Next)(l.o.EDIT_QUANTITY),Object(c.translateWithI18Next)(l.o.SELECT_QUANTITY))})})()})]});var st,rt,ct,ut};const{CARD_TYPE:C}=l.o,{FavoriteInActiveWhite:D,heartIcon_active:y,heartIcon_activeFavourite:A,heartIcon_inactive_red:_}=g.a,R=(e,t,i,a,o,l)=>e===C.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===C.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===C.SMALL?((e,t,i,a,o)=>e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||i||a||o)?"small-menu-product-card product-card-active":!e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,i,a,o,l):e===C.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===C.LARGE?"menu-product-image":e===C.MEDIUM?"medium-menu-product-image":e===C.SMALL?"small-menu-product-image":e===C.CAROUSAL?"carousal-menu-product-image":void 0,P=(e,t,i,a,o)=>{let{timer:l,newitem:n,topseller:d,customlabelfield:s}=o;return e===C.LARGE?"menu-product-header":e===C.MEDIUM?"medium-menu-product-header":e===C.SMALL?t||i||a||l||n||d||s?"small-menu-product-header-shift":"small-menu-product-header":e===C.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===C.LARGE?"menu-vegOrNonVeg":e===C.MEDIUM?"medium-menu-vegOrNonVeg":e===C.SMALL?"small-menu-vegOrNonVeg":e===C.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,k=e=>e===C.LARGE?"menu-product-price":e===C.MEDIUM?"medium-menu-product-price":e===C.SMALL?"small-menu-product-price":e===C.CAROUSAL?"carousal-menu-product-price":"",M=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===C.LARGE?"menu-product-description":e===C.MEDIUM?"medium-menu-product-description":e===C.SMALL?"small-menu-product-description":e===C.CAROUSAL?"carousal-menu-product-description":"",H=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,U=e=>{const{ADD_TO_CART:t}=d.a;let i=Object(c.translateWithI18Next)(t),a="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(i="Store Closed",a="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(i="Store Closed",a="store-closed",o=!1),{btnText:i,className:a,enabled:o}},W=(e,t,i,a)=>e?"".concat(((e,t)=>{let i,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case C.LARGE:i="menu-cart-button";break;case C.MEDIUM:i="medium-menu-cart-button";break;case C.SMALL:i="small-menu-cart-button";break;case C.CAROUSAL:i="carousal-menu-cart-button";break;default:i=""}return"".concat(a," ").concat(i)})(t,i)," ").concat(U(a).className):"button btn-black medium-menu-cart-button",B=(e,t,i,a,o,d)=>{let s;return s=d?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(i?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(E.jsx)("span",{"data-testid":"new-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.NEW)}):Object(n.ad)(o,Object(E.jsx)("span",{"data-testid":"topseller-id",children:Object(c.translateWithI18Next)(l.o.MENU_CARD.TOP_SELLER)}),null))),s},G=e=>e===C.CAROUSAL?y:A,Y=e=>e===C.CAROUSAL?D:_,V=(e,t)=>Boolean(e)&&"recommended"!==t,K=(e,t)=>{let i;return i=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"price-display",children:"old price"}),Object(E.jsxs)("span",{className:"base-price-menu",children:[l.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),i};t.b=e=>{var t,i;const{cardId:l,cardType:d,discount:c,specials:v,exclusive:m,timer:O,availability:b=[],tenantData:p,customizable:h,categoryId:g,activeId:N,addFavourite:I,removeFavourite:S,item:T,isHidden:f,cardFor:D,setShowTopScrollBtn:y,userParams:A}=e,{QUANTITY_ACTION:_}=s.a,q=Object(o.b)(),z=null===p||void 0===p?void 0:p.tenantId,{componentOptions:J={}}=p,{PlpProductCard:Q={}}=J,{allowClickOnProductCard:X=!1}=Q,Z=Object(o.c)((e=>e.cartReducer)),$=Object(o.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(n.sd)(Z),[ie,ae]=Object(a.useState)(0),[oe,le]=Object(a.useState)(null),[ne,de]=Object(a.useState)(0),se=null===$||void 0===$?void 0:$.id,re=Object(o.c)((e=>{var t;return Object(n.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[ce,ue]=Object(a.useState)(!0),[ve,me]=Object(a.useState)("product"),{flatResponse:{productMapById:Oe={}}={}}=null!==(t=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[be,je]=Object(a.useState)(""),[pe,he]=Object(a.useState)(0),[ge,Ne]=Object(a.useState)([]),[Ie,Se]=Object(a.useState)(!1),[Te,Ee]=Object(a.useState)(""),{couponCode:fe="",amount:xe=0}=(null===ee||void 0===ee||null===(i=ee.discountLines)||void 0===i?void 0:i[0])||{},{foodLines:Ce,total:De}=ee,ye=Number((De/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:fe,amount:Number((xe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(a.useEffect)((()=>{D&&me(D)}),[D]),Object(a.useEffect)((()=>{const e=Object(n.Td)(ee)?Object(n.mc)(l,ee):{},t=Object(n.ad)(Object(n.Td)(e),e.count,0),i=Object(n.ad)(Object(n.Td)(e),e.matchedItemFoodLineId,""),a=Object(n.ad)(Object(n.Td)(e),e.entriesCount,0),o=Object(n.ad)(Object(n.Td)(e),e.itemUnitPrice,"");ae(t),le(i),de(a),he(o)}),[ee,l]);const _e=Object(a.useCallback)((()=>{je(R(d,X,c,v,m,O))}));Object(a.useEffect)((()=>{_e()}),[_e]);Object(a.useEffect)((()=>{ue(!0)}),[ie]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var i;return(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===e}));Ne(t)}Ee(e),Se(!0)},Le=Object(n.hb)(te,N===l);return!f&&Object(E.jsx)(x,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:L,getSpecificRibbonBanner:B,favouriteItems:re,classFavouriteIconActive:G,getCardName:be,favouriteButtonClickHandler:()=>{Object(n.hb)(Array.isArray(re),null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.id)===(null===T||void 0===T?void 0:T.id))))?S(z,se,T.id):((e,t,i,a)=>{var o;const l=Object(n.td)(null===(o=i[0])||void 0===o?void 0:o.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:l/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};I(e,d,a),q(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(z,T,b,se)},itemCount:ie,classFavouriteIconInActive:Y,getMenuProductHeader:P,getVegNonvegClassName:w,menuProductPriceClassName:k,checkForBasePriceInMenu:V,cardCat:ve,displayPrice:K,getPriceClassName:M,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let i={foodName:null===T||void 0===T?void 0:T.name,foodItemId:null===T||void 0===T?void 0:T.mdmId,cartPrice:e,modifiers:Object(j.i)(T),customizable:null===T||void 0===T?void 0:T.customizable,quantity:ie,foodLineId:oe};const{itemQuantityHandler:a}=Object(r.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:Ce,totalAmount:ye},null===p||void 0===p?void 0:p.tenantId,void 0,Oe,void 0,q,void 0);t===_.Increase?h&&ie>=1?Re(null===i||void 0===i?void 0:i.foodItemId):(!h&&ue(!1),a(i,_.Increase)):ne>1?Re(null===i||void 0===i?void 0:i.foodItemId):(ue(!1),a(i,_.Decrease))}},classesCardButton:H,classEnableAddToCart:W,enableAddToCartButton:ce,checkLoading:Le,menuCardBtnText:U,itemFoodlineId:oe,openCostomizedModal:Ie,filteredPreviousData:ge,setOpenCostomizedModal:Se,cartData:ee,CARD_TYPE:C,setShowTopScrollBtn:y,FoodId:Te})}},1148:function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"g",(function(){return r})),i.d(t,"f",(function(){return c})),i.d(t,"i",(function(){return u})),i.d(t,"d",(function(){return m})),i.d(t,"c",(function(){return O})),i.d(t,"b",(function(){return b})),i.d(t,"a",(function(){return j})),i.d(t,"e",(function(){return p}));var a=i(5),o=i(1173),l=i(0),n=i(160),d=i(12);const s=e=>l.xd.test(String(e).toLowerCase()),r=e=>l.uc.test(String(e).toLowerCase()),c=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),i=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+i}},m=(e,t)=>{const{wantToKnowText:i,selectedLetUsKnow:o,firstNameText:l,lastNameText:n,phoneNoText:d,emailText:v}=e;return!(0===(null===i||void 0===i?void 0:i.length)||(null===i||void 0===i?void 0:i.length)>200)&&(!!s(l)&&(!!s(n)&&(!!r("".concat(l).concat(n))&&(!!u(d)&&(!!c(v)&&(!!Object(a.Td)(o)&&!!t))))))},O=e=>{const{firstNameText:t,lastNameText:i,phoneNoText:a,emailText:o}=e;return!!r(t)&&(!!r(i)&&(!!u(a)&&!!c(o)))},b=(e,t,i)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:i}],attachments:[]}}),j=(e,t)=>{var i;var a;return{tenantId:t,payload:{data:[{key:o.b.FIRSTNAME,value:e.fullname},{key:o.b.CALLNATURE,value:e.helpDDOptions},{key:o.b.CATEGORY,value:e.enquiryDDOptions},{key:o.b.SUBCODE,value:e.specificDDOptions},{key:o.b.DESCRIPTION,value:e.detailsArea},{key:o.b.LASTNAME,value:e.publicationdetails},{key:o.b.PHONE,value:e.phonenumber},{key:o.b.EMAIL,value:e.emailaddress},{key:o.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:o.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:o.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:o.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:o.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:o.b.VISITTIME,value:null!==(a=e.visitedTime,i=!!a&&Object(d.d)(a.getHours(),a.getMinutes(),l.sb.hh_mm_A))&&void 0!==i?i:""},{key:o.b.LANGUAGE,value:"en-US"}],attachments:[]}}},p=(e,t,i,a,d,s,r,c,u,v)=>{let m=JSON.parse(localStorage.getItem(l.qf));""===(null===m||void 0===m?void 0:m.addressLine0)&&m&&(m.addressLine0=o.c);const{addressLines:O=[],country:b="",city:j="",pinCode:p="",state:h="",placeId:g=""}=Object(n.b)(t.address_components,m);var N;e===l.rc?(N=p,l.Jd.test(String(N).toLowerCase())?(r(!1),c(!1),i(p)):r(!0),s({...u,sugPinCode:p})):(i(null===O||void 0===O?void 0:O[1]),s()),a((e=>({...e,country:b,addressLines:O,city:j,state:h,pinCode:p,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{d()}),800)}},1152:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o}));const a="outOfService",o="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1154:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return v}));var a=i(158);let o,l,n,d,s=[],r="";const c=(e,t,i,a)=>{if(o=e,l=t,s=i,d=a,s.length>0){let i=s.map((e=>{const{latitude:t,longitude:i}=e&&e.storeBasic.location;return{lat:t,lng:i}})),a=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...a].slice(0,24),destinations:[...i].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let i=[],a=[];a=e&&e.rows&&e.rows[0].elements.map((e=>e));let o=e&&e.originAddresses&&e.originAddresses[0]||"";i=s.map(((e,t)=>({...e,...a[t]}))),d(i,o)},v=(e,t,i)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},m),n=i},m=(e,t)=>{if(t===a.a.OK_STATUS){let t=[],i=e&&e.rows&&e.rows.map((e=>e));t=null===i||void 0===i?void 0:i.map((e=>e.elements[0])),r=e&&e.originAddresses||[],n({allStoreDistance:t,originAddressText:r})}}},1157:function(e,t,i){"use strict";i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return v}));var a=i(12),o=i(1152),l=i(6),n=i(5),d=i(120),s=i(21),r=i(0);const c=e=>{var t,i,a,o,l,n,d,s;const{url:r=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(i=t.fields)||void 0===i||null===(a=i.desktopImage)||void 0===a||null===(o=a.fields)||void 0===o?void 0:o.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(l=e.headline[0])||void 0===l||null===(n=l.fields)||void 0===n||null===(d=n.desktopImage)||void 0===d?void 0:d.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(s=e.headline[1])||void 0===s?void 0:s.fields)||{},{supportedDispositions:m=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:m.map((e=>e.fields)),src:r,alt:c}},u=(e,t,i)=>{var s,r,c,u,v;const m=(null===t||void 0===t||null===(s=t.summary)||void 0===s||null===(r=s.status)||void 0===r?void 0:r.currentStatus)||o.a,{futureDates:O,scheduled:b,asap:j}=Object(n.sd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:p}=Object(n.sd)(b),{interval:h=0,startEndTime:g={}}=Object(n.sd)((null===b||void 0===b||null===(u=b.periods)||void 0===u?void 0:u.length)&&(null===b||void 0===b?void 0:b.periods[0])),{from:N,to:I}=Object(n.sd)(g);let S=Object(d.j)(N,I,h,null===j||void 0===j?void 0:j.isAvailable,1===(null===O||void 0===O?void 0:O.length)&&"INDIA"===(null===i||void 0===i||null===(v=i.country)||void 0===v?void 0:v.toUpperCase()),p);if(m===o.a&&!S.length||null===e||void 0===e||!e.time)return Object(l.translateWithI18Next)(o.b);const T=e.time,E=e.interval,f="object"==typeof e.date?e.date:new Date(e.date),x=Object(a.R)(Object(a.h)(f,"YYYY-MM-DD")+" "+T,"YYYY-MM-DD hh:mm A"),C=Object(a.a)(x,E,"minutes"),D=Object(a.k)(C,"LT");return"ASAP"===T?"".concat(T):"".concat(T," - ").concat(D)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await s.a.registerEvent(void 0,{data:t[0]},n.Bb)},{ORDER_TYPE_STORE_INFO_FROM:m,ORDER_TYPE_STORE_INFO_TO:O,ORDER_TYPE_STORE_INFO_AT:b}=o.c,{DELIVERY:j,DINE_IN:p,PICKUP:h}=r.Jb||{}},1158:function(e,t,i){"use strict";i.d(t,"d",(function(){return S})),i.d(t,"e",(function(){return R})),i.d(t,"c",(function(){return L})),i.d(t,"g",(function(){return P})),i.d(t,"b",(function(){return w})),i.d(t,"a",(function(){return k})),i.d(t,"f",(function(){return M}));var a=i(6),o=(i(332),i(214)),l=(i(404),i(41),i(210)),n=i(4),d=i(144),s=i(968),r=i(1205),c=(i(46),i(15),i(1184)),u=i(0),v=i(190),m=i(1174),O=i(5),b=i(11),j=i(14),p=i(265),h=i(1198),g=i(399),N=i(12),I=i(2);const S=e=>{var t,i,a,o;const{orderDetails:n,updateSetOrderDetails:s}=e,{deliveryAddress:r={},store:c,isOpenOrderSummaryDirectionMap:u=!0,isMobileView:v=!1}=n,m={role:"dialog",modalTitleId:"direction-map-modal",show:!0,classNames:"map-modal",showCloseBtn:u,closeButtonHandler:()=>{s({isOpenOrderSummaryDirectionMap:!1})},modalTitle:"",showBackBtn:v,closeDataTestId:"close-direction-map-modal",id:"directionMapModal",autoFocus:!0},O=[null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.latitude,null===c||void 0===c||null===(i=c.location)||void 0===i?void 0:i.longitude],b=[null===r||void 0===r||null===(a=r.location)||void 0===a?void 0:a.latitude,null===r||void 0===r||null===(o=r.location)||void 0===o?void 0:o.longitude];return u&&Object(I.jsx)(d.a,{...m,children:(j={storeLatLng:O,customerLatLng:b},Object(I.jsx)(l.a,{...j,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0}))});var j},T=(e,t)=>{const i=Object(a.translateWithI18Next)(e),l=Object(a.translateWithI18Next)(t),d=(e=>{const{FAVORITE_ORDERS:t}=n.a;return"<a href='".concat(u.Ce.ACCOUNT,"#").concat(t,"' className='favorites-hyperlink-style'><u>").concat(e,"</u></a>")})(l),s=null===i||void 0===i?void 0:i.replace(l,d);return Object(o.a)(String(s))},E=e=>{var t;const{orderDetails:i,updateSetOrderDetails:a}=e,{orderId:o,isOpenOrderSummarySaveYourOrderCheckoutFaster:l}=i,{ORDER_ADDED_TO_FAVOURITE:d,FAVOURITES:s}=n.a,r=T(d,s);return l&&Object(I.jsx)(c.a,{showOccassionModal:l,updateSetOrderDetails:a,setOccassionModalOpen:()=>{a({isOpenOrderSummarySaveYourOrderCheckoutFaster:!1})},occasionName:"",setOccasionName:e=>console.log(e),cardInfo:{id:o},toastmessage:r,isAddFavOrderBox:!0,userParams:null===i||void 0===i?void 0:i.userStatus,currencyShortName:null===i||void 0===i?void 0:i.currencyShortName,currencyConversionFactor:null===i||void 0===i?void 0:i.currencyConversionFactor,productMapById:null===i||void 0===i||null===(t=i.flatResponse)||void 0===t?void 0:t.productMapById,orderDetail:i})},f=e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{isOpenSaveDeliveryAddressModal:a,deliveryAddress:o,scheduleOrderDateFormat:l}=t,n=(e=>{var t,i;let a={},o=["",""];return o[1]=null===e||void 0===e?void 0:e.addressLines[1],o[0]=null===e||void 0===e?void 0:e.addressLines[0],a={id:(null===e||void 0===e?void 0:e.id)||"",addressName:(null===e||void 0===e?void 0:e.name)||"",city:null===e||void 0===e?void 0:e.city,pinCode:null===e||void 0===e?void 0:e.pinCode,state:null===e||void 0===e?void 0:e.state,country:(null===e||void 0===e?void 0:e.country)||"",location:{latitude:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,longitude:null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude},addressLines:o,deliveryInstruction:(null===e||void 0===e?void 0:e.deliveryInstructions)||"",deliveryOptions:(null===e||void 0===e?void 0:e.deliveryOptions)||""},a})(o),{EDIT:d}=v.b;return a&&!l&&Object(I.jsx)("div",{className:"addresses-and-stores-container",children:Object(I.jsx)(r.a,{"data-testid":"address-modal",address:n,isOpen:a,updateSetOrderDetails:i,toggleModal:()=>{i({isOpenSaveDeliveryAddressModal:!1})},isAddressFromOrderProcessing:!0,modalType:d,deliveryInstration:null===t||void 0===t?void 0:t.instruction})})},x=e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{isOpenSaveDeliveryAddressModal:a,deliveryAddress:o,scheduleOrderDateFormat:l,deliverySearchType:n}=t,d=Object(g.c)()[null!==o&&void 0!==o&&o.pinCode?1:0],r=!0;return a&&l&&Object(I.jsx)("div",{className:"addresses-and-stores-container",children:Object(I.jsx)(s.default,{"data-testid":"new-address-modal",deliverySearchType:n||d,setDeliverySearchType:e=>{i({deliverySearchType:e})},prefectureAddressScreen:r,handleClose:a,updateSetOrderDetails:i,modalType:r,address:o,isAddressFromOrderProcessing:r})})},C=e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{isShowPickupOrderCancelModal:a,isShowStoreClosePickupOrderCancelModal:o}=t,l=()=>{i({isShowPickupOrderCancelModal:!1,isShowStoreClosePickupOrderCancelModal:!1})},n={id:"pickupCancelOrderModal",role:"dialog",modalTitleId:"pickupCancelOrderModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return a||o?Object(I.jsx)(d.a,{...n,children:Object(m.c)({...e,closeModalHandler:l})}):null},D=e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{isShowPickupOrderCheckReadyToPrepareModal:a}=t,o=()=>{i({isShowPickupOrderCheckReadyToPrepareModal:!1})},l={id:"pickupGeoLocationVerifyModal",role:"dialog",modalTitleId:"pickupGeoLocationVerifyModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return a?Object(I.jsx)(d.a,{...l,children:Object(m.d)({...e,closeModalHandler:o})}):null},y=e=>{var t;const{orderDetails:i}=e,{pickupClosedInfoModal:a,buffertimepmpickup:o=30,isPostorderStoreShutdownPopupModal:l,useTradingHoursForStoreCloseCalculation:n}=i,s={...null===i||void 0===i?void 0:i.store,status:{currentStatus:u.Od,message:u.Od}},r=Object(O.v)(s,o);return Object(p.w)(i)||(!a||null===r||void 0===r||!r.timingFlag||n&&Object(O.se)(null===s||void 0===s||null===(t=s.timings)||void 0===t?void 0:t.storeTradingHours,o))&&!l?null:Object(I.jsx)(d.a,{id:"pickupClosedInfoModal",role:"dialog",modalTitleId:"pickupClosedInfoModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(m.g)({...e})})},A=e=>{const{orderDetails:t}=e,{isShowCurbsidePlateNumberInputModal:i}=t,a={id:"curbsidePlateNumberInputModal",role:"dialog",modalTitleId:"curbsidePlateNumberInputModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,closeButtonHandler:()=>(e=>{const{updateSetOrderDetails:t}=e;t({isShowCurbsidePlateNumberInputModal:!1})})(e),showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return!Object(p.w)(t)&&i?Object(I.jsx)(d.a,{...a,children:Object(m.b)({...e})}):null},_=e=>{const{orderDetails:t}=e,{pickupClosingSoonModal:i}=t,a={...null===t||void 0===t?void 0:t.store,status:{currentStatus:u.Od,message:u.Od}},o=Object(O.v)(a,Object(j.a)(b.Ob));return!Object(p.w)(t)&&i&&null!==o&&void 0!==o&&o.timingFlag?Object(I.jsx)(d.a,{id:"pickupClosingSoonModal",role:"dialog",modalTitleId:"pickupClosingSoonModal",show:!0,classNames:"Base-modal pickupClosingSoonModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(m.h)({...e,lastCheckIn:null===o||void 0===o?void 0:o.lastCheckInTime})}):null},R=e=>Object(I.jsxs)(I.Fragment,{children:[S(e),E(e),f(e),x(e),C(e),D(e),y(e),_(e),A(e)]}),L=(e,t)=>Object(I.jsx)(h.a,{isOpen:e,checkoutHeader:!1,showOrderSummaryHeader:!0,handleClose:()=>(e=>{e({openCallSupportModal:!1})})(t)}),P=e=>{const{updateSetOrderDetails:t,orderDetails:i}=e;i.enableCancelOrderCallsupportModal?t({isShowPickupOrderCancelModal:!1,openCallSupportModal:!0,pickupCancelOrder:!(null!==i&&void 0!==i&&i.enableCancelOrderCallsupportModal)}):t({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!0})},w=e=>{const t=[];for(const a of e){const e=a.codePointAt(0);t.push(e)}const i=t.join("%");return btoa(i)},k=(e,t)=>{if(e){const i=Object(N.I)(e,t),a=Object(N.F)(t),o=i.date(),l=a.date(),n=i.isBefore(a);return o===l||n}return!1},M=(e,t,i)=>{if(e){const a=Object(N.I)(e,i),o=Object(N.F)(i),l=a.subtract(t,"minutes"),n=a.add(t,"minutes");let d=0,s=0;return o.isBefore(l)?(d=l.diff(o,"millisecond"),s=n.diff(o,"millisecond")):o.isAfter(l)&&o.isBefore(n)&&(s=n.diff(o,"millisecond")),{timeToEnable:d,timeToDisable:s}}return{timeToEnable:0,timeToDisable:0}}},1159:function(e,t,i){"use strict";var a=i(964);i.d(t,"a",(function(){return a.default}))},1160:function(e,t,i){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1173:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return l}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const a={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},o={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},l="subpremise"},1174:function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return P})),i.d(t,"g",(function(){return w})),i.d(t,"h",(function(){return k})),i.d(t,"f",(function(){return M})),i.d(t,"e",(function(){return F})),i.d(t,"c",(function(){return H})),i.d(t,"d",(function(){return U}));var a=i(6),o=i(4),l=i(15),n=i(265),d=i(1158),s=i(0),r=i(41),c=i(24),u=i(969),v=i(1108),m=i(5),O=i(603),b=i(122),j=i(20),p=i.n(j),h=i(73),g=i(1111),N=i(2);const I=e=>{var t;const{orderDetails:i}=e,{storeName:l,displayOrderId:n,showOrderSummaryOnSentToPosFailed:d=!1}=i;return Object(N.jsxs)(N.Fragment,{children:[!d&&Object(N.jsx)("div",{className:"pickup-store-order",children:l}),n&&Object(N.jsx)("div",{className:"pickup-store-order red",children:(null===(t=Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},S=e=>{const{orderDetails:t}=e,{orderStatus:i,deliveryOrEstimatedOrCollectAtTime:l,enableRetryCountForPickupOrderTracking:d,pickupOrderEstimatedOrCollectAtTime:s}=t,r=d?s:l;return!Object(n.r)(t)&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(i,"-delivery"),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.COLLECTED_AT)}),Object(N.jsx)("div",{className:"idAndTime time-delivery",children:r})]})},T=e=>{var t,i,a,o;const{orderDetails:d}=e,{orderStatus:s,orderSummarycontentData:r}=d,c=null!==(t=null===r||void 0===r||null===(i=r.icon)||void 0===i||null===(a=i.fields)||void 0===a||null===(o=a.file)||void 0===o?void 0:o.url)&&void 0!==t?t:Object(n.jb)(d)?null===l.a||void 0===l.a?void 0:l.a.TakeawayCompleted:Object(n.gb)(d)?null===l.a||void 0===l.a?void 0:l.a.CartError:Object(n.hb)(d)?null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg:"";return""!==c&&Object(N.jsx)("img",{src:c,className:"statusIcon",alt:s})},E=e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{enablePickupMethodChangePostOrder:a,buffertimepmpickup:o=30,postorderStoreShutdownPopup:l}=t;if(Object(g.q)(t),a){const e={...null===t||void 0===t?void 0:t.store,status:{currentStatus:s.Od,message:s.Od}},a=Object(m.v)(e,o);null!==a&&void 0!==a&&a.timingFlag||i({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0})}else i({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0});l&&(i({isPickupOrderUserConfirmedToCheckIn:!1}),f(e))},f=e=>{var t;const{orderDetails:i,updateSetOrderDetails:a}=e,{postorderStoreShutdownPopup:o,dispatch:l}=i,n={storeid:null===i||void 0===i||null===(t=i.store)||void 0===t?void 0:t.storeId,channel:null===c.b||void 0===c.b?void 0:c.b.channel,service:null===i||void 0===i?void 0:i.service};l(Object(h.n)({data:n,tenantId:null===i||void 0===i?void 0:i.tenantId},(e=>((e,t,i)=>{var a,o,l,n,d,r;t&&(null===(a=e[0])||void 0===a||null===(o=a.summary)||void 0===o||null===(l=o.status)||void 0===l?void 0:l.currentStatus)===s.Y?i({isPickupOrderUserConfirmedToCheckIn:!1,isPostorderStoreShutdownPopupModal:!0,pickupClosedInfoModal:!1}):t&&(null===(n=e[0])||void 0===n||null===(d=n.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===s.Od&&i({isPickupOrderUserConfirmedToCheckIn:!0,isPostorderStoreShutdownPopupModal:!1})})(e,o,a))))},x=e=>{var t;const{orderDetails:i,isCheckinLoading:l,activateCheckinLimitedWindow:v,mintsBeforePickupCheckinEnabled:m}=e,{collectionPoint:O={},enablePickupMethodChangePostOrder:b,isShowCurbsidePlateNumberInputModal:j=!1,requestedDateTime:p={},selectedPickupOrderCollectionMethod:h,store:g={},hidePostOrderCollectionForAsap:I,orderSummarycontentData:S,fulfillmentDateTime:T}=i,{futureDateTime:f,isForNow:x}=p,{timeZoneIANA:C=""}=g,D=!j&&h===s.ee.CURB_SIDE&&(null===O||void 0===O?void 0:O.carNumber)&&(b||!x&&I),y=()=>{switch(h){case null===s.ee||void 0===s.ee?void 0:s.ee.DRIVE_THRU:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.I_AM_AT_DRIVE_THRU_QUEUE);case(null===s.ee||void 0===s.ee?void 0:s.ee.IN_STORE)||(null===s.ee||void 0===s.ee?void 0:s.ee.DINE_IN):return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.I_AM_INSIDE_RESTAURANT);case null===s.ee||void 0===s.ee?void 0:s.ee.CURB_SIDE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.I_AM_AT_CURB_SIDE);default:return""}};let A;if(v){const{timeToEnable:e,timeToDisable:t}=Object(d.f)(T,m,C);A=b&&!I&&!((e,t)=>0===e&&t>0)(e,t)}else A=l||b&&!I&&!Object(d.a)(f,C);return Object(n.jb)(i)&&(null===i||void 0===i?void 0:i.selectedPickupOrderCollectionMethod)&&(!I||!x)&&Object(N.jsxs)("div",{className:"pickup-collection-method-ready-to-prepare",children:[Object(N.jsx)("div",{className:"linebreak col-12"}),D?Object(N.jsx)("div",{className:"car-number-plate",children:I?null===S||void 0===S||null===(t=S.subHeadline)||void 0===t?void 0:t.replace(s.L,O.carNumber):"".concat(Object(a.translateWithI18Next)(o.a.CAR_NUMBER_PLATE_LABEL)," ").concat(O.carNumber)}):Object(N.jsx)("div",{children:I?null===S||void 0===S?void 0:S.subHeadline:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.READY_TO_PREPARE_MEAL)}),Object(N.jsx)(r.c,{"data-testid":"pickup-collection-method-ready-to-prepare-btn",variant:r.b.primary,style:{marginTop:"2rem"},inactive:A,loading:l,onClick:()=>(async e=>{const{orderDetails:t,updateSetOrderDetails:i}=e,{store:a,geoLocationCheckForCheckin:o}=t;if(o&&await c.b.BindLocation(),Object(n.hb)(t)&&i({isShowPickupOrderAlreadyCheckInModal:!0}),c.b.coordinates&&o){var l,d,r,v,m;const{latitude:t,longitude:o}=(null===a||void 0===a?void 0:a.location)||{},n=await Object(u.getDistanceByLatLong)({destinations:{latitude:t,longitude:o},origins:(null===c.b||void 0===c.b?void 0:c.b.coordinates)||{}});(null===n||void 0===n||null===(l=n[0])||void 0===l||null===(d=l.status)||void 0===d?void 0:d.toLowerCase())===(null===s.Qe||void 0===s.Qe||null===(r=s.Qe.ZERO_RESULTS)||void 0===r?void 0:r.toLowerCase())||(null===n||void 0===n||null===(v=n[0])||void 0===v||null===(m=v.distance)||void 0===m?void 0:m.value)>300?i({isShowPickupOrderCheckReadyToPrepareModal:!0}):E(e)}else E(e)})(e),ariaLable:y(),children:I?null===S||void 0===S?void 0:S.buttonText:y()})]})},C=e=>{const{orderDetails:t}=e,{selectedPickupOrderCollectionMethod:i,hidePostOrderCollectionForAsap:l}=t;return i&&!l&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&Object(N.jsx)("div",{className:"change-collection-method",children:Object(N.jsx)(r.c,{className:"change-collection-method-btn","data-testid":"change-collection-method-btn",variant:r.b.tertiary,onClick:()=>(e=>{const{updateSetOrderDetails:t}=e;t({selectedPickupOrderCollectionMethod:null,pickupClosedInfoModal:!1})})(e),ariaLable:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHANGE_COLLECTION_METHOD),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHANGE_COLLECTION_METHOD)})})},D=e=>{const{orderDetails:t}=e,{orderStatus:i,service:l,selectedPickupOrderCollectionMethod:d,enableRetryCountForPickupOrderTracking:r,enablePickupMethodChangePostOrder:c,hidePostOrderCollectionForAsap:u,requestedDateTime:m}=t,O=!r||c&&!u?(e=>{var t;const{hideCustomerName:i}=e,l=i?" ":", "+(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."));if(Object(n.jb)(e))switch(null===e||void 0===e?void 0:e.selectedPickupOrderCollectionMethod){case null===s.ee||void 0===s.ee?void 0:s.ee.DRIVE_THRU:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHECIN_AT_DRIVE_THRU);case null===s.ee||void 0===s.ee?void 0:s.ee.IN_STORE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHECIN_AT_IN_STORE);case null===s.ee||void 0===s.ee?void 0:s.ee.CURB_SIDE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHECIN_AT_CURB_SIDE);default:return"".concat(Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_RECEIVED)).concat(l)}else{if(Object(n.gb)(e))return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_ORDER);if(Object(n.hb)(e))return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ENJOY_MEAL)}return""})(t):Object(v.h)(t),b=Object(n.r)(t)||Object(n.gb)(t)?Object(v.c)(t):Object(v.i)(t);return Object(N.jsxs)("div",{children:[""!==O&&Object(N.jsxs)("div",{className:"allSet ".concat(i,"-allSet ").concat(l," ").concat(d," col-12 ").concat(Object(n.ib)(t)?"":"p-0px-imp"),children:[Object(N.jsx)("div",{className:"col-12 statusMessage",children:O}),x(e),c&&C(e)]}),""!==b&&!Object(n.u)(t)&&(!u||!((null===m||void 0===m||!m.isForNow)&&Object(n.ob)(t)))&&Object(N.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:b}})]})},y=e=>{const{orderDetails:t}=e,{orderSummarycontentData:i,enableClickCollectScheduleOrder:a,allowScheduleOrderForDispositions:o,service:l}=t;return a&&(null===o||void 0===o?void 0:o.includes(l))?""!==(null===i||void 0===i?void 0:i.confirmationEmailSubHeadline)&&!Object(n.u)(t)&&Object(N.jsx)("div",{className:"emailconfirmation-container",children:Object(N.jsx)("span",{className:"emailconfirmation-msg",children:null===i||void 0===i?void 0:i.confirmationEmailSubHeadline})}):null},A=e=>{const{orderDetails:t}=e,{deliveryPartner:i,deliveryDetails:l}=t,d=(null===i||void 0===i?void 0:i.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(n.ib)(t)&&d&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ASK_FOR_OTP)}),Object(N.jsx)("div",{className:"idAndTime time-delivery",children:Object(N.jsx)("div",{className:"red otp",children:d})})]})},_=e=>Object(N.jsxs)(N.Fragment,{children:[!Object(n.ib)(null===e||void 0===e?void 0:e.orderDetails)&&I(e),Object(n.hb)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),T(e),D(e),y(e),A(e)]}),R=e=>{switch(e){case null===s.ee||void 0===s.ee?void 0:s.ee.DRIVE_THRU:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.DRIVE_THRU);case null===s.ee||void 0===s.ee?void 0:s.ee.IN_STORE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.IN_STORE);case null===s.ee||void 0===s.ee?void 0:s.ee.CURB_SIDE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CURB_SIDE)}return""},L=e=>{switch(e){case null===s.ee||void 0===s.ee?void 0:s.ee.DRIVE_THRU:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.PICKUP_FROM_WINDOW);case null===s.ee||void 0===s.ee?void 0:s.ee.IN_STORE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.PICKUP_INSIDE_RESTAURANT);case null===s.ee||void 0===s.ee?void 0:s.ee.CURB_SIDE:return Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.PICKUP_FROM_CURB_SIDE)}return""},P=e=>{var t;const{updateSetOrderDetails:i,orderDetails:l}=e;return Object(N.jsxs)("div",{className:"closingsoon-wrapper curbside-plate-number",children:[Object(N.jsxs)("div",{className:"message-cancel",children:[Object(N.jsx)("div",{className:"vehicle-details-title",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.VEHICAL_DETAILS)}),Object(N.jsx)(b.a,{id:"curbside-plate-number-input",name:"curbside-plate-number-input",className:"curbside-plate-number-input",placeholder:Object(a.translateWithI18Next)(o.a.CAR_NUMBER_PLATE),isMandatory:!0,maxLength:10,value:null===(t=l.collectionPoint)||void 0===t?void 0:t.carNumber,onChange:e=>{const t=Object(O.a)(e.target.value);i({collectionPoint:{name:s.ee.CURB_SIDE,carNumber:t}})},onKeyPress:e=>{Object(O.c)(e.key)||e.preventDefault()}})]}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(r.a,{id:"confirm-car-number-btn",className:"button blackButton blackBorder save-button",onClick:()=>{l.collectionPoint.carNumber&&i({selectedPickupOrderCollectionMethod:s.ee.CURB_SIDE,pickupClosedInfoModal:!0,isShowCurbsidePlateNumberInputModal:!1})},children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CONFIRM)})})]})},w=e=>{var t;const{updateSetOrderDetails:i,orderDetails:n}=e,{postorderStoreShutdownPopup:d}=n;return Object(N.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.CartError,alt:"closedOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel",children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.name}),Object(N.jsx)("div",{children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.HAS_NOW_CLOSED)})]}),Object(N.jsx)("div",{className:"message-refund closing-msg "+(d&&"postorderStoreShutdownPopup-msg"),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(r.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>i({pickupClosedInfoModal:!1,isPostorderStoreShutdownPopupModal:!1}),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.OK)})})]})},k=e=>{var t,i;const{updateSetOrderDetails:n,orderDetails:d,lastCheckIn:s}=e;return Object(N.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.Timeout,alt:"closingsoonOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel last-checkin",children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===d||void 0===d||null===(t=d.store)||void 0===t?void 0:t.name}),Object(N.jsxs)("div",{children:[Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.LAST_ORDER_CHECKIN_AT),Object(N.jsx)("span",{className:"selected-store-name",children:s})]})]}),Object(N.jsxs)("div",{className:"message-refund closing-msg",children:[null===d||void 0===d||null===(i=d.store)||void 0===i?void 0:i.name," ",Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.IS_CLOSING_SOON)]}),Object(N.jsx)("div",{className:"message-refund ahead-time",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHECK_IN_AHEADTIME)}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(r.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>n({pickupClosingSoonModal:!1}),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.OK)})})]})},M=e=>{var t,i;const{orderDetails:d,updateSetOrderDetails:r}=e,{collectionPoint:c,postOrderDetails:u={},pickupOrderAvailableCollectionPoints:v,enablePickupMethodChangePostOrder:m,hidePostOrderCollectionForAsap:O,allowedPickupCollectionMethods:b}=d,j=e=>-1!==(null===v||void 0===v?void 0:v.findIndex((t=>t.collectionPointName===e)));var h;if(!p()(null===u||void 0===u||null===(t=u.collectionPoint)||void 0===t?void 0:t.name)&&j(null===u||void 0===u||null===(i=u.collectionPoint)||void 0===i?void 0:i.name)&&p()(c)&&(m||O))return r({collectionPoint:null===u||void 0===u?void 0:u.collectionPoint,selectedPickupOrderCollectionMethod:null===u||void 0===u||null===(h=u.collectionPoint)||void 0===h?void 0:h.name,pickupClosedInfoModal:!0}),null;const g=Object(n.e)(v,s.ee);return Object(N.jsxs)("div",{className:"col-12 pickupOrder-collection-method-container",children:[Object(N.jsx)("div",{className:"col-12 pickupOrder-collection-method-header",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.SELECT_PICK_UP_METHOD)}),Object(N.jsx)("div",{className:"col-12 pickupOrder-collection-method",children:null===g||void 0===g?void 0:g.map((e=>{const t=null===s.ee||void 0===s.ee?void 0:s.ee[e],i=t===s.ee.CURB_SIDE,n=j(null===s.ee||void 0===s.ee?void 0:s.ee[e]);return!m&&i?null:Object(N.jsxs)("div",{className:"col-12 pickupOrder-collection-method-node","data-testid":"PickupCollectionMethod_"+t,onClick:()=>{n&&r(i?{isShowCurbsidePlateNumberInputModal:!0}:{collectionPoint:{name:t,carNumber:null},selectedPickupOrderCollectionMethod:t,pickupClosedInfoModal:!0})},children:[Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.TakeAwayImg,className:"methodIcon",alt:""}),Object(N.jsxs)("div",{className:"methodDetails",children:[Object(N.jsxs)("div",{className:"methodTitle",children:[R(t),!n&&Object(N.jsx)("div",{className:"methodTitle-Unavailable",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.UNAVAILABLE)})]}),Object(N.jsx)("span",{className:"methodMessage",children:L(t)})]}),n&&Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.Arrow,className:"arrowIcon",alt:""})]},e)}))})]})},F=e=>{const{updateSetOrderDetails:t,orderDetails:i}=e;return Object(N.jsxs)("div",{className:"col-12 pickupOrderCancelPanel",children:[Object(N.jsx)("span",{children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CHANGED_YOUR_MIND)}),null!==i&&void 0!==i&&i.showCancelOrderNumber?Object(N.jsx)("span",{children:Object(N.jsx)("a",{className:"pickupOrderCancelPanelBtn","data-testid":"pickupOrderCancelBtn",href:(null===s.oc||void 0===s.oc?void 0:s.oc.TEL)+Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CONTACTUS_NUMBER),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CONTACTUS_DISPLAYTEXT)})}):Object(N.jsx)("span",{"data-testid":"pickupOrderCancelPanelBtn",tabIndex:"0",className:"pickupOrderCancelPanelBtn",onClick:()=>t({isShowPickupOrderCancelModal:!0}),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_ORDER_BUTTON_TEXT)})]})},H=e=>{var t,i,n,c,u;const{closeModalHandler:v,orderDetails:O}=e,{isShowPickupOrderCancelModal:b,isShowStoreClosePickupOrderCancelModal:j}=O,p=null===O||void 0===O||null===(t=O.store)||void 0===t?void 0:t.phoneNumber,h=null===O||void 0===O||null===(i=O.paymentReferences)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.paymentType;return Object(N.jsxs)("div",{className:"pickupCancelOrderModal",children:[Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.CartError,alt:"pickupCancelOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel",children:[b&&Object(m.Jd)(null===O||void 0===O?void 0:O.service)?Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_DELIVERY_ORDER):Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_PICKUP_ORDER),j&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===O||void 0===O||null===(c=O.store)||void 0===c?void 0:c.name}),Object(N.jsx)("div",{children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.HAS_NOW_CLOSED)})]})]}),b&&Object(N.jsx)("div",{className:"message-refund",children:null===(u=Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.FULL_PAYMENT_REFUND))||void 0===u?void 0:u.replace("{{storePhoneNumber}}",p)}),h!==(null===s.Vd||void 0===s.Vd?void 0:s.Vd.PAY_BY_CASH)&&j&&Object(N.jsx)("div",{className:"message-refund",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(N.jsxs)("div",{className:"buttonItems",children:[b&&Object(N.jsx)(r.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:v,children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.KEEP_ORDER)}),Object(N.jsx)(r.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>Object(d.g)(e),children:O.enableCancelOrderCallsupportModal?Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CALL_SUPPORT_ORDER_BUTTON_TEXT):Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_ORDER_BUTTON_TEXT)})]})]})},U=e=>{const{closeModalHandler:t}=e;return Object(N.jsxs)("div",{className:"pickupGeoLocationVerifyModal",children:[Object(N.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.LocationError,alt:"pickupGeoLocationVerifyModal"}),Object(N.jsx)("div",{className:"message-cancel",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.READY_TO_START_COOKING)}),Object(N.jsx)("div",{className:"message-refund",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CONFIRM_YOU_ARE_HERE_TEXT)}),Object(N.jsxs)("div",{className:"buttonItems",children:[Object(N.jsx)(r.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.I_AM_ELSE_WHERE_TEXT)}),Object(N.jsx)(r.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>E(e),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.I_AM_HERE_TEXT)})]})]})}},1178:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return n}));const a=20,o=5e3,l=15e3,n=18e4},1179:function(e,t,i){"use strict";var a=i(3),o=i.n(a),l=i(28),n=i(1130),d=i(963),s=i(55),r=i(16),c=i(85),u=i(1159),v=i(2);var m=e=>{const{DISPOSITION_DATA:t=""}=r.a,{userOrderState:i,userOrderStateDispatch:l}=Object(a.useContext)(c.a)||{};return Object(a.useEffect)((()=>{l({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===i||void 0===i?void 0:i.dispositionStateData.showDisposition)&&Object(v.jsx)(n.a,{}),(null===i||void 0===i?void 0:i.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:s.y}),(null===i||void 0===i?void 0:i.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:s.y})]})})},O=i(5),b=i(1160);t.a=()=>{var e,t,i,a;const{DISPOSITION:o}=b.a;let n=null,d=null,s=Object(l.c)((e=>e.appStateReducer.userStatus));const r=Object(l.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};n=Object(O.fc)(r.homePageContent)||null,d=Object(O.Yc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[o])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(i=null===(a=n)||void 0===a?void 0:a[o])&&void 0!==i?i:{}},userParams:s,tenantReducerData:r.tenantReducerContent})}},1180:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return x})),i.d(t,"c",(function(){return C})),i.d(t,"e",(function(){return D})),i.d(t,"d",(function(){return y}));var a=i(1120),o=i.n(a),l=i(6),n=i(210),d=i(4),s=i(15),r=i(1209),c=i(265),u=(i(3),i(2));var v=e=>(e=>Object(u.jsx)(n.a,{...e,testId:"order_summary_raider_details_view",importPath:"ORDER_SUMMARY_RAIDER_DETAILS_VIEW"}))(e),m=i(0),O=i(5),b=i(1108),j=i(399);const p=e=>{const{orderDetails:t,arrivalTime:i,showDeliveryEstimatedTime:a,pastOrderTimeFormat:o}=e,{orderStatus:l,deliveryOrEstimatedOrCollectAtTime:n}=t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(l,"-delivery"),children:a&&null==i?"":I(t)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:a?T({orderDetails:t,arrivalTime:i,pastOrderTimeFormat:o}):S(t)})]})},h=e=>{var t;const{orderSummarycontentData:i,total:a,currencySymbol:o,currencyConversionFactor:l}=e,n=null===i||void 0===i||null===(t=i.payOnArrivalSubheadline)||void 0===t?void 0:t.replace(m.wf,'<span class="red">'.concat(Object(O.K)(a,{currencySymbol:o,currencyConversionFactor:l}),"</span>")),d="<div class='subheadline-content'>".concat(n,"</div>");return Object(c.B)(e)?d:null===i||void 0===i?void 0:i.payOnArrivalSubheadline},g=e=>{var t,i;const{orderDetails:a,isUberServiceableEnabled:l}=e,n=null!==a&&void 0!==a&&null!==(t=a.requestedDateTime)&&void 0!==t&&t.isForNow||l&&Object(j.e)(null===a||void 0===a||null===(i=a.deliveryDetails)||void 0===i?void 0:i.partnerName)?null===a||void 0===a?void 0:a.orderTrackingProgressBarCount:null===a||void 0===a?void 0:a.orderTrackingProgressBarScheduleOrdersCount;let d=[];const s=Object(b.e)(a);return 0!==s&&o()(n,(e=>{d.push(Object(u.jsx)("div",{className:"ProgressDelivery Bar",children:Object(u.jsx)("div",{className:"subProgressDelivery ".concat(e<s?e===s-1?"play":"full":"none")},e)},e))})),s>0&&s<=n&&Object(u.jsx)("div",{className:"progress-bar-list col-12",children:d})},N=e=>{var t,i,a;const{orderDetails:o}=e,{orderStatus:l,orderSummarycontentData:n,enableRetryCountForPickupOrderTracking:d,enableClickCollectScheduleOrder:r}=o,{ConfirmedImg:v,TakeAwayImg:m,DeliveryTracker:O,DeliveryCart:b,CartError:j,TakeawayCompleted:p}=s.a,h=d&&!r?null===n||void 0===n||null===(t=n.icon)||void 0===t||null===(i=t.fields)||void 0===i||null===(a=i.file)||void 0===a?void 0:a.url:Object(c.O)(o)?v:Object(c.J)(o)?m:Object(c.G)(o)||Object(c.R)(o)?p:Object(c.P)(o)||Object(c.N)(o)||Object(c.F)(o)?O:Object(c.K)(o)?b:Object(c.I)(o)?j:v;return""!==h&&Object(u.jsx)("img",{src:h,alt:l})},I=e=>{const{orderSummarycontentData:t}=e,i=null===t||void 0===t?void 0:t.mainHeadingOne;if(null!==i&&void 0!==i&&i.includes(m.gf))return null===e||void 0===e?void 0:e.storeName;if(null!==i&&void 0!==i&&i.includes(m.tb)){const a={...t,subHeadline:i};return Object(u.jsx)("div",{className:"substatusmsgDelivered",dangerouslySetInnerHTML:{__html:Object(b.q)(a,e)}})}return Object(l.translateWithI18Next)(null===t||void 0===t?void 0:t.mainHeadingOne)},S=e=>{const{orderSummarycontentData:t,deliveryOrEstimatedOrCollectAtTime:i}=e,a=null===t||void 0===t?void 0:t.mainHeadingTwo;return null!==a&&void 0!==a&&a.includes(m.Qd)?Object(r.d)(e):a?i:void 0},T=e=>{var t;const{arrivalTime:i,orderDetails:a,pastOrderTimeFormat:o}=e;return Object(c.D)(a)?"".concat(Object(O.bd)(null===a||void 0===a||null===(t=a.deliveryDetails)||void 0===t?void 0:t.actualDeliveryTime,o)):i},E=e=>{var t;const{orderDetails:i,isUberServiceableEnabled:a}=e,{orderStatus:o,enableRetryCountForPickupOrderTracking:n,enableClickCollectScheduleOrder:s,orderSummarycontentData:r,showPinCode:v,deliveryPinDetails:m}=i,O=Object(j.e)(null===i||void 0===i||null===(t=i.deliveryDetails)||void 0===t?void 0:t.partnerName)&&a,p=!n&&!O||s?Object(c.a)(i):Object(b.h)(i),h=!Object(c.r)(i)&&!Object(c.I)(i)||s?Object(b.i)(i):Object(b.c)(i);return Object(u.jsxs)("div",{children:[""!==p&&Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(o,"-delivery-allSet col-12 ").concat(Object(c.L)(i)?"":"p-0px-imp"," ").concat(a?"allSet-smaller-font":""),children:Object(u.jsx)("span",{children:Object(l.translateWithI18Next)(p)})}),""!==h&&!Object(c.A)(i)&&Object(u.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:h}}),(null===r||void 0===r?void 0:r.description)&&Object(u.jsxs)("div",{className:"emailConfirmTxt",children:[" ",Object(l.translateWithI18Next)(null===r||void 0===r?void 0:r.description)]}),v&&m&&(null===m||void 0===m?void 0:m.isPinEnabled)&&!Object(c.L)(i)&&Object(u.jsxs)("div",{className:"row pincode-section",children:[Object(u.jsxs)("span",{children:[Object(l.translateWithI18Next)(d.a.PIN_CODE),":"]}),Object(u.jsx)("span",{children:m.pin})]})]})},f=e=>{const{orderDetails:t}=e,{deliveryPartner:i,deliveryDetails:a}=t,o=(null===i||void 0===i?void 0:i.otp)||(null===a||void 0===a?void 0:a.otp);return!Object(c.O)(t)&&o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ASK_FOR_OTP)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:o})})]})},x=e=>Object(u.jsxs)(u.Fragment,{children:[!Object(b.l)(null===e||void 0===e?void 0:e.orderDetails)&&!Object(c.I)(null===e||void 0===e?void 0:e.orderDetails)&&p(e),N(e),!Object(b.m)(null===e||void 0===e?void 0:e.orderDetails)&&g(e),E(e),f(e)]}),C=e=>{const{orderDetails:t}=e,{deliveryPartner:i,deliveryDetails:a}=t;return Object(u.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts",className:"iframe-ordertrackingmaps",title:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.TRACK_ORDER),src:(()=>{const e=(null===i||void 0===i?void 0:i.tracking_url)||(null===a||void 0===a?void 0:a.deliveryTrackingUrl);return(e&&-1===e.indexOf(m.Lc)?m.Lc:"")+e})()})},D=e=>{const{deliveryAddress:t,store:i,deliveryDetails:a}=null===e||void 0===e?void 0:e.orderDetails;if(Object(O.pe)(i)&&Object(O.pe)(t)){var o,l,d,s;const r=[null===i||void 0===i||null===(o=i.location)||void 0===o?void 0:o.latitude,null===i||void 0===i||null===(l=i.location)||void 0===l?void 0:l.longitude],c=[null===t||void 0===t||null===(d=t.location)||void 0===d?void 0:d.latitude,null===t||void 0===t||null===(s=t.location)||void 0===s?void 0:s.longitude];return(e=>Object(u.jsx)(n.a,{...e,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0,storeLatLng:r,customerLatLng:c,raiderCurrentLatLng:null===a||void 0===a?void 0:a.riderLocation,stylers:A}))(e)}},y=e=>{const{orderDetails:t}=e;return(Object(c.y)(t)||Object(c.fb)(t))&&Object(u.jsx)(v,{...e})},A=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#202124"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#202124"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e3e3e3"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17}]}]},1185:function(e,t,i){"use strict";i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return I}));var a=i(4),o=i(0),l=i(267);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:n}=l.b,{DELIVERY:d}=o.Jb||{},{DELIVERY_PLACEHOLDER:s,SELECT_KFC_TITLE:r,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:m,STORE_CLOSE_ERROR_DELIVERY:O,SAVED_ADDRESS:b,DELIVER_TO_YOU:j,ORDER_MODE:p,SELECT_STORE_TEXT:h,START_ORDER:g}=a.a,N="FORM",I={["".concat(d,"_").concat(N)]:{placeholder:s,serviceUnavailableError:{errMsg:m,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:O,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:m,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:r,orderModeScreenErrorText:O,placeholder:s,kfcStoresCountText:j,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("SAVED")]:{placeholder:s,serviceUnavailableError:{errMsg:m,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:O,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:p,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:h,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n}}},1198:function(e,t,i){"use strict";var a=i(3),o=i(28),l=i(5),n=i(85),d=i(0),s=i(1199),r=i(62),c=i(1111);t.a=e=>{var t,i,u,v,m,O;const b=Object(r.g)(),{isOpen:j,handleClose:p,isModalView:h=!0,showOrderSummaryHeader:g=!1,orderHistoryPage:N=!1}=e,I=Object(o.b)(),{userOrderState:S}=Object(a.useContext)(n.a),T=Object(l.Sd)(S.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):S.dispositionNew,{type:E,store:f,orderDetails:x={}}=Object(l.Td)(T)?T:{},{helpReducer:C,orderReducer:D,postOrderReducer:y,tenantReducer:A}=Object(o.c)((e=>e)),_=Object(l.ic)(C.helpResponse||null),R=N?void 0:(null===D||void 0===D||null===(t=D.response)||void 0===t||null===(i=t.order)||void 0===i?void 0:i.deliveryPartners)||(null===y||void 0===y||null===(u=y.orderAccepted)||void 0===u?void 0:u.deliveryPartners),[L,P]=Object(a.useState)(R);return Object(a.useEffect)((()=>{Object(c.d)(I),P(R)}),[]),Object(l.Td)(_)&&Object(s.e)({contentData:_,service:g?null===x||void 0===x?void 0:x.type:E,store:g?null===x||void 0===x?void 0:x.store:f,isOpen:j,handleClose:p,isModalView:h,history:b,deliveryPartner:L,NeedHelpSectionDisplayFlag:null===A||void 0===A||null===(v=A.componentOptions)||void 0===v||null===(m=v.web)||void 0===m||null===(O=m.orderPages)||void 0===O?void 0:O.getDeliveryOrderStatusMessageFlag})}},1199:function(e,t,i){"use strict";i.d(t,"e",(function(){return v})),i.d(t,"b",(function(){return O})),i.d(t,"d",(function(){return b})),i.d(t,"a",(function(){return p})),i.d(t,"c",(function(){return g}));var a=i(6),o=i(210),l=i(4),n=i(0),d=i(5),s=i(144),r=i(2);const c=e=>Object(r.jsx)(o.a,{...e,testId:"need_help_view",importPath:"NEED_HELP_VIEW"}),u=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case n.Jb.DELIVERY:return Object(a.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.DELIVERY_TITLE);case n.Jb.PICKUP:return Object(a.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.PICKUP_TITLE)}return""},v=e=>null!==e&&void 0!==e&&e.isModalView?m(e):c(e),m=e=>{const{service:t,handleClose:i,isOpen:a}=e,o={role:"dialog",modalTitleId:"need-help-modal",show:!0,classNames:"need-help-modal",showCloseBtn:!0,closeButtonHandler:i,modalTitle:u(t),showBackBtn:!1,closeDataTestId:"close-need-help-modal",id:"NeedHelpModal",autoFocus:!0};return a&&Object(r.jsx)(s.a,{...o,children:c(e)})},O=e=>{var t;const{service:i,contentData:a,store:o,deliveryPartner:l}=e,{helpSectionCallDetails:d}=a;switch(null===i||void 0===i?void 0:i.toUpperCase()){case n.Jb.PICKUP:return(null===o||void 0===o?void 0:o.phoneNumber)||(null===o||void 0===o||null===(t=o.contacts.find((e=>e.key===n.Zd)))||void 0===t?void 0:t.value);case n.Jb.DELIVERY:default:return j(l,d)}},b=(e,t)=>{e.preventDefault();const{contentData:i,history:a,handleClose:o}=t,{helpSectionContactDetails:l}=i;o(),a.push({pathname:null===l||void 0===l?void 0:l.url})||a.push({pathname:null===l||void 0===l?void 0:l.internalURL})},j=(e,t)=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return"".concat(null===t||void 0===t?void 0:t.skedadelContactNo);case n.Ab.UBERDIRECT:return"".concat(null===t||void 0===t?void 0:t.uberDirectContactNo);case n.Ab.KFC_GENERIC_MSG:return"".concat(null===t||void 0===t?void 0:t.kfcGenericContactNo);default:return"".concat(null===t||void 0===t?void 0:t.contactNo)}},p=e=>{const{service:t,contentData:i,deliveryPartner:o}=e,{helpSectionCallDetails:d}=i;switch(null===t||void 0===t?void 0:t.toUpperCase()){case n.Jb.PICKUP:case n.Jb.CATERING:return Object(a.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CALL_KFC_STORE);case n.Jb.DELIVERY:default:return"".concat(null===d||void 0===d?void 0:d.buttonText," ").concat(j(o,d))}},h=e=>{var t;return e&&Array.isArray(e)?null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value:e},g=e=>{var t,i;const{service:a,contentData:o,store:l,deliveryPartner:s}=e,{helpSectionCallDetails:c,callsupportcontent:u=[]}=o;switch(null===a||void 0===a?void 0:a.toUpperCase()){case n.Jb.PICKUP:return Object(r.jsxs)("div",{children:[!u.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"bold-text",children:h(null===l||void 0===l?void 0:l.name)}),Object(r.jsx)("br",{}),Object(d.ac)((null===l||void 0===l?void 0:l.address)||(null===l||void 0===l?void 0:l.addresses))]}),u.length&&Object(r.jsx)("span",{children:null===(t=u[0])||void 0===t||null===(i=t.fields)||void 0===i?void 0:i.description})]});case n.Jb.CATERING:return Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"bold-text",children:h(null===l||void 0===l?void 0:l.name)}),Object(r.jsx)("br",{}),Object(d.ac)((null===l||void 0===l?void 0:l.address)||(null===l||void 0===l?void 0:l.addresses))]});case n.Jb.DELIVERY:default:return((e,t)=>{const i=(e,i,a)=>Object(r.jsxs)("span",{children:[null===t||void 0===t?void 0:t[e]," ",Object(r.jsxs)("span",{className:"bold-text",children:[null===t||void 0===t?void 0:t[i]," "]}),null===t||void 0===t?void 0:t[a]]});switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return i("skededal1","skededal2","skededal3");case n.Ab.UBERDIRECT:return i("uberDirect1","uberDirect2","uberDirect3");case n.Ab.KFC_GENERIC_MSG:return i("kfcGenericMsg1","kfcGenericMsg2","kfcGenericMsg3");default:return i("val1","val2","val3")}})(s,c)}}},1203:function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return s}));var a=i(32),o=i(3),l=i(0),n=i(2);var d=e=>{const{tabIndex:t,ariaLable:i,className:d,options:s,onChange:r,testid:c="",selectedValue:u,name:v,...m}=e;return Object(o.useEffect)((()=>{u&&(null===r||void 0===r||r({target:{value:u,name:v}}))}),[u,v]),Object(n.jsx)("select",{className:d,tabIndex:t,"aria-label":i,onChange:r,onKeyPress:e=>{const{SPACE:t,ENTER:i}=l.ag.KEY_CHAR_CODE;!r||e.charCode!==t&&e.charCode!==i||r()},"data-testid":c,defaultValue:u,name:v,...m,children:null===s||void 0===s?void 0:s.map(((e,t)=>((e,t)=>{const i=u===e?{selected:"selected"}:"";return Object(n.jsx)("option",{value:e,"data-testid":"".concat(c).concat(t),defaultValue:u===e,...i,children:Object(a.translateWithI18Next)(e)},e)})(e,t)))})};const s=e=>{const{tabIndex:t,ariaLable:i,className:a,options:o,onChange:d,testid:s="",selectedValue:r,...c}=e;return Object(n.jsxs)("select",{className:a,tabIndex:t,"aria-label":i,onChange:d,onKeyPress:e=>{const{SPACE:t,ENTER:i}=l.ag.KEY_CHAR_CODE;!d||e.charCode!==t&&e.charCode!==i||d()},"data-testid":s,defaultValue:r,...c,children:[Object(n.jsx)("option",{children:l.ag.DROPDOWN_DEFAULT_VALUE}),Object.keys(o).map(((e,t)=>{return Object(n.jsx)("optgroup",{label:e,"data-testid":"sort-visit-group",children:(i=o[e],i.map((e=>Object(n.jsx)("option",{value:e.value,title:e.category,"data-testid":"sort-visit-option",children:e.value},e.value))))},t);var i}))]})}},1204:function(e,t,i){"use strict";i(3);var a=i(210),o=i(2);t.a=e=>(e=>Object(o.jsx)(a.a,{...e,testId:"order_summary_info_details_view",importPath:"ORDER_SUMMARY_INFO_DETAILS_VIEW"}))(e)},1205:function(e,t,i){"use strict";(function(e){var a=i(3),o=i.n(a),l=i(28),n=i(1121),d=i(66),s=i(73),r=i(192),c=i(6),u=i(5),v=i(190),m=i(1212),O=i(0),b=i(4),j=i(63),p=i(1148),h=i(269),g=i(331),N=i(2);t.a=t=>{var i,I,S,T,E,f,x,C,D,y,A,_,R,L,P,w,k;const M=Object(l.b)(),{modalType:F,toggleModal:H,updateSetOrderDetails:U}=t,{HIDDEN:W,DELIVERY_SERVICE:B,CHANNEL:G,INITIAL_STATE:Y,MAX_DELIVERY_DISTANCE:V,NO_OF_STORE_FOR_DELIVERY:K}=v.b,{FIELD_NAME:q,PIN_CODE:z}=v.d,{ADDRESS_UPDATED:J,ADDRESS_SAVED:Q}=b.a,{allStores:X=[]}=Object(l.c)((e=>e.allStoresReducer)),{savedAddresses:Z}=Object(l.c)((e=>e.profileReducer)),$=Object(l.c)((e=>e.tenantReducer)),{tenantId:ee="",storeSearch:te={},country:ie,countryNameInDefaultLang:ae,componentOptions:oe}=$,le=null===oe||void 0===oe||null===(i=oe.web)||void 0===i||null===(I=i.dispositionConfig)||void 0===I||null===(S=I.deliveryStores)||void 0===S?void 0:S.shouldEnableConfirmButton,ne=Object(u.ad)(Object(u.Td)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,Y),[de,se]=Object(a.useState)(ne),[re,ce]=Object(a.useState)(!1),[ue,ve]=Object(a.useState)(!0),me=null===te||void 0===te?void 0:te.geohashprecision,Oe=(null===te||void 0===te?void 0:te.boundingBoxSizeMeters)/1e3,[be,je]=Object(a.useState)(!1),[pe,he]=Object(a.useState)(!1),ge=null===$||void 0===$||null===(T=$.componentOptions)||void 0===T||null===(E=T.web)||void 0===E||null===(f=E.accountPage)||void 0===f?void 0:f.filterConditions,Ne=null===$||void 0===$||null===(x=$.componentOptions)||void 0===x||null===(C=x.web)||void 0===C||null===(D=C.accountPage)||void 0===D?void 0:D.showAddressMapView,Ie=null===$||void 0===$||null===(y=$.componentOptions)||void 0===y||null===(A=y.web)||void 0===A?void 0:A.address,Se=null===$||void 0===$?void 0:$.addressRegex,[Te,Ee]=Object(a.useState)(),[fe,xe]=o.a.useState([]),[Ce,De]=o.a.useState(!1),[ye,Ae]=o.a.useState(!1),{ready:_e,value:Re,suggestions:Le,setValue:Pe,clearSuggestions:we}=Object(n.a)({requestOptions:{componentRestrictions:{country:null===(_=e)||void 0===_||null===(R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===R?void 0:R.REACT_APP_TENANT_CODE},types:null===$||void 0===$||null===(L=$.componentOptions)||void 0===L||null===(P=L.web)||void 0===P||null===(w=P.dispositionConfig)||void 0===w||null===(k=w.DELIVERY_FORM)||void 0===k?void 0:k.filteredTypes},debounce:300}),ke={...Le,data:Object(h.d)(null===Le||void 0===Le?void 0:Le.data,ge)},Me=Object(a.useRef)(null),Fe=()=>{document.querySelector("body").style.overflow="",H(!1),M(Object(s.u)())};Object(a.useEffect)((()=>{var e,t;F&&r.a.calculateGH({lat:parseFloat(Object(u.jb)(null===de||void 0===de||null===(e=de.location)||void 0===e?void 0:e.latitude,null===de||void 0===de?void 0:de.latitude)),lon:parseFloat(Object(u.jb)(null===de||void 0===de||null===(t=de.location)||void 0===t?void 0:t.longitude,null===de||void 0===de?void 0:de.longitude)),distanceFromCurrentLoc:Oe,geoHashPrecision:me});document.querySelector("body").style.overflow=W}),[]),Object(a.useEffect)((()=>(document.addEventListener("mousedown",He),()=>{document.removeEventListener("mousedown",He)}))),Object(a.useEffect)((()=>{se(F?e=>({...e,isAddressSelected:!0}):e=>({...e,isAddressSelected:!1}))}),[F]);const He=e=>{Me.current&&!Me.current.contains(e.target)&&we()},Ue=()=>{var e,t,i,a,o,l,n,d;return(null===de||void 0===de||null===(e=de.addressLines)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(i=de.city)||void 0===i?void 0:i.length)&&(null===de||void 0===de||null===(a=de.pinCode)||void 0===a?void 0:a.length)&&(null===de||void 0===de||null===(o=de.state)||void 0===o?void 0:o.length)&&(null===de||void 0===de||null===(l=de.deliveryOptions)||void 0===l?void 0:l.length)&&(!le||(null===de||void 0===de||null===(n=de.addressLines)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.length))&&!be&&!pe},We=e=>{var t,i,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===G&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===B})))},Be=()=>{let e="".concat(Object(c.translateWithI18Next)("Address")," 1");const t=[...Z.map((e=>e.name))].filter((e=>e.indexOf(Object(c.translateWithI18Next)("Address"))>-1));return Ge(t,e)},Ge=(e,t)=>{let i=t;return e.includes(i)?(i=i.replace(/(\d+)+/g,((e,t)=>parseInt(t)+1)),Ge(e,i)):i},Ye=(e,t)=>{const i={lat:e,lon:t,distanceFromCurrentLoc:10,geohashprecision:me},a=r.a.calculateGH(i);M(Object(s.v)(null===a||void 0===a?void 0:a.length))};return Object(N.jsx)(m.a,{...t,dataTestId:"addressModalTest",setValue:Pe,value:Re,error:re,addresses:de,handleChange:e=>{let{target:t}=e;const{name:i,value:a}=t,o=Object(u.ad)(i===q.NAME,a,de.name);if(i===z){var l;if(!(null===(l=/^\d+$/)||void 0===l?void 0:l.test(a))&&""!==a)return;se({...de,[i]:a})}if(i===q.DELIVERY_OPTION)return void se({...de,[i]:a!==O.zb[0]?a:""});const n={addressRegex:Se,valueInfo:a,setSaveAddress:se,addresses:de,name:i};if(o){const e=(e=>!!Object(u.ad)(!F,Z,Z.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===ne||void 0===ne?void 0:ne.id)))).find((t=>{var i,a;return(null===t||void 0===t||null===(i=t.name.toUpperCase())||void 0===i?void 0:i.trim())===(null===e||void 0===e||null===(a=e.toUpperCase())||void 0===a?void 0:a.trim())})))(o);(null===Se||void 0===Se?void 0:Se.test(o))?e?(je(!0),he(!1)):(he(!1),je(!1)):(je(!1),he(!0))}else he(!1),je(!1);if(i!==q.FLOOR)if(t.type!==q.CHECKBOX)se({...de,[i]:a});else{Z.find((e=>e.isPrimary&&e.id===de.id))||se({...de,[i]:"true"!==a})}else(e=>{const{addressRegex:t,valueInfo:i,setSaveAddress:a,addresses:o,name:l}=e;if(null===t||void 0===t?void 0:t.test(i)){const e=[i,null===o||void 0===o?void 0:o.addressLines[1]];a({...o,[l]:i,addressLines:e,isFlatNumberSelected:!1})}})(n)},handleInput:e=>{if(null===de||void 0===de||!de.isAddressSelected){Pe(e.target.value);const t=[null===de||void 0===de?void 0:de.addressLines[0],e.target.value];se({...de,addressLines:t})}ve(!0)},ready:_e,suggestionRef:Me,suggestions:ke,handleSelect:t=>{let{description:i,structured_formatting:{main_text:a,secondary_text:o}}=t;return()=>{var t,a;ve(!1),ce(!1),we(),M(Object(s.u)()),Object(n.b)({address:i,componentRestrictions:{country:null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE}}).then((e=>(Object(p.e)(O.Id,e[0],Pe,se,we,Ue),Ee(null===de||void 0===de?void 0:de.addressLines[1]),Object(n.c)(e[0])))).then((e=>{r.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:Oe,geoHashPrecision:me}),se((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng,isAddressSelected:!0,isFlatNumberSelected:!0})))})).catch((e=>{console.log("Error: ",e)}))}},checkFormValidation:Ne?()=>{var e,t,i,a;return(null===de||void 0===de||null===(e=de.addressLines[1])||void 0===e?void 0:e.length)&&(null===de||void 0===de||null===(t=de.city)||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(i=de.pinCode)||void 0===i?void 0:i.length)&&(null===de||void 0===de||null===(a=de.state)||void 0===a?void 0:a.length)&&!be&&!pe}:Ue,handleSubmit:e=>{const t=(e=>{var t,i;let a={},o=["",""];return o[1]=e.addressLines[1],o[0]=Object(u.jb)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),a={addressId:Object(u.ud)(null===e||void 0===e?void 0:e.id),addressName:Object(u.jb)(e.name,Be()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(u.ud)(e.country),isPrimary:Object(u.sb)(e.isPrimary,Z.length<1,!1),location:{latitude:Object(u.jb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(u.jb)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:o,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions,placeId:null===e||void 0===e?void 0:e.placeId},a})(de),i=null===X||void 0===X?void 0:X.filter(We),a=null===te||void 0===te?void 0:te.maxDriveTimeMins,o=Object(u.jb)(null===te||void 0===te?void 0:te.maxDeliveryDistanceMtrs,V),l=r.a.checkAndProceed({stores:i,disposition:B,distanceMetrics:null===te||void 0===te?void 0:te.distanceMetrics,driveTime:a,distanceInMtrs:o,noOfStores:K});if(e&&U({savedAddressSucess:!0}),null!==l&&void 0!==l&&l.length||e){const{customerId:e,phoneNumber:i}=j.a.getInstance();M(Object(d.a)({customerId:e,phoneNumber:i,tenantId:ee,data:t})),Fe();const a=Object(u.ad)(F,Object(c.translateWithI18Next)(J),Object(c.translateWithI18Next)(Q));Object(u.Cf)(a,"","favorites-added-toast")}else ce(!0)},isNameExist:be,isInvalidName:pe,handleClose:Fe,savedAddresses:Z,showSuggestions:ue,country:ie,countryNameInDefaultLang:ae,setSaveAddress:se,nonFormattedAddress:Te,setNonFormattedAddress:Ee,addressFormConditions:Ie,seteligibleStoreData:xe,showStores:Ce,setShowStores:De,showMapBasedField:ye,setShowMapBasedFiled:Ae,clearSuggestions:we,showAddressMapView:Ne,allStores:X,getUserLatLong:e=>{M(Object(g.b)()),M(Object(s.u)()),Ye(e.userLat,e.userLong),setTimeout((()=>{M(Object(g.a)())}),2e3)},dispatch:M,setError:ce})}}).call(this,i(121))},1207:function(e,t,i){"use strict";i.d(t,"p",(function(){return v})),i.d(t,"o",(function(){return m})),i.d(t,"l",(function(){return O})),i.d(t,"f",(function(){return b})),i.d(t,"m",(function(){return j})),i.d(t,"n",(function(){return p})),i.d(t,"h",(function(){return h})),i.d(t,"j",(function(){return g})),i.d(t,"i",(function(){return N})),i.d(t,"g",(function(){return I})),i.d(t,"k",(function(){return S})),i.d(t,"r",(function(){return E})),i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return C})),i.d(t,"d",(function(){return D})),i.d(t,"c",(function(){return y})),i.d(t,"s",(function(){return A})),i.d(t,"v",(function(){return _})),i.d(t,"q",(function(){return R})),i.d(t,"u",(function(){return L})),i.d(t,"w",(function(){return P})),i.d(t,"e",(function(){return w})),i.d(t,"t",(function(){return k}));var a=i(171),o=i(123),l=i(35),n=i(5),d=i(1111),s=i(0),r=i(1178),c=i(24),u=i(49);const v=e=>T(e)===s.Pd.STAGED_ACCEPTED,m=e=>T(e)===s.Pd.PICKUP_DELIVERY_DINE_IN,O=e=>Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.DELIVERY&&m(e),b=e=>Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.DELIVERY&&(O(e)||h(e)||g(e)||N(e)||I(e)),j=e=>b(e)&&(null===e||void 0===e?void 0:e.deliveryPartner),p=e=>b(e)&&!N(e)&&!I(e),h=e=>T(e)===s.Pd.DELIVERY_DISTA_CREATE_ASSIGN,g=e=>T(e)===s.Pd.DELIVERY_DISTA,N=e=>T(e)===s.Pd.DELIVERY_DISTA_DELIVERED,I=e=>T(e)===s.Pd.CANCELLED,S=e=>g(e)||I(e)||N(e),T=e=>{switch(Object(n.rf)(null===e||void 0===e?void 0:e.status)){case s.Rd.STAGED:case s.Rd.ACCEPTED:return c.b.shouldGoogleSpotIgnoreOloFailure?s.Pd.PICKUP_DELIVERY_DINE_IN:s.Pd.STAGED_ACCEPTED;case s.Rd.SENT_TO_POS_COMPLETED:if(Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.PICKUP||Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.DINE_IN||Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.DELIVERY||Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.CHRISTMAS_ORDERING)return s.Pd.PICKUP_DELIVERY_DINE_IN;break;case s.Rd.CREATED:case s.Rd.ASSIGNED:return s.Pd.DELIVERY_DISTA_CREATE_ASSIGN;case s.Rd.PICKED_UP:case s.Rd.OUT_FOR_DELIVERY:case s.Rd.ARRIVED:return s.Pd.DELIVERY_DISTA;case s.Rd.DELIVERED:return s.Pd.DELIVERY_DISTA_DELIVERED;case s.Rd.CANCELLED:case s.Rd.CANCEL:return Object(n.rf)(null===e||void 0===e?void 0:e.service)===s.Lb.DELIVERY?s.Pd.CANCELLED:s.Pd.FAILED;case s.Rd.SENT_TO_POS_FAILED:case s.Rd.PAYMENT_FAILED:return s.Pd.FAILED}},E=(e,t,i)=>{if(null!==e&&void 0!==e&&e.orderAcceptedLoading)return Promise.resolve(!1);switch(T(e)){case s.Pd.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case s.Pd.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case s.Pd.DELIVERY_DISTA_CREATE_ASSIGN:case s.Pd.DELIVERY_DISTA:case s.Pd.DELIVERY_DISTA_DELIVERED:case s.Pd.CANCELLED:return t(!1),Promise.resolve(!1);case s.Pd.FAILED:return localStorage.setItem(s.Ud.STATUS_TEXT,s.Ud.FAILED),Object(n.ef)(i),Promise.resolve(!1)}},f=e=>{let{dispatch:t,orderDetails:i,orderAccepted:a,cartData:o,userOrderState:d,appStateReducer:r,isBasketLoading:u,status:v,qrCodeScanTime:m}=e;if(v){const e=r.userStatus,v=c.b.shouldGoogleSpotIgnoreOloFailure||Object(n.rf)(null===a||void 0===a?void 0:a.status)===s.Rd.SENT_TO_POS_COMPLETED;Object(n.l)(v,!u,null===o||void 0===o?void 0:o.id,e.localized,null===i||void 0===i?void 0:i.tenantId)&&Object(n.I)(t,l.f,null===i||void 0===i?void 0:i.tenantId,d,m)}},x=(e,t,i)=>{t&&(i=setTimeout((()=>{t(e),i&&clearTimeout(i)}),r.c))},C=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},n=i+1;e(Object(o.d)(l,(()=>x(n,a,null))))},D=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:(null===t||void 0===t?void 0:t.customerId)||null},n=i+1;e(Object(a.f)(l,(()=>x(n,o,null))))},y=function(e,t){var i,o;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;const c=null===s||void 0===s||null===(i=s.componentOptions)||void 0===i||null===(o=i.homePage)||void 0===o?void 0:o.enableGuestOrderTracking;null!==t&&void 0!==t&&t.isExternalTrackOrder?C(e,t,l,n):c&&null!==t&&void 0!==t&&t.isActiveGuestTracking&&Object(d.l)(t)||null!==t&&void 0!==t&&t.orderTrackingEmail?function(e,t){var i;let o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=arguments.length>4?arguments[4]:void 0;try{const e=new URL(null===t||void 0===t?void 0:t.otu);o=new URLSearchParams(e.search).get("PhoneNo")}catch(c){console.error("Error extracting phone number:",c),o="0"}const s={orderId:(null===t||void 0===t?void 0:t.orderId)||(null===t||void 0===t||null===(i=t.postOrderDetails)||void 0===i?void 0:i.id)||(null===t||void 0===t?void 0:t.orderTrackingID),tenantId:null===t||void 0===t?void 0:t.tenantId,Email:null!==t&&void 0!==t&&t.orderTrackingViewEnabled?null===t||void 0===t?void 0:t.orderTrackingEmail:o},r=l+1;e(Object(a.g)(s,(e=>{let i=!1;e.errors&&e.errors.length>0&&(i=!0),null!==t&&void 0!==t&&t.orderTrackingViewEnabled&&d({...t,orderTrackingHasError:i}),x(r,n,null)})))}(e,t,l,n,r):D(e,t,l,n,s)},A=(e,t,i,a,o,l,d,c)=>{null!==t&&void 0!==t&&t.orderId||null!==t&&void 0!==t&&t.orderTrackingID?0===i||v(a)&&i<r.a?y(e,t,i,o,d,c):v(a)&&i>=r.a&&(localStorage.setItem("paymentStatus",s.Ud.FAILED),Object(n.ef)(l)):Object(n.Ye)(l)},_=(e,t,i,a,o)=>{a&&O(e)?Object(n.ef)(o):null!==e&&void 0!==e&&e.status&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?i({...t,status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,fulfillmentDateTime:null===e||void 0===e?void 0:e.fulfillmentDateTime,requestedDateTime:null===e||void 0===e?void 0:e.requestedDateTime,deliveryDetails:null===e||void 0===e?void 0:e.deliveryDetails,store:null===e||void 0===e?void 0:e.store,otu:(null===e||void 0===e?void 0:e.otu)||(null===t||void 0===t?void 0:t.otu),isActiveGuestTracking:(null===e||void 0===e?void 0:e.isActiveGuestTracking)||(null===t||void 0===t?void 0:t.isActiveGuestTracking),deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}):i({...t,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1,fulfillmentDateTime:null===e||void 0===e?void 0:e.fulfillmentDateTime,requestedDateTime:null===e||void 0===e?void 0:e.requestedDateTime,deliveryDetails:null===e||void 0===e?void 0:e.deliveryDetails,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,otu:(null===e||void 0===e?void 0:e.otu)||(null===t||void 0===t?void 0:t.otu),isActiveGuestTracking:(null===e||void 0===e?void 0:e.isActiveGuestTracking)||(null===t||void 0===t?void 0:t.isActiveGuestTracking),store:null===e||void 0===e?void 0:e.store})},R=(e,t,i)=>{if(O(e)&&!t){const e=setTimeout((()=>{e&&clearTimeout(e)}),r.d)}},L=(e,t,i,a)=>{var o,l,n,d,s,r,c,u,v,m,O,b,j;const p=null===(o=new URLSearchParams(window.location.search))||void 0===o?void 0:o.get("orderId"),h=(null===(l=new URLSearchParams(window.location.search))||void 0===l?void 0:l.get("email"))||(null===(n=new URLSearchParams(window.location.search))||void 0===n?void 0:n.get("PhoneNo")),g=null===(d=window)||void 0===d||null===(s=d.location)||void 0===s||null===(r=s.pathname)||void 0===r?void 0:r.includes("order-tracking");return p!==(null===(c=t)||void 0===c?void 0:c.id)&&null!==(u=t)&&void 0!==u&&u.id&&g&&(t={}),{...P(e,t,!1,i),orderAcceptedLoading:(null===(v=t)||void 0===v?void 0:v.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:(null===a||void 0===a||null===(m=a.store)||void 0===m||null===(O=m.summary)||void 0===O?void 0:O.timings)||(null===(b=t)||void 0===b||null===(j=b.store)||void 0===j?void 0:j.timings),...p&&{orderTrackingID:p},...h&&{orderTrackingEmail:h},...g&&{orderTrackingViewEnabled:!0}}},P=function(e,t){var i,a,o,l,n,d,s,r;let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const m={orderId:(null===t||void 0===t?void 0:t.id)||(null===u||void 0===u?void 0:u.id),customerId:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.id)||(null===u||void 0===u||null===(a=u.customer)||void 0===a?void 0:a.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===u||void 0===u?void 0:u.service),status:(null===t||void 0===t?void 0:t.status)||(null===u||void 0===u?void 0:u.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===u||void 0===u?void 0:u.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===u||void 0===u?void 0:u.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===u||void 0===u?void 0:u.posOrderId),userEmail:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.email)||(null===u||void 0===u||null===(l=u.customer)||void 0===l?void 0:l.email),userPhone:(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n.phoneNumber)||(null===t||void 0===t||null===(d=t.customer)||void 0===d?void 0:d.phone)||(null===u||void 0===u||null===(s=u.customer)||void 0===s?void 0:s.phoneNumber),postOrderDetails:t,isExternalTrackOrder:c,isActiveGuestTracking:null===t||void 0===t?void 0:t.isActiveGuestTracking,otu:null===t||void 0===t?void 0:t.otu};var O,b,j;null!==v&&void 0!==v&&null!==(r=v.storesWithStatus)&&void 0!==r&&r.length&&(m.operatingTime=null===v||void 0===v||null===(O=v.storesWithStatus)||void 0===O||null===(b=O[0])||void 0===b||null===(j=b.summary)||void 0===j?void 0:j.timings);return m},w=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(e=>{var t;return null!==e&&void 0!==e&&e.orderAccepted&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&null!==e&&void 0!==e&&null!==(t=e.orderAccepted)&&void 0!==t&&t.id?null===e||void 0===e?void 0:e.orderAccepted:null})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return null===a&&(a=(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.pastOrderResponse)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&e.pastOrderResponse[0].id?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null})(e),i&&null===a&&(a=t&&Object.keys(null===t||void 0===t?void 0:t.postOrderDetails).length?null===t||void 0===t?void 0:t.postOrderDetails:{})),a||{}},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(localStorage.getItem(s.gd.PAYMENT_STATUS)!==s.Ud.FAILED){var i,l,n,d;if(t&&(null===(i=window)||void 0===i||null===(l=i.location)||void 0===l?void 0:l.pathname)===(null===s.Ce||void 0===s.Ce?void 0:s.Ce.PAYMENT_SUCCESS)||(null===(n=window)||void 0===n||null===(d=n.location)||void 0===d?void 0:d.pathname)===(null===s.Ce||void 0===s.Ce?void 0:s.Ce.CHECKOUT))return!1;(e=>{e(Object(a.h)())})(e),(e=>{e(Object(o.e)())})(e)}(e=>{e(Object(u.z)())})(e),(e=>{e(Object(o.a)({value:[]}))})(e),sessionStorage.removeItem(s.gd.ORDER_TRACKING)}},1209:function(e,t,i){"use strict";i.d(t,"a",(function(){return y})),i.d(t,"e",(function(){return A})),i.d(t,"f",(function(){return _})),i.d(t,"c",(function(){return R})),i.d(t,"d",(function(){return L})),i.d(t,"b",(function(){return P}));var a=i(6),o=i(4),l=i(15),n=i(265),d=i(1204),s=i(5),r=i(41),c=i(46),u=i(1098),v=i(0),m=i(86),O=i(1158),b=i(2);const j=e=>Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.REORDER_FAVORITES)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(r.a,{"data-testid":"create-kfc-account-btn",className:"button transparent-btn black-border",onClick:()=>(e=>{const{orderDetails:t}=e,{total:i,currencyConversionFactor:a,customer:o}=t,{firstName:l,lastName:n,email:d,phoneNumber:r,id:c}=o;Object(u.a)(),sessionStorage.setItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT,c);const b=sessionStorage.getItem(v.Ne.MARKETING_OPT_VAL),j="&userEmail=".concat(d?Object(O.b)(d):void 0);let p="userFirstName=".concat(Object(O.b)(l),"&userLastName=").concat(n?Object(O.b)(n):void 0).concat(j,"&userPhoneNumber=").concat(Object(O.b)(r));if(b){const e=JSON.parse(b),{Email:t,Phone:i}=e;p=t?"".concat(p,"&emailSubscription=").concat(t):p,p=i?"".concat(p,"&phoneSubscription=").concat(i):p}Object(m.a)(p),Object(u.d)({orderValue:Object(s.g)(i/a)})})(e),ariaLable:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CREATE_KFC_ACCOUNT),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CREATE_KFC_ACCOUNT)})})]}),p=e=>{var t;const{orderDetails:i,savedAddresses:l}=e,d=null===i||void 0===i||null===(t=i.deliveryAddress)||void 0===t?void 0:t.location,s=null===l||void 0===l?void 0:l.find((e=>{var t,i;const a=parseFloat(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)===parseFloat(null===d||void 0===d?void 0:d.latitude),o=parseFloat(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)===parseFloat(null===d||void 0===d?void 0:d.longitude);return a&&o})),{orderSummarySaveYourOrderCompleted:u,userStatus:v,savedAddressSucess:m,saveFavoriteSummarySucess:O,hideCreateAccountPanel:p}=i;return Object(b.jsx)("div",{className:"saveYourOrdersAndCreateKFCAccountContainer col-12",children:Object(n.I)(i)||Object(n.gb)(i)?(e=>{const{orderDetails:t}=e,{helpContantData:i}=t,{helpSectionCallDetails:l}=i;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.HERE_TO_HELP)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)("a",{tabIndex:"-1",href:"tel:"+(null===l||void 0===l?void 0:l.contactNo),className:"anchorTags",children:Object(b.jsxs)(r.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"button transparent-btn black-border",children:[Object(b.jsx)(c.a,{srcFile:null===l||void 0===l?void 0:l.icon,alt:" ",className:"Messageimage"}),"".concat(null===l||void 0===l?void 0:l.buttonText," ").concat(null===l||void 0===l?void 0:l.contactNo)]})})})]})})(e):u&&null!==i&&void 0!==i&&i.deliveryAddress&&!s?(e=>{const{updateSetOrderDetails:t}=e;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.SAVE_ADDRESS_BOOK)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(r.a,{"data-testid":"save-delivery-address",className:"button transparent-btn black-border",onClick:()=>t({isOpenSaveDeliveryAddressModal:!0}),ariaLable:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.SAVE_DELIVERY_ADDRESS),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.SAVE_DELIVERY_ADDRESS)})})]})})(e):null===v||void 0===v||!v.loggedIn||m||O?m||O||p?void 0:j(e):(e=>{var t,i;const{orderDetails:l,updateSetOrderDetails:n,saveOrderDescriptionText:d=(null===o.a||void 0===o.a?void 0:o.a.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER),saveOrderButtonLabel:s=(null===o.a||void 0===o.a?void 0:o.a.SAVE_THIS_ORDER)}=e;return void 0===(null===l||void 0===l||null===(t=l.favouriteOrders)||void 0===t?void 0:t.find((e=>e.id===(null===l||void 0===l?void 0:l.orderId))))&&Object(b.jsxs)("div",{className:"savingdiv",children:[Object(b.jsx)("span",{className:"saving",children:null===(i=Object(a.translateWithI18Next)(d))||void 0===i?void 0:i.toUpperCase()}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(r.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:()=>n({isOpenOrderSummarySaveYourOrderCheckoutFaster:!(null!==l&&void 0!==l&&l.isOpenOrderSummarySaveYourOrderCheckoutFaster)}),ariaLable:Object(a.translateWithI18Next)(s),children:Object(a.translateWithI18Next)(s)})})]})})(e)})};var h=i(1180),g=i(1174);const N=e=>{var t;const{orderDetails:i}=e,{storeName:l,displayOrderId:n}=i;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"catering-store-order",children:l}),n&&Object(b.jsx)("div",{className:"catering-store-order red",children:(null===(t=Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},I=e=>{const{orderDetails:t}=e,{orderStatus:i,deliveryOrEstimatedOrCollectAtTime:l}=t;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(i,"-delivery"),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.COLLECTED_AT)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:l})]})},S=e=>{const{orderDetails:t}=e,{orderStatus:i}=t,a=Object(n.m)(t)?null===l.a||void 0===l.a?void 0:l.a.CartError:Object(n.n)(t)?null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg:null===l.a||void 0===l.a?void 0:l.a.clockFeature;return""!==a&&Object(b.jsx)("img",{src:a,className:"statusIcon",alt:i})},T=e=>{const{orderDetails:t}=e,{orderStatus:i,service:l,selectedCateringOrderCollectionMethod:d,deliveryOrEstimatedOrCollectAtMonthDate:s,deliveryOrEstimatedOrCollectAtTime:r}=t,c=(e=>{var t;return Object(n.m)(e)?Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CANCEL_ORDER):Object(n.n)(e)?Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ENJOY_MEAL):"".concat(Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.THANK_YOU),", ").concat(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."))})(t);return""!==c&&Object(b.jsxs)("div",{className:"allSet ".concat(i,"-allSet ").concat(l," ").concat(d," col-12 ").concat(Object(n.o)(t)?"":"p-0px-imp"),children:[Object(b.jsx)("div",{className:"statusMessage",children:c}),!Object(n.o)(t)&&Object(b.jsxs)("div",{className:"catering-order-deliver-details",children:["".concat(Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.YOUR_CATERING))," ",Object(b.jsx)("span",{className:"red",children:s})," ",Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.AT)," ",Object(b.jsx)("span",{className:"red",children:r})]}),!Object(n.o)(t)&&Object(b.jsx)("div",{className:"catering-confirmation-email-details",children:"".concat(Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CATERING_CONFIRMATION_EMAIL))})]})},E=e=>{const{orderDetails:t}=e,{deliveryPartner:i,deliveryDetails:l}=t,d=(null===i||void 0===i?void 0:i.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(n.o)(t)&&d&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ASK_FOR_OTP)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:Object(b.jsx)("div",{className:"red otp",children:d})})]})},f=e=>Object(b.jsxs)(b.Fragment,{children:[!Object(n.o)(null===e||void 0===e?void 0:e.orderDetails)&&N(e),Object(n.n)(null===e||void 0===e?void 0:e.orderDetails)&&I(e),S(e),T(e),E(e)]}),x=e=>Object(b.jsx)(d.a,{...e}),C=()=>Object(b.jsx)("div",{className:"linebreak col-12"}),D=e=>{const t=null===e||void 0===e?void 0:e.hideCreateAccountSection,i={saveOrderDescriptionText:null===o.a||void 0===o.a?void 0:o.a.RECKON_TEXT,saveOrderButtonLabel:null===o.a||void 0===o.a?void 0:o.a.SAVE_TO_FAVOURITE_ORDER};if(!t)return Object(b.jsxs)("div",{className:"col-12 bottomPanel","data-testid":"bottomPanel",children:[C(),p({...e,...i})]})},y=e=>{const{orderDetails:t}=e,{service:i}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(i),children:[Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel ".concat(i),children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.o)(t)?"redCard":"","  ").concat(i),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(i),children:f(e)})})}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:x(e)}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&D(e)]})},A=e=>{var t;const{orderDetails:i}=e,{service:a,isMobileView:o,hideCancelOrderPanel:l,hidePickupCheckin:d}=i;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(a),children:[(Object(n.gb)(i)&&(null===i||void 0===i?void 0:i.enableRetryCountForPickupOrderTracking)||!Object(n.gb)(i))&&Object(b.jsxs)("div",{className:"col-12 col-lg-8 leftPanel ".concat(a),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.ib)(i)?"redCard":"","  ").concat(a),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(a),children:Object(g.a)(e)})}),Object(n.jb)(i)&&!(null!==i&&void 0!==i&&i.selectedPickupOrderCollectionMethod)&&(null===i||void 0===i||null===(t=i.pickupOrderAvailableCollectionPoints)||void 0===t?void 0:t.length)>0&&d&&!(null!==i&&void 0!==i&&i.disableTrackingFields)&&Object(g.f)(e)]}),Object(b.jsxs)("div",{className:"col-12 col-lg-6 rightPanel ".concat(a),children:[x(e),!l&&!Object(n.ib)(i)&&!(null!==i&&void 0!==i&&i.disableTrackingFields)&&Object(g.e)(e)]}),!Object(n.nb)(i)&&!(null!==i&&void 0!==i&&i.disableTrackingFields)&&D(e),!l&&o&&!Object(n.ib)(i)&&Object(b.jsx)("div",{className:"col-12 ".concat(a," p-0px-imp"),children:C()})]})},_=e=>{const{orderDetails:t}=e,{service:i}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(i),children:[Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:x(e)}),D(e)]})},R=e=>Object(b.jsx)("div",{className:"orderSummaryContainer row giftcardorder",children:Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel",children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 redCard",children:Object(b.jsxs)("div",{className:"giftcard-content",children:[Object(b.jsx)("div",{className:"giftcard-success",children:Object(b.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.ConfirmedImg,className:"statusIcon",alt:"tex"})}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_ONE)}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_TWO)}),Object(b.jsx)("div",{className:"giftcard-success-status",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.GIFT_CARD_PURCHASE_MSG)}),Object(b.jsx)("div",{className:"gift-card-button",children:Object(b.jsx)("button",{"data-testid":"gift-card-button",className:"button giftcard-button",onClick:()=>Object(s.We)({history:e},!1,!0),children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.RETURN_TO_GIFT_CARD)})})]})})})}),L=e=>{const{displayOrderId:t}=e;return Object(b.jsxs)("div",{className:"orderNumber",children:[Object(b.jsx)("span",{className:"",children:Object(a.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.ORDER_HASH)}),t]})},P=e=>{const{orderDetails:t}=e,{service:i,isMobileView:a,enableCancelOrderCallsupportModal:o,showDeliveryTrackingMap:l,showDeliveryOrderRaiderDetailsView:d,showDeliveryDriverDetails:s,showOrderSummaryInfoDetails:r,orderStatusFlag:c}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(i),children:[Object(b.jsxs)("div",{className:"col-12 ".concat(!Object(n.K)(t)||r||c?"col-lg-6":"col-lg-8 m-auto"," leftPanel ").concat(i),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 mb-1 ".concat(Object(n.L)(t)?"redCard":""," ").concat(Object(n.O)(t)||Object(n.C)(t)?Object(n.d)(t):"dasher-dropoff-updated"," "),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12",children:Object(h.b)(e)})}),l&&a&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(b.jsx)("div",{className:"mt-20px",children:w(e)}),(s||d)&&Object(h.d)(e),!a&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(b.jsx)(b.Fragment,{children:x(e)})]}),Object(n.K)(t)&&r&&Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:x(e)}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:(!Object(n.K)(t)||c)&&(l&&!a&&(Object(n.Q)(t)||Object(n.sb)(t))?w(e):Object(b.jsxs)(b.Fragment,{children:[x(e),o&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&(Object(n.ob)(t)||Object(n.C)(t))&&Object(g.e)(e)]}))}),!Object(n.nb)(t)&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&D(e)]})},w=e=>{const{orderDetails:t}=e;return null!==t&&void 0!==t&&t.showOrderTrackingIFrame?Object(h.c)(e):Object(h.e)(e)}},1212:function(e,t,i){"use strict";(function(e){var a=i(3),o=i(6),l=i(41),n=i(46),d=i(144),s=i(190),r=i(1203),c=i(15),u=i(0),v=i(4),m=i(5),O=i(417),b=i(394),j=i(28),p=i(1213),h=i(1148),g=i(426),N=i(73),I=i(20),S=i.n(I),T=i(2);const E=e=>{let{isNameExist:t,isInvalidName:i,SPECIAL_CHAR_ERROR:a,NAME_EXIST_ERROR:l}=e;return(t||i)&&Object(T.jsxs)("div",{className:"error-text-container",children:[Object(T.jsx)(n.a,{srcFile:c.a.Error}),Object(T.jsx)("span",{className:"error-text",children:Object(o.translateWithI18Next)(i?a:l)})]})},f=e=>{const{data:t,status:i,handleSelect:a,countryNameInDefaultLang:l}=e;return(null===i||void 0===i?void 0:i.toUpperCase())===s.b.OK?null===t||void 0===t?void 0:t.map((e=>{const{place_id:t,structured_formatting:{main_text:i,secondary_text:o}}=e;return Object(T.jsx)(T.Fragment,{children:e&&Object(T.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:a(e),children:[Object(T.jsx)(n.a,{srcFile:c.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(T.jsxs)("span",{className:"address-text",children:[i," ",o]})]},t)})})):(e=>(null===e||void 0===e?void 0:e.toUpperCase())===s.b.ZERO_RESULTS?Object(T.jsx)("div",{className:"noAddressText",children:Object(o.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.NO_ADDRESS_FOUND)}):null)(i)},x=(e,t)=>{const{floor:i,addressLines:a,isFlatNumberSelected:o}=e;return t&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>t.includes(e))))&&o?Object(b.y)(t):i||a[0]},C=(e,t,i)=>{const{addressLines:a}=e;return null!==u.mf&&void 0!==u.mf&&u.mf.some((e=>null===i||void 0===i?void 0:i.includes(e)))?i:t||(null===a||void 0===a?void 0:a[1])},D=(e,t,i)=>{((e,t,i)=>{(null===i||void 0===i?void 0:i.isAddressSelected)&&!t||e.preventDefault()})(e,t,i)};t.a=t=>{var i,I,y;const A=Object(j.c)((e=>e.tenantReducer)),_=null===A||void 0===A?void 0:A.addressValidRemove,R=null===A||void 0===A||null===(i=A.componentOptions)||void 0===i||null===(I=i.web)||void 0===I||null===(y=I.address)||void 0===y?void 0:y.addressNickNameCharacterLimit,{setValue:L,value:P,isOpen:w,handleClose:k,modalType:M,error:F,addresses:H,handleChange:U,handleInput:W,showSuggestions:B,ready:G,suggestionRef:Y,suggestions:V,handleSelect:K,checkFormValidation:q,handleSubmit:z,isNameExist:J,isInvalidName:Q,savedAddresses:X=[],isAddressFromOrderProcessing:Z=!1,countryNameInDefaultLang:$,setSaveAddress:ee,nonFormattedAddress:te,setNonFormattedAddress:ie,addressFormConditions:ae,seteligibleStoreData:oe,showStores:le,setShowStores:ne,showMapBasedField:de,setShowMapBasedFiled:se,clearSuggestions:re,showAddressMapView:ce,getUserLatLong:ue,dispatch:ve,allStores:me,setError:Oe,deliveryInstration:be=""}=t,{data:je,status:pe}=V,{ADD_NEW_ADDRESS:he,EDIT_DELIVERY_ADDRESS:ge,NOT_SERVICEABLE:Ne,SPECIAL_CHAR_ERROR:Ie,NAME_EXIST_ERROR:Se,ADDRESS_ERROR_MSG:Te,INITIAL_STATE:Ee}=s.b,{CANCEL:fe,SAVE:xe,ADDRESS_NICK_NAME:Ce,HAND_IT_TO_ME:De,LEAVE_AT_MY_DOOR:ye,PLEASE_FILL_OUT_THIS_FIELD:Ae,DELIVERY_OPTIONS_TOOL_TIP:_e}=v.a,{ADDRESS:Re,APT_SUITE_FLOOR:Le,POSTAL_CODE:Pe,CITY_TOWN:we,MAKE_THIS_DEFAULT_ADD:ke,STATE:Me,DELIVERY_OPTION:Fe,DELIVERY_INSTRUCTION:He}=s.d,{disableCityTownField:Ue,disablePostalCodeField:We,disableStateField:Be}=ae,Ge=[De,ye],Ye=[Object(o.translateWithI18Next)(De),Object(o.translateWithI18Next)(ye)],Ve={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:w,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:k,modalTitle:M?ge:he,autoFocus:!0};Object(a.useEffect)((()=>{te&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>te.includes(e))))&&te&&ee({...H,addressLines:[Object(b.y)(te),te]})}),[te]),Object(a.useEffect)((()=>{ce&&ve(Object(N.u)())}),[]),Object(a.useEffect)((()=>{var e;de&&null!==H&&void 0!==H&&null!==(e=H.results)&&void 0!==e&&e.length&&Object(h.e)("",null===H||void 0===H?void 0:H.results[0],L,ee,re,q,"","","",de)}),[null===H||void 0===H?void 0:H.results,de]);const Ke=()=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"address-form-section",children:Object(T.jsxs)("div",{className:"form-container",children:[F&&Object(T.jsx)("div",{className:"error-service-msg",children:Object(o.translateWithI18Next)(Ne)}),Object(T.jsxs)("form",{autocomplete:"off",children:[!de&&Object(T.jsxs)("div",{className:"input-container",children:[(P||(null===H||void 0===H?void 0:H.addressLines[1]))&&Object(T.jsx)("div",{className:"remove-container",onClick:()=>(ee({...H,addressLines:[null===H||void 0===H?void 0:H.addressLines[0],""],isAddressSelected:!1,isFlatNumberSelected:!1}),L(""),x(Ee),void ie("")),"data-testid":"clear-text-icon",children:Object(T.jsx)("img",{alt:"",src:O.a})}),Object(T.jsx)("input",{"data-testid":"search-input-address",value:C(H,P,te),onChange:W,disabled:!G,name:"addressLine",onFocus:()=>L(P),required:!0,type:"text",title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsxs)("label",{children:[Object(o.translateWithI18Next)(Re),"*"]}),B&&Object(T.jsx)("ul",{ref:Y,className:"address-list",children:f({data:je,status:pe,handleSelect:K,countryNameInDefaultLang:$})})]}),Object(T.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)("input",{required:!0,type:"text",name:"floor",value:x(H,te),onChange:U,"data-testid":"floor-test-id",maxLength:ce&&40,title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsx)("label",{children:Object(o.translateWithI18Next)(Le)})]}),Object(T.jsxs)("div",{className:"input-container ml5",children:[Object(T.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:e=>D(e,We,H),onKeyPress:e=>D(e,We,H),value:null===H||void 0===H?void 0:H.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:U,title:Object(o.translateWithI18Next)(Ae),maxLength:ce&&5}),Object(T.jsxs)("label",{children:[Object(o.translateWithI18Next)(Pe),"*"]})]})]}),Object(T.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>D(e,Ue,H),onKeyPress:e=>D(e,Ue,H),value:null===H||void 0===H?void 0:H.city,"data-testid":"city-id",onChange:U,title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsxs)("label",{children:[Object(o.translateWithI18Next)(we),"*"]})]}),Object(T.jsxs)("div",{className:"input-container ml5",children:[Object(T.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>D(e,Be,H),onKeyPress:e=>D(e,Be,H),value:null===H||void 0===H?void 0:H.state,"data-testid":"state-id",onChange:U,title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsxs)("label",{children:[Object(o.translateWithI18Next)(Me),"*"]})]})]}),Object(T.jsxs)("div",{className:ce?"col-12 delivery-option-select":"d-flex adjust-width flex-dir",children:[!ce&&Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)(r.b,{options:Ye,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:U,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:(null===H||void 0===H?void 0:H.deliveryOptions)||Object(o.translateWithI18Next)(null===Ge||void 0===Ge?void 0:Ge[0]),title:Object(o.translateWithI18Next)(_e)}),Object(T.jsxs)("label",{children:[Object(o.translateWithI18Next)(Fe),"*"]})]}),Object(T.jsxs)("div",{className:"input-container ".concat(!ce&&"ml-5"),children:[Object(T.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:(null===H||void 0===H?void 0:H.deliveryInstructions)||be,"data-testid":"deliveryInstruction-id",onChange:U,maxlength:_?s.b.TH_DELIVERY_MAX_LENGTH:s.b.DELIVERY_MAX_LENGTH,title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsx)("label",{children:Object(o.translateWithI18Next)(He)})]})]}),Object(T.jsxs)("div",{className:ce?"col-12 default-address-section default-address-sectionth default-selection":"default-address-section",children:[Object(T.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===H||void 0===H?void 0:H.isPrimary,checked:Object(m.jb)(null===H||void 0===H?void 0:H.isPrimary,X.length<1||M&&X.length<=1),onChange:U,disabled:X.length<1||M&&X.length<=1,title:Object(o.translateWithI18Next)(Ae)}),Object(T.jsx)("div",{className:"default-label-text",children:Object(T.jsx)("label",{htmlFor:"default-address",children:Object(o.translateWithI18Next)(ke)})})]})]})]})}),Object(T.jsxs)("div",{className:"text-center input-container",children:[Object(T.jsx)(l.a,{onClick:k,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(o.translateWithI18Next)(fe)}),Object(T.jsx)(l.a,{disabled:!q()||F,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{z(Z)},children:Object(o.translateWithI18Next)(xe)})]})]});return Object(T.jsx)("div",{className:"".concat(ce&&"map-modal-view"),children:Object(T.jsxs)(d.a,{...Ve,"data-testid":"address-modal-landing-page",children:[Object(T.jsx)(T.Fragment,{children:J&&Object(T.jsx)("div",{className:"addr-error-container",children:Object(T.jsxs)("div",{className:"error-sub-container",children:[Object(T.jsx)(n.a,{srcFile:c.a.Error,className:"mr-1 location-alert-icon"}),Object(T.jsx)("div",{className:"error-msg",children:Object(o.translateWithI18Next)(Te)})]})})}),(()=>{return Object(T.jsx)("div",{className:"address-form-section",children:Object(T.jsx)("div",{className:"form-container",children:Object(T.jsx)("form",{autocomplete:"off",children:Object(T.jsxs)("div",{className:"input-container ".concat((J||Q)&&"error-input-container"),children:[Object(T.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===H||void 0===H?void 0:H.name,maxLength:R,onChange:U,title:Object(o.translateWithI18Next)(Ae),className:(e=J,t=Q,e||t?"error-input":"")}),Object(T.jsx)("label",{children:Object(o.translateWithI18Next)(Ce)}),E({isNameExist:J,isInvalidName:Q,SPECIAL_CHAR_ERROR:Ie,NAME_EXIST_ERROR:Se})]})})})});var e,t})(),ce&&(()=>{var t,i,a,o,l;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(p.a,{formContent:null===g.a||void 0===g.a||null===(t=g.a.contentData)||void 0===t||null===(i=t.searchStoreModalContent)||void 0===i?void 0:i.formContent,storeData:[],eligibleStoreData:[],currentMarket:null===(a=e)||void 0===a||null===(o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===o||null===(l=o.REACT_APP_TENANT_CODE)||void 0===l?void 0:l.toUpperCase(),dispositionType:null===u.Jb||void 0===u.Jb?void 0:u.Jb.DELIVERY,seteligibleStoreData:oe,storeSelection:{signInLink:!0,useMyLocation:!0,placesSearchInput:!0},eligibleFavoriteStoreData:[],findAKFC:!1,finAKFCContentData:{},isMobile:!1,setShowStores:ne,showStores:le,setShowMapBasedFiled:se,addresses:H,setSaveAddress:ee,userPositionHandler:ue,allStores:me,setError:Oe}),S()(null===H||void 0===H?void 0:H.locationErrorObj)&&(null===H||void 0===H?void 0:H.isConfirmButtonClicked)&&de&&Ke()]})})(),(Z||!ce)&&Ke()]})})}}).call(this,i(121))},1213:function(e,t,i){"use strict";var a=i(3),o=i(28),l=i(43),n=i(85),d=i(1193),s=i(269),r=i(5),c=i(329),u=i(0),v=i(6),m=i(394),O=i(133),b=i(62),j=i(4),p=i(24),h=i(1196),g=i(15),N=i(1117),I=i(1147),S=i(1197),T=i(20),E=i.n(T),f=i(2);const{MIN_SEARCH_CHARACTER_LIMIT:x,TYPE_DELIVERY:C}=l.a,{LOCATION_BLOCKED_ERROR:D,KFC_URL:y}=j.a,{KEY_CHAR_CODE:A}=u.ag||{},{ENTER:_}=A||{},{Error_Yellow:R}=g.a;t.a=e=>{var t,i;const{userPositionHandler:l,dispositionType:u,storeSelection:g,setShowMapBasedFiled:T,addresses:C,setSaveAddress:A,formContent:L,allStores:P,setError:w}=e,k=Object(a.useRef)(null),M=Object(b.g)(),{userOrderState:F,userOrderStateDispatch:H}=Object(a.useContext)(n.a),{showLocationConfirmModal:U}=F,[W,B]=Object(a.useState)(!1),[G,Y]=Object(a.useState)(!1),[V,K]=Object(a.useState)(!1),[q,z]=Object(a.useState)(!1),[J,Q]=Object(a.useState)([]),[X,Z]=Object(a.useState)(""),[$,ee]=Object(a.useState)(!1),[te,ie]=Object(a.useState)(!1),ae=Object(o.c)((e=>{var t,i;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(i=t.savedAddressPage)||void 0===i?void 0:i.showStateCityAddAddress})),[oe,le]=Object(a.useState)({}),ne=Object(o.c)((e=>e.appStateReducer.userStatus)),{loggedIn:de}=Object(r.sd)(ne),{componentOptions:se}=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),re=null===se||void 0===se||null===(t=se.web)||void 0===t?void 0:t.dispositionConfig,ce="DELIVERY_FORM",{shouldHandleKeyPress:ue,shouldPopulateFirstSuggestion:ve,filteredTypes:me,filterConditions:Oe,shouldShowLocationLink:be}={...null===O.d||void 0===O.d?void 0:O.d[ce],...null===re||void 0===re?void 0:re[ce]},je=Object(r.Je)(U,be),[pe,he]=Object(a.useState)(!1),{RETRY_BTN_TEXT:ge,ADDRESS_NOT_FOUND_ERROR:Ne,VIEW_MAP_BTN_TEXT:Ie,SEARCH:Se}=j.a,Te=Object(r.de)(window.innerWidth);Object(a.useEffect)((()=>{null!==C&&void 0!==C&&C.isLocationButtonClicked&&(null===P||void 0===P?void 0:P.length)>0?(A({...C,locationErrorObj:{}}),Y(!0)):null===C||void 0===C||!C.isLocationButtonClicked||null!==P&&void 0!==P&&P.length||A({...C,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),firstBtnCTA:fe}})}),[P]),Object(a.useEffect)((()=>{var e,t,i;null!==C&&void 0!==C&&C.location&&(le({lat:parseFloat(null===C||void 0===C||null===(e=C.location)||void 0===e?void 0:e.latitude),lng:parseFloat(null===C||void 0===C||null===(t=C.location)||void 0===t?void 0:t.longitude)}),Y(!0),Z(null===C||void 0===C||null===(i=C.addressLines)||void 0===i?void 0:i[1]),A({...C,isConfirmButtonClicked:!0,locationErrorObj:{}}),T(!0),ie(!0))}),[null===C||void 0===C?void 0:C.id]);const Ee=()=>{A({...C,locationErrorObj:{}}),Y(!0),B(!1)},fe=()=>{var e;!Te&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.select()),Y(!1),B(!1),A({...C,name:null===C||void 0===C?void 0:C.name,locationErrorObj:{}}),he(!1)};Object(a.useEffect)((()=>{!E()(oe)&&A({...C,location:{latitude:null===oe||void 0===oe?void 0:oe.lat,longitude:null===oe||void 0===oe?void 0:oe.lng}})}),[oe]),Object(a.useEffect)((()=>{Object(m.f)(H,U)}),[H]);const xe=Object(a.useCallback)((e=>{Object(m.I)(ue,(null===e||void 0===e?void 0:e.keyCode)===_,k,H),Object(m.K)(ve,(null===e||void 0===e?void 0:e.keyCode)===_,J,Z,X)}),[ue,null===J||void 0===J?void 0:J.length]),Ce=Object(a.useCallback)((async e=>{if(A({...C}),null===e||void 0===e||e.preventDefault(),Y(!0),B(!1),T(!0),ie(!0),null!==C&&void 0!==C&&C.isLocationButtonClicked)A({...C,isConfirmButtonClicked:!0});else{const e=await Object(c.geocodeByAddress)(X);A({...C,results:e,isConfirmButtonClicked:!0})}}),[ue,J,l,q,V]),De=Object(a.useCallback)((async(e,t)=>{const i=Object(m.o)(t,ue,J,e,u);K(i),z(e),B(!0),T(!1),Z(e),(async(e,t)=>{const i=await Object(c.geocodeByAddress)(e);(null===C||void 0===C?void 0:C.isLocationButtonClicked)&&A({...C,results:i});const a=await Object(c.getLatLng)(i[0]);(null===C||void 0===C||!C.isLocationButtonClicked)&&l({userLat:a.lat,userLong:a.lng}),le(a)})(i),Y(!0),he(!1)}),[ue,J,V,q]),ye=document.getElementsByClassName("suggestion-list")[0];Object(a.useEffect)((()=>{ye||!pe||null!==C&&void 0!==C&&C.isLocationButtonClicked?A({...C,locationErrorObj:{},isConfirmButtonClicked:!(null===C||void 0===C||!C.id)}):A({...C,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),secondBtnText:Object(v.translateWithI18Next)(Ie),firstBtnCTA:fe,secondBtnCTA:Ee}})}),[ye,pe]);const Ae=()=>{var e;w(!1),Z(""),B(!1),Y(!1),!Te&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.focus()),T(!1),A({addressId:"",city:"",pinCode:"",name:null===C||void 0===C?void 0:C.name,state:"",country:"",isPrimary:null===C||void 0===C?void 0:C.isPrimary,location:{latitude:"",longitude:""},addressLines:["",""],isSelectedAddress:!1,isFlatNumberSelected:!1,deliveryInstructions:"",isLocationButtonClicked:!1,results:[],id:null===C||void 0===C?void 0:C.id}),ie(!1),le({}),K(""),z(""),he(!1)},_e=Object(a.useCallback)(((e,t)=>{var i;e.length>2&&he(!0),B(!1),ie(!1),T(!1),null!==e&&void 0!==e&&e.trim()&&(z(e),K(e)),e.trim()?Z(e):Ae(),t&&G&&Te&&(null===k||void 0===k||null===(i=k.current)||void 0===i||i.blur())}),[Ae]),{handleSelectAddress:Re}=Object(s.a)({handleSelectAddressGlobal:De}),Le=Object(a.useCallback)((async()=>{const e=await Object(s.b)(H,ae),t=e&&await Object(c.geocodeByAddress)(p.b.address);if(e){Y(!1),B(!0),A({...C,isLocationButtonClicked:!0,results:[null===t||void 0===t?void 0:t[0]],isConfirmButtonClicked:!1,locationErrorObj:{}}),Z(p.b.address),Q([{description:p.b.address}]);const{longitude:e,latitude:i}=p.b.coordinates;l({userLat:i,userLong:e}),le({lat:i,lng:e}),w(!1),ie(!1)}Object(m.s)(H,!e)}),[H,l,u]);Object(a.useEffect)((()=>{const e=Object(r.d)(X,x);ee(e)}),[X]);return Object(f.jsx)("div",{className:"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(f.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(f.jsxs)("div",{id:"search-store-global-content",className:Object(m.u)(U),children:[Object(f.jsx)(N.a,{show:je,errorMsg:Object(m.G)(D,y),errImage:R,cssClass:"location-blocked"}),Object(f.jsxs)("div",{className:"selectkfc-search-store-container",children:[Object(f.jsx)(S.a,{loggedIn:de,formContent:L,storeSelection:g,useCurrentLocation:Le,hideLocationLink:!1,showLocationConfirmModal:U}),Object(f.jsx)(d.a,{...e,dataTestId:"ConfirmSearchAddress",storeSelection:g,history:M,inputOnChange:_e,address:X,showAutoSuggestion:$,setSuggestedAddress:Q,handleSelectAddress:Re,alreadySearched:s.c,onClearTextHandler:Ae,keyPress:xe,inputRef:k,placeholder:Object(v.translateWithI18Next)(Se),filteredTypes:me,filterConditions:Oe,showConfirmBtn:!0,onClickHandler:Ce,confirm:W}),(null===C||void 0===C?void 0:C.locationErrorObj)&&Object(f.jsx)(I.a,{show:null===C||void 0===C||null===(i=C.locationErrorObj)||void 0===i?void 0:i.showError,dataTestId:"locationSearchError",errorObj:null===C||void 0===C?void 0:C.locationErrorObj})]})]}),G?Object(f.jsx)(h.a,{dataTestId:"SearchErrors",eligibleStores:[],defaultStoreId:"",loggedIn:de,selectedCoords:oe,passAddress:(e,t)=>{const i=Object(r.de)(window.innerWidth);var a;(_e(e,!0),Q([{description:e}]),le(t),l({userLat:t.lat,userLong:t.lng}),i)||(null===k||void 0===k||null===(a=k.current)||void 0===a||a.focus());G&&(e=>{var t;let i=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(i)})(k)},configSearchKey:ce,useCurrentLocation:Le,showLocationConfirmModal:!1,findAKFC:!1,disableUseLocationIcon:!0,disableMapSelection:te,markerDragValue:!0}):null]})})}},1219:function(e,t,i){"use strict";var a=i(3),o=i(75),l=i.n(o),n=i(85),d=i(62),s=i(28),r=i(410),c=i(6),u=i(92),v=i(106),m=i(1103),O=i(2);t.a=()=>{const{ALERT_TEXT:e,ALERT_CONFIRM_TEXT:t,ALERT_CANCEL_TEXT:i}=m.a,{userOrderStateDispatch:o}=Object(a.useContext)(n.a),b=Object(d.g)(),j=Object(s.b)(),{showCartAlert:p}=Object(r.a)(void 0,void 0,void 0,void 0,o,j,void 0),h=Object(O.jsx)(v.a,{handleClose:()=>p(!1),classNames:"",CartAlertForm:Object(O.jsx)(u.a,{title:Object(c.translateWithI18Next)(e),confirmButtonText:Object(c.translateWithI18Next)(t),cancelButtonText:Object(c.translateWithI18Next)(i),cancelHandler:()=>p(!1),confirmHandler:()=>(p(!1),b.push({pathname:"/cart"}),void window.scrollTo(0,0))})});return l.a.createPortal(h,document.getElementById("modal-popups"))}},1225:function(e,t,i){"use strict";i.r(t),i.d(t,"VIEW_RECEIPT",(function(){return a})),i.d(t,"REORDER",(function(){return o})),i.d(t,"MY_ACCOUNT",(function(){return l})),i.d(t,"ORDER_IT_AGAIN",(function(){return n})),i.d(t,"SEE_FULL_ORDER_HISTORY",(function(){return d})),i.d(t,"CONTINUE",(function(){return s})),i.d(t,"CANCEL",(function(){return r})),i.d(t,"ACCOUNT_FAVORDERS",(function(){return c})),i.d(t,"HOMEPAGE_REORDER",(function(){return u})),i.d(t,"ReorderConstants",(function(){return v}));const a="viewReceipt",o="reorderBtn",l="myAccount",n="orderItAgain",d="seeFullOrderHistory",s="continue",r="cancel",c="Account - Occasions",u="HomePage - Reorder",v={LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",SET_DISPOSITION:"SET_DISPOSITION",CLOSED:"CLOSED",DELIVER_TO:"deliveryTo",WHEN:"when",PLEASE_REVIEW_YOUR_ORDER:"pleaseReviewYourOrder",QUICK_ORDER:"quickOrder",TODAY:"today",ASAP:"asap",ITEMS:"items",WANT_TO_MODIFY:"wantToModify",ITEM_ADDED_TO_CART_MSG:"itemAddedToCartMsg",KEEP_SHOPING:"keepShoping",ADD_A_COUPON:"addACoupon",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",TOTAL:"total",CONTINUE_TO_PAYMEN:"continuePayment",CLEAR_CART_MSG:"clearCartActionText",CLEARE_AWARE_MSG:"clearCartAwareText",CLEAR_CART_COMPLETE_MSG:"clearCartCompleteText",STORE_CLOSED:"storeClosed",DELIVERY_NOT_AVAIALABLE:"deliveryNotAvailable",PRICE_CHANGE_TEXT:"cartItems",PRICE_CHANGE_MAIN:"priceChangedCartMain",ITEM_UNAVAILABLE:"itemUnavailable",SERVICE_CHANNEL:"web",UNAVAILABLE:"unavailable",UNAVAILABLE_TEXT:"unavailableCartText",DINE_IN:"dine-in",TAKEAWAY:"takeaway",DINE_IN_TEXT:"dineIn",GENERIC_ERROR:"generic_error",CHECKOUT:"checkout",DISPOISTIONUN_AVAL:"dispositionUnavalMsg",UNAVAILABLE_ERROR:"sorryUnaval",CART:"cart",SCHEDULE_ORDER_DATA:"scheduleOrderData",CHANGE_ORDER_SETTING:"changeOrderSettings"}},1230:function(e,t,i){"use strict";var a=i(3),o=i(5),l=i(144),n=i(0),d=i(15),s=i(2);const r=e=>{const{isOpen:t,handleClose:i,OrderReducerData:r}=e,[c,u]=Object(a.useState)(Object(o.de)(window.innerWidth)),v=window.google,{RedMarker:m,BlackMarker:O}=d.a;Object(a.useEffect)((()=>(window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)})));const b=()=>{u(Object(o.de)(window.innerWidth))},j=c?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:i,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:i,autoFocus:!0};function p(){var e,t,i,a;const o=new v.maps.DirectionsService,l=new v.maps.DirectionsRenderer,n=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===r||void 0===r||null===(e=r.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===r||void 0===r||null===(i=r.store)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.longitude)}});l.setMap(n),function(e,t){var i,a,o,l,n,d,s,c,u,m,b,j;const p={lat:Number(null===r||void 0===r||null===(i=r.store)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.latitude),lng:Number(null===r||void 0===r||null===(o=r.store)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.longitude)},h=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:p});e.route({origin:{lat:Number(null===r||void 0===r||null===(n=r.store)||void 0===n||null===(d=n.location)||void 0===d?void 0:d.latitude),lng:Number(null===r||void 0===r||null===(s=r.store)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.longitude)},destination:{lat:Number(null===r||void 0===r||null===(u=r.store)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.latitude),lng:Number(null===r||void 0===r||null===(b=r.store)||void 0===b||null===(j=b.location)||void 0===j?void 0:j.longitude)},travelMode:v.maps.TravelMode.DRIVING},((e,i)=>{if("OK"===i){t.setDirections(e);var a=e.routes[0].legs[0];new v.maps.Marker({position:a.end_location,map:h,visible:!0,icon:O,title:"Delivery-Location"})}else new v.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(o,l)}return Object(a.useEffect)((()=>{null!==(null===r||void 0===r?void 0:r.deliveryAddress)&&null!==(null===r||void 0===r?void 0:r.store)&&Object(o.rf)(null===r||void 0===r?void 0:r.service)===Object(o.rf)(n.yb)?p():Object(o.rf)(null===r||void 0===r?void 0:r.service)!==Object(o.rf)(n.fe)&&Object(o.rf)(null===r||void 0===r?void 0:r.service)!==Object(o.rf)(n.Eb)||null===(null===r||void 0===r?void 0:r.store)||function(){var e,t,i,a;const o={lat:Number(null===r||void 0===r||null===(e=r.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===r||void 0===r||null===(i=r.store)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.longitude)},l=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:o});new v.maps.Marker({position:o,map:l,visible:!0,icon:m,title:"KFC Store"})}()})),Object(s.jsx)("div",{children:t&&Object(s.jsx)(l.a,{...j,children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{id:"maps"})})})})};r.defaultProps={isOpen:!1,closeModal:null},t.a=r},1249:function(e,t,i){"use strict";t.a={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_TAKEWAY:"Pickup",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",REMOVED_MSG:"Store removed from favorite list",INDIA:"India",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",addressName:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address"}},1262:function(e,t,i){"use strict";var a=i(3),o=i(169),l=i(12),n=i(406),d=i(419),s=i.n(d),r=i(42),c=i.n(r),u=i(6),v=i(28),m=i(5),O=i(414),b=i(1230),j=i(271),p=i(71),h=i(15),g=i(4),N=i(2);t.a=e=>{var t,i;const{orderItem:d}=e,r=Object(v.c)((e=>e.tenantReducer)),{currencySymbol:I,currencyConversionFactor:S,addHope:T,carryBag:E,showCustomDeliveryFee:f}=r||{},{tendersContent:x}=Object(v.c)((e=>e.paymentsContentReducer)),{items:C=[]}=x,{phoneImg:D,Direction:y}=h.a,{fulfillmentDateTime:A,deliveryAddress:_,store:R,foodLines:L,subTotal:P,total:w,taxLines:k,paymentReferences:M,posOrderId:F,inclusiveTaxTotal:H,additionalChargeLines:U,discountTotal:W,service:B}=d,{phoneNumber:G}=R,{YOUR_ORDER:Y,DELIVER_TO:V,PAYMENT:K,ORDER_FROM:q,GET_DIRECTION:z,TOTAL:J,SUBTOTAL:Q,ORDER:X,AT:Z,COMPLETED:$,GST:ee,DISCOUNT:te,SEARCH_IN_CART:ie,LARGE_CARRY_BAG:ae,ADD_HOPE_TEXT:oe}=n.d,le=Object(l.C)(A,"ll"),ne=Object(l.C)(A,"h:mm A"),[de,se]=Object(a.useState)(""),[re,ce]=Object(a.useState)(""),[ue,ve]=Object(a.useState)(0),[me,Oe]=Object(a.useState)(0),[be,je]=Object(a.useState)([]),[pe,he]=Object(a.useState)(!1),ge=Object(v.b)();Object(a.useEffect)((()=>{ge(Object(j.a)({object:Object(p.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(a.useEffect)((()=>{if(Object(m.hb)(T,E)){let e={setAddHopeDataExistsId:ce,setAddHopeDataPrice:ve},t={setCarryBagDataExistsId:se,setCarryBagDataPrice:Oe};Object(O.i)(d,T,E,ie,e,t,r);let i=Object(m.Tb)(L,T,E);je(i)}}),[d]);const Ne=e=>(e/S).toFixed(2);return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"reciept-header",children:[Object(N.jsx)("span",{className:"your-order",children:Object(u.translateWithI18Next)(Y)}),Object(N.jsxs)("span",{className:"receipt-number",children:[Object(u.translateWithI18Next)(X),"# ",F]})]}),Object(N.jsx)("hr",{className:"horizontal-bar"}),Object(N.jsxs)("div",{className:"reciept-order-detail",children:[Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)($)}),Object(N.jsx)("span",{className:"receipt-sub-detail",children:le+" ".concat(Object(u.translateWithI18Next)(Z)," ")+ne})]}),_&&Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(V)}),Object(N.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===_||void 0===_?void 0:_.addressLines[2])&&Object(N.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[2],", "]}),(null===_||void 0===_?void 0:_.addressLines[1])&&Object(N.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[1],", "]}),(null===_||void 0===_?void 0:_.addressLines[0])&&Object(N.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[0],", "]}),(null===_||void 0===_?void 0:_.state)&&Object(N.jsxs)("span",{children:[null===_||void 0===_?void 0:_.state,", "]}),(null===_||void 0===_?void 0:_.pinCode)&&Object(N.jsxs)("span",{children:[null===_||void 0===_?void 0:_.pinCode,", "]}),(null===_||void 0===_?void 0:_.country)&&Object(N.jsx)("span",{children:null===_||void 0===_?void 0:_.country})]})]}),Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(K)}),Object(N.jsx)("span",{className:"receipt-sub-detail",children:(()=>{var e,t,i,a,o,l,n,d;const r=s()(M,{}),c=s()(C.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===r||void 0===r?void 0:r.paymentType)})),{});return"Only image"===(null===c||void 0===c||null===(e=c.fields)||void 0===e?void 0:e.displayFormat)?Object(N.jsx)("img",{src:null===c||void 0===c||null===(t=c.fields)||void 0===t||null===(i=t.icon)||void 0===i||null===(a=i.fields)||void 0===a||null===(o=a.desktopImage)||void 0===o||null===(l=o.fields)||void 0===l||null===(n=l.file)||void 0===n?void 0:n.url,alt:"paymentMethod"}):Object(N.jsx)("span",{className:"dateCompleted",children:null===c||void 0===c||null===(d=c.fields)||void 0===d?void 0:d.displayName})})()})]}),Object(N.jsxs)("div",{className:"reciept-details-heading",children:[Object(N.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(q)}),null!==R&&void 0!==R&&Object(N.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[R.name,Object(N.jsx)("br",{}),null===R||void 0===R||null===(t=R.address)||void 0===t?void 0:t.addressLines]})]}),Object(N.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(N.jsx)("span",{children:" "}),Object(N.jsxs)("span",{className:"callAndDirection",children:[Object(N.jsxs)("span",{className:"KfcphoneNums",children:[Object(N.jsx)("img",{src:D,alt:"phone",className:"KfcphoneIcon"}),Object(N.jsx)("a",{href:"tel:"+G,className:"anchorTags",children:(e=>{e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)})(G)})]}),Object(N.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>he(!0),children:[Object(N.jsx)("img",{src:y,alt:"phone",className:"KfcDirectionIcon"}),Object(u.translateWithI18Next)(z)]})]})]})]}),Object(N.jsx)("section",{className:"reciept-accordian",children:Object(N.jsx)(o.a,{header:"".concat(be.length," ITEM"),children:be.map((e=>{return Object(N.jsx)("section",{className:"",children:Object(N.jsxs)("div",{className:"reciept-order-item",children:[Object(N.jsxs)("div",{className:"reciept-item-details",children:[Object(N.jsx)("div",{className:"item-count-box mr",children:Object(N.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(N.jsxs)("div",{className:"item-desc-section",children:[Object(N.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(N.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,c()(t,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>"".concat(e.quantity,"x ").concat(e.name))).join())})]})]}),Object(N.jsxs)("span",{className:"item-amount",children:[I,Ne.call(void 0,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(d.id))}),Object(N.jsxs)("div",{className:"reciept-order-detail",children:[Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(Q)}),Object(N.jsxs)("span",{className:"payment-amount",children:[I,Ne(P)]})]}),k&&Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:ee}),Object(N.jsxs)("span",{className:"payment-amount",children:[I,Ne(H)]})]}),f&&(e=>{var t;return null===e||void 0===e||null===(t=e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))))||void 0===t?void 0:t.map(((e,t)=>Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===g.a||void 0===g.a?void 0:g.a.DELIVERY_FEE)}),Object(N.jsxs)("span",{className:"payment-amount",children:[I,Ne.call(void 0,null===e||void 0===e?void 0:e.amount)," "]})]},t)))})(U),f&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===g.a||void 0===g.a?void 0:g.a.IN_DELIVERY_FEE)}),Object(N.jsxs)("span",{className:"payment-amount",children:[I,Ne.call(void 0,null===t||void 0===t?void 0:t.amount)," "]})]})})(U),!f&&(null===U||void 0===U||null===(i=U.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===i?void 0:i.map(((e,t)=>Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(N.jsxs)("span",{className:"payment-amount",children:[I,Ne.call(void 0,e.amount)," "]})]},t)))),W>0&&Object(N.jsxs)("div",{className:"reciept-payment-details",children:[Object(N.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(te)}),Object(N.jsxs)("span",{className:"payment-amount",children:[" ","- ",I,Ne(W)]})]}),"PICKUP"===B.toUpperCase()&&de&&Object(N.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(N.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(ae)}),Object(N.jsx)("span",{className:"payment-amount",id:"amountStyle",children:me})]}),Boolean(re)&&Object(N.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(N.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(oe)}),Object(N.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ue})]}),Object(N.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(N.jsx)("span",{className:"payment-total",children:Object(u.translateWithI18Next)(J)}),Object(N.jsxs)("span",{className:"payment-total-amount",children:[I,Ne(w)]})]}),pe&&Object(N.jsx)("div",{children:Object(N.jsx)(b.a,{"data-testid":"map-modal",isOpen:pe,handleClose:()=>he(!1),OrderReducerData:d})})]})]})}},1272:function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"b",(function(){return v})),i.d(t,"c",(function(){return m})),i.d(t,"a",(function(){return O}));var a=i(21),o=i(9),l=i(6),n=i(0),d=i(61),s=i(5),r=i(1225);const{ANALYTICS_EVENTS:c}=d.a,u=async(e,t)=>{var i;const l=[];l.push({event:e.eventType,[t]:e.selectedData}),console.log(l,"reoder"),await a.a.registerEvent(null===o.a||void 0===o.a||null===(i=o.a.add_to_cart)||void 0===i?void 0:i.name,{data:l[0]},s.Bb)},v=(e,t,i)=>{e&&Object(s.Ob)(Object(l.translateWithI18Next)(t),i)},m=(e,t)=>{const{foodLineItem:i,checkProductPriceAndAvail:a,itemMapById:o,reOrderAnalyticEvent:d}=t,v=null===i||void 0===i?void 0:i.filter((e=>{var t;return a(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,o)}));0!==(null===v||void 0===v?void 0:v.length)&&d&&((e,t,i)=>{const a=window.location.href,o=[...e].map(((e,o)=>{var d,c,u,v,m,O;let b=((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2);const j=[];null===e||void 0===e||null===(d=e.item)||void 0===d||null===(c=d.modGrps)||void 0===c||c.forEach((e=>{var t;j.push(null===e||void 0===e||null===(t=e.modifiers[0])||void 0===t?void 0:t.name)}));const{categoryId:p=n.Fd,categoryName:h=n.Fd}=null!==(u=null===i||void 0===i?void 0:i[null===e||void 0===e||null===(v=e.item)||void 0===v?void 0:v.id])&&void 0!==u?u:{},g=localStorage.getItem(n.lb);return{item_name:Object(s.jb)(null===e||void 0===e||null===(m=e.item)||void 0===m?void 0:m.name,n.Fd),item_id:Object(s.jb)(null===e||void 0===e||null===(O=e.item)||void 0===O?void 0:O.id,n.Fd),item_category:h,price:Object(s.jb)(parseFloat(b),n.Fd),item_variant:Object(s.jb)(j.join(", "),n.Fd),item_list_name:null!==a&&void 0!==a&&a.endsWith(n.b)?g:Object(l.translateWithI18Next)(r.HOMEPAGE_REORDER),item_list_id:p,index:o+1,quantity:null===e||void 0===e?void 0:e.quantity}}));u({eventType:c.ADD_TO_CART,selectedData:{add_to_cart:{items:o}}},n.Tb)})(v,e,o)},O=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NA";await a.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.trackOrder)||void 0===e?void 0:e.name,{data:{event:"trackOrder",orderValue:t}},s.Bb)}},1285:function(e,t,i){"use strict";var a=i(3),o=i(1225),l=i(144),n=i(41),d=i(6),s=i(15),r=i(2);var c=e=>{const{onCancel:t,onContinue:i}=e,{CONTINUE:a,CANCEL:l,ReorderConstants:c}=o,{CLEAR_CART_MSG:u,CLEARE_AWARE_MSG:v,CLEAR_CART_COMPLETE_MSG:m}=c,{CartError:O}=s.a;return Object(r.jsxs)("div",{className:"reorder-modal-container",children:[Object(r.jsxs)("div",{className:"reorder-error-container",children:[Object(r.jsx)("img",{src:O,alt:"error-cart-icon",className:"error-icon mb-3"}),Object(r.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(r.jsx)("span",{children:Object(d.translateWithI18Next)(v)}),Object(r.jsx)("span",{className:"red-text",children:Object(d.translateWithI18Next)(u)}),Object(r.jsx)("span",{children:Object(d.translateWithI18Next)(m)})]})]}),Object(r.jsxs)("div",{className:"reorder-modal-btn",children:[Object(r.jsx)(n.a,{"data-testid":"confirmation-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(d.translateWithI18Next)(l)}),Object(r.jsx)(n.a,{"data-testid":"continue-button",className:"button blackButton blackBorder save-button",onClickHandler:i,children:Object(d.translateWithI18Next)(a)})]})]})},u=i(5),v=i(169),m=i(42),O=i.n(m),b=i(4),j=i(28),p=i(46),h=i(62),g=i(1104),N=i(16),I=i(35),S=i(1272),T=i(12),E=i(24),f=i(85),x=i(120),C=i(414),D=i(113),y=i(0),A=i(394);const{DELIVER_TO:_,TOTAL:R,DISCOUNT:L,SUBTOTAL:P,WHEN:w,PLEASE_REVIEW_YOUR_ORDER:k,TODAY:M,ASAP:F,ITEMS:H,WANT_TO_MODIFY:U,ITEM_ADDED_TO_CART_MSG:W,KEEP_SHOPING:B,ADD_A_COUPON:G,CONTINUE_TO_PAYMEN:Y,PRICE_CHANGE_MAIN:V,PRICE_CHANGE_TEXT:K,UNAVAILABLE:q,TAKEAWAY:z,DINE_IN_TEXT:J,STORE_CLOSED:Q,GENERIC_ERROR:X,GST:Z,CLOSED:$,SET_DISPOSITION:ee,SEARCH_IN_CART:te,LARGE_CARRY_BAG:ie,ADD_HOPE_TEXT:ae,DISPOISTIONUN_AVAL:oe,UNAVAILABLE_ERROR:le,QUICK_ORDER:ne,SCHEDULE_ORDER_DATA:de,CHANGE_ORDER_SETTING:se}=o.ReorderConstants;var re=e=>{var t,i;const{onCancel:l,onContinue:c,onAddCoupon:m,storeInfo:N={},isBasketAdded:de}=e,{summary:se={},service:re=""}=N,{status:ce={}}=Object(u.sd)(se),{currentStatus:ue=""}=Object(u.sd)(ce),ve=ue!==$,me=Object(j.b)(),[Oe,be]=Object(a.useState)(0),[je,pe]=Object(a.useState)(0),[he,ge]=Object(a.useState)(!1),[Ne,Ie]=Object(a.useState)(!0),[Se,Te]=Object(a.useState)(),{userOrderState:Ee,userOrderStateDispatch:fe}=Object(a.useContext)(f.a),{Error:xe}=s.a,[Ce,De]=Object(a.useState)(""),[ye,Ae]=Object(a.useState)(""),[_e,Re]=Object(a.useState)(0),[Le,Pe]=Object(a.useState)(0),[we,ke]=Object(a.useState)([]),[Me,Fe]=Object(a.useState)(!1),[He,Ue]=Object(a.useState)(!1),[We,Be]=Object(a.useState)(!1),[Ge,Ye]=Object(a.useState)(!1),Ve=Object(u.Sd)(Ee.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ee.dispositionNew,{tenantReducer:Ke,postOrderReducer:qe,reorderReducer:ze,cartReducer:Je,profileReducer:Qe,appStateReducer:Xe}=Object(j.c)((e=>e)),{flatResponse:{itemMapById:Ze={}}={}}=null!==(t=Object(j.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{};let $e=Object(d.translateWithI18Next)(Q),et=null===$e||void 0===$e?void 0:$e.replace("%storeName%",null===se||void 0===se?void 0:se.name);const tt=Object(h.g)(),{cartData:it={},qrCodeScanTime:at}=Object(u.sd)(Je),{errors:ot=[]}=Object(u.sd)(it),{tenantId:lt,currencySymbol:nt,currencyConversionFactor:dt,addHope:st,carryBag:rt,showCustomDeliveryFee:ct}=Ke,{orderAccepted:ut={}}=Object(u.sd)(qe),{flatResponse:vt}=ze,{items:mt=[]}=Object(u.sd)(vt),{flatResponse:{itemMapById:Ot={},categoryMapById:bt={}}={}}=Object(u.Pb)(ze),{customerId:jt}=Qe,{userStatus:pt}=Object(u.sd)(Xe),{deliveryAddress:ht={},foodLines:gt=[],subTotal:Nt,total:It,taxLines:St=[],additionalChargeLines:Tt=[],store:Et={},service:ft="",lang:xt="",source:Ct="",catalog:Dt="",inclusiveTaxTotal:yt,discountTotal:At}=ut,{storeId:_t="",address:Rt={}}=Object(u.sd)(Et),Lt={...N,...Et,id:_t,addresses:[{address:{addressLines:[Object(u.ac)(Rt)]},lang:xt}],name:[{lang:xt,value:Et.name}]};Object(a.useEffect)((()=>{if(Object(u.hb)(st,rt)){let e={setAddHopeDataExistsId:Ae,setAddHopeDataPrice:Re},t={setCarryBagDataExistsId:De,setCarryBagDataPrice:Pe};Object(C.i)(ut,st,rt,te,e,t,Ke);let i=Object(u.Tb)(gt,st,rt);ke(i),function(e,t,i,a,o){e||t(i)}(de,Mt,i)}}),[ut]);const Pt=(e,t,i,a)=>{var o;const{id:l="",name:n="",url:d=""}=null!==(o=null===a||void 0===a?void 0:a[null===i||void 0===i?void 0:i.categoryId])&&void 0!==o?o:{};return e.push({Id:t.item.id,quantity:t.quantity,categoryUrl:d,categoryName:n,categoryId:l})},wt=e=>{const t=[];let i=0,a=0;return null===e||void 0===e||e.forEach((e=>{const{isAvailable:o,product:l}=Ft(e.item.id,Ot);"hidden"!==(null===o||void 0===o?void 0:o.toString())&&(o?o&&o!==e.unitPrice?(a+=1,Pt(t,e,l,bt)):Pt(t,e,l,bt):i+=1)})),be(i),pe(a),{unAval:i,itemArr:t}},kt=e=>{var t,i,a,o,l,n;me(Object(I.r)());const d=wt(e);!function(e,t,i,a,o,l){t.unAval!==i.length&&e(Object(I.a)({params:{basketId:a},tenantId:o},t.itemArr,(()=>l(!0))))}(me,d,e,He,lt,Ye);const{futureDates:s,scheduled:r,asap:c}=(null===se||void 0===se?void 0:se.timings)||{},{interval:v=0,startEndTime:m={}}=(null===r||void 0===r||null===(t=r.periods)||void 0===t?void 0:t.length)&&r.periods[0]||{},{from:O,to:b}=m;Object(x.j)(O,b,v,null===c||void 0===c?void 0:c.isAvailable,1===(null===s||void 0===s?void 0:s.length)&&"INDIA"===(null===Ke||void 0===Ke?void 0:Ke.country));let j={time:"ASAP",interval:null===Lt||void 0===Lt||null===(i=Lt.summary)||void 0===i||null===(a=i.timings)||void 0===a||null===(o=a.scheduled)||void 0===o||null===(l=o.periods[0])||void 0===l?void 0:l.interval,date:new Date,selectedTime:"ASAP"};me(Object(D.a)({...pt,localized:!0}));const p="".concat(null===ht||void 0===ht||null===(n=ht.addressLines)||void 0===n?void 0:n.join("")," ").concat(null===ht||void 0===ht?void 0:ht.city," ").concat(null===ht||void 0===ht?void 0:ht.state," ").concat(null===ht||void 0===ht?void 0:ht.country);fe({type:ee,value:{newValue:{type:Object(u.Jb)(ft),store:Lt,date:j.date,time:j.time,interval:j.interval,selectedTime:j.selectedTime,deliveryAddress:p},oldvalue:Ve}}),localStorage.setItem("dispositionNew",JSON.stringify({type:Object(u.Jb)(ft),store:Lt,time:j.time,date:j.date,selectedTime:j.selectedTime,interval:j.interval,deliveryAddress:p})),localStorage.setItem("dispositionOld",JSON.stringify(Ve))};Object(a.useEffect)((()=>{Me&&(Fe(!1),kt(we))}),[Ot,we,Me,de]);const Mt=e=>{var t;const i={storeId:Object(u.ud)(_t),service:ft,channel:E.b.channel,requestedDateTime:{isForNow:!0,futureDateTime:0},customerId:jt,deliveryAddress:{...ht,name:Object(u.ud)(null===ht||void 0===ht?void 0:ht.name),pinCode:Object(u.ud)(null===ht||void 0===ht?void 0:ht.pinCode)},catalog:Dt,lang:xt,source:Ct},a=Object(u.ie)(at),o=localStorage.getItem(y.gd.STORE_ID),l=null===(t=localStorage.getItem(y.gd.DISPOSITION_TYPE))||void 0===t?void 0:t.toLowerCase();a&&at&&(null===i||void 0===i?void 0:i.storeId)===o&&(null===i||void 0===i?void 0:i.service)===l?i.qrOrder={isQROrder:!0,qrScannedTime:at}:me(Object(I.m)("")),me(Object(I.f)({data:i,tenantId:lt,successCallback:null,errorCallback:()=>wt(e)}))};Object(a.useEffect)((()=>{if(de){const{id:e}=it;Ue(e),me(Object(g.b)({tenantId:lt,catalogName:Dt},{storeId:_t,channel:E.b.channel,service:ft},(()=>Fe(!0))))}}),[de,we]);const Ft=(e,t)=>{let i=!1;const a=Object(T.e)(y.sb.lll),o=Object(u.Pb)(null===t||void 0===t?void 0:t[e]),l=Object(u.vb)(null===o||void 0===o?void 0:o.availability,""),n=null===l||void 0===l?void 0:l.availableHours,d=null===n||void 0===n?void 0:n.startTime.time,s=null===n||void 0===n?void 0:n.endTime.time,r=Object(A.j)(Object(u.z)(d),y.sb.lll,1e3*a),c=Object(A.j)(Object(u.z)(s),y.sb.lll,1e3*a);i=Object(T.f)(a,r,c);return(null===o||void 0===o?void 0:o.isHidden)&&(i="hidden"),i&&(i=null===l||void 0===l?void 0:l.price),{isAvailable:i,product:o}},Ht={foodLineItem:we,checkProductPriceAndAvail:Ft,itemMapById:Ot,reOrderAnalyticEvent:We,menuItemsMapById:Ze};Object(a.useEffect)((()=>{let e=function(e,t,i,a,o,l,n){let s=!1,r="";if(t){if(e.length>0)r=Object(d.translateWithI18Next)(X);else if(a>0)r=Object(d.translateWithI18Next)(le);else if(o>0)r=o+" "+Object(d.translateWithI18Next)(K)+" "+Object(d.translateWithI18Next)(V),s=!0;else if(null===l){const e=Object(d.translateWithI18Next)(oe);r=null===e||void 0===e?void 0:e.replace("%disposition%",Object(u.Jb)(n))}}else r=i;return{error:r,isPriceChange:s}}(ot,ve,et,Oe,je,se,re);const t=Object(u.hb)(Oe>0,Oe!==we.length);Ge&&Ie(Object(u.ad)(Object(u.jb)(e.isPriceChange,t),!1,""!==e.error)),Be(Object(u.ad)(Object(u.sb)(e.isPriceChange,t,""===e.error),!0,!1)),ge(""!==e.error),Te(e.error)}),[mt,Oe,je,ve,ot,se,Ge]),Object(a.useEffect)((()=>{Object(S.b)(he,ne,Se)}),[he]);const Ut=e=>e.toFixed(2);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"ReorderModal",children:[Object(r.jsx)("div",{className:"reorder-header",children:Object(r.jsx)("span",{className:"your-order",children:Object(d.translateWithI18Next)(k)})}),he&&Object(r.jsx)("div",{className:"error-container",children:Object(r.jsx)("div",{className:"error-sub-container",children:Object(r.jsxs)("div",{children:[Object(r.jsx)(p.a,{srcFile:xe,className:"location-alert-icon mr-1"}),Object(r.jsx)("div",{className:"error-msg",children:Se})]})})}),Object(r.jsx)("hr",{className:"horizontal-bar"}),Object(r.jsxs)("div",{className:"reorder-order-detail",children:["delivery"===ft.toLowerCase()&&Object(r.jsxs)("div",{className:"reorder-details-heading",children:[Object(r.jsx)("span",{className:"reorder-sub-heading",children:Object(d.translateWithI18Next)(_)}),Object(r.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(u.a)(ht)})]}),"delivery"!==ft.toLowerCase()&&Object(r.jsxs)("div",{className:"reorder-details-heading",children:[Object(r.jsxs)("span",{className:"reorder-sub-heading",children:["dine-in"===ft.toLowerCase()&&Object(d.translateWithI18Next)(J),"pickup"===ft.toLowerCase()&&Object(d.translateWithI18Next)(z)+" FROM"]}),Object(r.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(u.ac)(Rt)})]}),Object(r.jsxs)("div",{className:"reorder-details-heading",children:[Object(r.jsx)("span",{className:"reorder-sub-heading",children:Object(d.translateWithI18Next)(w)}),Object(r.jsxs)("span",{className:"reorder-sub-detail width-style",children:[Object(d.translateWithI18Next)(M)," ",Object(d.translateWithI18Next)(F)]})]})]}),Object(r.jsx)("section",{className:"reorder-accordian",children:Object(r.jsx)("div",{className:"mt-2",children:Object(r.jsxs)(v.a,{header:"".concat(Object(C.g)(we)," ").concat(H),"data-testid":"order-details",children:[we.map((e=>{var t,i;const{isAvailable:a}=Ft(e.item.id,Ot);return Object(r.jsx)("section",{className:"",children:Object(r.jsxs)("div",{className:"reorder-order-item",children:[Object(r.jsxs)("div",{className:"reorder-item-details mt-2",children:[Object(r.jsx)("div",{className:"item-count-box mr",children:Object(r.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(r.jsxs)("div",{className:"item-desc-section",children:[Object(r.jsx)("span",{className:"item-desc",children:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name}),Object(r.jsx)("span",{className:"item-desc-quantity",children:(o=null===e||void 0===e?void 0:e.item,O()(o,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>" ".concat(e.quantity,"x ").concat(e.name))).join())})]})]}),!a&&Object(r.jsxs)("div",{className:"unavialble-alert",children:[Object(r.jsx)(p.a,{srcFile:xe,className:"location-alert-icon"}),Object(r.jsx)("span",{className:"alert-text",children:Object(d.translateWithI18Next)(q)})]}),a&&a!==e.unitPrice&&Object(r.jsxs)("div",{className:"cart-item-price",children:[Object(r.jsxs)("span",{className:"old-price",children:[nt,Ut(e.unitPrice/dt)]}),Object(r.jsxs)("span",{className:"modified-price",children:[nt,Ut(a/dt)]})]}),a===e.unitPrice&&Object(r.jsxs)("span",{className:"item-amount",children:[nt,Ut((null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.unitPrice)/dt)]})]})});var o})),Object(r.jsxs)("div",{className:"reorder-modification-box mb-4",children:[Object(r.jsx)("span",{className:"reorder-heading mt-3",children:Object(d.translateWithI18Next)(U)}),Object(r.jsx)("span",{className:"reorder-subheading mt-2",children:Object(d.translateWithI18Next)(W)}),Object(r.jsxs)("div",{className:"reorder-modal-btn mt-3 mb-3",children:[Object(r.jsx)(n.a,{"data-testid":"keep-shoping-button",className:"button whiteButton ".concat(ve?"blackBorder":"grayButton"),onClickHandler:ve?()=>{Object(S.d)("keepShopping"),Object(S.c)(dt,Ht),tt.push({pathname:"/menu"}),sessionStorage.setItem("reorderClick",!1)}:null,children:Object(d.translateWithI18Next)(B)}),Object(r.jsx)(n.a,{"data-testid":"add-coupon-button",className:"button whiteButton ".concat(ve?"blackBorder":"grayButton"),onClickHandler:Object(u.ad)(!ve,null,(()=>{m(dt,Ht,S.c)})),children:Object(d.translateWithI18Next)(G)})]})]})]})})}),Object(r.jsxs)("div",{className:"reorder-order-detail",children:[Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:Object(d.translateWithI18Next)(P)}),Object(r.jsxs)("span",{className:"payment-amount",children:[nt,Ut(Nt/dt)]})]}),St&&Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:Z}),Object(r.jsxs)("span",{className:"payment-amount",children:[nt,Ut(yt/dt)]})]}),!ct&&(null===Tt||void 0===Tt||null===(i=Tt.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===i?void 0:i.map((e=>Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:null===e||void 0===e?void 0:e.chargeType}),Object(r.jsxs)("span",{className:"payment-amount",children:[nt,Ut((null===e||void 0===e?void 0:e.amount)/dt)]})]})))),ct&&(e=>e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))).map(((e,t)=>Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:Object(d.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.DELIVERY_FEE)}),Object(r.jsxs)("span",{className:"payment-amount",children:[nt,Ut((null===e||void 0===e?void 0:e.amount)/dt)]})]},t))))(Tt),ct&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:Object(d.translateWithI18Next)(null===b.a||void 0===b.a?void 0:b.a.IN_DELIVERY_FEE)}),Object(r.jsxs)("span",{className:"payment-amount","data-testid":"custom-delivery-fee-amount",children:[nt,Ut(t.amount/dt)]})]})})(Tt),At>0&&Object(r.jsxs)("div",{className:"reorder-payment-details",children:[Object(r.jsx)("span",{className:"payment-type",children:Object(d.translateWithI18Next)(L)}),Object(r.jsxs)("span",{className:"payment-amount",children:["\u2013 ",nt,Ut(At/dt)]})]}),"PICKUP"===ft.toUpperCase()&&Ce&&Object(r.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(r.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(d.translateWithI18Next)(ie)}),Object(r.jsx)("span",{className:"payment-amount",id:"amountStyle",children:Le})]}),Boolean(ye)&&Object(r.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(r.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(d.translateWithI18Next)(ae)}),Object(r.jsx)("span",{className:"payment-amount",id:"amountStyle",children:_e})]}),Object(r.jsxs)("div",{className:"reorder-payment-details mt",children:[Object(r.jsx)("span",{className:"payment-total",children:Object(d.translateWithI18Next)(R)}),Object(r.jsxs)("span",{className:"payment-total-amount",children:[nt,Ut(It/dt)]})]})]})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)(n.a,{"data-testid":"quick-reorder-cancel",className:"button whiteButton blackBorder cancel-btn btn-quick-order",onClickHandler:l,children:Object(d.translateWithI18Next)(o.CANCEL)}),Object(r.jsx)(n.a,{"data-testid":"quick-order-continue-button",className:"button ".concat(Object(u.ad)(Ne,"grayButton","redButton")," "),onClickHandler:Object(u.ad)(Ne,null,(()=>{c(dt,Ht,S.c)})),children:Object(d.translateWithI18Next)(Y)})]})]})},ce=i(450),ue=i(453),ve=i(202),me=i(97);t.a=e=>{const{reorderModalOpen:t,setReorderModalOpen:i,isQuickReorderModalOpen:n,setQuickReorderModalOpen:s,storeInfo:v}=e,{userOrderStateDispatch:m}=Object(a.useContext)(f.a),O=Object(j.b)(),{QUICK_ORDER:b,CHECKOUT:p,CART:g}=o.ReorderConstants,[S,T]=Object(a.useState)(t),[E,x]=Object(a.useState)(Object(u.de)(window.innerWidth)),[C,D]=Object(a.useState)({name:"",payload:{}}),[y,A]=Object(a.useState)(!1),[_,R]=Object(a.useState)(!1),[L,P]=Object(a.useState)(),[w,k]=Object(a.useState)(),[M,F]=Object(a.useState)(!1),[H,U]=Object(a.useState)({}),[W,B]=Object(a.useState)(!1),[G,Y]=Object(a.useState)(!1),V=Object(h.g)(),K=Object(j.c)((e=>e.appStateReducer.userStatus)),{TENDER_DATA:q,PAYMENET_FORM_PAYLOAD:z}=N.a,{cartReducer:J,tenantReducer:Q,profileReducer:X}=Object(j.c)((e=>e)),{tenantId:Z}=Q,{cartData:$={},isValidated:ee=!1,isBasketAdded:te}=J,ie=null===X||void 0===X?void 0:X.basic,{discountLines:ae=[],id:oe}=$||{},[le,ne]=Object(a.useState)(me.c),de=Object(a.useCallback)((e=>{ne&&ne((t=>({...t,...e})))}),[]);Object(a.useEffect)((()=>{Object(u.Td)(ie)&&K.loggedIn&&(()=>{const{phone:e,email:t}=(e=>{const t={...e},{firstName:i="",middleName:a="",lastName:o="",email:l="",phone:n=""}=t;return{fullName:(i||"")+(a||"")+(o||""),email:l,phone:n}})(ie);P(e),k(t);const i=Boolean(t||e);A(i)})()}),[ie]);const se=()=>{const e=Object(u.de)(window.innerWidth);x(e)};Object(a.useEffect)((()=>(window.addEventListener("resize",se),()=>{window.removeEventListener("resize",se)})),[E]),Object(a.useEffect)((()=>{Object(me.x)({cartData:$,checkoutDetails:le,updateCheckoutDetails:de})}),[]);const Oe=()=>{O(Object(I.o)({basketId:oe,tenantId:Z})),s(!1),i(!1),sessionStorage.setItem("reorderClick",!1)},be={id:"reorderModal",role:"dialog",modalTitleId:"reorderModal",show:S,classNames:"Base-modal ".concat(E?"mobile-reorder-modal":"reorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>i(!1),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},je={id:"QuickReorderModal",role:"dialog",modalTitleId:"QuickReorder",show:n,classNames:"Base-modal ".concat(E?"mobile-QuickReorder-modal":"QuickReorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:Oe,modalTitle:Object(d.translateWithI18Next)(b),closeDataTestId:"close-quick-reorder-modal",autoFocus:!0},[pe,he]=Object(a.useState)(!1);return Object(r.jsxs)(r.Fragment,{children:[S&&Object(r.jsx)(l.a,{...be,children:Object(r.jsx)(c,{onCancel:()=>i(!1),onContinue:()=>{if(ae.length>0&&oe){let e=ae.map((e=>e.id));O(Object(I.n)({params:{basketId:oe},tenantId:Z,shouldClearCart:!0},e))}else oe&&O(Object(I.o)({basketId:oe,tenantId:Z}));s(!0),T(!1)}})}),n&&!pe&&Object(r.jsx)(l.a,{...je,children:Object(r.jsx)(re,{storeInfo:v,cartData:$,onCancel:Oe,onContinue:(e,t,i)=>{i(e,t),Object(ve.a)(y,W,B,U,w,L,D,null,null,Y),he(!0),sessionStorage.setItem("reorderClick",!1)},isBasketAdded:te,onAddCoupon:(e,t,i)=>{i(e,t),R(!0),he(!0)}})}),Object(r.jsx)(ce.a,{checkoutDetails:{...le,cartData:$,isClickAddPayment:W,openPaymentPopup:G,tenantId:Z,basketId:oe},isClickAddPayment:W,setIsClickAddPayment:B,updateCheckoutDetails:de,onSubmit:()=>{V.push({pathname:"/".concat(p)})},onClose:()=>{i(!1),he(!1),s(!1)},cartData:$,isValidated:ee,basketId:null===$||void 0===$?void 0:$.id,tenantId:Z,tender:C,setTender:e=>(e=>{D(e),m({type:q,value:{tenderInfo:e,isPaymentAdded:!0}})})(e),isValid:M,setIsValid:F,formPayload:H,setFormPayload:e=>(e=>{U(e),m({type:z,value:{paymentFormPayload:e}})})(e)}),_&&Object(r.jsx)(ue.a,{"data-testid":"coupon-modal",bucketId:oe,isOpen:_,handleClose:e=>{"true"===e?(V.push({pathname:"/".concat(g)}),sessionStorage.setItem("reorderClick",!1)):(he(!1),R(!1),s(!0))}})]})}},961:function(e,t,i){"use strict";i.r(t);t.default={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card",LOGIN_ACTION:"login-actions/registration?client_id=",REDIRECT_PATH_NAME:"redirect_path_name",SIGNOUT:"/signout",OPEN_ID_CONNECT:"/openid-connect/",CODE_CHALLENGE:"code_challenge",CODE_VERIFIER:"code_verifier",REGISTRATIONS:"registrations?"}},962:function(e,t,i){"use strict";i.r(t),i.d(t,"removeCouponHandler",(function(){return u})),i.d(t,"quantityModifierOnClickHandler",(function(){return v}));var a=i(3),o=i(395),l=i(28),n=i(61),d=i(1126),s=i(6),r=i(4),c=i(2);const u=e=>{let{setCartItem:t,item:i,setCouponModal:a,setQuantityActionData:o,quantityAction:l}=e;a(!0),t(i),o(l)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:i,item:a,setCouponModal:o,setQuantityActionData:l,quantityAction:n,event:d,updateItemQuantity:s}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:i,item:a,setCouponModal:o,setQuantityActionData:l,quantityAction:n}):s(a,n,d)};t.default=e=>{var t,i;const{itemQuantity:u,itemCount:m,updateItemQuantity:O,quantityAction:b,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:N=!1,type:I="",paymentDiscountAmounts:S=[],removeSingleItem:T=!1,isAddonsNotAddable:E=!1}=e,{QUANTITY_INCREASE_DECREASE:f}=n.a;var x="".concat(Object(s.translateWithI18Next)(r.a.DECREASE_QUANTITY_BY)," ").concat(p),C="".concat(Object(s.translateWithI18Next)(r.a.INCREASE_QUANTITY_BY),"  ").concat(p);const D=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[y,A]=Object(a.useState)(!1),[_,R]=Object(a.useState)({}),[L,P]=Object(a.useState)(""),w=Object(l.c)((e=>{var t,i,a,o,l,n;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isUpdateQuantityLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isValidateBasketLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isCreateOrderLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isPlaceOrder)}));return Object(c.jsxs)("div",{className:"cart-food-quantity-change",children:[!T&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(c.jsx)(o.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!N&&Object(c.jsx)("span",{children:"-"})}):Object(c.jsx)(o.a,{className:"button quantity-decrease",ariaLable:x,disabled:D||w,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:P,quantityAction:b.Decrease,event:e,updateItemQuantity:O}),"data-testid":"quantity-minus",type:I,children:!N&&Object(c.jsx)("span",{children:"-"})}),Object(c.jsx)("span",{className:"cart-food-quantity",children:m}),Object(c.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(c.jsx)(o.a,{className:".transparent-btn button quantity-increase",ariaLable:C,"data-testid":"quantity-plus",type:I,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:P,quantityAction:b.Increase,event:e,updateItemQuantity:O}),disabled:!!(0!==g&&h+m>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&i.isDiscounteditem||E)||(D||w),children:!N&&Object(c.jsx)("span",{children:"+"})}),y&&Object(c.jsx)(d.a,{cartItem:_,setCouponModal:A,quantityAction:L,updateItemQuantity:O,flag:f})]})}},963:function(e,t,i){"use strict";i.r(t),i.d(t,"SearchStoreModule",(function(){return mt}));var a=i(11),o=i(14),l=i(6),n=i(331),d=i(73),s=i(192),r=i(24),c=i(5),u=i(85),v=i(3),m=i.n(v),O=i(28),b=i(957),j=i(16),p=i(158),h=i(408),g=i(263),N=i(46),I=i(329),S=i.n(I),T=i(41),E=i(1135),f=i(401),x=i(55),C=i(15),D=i(2);const y=e=>!0===e.includes(",")?e.replace(",",", "):e;var A=e=>{var t,i;const{onMapClickHandler:a,startOrderFormSavedAddress:o}=e,{MapImage:n}=C.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:s,START_ORDER_TEXT:r}=p.a,{savedAddresses:c}=Object(O.c)((e=>e.profileReducer)),u=null===(t=c.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i.join(" ");return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"savedAddress-store-count",children:[Object(D.jsxs)("span",{className:"saved-address-count-title",children:[c.length>1?"".concat(Object(l.translateWithI18Next)(s)," "):"".concat(Object(l.translateWithI18Next)(d))," ","(",c.length,")"," "]}),Object(D.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>a(e,"",u),children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:n,alt:"map",className:"map-img"})}),"Map"]})})]}),c.map((e=>Object(D.jsx)("div",{className:"savedAddress-module-card",children:Object(D.jsxs)("div",{className:"inside-card",children:[Object(D.jsxs)("div",{className:"address-section",children:[Object(D.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(D.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)(T.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var i;const{latitude:a,longitude:l}=t.location,n={userLat:a,userLong:l},d=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);o(d,n)})(0,e),"data-testid":"savedaddress-click-test",children:Object(l.translateWithI18Next)(r)})})]})})))]})})},_=i(147);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:i,dispositionType:a,onRetryClickHandler:o,onMapClickHandler:n,showMap:d}=e,{userOrderStateDispatch:s}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:r}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:c,TAKE_AWAY:O,TYPE_TAKE_WAY:b,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:I,CTA2_VIEW_MAP_BUTTON_TEXT:S}=p.a,{Error:E}=C.a,f=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?f:"error-alert-location-popup error-adjust",children:[Object(D.jsx)(N.a,{srcFile:E,className:"location-alert-icon"}),t!==c&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(T.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),i()})(e),children:Object(l.translateWithI18Next)(g)}),a.toLowerCase()!==O.toLowerCase()&&Object(D.jsx)(T.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),s({type:r,value:{dispositionType:b}})})(e),children:Object(l.translateWithI18Next)(I)})]})]}),t===c&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(T.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>o(e),children:Object(l.translateWithI18Next)(h)}),a!==O&&Object(D.jsx)(T.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>n(e),children:Object(l.translateWithI18Next)(S)})]})]})]})})},L=i(0),P=i(132),w=i(80),k=i(394);const{LocationImage:M,GoogleMapLocationImage:F,SuggestionItemSearchPin:H,clearTextIcon:U,Time_Clock:W,Error:B,MapImage:G}=C.a,{MIN_SEARCH_CHARACTER_LIMIT:Y,SUUGESTED_ITEMS_TEXT:V,ALLOWED_SUGGESTION_LIST:K,ALREADY_SERACHED_LOCATIONS:q,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:J,SUGGESTION_ACTIVE_OPACITY:Q,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ie,DELIVERY_UNAVAILABLE:ae,DELIVERY_UNAVAILABLE_WITH_CTA:oe,NOTAVAILABLE:le,CTA1_SEARCH_DIFF_ADDRESS:ne,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:se}=p.a,re=(e,t)=>{t()},ce=e=>{var t;let{eligibleStoreData:i,suggestedAddress:a,setNegativeScenarioAlert:o,getNegativeView:n}=e,d=null===i||void 0===i?void 0:i.filter((e=>{var t,i,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)>0})),s=d.filter((e=>{var t,i,a,o,l,n;const d="CLOSED"===e.summary.status.currentStatus,s=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),r=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(l=o.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN"));return d&&(s||r)})),r=Object(f.a)("delivery",d);var u;return Object(c.qd)(r,Object(c.qd)(!(null!==(t=a[0])&&void 0!==t&&t.description),(null===s||void 0===s?void 0:s.length)===d.length))?(Object(c.hb)((null===s||void 0===s?void 0:s.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?r=ae:null!==(u=a[0])&&void 0!==u&&u.description||(r=oe),o(r),Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(l.translateWithI18Next)(r)),n(r)):void 0},ue=(e,t,i)=>Object(D.jsx)(T.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:i,"data-loading":t,children:Object(l.translateWithI18Next)($)}),ve=(e,t,i)=>{var a,o,l,n,d;return null===e||void 0===e||null===(a=e.toString())||void 0===a||null===(o=a.replace)||void 0===o||null===(l=o.call(a,t,""))||void 0===l||null===(n=l.trim())||void 0===n||null===(d=n.replace)||void 0===d?void 0:d.call(n,i,"")};var me=e=>{var t;const{formContent:i={},userPositionHandler:a,singInClickhandler:o,eligibleStoreData:n}=e,{memberText:d="",singInLink:s={},currentLocationText:b="",addressBoxPlaceHolderForDelivery:p=""}=i,{RETAIN_ADDRESS:E}=L.gd,{SCHEDULE_ORDER_DATA:C,DISPOSITION_METHOD:y}=j.a,_=Object(O.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(c.sd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:oe={},dispositionStateData:me={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Ne]=Object(v.useState)(!1),[Ie,Se]=Object(v.useState)(!1),[Te,Ee]=Object(v.useState)(!1),[fe,xe]=Object(v.useState)({lat:28.7,lng:77.1}),[Ce,De]=Object(v.useState)(!1),[ye,Ae]=Object(v.useState)(!1),[_e,Re]=Object(v.useState)([]),[Le,Pe]=Object(v.useState)(""),we=Object(v.useRef)(null),[ke,Me]=Object(v.useState)(""),[Fe,He]=Object(v.useState)(""),[Ue,We]=Object(v.useState)(!1),[Be,Ge]=Object(v.useState)(!1),[Ye,Ve]=Object(v.useState)(!1),[Ke,qe]=Object(v.useState)(""),[ze,Je]=Object(v.useState)(!1),{dispositionType:Qe=localStorage.getItem("dispositionType")}=me,[Xe,Ze]=Object(v.useState)({}),$e=Object(O.c)((e=>{var t,i;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(i=t.savedAddressPage)||void 0===i?void 0:i.showStateCityAddAddress})),et=Object(P.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:it}}},postalcodeRemoveRegex:at=null,specialCharRemoveRegex:ot=null}=Object(O.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),lt=Object(O.c)((e=>{var t,i,a,o;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(f.e)(ye,Fe,h.a)}),[ye,Fe]);const nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:Object(c.qd)(Fe,e),onClearTextHandler:mt,onRetryClickHandler:rt,onMapClickHandler:dt,dispositionType:Qe,showMap:Te})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(f.i)(Te,Qe),Ee(!0),He(!1),t&&!pe&&ct(t)},st=e=>{var t;const i=null===(t=e.toString())||void 0===t?void 0:t.split(" "),a=null===i||void 0===i?void 0:i.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===a||void 0===a?void 0:a.join(" ")},rt=e=>{we.current.select(),Ne(!1),De(!1),He(!1),Ae(!1)},ct=async function(e,t,i){var o;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Je(!1),qe(""),Object(c.hb)(null===t,null===i)&&(null===(o=_e[0])||void 0===o?void 0:o.description)&&Ae(!0),We(!0),De(!0);const n=await Object(I.geocodeByAddress)(e),d=await Object(I.getLatLng)(n[0]);it&&et(Object(w.d)({key:L.se.LAT_LONG,value:d})),xe(d),ut(e);const s=tt?ve(e,at,ot):st(e);he(s),l||Ne(!0),a({userLat:d.lat,userLong:d.lng}),Se(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(E);Object(f.b)(t,Re,ct)}),[]),Object(v.useEffect)((()=>{let e=null===n||void 0===n?void 0:n.filter((e=>{var t,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i?void 0:i.catalogs[0])!==le})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,i;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)}));ze&&Ke&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),$({type:C,value:{deliveryAddress:Ke,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):Ke&&Ve(!0)}),[n,Ke,ze]),Object(v.useEffect)((()=>{}),[fe]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Ne(!ye):(Ne(!1),Ae(!1),He(""));let e=Object(c.d)(pe,Y);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(Ie){const e=st(ke);he(e),ut(ke),Se(!1)}}),[oe]);const ut=e=>{Object(c.ze)(e,q)},vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(q))).includes(t);var t},mt=()=>{he(""),Ne(!1),He(""),Re(""),Ve(!1)},Ot=async(e,t)=>{xe({lat:t.userLat,lng:t.userLong}),Je(!0);const i=st(e);he(i),Ze(t),ut(e),qe(e),a(t)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"login-section",children:[Object(D.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,o,s)}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(x.o)(),await r.b.BindLocation($e),Object(f.m)(),Re([]),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),a({userLat:e,userLong:t}),Me(r.b.address);const i=st(r.b.address);he(i),ct(r.b.address),Se(!0),Re([{description:r.b.address}])}Object(k.s)($,!r.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(D.jsx)(N.a,{"data-testid":"",srcFile:M,alt:" ",className:"location-img"}),Object(l.translateWithI18Next)(b)]})})]}),Object(D.jsxs)("div",{className:"delivery-address-section",children:[Object(D.jsx)("div",{className:"search-delivery-address",children:Object(D.jsx)("div",{className:"input-delivery-address",children:Object(D.jsx)(S.a,{value:pe,onChange:e=>{We(!1),De(!1);const t=st(e);he(t),((e,t,i)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),i(!1))})(e,Re,Ge),Je(!1),qe(""),Ve(!1)},onSelect:ct,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:re,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:a,loading:o}=e;return Object(D.jsxs)("div",{children:[Object(D.jsx)(N.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(c.ad)(Object(c.qd)(ye,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(l.translateWithI18Next)(p),ref:we})}),pe&&Object(D.jsx)("img",{src:U,className:"clearTextIcon",onClick:mt,alt:"Clear Text Icon"}),Object(c.hb)(Object(c.pc)(i),Be)?Object(D.jsx)("div",{className:"suggestion-list",children:i.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>K.includes(e)))){Re(i);const o=Object(c.ad)(e.active,{backgroundColor:J,opacity:Q},{backgroundColor:X});return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",children:Object(l.translateWithI18Next)(V)}),Object(D.jsx)("div",{style:o,children:Object(D.jsx)("div",{...a(e,{className:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(D.jsx)("div",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:Object(c.ad)(vt(e.description),W,H),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(D.jsx)("form",{children:ue(ge,lt,(e=>{var t;if(e.preventDefault(),ze)return Ye&&Ne(!1),void Ot(pe,Xe);if(!(Ue&&ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt})||(null===(t=_e[0])||void 0===t||!t.description)&&ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt}))){if(He(""),!Ce){var i,a;const e=null===(i=_e[0])||void 0===i?void 0:i.description;return Pe(e),(null===(a=_e[0])||void 0===a?void 0:a.description)&&Ae(!0),Ne(!1),void ct(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}n[0]&&(De(!1),$({type:C,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:n[0]}}))}}))})]})]}),Ye&&!lt&&Object(D.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(D.jsx)(N.a,{srcFile:B,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-address",children:Object(l.translateWithI18Next)(ae)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(T.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ve(!1),children:Object(l.translateWithI18Next)(ne)}),Object(D.jsx)(T.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:y,value:{dispositionType:de}})},children:Object(l.translateWithI18Next)(se)})]})]}),!Te&&Object(D.jsx)("div",{className:"my-3 store-form-separation"}),Te||G||ye||Fe?null:be(dt),!ye&&G&&!Fe&&!Te&&!Ye&&Object(D.jsx)(A,{userPositionHandler:a,startOrderFormSavedAddress:Ot,allowOrderNow:Ye,onMapClickHandler:dt})]}),pe.length>0&&Object(c.hb)(ye,!Fe)?Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(D.jsx)(N.a,{srcFile:B,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-message",children:Object(l.translateWithI18Next)(ee)}),Object(D.jsx)("div",{className:"location-error-address",children:Object(c.qd)(null===(t=_e[0])||void 0===t?void 0:t.description,pe)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(T.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:rt,children:Object(l.translateWithI18Next)(te)}),Object(D.jsx)(T.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const i=ce({eligibleStoreData:n,suggestedAddress:_e,setNegativeScenarioAlert:He,getNegativeView:nt});pe.length>0&&ye&&i||!n[0]&&i||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:C,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(c.sd)(n[0])}}),De(!1))},children:Object(l.translateWithI18Next)(ie)})]})]}):Fe&&nt(),Te?Oe(ye,fe,(e=>{const t=st(e);ct(t),he(t)}),Fe):null]})};function Oe(e,t,i,a){return Object(D.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(c.ad)(e,"pointer-disabled","")),children:Object(D.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(D.jsx)(E.a,{"data-testid":"map-comp",latLongValue:t,passAddress:i,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function be(e){return Object(D.jsx)("div",{className:"map-button-form",children:Object(D.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(D.jsx)("span",{className:"delivery-map-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(l.translateWithI18Next)("map")]})]})})}function je(e,t,i){return Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(l.translateWithI18Next)(e),Object(D.jsx)("span",{onClick:t,children:Object(D.jsx)(g.a,{targetType:i.targetType,href:i.linkUrl,className:"delivery-signin-link",children:Object(l.translateWithI18Next)(i.linkText)})})]})}var pe=i(144);var he=e=>{const{handleClose:t,handleGoBack:i,orderModeTypeItem:a,headerText:o,modalTitleId:l="",showLocationError:n}=e;return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:n,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:i,modalTitle:o,autoFocus:!0,children:a})})},ge=i(62),Ne=i(59),Ie=i(35),Se=i(113),Te=i(1131),Ee=i(120),fe=i(600);const{FavoriteUnfillImage:xe,FavoriteFillImage:Ce,GreenTickImage:De}=C.a,ye=(e,t)=>{var i,a;return"INDIA"===(null===t||void 0===t||null===(i=t.country)||void 0===i?void 0:i.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var Ae=Object(ge.j)((e=>{var t,i,a,o,n;const{storeDistance:d="",addresses:s={},isOpen:r=!1,buttonData:m={},map:b={},storeName:h="",currentMarket:I,storeInfo:S={},channels:E=[],storeStatus:x={},onStoreSelectFinish:C,onClickMapHandler:y,isMapView:A,isMobile:_,isFavoriteStore:R,addToFavoriteHandler:P,removeFromFavoriteHandler:w,loggedIn:k,centerIndex:M,storeLength:F}=e,H=null===S||void 0===S||null===(t=S.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.message,{unavailibilities:U}=(null===S||void 0===S||null===(a=S.summary)||void 0===a||null===(o=a.timings)||void 0===o?void 0:o.scheduled)||{},{buttonText:W=""}=Object(c.sd)(null===m||void 0===m?void 0:m.scheduleOrderButtonData),{buttonText:B="",display:G=!1}=Object(c.sd)(null===m||void 0===m?void 0:m.orderNowButtonData),{userOrderState:Y,userOrderStateDispatch:V}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:K="",SEARCH_ORDER_DATA:q="",SELECTED_TILE_DATA:z="",SCHEDULE_ORDER_TIME_DATA:J="",MENU_URL:Q,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ie}=p.a,{mapText:ae=""}=b,oe=Object(ge.h)(),le=E&&Object(f.g)(E),{services:ne=[]}=Object(c.rd)(le[0]),{operatingHours:de=[]}=null!==x&&void 0!==x&&null!==(n=x.timings)&&void 0!==n&&n.operatingHours?x.timings:[],se=Object(f.c)(r,de,H,U),re=Object(O.b)(),ce=Object(O.c)((e=>e.profileReducer)),ue=Object(O.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=Y.dispositionStateData,{ScheduledDeliveryComponent:me={},showToastAfterLocalization:Oe=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:be}=me;let je=Object(O.c)((e=>e.appStateReducer.userStatus));const pe=Object(c.Sd)(Y.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Y.dispositionNew,he=async(t,i)=>{var a,o,l,n,d,s,r,u,v;t.preventDefault(),t.stopPropagation(),Object(f.l)();const{futureDates:m,scheduled:O={},asap:b}=(null===i||void 0===i||null===(a=i.summary)||void 0===a?void 0:a.timings)||{},{interval:j=0,startEndTime:p={}}=Object(c.hb)(null===O||void 0===O||null===(o=O.periods)||void 0===o?void 0:o.length,O.periods[0]),{from:h,to:g}=p,{unavailibilities:N,unavailibilityType:I}=O;Object(Ee.j)(h,g,j,null===b||void 0===b?void 0:b.isAvailable,1===m.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),N,I);let S={time:"ASAP",interval:null===(l=i.summary.timings.scheduled.periods[0])||void 0===l?void 0:l.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==i.id||pe.deliveryAddress!==(null===Y||void 0===Y||null===(n=Y.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress)){let e=await Object(c.A)(i,Object(c.Mb)(ve),ce.customerId,S);re(Object(Ie.m)("")),re(Object(Ie.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),V({type:X,value:{oldvalue:pe,newValue:{type:ve,store:i,date:S.date,time:S.time,interval:S.interval,selectedTime:S.selectedTime,deliveryAddress:null===Y||void 0===Y||null===(d=Y.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:i,date:S.date,time:S.time,selectedTime:S.selectedTime,interval:S.interval,deliveryAddress:null===Y||void 0===Y||null===(s=Y.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(c.vf)();const T={storeID:null===i||void 0===i?void 0:i.id,disposition:ve,postCode:null===i||void 0===i||null===(r=i.addresses[0])||void 0===r||null===(u=r.address)||void 0===u?void 0:u.pinCode};C(T),V({type:q,value:{showSearchStore:!1}}),V({type:Z,value:{isLocalized:!0}}),Object(c.ce)(null===oe||void 0===oe?void 0:oe.pathname)&&Object(fe.a)(null===i||void 0===i||null===(v=i.summary)||void 0===v?void 0:v.name,ve,Oe),((t,i)=>{var a;let o=Object(c.ad)(t,t,null);V({type:z,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),V({type:$,value:o}),re(Object(Se.a)({...je,localized:!0})),V({type:J,value:{selectedDateTime:i}}),V({type:ee,value:{selectContentTime:"ASAP"}}),V({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP");const l=localStorage.getItem(L.gd.SET_LOCATION),n=null===oe||void 0===oe?void 0:oe.pathname;!Y.fromPdpPage&&!l&&e.history.push({pathname:"".concat(Q),...!Object(c.ce)(n)&&{state:{toastData:{storeName:null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.name,service:ve,showToastAfterLocalization:Oe}}}})})(i,S)},Ne=(e,t)=>{var i,a,o;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),V({type:Z,value:{isLocalized:!0}}),V({type:K,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),V({type:q,value:{showSearchStore:!1}});const{futureDates:l,scheduled:n={},asap:d}=(null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.timings)||{},{interval:s=0,startEndTime:r={}}=Object(c.hb)(null===n||void 0===n||null===(a=n.periods)||void 0===a?void 0:a.length,null===n||void 0===n||null===(o=n.periods)||void 0===o?void 0:o[0])||{},{from:u,to:v}=r,{unavailibilities:m,unavailibilityType:O}=n;Object(Ee.j)(u,v,s,null===d||void 0===d?void 0:d.isAvailable,1===(null===l||void 0===l?void 0:l.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),m,O),Object(f.k)(),(e=>{let t=Object(c.ad)(e,e,null);V({type:z,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),V({type:$,value:t})})(t)},Ae=Object(Te.a)(S),_e=Object(D.jsxs)("div",{className:"store-card ".concat(Object(c.hb)(A,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(A&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(A&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:h})}),Object(D.jsx)("span",{className:"store-distance",children:ye(d,ue)})]}),A&&Object(D.jsx)("span",{className:"store-index",children:"".concat(M+1," of ").concat(F)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Re=ne,!!Object(c.Td)(Re)&&Re.map(((e,t)=>{const{PICK_UP:i,TAKE_AWAY:a}=p.a;return Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:De,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:e===i?Object(l.translateWithI18Next)(a):e})]},t)})))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(c.ac)(s)}),!A&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>y(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:ae})})]}),Object(D.jsxs)("div",{className:"info-timing ".concat(!r&&"info-timingClosed"),children:[r?"":Object(D.jsx)("span",{children:Object(l.translateWithI18Next)(ie)}),Object(D.jsx)("span",{className:"".concat(!r&&"list-circle"),children:se})]}),Object(D.jsx)("div",{className:"facilities",children:Ae&&Ae.map((e=>Object(D.jsx)(N.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[k?R&&Object(D.jsx)(N.a,{"data-testid":"favorite-img",srcFile:Ce,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(D.jsx)(N.a,{"data-testid":"unfavorite-img",srcFile:xe,alt:"favorite",className:"favorite-img",onClick:()=>P()}):"",G&&r&&Object(D.jsx)(T.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(A&&!_?"cardMapView":null),onClickHandler:e=>he(e,S),children:B}),be&&Object(D.jsx)(T.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(c.hb)(A,!_)?"cardMapView":null),onClickHandler:e=>Ne(e,S),children:W})]})]});var Re;return I!==p.a.COUNTRY_CODE_INDIA||r?_e:null})),_e=i(12),Re=i(4);const{FavoriteUnfillImage:Le,FavoriteFillImage:Pe,GreenTickImage:we}=C.a,{BROWSE_MENU:ke,PICK_UP:Me,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:He,STORE_STATUS_CLOSED:Ue,INDIA:We}=p.a,Be=e=>e===Me?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ye=Object(ge.j)((e=>{var t,i,a,o,n,d,s,r,m,b,p,h;const{key:I="",storeName:S="",storeDistance:E="",orderTypes:C=[],addresses:y={},storeStatus:A={},onClickMapHandler:_,isMapView:R,isMobile:P,isFavoriteStore:w,addToFavoriteHandler:k,removeFromFavoriteHandler:M,map:F,loggedIn:H,storeInfo:U={},centerIndex:W,storeLength:B,onStoreSelectFinish:G}=e,Y=((e,t)=>{var i,a,o,l,n;if((null===e||void 0===e||null===(i=e.timings)||void 0===i||null===(a=i.operatingHours[0])||void 0===a?void 0:a.day)===L.cc)return null===(o=e.timings)||void 0===o||null===(l=o.operatingHours[0])||void 0===l||null===(n=l.availableHours)||void 0===n?void 0:n.from;{var d;const i=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,a=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let o=0,l=[],n=[];var s,r,u,v;return null===i||void 0===i||i.forEach(((e,t)=>{var i;(null===e||void 0===e||null===(i=e.day)||void 0===i?void 0:i.toLowerCase())===a&&(o=t,n.push(e))})),null!==n&&void 0!==n&&n.length&&(null===n||void 0===n||n.forEach((t=>{var i;const a=Object(c.E)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(c.lf)(null===t||void 0===t||null===(i=t.availableHours)||void 0===i?void 0:i.from)>a&&l.push(t)}))),null!==l&&void 0!==l&&l.length?null===(s=l[0])||void 0===s||null===(r=s.availableHours)||void 0===r?void 0:r.from:null===(u=i[o<(null===i||void 0===i?void 0:i.length)-1?o+1:o])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(A,L.Rf),V=Y,K=null===A||void 0===A||null===(t=A.timings)||void 0===t||null===(i=t.scheduled)||void 0===i?void 0:i.unavailibilities,q=null===A||void 0===A||null===(a=A.status)||void 0===a?void 0:a.message,{mapText:z=""}=Object(c.sd)(F),{MENU_URL:J,SEARCH_ORDER_DATA:Q,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ie,userOrderStateDispatch:ae}=Object(v.useContext)(u.a);let oe=Object(O.c)((e=>e.appStateReducer.userStatus));const le=Object(O.c)((e=>e.tenantReducer)),ne=Object(O.b)(),{futureDates:de,scheduled:se,asap:re}=Object(c.sd)(null===U||void 0===U||null===(o=U.summary)||void 0===o?void 0:o.timings),{unavailibilities:ce,unavailibilityType:ue}=Object(c.sd)(se),{interval:ve=0,startEndTime:me={}}=Object(c.sd)((null===se||void 0===se||null===(n=se.periods)||void 0===n?void 0:n.length)&&(null===se||void 0===se?void 0:se.periods[0])),{from:Oe,to:be}=Object(c.sd)(me),{dispositionType:je=localStorage.getItem("dispositionType")}=ie.dispositionStateData,pe=Object(c.Sd)(ie.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ie.dispositionNew,he=()=>{var e;return Object(Ee.j)(Oe,be,ve,null===re||void 0===re?void 0:re.isAvailable,1===de.length&&(null===le||void 0===le||null===(e=le.country)||void 0===e?void 0:e.toUpperCase())===We,ce,ue)},ge=(e,t)=>{var i,a,o,l;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ae({type:$,value:{isLocalized:!0}}),ae({type:Q,value:{showSearchStore:!1}}),ae({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:n,scheduled:d,asap:s}=null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.timings,{interval:r=0,startEndTime:c={}}=(null===d||void 0===d||null===(a=d.periods)||void 0===a?void 0:a.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=c;Object(Ee.j)(u,v,r,null===s||void 0===s?void 0:s.isAvailable,1===n.length&&"INDIA"===(null===le||void 0===le?void 0:le.country),ce,ue),Object(f.k)(),(e=>{let t=e||null;ae({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ae({type:X,value:t})})(t);const m={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(o=t.addresses[0])||void 0===o||null===(l=o.address)||void 0===l?void 0:l.pinCode};G(m)},Ne=e=>he().length?"Today":"Tomorrow",Ie=Object(Te.a)(U);return Object(D.jsxs)("div",{className:"store-card ".concat(R&&!P?"store-card-map-view":"store-card-mobile-view"),style:Ge(R,P),"data-testid":"closed-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:S})}),Object(D.jsx)("span",{className:"store-distance",children:ye(E,le)})]}),R&&Object(D.jsx)("span",{className:"store-index",children:"".concat(W+1," of ").concat(B)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(fe=C,fe.map(((e,t)=>Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:we,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:Be(e)})]},t))))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(c.ac)(y)}),!R&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:z})})]}),Object(D.jsx)("div",{className:"info-timingClosed",children:Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:Object(c.jb)((null===(d=A.status)||void 0===d?void 0:d.currentStatus)===He,0===(null===A||void 0===A||null===(s=A.timings)||void 0===s||null===(r=s.scheduled)||void 0===r||null===(m=r.periods)||void 0===m?void 0:m.length))?Object(D.jsx)("span",{className:"closed-text",children:Ue}):""}),Object(D.jsx)("li",{children:(null===K||void 0===K?void 0:K.length)>0&&Object(_e.S)(null===(b=K[0])||void 0===b?void 0:b.to,"HH MM","HH:MM")<=Object(_e.S)(be,"HH MM","HH:MM")?(()=>{var e,t,i,a,o,l;return q===L.Hc?"Open Today ".concat((null===(e=K[0])||void 0===e?void 0:e.from)&&Object(_e.S)(null===(t=K[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):q===L.Ic?"Open ".concat(Ne(null===(i=A.timings)||void 0===i||null===(a=i.scheduled)||void 0===a||a.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a")):"Open Today ".concat((null===(o=K[0])||void 0===o?void 0:o.to)&&Object(_e.S)(null===(l=K[0])||void 0===l?void 0:l.to,"hh mm","hh:mm a"))})():"Open ".concat(Ne(null===(p=A.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a"))})]})}),Object(D.jsx)("div",{className:"facilities",children:Ie&&Ie.map((e=>Object(D.jsx)(N.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2",children:[H&&(w?Object(D.jsx)(N.a,{"data-testid":"favorite-img",srcFile:Pe,alt:"favorite",className:"favorite-img",onClick:()=>M()}):Object(D.jsx)(N.a,{"data-testid":"unfavorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>k()})),0===he().length?Object(D.jsx)(T.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,i;const a={storeID:null===U||void 0===U?void 0:U.id,disposition:null===U||void 0===U?void 0:U.service,postCode:null===U||void 0===U||null===(t=U.addresses[0])||void 0===t||null===(i=t.address)||void 0===i?void 0:i.pinCode};Object(x.y)(a),Object(c.wf)(U,ae,pe,je),ne(Object(Se.a)({...oe,localized:!0})),Object(c.vf)(),ae({type:Z,value:{showDisposition:!1}}),ae({type:Q,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(J)})},children:Object(l.translateWithI18Next)(ke)}):Object(D.jsx)(T.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,U),children:Object(l.translateWithI18Next)(Re.a.SCHEDULE_ORDER_BTN)})]})]})]},I);var fe})),Ve=i(417),Ke=i(63);const{Error:qe,LocationImage:ze,MapImage:Je,Union:Qe,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=C.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",it=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",at=e=>{var t,i,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)>0},ot=e=>e?Qe:Je,lt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var nt=Object(ge.j)((e=>{var t;const{formContent:i={},storeData:a=[],eligibleStoreData:o=[],favoriteStoreData:n=[],userPositionHandler:s,singInClickhandler:b,currentMarket:C,storeCardLimit:y=1/0,onStoreSelectFinish:A,handleGoBack:_,noStoresList:P,favoriteStoreHandler:w}=e,{memberText:M="",singInLink:F={},currentLocationText:H="",addressBoxPlaceHolderForSearchStore:U="",mapText:W=""}=i,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:Y,ALREADY_SERACHED_LOCATIONS:V,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:z,BRAND_BLACK:J,STORE_STATUS_OPEN:Q,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ie,CTA2_ORDER_TAKEAWAY:ae,TAKEAWAY_UNAVAILABLE_WITH_CTA:oe,DINE_IN_SERVICE:le,DINE_IN:ne,TYPE_DELIVERY:de,TAKE_AWAY:se}=p.a,{DISPOSITION_METHOD:re}=j.a,{MENU_URL:ce,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:me,DISPOSITION_DATA:Oe,INDIA:be}=j.a,{userOrderState:je}=m.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Ie=localStorage.getItem("dispositionType")}=he,[Se,Te]=m.a.useState(""),[fe,xe]=Object(v.useState)({}),[Ce,De]=Object(v.useState)({}),[ye,_e]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[Pe,we]=m.a.useState([]),[ke,Me]=m.a.useState(!1),[Fe,He]=Object(v.useState)(null),[Ue,We]=Object(v.useState)(Object(c.de)(window.innerWidth));let Be=0;const[Ge,Je]=Object(v.useState)(0),[Qe,tt]=Object(v.useState)(""),[nt,rt]=m.a.useState(!1),[ct,ut]=m.a.useState([]),[vt,mt]=m.a.useState([]),{userOrderStateDispatch:Ot}=Object(v.useContext)(u.a);let bt,jt=0;const pt=Object(O.b)(),ht=Object(O.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:Nt=!1}}},postalcodeRemoveRegex:It=null,specialCharRemoveRegex:St=null}=ht||{};let Tt=0;const[Et,ft]=m.a.useState(!1),xt=Object(O.c)((e=>e.appStateReducer)),{isLoading:Ct}=Object(O.c)((e=>Object(c.sd)(e.LoaderReducer))),{userStatus:Dt={}}=xt,{loggedIn:yt=!1}=Dt,[At,_t]=m.a.useState([]),[Rt,Lt]=m.a.useState(!0),{customerId:Pt}=Ke.a.getInstance(),[wt,kt]=Object(v.useState)(325),[Mt,Ft]=Object(v.useState)(!1),Ht=()=>{const e=Object(c.de)(window.innerWidth);We(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ht),()=>{window.removeEventListener("resize",Ht)})),[Ue]),Object(v.useEffect)((()=>(window.addEventListener("keydown",lt),()=>{window.removeEventListener("keydown",lt)})));const Ut=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ut&&wt!==Ut&&kt(Ut)}),[Ut]);const Wt=async e=>{const t=await Object(I.geocodeByAddress)(e),i=await Object(I.getLatLng)(t[0]);xe(i),De(i),Be=0,Yt(e),Te(e),s({userLat:i.lat,userLong:i.lng}),Me(!1);const a=Boolean(Object(c.hb)(Object(c.qd)(Se,e),Object(c.hb)(0===Be,0===jt)));rt(a)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),Ot({type:me,value:null}),Ot({type:Oe,value:{showDisposition:!1}}),Ot({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ce)})},Gt=(e,t,i)=>Object(D.jsx)("div",{className:"store-card",children:Ie.toUpperCase()===Z?Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(T.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Kt,children:Object(l.translateWithI18Next)(i)})]}):Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(T.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Kt,children:Object(l.translateWithI18Next)(i)}),Object(D.jsx)(T.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),Ot({type:re,value:{dispositionType:se}}),Wt(Se)})(e),children:Object(l.translateWithI18Next)(ae)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Te(e),Wt(e)}}else Wt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Se){let e=o.filter(at);if(e.length>0){let t=e.filter((e=>{var t,i,a,o,l,n;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===Q&&(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(l=o.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)>0}));if(t.length>=y){let e=t.slice(0,y);we(e)}else if(t.length<y){let i=y-t.length,a=e.filter((e=>{var t,i,a,o,l,n;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(l=o.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})).slice(0,i),o=t.concat(a);we(o)}}else Be=0,we([])}else we([]),_t([]),ut([]),rt(!1)}),[o,Se]),Object(v.useEffect)((()=>{if(o.length>0){w({userLat:Ce.lat,userLong:Ce.lng});const e=n.sort(((e,t)=>Object(f.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,i;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus}));_t(t)}}),[o,n.length]),Object(v.useEffect)((()=>{if(ke){const e=Nt?ve(Qe,It,St):Qe;Te(e),Yt(Qe),Me(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Se&&(we([]),ut([]),He(""),_t([]));let e=Object(c.d)(Se,B);Ft(e)}),[pe,Se,ke,Qe]);const Yt=e=>{Object(c.ze)(e,V)},Vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(V))).includes(t);var t},Kt=()=>{Te(""),_t([]),we([]),ut([]),rt(!1),He(""),_e(!1)},qt=Object(v.useCallback)((async()=>{const e=await Promise.all(Pe.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));xe(e)}),[Pe]),zt=Object(v.useCallback)((async()=>{const e=await Promise.all(At.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));xe(e)}),[At]),Jt=()=>{Object(f.i)(ye,Ie),_e(!ye),Le(!ye)},Qt=(e,t)=>{He(e),Je(t)},Xt=()=>{qt(),Le(!0),He(Object(c.sd)(Pe[Ge]))},Zt=async()=>{await zt(),Le(!0),He(Object(c.sd)(At[Ge]))};Object(v.useEffect)((()=>{((e,t,i,a)=>{let{TYPE_TAKE_WAY:o,DINE_IN:l,dispositionType:n,callSelectedStore:d,callSelectedFavStore:s}=a;e?t.length&&[o,l].indexOf(n.toUpperCase())>-1&&d():i.length&&[o,l].indexOf(n.toUpperCase())>-1&&s()})(Rt,Pe,At,{TYPE_TAKE_WAY:Z,DINE_IN:ne,dispositionType:Ie,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=Pe.filter((e=>{var t,i,a,o,l,n;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(l=o.scheduled)||void 0===l||null===(n=l.periods)||void 0===n?void 0:n.length)})),t=Pe.filter((e=>{var t,i,a,o,l,n,d,s,r;const c="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(l=o.status)||void 0===l||null===(n=l.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:m,scheduled:O,asap:b}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=O,{interval:h=0,startEndTime:g={}}=O&&(null===O||void 0===O||null===(s=O.periods)||void 0===s?void 0:s.length)&&(null===O||void 0===O?void 0:O.periods[0]),{from:N,to:I}=g,S=Object(Ee.j)(N,I,h,null===b||void 0===b?void 0:b.isAvailable,1===m.length&&(null===ht||void 0===ht||null===(r=ht.country)||void 0===r?void 0:r.toUpperCase())===be,j,p);return(!S||0===S.length)&&c&&(u||v)}));ut(e),mt(t)}),[Pe,Ge,Fe,P,ne,$,Z,Ie,qt,Rt,At]);const $t=e=>{He("");let t=e?Ge+1:Ge-1;Je(t),((e,t,i,a,o)=>{t(!0===e?Object(c.sd)(i[o]):null===a||void 0===a?void 0:a[o])})(Rt,He,Pe,At,t)},ei=e=>{Lt(e)},ti=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},ii=e=>{ti(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Pt,dispatch:"dispatch"})),ft(!0)},ai=e=>{ti(),pt(Object(d.x)({tenantId:gt,customerId:Pt,storeId:Object(c.sd)(e.id),dispatch:"dispatch"})),ft(!1)};Object(v.useEffect)((()=>{Et&&Ne.b.dark(Object(D.jsxs)("div",{className:"img-text-div",children:[Object(D.jsx)(N.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ne.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[n.length]),Object(v.useEffect)((()=>{0!==Be||0!==jt||!nt||P||Ct||(Ie.toUpperCase()===Z?Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(oe)):Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(ie)))}),[Be,jt,nt,P,Ct]);const oi=(e,t)=>{var i,o,l,n;const d=(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)===Q,s=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:r=[]}=s[0],u="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:d?Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:C,isOpen:d,isMapView:!0,onStoreSelectFinish:A,isMobile:Ue,centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},t):Object(D.jsx)(Ye,{orderTypes:r,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:A,isMobile:Ue,isMapView:!0,storeInfo:e,mapText:W,onClick:()=>{Jt(),qt()},...a[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},u)})},li=At.map(((e,t)=>{var i,o,l,n;if((null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)===Q){var d,s;const i=(null===(d=e.summary)||void 0===d||null===(s=d.status)||void 0===s?void 0:s.currentStatus)===Q;return i&&Tt++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:C,isOpen:i,onStoreSelectFinish:A,isMobile:Ue,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)}},t)})}if((null===(l=e.summary)||void 0===l||null===(n=l.status)||void 0===n?void 0:n.currentStatus)===$){Tt++;const i=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:o=[]}=i[0],l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ye,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)},onStoreSelectFinish:A,storeInfo:e,...a[0]},l)})}})),ni=Pe.map(((e,t)=>{var i,o,l,d;if(Se||we([]),Be>=y||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(l=o.scheduled)||void 0===l||null===(d=l.periods)||void 0===d?void 0:d.length))return null;{var s,r;const i=(null===(s=e.summary)||void 0===s||null===(r=s.status)||void 0===r?void 0:r.currentStatus)===Q;return i&&Be++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:C,isOpen:i,onStoreSelectFinish:A,isMobile:Ue,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)}},t)})}})),di=()=>{let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie;if(bt=Object(f.a)(e,o),bt)return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:bt,onClearTextHandler:Kt,dispositionType:Ie,handleGoBack:_})})},si=()=>{if(Pe.length===vt.length&&vt.length>0){let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie,t=Object(f.a)(e,o);return Object(c.Ob)(Object(l.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(l.translateWithI18Next)(t)),di()}if(Pe.length===ct.length&&ct.length)return ri;{let e=-1!==Ie.toLowerCase().indexOf("dine")?le:Ie;return Pe.length&&(bt=Object(f.a)(e,Pe),bt)?di():(Be<5&&ni.push(ri),ni)}},ri=ct.map(((e,t)=>{const i=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:o=[]}=Object(c.rd)(i[0]);if(Se||we([]),jt>=y-Be)return null;{jt++;const i="".concat(e.name[0].value,"_").concat(t),l=Pe.findIndex((t=>t.id===e.id));return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ye,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,loggedIn:yt,onClickMapHandler:()=>{Qt(e,l),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)},onStoreSelectFinish:A,storeInfo:e,...a[0]},i)})}})),ci=()=>{switch(Ie.split("-").join(" ").toUpperCase()){case Z:return Object(l.translateWithI18Next)(oe);case ne:return Object(l.translateWithI18Next)(ie);default:return null}},ui=()=>{Je(0),Jt(),((e,t,i)=>{!0===e?t():i()})(Rt,qt,zt)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"store-count",children:[Object(D.jsx)("span",{className:"member-signin",children:!yt&&Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(l.translateWithI18Next)(M),Object(D.jsx)("span",{onClick:b,children:Object(D.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(l.translateWithI18Next)(F.linkText)})})]})}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(x.o)(),await r.b.BindLocation(),Object(f.m)(),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),Be=0,xe({lat:e,lng:t}),_e(!1),s({userLat:e,userLong:t}),rt(!0),Te(r.b.address),tt(r.b.address),Me(!0)}Object(k.s)(Ot,!r.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(D.jsx)(N.a,{"data-testid":"",srcFile:ze,alt:"location",className:"location-img"}),Object(l.translateWithI18Next)(H)]})})]}),Object(D.jsx)("div",{className:"search-address",children:Object(D.jsx)("div",{className:"input-address",children:Object(D.jsx)(S.a,{"data-testid":"handle-select",value:Se,onChange:e=>{e||Kt(),Te(e),Object(c.pc)(e)<3&&Ft(!1)},onSelect:Wt,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:a,loading:o}=e;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"".concat(bt||0===Be&&0===jt&&nt&&P&&!Pe.length?"search-container-data error-border":"search-container-data"),children:[Object(D.jsx)(N.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(l.translateWithI18Next)(U)})}),Se&&Object(D.jsx)("img",{"data-testid":"clear-text-icon",src:Ve.a,className:"clearTextIcon",onClick:()=>Kt(),alt:"Clear Text Icon"})]}),!!Object(c.hb)(Object(c.pc)(i),Mt)&&Object(D.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map(((e,t)=>{var i;if(null!==e&&void 0!==e&&null!==(i=e.types)&&void 0!==i&&i.some((e=>Y.includes(e)))){const i=e.active?{backgroundColor:q,opacity:z}:{backgroundColor:J};return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(l.translateWithI18Next)(G)}),Object(D.jsx)("div",{style:i,children:Object(D.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...a(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment",children:[Object(D.jsx)("div",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:Vt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(D.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(Se,ye,X,Jt,qt),Object(D.jsxs)("form",{className:"form",children:[Object(D.jsxs)("div",{className:"store-count",children:[!!Be&&Object(D.jsx)("span",{"data-testid":"tab-open-store",className:it(yt,Rt),onClick:()=>{Je(0),ei(!0)},children:yt?Object(D.jsxs)("span",{children:[" ","".concat(Object(l.translateWithI18Next)("nearYou"))," (",Be+jt,")"]}):Object(D.jsxs)("span",{children:[Be+jt," ","".concat(Object(l.translateWithI18Next)("nearYou"))]})}),!!jt&&Pe.length===ct.length&&Pe.length!==vt.length&&Object(D.jsx)("span",{"data-testid":"tab-closed-store",className:it(yt,Rt),onClick:()=>{Je(0),ei(!0)},children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Be&&0===jt&&nt&&P&&Object(D.jsx)("span",{className:"store-count-title",children:"".concat(Object(l.translateWithI18Next)("nearYou")," (").concat(Be,")")}),st(Be,jt,yt,Tt,{firstTab:Rt,setCenterIndex:Je,handleTabChange:ei}),(!!Be||!!jt)&&Pe.length!==vt.length&&Object(D.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ui()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:ot(ye),alt:"map",className:"map-img"})}),ye?Object(l.translateWithI18Next)(X):W]})}),0===Be&&0===jt&&nt&&P&&Object(D.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ui()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:ot(ye),alt:"map",className:"map-img"})}),ye?Object(l.translateWithI18Next)(X):Object(l.translateWithI18Next)(W)]})})]}),ye?Object(D.jsx)("div",{className:"order-button-section",children:0===Be&&0===jt&&nt&&P&&Object(D.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:ci()}),Object(D.jsx)(T.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(l.translateWithI18Next)(ee)})]})})}):Object(D.jsxs)(D.Fragment,{children:[Object(c.hb)(!Ct,Object(c.hb)(Rt,0!==Be||0!==jt||!nt||P||Pe.length?si():Gt(ci,Bt,te))),yt&&!Rt&&Object(D.jsx)("div",{className:"order-button-section",children:li})]}),Object(D.jsx)("div",{className:"clearfix"})]})]}),ye&&Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"".concat((null===Ie||void 0===Ie?void 0:Ie.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(E.a,{latLongValue:fe,loadingElement:Object(D.jsx)("div",{style:{height:"100%"}}),containerElement:Object(D.jsx)("div",{style:{height:"400px"}}),mapElement:Object(D.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Te(e)},isVisible:Ie.toUpperCase()===Z||Ie.toUpperCase()===ne,isMobile:Ue,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(c.ad)(Rt,(e=>{const t=Pe.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Xt(),Je(t))}),(e=>{((e,t,i,a,o)=>{const l=e.findIndex((e=>e.location.latitude===a.lat()&&e.location.longitude===a.lng()));l>-1&&(o===l&&t(),i(l))})(At,Zt,Je,e,Ge)})),storeCardHeight:wt}),Re&&Fe&&Ue?!bt&&oi(Fe,"Selected-Card"):null]}),Re&&Fe&&!Ue?Object(c.hb)(Pe.length===ct.length,Rt)&&!bt&&((e,t)=>{const i=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:o=[]}=Object(c.rd)(i[0]),l="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ye,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:Ue,isMapView:!0,onStoreSelectFinish:A,onClick:()=>{Jt(),qt()},storeInfo:e,...a[0],centerIndex:Ge,storeLength:Object(c.ad)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===At||void 0===At?void 0:At.length)},l)})})(Fe,"Selected-Card")||oi(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,i,a,o){return Object(D.jsx)(D.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(D.jsxs)("div",{className:"enter-your-address-section",children:[Object(D.jsx)("span",{className:"search-store-text",children:Object(l.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsx)("div",{"data-testid":"show-list-map",className:Object(c.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&a(),o()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(N.a,{"data-testid":"",srcFile:ot(t),alt:"map",className:"map-img"})}),Object(c.ad)(t,Object(l.translateWithI18Next)(i),Object(l.translateWithI18Next)("map"))]})})]})})}function st(e,t,i,a,o){let{firstTab:n,setCenterIndex:d,handleTabChange:s}=o;return Object(D.jsx)(D.Fragment,{children:(!!e||!!t)&&i&&Object(D.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(n),onClick:()=>{d(0),s(!1)},children:"".concat(Object(l.translateWithI18Next)("savedkfc")," (").concat(a,")")})})}var rt=i(1154),ct=i(86),ut=i(1117),vt=i(133);const mt=e=>{var t;const{contentData:i={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:N,ANALYTICS_LOCALISATION_SIGNIN:I}=j.a,S=Object(O.b)(),{COUNTRY_CODE:T,STORE_CARD_LIMIT:E,TYPE_TAKE_WAY:x,PICK_UP:y,TENANT_ID:A,TENATNT_SESSION_ID:_,TYPE_DELIVERY:R}=p.a,{userOrderState:P,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:M,searchStoreData:F,showLocationConfirmModal:H}=P,{dispositionType:U=localStorage.getItem("dispositionType")}=Object(c.ud)(M),{currentMarket:W=T,storeCardLimit:B=E,storeStatusUrl:G="".concat(Object(o.a)(a.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:Y=A,tenantSessionID:V=_}=F,{searchStoreHeaderText:K="",deliveryHeaderText:q="",searchStoreModalContent:z={}}=i,{formContent:J={},locationsContent:{storeData:Q=[]}}=z,[X,Z]=m.a.useState([]),[$,ee]=m.a.useState({}),[te,ie]=m.a.useState([]),[ae,oe]=m.a.useState([]),{storeSearch:le={},tenantId:ne,componentOptions:de}=Object(O.c)((e=>Object(c.sd)(e.tenantReducer))),{storesWithStatus:se=[],isStoreStatusLoading:re=!1}=Object(O.c)((e=>Object(c.sd)(e.storesReducer))),{allStores:ce=[]}=Object(O.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:Oe,maxPickupDistanceMtrs:be,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=le,Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:N,value:{showDisposition:!1}}),w({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ne(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ie=e=>{e.stopPropagation(),e.preventDefault(),w({type:N,value:{showDisposition:!0}}),w({type:g,value:{showSearchStore:!1}})},Se=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(I,JSON.stringify(!0)),Object(f.j)(),setTimeout((()=>{Object(ct.c)()}),500)},Te=Object(O.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(k.f)(w,H)}),[]),Object(v.useEffect)((()=>{Ee({userLat:$.userLat,userLong:$.userLong})}),[Te.length]),Object(v.useEffect)((()=>{ce.length>0&&ye(ce)}),[ce]),Object(v.useEffect)((()=>{se.length>0&&we(se)}),[se]),Object(v.useEffect)((()=>{(null===U||void 0===U?void 0:U.toUpperCase())===R&&Ae(ae)}),[ae]);const Ee=e=>{Object(rt.a)(e.userLat,e.userLong,Te,fe)},fe=(e,t)=>{const i=Object(c.ad)((null===U||void 0===U?void 0:U.toUpperCase())===x,y,U),a=G.replace("{channel}",r.b.channel).replace("{service}",i).replace(" ","-"),o=Object(b.a)();Object(f.h)(e,a.toLowerCase(),Y,V||Object(b.a)(),o,xe)},xe=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:i,amenities:a,dname:o,id:l,location:n}=e.storeBasic;return{...e,id:l,location:n,name:o,amenities:a,addresses:i,additionalAttributes:t,storeBasic:{}}}));ie(t)},Ce=e=>{S(Object(n.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),De(e.userLat,e.userLong),setTimeout((()=>{S(Object(n.a)())}),2e3)},De=(e,t)=>{const i={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},a=s.a.calculateGH(i);S(Object(d.v)(null===a||void 0===a?void 0:a.length))},ye=e=>{const t=Object(c.Mb)(U.toUpperCase()),i=e.filter((e=>{var t,i;return Object(c.qe)(e.id)&&Object(c.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(c.qe)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)})),a={stores:i,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(c.ad)(U.toUpperCase()===R,Oe,be),noOfStores:Object(c.ad)(U.toUpperCase()===R,2,i.length),channel:r.b.channel},o=s.a.checkAndProceed(a);oe(o),U.toUpperCase()===R?Ae(o):Pe(o,t)},Ae=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var i,a;t.push({lat:null===(i=e.location)||void 0===i?void 0:i.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),Object(rt.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:i}=e;const a=Object(c.Mb)(U.toUpperCase()),o={stores:Le(t,ae),numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},l=s.a.getSortedNearbyStores(o);(null===l||void 0===l?void 0:l.length)>0&&Pe(l,a)},Le=(e,t)=>null===t||void 0===t?void 0:t.map(((t,i)=>({...t,distance:e[i]}))),Pe=(e,t)=>{const i={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:r.b.channel,service:t}))),store:e,tenantId:ne,setStatusFlag:!1,isFavoritePage:!1};S(Object(d.d)(i,null))},we=e=>{let t=e.filter((e=>{var t,i,a,o,l,n,d,s,r,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(n=l.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(r=s.timings)||void 0===r||null===(c=r.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const i=Object(c.Mb)(U.toUpperCase());if(ge&&U.toUpperCase()===R){const e={stores:t,numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},a=s.a.getSortedNearbyStores(e);t=(null===a||void 0===a?void 0:a.length)>0?a:[]}Z(t)},ke=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Me}=L.gd,{configSearchScreen:Fe=localStorage.getItem(Me)}=F,He="".concat(null===U||void 0===U?void 0:U.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:Ue}={...null===vt.d||void 0===vt.d?void 0:vt.d[He],...null===ke||void 0===ke?void 0:ke[He]},{Error_Yellow:We}=C.a||{},{LOCATION_BLOCKED_ERROR:Be,KFC_URL:Ge}=Re.a,Ye=Object(c.Je)(H,Ue),Ve=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ut.a,{show:Ye,errorMsg:Object(k.G)(Be,Ge),errImage:We,cssClass:"location-blocked"}),(null===U||void 0===U?void 0:U.toUpperCase())===R?Object(D.jsx)(me,{singInClickhandler:Se,formContent:J,storeData:Q,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:B,userPositionHandler:Ce,currentMarket:W}):Object(D.jsx)(nt,{singInClickhandler:Se,formContent:J,storeData:Q,eligibleStoreData:X,noStoresList:re,storeCardLimit:B,userPositionHandler:Ce,currentMarket:W,onStoreSelectFinish:h,handleGoBack:Ie,favoriteStoreData:te,favoriteStoreHandler:Ee})]});return Object(D.jsx)(he,{handleClose:Ne,orderModeTypeItem:Ve,showLocationError:Ye,headerText:Object(c.ad)((null===U||void 0===U?void 0:U.toUpperCase())===R,Object(l.translateWithI18Next)(q),Object(l.translateWithI18Next)(K)),handleGoBack:Ie,modalTitleId:"search-store"})};mt.defaultProps=h.a;t.default=mt},964:function(e,t,i){"use strict";i.r(t),i.d(t,"ScheduleOrder",(function(){return m}));var a=i(3),o=i.n(a),l=i(1143),n=i(144),d=i(2);var s=e=>{const{handleClose:t,ScheduleOrderForm:i,headerText:a,modalTitleId:l="",handleGoBack:s}=e;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:l,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:s,children:i})})},r=i(85),c=i(16),u=i(6),v=i(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:i,userOrderStateDispatch:o}=Object(a.useContext)(r.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:m}=c.a,{scheduleOrderData:O}=i,{changeFlow:b=!1}=O,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),o({type:m,value:{selectedStoreInfo:i.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),o({type:n,value:{showSearchStore:!1}})};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(l.a,{onStoreSelectFinish:t});return Object(d.jsx)(s,{handleGoBack:()=>{o({type:n,value:{showSearchStore:!0}}),o({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:b?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},968:function(e,t,i){"use strict";i.r(t),i.d(t,"addressTitle",(function(){return ue})),i.d(t,"DeliveryAddressSearchFormModule",(function(){return ve}));var a=i(3),o=i.n(a),l=i(28),n=i(267),d=i(0),s=i(85),r=i(16),c=i(6),u=i(331),v=i(1185),m=i(73),O=i(66),b=i(5),j=i(415),p=i(399);const h=e=>{let{localizationData:t={},address:i={}}=e;const{chome:a="",cityTown:o="",postalCode:l="",prefecture:n=""}=i;return{chome:null===a||void 0===a?void 0:a.replace(/\s+/g,""),cityTown:o,localizationData:t,postalCode:null===l||void 0===l?void 0:l.replace("-",""),prefecture:null===n||void 0===n?void 0:n.replace(/\s+/g,"")}},g=e=>{let{chome:t="",cityTown:i="",localizationData:a={},prefecture:o=""}=e;const{[o]:{[i]:l}={}}=a;return(Object(b.mf)(l)||{})[t]},N=e=>{let{chome:t="",localizationData:i={},postalCode:a=""}=e;const{[a]:o={}}=i;return Object(b.mf)(o)[t]};var I=i(17),S=i(269),T=i(328),E=i(20),f=i.n(E),x=i(63),C=i(4),D=i(2);const y=e=>{const{loggedIn:t=!1,formContent:i={},storeSelection:a}=e,{signInLink:o}=a,{memberText:l="",singInLink:n={}}=i;return Object(D.jsx)("div",{className:"login-section",children:o&&Object(D.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(p.g)(l,p.h,n)})})},A=o.a.memo(y);var _=i(1147);const R=e=>{const{defaultSelectedTabIndex:t,onTabSelection:i,tabsList:o}=e,[l,n]=Object(a.useState)(t);return Object(D.jsx)("div",{className:"toggle-tabs",children:o.map(((e,t)=>Object(D.jsx)("div",{className:"toggle-tabs-container",children:Object(D.jsx)("button",{className:"toggle-tabs-button ".concat(t===l?"selected":""),"aria-pressed":t===l,onClick:()=>(e=>{e!==l&&(n(e),i(e))})(t),children:Object(D.jsx)("span",{className:"toggle-tabs-button-text",children:Object(c.translateWithI18Next)(e.title)})})},e.id)))})};R.defaultProps={defaultSelectedTabIndex:0,onTabSelection:()=>null,tabsList:[]};var L=R,P=i(15);const{SearchIconGrey:w,SingleArrow:k,WhiteCloseButton:M}=P.a,F=e=>{const{cssClass:t,dropdownId:i,dropdownList:o,dropdownTitleText:l,enableSearch:d,onDropdownSelection:s,selectedText:r}=e,[u,v]=Object(a.useState)(o),[m,O]=Object(a.useState)(!1),[b,j]=Object(a.useState)(!1),[p,h]=Object(a.useState)(""),g=Object(a.useRef)(),N=Object(a.useCallback)((e=>{e&&e.focus()}),[]);Object(a.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const I=e=>{var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const i=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"";h(i),(e=>{const t=e.toLowerCase();let i=o;t&&(i=null===o||void 0===o?void 0:o.filter((e=>-1!==e.toLowerCase().indexOf(t)))),v(i)})(i)},S=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),h(""),v(o)},T=e=>{j(e)},E=()=>{O(!m),S()};return Object(D.jsxs)("div",{className:"searchable-dropdown ".concat(t),ref:g,children:[l&&Object(D.jsx)("div",{className:"searchable-dropdown-title","aria-level":"1",role:"heading",children:r!==l||m?l:""}),Object(D.jsxs)("div",{id:i,className:"searchable-dropdown-value","data-testid":"searchable-dropdown-value-id",role:"listbox",tabIndex:"0",onClick:E,children:[Object(D.jsx)("div",{className:"selected-value",children:r===l&&m?"":r}),Object(D.jsx)("img",{src:k,alt:" ",className:"down-arrow-img ".concat(m?"dropdown-open":"")})]}),m&&Object(D.jsxs)("div",{className:"searchable-dropdown-options-container",children:[d&&Object(D.jsx)("div",{className:"searchable-dropdown-form-container",children:Object(D.jsxs)("form",{className:"searchable-dropdown-form",children:[Object(D.jsx)("img",{src:w,alt:" ",className:"search-icon"}),Object(D.jsx)("input",{className:"searchable-dropdown-input","data-testid":"searchable-dropdown-search-input",type:"text",ref:N,placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),value:p,onChange:e=>I(e),onKeyDown:e=>(e=>{var t;"Enter"===e.key||13===e.keyCode?(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||null===(t=e.target)||void 0===t||t.blur()):"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),E())})(e),onFocus:()=>T(!0),onBlur:()=>T(!1)}),(b||p)&&Object(D.jsx)("button",{className:"clear-text","data-testid":"searchable-dropdown-clear-text",onClick:e=>S(e),children:Object(D.jsx)("img",{src:M,alt:" ",className:"search-icon"})})]})}),Object(D.jsx)("ul",{children:null===u||void 0===u?void 0:u.map((e=>Object(D.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),O(!m),s(t),S()})(t,e),className:"searchable-dropdown-option","data-testid":"searchable-dropdown-option-id",children:e},e)))})]})]})};F.defaultProps={cssClass:"",dropdownId:"",dropdownList:[],dropdownTitleText:"",enableSearch:!1,onDropdownSelection:()=>null,selectedText:""};var H=F,U=i(1172);const W=e=>{const{defaultPostalValue:t,verifyPostalCode:i}=e,[o,l]=Object(a.useState)(t),d=Object(a.useRef)(null);Object(a.useEffect)((()=>{t&&l(t)}),[t]),Object(a.useEffect)((()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.focus()}),[]);return Object(D.jsx)("div",{className:"delivery-address-section search-store-postal-content",children:Object(D.jsx)(U.a,{maxLength:8,onClearTextHandler:()=>{i(!1,""),l("")},placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),address:o,inputOnChange:e=>{let t=e.replace(/[^\d ]+/g,"");t=t.length>3?t.replace(/(.{3})/,"$1-"):t;const a=t.length>=8;l(t),i(a,t)},inputRef:d})})};W.defaultProps={defaultPostalValue:"",verifyPostalCode:()=>null};var B=W,G=i(122),Y=i(46),V=i(41),K=i(1186),q=i(80),z=i(132);const{DISPOSITION_METHOD:J}=r.a,{CONFIRM_LOCATION:Q,DELIVERY_SEARCH_TYPE:X,NO_STORE_WITH_DELIVERY:Z,OTHER_DELIVERY_SERVICES:$,SEARCH_DELIVERY_LOCATION:ee,SPECIAL_NOTES:te,STORES_VARY_MESSAGE:ie,SWITCH_TO_TAKE_AWAY:ae,POSTAL_CODES:oe,PREFECTURES:le}=n.b;var ne=e=>{var t;const{changeFlow:i,deliveryLocalizationData:o,formContent:r,getStoreData:u,deliverySearchType:v,onDeliveryTypeChanged:E,isDeliveryLocalizationLoading:y,storesStatusError:R,saveAddressData:P,selectedAddress:w,setSelectedAddress:k,prefectureAddressScreen:M,addressName:F,isPrimaryAddress:U,closeModal:W,modalType:te,address:ne,isAccount:de,addressNameExist:se=!1,updateSetOrderDetails:re,isAddressFromOrderProcessing:ce}=e,ue=M?d.a:"",ve=Object(l.c)((e=>e.appStateReducer.userStatus)),{postalCodePrefix:me,tenantId:Oe="",scheduleOrderDateFormat:be,fieldAddressMaxLengthFlag:je}=Object(l.c)((e=>e.tenantReducer||{})),{headerData:{footer:pe={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),he=Object(b.Yb)(pe),{loggedIn:ge}=Object(b.sd)(ve),{userOrderState:Ne,userOrderStateDispatch:Ie}=Object(a.useContext)(s.a),Se=Object(l.b)(),[Te,Ee]=Object(a.useState)(!1),[fe,xe]=Object(a.useState)(0),[Ce,De]=Object(a.useState)(!1),[ye,Ae]=Object(a.useState)(!1),[_e,Re]=Object(a.useState)(0),[Le,Pe]=Object(a.useState)(w),we=Object(p.c)(),ke=null===v||void 0===v?void 0:v.id,Me=null!==ne&&void 0!==ne&&ne.pinCode?null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE:null===n.b||void 0===n.b?void 0:n.b.ADDRESS,Fe=ne?Me:null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE,He=Math.max(0,we.findIndex((e=>e.id===Fe))),[Ue,We]=Object(a.useState)(!1),Be=Object(p.d)(),[Ge,Ye]=Object(a.useState)(!0),[Ve,Ke]=Object(a.useState)({}),[qe,ze]=Object(a.useState)(!1),Je=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t?void 0:t.isLoading)||!1})),Qe=Object(l.c)((e=>{var t,i;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t||null===(i=t.response)||void 0===i?void 0:i.deliveryAggregators)||{}})),{savedAddresses:Xe}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ze=!(null===Xe||void 0===Xe||!Xe.length||!ge),$e=Object(l.c)((e=>{var t,i;return null===e||void 0===e||null===(t=e.pwaStoragsReducer)||void 0===t||null===(i=t.pwaStorageState)||void 0===i?void 0:i.selectedFavouriteStoreAddress})),et={text:Z,cta:{label:ae}},tt={header:$,notice:ie},it=Object(z.a)();Object(a.useEffect)((()=>{var e;(_e===(null===v||void 0===v||null===(e=v.fieldOrder)||void 0===e?void 0:e.length)||te)&&Ae(!0)}),[v,ye,_e,te]),Object(a.useEffect)((()=>{f()(Qe)&&!Je&&Se(Object(T.d)())}),[Qe,Se,Je]),Object(a.useEffect)((()=>{var e;const t=i?JSON.parse(localStorage.getItem(d.gd.SELECTED_ADDRESS)):{},a=(null===Ne||void 0===Ne||null===(e=Ne.scheduleOrderData)||void 0===e?void 0:e.selectedAddress)||t;var o,l;a&&Object.keys(a).length>0&&(k(a),Re(null===v||void 0===v||null===(o=v.fieldOrder)||void 0===o?void 0:o.length),xe(null===v||void 0===v||null===(l=v.fieldOrder)||void 0===l?void 0:l.length))}),[Le]),Object(a.useEffect)((()=>{ke===I.d.address&&We(!(!(Ge&&w.prefecture&&w.cityTown&&w.chome&&w.streetDetailAddress)||se)),ke===I.d.postalCode&&We(!(!(Ge&&w.postalCode&&w.chome&&w.streetDetailAddress)||se))}),[ke,Ge,w.postalCode,w.prefecture,w.cityTown,w.chome,w.streetDetailAddress,We,se]);Object(a.useEffect)((()=>{const e=ke===I.d.postalCode?oe:le,t=o[e];if(!y&&!f()(t)&&Object.keys(t).length>0){var i;const e=ke===I.d.postalCode?I.d.postalCode:I.d.prefecture,o=null===Ne||void 0===Ne||null===(i=Ne.scheduleOrderData)||void 0===i?void 0:i.storeId,n={[e]:t};let d={};if(null!==w&&void 0!==w&&w[e]&&(o||te)){d={...n};const e=(null===v||void 0===v?void 0:v.fieldOrder)||[];for(let t=1;t<e.length+1;t++){var a,l;const i=(null===(a=e[t])||void 0===a?void 0:a.id)||I.d.selectedStore,o=null===(l=e[t-1])||void 0===l?void 0:l.id,n=w[o].replace("-","");o&&n&&d[o]&&(d[i]=d[o][n])}}Ke({...d,...Ve,...n})}te&&(it(Object(q.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:w})),Pe(w))}),[o,te]);const at=e=>{let{localizationData:t={},selectedAddress:i={}}=e;const{postalCode:a}=i,o=Boolean(a),l=o?N:g;return Object(j.a)(l,h)({address:i,localizationData:t[o?oe:le]})},ot=Object(a.useCallback)((async()=>{it(Object(q.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:w}));const e=Ve[I.d.selectedStore]||at({localizationData:o,selectedAddress:w});if(M&&de||ce){ce&&re({savedAddressSucess:!0});const t=((e,t)=>{const{CITY_CODE:i,CHOME_CODE:a}=n.b,o=F||Object(p.b)(Xe);return{postalCode:null===e||void 0===e?void 0:e.postalCode,addressName:o,isPrimary:U,addressLines:[null===e||void 0===e?void 0:e.prefecture,null===e||void 0===e?void 0:e.cityTown,null===e||void 0===e?void 0:e.chome,null===e||void 0===e?void 0:e.streetDetailAddress,null===e||void 0===e?void 0:e.apartmentName,null===e||void 0===e?void 0:e.roomNumber,null===e||void 0===e?void 0:e.companyName,null===e||void 0===e?void 0:e.specialNote],customProperties:[{key:i,value:null===t||void 0===t?void 0:t[2].toString()},{key:a,value:null===t||void 0===t?void 0:t[1].toString()}]}})(w,e),{customerId:i,phoneNumber:a}=x.a.getInstance(),o=te?{addressId:null===ne||void 0===ne?void 0:ne.id,...t}:t;Se(Object(O.a)({customerId:i,phoneNumber:a,tenantId:Oe,data:o}));const l=te?Object(c.translateWithI18Next)(C.a.ADDRESS_UPDATED):Object(c.translateWithI18Next)(C.a.SAVED_DELIVERY_ADDRESS);Object(b.Cf)(l,"","favorites-added-toast"),re&&re({isOpenSaveDeliveryAddressModal:!1}),!re&&W()}else{let t="";ke===I.d.postalCode&&(t+="".concat(me).concat(null===w||void 0===w?void 0:w.postalCode)),t+="".concat(null===w||void 0===w?void 0:w.prefecture).concat(null===w||void 0===w?void 0:w.cityTown),t+="".concat(null===w||void 0===w?void 0:w.chome).concat(null===w||void 0===w?void 0:w.streetDetailAddress);const i="".concat(null===w||void 0===w?void 0:w.apartmentName," ").concat(null===w||void 0===w?void 0:w.roomNumber," ").concat(null===w||void 0===w?void 0:w.companyName);Object(S.e)(t);const a=Ve[I.d.selectedStore]||e;a?(P(t,i,a),u(a)):Ye(!1)}}),[Ve,w,U,F]);Object(a.useEffect)((()=>{Te&&ot()}),[ot,Te]),Object(a.useEffect)((()=>{Ye(!R)}),[R]),Object(a.useEffect)((()=>{if(te){var e,t,i,a,o,l,n,d;const s=(null===ne||void 0===ne?void 0:ne.pinCode)||"",r=(null===ne||void 0===ne||null===(e=ne.addressLines)||void 0===e?void 0:e[0])||"",c=(null===ne||void 0===ne||null===(t=ne.addressLines)||void 0===t?void 0:t[1])||"",u=(null===ne||void 0===ne||null===(i=ne.addressLines)||void 0===i?void 0:i[2])||"",v=(null===ne||void 0===ne||null===(a=ne.addressLines)||void 0===a?void 0:a[3])||"",m=(null===ne||void 0===ne||null===(o=ne.addressLines)||void 0===o?void 0:o[4])||"",O=(null===ne||void 0===ne||null===(l=ne.addressLines)||void 0===l?void 0:l[5])||"",b=(null===ne||void 0===ne||null===(n=ne.addressLines)||void 0===n?void 0:n[6])||"",j=(null===ne||void 0===ne||null===(d=ne.addressLines)||void 0===d?void 0:d[7])||"";k({...w,apartmentName:m,chome:u,cityTown:c,companyName:b,postalCode:s,prefecture:r,roomNumber:O,streetDetailAddress:v,specialNote:j})}}),[te]);const lt=(e,t,i,a)=>{const l=(e=>e<=1&&ke===I.d.address?Boolean(w[I.d.postalCode]):e<=1&&ke===I.d.postalCode&&Boolean(w[I.d.prefecture]))(i)?{...p.f}:{...w};if(l[t]=e,l[X]=ke,ze(!1),Re(i),xe(i),i<v.fieldOrder.length)for(let o=i;o<v.fieldOrder.length;o++){l[v.fieldOrder[o].id]=""}if(Ye(!0),e){var n,d;const a=(null===(n=v.fieldOrder[i])||void 0===n?void 0:n.id)||I.d.selectedStore,s=e.replace("-",""),r=ke===I.d.postalCode?oe:le,c=o[r],u=Object.keys(Ve).length?null===Ve||void 0===Ve||null===(d=Ve[t])||void 0===d?void 0:d[s]:null===c||void 0===c?void 0:c[s];Ke({...Ve,[a]:u}),i===v.fieldOrder.length&&ke===I.d.postalCode&&u.length>4&&(l[I.d.prefecture]=u[3]||w.prefecture,l[I.d.cityTown]=u[4]||w.cityTown),u||Ye(!1)}!a&&k({...w,...l})},nt=()=>Object(D.jsx)("div",{className:"text-field-container",children:Be.map((function(e){return Object(D.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:e.id,placeholder:Object(c.translateWithI18Next)(e.title)||e.title,value:w[e.id],onChange:t=>((e,t)=>{const i=e.target.value,a={...w};a[t]=i,k({...w,...a})})(t,e.id),maxLength:je?e.maxLegth:255},e.id)}))}),dt=(e,t)=>{const i=e;De(i),i?lt(t,I.d.postalCode,1):lt("",I.d.chome,0)},st=Object(a.useCallback)((e=>{null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);return Object(D.jsxs)("div",{className:"delivery-address-form delivery-module-form","data-testid":"delivery-container",children:[Object(D.jsxs)("div",{className:"delivery-address-form-header",children:[Object(D.jsx)(A,{loggedIn:ge,formContent:r,storeSelection:{signInLink:!0,useMyLocation:!1}}),Object(D.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(ee)||ee}),Object(D.jsx)(L,{onTabSelection:e=>{const t=we[e],i=t.id===w.deliverySearchType;E(t),Re(0),De(Boolean(w[I.d.postalCode])),Ae(!1),Ye(!0),ze(!i),i&&w[t.fieldOrder[0].id]&&Re(fe)},tabsList:we,defaultSelectedTabIndex:He})]}),ke===I.d.address?(()=>{const e=_e+(ye?2:0);return Object(D.jsxs)("div",{className:"address-search-form",children:[v.fieldOrder.map((function(t,i){if(i<=e){var a;const e=null===(a=v.fieldOrder[i])||void 0===a?void 0:a.id,o=Ve[e];if(!o)return null;const l=Object.keys(o),n=!qe&&(null===w||void 0===w?void 0:w[t.id]);return Object(D.jsx)(H,{dropdownList:l,dropdownTitleText:Object(c.translateWithI18Next)(t.title)||t.title,enableSearch:!0,onDropdownSelection:e=>lt(e,t.id,i+1),selectedText:n?null===w||void 0===w?void 0:w[t.id]:Object(c.translateWithI18Next)(t.title)},t.id)}return null})),ye&&nt()]})})():(()=>{const e=Object.keys(Ve[I.d.chome]||[]).sort(),t=e.length>0;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{defaultPostalValue:null===w||void 0===w?void 0:w[I.d.postalCode],verifyPostalCode:dt}),t&&(Ce||ye)&&Object(D.jsx)("div",{className:"address-search-form",children:Object(D.jsx)(H,{dropdownList:e,dropdownTitleText:Object(c.translateWithI18Next)(v.fieldOrder[1].title)||v.fieldOrder[1].title,enableSearch:!0,onDropdownSelection:e=>lt(e,v.fieldOrder[1].id,2),selectedText:(null===w||void 0===w?void 0:w[v.fieldOrder[1].id])||Object(c.translateWithI18Next)(v.fieldOrder[1].title)},v.fieldOrder[1].id)}),t&&ye&&nt()]})})(),Object(D.jsx)(V.c,{className:"delivery-address-form-confirm-cta ".concat(Ue?"":"disabled"),disabled:!Ue,onClick:ot,variant:"secondary","data-testid":"delivery-address-form-confirm-cta",children:Object(D.jsx)("span",{children:Object(c.translateWithI18Next)(Q)||Q})}),Ge?"":Object(D.jsxs)("div",{className:"undeliverable-address",ref:st,children:[Object(D.jsx)(_.a,{show:!0,comingFrom:ue,errorObj:{showError:!0,errMsg:Object(c.translateWithI18Next)(et.text),errDesc:null,firstBtnText:Object(c.translateWithI18Next)(et.cta.label),firstBtnCTA:()=>{Ie({type:J,value:{dispositionType:d.Jb.PICKUP}}),Se(Object(m.u)())}}}),!f()(Qe)&&Object(D.jsxs)("div",{className:"third-party-delivery-services",children:[Object(D.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(tt.header)}),Object(D.jsx)("div",{className:"third-party-delivery-services__list",children:null===Qe||void 0===Qe||null===(t=Qe.items)||void 0===t?void 0:t.map((e=>{var t,i,a,o,l;const n=null===e||void 0===e?void 0:e.fields;return Object(D.jsxs)("a",{href:null===n||void 0===n?void 0:n.link,target:"_blank",rel:"noreferrer",className:"third-party-delivery-services__service",children:[Object(D.jsx)("span",{className:"third-party-delivery-services__image-container",children:Object(D.jsx)(Y.a,{srcFile:"".concat(I.d.https).concat(null===n||void 0===n||null===(t=n.logo)||void 0===t||null===(i=t.fields)||void 0===i||null===(a=i.file)||void 0===a?void 0:a.url),alt:null===n||void 0===n||null===(o=n.logo)||void 0===o||null===(l=o.fields)||void 0===l?void 0:l.title,className:"third-party-delivery-services__images"})}),Object(D.jsx)("span",{className:"third-party-delivery-services__label",children:null===n||void 0===n?void 0:n.name}),Object(D.jsx)(Y.a,{srcFile:he,alt:"",className:"third-party-delivery-services__image"})]},null===n||void 0===n?void 0:n.name)}))}),Object(D.jsx)("p",{className:"third-party-delivery-services__notice",children:Object(c.translateWithI18Next)(tt.notice)})]})]}),Ze&&!M&&Object(D.jsxs)("div",{className:"delivery-saved-addresses",children:[Object(D.jsx)("div",{className:"placesautocomplete-border"}),Object(D.jsx)(K.a,{show:Ze,savedAddresses:Xe,handleSelectAddress:e=>{const t=e||$e;if(t){var i,a,o,l,n,d,s,r;const e=(null===t||void 0===t?void 0:t.name)||"",c=(null===t||void 0===t?void 0:t.pinCode)||"",u=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i[0])||"",v=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a[1])||"",m=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o[2])||"",O=(null===t||void 0===t||null===(l=t.addressLines)||void 0===l?void 0:l[3])||"",b=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n[4])||"",j=(null===t||void 0===t||null===(d=t.addressLines)||void 0===d?void 0:d[5])||"",p=(null===t||void 0===t||null===(s=t.addressLines)||void 0===s?void 0:s[6])||"",h=(null===t||void 0===t||null===(r=t.addressLines)||void 0===r?void 0:r[7])||"";k({...w,addressName:e,apartmentName:b,chome:m,cityTown:v,companyName:p,postalCode:c,prefecture:u,roomNumber:j,streetDetailAddress:O,specialNote:h});const g=at({localizationData:Ve,selectedAddress:w});Ke({...Ve,[I.d.selectedStore]:g}),Ee(!0)}},shouldMaintainAddressObject:!0,scheduleOrderDateFormat:be})]})]})},de=i(144);const se=e=>{const{handleClose:t,handleGoBack:i,orderModeTypeItem:a,headerText:l,modalTitleId:n="",className:d,backDataTestId:s}=e;return Object(D.jsx)(o.a.Fragment,{children:Object(D.jsx)(de.a,{"data-testid":"deliveryAddressSearchFormModal",id:"deliveryAddressSearchForm",role:"dialog",modalTitleId:n,show:!0,classNames:"".concat(d," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:i,modalTitle:l,autoFocus:!0,backDataTestId:s,children:a})})};var re=i(190),ce=i(52);const ue=(e,t)=>e?Object(c.translateWithI18Next)(null===C.a||void 0===C.a?void 0:C.a.ADD_NEW_ADDRESS):Object(c.translateWithI18Next)(t),ve=e=>{var t;const{contentData:i={},deliverySearchType:m,setDeliverySearchType:O,prefectureAddressScreen:j,closeModal:h=(()=>{}),address:g,modalType:N,updateSetOrderDetails:S,isAddressFromOrderProcessing:E}=e,{CHANGE_SCHEDULE_MODE:f,CURRENT_STORE_INFO:x,DISPOSITION_DATA:y,DISPOSITION_METHOD:A,FAV_STORE_NOT_IN_RADIUS:_,FROM_REORDER_MODAL_OPEN:R,REORDER_MODAL_OPEN:L,REORDER_STORE_CHANGED:w,SCHEDULE_ORDER_DATA:k,SEARCH_ORDER_DATA:M,SET_FIND_A_KFC_VIEW:F,SET_ORDER_NOW:H,SET_REDIRECTION_PATH:U,SET_SCHEDULE_ORDER:W,SCHEDULE_ORDER_CLICKED:B,SHOW_SCHEDULE_DISPOSITION:Y}=r.a,{NAME_EXIST_ERROR:V}=re.b,{CONFIG_SEARCH_SCREEN:K,CURRENT_STORE_INFO_STORAGE:J,DISPOSITION_TYPE:Q,RENDER_COMP:X,SET_CART_CLEAR:Z,SELECTED_ADDRESS:$}=d.gd,{POSTAL_CODE_CONTENTFUL:ee,CHOMES_CONTENTFUL:te,DROPOFF_ADDRESS:ie}=n.b,{ENABLE_ADDRESS_LOCALISATION:ae,SHOW_MAP_VIEW_BUTTON:oe}=ce.a,le=Object(l.b)(),{userOrderState:de,userOrderStateDispatch:ve}=Object(a.useContext)(s.a),{dispositionStateData:me,searchStoreData:Oe,scheduleOrderData:be}=de,{changeFlow:je=!1}=be||{},{dispositionType:pe=localStorage.getItem(Q)}=me||"",{componentOptions:he,tenantId:ge,isUberServiceableEnabled:Ne}=Object(l.c)((e=>e.tenantReducer||{})),{savedAddresses:Ie}=Object(l.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Se=null===he||void 0===he||null===(t=he.web)||void 0===t?void 0:t.dispositionConfig,{searchStoreModalContent:Te={}}=i,{formContent:Ee={}}=Te,[fe,xe]=Object(a.useState)(!1),{configSearchScreen:Ce=localStorage.getItem(K)}=Oe,De="".concat(null===pe||void 0===pe?void 0:pe.toUpperCase(),"_").concat(Ce),ye=Object(b.Sd)(null===de||void 0===de?void 0:de.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):null===de||void 0===de?void 0:de.dispositionNew,[Ae,_e]=o.a.useState(null===g||void 0===g?void 0:g.name),[Re,Le]=o.a.useState(!1),[Pe,we]=Object(a.useState)(!1),{modalHeaderTitle:ke,shouldShowDisposition:Me,shouldShowSearchStore:Fe}={...null===v.b||void 0===v.b?void 0:v.b[De],...null===Se||void 0===Se?void 0:Se[De]},He=ke,{storesWithStatus:Ue=[],deliveryLocalization:We=null,isDeliveryLocalizationLoading:Be=!0,isStoreStatusLoading:Ge=!1,storesSatusError:Ye=!1}=Object(l.c)((e=>e.storesReducer||{})),[Ve,Ke]=Object(a.useState)(p.f),qe=Object(z.a)(),ze=Object(a.useCallback)((e=>{var t;Ne&&Object(p.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)?(ve({type:k,value:{showScheduleOrderCatering:!1,store:e}}),ve({type:M,value:{showSearchStore:!0,configSearchScreen:v.a}}),ve({type:F,value:{findAKFC:!1}}),ve({type:Y,value:{showSheduleDisposition:!1}}),ve({type:x,value:e}),ve({type:f,value:{changeScheduleModeFlag:!1}}),ve({type:B,value:{scheduleModeClicked:!1}}),ve({type:H,value:{showOrderNow:!1}}),ve({type:W,value:{showScheduleOrder:!1}}),ve({type:_,value:{showNotInRadiusError:!1}}),ve({type:ae,value:!1}),ve({type:oe,value:!0})):(ve({type:k,value:{showScheduleOrderCatering:!0,store:e}}),ve({type:M,value:{showSearchStore:!1}}),ve({type:Y,value:{showSheduleDisposition:!0}}),ve({type:x,value:e}),ve({type:f,value:{changeScheduleModeFlag:!1}}),ve({type:B,value:{scheduleModeClicked:!0}}),ve({type:H,value:{showOrderNow:!1}}),ve({type:W,value:{showScheduleOrder:!0}}),ve({type:_,value:{showNotInRadiusError:!1}})),localStorage.setItem(J,JSON.stringify(e))}),[f,x,J,_,B,k,M,H,W,Y,ve]);Object(a.useEffect)((()=>{Ue.length>0&&fe&&!Ge&&ze(Ue[0])}),[pe,fe,Ge,ze,Ue]);const Je=Object(a.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(Z),localStorage.setItem(X,!0),je||ve({type:k,value:{selectedAddress:{}}}),S&&S({isOpenSaveDeliveryAddressModal:!1}),ve({type:y,value:{showDisposition:!1}}),ve({type:A,value:{dispositionType:null===ye||void 0===ye?void 0:ye.type}}),ve({type:M,value:{showSearchStore:!1}}),ve({type:U,value:{redirectionOrder:""}}),ve({type:L,value:{reorderModalOpen:!1}}),ve({type:R,value:{fromReorderFlag:!1}}),ve({type:w,value:{storeChanged:!1}}),ve({type:F,value:{findAKFC:window.location.pathname===d.Ce.FIND_STORE}}),h()}),[je,y,A,null===ye||void 0===ye?void 0:ye.type,R,X,L,w,k,M,Z,F,U,ve]);Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&Je(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[Je]);const Qe=Object(D.jsxs)("div",{className:"address-field-container",children:[j&&Object(D.jsx)("div",{className:"name-field",children:Object(D.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:"name",placeholder:Object(c.translateWithI18Next)(null===C.a||void 0===C.a?void 0:C.a.ADDRESS_NICK_NAME),value:Ae,onChange:e=>_e(e.target.value),onBlur:e=>{const t=Ie.some((t=>t.name===e.target.value));we(!!t)},maxlength:10,errorIcon:P.a.Error,errorIconClassName:"flex-div",helperText:Object(c.translateWithI18Next)(V),helperTextClassName:"error-text",error:Pe})}),Object(D.jsx)(ne,{changeFlow:je,formContent:Ee,dispositionType:null===pe||void 0===pe?void 0:pe.toUpperCase(),deliveryLocalizationData:We,getStoreData:e=>{xe(!0);const[t]=e,i=Object(b.Mb)(pe.toUpperCase()),a=[{id:t}];Object(p.a)(a,i,le,ge)},saveAddressData:(e,t,i)=>{const[a,o,l]=i,n={...Ve,chomeId:o,cityId:String(l)};localStorage.setItem(ie,JSON.stringify(e)),localStorage.setItem($,JSON.stringify(n)),qe(Object(q.d)({key:null===d.se||void 0===d.se?void 0:d.se.SELECTED_ADDRESS,value:n})),ve({type:k,value:{deliveryAddress:e,deliveryAddressLine:t,selectedAddress:n,storeId:a}})},selectedAddress:Ve,setSelectedAddress:Ke,deliverySearchType:m,onDeliveryTypeChanged:e=>{O(e)},isDeliveryLocalizationLoading:Be,storesStatusError:Ye,prefectureAddressScreen:j,addressName:Ae,address:g,modalType:N,isPrimaryAddress:Re,closeModal:h,isAccount:!0,addressNameExist:Pe,updateSetOrderDetails:S,isAddressFromOrderProcessing:E}),j&&Object(D.jsxs)("div",{className:"default-address-section",children:[Object(D.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:Re,defaultChecked:(()=>{const e=!(null!==Ie&&void 0!==Ie&&Ie.length)&&!N;return(null===g||void 0===g?void 0:g.isPrimary)||e})(),onChange:()=>Le(!Re),disabled:Ie.length<1||N&&Ie.length<=1}),Object(D.jsx)("div",{className:"default-label-text",children:Object(D.jsx)("label",{htmlFor:"default-address",children:Object(c.translateWithI18Next)(d.hd)})})]})]});return Object(a.useEffect)((()=>{le(Object(u.b)());const e=(null===m||void 0===m?void 0:m.id)===I.d.postalCode?ee:te;le(Object(T.e)(e))}),[le,null===m||void 0===m?void 0:m.id,ee,te]),Object(a.useEffect)((()=>{!Be&&We&&le(Object(u.a)())}),[Be,We,le]),Object(D.jsx)(se,{handleClose:Je,orderModeTypeItem:Qe,headerText:ue(j,He),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),ve({type:y,value:{showDisposition:Me}}),je||ve({type:k,value:{selectedAddress:{}}}),ve({type:M,value:{showSearchStore:Fe,configSearchScreen:v.a,searchedPlaceNonLocalized:null===Oe||void 0===Oe?void 0:Oe.searchedPlaceNonLocalized}})},modalTitleId:"delivery-address-search-form",className:"search-store-global-container",backDataTestId:"back-btn-global-modal-id"})};ve.defaultProps=n.a;t.default=ve},969:function(e,t,i){"use strict";i.r(t),i.d(t,"getDistanceByLatLong",(function(){return m})),i.d(t,"getGeoCodeByAddress",(function(){return O})),i.d(t,"getGeoLatLngByGeoCode",(function(){return b})),i.d(t,"getGeoLatLngByAddress",(function(){return j})),i.d(t,"GoogleMap",(function(){return E}));var a,o,l,n,d=i(3),s=i.n(d),r=i(15),c=i(46),u=i(24),v=i(2);const m=e=>{var t,i;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps){const t=new window.google.maps.DistanceMatrixService;return new Promise(((i,a)=>{t.getDistanceMatrix({origins:[g(null===e||void 0===e?void 0:e.origins)],destinations:[g(null===e||void 0===e?void 0:e.destinations)],travelMode:(null===e||void 0===e?void 0:e.travelMode)||window.google.maps.TravelMode.DRIVING,unitSystem:(null===e||void 0===e?void 0:e.unitSystem)||window.google.maps.UnitSystem.METRIC,avoidHighways:(null===e||void 0===e?void 0:e.avoidHighways)||!1,avoidTolls:(null===e||void 0===e?void 0:e.avoidTolls)||!1},((e,t)=>{var o,l,n,d;t!==(null===(o=window)||void 0===o||null===(l=o.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&a(t),console.debug(e);const s=[];null===e||void 0===e||e.rows.forEach(((t,i)=>{var a,o,l,n,d;return s.push({destinationAddresses:null===e||void 0===e||null===(a=e.destinationAddresses)||void 0===a?void 0:a[i],originAddresses:null===e||void 0===e||null===(o=e.originAddresses)||void 0===o?void 0:o[i],distance:null===t||void 0===t||null===(l=t.elements)||void 0===l?void 0:l[0].distance,duration:null===t||void 0===t||null===(n=t.elements)||void 0===n?void 0:n[0].duration,status:null===t||void 0===t||null===(d=t.elements)||void 0===d?void 0:d[0].status})})),i(s)}))}))}},O=e=>{var t,i;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps){const t=new window.google.maps.Geocoder;return new Promise(((i,a)=>{t.geocode({address:e},((e,t)=>{var o,l,n,d;t!==(null===(o=window)||void 0===o||null===(l=o.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&a(t),i(e)}))}))}return null},b=e=>{var t,i;return null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&e?new Promise(((t,i)=>{try{var a;const i=Array.isArray(e)?e[0]:e;t(null===i||void 0===i||null===(a=i.geometry)||void 0===a?void 0:a.location)}catch(o){i(o)}})):null},j=async e=>{const t=await O(e);return await b(t)},p=e=>{var t,i,a,o;(null===(t=window)||void 0===t||null===(i=t.google)||void 0===i?void 0:i.maps)&&(null===e||void 0===e||null===(a=e.gMapDetails)||void 0===a||null===(o=a.gMapInstance)||void 0===o||o.setCenter(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.latLng)))},h=(e,t)=>{var i;return null===(i=g(e))||void 0===i?void 0:i.equals(g(t))},g=e=>{var t,i;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&e){const t="string"===typeof e?null===e||void 0===e?void 0:e.split(","):e;if(null!==Array&&void 0!==Array&&Array.isArray(t))return new window.google.maps.LatLng(t[0],t[1]);if("object"===typeof t)return null!==t&&void 0!==t&&t.latitude&&null!==t&&void 0!==t&&t.longitude?new window.google.maps.LatLng(null===t||void 0===t?void 0:t.latitude,null===t||void 0===t?void 0:t.longitude):new window.google.maps.LatLng(t)}return e},N=e=>{var t,i,a,o,l,n;const{gMapDetails:d,directionsPolyline:s,origin:r,destination:c,isRaiderTracker:u}=e,{raiderDirectionsService:v}=d;null===v||void 0===v||null===(t=v.route({origin:r,destination:c,travelMode:null===(a=window)||void 0===a||null===(o=a.google)||void 0===o||null===(l=o.maps)||void 0===l||null===(n=l.TravelMode)||void 0===n?void 0:n.DRIVING}))||void 0===t||null===(i=t.then((e=>{var t,i,a,o,l,n;null!==e&&void 0!==e&&null!==(t=e.routes)&&void 0!==t&&t[0]&&(null===s||void 0===s||s.setPath(null===e||void 0===e||null===(i=e.routes)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.overview_path),u&&(null===d||void 0===d||null===(o=d.gMapInstance)||void 0===o||o.fitBounds(null===e||void 0===e||null===(l=e.routes)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.bounds)))})))||void 0===i||i.catch((e=>console.debug("Directions request failed due to "+e)))},I=e=>{var t,i;const{gMapDetails:a,animation:o=null,position:l,icon:n,zIndex:d=1}=e,{gMapInstance:s,isMarkerVisible:r}=a;return null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&s?new window.google.maps.Marker({animation:o,position:l,map:s,visible:r,icon:n,zIndex:d}):null},S=e=>{var t,i;const{gMapDetails:a,updateGMapDetails:o}=e,{gMapInstance:l,orderTracking:n,customerLatLng:d,storeLatLng:s,raiderCurrentLatLng:c,raiderCurrentMarker:u,raiderDirectionsPolyline:v,raiderLatLngList:m}=a;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&l&&n&&d&&s&&c){var O,b,j,p;if(o({raiderLatLngList:[...m,c]}),h(s,c)||(e=>{var t,i;const{gMapInstance:a,orderTracking:o,raiderPastCurrentLatLng:l,raiderCurrentLatLng:n,raiderPastStrokeColor:d,raiderPastStrokeWeight:s,raiderPastStrokeOpacity:r}=null===e||void 0===e?void 0:e.gMapDetails;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&a&&o){const t=new window.google.maps.Polyline({strokeColor:d,strokeWeight:s,strokeOpacity:r,map:a});N({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:l,destination:n})}})({gMapDetails:a,updateGMapDetails:o}),N({gMapDetails:a,directionsPolyline:v,origin:c,destination:d,isRaiderTracker:!0}),null!==u)null===u||void 0===u||u.setPosition(c);else o({raiderCurrentMarker:I({gMapDetails:a,position:c,icon:null===r.a||void 0===r.a?void 0:r.a.MarkerRaider,zIndex:5,animation:null===(O=window)||void 0===O||null===(b=O.google)||void 0===b||null===(j=b.maps)||void 0===j||null===(p=j.Animation)||void 0===p?void 0:p.DROP})});o({raiderPastCurrentLatLng:c})}},T=async e=>{if(await(async()=>(await u.b.BindLocation(),u.b.address&&u.b.coordinates))()){const{longitude:t,latitude:i}=u.b.coordinates;p({gMapDetails:e,latLng:{lat:i,lng:t}})}},E=e=>{var t,i;const a=s.a.createRef(),[o,l]=Object(d.useState)(f),n=Object(d.useCallback)((e=>{l&&l((t=>({...t,...e})))}),[]);return Object(d.useEffect)((()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&a&&(null===o||void 0===o||!o.gMapInstance)){var i,l,d,s;console.debug("GoogleMap - useEffect Map => ");const e=(e=>{var t,i;const{gMapContainerRef:a,gMapDetails:o}=e;if(null!==(t=window)&&void 0!==t&&null!==(i=t.google)&&void 0!==i&&i.maps&&a){const{center:e,disableDefaultUI:t,fullscreenControl:i,zoomControl:l,gestureHandling:n,zoom:d,minZoom:s,maxZoom:r,mapTypeId:c,panControl:u,rotateControl:v,scaleControl:m,stylers:O}=o;return new window.google.maps.Map(null===a||void 0===a?void 0:a.current,{mapTypeId:c,center:e,disableDefaultUI:t,fullscreenControl:i,zoom:d,zoomControl:l,gestureHandling:n,minZoom:s,maxZoom:r,panControl:u,rotateControl:v,scaleControl:m,styles:O})}})({gMapContainerRef:a,gMapDetails:o});null===(i=window)||void 0===i||null===(l=i.google)||void 0===l||null===(d=l.maps)||void 0===d||null===(s=d.event)||void 0===s||s.addListenerOnce(e,"tilesloaded",(()=>{console.debug("GoogleMap - useEffect Map => tilesloaded"),n({mapRenderCompleted:!0,gMapInstance:e,raiderDirectionsService:new window.google.maps.DirectionsService})}))}}),[null===(t=window)||void 0===t||null===(i=t.google)||void 0===i?void 0:i.maps]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect gMapInstance => "),(null===o||void 0===o?void 0:o.gMapInstance)&&(async(e,t)=>{const{orderTracking:i=!1,storeAddress:a=null,storeLatLng:o=null,customerAddress:l=null,customerLatLng:n=null}=e;let d={orderTracking:i};if(a){const e=await j(a);d={...d,storeLatLng:e,raiderPastCurrentLatLng:e,storeAddress:a}}if(o&&(d={...d,storeLatLng:g(o),raiderPastCurrentLatLng:g(o),storeAddress:a}),l){const e=await j(l);d={...d,customerLatLng:e,customerAddress:l}}n&&(d={...d,customerLatLng:g(n),customerAddress:l}),t(d)})(e,n)}),[null===o||void 0===o?void 0:o.gMapInstance]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect mapTypeId => "),(null===o||void 0===o?void 0:o.gMapInstance)&&(e=>{var t,i,a,o,l,n,d;(null===(t=window)||void 0===t||null===(i=t.google)||void 0===i?void 0:i.maps)&&(null===e||void 0===e||null===(a=e.gMapInstance)||void 0===a||a.setMapTypeId(null===(o=window)||void 0===o||null===(l=o.google)||void 0===l||null===(n=l.maps)||void 0===n||null===(d=n.MapTypeId)||void 0===d?void 0:d[null===e||void 0===e?void 0:e.mapTypeId]))})(o)}),[null===o||void 0===o?void 0:o.mapTypeId]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect props mapTypeId => "),n({mapTypeId:null===e||void 0===e?void 0:e.mapTypeId})}),[null===e||void 0===e?void 0:e.mapTypeId]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:i,mapRenderCompleted:a}=o;e&&t&&i&&a&&(console.debug("GoogleMap - useEffect customer LatLng => "),I({gMapDetails:o,position:i,icon:null===r.a||void 0===r.a?void 0:r.a.MarkerCustomer}),p({gMapDetails:o,latLng:i}))}),[null===o||void 0===o?void 0:o.customerLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,storeLatLng:i,mapRenderCompleted:a}=o;e&&t&&i&&a&&(console.debug("GoogleMap - useEffect store LatLng => "),I({gMapDetails:o,position:i,icon:null===r.a||void 0===r.a?void 0:r.a.MarkerKFC}),p({gMapDetails:o,latLng:i}))}),[null===o||void 0===o?void 0:o.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:i,storeLatLng:a,mapRenderCompleted:l}=o;console.debug("GoogleMap - useEffect store & customer LatLng => "),e&&t&&i&&a&&l&&(e=>{var t,i,a,o;const{gMapInstance:l,orderTracking:n,customerLatLng:d,storeLatLng:s,raiderStrokeColor:r,raiderStrokeWeight:c,raiderStrokeOpacity:u}=null===e||void 0===e?void 0:e.gMapDetails;if(console.debug("GoogleMap setRaiderDirectionsServicePolyline - ",null===(t=window)||void 0===t||null===(i=t.google)||void 0===i?void 0:i.maps,l,n),null!==(a=window)&&void 0!==a&&null!==(o=a.google)&&void 0!==o&&o.maps&&l&&n){const t=new window.google.maps.Polyline({strokeColor:r,strokeWeight:c,strokeOpacity:u,map:l});null===e||void 0===e||e.updateGMapDetails({raiderDirectionsPolyline:t}),N({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:s,destination:d,isRaiderTracker:!1})}})({gMapDetails:o,updateGMapDetails:n})}),[null===o||void 0===o?void 0:o.customerLatLng,null===o||void 0===o?void 0:o.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:t,orderTracking:i,mapRenderCompleted:a}=o;console.debug("GoogleMap - useEffect props raiderCurrentLatLng => ",null===e||void 0===e?void 0:e.raiderCurrentLatLng),t&&i&&(null===e||void 0===e?void 0:e.raiderCurrentLatLng)&&a&&n({raiderCurrentLatLng:g(null===e||void 0===e?void 0:e.raiderCurrentLatLng)})}),[null===o||void 0===o?void 0:o.mapRenderCompleted,null===e||void 0===e?void 0:e.raiderCurrentLatLng]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect raiderCurrentLatLng => ",null===o||void 0===o?void 0:o.raiderCurrentLatLng),(null===o||void 0===o?void 0:o.mapRenderCompleted)&&S({gMapDetails:o,updateGMapDetails:n})}),[null===o||void 0===o?void 0:o.raiderCurrentLatLng]),Object(d.useEffect)((()=>{const{isMobile:t=(null===f||void 0===f?void 0:f.isMobile),isMarkerVisible:i=(null===f||void 0===f?void 0:f.isMarkerVisible),orderTracking:a=(null===f||void 0===f?void 0:f.orderTracking),raiderPastStrokeColor:o=(null===f||void 0===f?void 0:f.raiderPastStrokeColor),raiderPastStrokeWeight:l=(null===f||void 0===f?void 0:f.raiderPastStrokeWeight),raiderPastStrokeOpacity:d=(null===f||void 0===f?void 0:f.raiderPastStrokeOpacity),raiderStrokeColor:s=(null===f||void 0===f?void 0:f.raiderStrokeColor),raiderStrokeWeight:r=(null===f||void 0===f?void 0:f.raiderStrokeWeight),raiderStrokeOpacity:c=(null===f||void 0===f?void 0:f.raiderStrokeOpacity),stylers:u=(null===f||void 0===f?void 0:f.stylers)}=e;console.debug("GoogleMap - useEffect props config => "),n({isMobile:t,isMarkerVisible:i,orderTracking:a,raiderPastStrokeColor:o,raiderPastStrokeWeight:l,raiderPastStrokeOpacity:d,raiderStrokeColor:s,raiderStrokeWeight:r,raiderStrokeOpacity:c,stylers:u})}),[null===e||void 0===e?void 0:e.isMobile,null===e||void 0===e?void 0:e.isMarkerVisible,null===e||void 0===e?void 0:e.orderTracking,null===e||void 0===e?void 0:e.raiderPastStrokeColor,null===e||void 0===e?void 0:e.raiderPastStrokeWeight,null===e||void 0===e?void 0:e.raiderPastStrokeOpacity,null===e||void 0===e?void 0:e.raiderStrokeColor,null===e||void 0===e?void 0:e.raiderStrokeWeight,null===e||void 0===e?void 0:e.raiderStrokeOpacity,null===e||void 0===e?void 0:e.stylers]),Object(d.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps)&&(null===o||void 0===o?void 0:o.gMapInstance)&&(null===o||void 0===o||o.gMapInstance.setOptions({styles:null===o||void 0===o?void 0:o.stylers}))}),[null===o||void 0===o?void 0:o.gMapInstance,null===o||void 0===o?void 0:o.stylers]),Object(d.useEffect)((()=>{var t,i;const{customerAddress:a=null,customerLatLng:l=null,storeAddress:d=null,storeLatLng:s=null}=e;console.debug("GoogleMap - useEffect Props store & customer LatLng => "),(null===(t=window)||void 0===t||null===(i=t.google)||void 0===i?void 0:i.maps)&&(null===o||void 0===o?void 0:o.mapRenderCompleted)&&(!h(null===o||void 0===o?void 0:o.customerLatLng,l)||!h(null===o||void 0===o?void 0:o.storeLatLng,s))&&n({customerAddress:a,customerLatLng:g(l),storeAddress:d,storeLatLng:g(s)})}),[null===o||void 0===o?void 0:o.mapRenderCompleted,null===e||void 0===e?void 0:e.customerAddress,null===e||void 0===e?void 0:e.customerLatLng,null===e||void 0===e?void 0:e.storeAddress,null===e||void 0===e?void 0:e.storeLatLng]),Object(v.jsxs)("div",{className:"googleMapContPanel",children:[Object(v.jsx)("div",{className:"use-location-icon",children:Object(v.jsx)(c.a,{srcFile:null===r.a||void 0===r.a?void 0:r.a.UseLocationWhiteIcon,alt:"",onClick:()=>T(o),"data-testid":"use-location-icon"})}),Object(v.jsx)("div",{id:"google-map-container",ref:a,className:"googleMapContainer ".concat(null===e||void 0===e?void 0:e.className)})]})};t.default=E;const f={gMapInstance:null,defaultLatLng:[{lat:0,lng:0}],mapRenderCompleted:!1,raiderPastCurrentLatLng:null,raiderCurrentLatLng:null,raiderCurrentMarker:null,raiderDirectionsPolyline:null,raiderDirectionsService:null,raiderLatLngList:[],mapTypeId:null===(a=window)||void 0===a||null===(o=a.google)||void 0===o||null===(l=o.maps)||void 0===l||null===(n=l.MapTypeId)||void 0===n?void 0:n.ROADMAP,center:{lat:0,lng:0},disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!0,zoom:13,gestureHandling:"greedy",minZoom:6,maxZoom:20,panControl:!1,rotateControl:!0,scaleControl:!0,isMobile:!1,isMarkerVisible:!0,orderTracking:!1,customerAddress:null,customerLatLng:null,storeAddress:null,storeLatLng:null,raiderPastStrokeColor:"#202124",raiderPastStrokeWeight:2,raiderPastStrokeOpacity:.8,raiderStrokeColor:"#e4002b",raiderStrokeWeight:4,raiderStrokeOpacity:1,stylers:[]}}}]);