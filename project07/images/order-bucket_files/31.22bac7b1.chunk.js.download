(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[31],{625:function(e,t,d){"use strict";d.r(t);var o=d(3),r=d(5),i=d(28),s=d(210),l=d(2);var n=e=>(e=>Object(l.jsx)(s.a,{...e,testId:"order_processing_view",importPath:"ORDER_PROCESSING_VIEW"}))(e),c=d(1108),u=d(1111),a=d(1326),v=d(265),O=d(0),b=d(202);t.default=e=>{var t,d,s,j,p;const f=Object(i.c)((e=>e.tenantReducer)),{redirectToOrderProcessingForPhonePe:P}=null===f||void 0===f||null===(t=f.componentOptions)||void 0===t||null===(d=t.web)||void 0===d?void 0:d.orderPages,E=null===(s=new URLSearchParams(window.location.search))||void 0===s?void 0:s.get("orderId"),[S,g]=Object(o.useState)(c.o),{orderReducer:R,profileReducer:h,paymentsReducer:I}=Object(i.c)((e=>e)),m=(null===I||void 0===I?void 0:I.isPhonePePGStatusLoading)||!1,[y,w]=Object(o.useState)(m),C=Object(i.b)(),D=Object(o.useCallback)((e=>{g&&g((t=>({...t,...e})))}),[]);return Object(o.useEffect)((()=>{E&&D({orderId:E,status:null===O.Rd||void 0===O.Rd?void 0:O.Rd.ACCEPTED,retryCountForGetOrderStatus:0,isExternalTrackOrder:!1,displayOrderProcessingPage:!0})}),[E]),Object(o.useEffect)((()=>(Object(u.b)(e),()=>{console.debug("useEffect [] return => ")})),[]),Object(o.useEffect)((()=>{if(Object(v.i)(S))(null===S||void 0===S||!S.displayOrderProcessingPage)&&Object(r.Oe)(e);else if(P){var t,d,o,i;(null===S||void 0===S||null===(t=S.paymentReferences)||void 0===t||null===(d=t[0])||void 0===d?void 0:d.paymentStatus)===O.Ud.SUCCESS?Object(r.ff)(e):(null===S||void 0===S||null===(o=S.paymentReferences)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.paymentStatus)===O.Ud.FAILED&&Object(r.ef)(e)}else{var s;(!Object(r.Id)(null===e||void 0===e||null===(s=e.history)||void 0===s?void 0:s.location)||Object(v.X)(S)||Object(v.W)(S))&&(null===S||void 0===S||!S.displayOrderProcessingPage)&&Object(r.df)(e)}}),[null===S||void 0===S?void 0:S.displayOrderProcessingPage]),Object(o.useEffect)((()=>{var e,t;const d=null===R||void 0===R||null===(e=R.response)||void 0===e||null===(t=e.order)||void 0===t?void 0:t.id,o=null===f||void 0===f?void 0:f.tenantId,r=null===h||void 0===h?void 0:h.customerId,i={dispatch:C,tenantId:o,data:{queryProps:{orderId:d}},customerId:r};Object(b.h)(i)}),[null===R||void 0===R||null===(j=R.response)||void 0===j||null===(p=j.order)||void 0===p?void 0:p.id]),Object(o.useEffect)((()=>{var t;!m&&y&&((null===I||void 0===I||null===(t=I.phonePeStatus)||void 0===t?void 0:t.status)===O.Ud.FAILURE&&Object(r.ef)(e));w(m)}),[m]),Object(l.jsx)(a.a,{...e,orderDetails:S,updateSetOrderDetails:D,children:Object(l.jsx)(n,{...e,orderDetails:S,updateSetOrderDetails:D})})}}}]);