(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[68],{1053:function(e,t,l){"use strict";l.r(t),l.d(t,"scheduleTimeErrorFlag",(function(){return Q})),l.d(t,"disableDateOption",(function(){return $})),l.d(t,"disableTimeOption",(function(){return ee})),l.d(t,"showChangeCTAForDelivery",(function(){return te})),l.d(t,"inactivateStartOrderButton",(function(){return le})),l.d(t,"getScheduledEpochDateTime",(function(){return ae})),l.d(t,"handleDispositonForFavouriteOrder",(function(){return ie})),l.d(t,"enableScheduleMode",(function(){return oe})),l.d(t,"changeTimeValue",(function(){return re})),l.d(t,"changeDateValue",(function(){return de})),l.d(t,"getBasket",(function(){return ne})),l.d(t,"disableStartOrder",(function(){return se})),l.d(t,"getContent",(function(){return ce})),l.d(t,"getDisableWarning",(function(){return ue})),l.d(t,"getDateString",(function(){return ve})),l.d(t,"checkForDate",(function(){return Oe})),l.d(t,"checkforTime",(function(){return be})),l.d(t,"isFutureDateOrderHandler",(function(){return he})),l.d(t,"isAsapSelecetedUnavailable",(function(){return me})),l.d(t,"isFutureTimeSelectedUnavailable",(function(){return Se})),l.d(t,"isValidTimeSlot",(function(){return je})),l.d(t,"checkDateandTime",(function(){return pe})),l.d(t,"isStoreCompletelyClosed",(function(){return Te})),l.d(t,"checkDateString",(function(){return Ee})),l.d(t,"checkCardData",(function(){return ge})),l.d(t,"showOrderNowFlag",(function(){return Ce})),l.d(t,"showScheduleOrderFlag",(function(){return De})),l.d(t,"showChangeScheduleModeFlag",(function(){return Ie})),l.d(t,"showSheduleDispositionFlag",(function(){return Ae})),l.d(t,"showHandleBackFlag",(function(){return fe})),l.d(t,"getOrderType",(function(){return ye})),l.d(t,"placeholderContentText",(function(){return Ne})),l.d(t,"onOrderCapacitySuccess",(function(){return _e})),l.d(t,"changeProductURLToMenu",(function(){return Re}));var a=l(6),i=l(35),o=l(145),r=l(73),d=l(80),n=l(132),s=l(15),c=l(52),u=l(55),v=l(0),O=l(4),b=l(12),h=l(18),m=l.n(h),S=l(5),j=l(85),p=l(20),T=l.n(p),E=l(396),g=l(144),C=l(1101),D=l(1185),I=l(262),A=l(1195),f=l(1194),y=l(120),N=l(133),_=l(43),R=l(394),x=l(16),w=l(3),L=l.n(w),F=l(28),M=l(62),k=l(41),U=l(46),H=l(1266),B=l(411),P=l(1140),V=l(399),W=l(328),Y=l(74);var G=l(263),K=l(2);var q=e=>{const{firstHeadline:t,secondHeadline:l,thirdHeadline:a,description:i,moreInfoLink:o,secondMainHeadline:r,subTitle:d,thirdTitle:n,closeButtonText:s,mainImageSource:c,onConfirm:u,expandHandler:v}=e;return Object(K.jsxs)(g.a,{id:"UberEatsAlertModal",role:"dialog",ariaLabel:"uber eats alert dialog",show:!0,classNames:"uber-eats-alert-modal-container-info extra-small-modal",showCloseBtn:!1,children:[Object(K.jsx)(U.a,{srcFile:c,className:"uber-eats-alert-main-image"}),Object(K.jsxs)("div",{className:"uber-eats-alert-titles",children:[Object(K.jsx)("div",{className:"uber-eats-alert-first-headline",children:t}),Object(K.jsx)("div",{className:"uber-eats-alert-second-headline",children:l}),Object(K.jsx)("div",{className:"uber-eats-alert-third-headline",children:a})]}),Object(K.jsx)("div",{className:"uber-eats-alert-description",children:i}),Object(K.jsx)(G.a,{onClickHandler:v,className:"uber-eats-alert-more-info-link","data-testid":"uber-eats-alert-more-info",children:Object(K.jsx)("span",{children:o})}),Object(K.jsx)("div",{children:Object(K.jsx)(k.c,{variant:k.b.primary,"aria-label":s,onClickHandler:u,id:"uberEatsAlertButton",className:"uber-eats-alert-submit-button","data-testid":"uber-eats-alert-confirm-button",children:Object(K.jsx)("span",{children:s})})})]})};l(1263);var J=e=>{const{secondMainHeadline:t,deliveryVendorLogo:l,thirdTitle:a,subTitle:i,closeButtonText:o,onConfirm:r}=e;return Object(K.jsxs)(g.a,{id:"UberEatsAlertModal",role:"dialog",ariaLabel:"uber eats alert dialog",show:!0,classNames:"uber-eats-alert-modal-container-expanded extra-small-modal",showCloseBtn:!1,children:[Object(K.jsx)("div",{className:"uber-eats-alert-second-main-headline",children:t}),Object(K.jsx)(U.a,{srcFile:l,className:"uber-eats-alert-delivery-logo"}),Object(K.jsxs)("div",{className:"uber-eats-alert-third-title",children:["\u2022 ",a]}),Object(K.jsx)("div",{className:"uber-eats-alert-subtitle",children:i.split("\n").map(((e,t)=>Object(K.jsx)("div",{className:"uber-eats-alert-subtitle-line",children:e},t)))}),Object(K.jsx)("div",{children:Object(K.jsx)(k.c,{variant:k.b.primary,"aria-label":o,onClickHandler:r,id:"uberEatsAlertButton",className:"uber-eats-alert-submit-button","data-testid":"uber-eats-alert-confirm-button",children:Object(K.jsx)("span",{children:o})})})]})};const X=e=>{let{isOpen:t,onClose:l=(()=>{}),IsConfirmed:a=(()=>{})}=e;const i=Object(F.b)(),o=Object(F.c)(Y.c),[r,d]=Object(w.useState)(!1),[n,s]=Object(w.useState)(!1),c=()=>{l(),d(!1),a()},u=(e=>{var t,l,a,i,o;const r=null!==(t=null===e||void 0===e||null===(l=e.items)||void 0===l||null===(a=l[0])||void 0===a||null===(i=a.fields)||void 0===i?void 0:i.content)&&void 0!==t?t:[],{fields:d}=null!==(o=null===r||void 0===r?void 0:r[0])&&void 0!==o?o:[];var n="",s="",c="",u="",v="",O="",b="",h="",m="",S="",j="";if(void 0!==d){var p,T;const{firstHeadline:e,secondHeadline:t,thirdHeadline:l,description:a,moreInfoLink:i,secondMainHeadline:o,subTitle:r,thirdTitle:E,closeButtonText:g}=d;n=e,s=t,c=l,u=a,v=i,O=o,b=r,h=E,j=g;const{mianImage:C,deliveryVendorLogo:D}=d;m="https:".concat(null===C||void 0===C||null===(p=C.fields.file)||void 0===p?void 0:p.url),S="https:".concat(null===D||void 0===D||null===(T=D.fields.file)||void 0===T?void 0:T.url)}return{mainImageSource:m,deliveryVendorLogoSource:S,firstHeadline:n,secondHeadline:s,thirdHeadline:c,description:u,moreInfoLink:v,secondMainHeadline:O,subTitle:b,thirdTitle:h,closeButtonText:j}})(null===o||void 0===o?void 0:o.uberTermsAndConditions);return Object(w.useEffect)((()=>{i(Object(W.q)())}),[i]),Object(w.useEffect)((()=>{d(t)}),[t]),Object(K.jsx)(L.a.Fragment,{children:r&&(n?Object(K.jsx)(J,{secondMainHeadline:null===u||void 0===u?void 0:u.secondMainHeadline,deliveryVendorLogo:null===u||void 0===u?void 0:u.deliveryVendorLogoSource,thirdTitle:null===u||void 0===u?void 0:u.thirdTitle,subTitle:null===u||void 0===u?void 0:u.subTitle,closeButtonText:null===u||void 0===u?void 0:u.closeButtonText,onConfirm:c}):Object(K.jsx)(q,{firstHeadline:null===u||void 0===u?void 0:u.firstHeadline,secondHeadline:null===u||void 0===u?void 0:u.secondHeadline,thirdHeadline:null===u||void 0===u?void 0:u.thirdHeadline,description:null===u||void 0===u?void 0:u.description,moreInfoLink:null===u||void 0===u?void 0:u.moreInfoLink,deliveryVendorLogo:null===u||void 0===u?void 0:u.deliveryVendorLogoSource,mainImageSource:null===u||void 0===u?void 0:u.mainImageSource,closeButtonText:null===u||void 0===u?void 0:u.closeButtonText,onConfirm:c,expandHandler:()=>{s(!0)}}))})};var z=l(600);const{RESET_SCHEDULE_PAGE_AND_DISPOSITION:Z}=c.a,Q=(e,t)=>(null===e||void 0===e?void 0:e.key)<Object(b.p)()&&t,$=(e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1,ee=(e,t,l,a)=>{var i;return!!Object(V.e)(a)||!!e&&(!(null!==t&&void 0!==t&&null!==(i=t.timeSlots)&&void 0!==i&&i.length)||l)},te=(e,t,l)=>!(e&&t)&&!l,le=e=>{let{enableOrderCapacityManagement:t,storeUnavailableError:l,enableScheduleOrderFlag:a,selectedTime:i,showOrderNow:o,changeScheduleMode:r,hasError:d,isForNow:n,scheduleModeClicked:s}=e;return t&&T()(i)||Boolean(l)||d.error||se(a,i,o,r,n,s)},ae=(e,t)=>e||T()(t)?"":t.key,ie=(e,t,l,a,i,o,r)=>{const d=!(a&&i||r&&o)&&e;return Object(S.ad)(d,[null===t||void 0===t?void 0:t.store],[l])},oe=(e,t,l,a,i,o)=>{e(!1),t(!0),l(!0),a(!0),o&&o(!0),i&&(i({type:x.a.SHOW_SCHEDULE_DISPOSITION,value:{showSheduleDisposition:!0}}),i({type:x.a.ORDER_CAPACITY_DATA_UPDATED,value:{orderCapacityDataUpdated:!1}}))},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{setHasError:a,hasError:i}=l;t(e),Object(y.r)(a,i,!1),Object(y.q)(a,i,!1)},de=function(e,t,l,a,i,o){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},d=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{setHasError:n,hasError:s}=i,{userOrderStateDispatch:c,orderCapacityDataUpdated:u="",setOrderCapacityCallDispatched:v}=r;Object(y.r)(n,s,!1),Object(y.p)(n,s,!1);const O=null===t||void 0===t?void 0:t.find((t=>{var l;return(null===t||void 0===t||null===(l=t.date)||void 0===l?void 0:l.key)===(null===e||void 0===e?void 0:e.key)}));var b;(l(O),d)?a(void 0):a({...null===O||void 0===O||null===(b=O.timeSlots)||void 0===b?void 0:b[0]});v&&v(!1),c&&c({type:u,value:{orderCapacityDataUpdated:!1}})},ne=(e,t,l,a,i)=>{var o,r,d;((null===t||void 0===t||null===(o=t[0])||void 0===o||null===(r=o.summary)||void 0===r||null===(d=r.status)||void 0===d?void 0:d.currentStatus)===_.a.STORE_STATUS_OPEN||l)&&a(e,t[0],localStorage.getItem(v.gd.SET_CART_CLEAR),i)},se=(e,t,l,a,i,o)=>!(!e||!T()(t)||a||l&&i||!o),ce=(e,t)=>{const l=(null===t||void 0===t?void 0:t.toUpperCase())===v.Jb.DELIVERY?Object(a.translateWithI18Next)(O.a.SELECT_DELIVERY_TIME):Object(a.translateWithI18Next)(O.a.SELECT_PICKUP_TIME);return e?l:Object(a.translateWithI18Next)(O.a.ASAP)},ue=(e,t)=>e&&t,ve=e=>{if(null!==e){var t,l,i;const{date:o="",store:r={},time:d=""}=e,{MMMM_D:n}=v.sb;let s=null===d||void 0===d||null===(t=d.replace(v.Ze,""))||void 0===t?void 0:t.toLowerCase();const c=d!==v.s&&(null===(l=Object(b.h)(o,n))||void 0===l?void 0:l.split(" "));return d===v.s?Object(a.translateWithI18Next)(O.a.ASAP):"".concat(Object(a.translateWithI18Next)(Object(S.ed)(o,null===r||void 0===r||null===(i=r.summary)||void 0===i?void 0:i.timeZoneIANA))," ").concat(Object(a.translateWithI18Next)(c[0])+" "+c[1],", ").concat(s)}return""},Oe=e=>{let{isForNow:t=!1,enableScheduleOrderFlag:l,showScheduleOrder:a,showSheduleDisposition:i,shouldShowDateTime:o}=e;return l?(a||t)&&!i:o},be=(e,t,l)=>{var i;return(null===(i=Object(y.i)(e,t,l))||void 0===i?void 0:i.dispositionValue)===v.Jb.PICKUP?Object(a.translateWithI18Next)(O.a.PICK_UP_TIME):Object(a.translateWithI18Next)(O.a.DELIVERY_TIME)},he=(e,t)=>Boolean(Object(S.Yd)(e)||Object(S.Xd)(e))&&!t,me=function(e,t,l,a){var i,o;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Boolean((null===e||void 0===e||null===(i=e[0])||void 0===i||null===(o=i.summary)||void 0===o?void 0:o.orderingAttribute)&&((null===t||void 0===t?void 0:t.currentStatus)!==_.a.STORE_STATUS_OPEN||!l)&&((null===a||void 0===a?void 0:a.key)===v.s||(null===r||void 0===r?void 0:r.time)===v.s))},Se=(e,t,l,a)=>{var i;return Boolean(e&&!(null!==t&&void 0!==t&&null!==(i=t.timeSlots)&&void 0!==i&&i.length)||(null===l||void 0===l?void 0:l.key)!==v.s&&!e&&!a)},je=(e,t)=>{var l;return(null===e||void 0===e||null===(l=e.timeSlots)||void 0===l?void 0:l.some((e=>{let{key:l}=e;return l===(null===t||void 0===t?void 0:t.key)})))||!1},pe=e=>{let{enableScheduleOrderFlag:t,showScheduleOrder:l,scheduleOrderFlag:a,showSheduleDisposition:i,shouldShowDateTime:o}=e;return t?(l||a)&&i:o},Te=e=>{var t,l;let{enableScheduleOrderFlag:a,isAsapSelecetedUnavailableFlag:i,isFutureTimeSelectedUnavailableFlag:o,isStoreStatusLoading:r,selectedStoreStatus:d}=e;const{STORE_STATUS_OPEN:n}=_.a;return a?(i||o||v.Te.includes(null===d||void 0===d||null===(t=d.message)||void 0===t||null===(l=t.split("||")[0])||void 0===l?void 0:l.trim()))&&Boolean((null===d||void 0===d?void 0:d.currentStatus)!==n&&!r):Boolean((null===d||void 0===d?void 0:d.currentStatus)!==n&&!r)},Ee=(e,t)=>e&&ve(t),ge=(e,t)=>e.findAKFC&&t({type:x.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0}}),Ce=(e,t,l)=>e?t:l,De=(e,t,l)=>e?t:l,Ie=(e,t)=>e||t,Ae=(e,t)=>e||t,fe=(e,t)=>e.findAKFC&&t({type:x.a.ORDER_SUMMARY_MODAL_CLOSE,orderSummaryModalClose:!1}),ye=e=>{const{enableScheduleOrderFlag:t,showScheduleOrder:l,showSheduleDisposition:a,shouldShowDateTime:i,dateString:o,enableSceduleCA:r,setOrderNowFlag:d,setScheduleOrdeFlag:n,setScheduleDisposition:s,setChangeScheduleOrderMode:c,userOrderState:u,isForNow:v,isSpecialEvent:b,shouldShowDateTimeSection:h,setIsEditingDateTime:m,orderNowFlag:S,enableOrderCapacityManagement:j}=e,{dispositionStateData:p,scheduleOrderData:T}=u,{changeFlow:E=!1,isAddressFlow:g=!1}=T,{dispositionType:C}=p;return S&&j&&oe(d,n,s,c,null,m),Object(K.jsx)(K.Fragment,{children:!b&&t&&Object(K.jsx)(f.a,{show:!h&&Oe({isForNow:v,enableScheduleOrderFlag:t,showScheduleOrder:l,showSheduleDisposition:a,shouldShowDateTime:i}),sectionHeader:be(E,g,C),subSectionValue:o,orderTypeChange:O.a.ORDER_TYPE_CHANGE,onClickHandler:()=>oe(d,n,s,c,null,m),showChangeButton:r})})},Ne=(e,t,l,i)=>!i&&Object(S.Yd)(e)&&t?Object(a.translateWithI18Next)(O.a.ASAP):l,_e=e=>{var t;let{DATE_FORMATS:l,changeFlow:a,dateTimeArr:i,dateEpochFromStorage:o,enableOrderCapacityManagement:r,formatDateTime:d,getFormatFromUnix:n,getScheduledEpochDateTime:s,hasError:c,isEmpty:u,isOrderCapacityLoading:v,orderCapacity:O,scheduledOrderCapacityNoOrdersError:b,scheduledOrderCapacityTimeSlotError:h,selectedDate:m,selectedTime:S,setHasError:j,setSelectedTime:p,SESSION_STORAGE_KEYS:T,sessionStorage:E,storeId:g,deliveryPartner:C}=e;if(r&&!v&&!u(null===(t=m)||void 0===t?void 0:t.date)&&!Object(V.e)(C)){var D,I,A;const e=d(null===(D=m)||void 0===D||null===(I=D.date)||void 0===I?void 0:I.key,l.YYYYMMDD),t=null===O||void 0===O||null===(A=O[g])||void 0===A?void 0:A[e];if(t){var f,N;if((null===(f=m)||void 0===f||null===(N=f.timeSlots)||void 0===N?void 0:N.find((e=>{let{value:l}=e;const a=l.replace(":","");return t[a]>0})))||b(j,c,!0),a&&!u(S)){const e=null===S||void 0===S?void 0:S.value.replace(":",""),l=Object.keys(t)&&Object.keys(t).includes(e)?t[e]:null;h(j,c,0===Number(l))}}if(u(S)){var _,R,x,w;if((null===(_=m)||void 0===_||null===(R=_.timeSlots)||void 0===R?void 0:R.length)>0&&void 0===m.timeSlots[0].isOrderCapacityAvailable){const e=Object(y.n)(O,g,m,i);m={...m,timeSlots:e}}const e=((null===(x=m)||void 0===x?void 0:x.timeSlots)||[]).find((e=>e.isOrderCapacityAvailable)),t=s(!1,e);p(((null===(w=m)||void 0===w?void 0:w.timeSlots)||[]).find((e=>e.key===Number(o)))||e),E.setItem(T.SCHEDULE_DATE_EPOCH,o||t)}}},Re=(e,t,l,a)=>{const{name:i,service:o}=e||{};if(o===v.bc)Object(S.Ad)(t);else if(o===v.yb&&l)Object(S.zd)(t);else if(-1!==window.location.pathname.indexOf(v.Ce.MENU_PAGE)){var r;Object(S.Bd)(t);const e=null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.value;Object(z.a)(e,o,a)}};t.default=e=>{var t,l,c,h,p,_,W,Y,G,q,J,z,se,ce,ve,Oe,be,xe,we,Le,Fe,Me,ke,Ue,He,Be,Pe,Ve,We,Ye,Ge,Ke,qe,Je;const{Error_Yellow:Xe}=s.a,{DELIVERY:ze,CATERING:Ze,CHRISTMAS_ORDERING:Qe}=v.Jb,{DISPOSITION_TYPE:$e,DISPOSITION_NEW:et,DROPOFF_ADDRESS:tt,CURRENT_STORE_INFO_STORAGE:lt,STORE_INFO:at,CONFIG_SEARCH_SCREEN:it,RENDER_COMP:ot,SET_CART_CLEAR:rt,CHANGE_SCHEDULE_MODE:dt,SELECTED_ADDRESS:nt,CURRENTSTOREINFO:st,DISPOSITIONOLD:ct}=v.gd,{ORDER_TYPE:ut,YOUR_KFC_RESTAURANT:vt,ORDER_TYPE_CHANGE:Ot,YOUR_LOCATION:bt,SCHEDULE_FOR_YOUR_ORDER_TEXT:ht,CATERING_WARNING:mt,PICK_UP_TIME:St,DELIVERY_TIME:jt,DELIVERY_ADDRESS_TEXT:pt,UBER_DELIVERY_TIME:Tt}=O.a,{SEARCH_ORDER_DATA:Et,SCHEDULE_ORDER_DATA:gt,DISPOSITION_DATA:Ct,DISPOSITION_METHOD:Dt,CURRENT_STORE_INFO:It,START_ORDER_CLICK:At,RESET_DELIVERY_ADDRESS_LINE:ft,SET_FIND_A_KFC_VIEW:yt,SET_REDIRECTION_PATH:Nt,SET_ASAP_SCHEDULING:_t,ORDER_CAPACITY_DATA_UPDATED:Rt,SHOW_CLEAR_CART_ALERT:xt,CLEAR_CART_CONFIRM_CANCEL_MODAL:wt,clearCartChangeFlag:Lt,orderTypeAlertTitle:Ft,ORDER_SUMMARY_MODAL_CLOSE:Mt,SHOW_SCHEDULE_DISPOSITION:kt}=x.a,{onStoreSelectFinish:Ut}=e,{userOrderState:Ht,userOrderStateDispatch:Bt}=Object(w.useContext)(j.a),{dispositionStateData:Pt,scheduleOrderData:Vt,searchStoreData:Wt,redirectionOrder:Yt,showScheduleOrder:Gt,showOrderNow:Kt,changeScheduleModeFlag:qt,showSheduleDisposition:Jt,scheduleModeClicked:Xt=!1,comingFromFavouriteStoreCard:zt,currentDisposition:Zt,timeBasedAlertModalData:Qt,timeBasedCetegory:$t,isFavoriteStoreCard:el}=Ht,{configSearchScreen:tl=(null===(t=localStorage)||void 0===t?void 0:t.getItem(it))}=Wt,{changeFlow:ll=!1,isAddressFlow:al=!1}=Vt,{dispositionType:il}=Pt,ol=Object(n.b)(d.b),rl=Object(S.ad)(Object(S.Sd)(Ht.dispositionNew),JSON.parse(localStorage.getItem(et)),Ht.dispositionNew),{componentOptions:dl,enableAddressLocalisation:nl=!1,enableOrderCapacityManagement:sl=!1,orderServDateFormat:cl,tenantId:ul,elementUniqueLocator:vl,scheduleOrderDateFormat:Ol,timeFormat:bl,dateFormat:hl,storeSearch:{shouldNavigateToPickupDisposition:ml,enableOrderFromFavoriteStoreCard:Sl},showDescriptionInChangeFlow:jl,isAsapDisabledForTenant:pl,isUberServiceableEnabled:Tl,enableDeliveryMenuOption:El}=Object(F.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{web:gl={},showToastAfterLocalization:Cl=!1}=dl,{shouldCheckDropOffAddress:Dl=!1}=gl,Il=null===dl||void 0===dl||null===(l=dl.web)||void 0===l?void 0:l.dispositionConfig,{enableScheduleOrder:Al=!1,enableClickCollectScheduleOrder:fl=!1}=Il,yl=null===dl||void 0===dl||null===(c=dl.web)||void 0===c?void 0:c.scheduledDelivery,{clearCartOnChangeDisposition:Nl,clearCartOnChangeStore:_l}=yl,{allowScheduleOrderForDispositions:Rl=[]}=yl,xl=null===dl||void 0===dl||null===(h=dl.web)||void 0===h||null===(p=h.dispositionConfig)||void 0===p?void 0:p.disableChangeCTAForDelivery,wl=null===dl||void 0===dl||null===(_=dl.web)||void 0===_||null===(W=_.dispositionConfig)||void 0===W?void 0:W.changeDateFormatOrder,Ll=null===gl||void 0===gl||null===(Y=gl.global)||void 0===Y?void 0:Y.formattedDeliveryAddressFilterBy,Fl=null===gl||void 0===gl||null===(G=gl.dispositionConfig)||void 0===G?void 0:G.disableScheduleOrderForNotAliveStore,Ml=Object(F.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{id:kl="",foodLines:Ul=[]}=Object(F.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData}))||{},Hl=Object(F.b)(),Bl=Object(M.g)(),Pl=Object(F.c)((e=>e.cartReducer)),Vl=il&&!ll?(null===il||void 0===il?void 0:il.toUpperCase())===ze:(null===rl||void 0===rl?void 0:rl.type)===ze,Wl=(ml||nl)&&Vl,Yl=Object(F.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),Gl=null===Yl||void 0===Yl||null===(q=Yl.requestedDateTime)||void 0===q?void 0:q.isForNow,{isOrderCapacityLoading:Kl,isOrderCapacitySuccess:ql,isOrderCapacityFailure:Jl,isStoreStatusLoading:Xl,orderCapacity:zl,storesWithStatus:Zl}=Object(F.c)((e=>Object(S.sd)(e.storesReducer))),[Ql,$l]=Object(w.useState)(!0),[ea,ta]=Object(w.useState)(!1),[la,aa]=Object(w.useState)(!1),[ia,oa]=Object(w.useState)(!1),[ra,da]=Object(w.useState)({}),na=sessionStorage.getItem(v.Ne.SCHEDULE_DATE_EPOCH),[sa,ca]=Object(w.useState)(T()(ra)&&!na&&sl),[ua]=Object(w.useState)(),[va,Oa]=Object(w.useState)([]),[ba,ha]=Object(w.useState)({}),[ma,Sa]=Object(w.useState)(),[ja,pa]=Object(w.useState)(),[Ta,Ea]=Object(w.useState)(),[ga,Ca]=Object(w.useState)(!1),[Da,Ia]=Object(w.useState)(!1),[Aa,fa]=Object(w.useState)(!1),[ya,Na]=Object(w.useState)(!1),[_a,Ra]=Object(w.useState)({error:!1,errormessage:"",errorType:"",warningMessage:""}),[xa,wa]=Object(w.useState)(!1),La=Object(n.a)(),Fa=Ce(la,Ql,Kt),Ma=sl||De(la,ea,Gt),ka=Ie(la,qt),Ua=Ae(ia,Jt),Ha={hasError:_a,setHasError:Ra},Ba=((null===il||void 0===il?void 0:il.toUpperCase())||(null===rl||void 0===rl?void 0:rl.type))===Qe,Pa=Object(w.useMemo)((()=>{const e=Object(S.ad)(Object(S.Sd)(Ht.currentStoreInfo),Object(S.b)(localStorage.getItem(lt)),Ht.currentStoreInfo);return null!==e&&void 0!==e&&e.id?e:{...e,id:null===e||void 0===e?void 0:e.storeId}}),[Ht.currentStoreInfo]),{deliveryPartner:Va="",dropoffEtaUD:Wa="",timeZoneIANA:Ya=""}=(null===Zl||void 0===Zl||null===(J=Zl[0])||void 0===J?void 0:J.summary)||{},Ga=!(null===(z=Object(S.b)(localStorage.getItem(lt)))||void 0===z||null===(se=z.summary)||void 0===se||!se.deliveryPartner||!Tl),Ka=Object(V.e)(Va)&&Tl,qa=el?null===Pa||void 0===Pa||null===(ce=Pa.summary)||void 0===ce?void 0:ce.status:null===Zl||void 0===Zl||null===(ve=Zl[0])||void 0===ve||null===(Oe=ve.summary)||void 0===Oe?void 0:Oe.status,Ja=fl&&(null===Rl||void 0===Rl?void 0:Rl.includes(null===Pa||void 0===Pa?void 0:Pa.service)),Xa=Al||Ja,za=Object(y.t)(Pa,Xa,Ja,!1,bl,wl,pl,Fl),Za=he(Pa,za),Qa=Xa&&(Za||sl),$a=Ee(Xa,rl),ei=sl&&(null===_a||void 0===_a?void 0:_a.error)&&(null===_a||void 0===_a?void 0:_a.errorType)===x.a.ORDER_CAPACITY_DAY_ERROR,ti=$(Xa,va),li=ee(Xa,ba,ei,Va),ai=Pa,ii=(null===ai||void 0===ai?void 0:ai.id)||(null===ai||void 0===ai?void 0:ai.storeId),oi=Object(S.Sc)(null===ai||void 0===ai?void 0:ai.name)||(null===ai||void 0===ai||null===(be=ai.summary)||void 0===be?void 0:be.name),ri=Object(S.Fd)(Pa),di=null===ol||void 0===ol?void 0:ol.latLong,{fetchData:ni}=Object(H.a)(),{fetchEventItemAvailabilityForDisposition:si}=Object(P.a)(),ci=Object(w.useCallback)((e=>{let t=JSON.parse(localStorage.getItem(v.gd.SEARCHED_LOCATIONS)),l=!al&&t?t[(null===t||void 0===t?void 0:t.length)-1]:[];Object(y.a)(al,null===Vt||void 0===Vt?void 0:Vt.storeInfo,e,ll,t,l,Bt,Ka,Ka)}),[ll,al,null===Vt||void 0===Vt?void 0:Vt.storeInfo,Bt,Ka],[ll,al,null===Vt||void 0===Vt?void 0:Vt.storeInfo,Bt,Ka]),ui=Object(w.useCallback)((()=>{var e;if(Nl&&(null===Yl||void 0===Yl||null===(e=Yl.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Lt,onConfirm:Ft};Object(S.Fe)(Bt,e,xt,wt)}else vi()}),[Bt,Nl]),vi=()=>{Bt({type:ft}),Bt({type:Ct,value:{showDisposition:!0}});let e={type:gt,value:{showScheduleOrderCatering:!1}};null!==Il&&void 0!==Il&&Il.clearDliveryTextFilter&&(e={type:gt,value:{showScheduleOrderCatering:!1,changeFlow:!0}}),Bt(e),Bt({type:Et,value:{showSearchStore:!1}}),Bt({type:Rt,value:{orderCapacityDataUpdated:!1}})},Oi=Object(w.useCallback)((()=>{var e;if(_l&&(null===Yl||void 0===Yl||null===(e=Yl.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Lt,onConfirm:Ft};Object(S.Fe)(Bt,e,xt,wt)}else bi()}),[Bt,_l]),bi=Object(w.useCallback)((()=>{ci(Wl?N.a:N.c),fe(Ht,Bt),Bt({type:Rt,value:{orderCapacityDataUpdated:!1}})}),[ci]),hi=()=>{localStorage.removeItem(rt)},mi=(null===(xe=Object(S.b)(localStorage.getItem(et)))||void 0===xe?void 0:xe.deliveryAddressLine)||(null===ol||void 0===ol?void 0:ol.selectedLineValueAddress),Si=(null===ol||void 0===ol?void 0:ol.selectedLineValueAddress)||(null===(we=Object(S.b)(localStorage.getItem(et)))||void 0===we?void 0:we.deliveryAddressLine),ji=Object(S.ad)(ll,Object(S.ad)(jl,mi,Si),(null===Vt||void 0===Vt?void 0:Vt.deliveryAddressLine)||(null===ol||void 0===ol?void 0:ol.selectedLineValueAddress)),pi=(null===Vt||void 0===Vt||null===(Le=Vt.selectedAddress)||void 0===Le?void 0:Le.specialNote)||(null===(Fe=Object(S.b)(localStorage.getItem(nt)))||void 0===Fe?void 0:Fe.specialNote);Object(w.useEffect)((()=>{(async()=>{if(Wl){const e=Object(S.b)(localStorage.getItem(tt));if(jl&&"string"===typeof e)Sa(e);else{const t=Object(S.ac)(e,void 0,void 0,Ga);Ea(null===e||void 0===e?void 0:e.state),pa(null===e||void 0===e?void 0:e.city),Sa(t)}}else{const e=il||v.Jb.DELIVERY,t=await Object(S.Eb)(e,null===Vt||void 0===Vt?void 0:Vt.deliveryAddress,Ll),l=Object(S.ac)(t);Ea(null===t||void 0===t?void 0:t.state),pa(null===t||void 0===t?void 0:t.city),Sa(Object(R.M)(ol)||l),localStorage.setItem(v.gd.FORMATTED_DELIVERY_ADDRESS_FILTERBY,Ll)}})()}),[null===Vt||void 0===Vt?void 0:Vt.deliveryAddress]);const Ti=Object(S.ad)(ll&&!Wl,Object(R.M)(ol)||(null===(Me=Object(S.b)(localStorage.getItem(et)))||void 0===Me?void 0:Me.deliveryAddress),ma),Ei="".concat(null===(ke=Object(y.i)(ll,al,il))||void 0===ke?void 0:ke.dispositionValue,"_").concat(tl),gi=Wl?D.b:N.d,{shouldShowUserLocation:Ci,shouldShowOrderType:Di,orderModeScreenErrorText:Ii,scheduleOrderScreenTitle:Ai,shouldShowDateTime:fi,orderModeBtnText:yi}={...null===gi||void 0===gi?void 0:gi[Ei],...null===Il||void 0===Il?void 0:Il[Ei]},Ni=(e,t,l,a,i)=>{const d={dispatch:Hl,userOrderStateDispatch:Bt,dispositionNew:rl,selectedDispositionValue:e,currentStoreInfoData:Pa,dateTimeObj:t,scheduleOrderData:Vt,history:Bl,redirectionOrder:Yt,userParams:Ml,dispositionType:il,fromflag:"",obj:l,updatedBasketId:a,isFromDeliveryAddressForm:Wl,scheduleOrderDateFormat:i,sliceDispatch:La,enableDeliveryMenuOption:El,showToastAfterLocalization:Cl};if(t.selectedTime!==v.s&&t.time!==v.s){const{storeId:e,channel:a,service:i,requestedDateTime:o}=l,n={storeid:e,channel:a,service:i,futureDateTimeInEpochFormat:null===o||void 0===o?void 0:o.futureDateTime};si({date:t.date,storeId:null===Pa||void 0===Pa?void 0:Pa.id,time:t.selectedTime}),Hl(Object(r.n)({data:n,tenantId:ul},(()=>Object(y.u)(d)),null))}else Object(o.g)(),Object(y.u)(d)},_i=(e,t,l)=>{hi(),Hl(Object(i.f)({data:l,tenantId:ul})),Ni(e,t,l,kl)},Ri=async(e,t,l,a)=>{var o,d,n,s,c,u,O,b,h;Bt({type:dt,value:{changeScheduleModeFlag:!1}}),e.stopPropagation(),e.preventDefault();const j=Object(y.e)(ba,ra,Ol),p={date:null===j||void 0===j?void 0:j.date,time:null===j||void 0===j?void 0:j.time,selectedTime:null===j||void 0===j?void 0:j.selectedTime,epochTime:null===j||void 0===j?void 0:j.epochTime},T=null===(o=Object(y.i)(ll,al,il))||void 0===o?void 0:o.dispositionValue,E={storeID:(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.storeId),disposition:T,postCode:(null===t||void 0===t||null===(d=t.addresses)||void 0===d||null===(n=d[0])||void 0===n||null===(s=n.address)||void 0===s?void 0:s.pinCode)||"",storeName:(null===t||void 0===t||null===(c=t.name)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.value)||(null===t||void 0===t||null===(O=t.summary)||void 0===O?void 0:O.name)};var g,C,D,A,f,N;Object(S.ge)(T)?(E.state=(null===t||void 0===t||null===(g=t.addresses)||void 0===g||null===(C=g[0])||void 0===C||null===(D=C.address)||void 0===D?void 0:D.state)||"",E.city=(null===t||void 0===t||null===(A=t.addresses)||void 0===A||null===(f=A[0])||void 0===f||null===(N=f.address)||void 0===N?void 0:N.city)||""):(E.state=Ta||"",E.city=ja||"");Ut(E),Bt({type:At,value:{startOrderBtnClicked:!0}}),Bt({type:gt,value:{showScheduleOrderCatering:!1,selectedStoreInfo:t}}),Bt({type:Dt,value:{dispositionType:T}}),localStorage.setItem($e,T),localStorage.setItem(at,JSON.stringify(t)),localStorage.setItem(lt,JSON.stringify(t)),Bt({type:It,value:t||{}}),Bt({type:Et,value:{showSearchStore:!1}}),Bt({type:I.a.SET_MULTI_PRODUCT_VIEW_MODAL,isFromMultiProductViewModal:!1});const _=(null===Vt||void 0===Vt?void 0:Vt.selectedAddress)||JSON.parse(localStorage.getItem(nt))||(null===ol||void 0===ol?void 0:ol.selectedAddress),R=await Object(S.A)(t,Object(S.Mb)(T),"",p,null===Vt||void 0===Vt?void 0:Vt.deliveryAddress,null===Vt||void 0===Vt?void 0:Vt.deliveryAddressLine,_,void 0,a,JSON.parse(localStorage.getItem(v.gd.ADDRESS_COORDS)));if(l){var x,w;if(Object(S.Hd)(null===Pa||void 0===Pa?void 0:Pa.service))return void _i(T,p,R);if(((null===rl||void 0===rl||null===(x=rl.type)||void 0===x?void 0:x.toUpperCase())!==T||(null===rl||void 0===rl||null===(w=rl.store)||void 0===w?void 0:w.id)!==(null===Pa||void 0===Pa?void 0:Pa.id)||(null===rl||void 0===rl?void 0:rl.deliveryAddress)!==(null===Vt||void 0===Vt?void 0:Vt.deliveryAddress)||(null===rl||void 0===rl?void 0:rl.selectedTime)!==p.selectedTime||(null===rl||void 0===rl?void 0:rl.date)!==(null===p||void 0===p?void 0:p.date))&&kl&&null!==Ul&&void 0!==Ul&&Ul.length)return void _i(T,p,R)}var L,F,M,k;Object(S.Ke)(null===rl,(null===rl||void 0===rl||null===(b=rl.type)||void 0===b?void 0:b.toUpperCase())!==T,(null===rl||void 0===rl||null===(h=rl.store)||void 0===h?void 0:h.id)!==(null===Pa||void 0===Pa?void 0:Pa.id),(null===rl||void 0===rl?void 0:rl.deliveryAddress)!==(null===Vt||void 0===Vt?void 0:Vt.deliveryAddress),(null===rl||void 0===rl?void 0:rl.deliveryAddressLine)!==(null===Vt||void 0===Vt?void 0:Vt.deliveryAddressLine),(null===rl||void 0===rl?void 0:rl.selectedTime)!==p.selectedTime,(null===rl||void 0===rl?void 0:rl.date)!==(null===p||void 0===p?void 0:p.date))&&(kl&&(null===Ul||void 0===Ul?void 0:Ul.length)>0?((null===rl||void 0===rl||null===(L=rl.type)||void 0===L?void 0:L.toUpperCase())===T&&(null===rl||void 0===rl||null===(F=rl.store)||void 0===F?void 0:F.id)===(null===Pa||void 0===Pa?void 0:Pa.id)&&(null===rl||void 0===rl?void 0:rl.deliveryAddress)===(null===Vt||void 0===Vt?void 0:Vt.deliveryAddress)&&(null===rl||void 0===rl?void 0:rl.deliveryAddressLine)===(null===Vt||void 0===Vt?void 0:Vt.deliveryAddressLine)||Hl(Object(i.z)({tenantId:ul,basketId:kl,postBody:{storeID:null===Pa||void 0===Pa?void 0:Pa.id,service:Ba?v.bc:null===T||void 0===T?void 0:T.toLowerCase(),deliveryAddress:null===R||void 0===R?void 0:R.deliveryAddress,requestedDateTime:null===R||void 0===R?void 0:R.requestedDateTime}},(()=>{Hl(Object(r.q)({params:{basketId:kl},tenantId:ul,postBody:null===R||void 0===R?void 0:R.requestedDateTime,orderReadyDateTimeUpdateSuccessCallback:()=>{Ni(T,p,R,"",Ol),Re(Pa,Bl,El,Cl)},orderReadyDateTimeUpdateErrorCallback:()=>{var e,t;const l=1e3*(null===Yl||void 0===Yl||null===(e=Yl.requestedDateTime)||void 0===e?void 0:e.futureDateTime),a=m.a.tz(l,Ya),i=a.format(v.sb.YYYY_MM_DD),o=a.format(v.sb.hh_mm_A),r={date:i,time:o,selectedTime:o,epochTime:null===Yl||void 0===Yl||null===(t=Yl.requestedDateTime)||void 0===t?void 0:t.futureDateTime};Ni(T,r,R,"",Ol)}}))}))),(null===rl||void 0===rl||null===(M=rl.type)||void 0===M?void 0:M.toUpperCase())!==T||(null===rl||void 0===rl||null===(k=rl.store)||void 0===k?void 0:k.id)!==(null===Pa||void 0===Pa?void 0:Pa.id)||(null===rl||void 0===rl?void 0:rl.deliveryAddress)!==(null===Vt||void 0===Vt?void 0:Vt.deliveryAddress)||(null===rl||void 0===rl?void 0:rl.deliveryAddressLine)!==(null===Vt||void 0===Vt?void 0:Vt.deliveryAddressLine)||(null===rl||void 0===rl?void 0:rl.selectedTime)===p.selectedTime&&(null===rl||void 0===rl?void 0:rl.date)===(null===p||void 0===p?void 0:p.date)||Hl(Object(r.q)({params:{basketId:kl},tenantId:ul,postBody:null===R||void 0===R?void 0:R.requestedDateTime,orderReadyDateTimeUpdateSuccessCallback:()=>{Ni(T,p,R,"",Ol),Re(Pa,Bl,El,Cl)}}))):(Re(Pa,Bl,El,Cl),Hl(Object(i.f)({data:R,tenantId:ul})),Ni(T,p,R,kl,Ol)))},xi=Object(w.useCallback)((()=>{Wl||Bt({type:ft}),ci(N.a),Bt({type:Rt,value:{orderCapacityDataUpdated:!1}})}),[ci,Bt]),wi=(e,t,l)=>{const a={data:Object(S.C)(e,t,null,Dl,di),store:e,tenantId:ul,setStatusFlag:!1,isFavoritePage:!1};Hl(Object(r.d)(a,l))};Object(w.useEffect)((()=>{Kl||_e({DATE_FORMATS:v.sb,changeFlow:ll,dateTimeArr:va,dateEpochFromStorage:na,enableOrderCapacityManagement:sl,formatDateTime:b.h,getFormatFromUnix:b.C,getScheduledEpochDateTime:ae,hasError:_a,isEmpty:T.a,isOrderCapacityLoading:Kl,orderCapacity:zl,scheduledOrderCapacityNoOrdersError:y.p,scheduledOrderCapacityTimeSlotError:y.q,selectedDate:ba,selectedTime:ra,setHasError:Ra,setSelectedTime:da,SESSION_STORAGE_KEYS:v.Ne,sessionStorage:sessionStorage,storeId:ii,deliveryPartner:Va})}),[ll,sl,Kl,zl,null===ba||void 0===ba?void 0:ba.date,null===ra||void 0===ra?void 0:ra.key,ii]);const Li={dispositionType:il,orderCapacityDataUpdated:Rt,setOrderCapacityCallDispatched:Na,setSelectedDate:ha,userOrderStateDispatch:Bt},Fi={setSelectedTime:da,setErrorObj:Ha};Object(w.useEffect)((()=>{var e;return wi(Object(S.ad)(ll,[null===rl||void 0===rl?void 0:rl.store],[Pa]),Object(S.Mb)(null===(e=Object(y.i)(ll,al,il))||void 0===e?void 0:e.dispositionValue)),()=>{Bt({type:yt,value:{findAKFC:!1}})}}),[]),Object(w.useEffect)((()=>{Object(y.s)(ll,Bt,rl,gt)}),[ll]);const Mi=me(Zl,qa,ri,ra,rl),ki=Se(Za,ba,ra,sl),Ui=Te({enableScheduleOrderFlag:Xa,isAsapSelecetedUnavailableFlag:Mi,isFutureTimeSelectedUnavailableFlag:ki,isStoreStatusLoading:Xl,selectedStoreStatus:qa,currentStoreInfoData:Pa}),Hi=Mi&&(null===Pl||void 0===Pl||null===(Ue=Pl.cartData)||void 0===Ue?void 0:Ue.service)===ze.toLowerCase();let Bi=Object(S.ad)(Ui||Hi,Ii,"");Bi=Object(S.ad)(je(ba,ra),"",Bi),Object(w.useEffect)((()=>{var e;const t=null===(e=Object(y.i)(ll,al,il))||void 0===e?void 0:e.dispositionName;ga||Object(y.l)(Bi,t,Ca)}),[Bi,null===qa||void 0===qa?void 0:qa.currentStatus]),Object(w.useEffect)((()=>{if(sl&&(null===Ht||void 0===Ht||!Ht.orderCapacityDataUpdated||(null===rl||void 0===rl?void 0:rl.type)===Qe)&&!Kl&&!T()(null===ba||void 0===ba?void 0:ba.date)&&!T()(ii)&&!Da){var e;const t=Object(b.A)(null===ba||void 0===ba||null===(e=ba.date)||void 0===e?void 0:e.key,cl);if(t&&!ya){const e=null!==il&&void 0!==il?il:null===rl||void 0===rl?void 0:rl.type;ni({storeId:ii,timeStamp:t,dispositionType:e}),Na(!0)}}}),[ll,Hl,sl,Kl,ql,Jl,Da,ya,Rt,cl,null===ba||void 0===ba?void 0:ba.date,ii,null===Ht||void 0===Ht?void 0:Ht.orderCapacityDataUpdated,Bt]),Object(w.useEffect)((()=>{ya&&(ql&&Bt({type:Rt,value:{orderCapacityDataUpdated:!0}}),Ia(Jl))}),[ya,ql,Jl,Bt,Rt]),Object(w.useEffect)((()=>{ll&&Bt({type:Rt,value:{orderCapacityDataUpdated:!1}})}),[ll,Bt,Rt]),Object(w.useEffect)((()=>{sl&&null!==_a&&void 0!==_a&&_a.error&&fa(!0)}),[null===_a||void 0===_a?void 0:_a.error,sl]),Object(w.useEffect)((()=>{const e=Xa||fi;if(e&&null!==Zl&&void 0!==Zl&&Zl.length)if(Object(V.e)(Va)&&Tl)Object(y.d)(Wa,ha,da,na,Ya);else{const t={shouldShowScheduleOrder:e,store:Zl,setDateTimeArr:Oa,setSelectedDate:ha,setSelectedTime:da,changeFlow:ll,showScheduleOrder:Ma,enableScheduleOrder:Xa,enableClickCollectScheduleOrderFlag:Ja,scheduleModeClicked:Xt,orderServDateFormat:cl,isSpecialEvent:Ba,enableOrderCapacityManagement:sl,changeDateFormatOrder:wl,isAsapDisabledForTenant:pl};Object(y.c)(t,Ol,bl,hl)}}),[Zl,ll]);const Pi=Object(a.translateWithI18Next)(null===(He=Object(y.i)(ll,al,il))||void 0===He||null===(Be=He.dispositionValue)||void 0===Be?void 0:Be.toLowerCase())===Object(a.translateWithI18Next)(O.a.DELIVERY)?Object(a.translateWithI18Next)(O.a.SELECT_DELIVERY_TIME):Object(a.translateWithI18Next)(O.a.SELECT_PICKUP_TIME),Vi=Ne(Pa,ka&&!Ba,Pi,pl),Wi=Ba?Object(a.translateWithI18Next)(O.a.CHRISTMAS_ORDERING):Object(a.translateWithI18Next)(null===(Pe=Object(y.i)(ll,al,il))||void 0===Pe||null===(Ve=Pe.dispositionValue)||void 0===Ve?void 0:Ve.toLowerCase());return Object(w.useEffect)((()=>{wa(Tl&&Object(V.e)(Va))}),[Va]),Object(K.jsxs)(L.a.Fragment,{children:[Object(K.jsxs)(g.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"schedule-order-id",show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:e=>{hi(),localStorage.setItem(v.gd.CONFIG_SEARCH_SCREEN,N.a),Wl&&!ll&&(Bt({type:gt,value:{selectedAddress:{}}}),localStorage.removeItem(nt),La(Object(d.c)({key:v.se.SELECTED_ADDRESS}))),Bt({type:ft}),zt&&localStorage.setItem(v.gd.DISPOSITION_TYPE,Zt),zt&&Bt({type:Z}),e.stopPropagation(),e.preventDefault(),localStorage.setItem(ot,!0),Bt({type:gt,value:{selectedStoreInfo:Ht.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),Bt({type:Et,value:{showSearchStore:!1}}),Bt({type:Nt,value:{redirectionOrder:""}}),Bt({type:yt,value:{findAKFC:window.location.pathname===v.Ce.FIND_STORE}}),ge(Ht,Bt),Bt({type:Mt,orderSummaryModalClose:!1}),Bt({type:Rt,value:{orderCapacityDataUpdated:!1}})},modalTitle:Object(a.translateWithI18Next)(Ai),closeDataTestId:"close-modal-handler",backDataTestId:"back-handler-schedule-order",showBackBtn:!0,backButtonHandler:bi,children:[Object(K.jsx)(f.a,{show:Di,sectionHeader:ut,subSectionValue:Wi,orderTypeChange:Ot,onClickHandler:ui,storeUnavailableError:!(!Bi&&!Hi||Ba)&&Bi,enableScheduleOrder:Al||Ba,showOrderNow:Fa,dataTestid:"disposition-change-link",elementUniqueLocator:vl}),Object(K.jsx)(f.a,{show:Ci,sectionHeader:Ga?pt:bt,subSectionValue:null!==dl&&void 0!==dl&&dl.showComma?Ti:null===Ti||void 0===Ti?void 0:Ti.replace(/,/g,""),description:ji,specialNote:pi,cssSubsection:Wl?"schedule-order-description-value":"",orderTypeChange:Ot,onClickHandler:xi}),Object(K.jsx)(f.a,{show:!0,sectionHeader:vt,subSectionValue:oi,orderTypeChange:Ot,onClickHandler:Oi,showChangeButton:te(xl,Vl,Wl),dataTestid:"store-change-link",elementUniqueLocator:vl}),Object(K.jsx)(f.a,{show:!(Ba||Wl||!Xa)&&(Fa&&!Gl),sectionHeader:(null===(We=Object(y.i)(ll,al,il))||void 0===We||null===(Ye=We.dispositionValue)||void 0===Ye?void 0:Ye.toUpperCase())===ze?jt:St,subSectionValue:Object(a.translateWithI18Next)(O.a.ASAP),orderTypeChange:Ot,onClickHandler:()=>oe($l,ta,oa,aa,null),showChangeButton:Qa,dataTestid:"schedule-time",elementUniqueLocator:vl}),ye({userOrderState:Ht,enableScheduleOrderFlag:Xa,showScheduleOrder:Ma,showSheduleDisposition:Ua,shouldShowDateTime:fi,dateString:$a,enableSceduleCA:Qa,setOrderNowFlag:$l,setScheduleOrdeFlag:ta,setScheduleDisposition:oa,setChangeScheduleOrderMode:aa,isForNow:Gl,shouldShowDateTimeSection:Aa,isSpecialEvent:Ba,isFromDeliveryAddressForm:Wl,setIsEditingDateTime:ca,orderNowFlag:Ql,enableOrderCapacityManagement:sl}),Object(K.jsx)(A.a,{show:sa||Aa||pe({enableScheduleOrderFlag:Xa,showScheduleOrder:Ma,scheduleOrderFlag:ea,showSheduleDisposition:Ua,shouldShowDateTime:fi}),sectionHeader:Ga?Tt:Xa?(null===(Ge=Object(y.i)(ll,al,il))||void 0===Ge||null===(Ke=Ge.dispositionValue)||void 0===Ke?void 0:Ke.toUpperCase())===ze&&jt||St:ht,subSectionValue:oi,orderTypeChange:Ot,changeDateValue:de,changeTimeValue:re,dateTimeArr:va,changeTimeObj:Fi,changeDateObj:Li,selectedDate:ba,selectedTime:ra,placeholderText:Vi,enableClickCollectScheduleOrderFlag:Ja,showCateringWarning:{show:Object(S.hb)((null===il||void 0===il?void 0:il.toUpperCase())===Ze,(null===Ht||void 0===Ht||null===(qe=Ht.dispositionOld)||void 0===qe||null===(Je=qe.type)||void 0===Je?void 0:Je.toUpperCase())===ze),warning:Object(a.translateWithI18Next)(mt),image:Xe,cssClass:"location-blocked"},scheduleTimeWarning:Xa&&_a&&_a.error,scheduleErrMsg:_a.errormessage,scheduleErrorType:_a.errorType,scheduleWarningMsg:_a.warningMessage,disableDateOption:ti,disableTimeOption:li,enableScheduleOrderFlag:Xa,enableOrderCapacityManagement:sl,orderCapacity:zl,storeId:ii,elementUniqueLocator:vl,isUberStore:Ga}),!Xa&&ua&&Object(K.jsxs)("div",{className:"store-cannot-deliver-error timebased-inline-message",children:[Object(K.jsx)(U.a,{srcFile:s.a.Error_Yellow,className:"store-cannot-deliver-icon"}),Object(K.jsx)("div",{className:"storeErrorMessage",children:ua})]}),Ht.showCartClearAlert?Object(K.jsx)(C.a,{}):null,Object(K.jsx)("div",{className:"scheduleOrder-button-container",children:Object(K.jsx)(k.c,{variant:k.b.secondary,"aria-label":Object(a.translateWithI18Next)(yi),onClickHandler:e=>{const t=Boolean((null===ra||void 0===ra?void 0:ra.key)===v.s);if(Object(B.a)(Vt),Q(ra,Xa))Object(y.r)(Ra,_a,!0);else{var l;const a=ae(t,ra);fa(!1),sessionStorage.setItem(v.Ne.SCHEDULE_DATE_EPOCH,a),!sl&&Xa&&Fa&&Ql&&Bt({type:_t,value:{enableASAPScheduling:!0}}),!Xa||Fa&&Ql||Bt({type:_t,value:{enableASAPScheduling:!1}}),Xa&&la&&Ua&&(Bt({type:x.a.SET_ORDER_NOW,value:{showOrderNow:Ql}}),Bt({type:x.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:ea}}),Bt({type:dt,value:{changeScheduleModeFlag:!0}}),Bt({type:kt,value:{showSheduleDisposition:!0}}),Object(E.s)({...$t,isTimeExpired:!1},Bt),Object(E.q)(Qt,Bt));const i=ue(Xa||(null===Rl||void 0===Rl?void 0:Rl.includes(null===Pa||void 0===Pa?void 0:Pa.service)),Ma);wi(ie(ll,rl,Pa,zt,ml,Sl,el),Object(S.Mb)(null===(l=Object(y.i)(ll,al,il))||void 0===l?void 0:l.dispositionValue),(t=>{t.length>0&&ne(e,t,i,Ri,Ka)})),Object(u.u)(Wi),localStorage.setItem(v.gd.TO_EVENT_PAGE_USING_BUTTON,!0),localStorage.setItem(v.gd.GET_STORE_STATUS_FOR_TIME_SAGA_CALLING,!0)}},"data-testid":"confirm-button-handler",inactive:le({enableOrderCapacityManagement:sl,storeUnavailableError:Bi,enableScheduleOrderFlag:Xa,selectedTime:ra,showOrderNow:Fa,changeScheduleMode:ka,hasError:_a,isForNow:Gl,scheduleModeClicked:Xt}),children:Object(a.translateWithI18Next)(yi)})})]}),Object(K.jsx)(X,{isOpen:xa})]})}},1101:function(e,t,l){"use strict";l.d(t,"a",(function(){return S}));var a=l(3),i=l(28),o=l(92),r=l(106),d=l(85);const n={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var s=l(16),c=l(6),u=l(5),v=l(35),O=l(15),b=l(0),h=l(80),m=l(2);const S=e=>{const t=Object(i.c)((e=>e.cartReducer)),{cartData:l={}}=t||{},S=Object(i.c)((e=>e.tenantReducer)),{tenantId:j=""}=S||{},{userOrderState:p,userOrderStateDispatch:T}=Object(a.useContext)(d.a),{modalToOpenOnConfirm:E,modalOpenFrom:g,confirmCallBack:C}=p,{CartError:D}=O.a,I=Object(i.b)(),{CLEAR_ALL_MSG:A,CLEAR_ALL:f,CANCEL:y,TO_CHANGE_LANGUAGE:N}=n;((e,t,l)=>{e.langSelector?t.MSGTXT3=l:t.MSGTXT3})(e,A,N);const{SHOW_CLEAR_CART_ALERT:_,DISPOSITION_DATA:R,SEARCH_ORDER_DATA:x,SCHEDULE_ORDER_DATA:w,clearCartChangeFlag:L,orderTypeAlertTitle:F,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:U,ORDER_CAPACITY_DATA_UPDATED:H}=s.a,B=Object(u.Sd)(p.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):p.dispositionNew,P=()=>{T({type:U,value:{}}),T({type:b.Oe,value:{selectedLanguage:""}}),T({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),g===L&&T({type:w,value:{showScheduleOrderCatering:!0,selectedStoreInfo:B.store,changeFlow:!0}})};return Object(m.jsx)(r.a,{handleClose:P,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(o.a,{splitTitle:A,imageSrc:D,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(f),cancelButtonText:Object(c.translateWithI18Next)(y),cancelHandler:P,confirmHandler:()=>{if(l.discountLines.length>0){let e=l.discountLines.map((e=>e.id));I(Object(v.n)({params:{basketId:l.id},tenantId:j,shouldClearCart:!0},e))}else I(Object(v.o)({basketId:l.id,tenantId:j}));I(Object(h.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),I(Object(v.u)(new Date)),T({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),C&&C(),E===F?(T({type:k}),T({type:R,value:{showDisposition:!0}}),T({type:w,value:{showScheduleOrderCatering:!1}}),T({type:x,value:{showSearchStore:!1}}),T({type:H,value:{orderCapacityDataUpdated:!1}}),T({type:U,value:{}})):E===M&&T({type:x,value:{showSearchStore:!0}})}})})}},1107:function(e,t,l){"use strict";var a=l(3),i=l(85),o=l(5),r=l(12);t.a=()=>{const{userOrderState:e}=Object(a.useContext)(i.a),t=Object(a.useMemo)((()=>(Object(o.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(r.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1117:function(e,t,l){"use strict";var a=l(3),i=l.n(a),o=l(46),r=l(2);const d=e=>{const{show:t,errorMsg:l="",cssClass:a="",errImage:i}=e;return t?Object(r.jsxs)("div",{className:"inline-error-container ".concat(a),children:[Object(r.jsx)(o.a,{srcFile:i}),Object(r.jsx)("div",{className:"error-message",children:l})]}):null},n=i.a.memo(d);t.a=n},1140:function(e,t,l){"use strict";var a=l(3),i=l(28),o=l(20),r=l.n(o),d=l(415),n=l(421),s=l(57),c=l(1107),u=l(12),v=l(5),O=l(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(i.b)(),{dispositionNew:l}=Object(c.a)(),o=Object(i.c)((e=>e.specialEventReducer||{})),b=Object(i.c)((e=>e.cartReducer||{})),{isLoading:h}=o,{cartData:m}=b,S=e=>(null===e||void 0===e?void 0:e.toUpperCase())===O.Ff,j=Object(a.useMemo)((()=>o.specialEventItemAvailability||[]),[o.specialEventItemAvailability]),p=Object(a.useMemo)((()=>{const{type:e}=l||{},t=Object(d.a)(S,v.Mb);return!!e&&t(e)}),[l]),T=Object(a.useCallback)((function(e){var t;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=j.find((t=>{let{id:l}=t;return l.includes(e)}));if(!a)return!1;const i=null===m||void 0===m||null===(t=m.foodLines)||void 0===t?void 0:t.find((t=>{var l;return(null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l.id)===e})),o=(null===i||void 0===i?void 0:i.quantity)||0,{available:r,stock:d}=a;return r&&parseInt(d)>0&&l?o<=parseInt(d):o<parseInt(d)}),[j,null===m||void 0===m?void 0:m.foodLines]),E=Object(a.useCallback)((e=>{let{date:l,storeId:a,time:i}=e;if(!l||!a||!i)return!1;const o=s.a.formatValue(s.a.dayjs(i,O.sb.h_mm_A),O.sb.HHmm),r=Object(u.A)("".concat(l," ").concat(i),O.sb.YYYY_MM_DD_h_mm_A);t(Object(n.a)(a,r,o))}),[t]),g=Object(a.useCallback)((()=>{if(!p||h)return!1;const{date:e,selectedTime:t,store:a}=l;E({date:e,storeId:a.id,time:t})}),[l,E,p,h]);Object(a.useEffect)((()=>{e&&r()(j)&&g()}),[g,e,j]);return{isAllCartProductsAvailable:()=>{var e;const t=null===b||void 0===b||null===(e=b.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return T(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:j,fetchEventItemAvailability:g,fetchEventItemAvailabilityForDisposition:e=>{if(!p)return!1;E(e)},getEventItemAvailability:T,isEvent:p}}},1145:function(e,t,l){"use strict";l.d(t,"d",(function(){return a})),l.d(t,"a",(function(){return i})),l.d(t,"c",(function(){return o})),l.d(t,"b",(function(){return r}));const a={HOME:"Home",CARD_DETAILS_VIEW:"Card Details View",KFC_FORM:"KFC form",MILE_DETAILS:"mile details",RANKING:"Ranking"},i={KFC:"kfc",PONTA:"ponta",RAKUTEN:"rakuten"},o={PLATINUM:"platinum",REGULAR:"regular",BRONZE:"bronze",SILVER:"silver",GOLD:"gold"},r={milesMemberId:"I",stageNumber:"R",pontaId:"P",kfcCard:"K",rakutenId:"RK",expirationTime:"ED"}},1185:function(e,t,l){"use strict";l.d(t,"a",(function(){return T})),l.d(t,"b",(function(){return E}));var a=l(4),i=l(0),o=l(267);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:r}=o.b,{DELIVERY:d}=i.Jb||{},{DELIVERY_PLACEHOLDER:n,SELECT_KFC_TITLE:s,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:O,STORE_CLOSE_ERROR_DELIVERY:b,SAVED_ADDRESS:h,DELIVER_TO_YOU:m,ORDER_MODE:S,SELECT_STORE_TEXT:j,START_ORDER:p}=a.a,T="FORM",E={["".concat(d,"_").concat(T)]:{placeholder:n,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:h,scheduleOrderScreenTitle:S,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:p,filteredTypes:r},["".concat(d,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:s,orderModeScreenErrorText:b,placeholder:n,kfcStoresCountText:m,scheduleOrderScreenTitle:S,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:p,filteredTypes:r},["".concat(d,"_").concat("SAVED")]:{placeholder:n,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:h,scheduleOrderScreenTitle:S,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:p,filteredTypes:r}}},1194:function(e,t,l){"use strict";var a=l(3),i=l.n(a),o=l(6),r=l(263),d=l(46),n=l(15),s=l(5),c=l(4),u=l(2);const v=e=>{const{isAlert:t,show:l,sectionHeader:a,subSectionValue:i,orderTypeChange:v,onClickHandler:O,description:b,storeUnavailableError:h,showChangeButton:m=!0,scheduleTimeWarning:S=!1,scheduleErrMsg:j="",cssSubsection:p,specialNote:T="",dataTestid:E="",elementUniqueLocator:g}=e;return l?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(a)}),Boolean(h)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&n.a.Error_Yellow||n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(o.translateWithI18Next)(h)}})]}),Boolean(S)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:j})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(p),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:i}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),T&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(o.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",T]}),Object(u.jsx)("div",{className:"border-bottom"}),m&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":g?E:"dynamic-click-test",children:Object(o.translateWithI18Next)(v)})})]})]}):null},O=i.a.memo(v);t.a=O},1195:function(e,t,l){"use strict";var a=l(3),i=l.n(a),o=l(6),r=l(15),d=l(430),n=l(4),s=l(120),c=l(1117),u=l(46),v=l(16),O=l(2);const b=e=>{const{show:t,sectionHeader:l,selectedDate:a,selectedTime:i,changeDateValue:b,changeTimeValue:h,dateTimeArr:m,showCateringWarning:S=!1,scheduleTimeWarning:j=!1,scheduleErrMsg:p="",scheduleErrorType:T="",scheduleWarningMsg:E="",changeTimeObj:g={},changeDateObj:C={},placeholderText:D,disableDateOption:I=!1,disableTimeOption:A=!1,enableScheduleOrderFlag:f=!1,enableOrderCapacityManagement:y=!1,orderCapacity:N={},storeId:_="",elementUniqueLocator:R,isUberStore:x=!1}=e,{SingleArrow:w}=r.a,{DATE:L,TIME:F,UBER_TIME:M}=n.a,k=f?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",U=y?Object(s.n)(N,_,a,m):[],H=y?U:null===a||void 0===a?void 0:a.timeSlots;return t?Object(O.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(O.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(l)}),Object(O.jsx)(c.a,{show:null===S||void 0===S?void 0:S.show,errorMsg:null===S||void 0===S?void 0:S.warning,errImage:null===S||void 0===S?void 0:S.image,cssClass:null===S||void 0===S?void 0:S.cssClass}),j&&Object(O.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(O.jsx)(u.a,{srcFile:r.a.Error,className:"store-cannot-deliver-icon"}),Object(O.jsx)("div",{className:"storeErrorMessage",children:p})]}),Object(O.jsxs)("div",{className:k,children:[Object(O.jsx)(d.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(o.translateWithI18Next)(L),setSelectedItem:b,changeDateObj:C,changeTimeObj:g,dateTimeArr:m,selectedItem:null===a||void 0===a?void 0:a.date,imgSrc:w,options:Object(s.o)(m),dropdownId:"date-id",disableOptions:I,enableOrderCapacityManagement:y,shouldDisplayDropdownError:j&&E&&T===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:E,dataTestid:"schedule-date",elementUniqueLocator:R}),Object(O.jsx)(d.a,{cssClass:"date-time-dropdown ".concat(y?"date-time-dropdown--order-capacity":""),dropdownTitle:x?Object(o.translateWithI18Next)(M):Object(o.translateWithI18Next)(F),setSelectedItem:h,changeDateObj:C,changeTimeObj:g,dateTimeArr:m,selectedItem:i,imgSrc:w,options:H,dropdownId:"time-id",placeholderText:D,disableOptions:A,enableOrderCapacityManagement:y,shouldDisplayDropdownError:j&&E&&T===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:E,dataTestid:"schedule-time",elementUniqueLocator:R})]})]}):null},h=i.a.memo(b);t.a=h},1235:function(e,t,l){"use strict";var a=l(3),i=l.n(a),o=l(32),r=l(4),d=l(106),n=l(92),s=l(15),c=l(2);t.a=e=>{let{confirmationMsg:t,handleClose:l,handleConfirmBtn:a,imageSrc:u}=e;const{CONFIRM_BTN_TEXT:v,CANCEL:O}=r.a;return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(d.a,{handleClose:l,classNames:"delete-account-modal unlink-confirmation-modal",CartAlertForm:Object(c.jsx)(n.a,{title:t,cancelButtonText:Object(o.translateWithI18Next)(O),confirmButtonText:Object(o.translateWithI18Next)(v),confirmHandler:a,cancelHandler:l,imageSrc:s.a.PictogramAlertIcon})})})}},1263:function(e,t,l){"use strict";var a=l(3),i=l.n(a),o=l(28),r=l(14),d=l(11),n=l(51),s=l(1235),c=l(6),u=l(4),v=l(1145),O=l(15),b=l(2);t.a=e=>{let{setStep:t,cardType:l,setShowConfirmationModal:h,handleUnlinkedAction:m,showConfirmationModal:S}=e;const j=Object(o.b)(),[p,T]=Object(a.useState)(!1),{ID:E,UNLINK:g,EXPIRATION_DATE:C,BALANCE:D,UNLINK_CONFIRMATION_MESSAGE:I,ABOUT_KFC_CARD:A,TRANSFER_BALANCE:f,AVAILABLE_POINTS:y,PONTA_CARD_NUMBER:N,RAKUTEN_CARD_NUMBER:_,LINKING:R}=u.a,x=l===v.a.KFC,w=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),{KFC_Card:L,PontaId:F,RakutenId:M}=w||{},k=Object(o.c)((e=>{var t,l;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(l=t.rakutenBalanceInquiry)||void 0===l?void 0:l.AvailablePoints})),U=Object(o.c)((e=>{var t,l;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(l=t.pontaBalanceInquiry)||void 0===l?void 0:l.AvailablePoints})),H="-1"===(null===w||void 0===w?void 0:w.RakutenId),B=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t?void 0:t.hideRakutenIdInDetails})),P=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.kfcLinkingData})),{BalanceAfter:V,ExpirationDate:W}=P||{};let Y="";if(W){const e=W.slice(0,4),t=W.slice(4,6),l=W.slice(6,8);Y="".concat(e,"/").concat(t,"/").concat(l)}return Object(a.useEffect)((()=>{j(Object(n.j)({memberId:M}))}),[M]),Object(a.useEffect)((()=>{j(Object(n.i)({memberId:F}))}),[F]),Object(b.jsx)("div",{className:"kfc-card-details align-items-center flex-column d-flex",children:Object(b.jsxs)("div",{className:"col-12 col-lg-8 p-0",children:[S&&Object(b.jsx)(s.a,{confirmationMsg:Object(c.translateWithI18Next)(I),handleClose:()=>h(!1),handleConfirmBtn:()=>m(l),imageSrc:O.a.PictogramAlertIcon}),Object(b.jsx)("button",{onClick:()=>t(v.d.Home),className:"btn-back",children:"\u2794"}),Object(b.jsxs)("div",{className:"kfc-card-details_wrapper",children:[x&&Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(D)}),Object(b.jsx)("p",{className:"detail-value",children:V})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(E)}),Object(b.jsx)("p",{className:"detail-value",children:L})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(C)}),Object(b.jsx)("p",{className:"detail-value",children:Y})]}),Object(b.jsx)("div",{className:"linking-wraper",children:Object(b.jsx)("a",{href:Object(r.a)(d.mb),target:"_blank",className:"linking-text",rel:"noopener noreferrer",children:Object(c.translateWithI18Next)(f)})})]}),l===v.a.PONTA&&Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:U||Object(b.jsx)("div",{className:"loader"})})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(N)}),Object(b.jsx)("p",{className:"detail-value",children:F.slice(-15)})]})]}),l===v.a.RAKUTEN&&Object(b.jsxs)(i.a.Fragment,{children:[!H&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:k||Object(b.jsx)("div",{className:"loader"})})]}),!B&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(_)}),Object(b.jsx)("p",{className:"detail-value",children:M})]})]})]}),Object(b.jsx)("div",{className:"loyalty-fields loyalty-fields-btns",children:Object(b.jsx)("button",{"data-loading":p,"data-type":"primary",className:"button-contained kfc-button kfc-unlink-btn ".concat(p?"loading":""),onClick:()=>{j(Object(n.b)()),T(!0),h(!0)},children:Object(c.translateWithI18Next)(g)})}),x&&Object(b.jsx)("p",{style:{textAlign:"center",textDecoration:"underline"},children:Object(b.jsx)("a",{className:"btn-kfc-card btn-link btn-sm",href:"".concat(Object(r.a)(d.a)),children:"".concat(Object(c.translateWithI18Next)(A))})})]})})}},1266:function(e,t,l){"use strict";var a=l(73),i=l(0),o=l(28);t.a=()=>{const e=Object(o.b)();return{fetchData:t=>{let{storeId:l,timeStamp:o,dispositionType:r}=t;if(!l||!o)throw new Error("storeId, timeStamp, and dispositionType are required");const d={storeId:l,dateTimeEpoch:o};e((null===r||void 0===r?void 0:r.toUpperCase())===i.Cf?Object(a.k)(d):Object(a.m)(d))}}}}}]);