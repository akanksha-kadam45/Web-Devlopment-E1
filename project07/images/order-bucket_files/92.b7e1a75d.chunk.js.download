(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[92],{1059:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(3),o=n(28),i=n(5),a=n(1);var l=n(71),c=n(1344),u=n.n(c),s=n(20),d=n.n(s),p=n(1287),v=n.n(p),f=n(41),T=n(0),b=n(2);var O=e=>{let{appUpdateContents:t}=e;return t&&0!==t.length?Object(b.jsx)("div",{className:"app-update align-items-center d-flex flex-column",children:t.map(((e,t)=>T.ag.CMS_CONTENT_TYPES.LOGO_ICON===e.contentType&&Object(b.jsx)("div",{className:"d-flex p-2 ".concat(e.className),children:Object(b.jsx)("img",{src:e.imgSrc,alt:e.altTxt})},t)||T.ag.CMS_CONTENT_TYPES.MULTI_TEXT===e.contentType&&Object(b.jsx)("div",{className:"update-txt text-uppercase",children:e.txts.map(((e,t)=>Object(b.jsx)("span",{children:e},t)))},t)||T.ag.CMS_CONTENT_TYPES.CALL_TO_ACTION===e.contentType&&Object(b.jsx)("div",{className:"p-2 mt-2",children:Object(b.jsx)(f.a,{className:"button blackButton text-uppercase","aria-label":"app-update-button",onClickHandler:e.onClickHandler,id:"appUpdateButton",type:"submit","data-testid":"app-update-button",children:Object(b.jsx)("span",{children:e.txt})})},t)))}):Object(b.jsx)(b.Fragment,{})};const j="AppStore",y="PlayStore",m=e=>{var t,n;const{history:c}=e,[s,p]=Object(r.useState)(null),f=Object(o.b)(),{appUpdateContent:m}=Object(o.c)((e=>{var t;return{appUpdateContent:(null===e||void 0===e||null===(t=e.appUpdateReducer)||void 0===t?void 0:t.response)||null}})),C=()=>{const e={key:"OpenInBrowser",value:""},t=v()(N,{contentType:T.ag.CMS_CONTENT_TYPES.NAVIGATION_LINK,storeLinkId:"iOS"===s?j:y});e.value=t[0].storeUrl;const n=JSON.stringify(e);window.sendToMobile(s,n)},N=null===m||void 0===m||null===(t=m.headerData)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.map((e=>{var t,n,r;let o={};const i=null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(n=t.contentType)||void 0===n||null===(r=n.sys)||void 0===r?void 0:r.id;var a,l,c,u,s,d,p,v;T.ag.CMS_CONTENT_TYPES.LOGO_ICON===i&&(o={contentType:i,className:null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.category,imgSrc:null===e||void 0===e||null===(l=e.fields)||void 0===l||null===(c=l.mobileImage)||void 0===c||null===(u=c.fields)||void 0===u||null===(s=u.file)||void 0===s?void 0:s.url,altTxt:null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.altText});T.ag.CMS_CONTENT_TYPES.MULTI_TEXT===i&&(o={contentType:i,txts:null===e||void 0===e||null===(p=e.fields)||void 0===p?void 0:p.listText});T.ag.CMS_CONTENT_TYPES.CALL_TO_ACTION===i&&(o={contentType:i,txt:null===e||void 0===e||null===(v=e.fields)||void 0===v?void 0:v.buttonText,onClickHandler:C});if(T.ag.CMS_CONTENT_TYPES.NAVIGATION_LINK===i){var f,b;o={contentType:i,storeUrl:null===e||void 0===e||null===(f=e.fields)||void 0===f?void 0:f.externalurl,storeLinkId:null===e||void 0===e||null===(b=e.fields)||void 0===b?void 0:b.linkId}}return o})),x=Object(r.useCallback)((()=>{c.push({pathname:"/"})}),[c]);return Object(r.useEffect)((()=>{const t=u.a.parse(e.location.search);if(d()(null===t||void 0===t?void 0:t.appurl))x();else{const{DeviceId:e,DeviceType:n}=Object(i.e)(null===t||void 0===t?void 0:t.appurl);e||x(),p(n)}}),[x,e.location.search]),Object(r.useEffect)((()=>{var e;f((e={object:Object(l.a)(),contentFull:{content_type:"appUpdate","fields.updateStatus":"major",include:5}},{type:a.Dd,payload:e}))}),[f]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O,{appUpdateContents:N})})}},1261:function(e,t,n){var r=n(602);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},1287:function(e,t,n){var r=n(605),o=n(1261),i=n(327),a=n(114);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},1344:function(e,t,n){"use strict";var r=n(1345),o=n(240);function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"===typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}(t=o({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(e){void 0!==e&&a.push(n(r,e,a.length))})),a.join("&")}return i(r,t)+"="+i(o,t)})).filter((function(e){return e.length>0})).join("&"):""}},1345:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);