(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[45,8,9,91,112,150],{1045:function(e,t,a){"use strict";a.r(t);var i=a(6),o=a(35),n=a(115),l=a(331),d=a(123),r=a(66),c=a(171),s=a(0),u=a(24),v=a(71),m=a(336),b=a(5);var O=a(85),j=a(427),p=a(42),h=a.n(p),g=a(3),I=a.n(g),f=a(20),N=a.n(f),S=a(41),T=a(413),x=a(2);const C=e=>{var t;let{brandData:a}=e;return Object(x.jsx)(x.Fragment,{children:!N()(a)&&Object(x.jsxs)("div",{className:"banner-component-container grid-container","data-testid":"banner-component-container",children:[Object(x.jsx)("div",{className:"brand-headline","data-testid":"brand-headline",children:null===a||void 0===a?void 0:a.headLine}),Object(x.jsxs)("div",{className:"banner-component-section",children:[Object(x.jsx)("div",{className:"icon-section",children:null===a||void 0===a||null===(t=a.dispositions)||void 0===t?void 0:t.map((e=>{var t,a,i;return Object(x.jsxs)("div",{className:"icon-wrapper ".concat(e.class),"data-testid":e.class,children:[(a=null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.replace(/\s/g,""),i=null===e||void 0===e?void 0:e.url,Object(b.Jd)(a)&&Object(T.p)(i,"BRAND_COMPONENT_DELIVERY")||Object(b.ge)(a)&&Object(T.p)(i,"BRAND_COMPONENT_PICKUP")||Object(b.Pd)(a)&&Object(T.p)(i,"BRAND_COMPONENT_DRIVE")),Object(x.jsx)("div",{className:"icon-title",children:null===e||void 0===e?void 0:e.category})]},e.key)}))}),(null===a||void 0===a?void 0:a.cta)&&Object(x.jsx)(S.c,{"aria-label":a.cta.label,id:"find-more","data-testid":"find-more",className:"find-more-btn",variant:S.b.secondary,children:Object(x.jsx)("a",{href:a.cta.url,children:a.cta.label})})]})]})})};C.defaultProps={};var E=C,_=a(1311),D=a(1101),y=a(1308),A=a(407);var R=e=>{let{downloadData:t}=e;return Object(x.jsx)(x.Fragment,{children:Object(b.Td)(t)&&Object(x.jsx)("div",{className:"downloadapp-component-container","data-testid":"downloadapp-component-container",children:Object(x.jsxs)("div",{className:"grid-container",children:[Object(x.jsx)("div",{class:"stri-ICON",children:Object(T.p)(null===t||void 0===t?void 0:t.stripeIcon,"APP_DETAIL_SECTION_STRIPES")}),Object(x.jsx)("div",{className:"downloadapp-image-container",children:Object(x.jsxs)("div",{className:"app-detail-section",children:[Object(x.jsxs)("div",{className:"col-xl-7 col-lg-6 col-md-12 col-12 set-wid ml-set app-store-details",children:[Object(x.jsx)("div",{className:"title",children:null===t||void 0===t?void 0:t.headLine}),Object(x.jsxs)("div",{className:"store-img",children:[Object(x.jsx)("a",{target:"_blank",href:null===t||void 0===t?void 0:t.appleStoreUrl,rel:"noreferrer noopener",children:Object(T.p)(null===t||void 0===t?void 0:t.appleStoreIcon,"APPLE_GOOGLE_STORE")}),Object(x.jsx)("a",{target:"_blank",href:null===t||void 0===t?void 0:t.googlePlayUrl,rel:"noreferrer noopener",children:Object(T.p)(null===t||void 0===t?void 0:t.googlePlayIcon,"APPLE_GOOGLE_STORE")})]})]}),Object(x.jsx)("div",{className:"col-xl-5 col-lg-6 col-md-12 col-12 set-wid image-icon",children:Object(T.p)(null===t||void 0===t?void 0:t.imageIcon,"APP_DETAIL_SECTION_IMAGE")})]})})]})})})},L=a(46),w=a(16),P=a(235),k=a(112),M=a(62),F=a(28),U=a(1355),W=a.n(U),H=a(15);const B=e=>{let{item:t,tenantReducer:a,classNames:i,navigateToPLP:o,children:n}=e;return Object(x.jsxs)(k.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:()=>o(t),tabIndex:"0",to:"menu/".concat(t.url),children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:Object(b.bc)(t.imageName,a,!1,!0),defaultPath:Object(b.bc)(null,a,!0),className:i}),n]},t.name)};var G=Object(M.j)((e=>{var t;const{SELECTED_TILE_DATA:a=""}=w.a,{isMobile:o}=e,{FIVE_TILES:n,SIX_TILES:l,SEVEN_TILES:d,VIEW_ALL_MENU:r,MENU:c}=P.a,{flatResponse:{categories:s={}}={}}=null!==(t=Object(F.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},u=W()(s,(e=>"Menu"===e.name||e.isHidden||!Object.keys(null===e||void 0===e?void 0:e.productMapByProductUrl).length)),v=u.length,{userOrderStateDispatch:m}=Object(g.useContext)(O.a),j=Object(F.c)((e=>e.tenantReducer)),{Finger_Lickin_Image:p,BlackRightArrow:h}=H.a,f=e=>{let t={name:e.name};0===Object.keys(e).length&&(t={}),m({type:a,value:{selectedData:t}}),localStorage.setItem("selectedTile",JSON.stringify(t)),localStorage.setItem("tenantReducer",JSON.stringify(j))};return o||v!==n?o||v!==l?!o&&v>=d?(()=>{let e=null;const t=JSON.parse(JSON.stringify(u)).slice(0,7).map(((e,t)=>Object(x.jsxs)(k.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:()=>f(e),tabIndex:"0",to:"menu/".concat(e.url),children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:Object(b.bc)(e.imageName,j,!1,!0),defaultPath:Object(b.bc)(null,j,!0),className:""}),Object(x.jsxs)("section",{className:"menu-text",children:[" ",e.name," "]})]},e.name)));return e=Object(x.jsxs)(k.b,{className:"single-lickin-card menu-cards","data-testid":"tiles-click-seven",onClick:()=>f({}),tabIndex:"0",to:c,children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:"".concat(p)||"",alt:"",className:"single-img"}),Object(x.jsxs)("section",{className:"all-menu-text",children:[" ",Object(i.translateWithI18Next)(r),Object(x.jsx)("span",{className:"menu-arrow-span",children:Object(x.jsx)(L.a,{srcFile:h,alt:"",className:"more-arrow-img"})})]})]}),Object(x.jsxs)(I.a.Fragment,{children:[t,e]})})():o?(()=>{let e=null;const t=u.map(((e,t)=>Object(x.jsxs)(k.b,{className:"menu-cards","data-testid":"tiles-click-".concat(e.name),onClick:()=>f(e),to:"menu/".concat(e.url),children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:Object(b.bc)(e.imageName,j,!1,!0),defaultPath:Object(b.bc)(null,j,!0),className:""}),Object(x.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})]},e.name)));return e=Object(x.jsx)("div",{className:"single-lickin-card menu-cards",children:Object(x.jsxs)(k.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:()=>f({}),tabIndex:"0",to:c,children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:"".concat(p)||"",alt:Object(i.translateWithI18Next)(r),className:"mobile-single-img"}),Object(x.jsxs)("div",{className:"all-menu-text",children:[" ",Object(i.translateWithI18Next)(r),Object(x.jsx)(L.a,{srcFile:h,alt:Object(i.translateWithI18Next)(r),className:"more-arrow-img"})]})]})}),Object(x.jsxs)(I.a.Fragment,{children:[t,e]})})():null:(()=>{let e;console.log("drawTilesSixdrawTilesSix");const t=u.map(((e,t)=>Object(x.jsx)(B,{item:e,tenantReducer:j,classNames:"",navigateToPLP:f,children:Object(x.jsxs)("div",{className:"menu-text",children:[" ",e.name," "]})},e.name)));return e=Object(x.jsxs)(k.b,{className:"full-lickin-card menu-cards","data-testid":"tiles-click-six",onClick:()=>f({}),tabIndex:"0",to:c,children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:"".concat(p)||"",alt:Object(i.translateWithI18Next)(r),className:"double-img"}),Object(x.jsxs)("div",{className:"all-menu-text",children:[" ",Object(i.translateWithI18Next)(r),Object(x.jsx)("span",{className:"menu-arrow-span",children:Object(x.jsx)(L.a,{srcFile:h,alt:Object(i.translateWithI18Next)(r),className:"more-arrow-img"})})]})]}),Object(x.jsxs)(I.a.Fragment,{children:[t,e]})})():(()=>{const e=JSON.parse(JSON.stringify(u)),t=e.shift();return Object(x.jsxs)("div",{className:"d-flex","data-testid":"menu-five-tiles",tabIndex:"0",children:[Object(x.jsx)("div",{className:"first-of-five",children:Object(x.jsxs)(k.b,{className:"menu-cards","data-testid":"tiles-click-".concat(t.name),onClick:()=>f(t),tabIndex:"0",to:"menu/".concat(t.url),children:[Object(x.jsx)(L.a,{"data-testid":"",srcFile:Object(b.bc)(t.imageName,j,!1,!0),defaultPath:Object(b.bc)(null,j,!0),alt:t.name||"menu",className:"w-100"}),Object(x.jsxs)("div",{className:"menu-text",children:[t.name," "]})]},t.name)}),Object(x.jsx)("div",{className:"rest-of-five",children:e.map(((e,t)=>Object(x.jsx)("div",{className:"small-four",children:Object(x.jsx)(B,{item:e,tenantReducer:j,classNames:"w-100 small-four-img",navigateToPLP:f,children:Object(x.jsxs)("div",{className:"menu-text",children:[e.name," "]})})},e.name)))})]})})()}));var V=()=>{const[e,t]=Object(g.useState)(Object(b.de)(window.innerWidth)),{BROWSE_CATEGORIES:a}=P.a,o=()=>{const e=Object(b.de)(window.innerWidth);t(e)};return Object(g.useEffect)((()=>{window.addEventListener("resize",o)}),[e]),Object(x.jsxs)("div",{className:"general-menu-container","data-testid":"generic-component",children:[Object(x.jsxs)("div",{className:"browse-parent d-flex mx-2",children:[Object(x.jsx)("h2",{className:"browse",children:Object(i.translateWithI18Next)(a)}),Object(x.jsx)("div",{className:"horizontal-line"})]}),Object(x.jsx)(G,{className:"",isMobile:e})]})};const Y=()=>Object(b.de)(window.innerWidth);var z=e=>{var t,a,i;const{contentData:o}=e,{headline:n,description:l,image:d,button:r,subHeadline:c}=o,[s,u]=Object(g.useState)(Object(b.de)(window.innerWidth)),v=Object(M.g)();return Object(g.useEffect)((()=>{window.addEventListener("resize",u(Y))}),[s]),Object(x.jsx)(I.a.Fragment,{children:Object(x.jsx)("div",{className:"giftCard-banner-container",children:Object(x.jsxs)("div",{className:"grid-container",children:[Object(x.jsxs)("div",{className:"giftCard-text-section",children:[n&&Object(x.jsx)("p",{className:"smallTxtGiftCard",children:n}),c&&Object(x.jsx)("h1",{className:Object(b.je)()?"largeTextGiftCard-safari":"largeTextGiftCard",children:c}),l&&Object(x.jsx)("p",{className:"giftCard-description-section",children:l}),r&&Object(x.jsx)("div",{className:"giftCard-button-container",children:Object(x.jsx)(S.c,{"data-testid":"giftCard-button",className:"find-more-btn",onClick:()=>{var e,t;return(null===r||void 0===r||null===(e=r.fields)||void 0===e?void 0:e.url)&&v.push(null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.url)},children:Object(x.jsx)("span",{children:null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.buttonText})})})]}),Object(x.jsx)(L.a,{"data-testid":"giftCard-image-component",srcFile:null===d||void 0===d||null===(a=d.fields)||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url,alt:"",className:"giftCard-image"})]})})})},q=a(1274),K=a(1258),Q=a(1306),J=a(423),X=a(1236),Z=a(1229);const $=e=>{var t,a,o,n;const{contentData:l,userParams:d,history:r}=e,{CAROUSEL_IMAGE_CLICK:c,DISPOSITION_DATA:s}=J.a,u=Object(F.c)((e=>e.profileReducer)),{SELECTED_TILE_DATA:v,SET_REDIRECTION_PATH:m}=w.a,j=null===u||void 0===u?void 0:u.basic,p=null===d||void 0===d?void 0:d.loggedIn,{localized:h}=Object(F.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{headline:f,noteLine:N,showButton:T,buttonText:C,image:E,analyticsData:_}=l,{userOrderStateDispatch:D}=Object(g.useContext)(O.a),y=Object(F.c)((e=>e.tenantReducer)),{currencyShortName:A,componentOptions:R}=y,P=Object(g.useState)(0),{showFirstCharactersFirstName:k,firstNameNumOfCharsToShow:M}=null!==(t=null===R||void 0===R||null===(a=R.web)||void 0===a?void 0:a.homePage)&&void 0!==t?t:{};Object(g.useEffect)((()=>{const{fields:e}=_,t=A;let a=[];const{item_variant:i="",item_name:o="",creative_name:n="",item_category:l="",item_id:d="",location_id:r="",price:c="",promotion_id:s="",item_list_name:u="",item_list_id:v="",quantity:m="",item_brand:b="",affiliation:O="",discount:j="",creative_slot:p="",coupon:h="",promotion_name:g=""}=e;a.push({item_id:d,item_name:o,affiliation:O,coupon:h,creative_name:n,creative_slot:p,currency:t,discount:j,index:0,item_brand:b,item_category:l,item_list_id:v,item_list_name:u,item_variant:i,location_id:r,price:c,promotion_id:s,promotion_name:g,quantity:m});const I={creative_name:n,creative_slot:p,location_id:r,promotion_id:s,promotion_name:g};Object(Z.h)(I,a)}),[]);return Object(x.jsx)(I.a.Fragment,{children:Object(x.jsx)("div",{className:"market-hero-global-aus",children:Object(x.jsx)("div",{className:"removePointer single-div-container",children:Object(x.jsxs)("div",{className:"grid-container",children:[(null===d||void 0===d?void 0:d.loggedIn)&&Object(x.jsxs)("div",{className:"strip-continer",children:[Object(x.jsx)("div",{className:"strip-Icon",children:Object(x.jsx)(L.a,{"data-testid":"image-strip-component",srcFile:H.a.StripesIcon,className:"strip-icon-img"})}),Object(x.jsx)("div",{"data-testid":"greeting-test",className:"greeting-heading"+(k?" bigNames":""),children:Object(x.jsxs)("span",{children:[Object(i.translateWithI18Next)(X.j),","," ",k?Object(b.Hf)(null===j||void 0===j?void 0:j.firstName,M):null===j||void 0===j?void 0:j.firstName]})})]}),Object(x.jsx)(L.a,{"data-testid":"image-component",srcFile:null===E||void 0===E||null===(o=E.fields)||void 0===o||null===(n=o.file)||void 0===n?void 0:n.url,className:"carausel-image"}),Object(x.jsx)("div",{className:"market-hero-description",tabIndex:"0",role:"button",children:Object(x.jsxs)("div",{className:"market-hero-description ".concat(p&&"market-hero-description-signin"),children:[f&&Object(x.jsx)("div",{className:"largeTextHero-aus",children:f}),T&&C&&Object(x.jsx)(S.c,{variant:S.b.primary,className:"carauselOrderNow-aus single-button","data-testid":"click-handler",onClickHandler:()=>((e,t,a,i)=>{var o;const n=Object(Z.b)(e);Object(Z.a)(e,0,n,A);const l={linkTo:null===i||void 0===i?void 0:i.internalUrl,name:null===e||void 0===e||null===(o=e.fields)||void 0===o?void 0:o.item_name};h?(a!==c&&Object(Z.a)(e,t),Object(Z.g)(e,t),D({type:v,value:{selectedData:{name:l.name}}}),r.push({pathname:"".concat(l.linkTo)})):(D({type:s,value:{showDisposition:!0}}),D({type:m,value:{redirectionOrder:i.linkTo}}))})(_,P,null,l),children:Object(x.jsx)("span",{children:C})}),Object(x.jsx)("div",{className:"carauselOrderNow-NoteLine",children:N})]})},P)]})})})})};var ee=a(262),te=a(428),ae=a(1096),ie=a(376),oe=a(1115),ne=a(1116),le=a(264),de=a(12),re=a(83),ce=a(298),se=a(144),ue=a(335);const ve=e=>{const{isDealModalOpen:t,handleClose:a,data:o={},couponApplyHandler:n}=e,[l,d]=Object(g.useState)(Object(b.de)(window.innerWidth)),r=l?{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:a,modalTitle:Object(i.translateWithI18Next)(ue.d),autoFocus:!0}:{id:"dealDetailsPopUp",role:"dialog",modalTitleId:"dealDetailsPopUp",show:{isDealModalOpen:t},classNames:"deals-module-modal",showCloseBtn:!0,closeButtonHandler:a,modalTitle:Object(i.translateWithI18Next)(ue.c),autoFocus:!0};Object(g.useEffect)((()=>(window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)})));const c=()=>{d(Object(b.de)(window.innerWidth))};return Object(x.jsx)(I.a.Fragment,{children:Object(x.jsx)(se.a,{...r,"data-testid":"offers-deals-modal-testid",children:Object(x.jsxs)("div",{className:"offers-coupon-mid-box",children:[Object(x.jsx)("h4",{className:"offers-modal-mid-header",children:null===o||void 0===o?void 0:o.heading}),(null===o||void 0===o?void 0:o.endTime)&&Object(x.jsx)("h5",{className:"offers-deals-product-valid",children:"".concat(Object(i.translateWithI18Next)(ue.i)," ").concat(Object(re.f)(null===o||void 0===o?void 0:o.endTime))}),Object(x.jsx)("p",{className:"offers-modal-mid-desc",children:null===o||void 0===o?void 0:o.description}),Object(x.jsx)("div",{className:"offers-modal-deals-footer",children:Object(x.jsx)(S.a,{"data-testid":"redeem-btn-testid",disabled:null===o||void 0===o?void 0:o.isApplied,onClick:()=>Object(te.a)(null===o||void 0===o?void 0:o.discountCode,n,a),className:"redeem-btn",children:Object(x.jsx)("span",{className:"btn-text",children:null!==o&&void 0!==o&&o.isApplied?Object(i.translateWithI18Next)(ue.f):Object(i.translateWithI18Next)(ue.g)})})})]})})})};var me=a(14),be=a(11),Oe=a(87);var je=e=>{const[t,a]=Object(g.useState)(0),[o,n]=Object(g.useState)({}),[l,d]=Object(g.useState)(0),[r,c]=Object(g.useState)(!1),[s,u]=Object(g.useState)(0),v=I.a.useRef(null),{TimerRibbonRedOutlined:m,RedFilledRibbon:O,TimerIcon:j,StripsIcon:p,ViewDetailsArrow:h}=H.a,{contentData:f=[],onOffersViewAll:N=null,onRedeem:T=null,tenantId:C="",tenantData:E={},localized:_,loggedIn:D,basketData:y}=e,A=null===y||void 0===y?void 0:y.service,R=Object(b.od)(_,D),{CAROUSAL_CONFIG:w={},BUTTON_TEXT:P={},OFFERS_HEADER_TEXT:k={},CONTENT_DATA_MAX_LENGTH_TO_SCROLL:M=null,VALIDITY_TEXT:F="",CONTENT_DATA_MAX_LENGTH_TO_SHOW:U=null,DEFAULT_IMAGE_PATH:W,OFFER_APPLIED:B}=ie.a,{SPEED:G=null,SLIDES_TO_SHOW:V=null,SLIDES_TO_SCROLL:Y=null}=w,{VIEW_DETAILS:z="",REDEEM:q=""}=P,{OFFERS_AND_DEALS:K="",VIEW_ALL_DEALS:Q=""}=k,J=e=>{const t={userType:R,couponCode:null===e||void 0===e?void 0:e.couponCode,dispositionType:A,titleValue:null===e||void 0===e?void 0:e.titleValue},a=Object(re.k)(e);n(a),c(!0),Object(Oe.h)(t)},X={dots:!1,infinite:!1,speed:G,slidesToShow:V,slidesToScroll:Y,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(x.jsx)(oe.a,{clickNextCard:()=>{if(t<f.length-1){let e;e=t+Y>f.length-V-1?f.length-V:t+Y,a(e),v.current.slickGoTo(e)}}}),prevArrow:Object(x.jsx)(ne.a,{clickPrevCard:()=>{t>0&&(a(t-Y),v.current.slickGoTo(t-Y))}}),beforeChange:(e,t)=>d(t),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:1950,settings:{slidesToShow:4,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]},Z=(e,t,a,o,n)=>Object(x.jsxs)(I.a.Fragment,{children:[Object(x.jsx)(L.a,{srcFile:Object(b.bc)(o,E,!1,!1,!0),alt:"No-Image",defaultPath:"".concat(Object(me.a)(be.Qb)).concat(C).concat(W),className:"offersImageText-background"}),Object(x.jsxs)("div",{className:"offersCard-content",children:[Object(x.jsx)("div",{className:"offersImageTextCard-title",children:Object(re.l)(a)}),Object(x.jsx)("div",{className:"offersCard-text",children:Object(re.l)(t)}),Object(x.jsxs)("div",{className:"offersButton-item",children:[Object(x.jsx)(S.a,{"data-testid":"view-details-btn-img-txt",onClick:()=>J(n),className:"offersView-details","aria-label":"".concat(Object(i.translateWithI18Next)(z)," ").concat(a),children:Object(i.translateWithI18Next)(z)}),Object(x.jsx)(S.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:()=>T(e),disabled:null===n||void 0===n?void 0:n.isApplied,"data-testid":"offer-and-promtion-image-text-button","aria-label":"".concat(Object(i.translateWithI18Next)(q)," ").concat(a),children:null!==n&&void 0!==n&&n.isApplied?Object(i.translateWithI18Next)(B):Object(i.translateWithI18Next)(q)})]})]})]}),$=(e,t,a)=>Object(x.jsxs)(I.a.Fragment,{children:[Object(x.jsx)(L.a,{srcFile:Object(b.bc)(t,E,!1,!1,!0),className:"offersOnlyImage-background",alt:"No-Image",defaultPath:"".concat(Object(me.a)(be.Qb)).concat(C).concat(W)}),Object(x.jsx)("div",{className:"offersCard-content offersFullImageCard-content",children:Object(x.jsxs)("div",{className:"offersButton-item fullImageCardButton-item",children:[Object(x.jsx)(S.a,{"data-testid":"view-details-btn-img",onClick:()=>J(a),className:"offersView-details","aria-label":"imageCard_".concat(Object(i.translateWithI18Next)(z)),children:Object(i.translateWithI18Next)(z)}),Object(x.jsx)(S.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:()=>T(e),disabled:null===a||void 0===a?void 0:a.isApplied,"data-testid":"offer-and-promtion-image-button","aria-label":"imageCard_".concat(Object(i.translateWithI18Next)(q)),children:null!==a&&void 0!==a&&a.isApplied?Object(i.translateWithI18Next)(B):Object(i.translateWithI18Next)(q)})]})})]}),ee=(e,t,a,o,n)=>Object(x.jsx)(I.a.Fragment,{children:Object(x.jsxs)("section",{className:"offersCard-content",children:[Object(x.jsx)("section",{className:"offersOnlyTextCard-title",children:a}),Object(x.jsx)("section",{className:"offersOnlyTextCard-text",children:t}),Object(x.jsxs)("section",{className:"validity",children:[F," ",Object(x.jsx)("span",{children:Object(de.h)(Object(de.M)(o),"DD/MM/YY")})]}),Object(x.jsxs)("section",{className:"offersButton-item",children:[Object(x.jsx)(S.a,{"data-testid":"view-details-btn-txt",onClick:()=>J(n),className:"offersView-details","aria-label":"".concat(Object(i.translateWithI18Next)(z),"_textCard"),children:Object(i.translateWithI18Next)(z)}),Object(x.jsx)(S.a,{className:"offers-redeem button transparent-btn black-border whiteButton blackBorder",onClick:()=>T(e),disabled:null===n||void 0===n?void 0:n.isApplied,"data-testid":"offer-and-promtion-text-button","aria-label":"".concat(Object(i.translateWithI18Next)(q),"_textCard"),children:null!==n&&void 0!==n&&n.isApplied?Object(i.translateWithI18Next)(B):Object(i.translateWithI18Next)(q)})]})]})}),te=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(re.h)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(x.jsxs)("span",{className:"coupon-time-block",children:[Object(x.jsx)("img",{className:"offers-timer",src:j,alt:"Offers Timer"}),Object(x.jsx)(ce.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(x.jsxs)("div",{className:"offersRibbon-container",children:[Object(x.jsx)(le.a,{src:m,className:"offers-ribbon"}),Object(x.jsx)("span",{className:"offersTimer-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(x.jsxs)("div",{className:"offersRibbon-container",children:[Object(x.jsx)(le.a,{src:O,className:"offers-ribbon"}),Object(x.jsx)("span",{className:"ribbon-text",children:t})]})}};return Object(g.useLayoutEffect)((()=>{const e=()=>{const[e,t]=window.innerWidth>1023?[347,.1*window.innerWidth]:[287,20],a=window.innerWidth-t;let i=Math.ceil(a/e);return 1===i&&(i+=1),i},t=()=>u(e());window.addEventListener("resize",t),t()}),[]),Object(x.jsxs)("div",{className:"offersCard-container","data-testid":"offersCard-container-test",children:[Object(x.jsx)("div",{className:"offers-Icon",children:Object(x.jsx)(le.a,{src:p})}),Object(x.jsxs)("div",{className:"offersContainerHeader-items",children:[Object(x.jsx)("h2",{className:"offersContainer-header",children:Object(i.translateWithI18Next)(K)}),Object(x.jsxs)("div",{className:"view-all-text",children:[Object(x.jsx)("button",{className:"offersViewAll-link viewAll-link",onClick:N,"data-testid":"view-all-deals-handler",tabIndex:"0",children:Object(i.translateWithI18Next)(Q)}),Object(x.jsx)(le.a,{className:"offersViewAlldeals-arrow",src:h})]})]}),Object(x.jsxs)("div",{className:"offersCard-list",children:[Object(x.jsx)("div",{className:"offersCarousal-list",children:Object(x.jsx)(ae.b,{settings:X,carousalRef:v,children:f.map(((e,a)=>{const{cardType:i,couponCode:o,smallText:n,titleValue:l,imageSrc:d,validityEndTime:r}=e||{};return a<U&&Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"offers-card ".concat(a===t+s-1&&"offersCard-fade lastOffersCard-fade"),children:[te(e),"image-text"===i&&Z(o,n,l,d,e),"image"===i&&$(o,d,e),"text"===i&&ee(o,n,l,r,e)]})},a)}))})}),f.length>M&&Object(x.jsx)("div",{className:"offers-slideContainer",children:Object(x.jsx)("input",{className:"offers-slider",type:"range",min:"0",max:f.length-V,value:l,id:"myRange",onChange:e=>{d(e.target.value),v.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),r&&Object(x.jsx)(ve,{"data-testid":"deals-modal",data:o,couponApplyHandler:T,isDealModalOpen:r,handleClose:()=>c(!1)})]})},pe=a(63),he=a(61);const{ANALYTICS_EVENTS:ge}=he.a;var Ie=e=>{var t;const[a,i]=Object(g.useState)([]),n=Object(F.c)((e=>e.appStateReducer)),{userStatus:l={}}=n,{localized:d=!1,loggedIn:r=!1}=l,{DISPOSITION_DATA:c}=w.a,{userOrderStateDispatch:s}=Object(g.useContext)(O.a),u=Object(F.c)((e=>e.tenantReducer)),v=Object(F.c)((e=>e.profileReducer)),{tenantId:m=""}=u,{applicableCoupons:j=[],cartData:p={}}=Object(F.c)((e=>{let{cartReducer:t}=e;return t})),h=Object(F.b)();Object(g.useEffect)((()=>{if(j.length>0){const e=Object(te.b)(Object(b.V)(j));i(e)}}),[j]);Object(g.useEffect)((()=>{m&&(()=>{if(d&&null!==p&&void 0!==p&&p.id){var e;const{customerId:t}=pe.a.getInstance();t===(null===p||void 0===p||null===(e=p.customer)||void 0===e?void 0:e.id)&&h(Object(o.h)({basketId:null===p||void 0===p?void 0:p.id,tenantId:m}))}else r?(null===v||void 0===v?void 0:v.customerId)&&h(Object(o.j)({tenantId:m,userId:null===v||void 0===v?void 0:v.customerId})):h(Object(o.k)({tenantId:m}))})()}),[d,r,m,null===p||void 0===p||null===(t=p.customer)||void 0===t?void 0:t.id,v]);const I=e=>{var t,a;null===(t=navigator)||void 0===t||null===(a=t.clipboard)||void 0===a||a.writeText(e),s({type:ue.h})},f=t=>{d?(I(t),Object(b.Bd)(e.history)):(s({type:c,value:{showDisposition:!0}}),I(t))};return Object(x.jsx)("div",{className:"offers-container","data-testid":"offer-container",children:Object(x.jsx)(je,{"data-testid":"offer-items",contentData:a,onOffersViewAll:()=>{e.history.push({pathname:"/offers"}),Object(te.c)({event:"viewAllDeals"})},onRedeem:e=>{Object(te.d)({event:ge.REDEEM_OFFER,offerTitle:e}),f(e)},tenantId:m,tenantData:u,localized:d,loggedIn:r,basketData:p})})};const fe={SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1,BREAKPOINT:1024,SLIDES_TO_SCROLL_MOBILE:1,FADE_CARD_INDEX:3,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1252,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]};var Ne=a(4);var Se=e=>{const{pastOrdersData:t,settingsRecommendation:a,rangeValue:o,reorderBtnHandler:n,onUpdateRange:l,carousal:d,getDate:r,currencySymbol:c,currencyConversionFactor:u}=e,{ORDER:v,ADD_HOPE:m,LARGE_CARRY_BAG:O}=Ne.a,j=Object(i.translateWithI18Next)(null===Ne.a||void 0===Ne.a?void 0:Ne.a.ADD_HOPE),p=Object(i.translateWithI18Next)(null===Ne.a||void 0===Ne.a?void 0:Ne.a.LARGE_CARRY_BAG);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"pastorderCard-list order-list-au ".concat(Object(b.ad)((null===t||void 0===t?void 0:t.length)<=3,"past-order-au-card",null)),children:[Object(x.jsx)(ae.b,{settings:a,carousalRef:d,children:null===t||void 0===t?void 0:t.map((e=>{const{items:t=[],store:{name:a},service:o,id:l,name:d,orderedOn:m,total:O,referenceNumber:h}=e,g=Object(b.Nc)(Object(b.Dc)(t,j,p));return!Object(b.Hd)(o)&&Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"pastorder-card-au ml-0",children:[Object(x.jsxs)("div",{className:"pastorder-card-details",children:[Object(x.jsx)("p",{className:"pastorder-card-main-text mb-1",children:Object(i.translateWithI18Next)(o)}),Object(x.jsx)("p",{className:"pastorder-card-date-text mb-1",children:r(m)}),Object(x.jsxs)("div",{className:"pastorder-item-info",children:[d&&Object(x.jsx)(L.a,{srcFile:H.a.FavouriteActiveBlack,className:"account-icon mr-2"}),Object(x.jsx)("span",{className:"text-camelcase pastorder-card-text brand-black ".concat((null===d||void 0===d?void 0:d.length)>20&&"order-tracking-number"),children:d||"".concat(Object(i.translateWithI18Next)(v)," #").concat(h)})]})]}),Object(x.jsxs)("div",{className:"pastorder-card-item-info",children:[Object(x.jsx)("div",{className:"pastorder-line"}),Object(x.jsx)("div",{className:"past-order-store-info",children:Object(x.jsx)("span",{className:"pastorder-card-text brand-black store-name",children:a})}),Object(x.jsxs)("div",{className:"item-desc",children:[Object(x.jsx)("span",{className:"item-quantity mr-2",children:"".concat(g)}),Object(x.jsx)("span",{className:"pastorder-card-text pastorder-text dark-gray",children:"".concat(Object(b.ad)(1===g,Object(i.translateWithI18Next)(null===Ne.a||void 0===Ne.a?void 0:Ne.a.CART_ITEM),Object(i.translateWithI18Next)(null===Ne.a||void 0===Ne.a?void 0:Ne.a.CART_ITEMS)))}),!Object(b.le)()&&Object(x.jsxs)("span",{className:"pastorder-card-text pastorder-total brand-black",children:[c,(O/u).toFixed(s.gg)]})]}),Object(x.jsx)("div",{className:"pastorder-line"})]}),Object(x.jsx)("div",{className:"pastorder-card-button-conatiner",onClick:()=>n(e),"data-testid":"pastorder-btn-test-".concat(l),children:Object(x.jsx)(S.c,{"data-testid":"pastorder-card-button-test",variant:S.b.primary,"aria-label":"Reorder button",children:Object(x.jsx)("span",{children:Object(i.translateWithI18Next)("reviewOrder")})})})]})})}))}),(null===t||void 0===t?void 0:t.length)>2&&Object(x.jsx)("div",{className:"pastorder-slideContainer",children:Object(x.jsx)("input",{className:"pastorder-slider",type:"range",min:"0",max:(null===t||void 0===t?void 0:t.length)-1,value:o,id:"myRange","data-testid":"myRange",onChange:l})})]})})},Te=a(1210),xe=a(55),Ce=a(52);const{SET_LOCATION_INFO:Ee}=Ce.a;const _e=e=>"".concat(Object(i.translateWithI18Next)(Object(de.C)(e,s.sb.DDDD)),", ").concat(Object(i.translateWithI18Next)(Object(de.C)(e,s.sb.MMMM))," ").concat(Object(de.C)(e,s.sb.D)),De=e=>{const{basic:t,MRMISS:a}=e;return Object(x.jsxs)("span",{children:[null===t||void 0===t?void 0:t.firstName," ",Object(i.translateWithI18Next)(a)]})};var ye=e=>{var t;const{pastOrders:a,basic:o,favouriteOrders:n,tenantReducerData:l,isLoggedIn:d}=e,{currencyConversionFactor:r,currencySymbol:c,componentOptions:u={},accountdashboardpreviousordercount:v}=l,{showFirstCharactersFirstName:m,firstNameNumOfCharsToShow:j}=u.web.homePage,{homePage:p={}}=u,{pastorderFullOrderHistoryShowBtn:h=!1,greeting:I={}}=p,f=Object(M.g)(),{MY_ACCOUNT:N,ORDER_IT_AGAIN:S,SEE_FULL_ORDER_HISTORY:T,WELCOME_BACK:C,WELCOME_TO:E,KFC_LOVER:_,KFC_TEXT:D,MRMISS:y}=Ne.a,[A,R]=Object(g.useState)(0),[P,k]=Object(g.useState)({}),U=Object(g.useRef)(null),{SPEED:W,SLIDES_TO_SHOW:B,SLIDES_TO_SCROLL:G,SILCK_RESPONSIVE_PROPERTY:V}=fe,[Y,z]=Object(g.useState)(0),{REORDER_MODAL_OPEN:q,FROM_REORDER_MODAL_OPEN:K,REORDER_STORE_CHANGED:Q}=w.a,{userOrderState:J,userOrderStateDispatch:X}=Object(g.useContext)(O.a),{reorderFlag:{reorderModalOpen:Z=!1}}=J,$=Object(F.c)((e=>e.appStateReducer.userStatus)),ee=null===(te=function(e,t){var a;return[...t,...null===e||void 0===e||null===(a=e.slice())||void 0===a?void 0:a.filter((e=>void 0===t.find((t=>t.id===e.id))))]}(a,n),t=te.filter((e=>e.service!==s.M)))||void 0===t?void 0:t.slice(0,v);var te;const ae=()=>{X({type:Ee,value:{selectedDeliveryAddress:"",deliveryAddressLineVal:""}}),X({type:q,value:{reorderModalOpen:!1}}),X({type:K,value:{fromReorderFlag:!1}}),X({type:Q,value:{storeChanged:!1}})};Object(g.useEffect)((()=>()=>ae()),[]);const ie={dots:!1,infinite:!1,speed:W,slidesToShow:B,slidesToScroll:G,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(x.jsx)(oe.a,{clickNextCard:()=>{if(A<ee.length-1){let e=0;e=A+G>ee.length-B-1?ee.length-B:A+G,R(e),U.current.slickGoTo(e)}}}),prevArrow:Object(x.jsx)(ne.a,{clickPrevCard:()=>{A>0&&(R(A-G),U.current.slickGoTo(A-G))}}),beforeChange:(e,t)=>z(t),afterChange:(e,t)=>R(e),variableWidth:!0,responsive:V};return Object(x.jsx)("div",{className:"pastorder-background",children:Object(x.jsxs)("div",{className:"pastorder-container pastorder-global-container grid-container",children:[d?Object(x.jsxs)("div",{className:"pastorder-left-container",children:[Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{src:H.a.Stripelarge})}),Object(x.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading user-name-greeting-container",children:Object(x.jsxs)("div",{className:"user-name-greeting-container-text"+(m?" bigNames":""),children:[Object(i.translateWithI18Next)(C),","," ",null!==I&&void 0!==I&&I.showMrMiss?De({basic:o,MRMISS:y}):Object(x.jsx)("span",{className:!m&&"user-name-greeting",children:null!==o&&void 0!==o&&o.firstName?m?Object(b.Hf)(null===o||void 0===o?void 0:o.firstName,j):null===o||void 0===o?void 0:o.firstName:Object(i.translateWithI18Next)(_)}),Object(x.jsx)("span",{className:"user-name-greeting",children:"!"})]})}),Object(x.jsx)("div",{className:"pastorder-my-account",children:Object(x.jsxs)("div",{className:"pastorder-my-account-text","data-testid":"see-full-history",onClick:()=>{localStorage.removeItem(s.gd.LOAD_MORE_ORDER_HISTORY),f.push({pathname:s.Ce.ACCOUNT}),window.scrollTo(0,0)},children:[Object(i.translateWithI18Next)(N),Object(x.jsx)(L.a,{srcFile:H.a.CTA_Arrow,className:"pastorder-my-account-arrow"})]})})]}):Object(x.jsxs)("div",{className:"pastorder-left-container",children:[Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{src:H.a.Stripelarge})}),Object(x.jsx)("div",{"data-testid":"pastorder-greeting-test",className:"pastorder-greeting-heading",children:"".concat(Object(i.translateWithI18Next)(E)," ").concat(Object(i.translateWithI18Next)(D),"!")})]}),((null===a||void 0===a?void 0:a.length)>0||(null===n||void 0===n?void 0:n.length)>0)&&Object(x.jsxs)("div",{className:"pastorder-right-container",children:[Object(x.jsxs)("div",{className:"pastorder-right-header",children:[Object(x.jsx)("div",{className:"pastorder-right-header-text text-au",children:Object(i.translateWithI18Next)(S)}),Object(x.jsx)("div",{className:"pastorder-right-header-line"})]}),Object(x.jsx)(Se,{pastOrdersData:ee,carousal:U,rangeValue:Y,reorderBtnHandler:e=>{(null===$||void 0===$||!$.localized)&&Object(xe.o)(),k(e),X({type:q,value:{reorderModalOpen:!0}}),X({type:K,value:{fromReorderFlag:!0}}),sessionStorage.setItem(s.gd.REORDER_CLICK,!0)},settingsRecommendation:ie,onUpdateRange:e=>{z(e.target.value),U.current.slickGoTo(e.target.value)},getDate:_e,currencySymbol:c,currencyConversionFactor:r}),h&&Object(x.jsx)("p",{className:"pastorder-full-history","data-testid":"see-order-history",onClick:()=>{localStorage.setItem(s.gd.LOAD_MORE_ORDER_HISTORY,"GoToOrderHistory"),f.push({pathname:s.Ce.ACCOUNT}),window.scrollTo(0,0)},children:Object(i.translateWithI18Next)(T)}),Z&&Object(x.jsx)(Te.a,{currentOrderInfo:P,reorderModalOpen:Z,closeButtonHandler:ae,source:s.xe.HOME_FAVOURITES})]})]})})},Ae=a(1237),Re=a(979),Le=a(1170),we=a(1291);const Pe=e=>{var t;const{SEARCH_ORDER_DATA:a,DISPOSITION_METHOD:i,SHOW_CLEAR_CART_ALERT:o,CLEAR_CART_CONFIRM_CANCEL_MODAL:n,clearCartExposedFlag:l,searchStoreAlertTitle:d}=w.a,{contentDispositionData:r={},userParams:c}=e,u=null===(t=JSON.parse(localStorage.getItem(s.gd.DISPOSITION_NEW)))||void 0===t?void 0:t.type,v=null===u||void 0===u?void 0:u.toUpperCase(),[m,j]=Object(g.useState)(v),{userOrderStateDispatch:p}=Object(g.useContext)(O.a),{cartData:h={}}=Object(F.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),I=Object(b.Td)(r)&&Object(we.c)(r),{headline:f="",subHeadline:N=null,supportedDispositionsData:T=[],src:C="",alt:E}=I;Object(g.useEffect)((()=>{j(v)}),[v]);return Object(b.Td)(T)&&(null===c||void 0===c?void 0:c.localized)?Object(x.jsxs)("div",{className:"select-content-disposition au",children:[Object(x.jsx)("div",{className:"stripes",children:Object(x.jsx)(L.a,{srcFile:C,alt:E||""})}),Object(x.jsx)("div",{className:"disposition-headline",children:f}),Object(x.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(x.jsx)("span",{children:N})}),Object(x.jsx)("div",{className:"disposition-btns mb-2",children:null===T||void 0===T?void 0:T.map((e=>{let{buttonText:t,Id:r,dispositionType:c}=e;return Object(x.jsx)(S.a,{className:m===(null===c||void 0===c?void 0:c.toUpperCase())?"button grayButton active-disposition":"button grayButton","data-testid":"button-".concat(t),onClickHandler:e=>((e,t)=>{e.stopPropagation(),e.preventDefault(),Object(we.a)(t);const r=null===t||void 0===t?void 0:t.trim();var c;if(s.Kb.includes(r))if(p({type:i,value:{dispositionType:r}}),(null===h||void 0===h||null===(c=h.foodLines)||void 0===c?void 0:c.length)>0){let e={flag:l,onConfirm:d};Object(b.Fe)(p,e,o,n)}else p({type:a,value:{showSearchStore:!0}})})(e,null===c||void 0===c?void 0:c.toUpperCase()),"aria-label":t,children:t},r)}))})]}):null};var ke=a(1110);const Me="fctPageModuleCouponList",Fe="fctPageModuleFlexibleTout",{OFFERS_DEALS:Ue,PROMOS_REWARDS:We}=m.default,He=e=>{let{modules:t,showRevampedRewards:a}=e;return(null===t||void 0===t?void 0:t.filter((e=>{var t,i,o,n,l,d;const r=null!==(t=null===e||void 0===e||null===(i=e.sys)||void 0===i||null===(o=i.contentType)||void 0===o||null===(n=o.sys)||void 0===n?void 0:n.id)&&void 0!==t?t:"",c=null!==(l=null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.name)&&void 0!==l?l:"";return!((e=>e===Me)(r)&&!a||((e,t)=>e===We||t===Ue)(r,c)&&a)})))||[]};var Be=a(1279);const Ge={arrows:!1,dots:!1,infinite:!1,slidesToScroll:1,slidesToShow:1,speed:300},Ve={...Ge,autoplay:!0,autoplaySpeed:5e3,dots:!0},Ye="complete-your-profile",ze="continueTxt",qe="lets-go",Ke="submit",Qe="take-me-to-rewards",Je="welcomeBack",Xe={autoFocus:!0,buttonVariant:"secondary",classNames:"with-carousel",closeDataTestId:"close-modal",footerLink:"#",footerLinkText:"skip-to-rewards",modalTitle:"",modalTitleId:"",modalTitleRequired:!0,role:"dialog",show:!0,showBackBtn:!1,showCloseBtn:!0,showFooterSection:!0},Ze={...Xe,modalTitle:Je,modalTitleId:"welcomeBack"},$e="rewards-onboarding-modal",et="rewards-set-birthday",tt="Header";var at=a(1181),it=a.n(at),ot=a(603),nt=(a(1182),a(1183),a(1357)),lt=a.n(nt);const dt={dots:!1,infinite:!1,slidesToScroll:1,slidesToShow:1,speed:300};var rt=Object(g.forwardRef)(((e,t)=>{let{children:a,className:i="",settings:o=dt}=e;const n=Object(g.useRef)(null);return Object(g.useImperativeHandle)(t,(()=>({goTo:e=>{n.current&&n.current.slickGoTo(e)},next:()=>{n.current&&n.current.slickNext()},prev:()=>{n.current&&n.current.slickPrev()}}))),Object(x.jsx)("div",{className:Object(ot.b)("".concat(lt.a.container," ").concat(i)),children:Object(x.jsx)(it.a,{ref:n,...o,children:a})})})),ct=a(429),st=a(1191);a(1192);var ut=e=>{let{duration:t=2e3,steps:a=100,...i}=e;const[o,n]=Object(g.useState)(0),l=Object(g.useMemo)((()=>t/a),[t,a]),d=Object(g.useRef)(!0);return Object(g.useEffect)((()=>(d.current=!0,()=>{d.current=!1})),[]),Object(g.useEffect)((()=>{if(o<100){const e=setTimeout((()=>{d.current&&n((e=>e+1))}),l);return()=>clearTimeout(e)}}),[o,l]),Object(x.jsx)(st.a,{value:o,...i})},vt=a(1250),mt=a(1358),bt=a.n(mt);var Ot=e=>{let{onClose:t}=e;const[a,i]=Object(g.useState)(0),o=Object(g.useRef)(null),{pageModules:n}=Object(Be.a)($e),l=Object(g.useMemo)((()=>n.filter((e=>{let{componentName:t}=e;return t!==tt}))),[n]),d=Object(g.useMemo)((()=>a===l.length-1?qe:null),[a,l.length]);return Object(x.jsx)(ct.a,{...Ze,closeButtonHandler:t,footerBtnHandler:()=>{(()=>{var e;i(0),null===(e=o.current)||void 0===e||e.goTo(0)})()},footerBtnText:d,footerLink:a!==l.length-1?"/promos-rewards":"#",footerLinkText:a!==l.length-1?Ze.footerLinkText:"",children:Object(x.jsx)("div",{className:"".concat(bt.a.container),children:Object(x.jsx)(rt,{className:bt.a.carouselWrapper,ref:o,settings:{...Ve,afterChange:e=>{i(e)},customPaging:e=>Object(x.jsx)("div",{className:bt.a.paging,style:{height:10,width:10},children:e===a&&a<l.length-1?Object(x.jsx)(ut,{duration:4900,steps:100,strokeWidth:16,styles:{path:{stroke:"var(--brandBlack)"},trail:{stroke:"#a0a09e"}}}):Object(x.jsx)("div",{style:{backgroundColor:"var(--darkGray)",borderRadius:"50%",height:"100%",opacity:"0.5",width:"100%"}})}),dotsClass:"slick-dots ".concat(bt.a.paging)},children:l.map(((e,t)=>Object(x.jsx)(vt.a,{module:e,padding:"noPadding"},"slide-".concat(t))))})})})};const jt={...Xe,id:"welcomeModal",modalTitle:Ye,modalTitleId:"completeYourProfile"};var pt=a(1238);const ht={d:"day",m:"month",y:"year"};var gt=e=>{const t=Object(g.useMemo)((()=>e.split("/").map((e=>{if(!e)return"";const t=e[0].toLowerCase();return ht[t]}))),[e]),a=Object(g.useMemo)((()=>t.includes("month")?Object(de.m)().map(((e,t)=>({element:Object(x.jsx)(pt.a,{children:e}),value:{key:e,value:t+1}})))||[]:null),[t]),i=Object(g.useMemo)((()=>t.includes("year")?Object(de.n)({startYear:1900,endYear:(new Date).getFullYear()-15}).map(((e,t)=>({element:Object(x.jsx)(pt.a,{children:e}),value:{key:"".concat(e),value:e}})))||[]:null),[t]),o=Object(g.useCallback)((e=>{let{year:t,month:a}=e;const i=a||1,o=t||(new Date).getFullYear()-15;return Object(de.l)(Number(o),Number(i)).map(((e,t)=>({element:Object(x.jsx)(pt.a,{children:e}),value:{key:"".concat(e),value:e}})))||[]}),[]),n=Object(g.useCallback)((e=>t.reduce(((t,a)=>{var i;return null!==(i=e[a])&&void 0!==i&&i.value||(t=!1),t}),!0)),[t]),l=Object(g.useCallback)((t=>{var a,i,o;if(!n(t))return null;const l={day:null===(a=t.day)||void 0===a?void 0:a.value,month:null===(i=t.month)||void 0===i?void 0:i.value,year:null===(o=t.year)||void 0===o?void 0:o.value};return Object(de.j)({dateObj:l,format:e})}),[n,e]);return{fields:t,getDays:o,getOptions:e=>{switch(e){case"month":return a||[];case"year":return i||[];default:return[]}},getValidDate:l,isValidForm:n,monthOptions:a,yearOptions:i}},It=a(1269),ft=a(1359),Nt=a.n(ft);var St=e=>{let{className:t,format:a="M/D/YYYY",onSelectBirthdate:o}=e;const[n,l]=Object(g.useState)({day:{key:"",value:""},month:{key:"",value:""},year:{key:"",value:""}}),{fields:d,getDays:r,getOptions:c,getValidDate:s}=gt(a),u=Object(g.useMemo)((()=>{const{month:e,year:t}=n;return r({month:e.value,year:t.value})}),[r,n]),v=Object(g.useMemo)((()=>s(n)),[s,n]);Object(g.useEffect)((()=>{const{day:e}=n;e&&e.value&&u&&Number(e.value)>u.length&&l((e=>({...e,day:{key:"",value:""}})))}),[n,u]),Object(g.useEffect)((()=>{o&&o(v)}),[o,v]);return Object(x.jsx)("div",{className:Object(ot.b)("".concat(Nt.a.container," ").concat(t)),children:d.map(((e,t)=>Object(x.jsx)("div",{className:Nt.a.selector,"data-testid":"birthdate-field-".concat(e),children:Object(x.jsx)(It.a,{dropdownId:"birthdateSelector-".concat(e),label:Object(i.translateWithI18Next)(e),options:"day"===e?u:c(e),onOptionClick:t=>((e,t)=>{l((a=>({...a,[e]:t})))})(e,t),placeholder:Object(i.translateWithI18Next)(Ne.a.SELECT),theme:"light",value:n[e]})},"birthdate-field-".concat(e))))})},Tt=a(1360),xt=a.n(Tt);var Ct=e=>{let{onClose:t}=e;const[a,i]=Object(g.useState)(0),[o,n]=Object(g.useState)(null),l=Object(g.useRef)(null),{pageModules:d}=Object(Be.a)(et),r=Object(g.useMemo)((()=>d.find((e=>{let{componentName:t}=e;return t===tt}))),[d]),c=Object(g.useMemo)((()=>d.filter((e=>{let{componentName:t}=e;return t!==tt}))),[d]),s=Object(g.useMemo)((()=>!(a!==c.length-2||o)),[a,o]),u=Object(g.useMemo)((()=>{const e=a===c.length-2,t=a===c.length-1;return e?Ke:t?Qe:ze}),[a]),v=e=>{n(e)},m=e=>{const t=e===c.length-2,a=e===c.length-1;t?(()=>{var e;i((e=>e+1)),null===(e=l.current)||void 0===e||e.next()})():a?(()=>{var e;i(0),null===(e=l.current)||void 0===e||e.goTo(0)})():(()=>{var e;i((e=>e+1)),null===(e=l.current)||void 0===e||e.next()})()};return Object(x.jsx)(ct.a,{...jt,closeButtonHandler:t,disabledBtn:s,footerBtnHandler:()=>m(a),footerBtnText:u,footerLink:a!==c.length-1?"/promos-rewards":"#",footerLinkText:a!==c.length-1?jt.footerLinkText:"",children:Object(x.jsxs)("div",{className:"".concat(xt.a.container),children:[Object(x.jsx)(vt.a,{module:r,padding:"noPadding"}),Object(x.jsx)(rt,{className:xt.a.carouselWrapper,ref:l,settings:Ge,children:c.map(((e,t)=>t===c.length-2?Object(x.jsxs)("div",{children:[Object(x.jsx)(vt.a,{module:e}),Object(x.jsx)(St,{className:xt.a.birthdateSelector,onSelectBirthdate:v})]},"slide-".concat(t)):Object(x.jsx)(vt.a,{module:e},"slide-".concat(t))))})]})})},Et=a(1156),_t=a(1302);const Dt=e=>{let{fieldsData:t}=e;const a=Object(Et.b)(t);return a&&0!==Object.keys(a).length?Object(x.jsx)("div",{className:"modules-container",children:Object(x.jsx)(_t.a,{module:a})}):Object(x.jsx)(x.Fragment,{})};var yt=a(1189);t.default=e=>{var t,a,p,f,N,S,T,C,L;const{CROSSELL:P}=ee.a,{RECOMMENDED_HEADER_TITLE:k}=Re.RECOMMENDED_CONSTANTS,{DISPOSITION:M,BROWSER_CATEGORIES:U,OFFERS_DEALS:W,CAROUSAL:H,GRID:B,ORDERSERV:G,ROUTING:Y,CRM:J,WELCOME_MESSAGE:X,RECOMMENDATION:Z,LTO_BANNER:te,BRAND:ae,DOWNLOADAPP:ie,PROMOS_REWARDS:oe,SIINGLE_BANNER:ne,GIFT_CARD:le,STATIC_BRAND_PAGE:de}=m.default,re=Object(F.b)(),{location:ce,history:se}=e,{userOrderState:ue,userOrderStateDispatch:ve}=Object(g.useContext)(O.a);let me=Object(F.c)((e=>e.appStateReducer.userStatus)),be=null,Oe=null,je=null,pe=null,he=0,ge=0;const[fe,Ne]=Object(g.useState)([]),[Se,Te]=Object(g.useState)(!1),[xe,Ce]=Object(g.useState)(!1),Ee=Object(F.c)((e=>e.cartReducer)),_e=Object(F.c)((e=>e.tenantReducer)),De=Object(F.c)((e=>e.authReducer)),{showProductListingModal:we=!1}=Object(b.sd)(Ee),{showRevampedRewards:Ue}=_e,We=Object(F.c)((e=>({homePageContent:h()(e,"contentReducer.response",null),orderServePageContent:h()(e,"orderServReducer.offerAndDeals",null),pastOrdersData:h()(e,"profileReducer.pastOrders",null),basicData:h()(e,"profileReducer.basic",null),favouriteOrders:h()(e,"profileReducer.favouriteOrders",null),tenantReducerContent:h()(e,"tenantReducer",null),appStateReducerContent:h()(e,"appStateReducer",null),cartReducerContent:h()(e,"cartReducer",null),recommendedProducts:h()(e,"profileReducer.recommendedProducts",null)})));if(Object(j.e)({userParams:me,authReducer:De,dispatch:re,getCustomerInfo:r.d,userOrderStateDispatch:ve,userOrderState:ue}),Object(g.useEffect)((()=>{window.scrollTo(0,0),re(Object(d.e)()),re(Object(c.h)()),re(Object(l.a)())}),[]),Object(g.useEffect)((()=>{var e,t;const{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:a}}=A.a;if(null!==se&&void 0!==se&&null!==(e=se.location)&&void 0!==e&&null!==(t=e.pathname)&&void 0!==t&&t.includes("qrhome")){var i;const e=null===se||void 0===se||null===(i=se.location)||void 0===i?void 0:i.search,t=new URLSearchParams(e).get("restaurantid"),{DISPOSITION_DATA:o}=w.a;ve({type:a,value:{deepLinkStoreMode:!0,deeplinkSelectedStoreId:t}}),ve({type:o,value:{showDisposition:!0}})}}),[se,ve]),Object(g.useEffect)((()=>{console.log("userOrderState.cmsInitialized",ue.cmsInitialized),re(Object(n.c)({object:Object(v.a)(),contentFull:{content_type:"landingPage","fields.channel":u.b.channel,include:"5"},userParams:me}))}),[re,me,ue.cmsInitialized]),Object(g.useEffect)((()=>{we&&re(Object(o.v)({showProductListingModal:!1,categorySelected:""}))}),[ce]),We.homePageContent&&We.tenantReducerContent&&We.appStateReducerContent){var Be;const{allItemObj:e={},carouselGridData:t={}}=(e=>{const{ORDERSERV:t,DISPOSITION:a,PDP_DISPOSITION:i,PAGE_TYPE_PDP:o,PAGE_TYPE_HOME:n,PAGE_TYPE_CATERING:l,CATERING_DISPOSITION:d,CAROUSAL:r,GRID:c}=m.default,u=e[s.Kc]||[],v={},O={};for(const s of u){var j,p,h;const e={...s.fields};delete e.title;const u=null===s||void 0===s||null===(j=s.sys)||void 0===j||null===(p=j.contentType)||void 0===p||null===(h=p.sys)||void 0===h?void 0:h.id;if(u===t)v[s.fields.name]={...e};else if(Object(b.le)()&&u===a){var g,I,f;(null===s||void 0===s||null===(g=s.fields)||void 0===g?void 0:g.pageType)===o?v[i]={...e}:(null===s||void 0===s||null===(I=s.fields)||void 0===I?void 0:I.pageType)===l?v[d]={...e}:(null===s||void 0===s||null===(f=s.fields)||void 0===f?void 0:f.pageType)===n&&(v[u]={...e})}else if(u===r||u===c){var N;O[u]=[...null!==O&&void 0!==O&&null!==(N=O[u])&&void 0!==N&&N.length?null===O||void 0===O?void 0:O[u]:[],{...e}]}else v[u]={...e}}return{allItemObj:v,carouselGridData:O}})(We.homePageContent)||{};be=e,Oe=Object(b.sd)(We.orderServePageContent),je=He({modules:Object(b.rd)(null===We||void 0===We||null===(Be=We.homePageContent)||void 0===Be?void 0:Be.homeContentfulResp),showRevampedRewards:Ue}),pe=t}const Ge=(null===(t=be)||void 0===t?void 0:t[ne])&&Object(x.jsx)($,{contentData:null!==(a=null===(p=be)||void 0===p?void 0:p[ne])&&void 0!==a?a:{},location:ce,history:se,userParams:me})||null;let Ve=Object(x.jsx)(ye,{pastOrders:We.pastOrdersData,basic:We.basicData,favouriteOrders:We.favouriteOrders,tenantReducerData:We.tenantReducerContent,isLoggedIn:me.loggedIn});const Ye=Object(x.jsx)(Ie,{history:se,refreshOffers:()=>{}}),ze=Object(b.Td)(be)&&be[Y]&&Object(x.jsx)(y.a,{contentData:Object(b.sd)(be[Y])})||null,qe=Object(b.Td)(be)&&be[J]&&Object(x.jsx)(q.a,{contentData:Object(b.sd)(be[J])})||null,Ke=Object(b.Td)(be)&&be[te]&&Object(x.jsx)(K.a,{contentData:Object(b.sd)(be[te]),history:se})||null,Qe=be&&be[le]&&Object(x.jsx)(z,{contentData:be[le],history:se})||null,Je=Object(b.Td)(be)&&be[oe]&&Object(x.jsx)(Ae.a,{contentData:Object(b.sd)(be[oe]),history:se})||null,Xe=We.recommendedProducts;Object(g.useEffect)((()=>{null!==Xe&&void 0!==Xe&&Xe.length&&Ne(Xe)}),[Xe]);const Ze=Object(b.hb)(Boolean(fe.length),me.loggedIn)&&Object(x.jsx)(Le.a,{products:fe,country:null===_e||void 0===_e?void 0:_e.country,header:k,recommendedRule:P}),$e=(null===_e||void 0===_e||!_e.showHeroBannersInAllScenario)&&(((null===We||void 0===We||null===(f=We.pastOrdersData)||void 0===f?void 0:f.length)>0||(null===We||void 0===We||null===(N=We.favouriteOrders)||void 0===N?void 0:N.length)>0)&&(null===me||void 0===me?void 0:me.loggedIn)),et=((null===We||void 0===We||null===(S=We.pastOrdersData)||void 0===S?void 0:S.length)>0||(null===We||void 0===We||null===(T=We.favouriteOrders)||void 0===T?void 0:T.length)>0)&&(null===me||void 0===me?void 0:me.loggedIn),tt=Object(x.jsx)("a",{"data-ajax":"false",className:"skiptocontent",href:"#startorder-container",children:"Skip to main content"}),[at,it]=Object(g.useState)({page:"",seoObj:{}});return Object(g.useEffect)((()=>{const e=setTimeout((()=>{window.location.pathname===s.Ce.HOME_PAGE&&it({page:s.Jc,seoObj:{}}),clearTimeout(e)}),100);return()=>{clearTimeout(e)}}),[null===We||void 0===We?void 0:We.homePageContent,ce,se]),Object(x.jsxs)(I.a.Fragment,{children:[Object(b.hb)(!Object(b.le)(),tt),Object(x.jsx)(ke.a,{...at}),Object(x.jsxs)("div",{role:"main",children:[Object(x.jsx)("h1",{className:"sr-only",children:Object(i.translateWithI18Next)(w.a.HIDDEN_TEXT)}),Object(x.jsx)(Pe,{contentDispositionData:null===(C=be)||void 0===C?void 0:C[M],userParams:me}),Se&&Object(x.jsx)(Ot,{onClose:()=>{Te(!1)}}),xe&&Object(x.jsx)(Ct,{onClose:()=>{Ce(!1)}}),null===(L=je)||void 0===L?void 0:L.map(((e,t)=>{var a,i,o,n,l,d,r,c,s;const u=null!==(a=null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.name)&&void 0!==a?a:"",v=null!==(o=null===e||void 0===e||null===(n=e.sys)||void 0===n||null===(l=n.contentType)||void 0===l||null===(d=l.sys)||void 0===d?void 0:d.id)&&void 0!==o?o:"";let m;return v===H?(m=$e?null:(e=>{var t,a,i,o;return(null===(t=pe)||void 0===t?void 0:t[H])&&Object(x.jsx)(Q.a,{contentData:null!==(a=null===(i=pe)||void 0===i||null===(o=i[H])||void 0===o?void 0:o[he])&&void 0!==a?a:{},location:ce,history:se,userParams:me},e)||null})(t),he++):v===B?(m=$e?null:(e=>{var t,a,i,o;return(null===(t=pe)||void 0===t?void 0:t[B])&&Object(x.jsx)(Q.a,{contentData:null!==(a=null===(i=pe)||void 0===i||null===(o=i[B])||void 0===o?void 0:o[ge])&&void 0!==a?a:{},location:ce,history:se,userParams:me,isGrid:!0},e)||null})(t),ge++):v===G?u===X&&et?m=Ve:u===U?m=(()=>{var e;return Object(b.le)()?Object(x.jsx)(_.a,{tenantReducer:_e,dispositionType:null===Ee||void 0===Ee||null===(e=Ee.cartData)||void 0===e?void 0:e.service}):Object(x.jsx)(V,{contentData:Oe})})():u===Z?m=Ze:u===W&&(m=Ye):m=v===oe?Je:v===Y?ze:v===J?qe:v===te?Ke:v===le?Qe:v===ae?(e=>{const t=Object(b.ob)(e);return Object(x.jsx)(E,{brandData:t})})(e):v===ie?(()=>{const e=je.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(a=t.contentType)||void 0===a||null===(i=a.sys)||void 0===i?void 0:i.id)===ie})),t=Object(b.Nb)(e);return Object(x.jsx)(R,{downloadData:t})})():v===ne&&0===(null===We||void 0===We||null===(r=We.pastOrdersData)||void 0===r?void 0:r.length)?Ge:v===Me||v===Fe?(e=>Object(x.jsx)(Dt,{...e}))({fieldsData:e}):v===de?(e=>Object(x.jsx)(yt.a,{...e}))({data:null===e||void 0===e?void 0:e.fields}):null,Object(x.jsx)("div",{children:m},null!==(c=null===(s=e.sys)||void 0===s?void 0:s.id)&&void 0!==c?c:"")}))]}),ue.showCartClearAlert?Object(x.jsx)(D.a,{}):null]})}},1095:function(e,t,a){"use strict";a.d(t,"j",(function(){return S})),a.d(t,"k",(function(){return T})),a.d(t,"l",(function(){return x})),a.d(t,"m",(function(){return P})),a.d(t,"e",(function(){return F})),a.d(t,"o",(function(){return U})),a.d(t,"p",(function(){return W})),a.d(t,"n",(function(){return H})),a.d(t,"q",(function(){return B})),a.d(t,"x",(function(){return G})),a.d(t,"u",(function(){return V})),a.d(t,"v",(function(){return Y})),a.d(t,"w",(function(){return z})),a.d(t,"K",(function(){return J})),a.d(t,"I",(function(){return X})),a.d(t,"J",(function(){return Z})),a.d(t,"D",(function(){return $})),a.d(t,"E",(function(){return ee})),a.d(t,"f",(function(){return te})),a.d(t,"g",(function(){return ae})),a.d(t,"G",(function(){return ie})),a.d(t,"y",(function(){return oe})),a.d(t,"z",(function(){return ne})),a.d(t,"H",(function(){return le})),a.d(t,"L",(function(){return re})),a.d(t,"s",(function(){return ce})),a.d(t,"b",(function(){return se})),a.d(t,"d",(function(){return ue})),a.d(t,"c",(function(){return ve})),a.d(t,"C",(function(){return me})),a.d(t,"a",(function(){return be})),a.d(t,"A",(function(){return Oe})),a.d(t,"B",(function(){return je})),a.d(t,"F",(function(){return pe})),a.d(t,"i",(function(){return he})),a.d(t,"h",(function(){return ge})),a.d(t,"t",(function(){return Ie})),a.d(t,"r",(function(){return Ne}));var i=a(6),o=a(5),n=(a(1123),a(61)),l=a(262),d=a(0),r=a(4),c=a(1149),s=a(263),u=a(15),v=a(59),m=a(1102),b=a.n(m),O=a(12),j=a(403),p=a(55),h=a(1128),g=a(1165),I=a(1188),f=a.n(I),N=a(2);const S=(e,t,a,i,n,l)=>{let r;if(a){var c,s,u,v,m;const a=null===l||void 0===l?void 0:l[d.gd.VIEW_PRODUCT],r=[T(null===a||void 0===a||null===(c=a.priceDetails)||void 0===c||null===(s=c.find((e=>(null===e||void 0===e?void 0:e.id)===i)))||void 0===s?void 0:s.availability,n)],b=(null===r||void 0===r||null===(u=r[0])||void 0===u?void 0:u.promoPrice)<(null===r||void 0===r||null===(v=r[0])||void 0===v?void 0:v.price)?null===r||void 0===r||null===(m=r[0])||void 0===m?void 0:m.promoPrice:0,O=b?{...null===r||void 0===r?void 0:r[0],price:b}:e;return Object(o.Ec)(O,t,n)||0}return Object(o.Td)(e)&&(r=Object(o.Ec)(e,t,n)||0),r},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=0,i="",n="";if(t||(t=Object(o.Vc)()),e.length>1){const r=Object(o.E)(t),c=t&&Object(O.E)(t,d.Rf);return e.forEach((e=>{const{price:t=0,availableHours:o={},dayOfWeek:{day:l=""}}=e,{startTime:s={},endTime:u={}}=o,v=parseInt(s.time,10),m=parseInt(u.time,10),b=((e,t,a,i,o)=>e>=t&&e<=a&&i>o||a<t&&e<a)(r,v,m,t,a);i=l,n=b,l===d.cc?(v<m&&b||v>m&&(r>=v||r<=m)&&t>a)&&(a=t):l===c&&b&&(a=t)})),i===d.cc?n?e[1]:e[0]:b()(e,[l.a.DAY_OF_WEEK,{day:null===c||void 0===c?void 0:c.toUpperCase()}])}return e[0]},x=(e,t,a,i,n,d,r,c,s)=>{const{id:u,name:v,modgrps:m,availability:b=[]}=Object(o.Pb)(JSON.parse(JSON.stringify(e))),O=n?T(b,n):b[0];let j=null!==d&&void 0!==d&&d.foodLineId&&C(null===d||void 0===d?void 0:d.foodLineId,r,u)&&!i?E(null===d||void 0===d?void 0:d.foodLineId,r):Math.round(S(O,a,i,u,n,c)*a);var p;Object(o.pc)(null===e||void 0===e?void 0:e.modgrps)&&(null===d||void 0===d?void 0:d.flag)!==l.a.CUSTOMISE_FLAG_CART&&s&&(null===e||void 0===e||null===(p=e.modgrps)||void 0===p||p.map((e=>{var t;const a=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));if(Object(o.pc)(a)){var i,n,l,d;let e=null!==(i=null===(n=a[0])||void 0===n||null===(l=n.availability)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.price)&&void 0!==i?i:0;j+=e}})));return{id:u,quantity:null!==t&&void 0!==t?t:0,name:v,basePrice:j,newBasePrice:j,unitPrice:t?j*t:0,modGrps:R(m,a,u)}},C=(e,t,a)=>{var i,o;let n=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((t=>{let{id:a}=t;return a===e}));return(null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.id)===a},E=(e,t)=>{var a;let i=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:a}=t;return a===e}));if(i)return null===i||void 0===i?void 0:i.unitPrice},_=(e,t)=>{e&&null!==t&&void 0!==t&&t.custom&&(t.isDefault=!1,t.quantity=0)},D=e=>{var t;let a=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));return(null===a||void 0===a?void 0:a.length)>1},y=e=>null!==e&&void 0!==e&&e.isInitialDefault?e.isInitialDefault:e.isDefault,A=(e,t,a)=>{var i,o;let n=null===e||void 0===e?void 0:e.filter((e=>{let{id:a}=e;return a===t}));return null===n||void 0===n||null===(i=n[0])||void 0===i||null===(o=i.modifiers)||void 0===o?void 0:o.filter((e=>{let{id:t}=e;return t===a}))},R=(e,t,a)=>{let i={};return null===e||void 0===e||e.forEach(((e,o)=>i[e.id]={id:e.id,name:e.name,parentId:a,modifiers:w(e.modifiers,t,"".concat(a).concat(l.a.HASH_SYMBOL).concat(e.id)),orderIndex:o,min:e.min})),i},L=e=>null!==e&&void 0!==e&&e.quantity?null===e||void 0===e?void 0:e.quantity:null!==e&&void 0!==e&&e.isDefault?null===e||void 0===e?void 0:e.defaultQuantity:0,w=(e,t,a)=>{let i={};return e.forEach((e=>{let n=+Math.round(Object(o.Ec)(e.availability[0],t)*t);i[e.id]={id:e.id,parentId:a,name:e.name,dname:e.dname,quantity:L(e),isSelected:e.isDefault,modGrps:Object(o.pc)(e.modgrps)?R(e.modgrps,t,"".concat(a).concat(l.a.HASH_SYMBOL).concat(e.id)):{},basePrice:n,unitPrice:e.isDefault?e.defaultQuantity*n:0,newQuantity:null,newUnitPrice:null,newSelectedFlag:null,isDefault:e.isAdded?"":e.isDefault,defaultQuantity:e.defaultQuantity,isEditConfirmed:!!e.isEditConfirmed&&e.isEditConfirmed,isExcluded:e.isExcluded,isInitialDefault:null===e||void 0===e?void 0:e.isInitialDefault}})),i},P=e=>{let{id:t,quantity:a}=e;return{id:t,quantity:a,modGrps:k(e.modGrps)}},k=e=>Object.values(e).filter((e=>Object.keys(e.modifiers).length>0)).map((e=>{let{id:t,name:a,orderIndex:i}=e;return{id:t,name:a,modifiers:M(e.modifiers),orderIndex:i}})).sort(((e,t)=>+e.orderIndex-+t.orderIndex)),M=e=>Object.values(e).filter((e=>e.quantity>0&&!e.isExcluded)).map((e=>{let{id:t,name:a,quantity:i,modGrps:o}=e;return{id:t,name:a,quantity:i,modGrps:Object.keys(o).length>0?k(o):[]}})),F=(e,t,a,o)=>{var n,l;const c=e+1,s=null===o||void 0===o?void 0:o[d.gd.PROMO_PRODUCT_CART],m=(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.foodItemId);var b;if(c===(null!==a&&void 0!==a&&a.maxQuantity?+(null===a||void 0===a?void 0:a.maxQuantity):+(null===s||void 0===s||null===(n=s.promoParams)||void 0===n||null===(l=n.find((e=>(null===e||void 0===e?void 0:e.itemId)===m)))||void 0===l?void 0:l.maxQuantity))&&t)return Object(v.b)(Object(N.jsxs)("div",{"data-testid":"validate-toast",className:"img-text-container",children:[Object(N.jsx)("div",{className:"image",children:Object(N.jsx)(j.a,{srcFile:u.a.ErrorImage})}),Object(N.jsx)("span",{className:"text",children:Object(i.translateWithI18Next)(r.a.MAX_ORDER_PROMO)})]}),{bodyClassName:"pdp-promo-toast",className:"pdp-promo-toast-container err-toast",hideProgressBar:!0,position:null===v.b||void 0===v.b||null===(b=v.b.POSITION)||void 0===b?void 0:b.BOTTOM_CENTER,closeButton:!1,autoClose:!0})},U=(e,t,a,i)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.maxQuantity);return e||i}return i},W=(e,t,a,i)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.minQuantity);return e||i}return i},H=(e,t,a,i)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.quantity);return e||i}return i},B=(e,t)=>{const a=t.includes(l.a.HASH_SYMBOL)?t.split(l.a.HASH_SYMBOL):[t];if(Object(o.pc)(a)&&0!==(null===e||void 0===e?void 0:e.length)&&Object(o.pc)(Object.keys(null===e||void 0===e?void 0:e.modGrps))){let t=e;return a.forEach(((e,a)=>{var i,o;a%2===0?t=null===(i=t)||void 0===i?void 0:i.modGrps[e]:t=null===(o=t)||void 0===o?void 0:o.modifiers[e]})),t}return!1},G=(e,t)=>{let a=B(e,t);return Object(o.Td)(a)?null===a.newQuantity&&a.quantity||a.newQuantity:null},V=(e,t)=>{let a=B(e,t);return Object(o.Td)(a)?null===a.newSelectedFlag?a.isSelected:a.newSelectedFlag:null},Y=(e,t)=>{let a=B(e,t);return Object(o.Td)(a)?a.isEditConfirmed:null},z=(e,t,a)=>{let i=B(e,t);return Object(o.Td)(i)?q(i,a):0},q=(e,t)=>{let a=K(e.modGrps,[e]);return 0===a.length?0:a.filter((t=>!0===((null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.isSelected)))).reduce(((a,i)=>{let o=(null===i||void 0===i?void 0:i.id)===(null===e||void 0===e?void 0:e.id)?t:null===e||void 0===e?void 0:e.quantity;return a+(null===i||void 0===i?void 0:i.basePrice)*o}),0)},K=(e,t)=>{let a=[];return Object(o.Td)(e)&&(a=Object.values(e).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})),a.forEach((e=>(t.push(e),Object(o.Td)(e.modGrps)?K(e.modGrps,t):K({},t))))),t},Q=(e,t,a,i)=>{const n=t.split(l.a.HASH_SYMBOL),{quantityKey:d,unitPriceKey:r,isSelectedKey:c}=i,s=B(e,t);if(Object(o.pc)(n)&&e&&Object(o.pc)(Object.keys(e.modGrps))){let t=null;switch(n.length){case 2:t=e.modGrps[n[0]].modifiers[n[1]];break;case 4:t=e.modGrps[n[0]].modifiers[n[1]].modGrps[n[2]].modifiers[n[3]]}t[d]=a,t[r]=a?a*s.basePrice:s.basePrice,t[c]=!!a}return e},J=(e,t,a)=>Q(e,t,a,{quantityKey:"newQuantity",unitPriceKey:"newUnitPrice",isSelectedKey:"newSelectedFlag"}),X=(e,t,a)=>Q(e,t,a,{quantityKey:"quantity",unitPriceKey:"unitPrice",isSelectedKey:"isSelected"}),Z=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),i=e.modGrps[a[0]].modifiers[a[1]];let n=!1;return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{let t=Object(o.ad)(e.isInitialDefault,e.defaultQuantity,0);(Object(o.j)([null!==e.newQuantity,e.newQuantity!==e.quantity,e.newQuantity!==t])||Object(o.hb)(null==e.newQuantity,e.quantity!==t)||Object(o.j)([null!==e.newQuantity,e.newQuantity===e.quantity,e.newQuantity!==t]))&&(n=!0),null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&e.newQuantity!==e.quantity&&(e.quantity=e.newQuantity,e.unitPrice=e.newUnitPrice,e.isSelected=e.newSelectedFlag)})),i.isEditConfirmed=n,e.basePrice=e.newBasePrice,e.unitPrice=e.newBasePrice*e.quantity,e},$=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),i=e.modGrps[a[0]].modifiers[a[1]];return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&(e.newQuantity=e.newUnitPrice=e.newSelectedFlag=null)})),e.newBasePrice=e.basePrice,e},ee=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),i=e.modGrps[a[0]].modifiers[a[1]];if(Object(o.pc)(Object.values(i.modGrps))){Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{e.isSelected=e.isDefault,e.quantity=e.isDefault?e.defaultQuantity:0,e.unitPrice=e.isDefault?e.defaultQuantity*e.basePrice:0})),i.isEditConfirmed=!1}return e},te=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),i=e.modGrps[a[0]].modifiers[a[1]];return Object.values(i.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).some((e=>null!==e.newQuantity&&e.newQuantity!==e.quantity))},ae=(e,t)=>{var a;const i=null===t||void 0===t||null===(a=t.modGrps)||void 0===a?void 0:a[e];if(Object(o.Td)(i)){return Object.values(i.modifiers).some((e=>e.isInitialDefault&&!e.isSelected||e.isSelected&&e.isEditConfirmed))}return!1},ie=(e,t,a)=>{let{price:i,flag:o}=t;const{BASEPRICE:d,NEWBASEPRICE:r}=l.a,{QUANTITY_ACTION:c}=n.a;let s=a?r:d,u=e[s],v=o===c.Increase?u+i:u-i,m={...e,[s]:v,unitPrice:s===d?e.quantity*v:e.unitPrice};return s===d&&(m.newBasePrice=v),m},oe=(e,t,a,n,l,c)=>{var s,v,m;const b=null===c||void 0===c||null===(s=c.componentOptions)||void 0===s||null===(v=s.web)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.showNoWordWhenModifierOutOfStock,{NO:O}=r.a;let p=B(e,t);if(p&&Object(o.pc)(Object.keys(p))){const e=Object.values(null===p||void 0===p?void 0:p.modifiers);let t=n?e:(e=>e.filter((e=>(null===(null===e||void 0===e?void 0:e.newQuantity)?null===e||void 0===e?void 0:e.quantity:null===e||void 0===e?void 0:e.newQuantity)>=1)))(e),o=[];return t.map(((e,t)=>{let{name:r,quantity:c,newQuantity:s,basePrice:v,newUnitPrice:m,isExcluded:p}=e,h=null!==s?s:c,g=null!==m?m:v*h;return h>0?null===o||void 0===o||o.push(t):o.filter((e=>e!==t)),Object(N.jsxs)("span",{children:[(null===o||void 0===o?void 0:o.length)>1&&!!h&&Object(N.jsx)("span",{children:","})," ",p&&Object(N.jsxs)("span",{children:[Object(N.jsx)(j.a,{srcFile:u.a.Error_Yellow,className:"location-alert-icon mr-1"}),b&&"".concat(Object(i.translateWithI18Next)(O))," ",r," ",b&&"(-)"]}),!p&&Object(N.jsxs)(N.Fragment,{children:[h>1&&Object(N.jsxs)("span",{children:[" ",h,"x "]}),h>0&&r,0!==g&&h>0&&Object(N.jsxs)("span",{children:[" ","(+ ",l+(g/a).toFixed(d.gg),")"]}),0===h&&!!c&&n&&Object(N.jsxs)("span",{children:[b&&"".concat(Object(i.translateWithI18Next)(O))," ",r," ",b&&"(-)"," "]})]})]})}))}},ne=function(e,t,a,n){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const{INEXTRAS:r}=l.a;let c=B(e,t);if(c&&Object(o.Td)(c)&&Object(o.Td)(null===c||void 0===c?void 0:c.modGrps)){let e=Object.values(null===c||void 0===c?void 0:c.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).filter((e=>e.quantity>0)).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.basePrice)*(null===t||void 0===t?void 0:t.quantity)}),0);return 0!==e&&" (+ ".concat(n).concat((e/a).toFixed(d)," ").concat(Object(i.translateWithI18Next)(r),")")}return 0!==c.basePrice&&"(+ ".concat(n).concat((c.basePrice*c.quantity/a).toFixed(d),")")},le=e=>{var t;let{pdpPayloadData:a,forModal:i,modgrps:l,getPayloadUpdated:d,modifierPrice:r,isL3Custom:c,getUpdatedPrice:s,userOrderState:u,flag:v}=e;const{QUANTITY_ACTION:m}=n.a;let b=null===u||void 0===u||null===(t=u.sopacPDPCustomization)||void 0===t?void 0:t.updatedPrice;return Object(o.Td)(a)&&!i&&(Object(o.pc)(l)||(d=ie(a,{price:r,flag:v},c)),c&&(s=v===m.Decrease?b-r:b+r)),{getPayloadUpdated:d,getUpdatedPrice:s}},de=(e,t)=>f()(t)?{valueToDisplay:e,valueToCount:t}:{valueToDisplay:e,valueToCount:e},re=(e,t)=>{const{modgrpMax:a,modgrpMin:i,modifierMax:n,modifierMin:l,modgrpCount:d,itemCount:r,SET_PDP_BUTTON_DISABLED:s,userOrderStateDispatch:u,userOrderState:v,modgrpId:m,pdpCateringItemQuantityLimit:b}=t;let O=Number(e.target.value),j=e.target.value;if(!isNaN(O)&&f()(O)){if(Object(o.hb)(""===j,a))return Object(c.b)(d-r,i,s,u,v,m),de(j,l);if(""===j)return de(j);if(j=+j,j>b)return de(!1);if(void 0!==a){let e=d-r+j,t=a-e,l=n-j;if(t<0){let t=a-d+r;Object(c.b)(e,i,s,u,v,m);let l=Object(o.ad)(t<=n,t,n);return de(l)}if(t>=0)return Object(c.b)(e,i,s,u,v,m),de(l>=0?j:n)}return de(j)}return de(!1)},ce=e=>Object(o.ad)(Object(o.Hd)(e),"","retail-item-qty"),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o.pc)(e)?null===e||void 0===e?void 0:e.map(((a,n)=>{var l;let r;return r=t&&a.url===d.Vd.COUPON?d.Ce.PROMOS_REWARDS_PAGE:Object(o.ad)(0===n,"/".concat(a.url),"/".concat(e[0].url,"/").concat(a.url)),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.a,{"data-testid":"pdp-links-".concat(a.text),className:"pdp-anchor-link",href:r,children:Object(i.translateWithI18Next)(null===a||void 0===a||null===(l=a.text)||void 0===l?void 0:l.toLowerCase())}),Object(N.jsx)("span",{children:Object(o.ad)(n===e.length-1,""," > ")})]})})):Object(N.jsx)(N.Fragment,{})},ue=(e,t)=>{var a;let i=!1;const n=null===t||void 0===t||null===(a=t.modGrps)||void 0===a?void 0:a[e];if(Object(o.Td)(n)){const e=Object.values(null===n||void 0===n?void 0:n.modifiers);i=(null===n||void 0===n?void 0:n.min)>0&&(e.some((e=>e.isSelected&&(null===e||void 0===e?void 0:e.isExcluded)))||e.every((e=>!e.isSelected)))}return i},ve=e=>{let t=!1,a=null===e||void 0===e?void 0:e.modGrps;for(let l in a){var i,o;if(t=ue(null===(i=a[l])||void 0===i?void 0:i.id,e),t)return!0;let d=null===(o=a[l])||void 0===o?void 0:o.modifiers;for(let e in d){var n;if(null!==d&&void 0!==d&&null!==(n=d[e])&&void 0!==n&&n.isSelected&&(t=ve(null===d||void 0===d?void 0:d[e]),t))return!0}}return t},me=(e,t)=>{e?Object(o.Re)({history:t}):Object(o.Ze)({history:t})},be=function(e,t,a,i,o,n){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";null!==t&&void 0!==t&&t.id&&e&&Object(p.f)(a,i,null===t||void 0===t?void 0:t.totalAmount,o,l,n)},Oe=e=>{const{modgrpMax:t,selectedProduct:a,modgrpMin:i,name:n,size:l,location:d,setInitialRender:r,savedModifierHandler:c,setSelectedProduct:s,cardData:u,savedModifiers:v,userOrderState:m,userOrderStateDispatch:b,modGrpName:O,pdpPayloadData:j,objPath:p,isModal:g}=e;if(Object(o.jb)(Object(o.hb)(1===t,!a),0===i)){let e={name:n,size:l},I=Object(o.Ab)(d.pathname),f={analyticsObjectData:e,currLocationInfo:I};r(!1),Object(h.c)(e,I,f,i,t,a,c,s,u,v,m,b,O,j,p,g,!1)}},je=(e,t,a)=>{e.preventDefault();let i=re(e,{pdpCateringItemQuantityLimit:t}).valueToCount;!1!==i&&a(i);const o=e.target.selectionStart,n=e.target;window.requestAnimationFrame((()=>{n.selectionStart=o,n.selectionEnd=o}))},pe=e=>{const{productDetails:t,currentItemObject:a,prodURL:i,product_name:n,pdpDataForUpdateFoodLine:d,cartData:r,prodName:c,prodItems:s,pdpPromoPage:u,setPdpData:v,userOrderStateDispatch:m,setMakeItAComboData:b,setRecommendationData:O,setAddOnRecommendedData:j,setCurrentPDPProduct:p,setProdQuantity:h,setRuleName:I,getPWAstorageData:f}=e,{UPSELL:N,CROSSELL:S,PDP_ITEM_CUSTOM_TYPE:T,SET_PDP_BUTTON_DISABLED:x,ADDONS:C}=l.a;if(Object(o.j)([Object(o.Td)(t),Object(o.Td)(a),i===n,(null===t||void 0===t?void 0:t.productId)===(null===a||void 0===a?void 0:a.id)])){var E,R,L;const{additionalProperties:e}=a,i=Object(o.ve)(e)||{},n=((e,t,a)=>{var i,o;let n=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((t=>{let{id:a}=t;return a===e})),l=null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.modGrps;return null===a||void 0===a||a.forEach(((e,t)=>{var i,o,n;null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.forEach(((i,o)=>{let n=A(l,e.id,i.id);var d,r;(null===n||void 0===n?void 0:n.length)>0&&((i={...i,...null===n||void 0===n?void 0:n[0]}).mdmId=i.id,a[t].modifiers[o]=i,null===(d=i)||void 0===d||null===(r=d.modgrps)||void 0===r||r.forEach(((e,l)=>{var d;null===e||void 0===e||null===(d=e.modifiers)||void 0===d||d.forEach(((e,d)=>{var r,c;let s=null===(r=n[0].modGrps[l])||void 0===r||null===(c=r.modifiers)||void 0===c?void 0:c.filter((t=>{let{id:a}=t;return a===e.id}));var u,v;(null===s||void 0===s?void 0:s.length)>0&&((e={...e,...null===s||void 0===s?void 0:s[0]}).mdmId=e.id,e.isEditConfirmed=null===(u=e)||void 0===u?void 0:u.custom,null!==(v=e)&&void 0!==v&&v.custom&&(i.isEditConfirmed=!0),a[t].modifiers[o].modgrps[l].modifiers[d]=e)}))})))}));let d=null===e||void 0===e||null===(o=e.modifiers)||void 0===o?void 0:o.some((e=>e.isAdded)),r=D(e);null===e||void 0===e||null===(n=e.modifiers)||void 0===n||n.forEach((e=>{var t;e.isInitialDefault=y(e),d&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),_(r,e),null===e||void 0===e||null===(t=e.modgrps)||void 0===t||t.forEach(((e,t)=>{var a,i;let o=null===e||void 0===e||null===(a=e.modifiers)||void 0===a?void 0:a.some((e=>e.isAdded)),n=D(e);null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.forEach((e=>{e.isInitialDefault=y(e),o&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),_(n,e)}))}))}))})),a})(null===d||void 0===d?void 0:d.foodLineId,r,null===a||void 0===a?void 0:a.modgrps);v({...a,additionalProperties:i,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:null===t||void 0===t?void 0:t.catalogName,itemId:null===t||void 0===t?void 0:t.productId,dname:c,items:s,modgrps:n}),m({type:T,value:null===a||void 0===a?void 0:a.customizable});let l=Object(g.b)(null===a||void 0===a?void 0:a.recommendationRules,N,S,C);b(l.combo),O(l.recommendation);const w=null!==(E=null===r||void 0===r||null===(R=r.foodLines)||void 0===R?void 0:R.map((e=>{let{item:t}=e;return t.id})))&&void 0!==E?E:[];j(null===l||void 0===l||null===(L=l.addOnRecommendedItems)||void 0===L?void 0:L.filter((e=>{let{id:t}=e;return!w.includes(t)}))),I(null===l||void 0===l?void 0:l.ruleName),p(a),m({type:x,value:{}}),h(Ie(u,null===a||void 0===a?void 0:a.id,d,r,f)),window.scrollTo(0,0)}},he=(e,t,a,i)=>{if(Object(o.hb)(e.quantity!==t,(null===e||void 0===e?void 0:e.id)===a)){let a=((e,t)=>({...e,quantity:null!==t&&void 0!==t?t:0,unitPrice:t?e.basePrice*t:0}))(e,t);i({type:l.a.PDP_PAYLOAD_DATA,value:a})}},ge=e=>{const{pdpData:t,prodQuantity:a,tenantData:i,PDP_PAYLOAD_DATA:n,userOrderStateDispatch:l,pdpPromoPage:d,storeTimeZone:r,pdpDataForUpdateFoodLine:c,cartData:s,getPWAstorageData:u}=e;var v,m;Object(o.j)([Object(o.Td)(t),Object(o.Td)(i)])&&Object(g.c)(t,a,i.currencyConversionFactor,n,l,d,r,c,s,u,null===i||void 0===i||null===(v=i.componentOptions)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.enableDefaultModifierCalculation)},Ie=(e,t,a,i,o)=>{const n=o[d.gd.VIEW_PRODUCT];var l,r,c;return e?+(null!==(l=null===n||void 0===n||null===(r=n.promoParams)||void 0===r||null===(c=r.find((e=>(null===e||void 0===e?void 0:e.itemId)===t)))||void 0===c?void 0:c.quantity)&&void 0!==l?l:1):fe(a,i)},fe=(e,t)=>{let a=1;const i=null===e||void 0===e?void 0:e.foodLineId;if(""!==i){var o;let e=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((e=>{let{id:t}=e;return t===i}));a=null===e||void 0===e?void 0:e.quantity}return a},Ne=e=>{var t;const{name:a=[],recommendationType:i=""}=null!==e&&void 0!==e?e:{};return{ruleName:(null===(t=a[0])||void 0===t?void 0:t.value)||"",recommendationType:i}}},1096:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(3);var i=a(1181),o=a.n(i),n=(a(1182),a(1183),a(2));const l=e=>{const{settings:t,carousalRef:a}=e;return Object(n.jsx)(o.a,{...t,ref:a,children:e.children})};l.defaultProps={settings:null,carousalRef:null},t.b=l},1098:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return O}));var i=a(21),o=a(9),n=a(5),l=a(398),d=a(0);const r=async(e,t)=>{var a;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===o.a||void 0===o.a||null===(a=o.a.upsizeSelectedPwa)||void 0===a?void 0:a.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},n.Bb))},c=async e=>{var t;await i.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},n.Bb)},s=async e=>{var t;await i.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},n.Bb)},u=async e=>{var t,a,l,d,r;const{eventFlag:c,itemsArray:s,userType:u="",totalAmount:v="",couponCode:m="",currencyShortName:b=""}=e,O=await(null===s||void 0===s?void 0:s.length)>0&&((null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.item_name)===(null===s||void 0===s||null===(a=s[1])||void 0===a?void 0:a.item_name)?[null===s||void 0===s?void 0:s[0]]:s);await(null===s||void 0===s?void 0:s.length)>0&&i.a.registerEvent(null===o.a||void 0===o.a||null===(l=o.a[c])||void 0===l?void 0:l.name,{data:{event:c,userType:u||"",ecommerce:{items:O,currency:b||"",value:v||(null===O||void 0===O||null===(d=O[0])||void 0===d?void 0:d.price)*(null===O||void 0===O||null===(r=O[0])||void 0===r?void 0:r.quantity)||"",coupon:m||""}}},n.Bb)},v=async(e,t)=>{var a;await i.a.registerEvent(null===o.a||void 0===o.a||null===(a=o.a.viewItemList)||void 0===a?void 0:a.name,{data:{event:l.u,disposition:Object(n.h)(t),ecommerce:{items:e||[]}}},n.Bb)},m=async()=>{var e;await i.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},n.Bb)},b=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:a}}}}))},O=async e=>{var t,a,l;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,item_list_id:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_id,ecommerce:{items:e||[]}}},n.Bb))}},1099:function(e,t,a){"use strict";var i=a(962);a.d(t,"a",(function(){return i.default}))},1101:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a(3),o=a(28),n=a(92),l=a(106),d=a(85);const r={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var c=a(16),s=a(6),u=a(5),v=a(35),m=a(15),b=a(0),O=a(80),j=a(2);const p=e=>{const t=Object(o.c)((e=>e.cartReducer)),{cartData:a={}}=t||{},p=Object(o.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:I}=Object(i.useContext)(d.a),{modalToOpenOnConfirm:f,modalOpenFrom:N,confirmCallBack:S}=g,{CartError:T}=m.a,x=Object(o.b)(),{CLEAR_ALL_MSG:C,CLEAR_ALL:E,CANCEL:_,TO_CHANGE_LANGUAGE:D}=r;((e,t,a)=>{e.langSelector?t.MSGTXT3=a:t.MSGTXT3})(e,C,D);const{SHOW_CLEAR_CART_ALERT:y,DISPOSITION_DATA:A,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:w,orderTypeAlertTitle:P,searchStoreAlertTitle:k,RESET_DELIVERY_ADDRESS_LINE:M,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:U}=c.a,W=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,H=()=>{I({type:F,value:{}}),I({type:b.Oe,value:{selectedLanguage:""}}),I({type:y,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),N===w&&I({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:W.store,changeFlow:!0}})};return Object(j.jsx)(l.a,{handleClose:H,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(n.a,{splitTitle:C,imageSrc:T,altText:"cart-error",confirmButtonText:Object(s.translateWithI18Next)(E),cancelButtonText:Object(s.translateWithI18Next)(_),cancelHandler:H,confirmHandler:()=>{if(a.discountLines.length>0){let e=a.discountLines.map((e=>e.id));x(Object(v.n)({params:{basketId:a.id},tenantId:h,shouldClearCart:!0},e))}else x(Object(v.o)({basketId:a.id,tenantId:h}));x(Object(O.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),x(Object(v.u)(new Date)),I({type:y,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),S&&S(),f===P?(I({type:M}),I({type:A,value:{showDisposition:!0}}),I({type:L,value:{showScheduleOrderCatering:!1}}),I({type:R,value:{showSearchStore:!1}}),I({type:U,value:{orderCapacityDataUpdated:!1}}),I({type:F,value:{}})):f===k&&I({type:R,value:{showSearchStore:!0}})}})})}},1103:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,o,n,l;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(a.bind(null,215));return null===r||void 0===r||null===(o=r.default)||void 0===o||null===(n=o[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,a(121))},1104:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n}));var i=a(1);function o(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.qk,payload:{data:e,tenantId:t},successCallback:a,errorCallback:o}}function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i.lk,menuPayload:e,exclusionPayload:t,successCallback:a}}},1106:function(e,t,a){"use strict";t.a={MODALHEADERTEXT:"Customize Your",CUSTOMIZE_TAG:"custom",MAX_TAG:"max",MAX_ALERT_TEXT_INITIAL:"maxtextInitial",MAX_ALERT_TEXT_END:"maxtextEnd",CLOSE_ALERT_TEXT:"selectionNotSaved",ITEM_QUANTITY:0,CUSTOMIZE_BUTTON_TEXT:"customise",EDIT_BUTTON_TEXT:"edit",DISMISS_CHANGES_ALERT_TEXT:"dismissChangesAlert",DISMISS_SELECTIONS:"dismissSelections"}},1107:function(e,t,a){"use strict";var i=a(3),o=a(85),n=a(5),l=a(12);t.a=()=>{const{userOrderState:e}=Object(i.useContext)(o.a),t=Object(i.useMemo)((()=>(Object(n.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(l.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1109:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return u}));var i=a(21),o=a(9),n=a(5),l=a(12);a(0);const d=async function(e,t,a,l){var d;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await i.a.registerEvent(null===o.a||void 0===o.a||null===(d=o.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:r,value:a||"",coupon:l||""}}},n.Bb)},r=e=>{i.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(l.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(l.P)(e.month),", ").concat(e.day)||"NA"},n.Bb)},c=e=>{i.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},n.Bb)},s=async e=>{await i.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},n.Bb)},u=async e=>{await i.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},n.Bb)}},1110:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var i=a(3),o=a(28),n=a(172),l=a(214),d=a(20),r=a.n(d),c=a(266),s=a(0),u=a(2);const v=(e,t)=>{if(e&&t){const a={};e.replace(/%(.*?)%/g,((e,t)=>{a[e]=t})),Object.entries(a).forEach((a=>{const[i,o]=a,n=((e,t)=>{var a;return null!==(a=e[t])&&void 0!==a?a:"N/A"})(t,o);if("string"==typeof n){const t=new RegExp(i,"ig");e=e.replace(t,n)}else{let t=JSON.parse(e);for(let e in t)t[e]===i&&(t[e]=n);e=JSON.stringify(t)}}))}return e},m=e=>{let{page:t,seoObj:a,seoTemplate:d}=e;const[m,b]=Object(i.useState)(null),[O,j]=Object(i.useState)(""),{seoContent:p}=Object(o.c)((e=>{var t,a,i;return{seoContent:null!==(t=null===e||void 0===e||null===(a=e.contentReducer)||void 0===a||null===(i=a.response)||void 0===i?void 0:i.seoStructureData)&&void 0!==t?t:null}}));return Object(i.useEffect)((()=>{var e,i,o,n,u,m;const O={...a,PageURL:null!==(e=null===(i=window)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.href)&&void 0!==e?e:"",HomeURL:null!==(n=null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.origin)&&void 0!==n?n:"/"};if(!r()(p)){var h,g;const e=null!==(h=null!==d&&void 0!==d?d:null===p||void 0===p||null===(g=p.seo)||void 0===g?void 0:g.find((e=>{var a;return(null===(a=e.fields)||void 0===a?void 0:a.title)===t})))&&void 0!==h?h:{},{fields:{templateData:a={},data:i={}}={}}=e,{template:o={}}=null!==p&&void 0!==p?p:{},n=Object(c.documentToHtmlString)(o);if(!r()(n)){let e=Object(l.a)(n.replace(/<p>|<\/p>/gi,""));e=v(e,a),e=v(e,O);const t=Object(l.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t,a,i;return!((null===e||void 0===e?void 0:e.type)===s.tf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children)||(null===e||void 0===e?void 0:e.type)===s.sd&&(null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.name)===s.ke&&"N/A"===(null===e||void 0===e||null===(i=e.props)||void 0===i?void 0:i.content))})))}if(!r()(i)){let e=JSON.stringify(i);e=v(e,O),b(e)}}}),[t,p,a,d]),Object(u.jsxs)(n.a,{children:[O,Object(u.jsx)("script",{type:"application/ld+json",children:m})]})};m.defaultProps={page:"",seoTemplate:null,seoObj:null}},1112:function(e,t,a){"use strict";a.d(t,"g",(function(){return b})),a.d(t,"j",(function(){return O})),a.d(t,"l",(function(){return j})),a.d(t,"k",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"n",(function(){return f})),a.d(t,"e",(function(){return N})),a.d(t,"d",(function(){return S})),a.d(t,"m",(function(){return T})),a.d(t,"f",(function(){return x})),a.d(t,"h",(function(){return C})),a.d(t,"i",(function(){return E})),a.d(t,"a",(function(){return _}));var i=a(21),o=a(5),n=a(9),l=a(146),d=a(6),r=a(406),c=a(398),s=a(20),u=a.n(s),v=a(0),m=a(2);const b=async(e,t)=>{var a;await i.a.registerEvent(null===n.a||void 0===n.a||null===(a=n.a.menuNavigation)||void 0===a?void 0:a.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},o.Bb)},O=async(e,t)=>{const a=[];a.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:a[0]},o.Bb)},j=async(e,t,a)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a]}),await i.a.registerEvent(e.eventType,{data:n[0]},o.Bb)},p=async(e,t,a,n)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a],[n]:e.selectedData[n]}),await i.a.registerEvent(void 0,{data:l[0]},o.Bb)},h=(e,t)=>{const a=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===a||void 0===a?void 0:a.find((t=>{let{isHidden:a=!1,items:i}=t;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},g=(e,t,a,i,o,n)=>{var l;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.length)&&0===Object.keys(t).length?I(e.categories[0],a,i,o):Object.keys(t).length>0?I(t,a,i,o):I(e,a,i,o),d},I=(e,t,a,i)=>{var n;let l={},d=[];return d=null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.map((e=>(e.items.forEach(((e,n)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===c.o.PRICE_WITHOUT_TAX.toLowerCase())),r=Object(o.Jc)(d.value,i).toFixed(2);r=r?parseFloat(r):"NA",l={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:r,item_category:t,item_list_name:t,item_list_id:a,index:n,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),l))),d},f=async e=>{var t,a,l;await i.a.registerEvent(null===n.a||void 0===n.a||null===(t=n.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}},o.Bb)},N=(e,t)=>{let a={},i=e.find((e=>{var a;return(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const o in e.categories)if(e.categories[o].id===t)return a=e.categories[o],!0;return!1}))),{selectedCategory:i,selectedSubcategory:a}},S=function(e,t,a,i){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const n=(r=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:a,categories:i}=e,o=!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase());return o||(o=i.find((e=>{let{url:t,isHidden:a}=e;return!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())}))),o})));var d,r,c;if(u()(n)){if(t&&(a("category"),i(!0)),!u()(e)){var s;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&l.scroller.scrollTo(null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-140:-100})}}else l.scroller.scrollTo(null===n||void 0===n||null===(c=n.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-150:-100});return!u()(n)},T=e=>null===e||void 0===e?void 0:e.isStoreClosed,x=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:a}=r.d;let i=Object(d.translateWithI18Next)(t),o=Object(d.translateWithI18Next)(a);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=o),{btnText:i}},C=(e,t)=>{0===e.length&&Object(o.Ob)(document.title,Object(d.translateWithI18Next)(c.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(c.s))},E=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let a=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;a.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),a},_=e=>{const{searchMode:t,filterList:a,dietaryList:i,products:o,viewUp:n,tenantData:l,getCardCount:d,catalogs:r,storeClosedData:c,setShowTopScrollBtn:s,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:b}=e;return(t.isSearchedMode||[...a,...i].length)&&null!==o&&void 0!==o&&o.length?Object(m.jsx)("div",{className:n?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:o,cardType:n?"small":"medium",tenantData:l,cardCount:d,catalogs:r,storeClosedData:c,setShowTopScrollBtn:s,categoryId:b})}):t.isSearchedMode&&u()}},1115:function(e,t,a){"use strict";a(3);var i=a(2);t.a=e=>{const{className:t,clickNextCard:a=null}=e;return Object(i.jsx)("div",{className:t,onClick:()=>{a()},onKeyPress:()=>{a()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})}},1116:function(e,t,a){"use strict";a(3);var i=a(2);t.a=e=>{const{className:t,clickPrevCard:a=null}=e;return Object(i.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})}},1117:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(46),l=a(2);const d=e=>{const{show:t,errorMsg:a="",cssClass:i="",errImage:o}=e;return t?Object(l.jsxs)("div",{className:"inline-error-container ".concat(i),children:[Object(l.jsx)(n.a,{srcFile:o}),Object(l.jsx)("div",{className:"error-message",children:a})]}):null},r=o.a.memo(d);t.a=r},1118:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var i=a(35),o=a(61),n=a(397),l=a(145),d=a(16),r=a(262),c=a(1098),s=a(0),u=a(1095),v=a(55),m=a(5);a(80),a(30);const{QUANTITY_ACTION:b,ANALYTICS_EVENTS:O,CART_ALERT:j,PDP_DATA_FOR_UPDATE_FOODLINE:p,CUSTOMISE_FLAG_CART:h,REMOVE_ITEM_FLAG:g}=o.a,{MINI_PDP_DATA:I,FROMFLAGEDIT:f,EDIT_CLICKED:N}=d.a,{RESET_MODGROUP_IDS_UPDATE:S,SHOW_PDP_ALERT_POPUP:T}=r.a;function x(e,t,a,d){let x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},C=arguments.length>5?arguments[5]:void 0,E=arguments.length>6?arguments[6]:void 0,_=arguments.length>7?arguments[7]:void 0,D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",y=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],A=arguments.length>10?arguments[10]:void 0,R=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",w=arguments.length>13?arguments[13]:void 0;const P=(a,o)=>{let{foodLineId:l}=a;const{cartId:r}=e;l&&r&&t&&(C(Object(i.q)({tenantId:t,basketId:r,basketLineItemId:l})),x({type:g,value:{removeItemCart:!0}}));const s=Object(n.r)([a],d,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,D,R);o&&o(s),C(Object(i.u)(new Date));const u=null===a||void 0===a?void 0:a.cartPrice,v={eventFlag:O.REMOVE,itemsArray:s,userType:_,totalAmount:u,couponCode:R,currencyShortName:D};Object(c.h)(v)},k=e=>{x({type:j,value:{showCartAlert:e}})},M=e=>{if(localStorage.getItem(s.gd.ADD_TO_ORDER)){var t;const a=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(s.gd.ADD_TO_ORDER));null!==a&&void 0!==a&&a[e]&&delete a[e],Object.keys(a).length>0?localStorage.setItem(s.gd.ADD_TO_ORDER,JSON.stringify(a)):localStorage.removeItem(s.gd.ADD_TO_ORDER)}},F=(a,o)=>{const{cartId:n}=e,l={Id:null===o||void 0===o?void 0:o.foodItemId,categoryId:null===o||void 0===o?void 0:o.categoryId,quantity:null===o||void 0===o?void 0:o.quantity,categoryName:null===o||void 0===o?void 0:o.foodName,categoryUrl:null===o||void 0===o?void 0:o.categoryUrl};+(null===o||void 0===o?void 0:o.discountAmount)>0?C(Object(i.y)({params:{basketId:n,basketLineItemId:null===o||void 0===o?void 0:o.foodLineId},tenantId:t},{...l,isProductPromo:!1})):P(o),M(a)};return{itemQuantityHandler:(a,o)=>{var l,r;let{quantity:m,foodLineId:j,foodItemId:p}=a;const{cartId:h,discountAmounts:g=[]}=e,{unitPrice:I}=a;m&&j&&h&&t&&(o===b.Increase&&Object(u.e)(m,null===a||void 0===a?void 0:a.isProductPromo,a,A),m=o===b.Increase?m+1:o===b.Decrease&&m-1||m,C(Object(i.x)({params:{basketId:h,basketLineItemId:j},tenantId:t},{quantity:m,isBundle:Object(n.e)(p)})),C(Object(i.u)(new Date)));const f=o===b.Increase?O.ADD_TO_CART:O.REMOVE;let N=Object(n.r)([a],d,"quantityModified",g,D,R,L/w);const S=(null===N||void 0===N||null===(l=N[0])||void 0===l?void 0:l.price)*(null===N||void 0===N||null===(r=N[0])||void 0===r?void 0:r.quantity),{totalAmount:T}=e;if(o===b.Increase){var x,E;const e=null===(x=JSON.parse(null===(E=localStorage)||void 0===E?void 0:E.getItem(s.gd.DISPOSITION_NEW)))||void 0===x?void 0:x.type;Object(v.f)(_,N,+S.toFixed(2),R,D,e)}else{let e={eventFlag:f,itemsArray:N,userType:_,totalAmount:S,couponCode:R,currencyShortName:D};Object(c.h)(e)}},itemRemoveHandler:P,itemAllRemoveHandler:()=>{k(!0)},itemAllRemoveAction:a=>{const{cartId:o}=e;o&&t&&C(Object(i.o)({basketId:o,tenantId:t})),k(!1);let l=Object(n.r)(a,y,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,D,R);localStorage.removeItem(s.gd.ADD_TO_ORDER);const d=a.map((e=>e.cartPrice)).reduce(((e,t)=>e+t));let r={eventFlag:O.REMOVE,itemsArray:l,userType:_,totalAmount:d,couponCode:R,currencyShortName:D};Object(c.h)(r),C(Object(i.u)(new Date))},addMoreMenuHandler:(e,t)=>{const a=Object(m.Hd)(e)?s.Ce.CATERING_PAGE:Object(m.Jd)(e)&&t?s.Ce.DELIVERY_PAGE:s.Ce.MENU_PAGE;E.push({pathname:a}),C(Object(i.u)(new Date))},itemEditHandler:a=>{const{foodItemId:o="",foodLineId:d}=a,{catalog:r}=e;x({type:S}),x({type:N,value:{cartEditClicked:!0}}),x({type:I,value:{id:o,flag:f,foodLineId:d}}),C(Object(l.c)({tenantId:t,catalogName:r,itemId:o})),Object(n.y)(O.EDIT),C(Object(i.u)(new Date))},showCartAlert:k,itemCustomiseHandler:function(a,i,o,d,c,u,v){let m=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{foodItemId:b="",foodLineId:j}=i,{catalog:g}=e;if(null!==i&&void 0!==i&&i.isProductPromo){var I,f;const e=null===i||void 0===i||null===(I=i.discountComponents)||void 0===I||null===(f=I[0])||void 0===f?void 0:f.couponCode,t=(e=>{var t,a,i;const{applicableCoupons:o,itemId:n,couponCode:l}=e,d=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.itemDetails)&&(null===e||void 0===e?void 0:e.code)===l));return null===d||void 0===d||null===(t=d[0])||void 0===t||null===(a=t.itemDetails)||void 0===a||null===(i=a.find((e=>(null===e||void 0===e?void 0:e.id)===n)))||void 0===i?void 0:i.availability})({itemId:i.foodItemId,applicableCoupons:v,couponCode:e});c(u({key:s.gd.VIEW_PRODUCT,value:{couponCode:e,promoParams:[{itemId:i.foodItemId,quantity:i.quantity,maxQuantity:i.maxQuantity,minQuantity:i.minQuantity}],priceDetails:[{id:i.foodItemId,availability:t}]}})),c(u({key:s.gd.PROMO_PRODUCT_CART,value:{couponCode:null===i||void 0===i?void 0:i.couponCode,promoParams:[{itemId:null===i||void 0===i?void 0:i.foodItemId,quantity:null===i||void 0===i?void 0:i.quantity,maxQuantity:null===i||void 0===i?void 0:i.maxQuantity}],priceDetails:[{id:i.foodItemId}],isPromo:!0}})),x({type:r.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}})}x({type:p,value:{id:b,flag:h,foodLineId:j,isProductPromo:null===i||void 0===i?void 0:i.isProductPromo}}),x({type:r.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:null===i||void 0===i?void 0:i.isProductPromo}}),c(u({key:T,value:!1})),C(Object(l.c)({tenantId:t,catalogName:g,itemId:b})),o.push({pathname:Object(n.h)(a,i,d,m)}),Object(n.y)(O.EDIT),localStorage.setItem(s.gd.CUSTOMISE_ITEM_CART,!0),sessionStorage.setItem(s.Ne.CUSTOMISE_PDP_FLAG,!0)},navigateToPromos:e=>{E.push({pathname:null===s.Ce||void 0===s.Ce?void 0:s.Ce[null===e||void 0===e?void 0:e.toUpperCase()]}),C(Object(i.u)(new Date))},promosRemoveHandler:(a,o)=>{const{cartId:n}=e;a&&C(Object(i.p)({basketId:n,tenantId:t,couponCode:a},(()=>{o?F(a,o):M(a)})))},addToCartAnalyticsOnly:function(e,t,a,i){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,s=arguments.length>6?arguments[6]:void 0;let u={eventFlag:t===b.Increase?O.ADD_TO_CART:O.REMOVE,itemsArray:Object(n.r)([e],d,o.a.QUANTITY_MODIFIED,[],s,i,l/r),userType:a,totalAmount:(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.cartPrice),couponCode:i,currencyShortName:s};Object(c.h)(u)}}}},1122:function(e,t,a){"use strict";a.d(t,"b",(function(){return H})),a.d(t,"f",(function(){return B})),a.d(t,"i",(function(){return G})),a.d(t,"c",(function(){return V})),a.d(t,"j",(function(){return Y})),a.d(t,"h",(function(){return K})),a.d(t,"d",(function(){return J})),a.d(t,"e",(function(){return X})),a.d(t,"g",(function(){return Z})),a.d(t,"a",(function(){return $}));var i=a(16),o=a(106),n=a(92),l=a(270),d=a(6),r=a(46),c=a(24),s=a(0),u=a(5),v=a(15),m=a(2);const{Location_Error:b,errorIcon:O}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:f,NOSTORE_TITLE:N,NOSTORE_CONTENT:S,NOSTORE_TOAST_MSG:T,CLOSED_STORE_TITLE:x,CLOSED_STORE_CONTENT:C,LOCATION_ALERT_MSG:E,CLOSED_STORE_TOAST_MSG:_}=l.b,{DINE_IN:D,DISTANCE_20000MR:y,START_ORDER_BUTTON:A,BROWSE_MENU_BUTTON:R}=l.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:w="",SCHEDULE_ORDER_TIME_DATA:P="",SET_DISPOSITION:k,USER_LOCALIZED:M,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:U,SET_FORCERELOAD:W}=i.a,H=(e,t,a,i,o,n)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?n(e):o(e,t):null!==e&&void 0!==e&&e.length||i(t,a)},B=function(e,t,a,i,o,n,l,d,r,u,v,m){var b;let O=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:j,maxDriveTimeMins:p,geoLocation:h}=O;let g=e.filter((e=>{var t,a,i,o,n,l,d,r,c,s,u,v,m,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(r=d.menu)||void 0===r||null===(c=r.catalogs)||void 0===c?void 0:c.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(u=s.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(b=m.timings)||void 0===b?void 0:b.asap)}));if((null===(b=g)||void 0===b?void 0:b.length)>0){if(j&&n===s.yb){const e={stores:g,numberOfStores:2,disposition:n,distanceMetrics:o,driveTime:p,channel:c.b.channel,isDriveTimeFromAdminPortal:j},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(n,o);g=t}if(d){var I=JSON.parse(localStorage.getItem(s.Hb));I&&(g[0].id!==I.store.id||g[0].service!==I.type?(r(!0),a(!1),v(g[0])):a(!1))}else t(g[0])}else m(!0),u(n,o)},G=(e,t,a,i,o,n)=>{var l,d;t({type:k,value:{oldvalue:e,newValue:{type:i,store:o,date:n.date,time:n.time,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:null===a||void 0===a||null===(l=a.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem(s.Ib,JSON.stringify(e)),localStorage.setItem(s.Hb,JSON.stringify({type:i,store:o,date:n.date,time:n.time,selectedTime:n.selectedTime,interval:n.interval,deliveryAddress:null===a||void 0===a||null===(d=a.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:M,value:{isLocalized:!0}})},V=(e,t,a,o)=>{const{SCHEDULE_ORDER_DATA:n,DISPOSITION_METHOD:l}=i.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:r,CURRENT_STORE_INFO_STORAGE:c,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:b}=s.gd;let O={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:k,value:{oldvalue:O,newValue:O}}),localStorage.removeItem(v),localStorage.removeItem(r),e({type:P,value:{selectedDateTime:{}}}),e({type:U,value:{}}),localStorage.removeItem(m),localStorage.removeItem(b),a(t({...o,localized:!1})),e({type:M,value:{isLocalized:!1}}),e({type:n,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:l,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(c),e({type:F,value:{}})},Y=(e,t,a,i,o)=>{e({type:w,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),e({type:F,value:i}),e({type:P,value:{selectedDateTime:a}}),e({type:U,value:{selectContentTime:"ASAP"}}),e({type:W,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(o)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP")},z=(e,t,a,i)=>{let o="";return e?o=i===D?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):a?o=Object(d.translateWithI18Next)(N):t&&(o=Object(d.translateWithI18Next)(x)),o},q=(e,t,a,i)=>{let o="";return e?o=i===D?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(p):a?o=Object(d.translateWithI18Next)(S):t&&(o=Object(d.translateWithI18Next)(C)),o},K=(e,t,a,i,o,n,l,r)=>{let c="";return e?(n(!1),c=i===D?Object(d.translateWithI18Next)(f):Object(d.translateWithI18Next)(h)):a?(l(!1),c=Object(d.translateWithI18Next)(T)):t&&(r(!1),c="".concat(Object(d.translateWithI18Next)(_)," ").concat(Q(null===o||void 0===o?void 0:o.from)," to ").concat(Q(null===o||void 0===o?void 0:o.to))),c},Q=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function J(e,t,a,i,l,d,r,c,s,u,v){const O={HEADER_MSG:{MSGTXT1:z(a,i,l,d)},CONTENT_MSG:q(a,i,l,d)};return(a||i||l)&&Object(m.jsx)(o.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(n.a,{splitTitle:O.HEADER_MSG,contentMsg:O.CONTENT_MSG,imageSrc:b,altText:"location-error",confirmButtonText:R,cancelButtonText:a?A:null,cancelHandler:a?t:null,confirmHandler:()=>{e(i,l)}})})}const X=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(r.a,{srcFile:O,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(E)})]})}),Z=async()=>(await c.b.BindLocation(),c.b.address&&c.b.coordinates),$=e=>e.filter((e=>{var t,a;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)}))},1123:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return N}));var i=a(3),o=a(85),n=a(28),l=a(6),d=a(41),r=a(210),c=a(61),s=a(262),u=a(4),v=a(15),m=a(5),b=a(396),O=a(0),j=a(62),p=a(55),h=a(16),g=a(2);const I=(e,t,a,i)=>{let o=(Math.round(e/a*O.hg)/O.hg).toFixed(i);return"".concat(t).concat(o)},f=(e,t)=>Object(m.k)(e)?"pdp-button-disabled":t,N=e=>{const{ENTER:t,PLUS:a,MINUS:i}=O.ag.KEY_CHAR_CODE;e.charCode!==t&&e.charCode!==a&&e.charCode!==i||e.preventDefault()},S=(e,t)=>t===e,T=e=>e?null===h.a||void 0===h.a?void 0:h.a.REVIEW_ORDER_MODAL:null===h.a||void 0===h.a?void 0:h.a.PDP_UNAVAILABLE_MODAL;t.a=e=>{var t,a,h;const{prodQuantity:f,itemQuantity:x,userParams:C,quantityUpdate:E,dName:_,addtoCartClinckHandler:D,itemStatus:y,currencySymbol:A,currencyConversion:R,isMobile:L,handleProdQuantityForCatering:w,maxItemCountPerLineItem:P,modgrpMax:k,selectedItemNotAvailable:M,isItemDecreased:F,itemId:U,minItemCountPerLineItem:W,pdpPromoPage:H}=e,B=Object(n.c)((e=>e.cartReducer)),G=Object(n.c)((e=>e.tenantReducer)),{currencyConversionFactor:V}=G,{cartData:Y={}}=Object(m.sd)(B),{QUANTITY_ACTION:z}=c.a,{IS_OUT_OF_STOCK:q,OUT_OF_STOCK_TEXT:K,IS_IN_STOCK:Q,CUSTOMISE_FLAG_CART:J}=s.a,{QUANTITY_TEXT:X,SELECT_TEXT:Z,ADD_TO_YOUR_ORDER:$}=u.a,{userOrderState:ee,userOrderStateDispatch:te}=Object(i.useContext)(o.a),ae=null===ee||void 0===ee?void 0:ee.pdpDataForUpdateFoodLine,{pdpPayloadData:ie,pdpAddtoCartConfirmButtonDisabled:oe,dispositionNew:ne,pdpDataForUpdateFoodLine:le,timeBasedCetegory:de}=ee,re=Object(m.Sd)(ne)?JSON.parse(localStorage.getItem(O.gd.DISPOSITION_NEW)):ne,ce=(null===re||void 0===re?void 0:re.type)&&Object(m.rf)(Object(m.Mb)(null===re||void 0===re?void 0:re.type)),se=((e,t,a)=>{const{ADDTOCART:i,CUSTOMISE_FLAG_CART:o}=s.a,{SAVE_CHANGES:n,SAVE:d,ADD:r}=u.a;return(null===e||void 0===e?void 0:e.flag)===o?Object(m.Hd)(t)?Object(l.translateWithI18Next)(d):Object(l.translateWithI18Next)(n):Object(m.hb)(Object(m.Hd)(t),a)?Object(l.translateWithI18Next)(r):Object(l.translateWithI18Next)(i)})(ae,ce,L),ue=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isAddItemLoading})),[ve,me]=Object(i.useState)(!1),[be,Oe]=Object(i.useState)(!1),je=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),pe=null===G||void 0===G||null===(t=G.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(h=a.global)||void 0===h?void 0:h.pricewithNumberofDecimalDigit,he=Object(j.g)(),ge=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer));Object(i.useEffect)((()=>{var e,t;const a=null===he||void 0===he||null===(e=he.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(O.Ce.CATERING_PAGE);me(a)}),[]);const Ie=()=>{return Object(g.jsx)("div",{className:(e=f,t=C,"quantityAddtocart qty-calc mg-set ".concat(e?"cardwithQuantity "+t.loggedIn:"cardwithNoquantity")),children:Object(g.jsx)(r.a,{importPath:"QUANTITY_MODIFIER_TEMPLATE",itemCount:f,itemQuantity:x,updateItemQuantity:E,quantityAction:z,item:void 0,itemName:_,cartItemCount:1,maxItemCountPerLineItem:P,hideChild:!0,handleQuantityForCatering:w,dispositionType:ce,onKeyPressHandler:N,minItemCountPerLineItem:W})});var e,t},fe=(e,t)=>{var a;H&&Oe(!0);const{couponCode:i}=Object(m.zb)(Y),{unitPrice:o,basePrice:n}=ie,l=Object(m.od)(null===C||void 0===C?void 0:C.localized,null===C||void 0===C?void 0:C.loggedIn);let{baseItemsCstmz:d,saucesCstmz:r,sidesCstmz:c,drinksCstmz:s,customizedPrice:u}=Object(m.F)(ee);d=Object(m.te)(d),r=Object(m.te)(r),c=Object(m.te)(c),s=Object(m.te)(s);const v=Object(m.lc)(je,ie,Y,V,null===G||void 0===G?void 0:G.currencyShortName,d,r,c,s,u),{quantity:b=0}=(null===v||void 0===v?void 0:v[0])||{quantity:0},O={couponCode:i},j={unitPrice:o,basePrice:n,cartData:Y,quantity:b,currencyConversionFactor:V},h=Object(m.Ib)(j),g=Object(m.g)(o,V),I=[{...v[0],...O}];var f;null!==(null===v||void 0===v||null===(a=v[0])||void 0===a?void 0:a.isQuantityIncrease)&&(null!==v&&void 0!==v&&null!==(f=v[0])&&void 0!==f&&f.isQuantityIncrease?(e=>{let{miniPDPDataForCart:t,CUSTOMISE_FLAG_CART:a,userType:i,saveChangesItemdetails:o,totalPrice:n,couponCode:l,tenantReducer:d,dispositionType:r}=e;if((null===t||void 0===t?void 0:t.flag)===a){const e=(null===o||void 0===o?void 0:o[0].price)*(null===o||void 0===o?void 0:o[0].quantity);Object(p.f)(i,o,e,l,null===d||void 0===d?void 0:d.currencyShortName,r)}})({miniPDPDataForCart:ae,CUSTOMISE_FLAG_CART:J,userType:l,saveChangesItemdetails:I,totalPrice:h,couponCode:i,tenantReducer:G,dispositionType:ce}):Object(p.g)(l,v,+g.toFixed(2)));D(e,ie,ae,t,g,le,Y)},Ne=(t,a)=>{null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const i=Object(b.g)(U,je),o=Object(b.d)(U,de);Object(b.c)({categoryUrl:i,itemInCart:o,alertType:T(o),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.itemId},{...de,menuData:ge},te)||(Object(m.k)(oe)?(e=>{e.preventDefault();let t=Object(g.jsx)("img",{src:v.a.ErrorImage,alt:"Error"}),a="".concat(Object(l.translateWithI18Next)(Z)," ").concat(k," ").concat(Object(l.translateWithI18Next)($));Object(m.Df)(a,t,"err-toast",!0)})(t):fe(t,null===a||void 0===a?void 0:a.id))},Se=()=>{return Object(g.jsx)(d.c,{tabIndex:"1",variant:d.b.primary,fullWidth:!0,hasPrices:!0,inactive:!Object(m.Vd)(null===ne||void 0===ne?void 0:ne.type)&&Object(m.jb)(S(q,y),Object(m.sb)(ue,M,!f||be)),loading:ue,"data-testid":"add-to-cart-handler",onClick:e=>Ne(e,Y),disabled:Object(m.sb)(S(q,y),M,!f),className:(e=oe,Object(m.k)(e)?"button-contained-disabled":""),children:Object(m.hb)(Object(m.jb)(S(q,y),M),!S(Q,y))?Object(g.jsx)("span",{className:"outofstock",children:Object(l.translateWithI18Next)(K)}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:se}),R&&Object(g.jsx)("span",{children:I(null===ie||void 0===ie?void 0:ie.unitPrice,A,R,pe)})]})});var e},Te=Object(m.hb)(L,Object(g.jsxs)("div",{className:"pdp-mobile-quantity-price-sopac fixedDiv ".concat(Object(m.hb)(ve,"catering-button")),children:[Object(g.jsx)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:Ie()}),Se()]})),xe=Object(m.hb)(!L,Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:[Object(g.jsx)("label",{className:"qty","data-testid":"pdp-item-quantity",children:Object(l.translateWithI18Next)(X)}),Ie()]}),Se()]}));return Object(g.jsxs)(g.Fragment,{children:[xe,Te]})}},1125:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(75),l=a.n(n),d=a(28),r=a(144),c=a(2);var s=e=>{const{handleClose:t,ProductListingModalForm:a,headerText:i,modalTitleId:n=""}=e;return Object(c.jsx)(o.a.Fragment,{children:Object(c.jsx)(r.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:n,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,autoFocus:!0,children:a})})},u=a(41),v=a(1144),m=a.n(v),b=a(46),O=a(5),j=a(85),p=a(400),h=a(16);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},I=a(87),f=a(62),N=a(15);const S=(e,t)=>e?t:null,T=(e,t,a,i,o)=>{const{SETFLAGCASE:n}=g,{FROMFLAGEDIT:l}=h.a;if(0===e.length){if(i&&t.minipdpData.fromFlag!==l)return n.DEFAULT;if(t.minipdpData.fromFlag===l&&((e,t)=>{if(Object(O.Td)(t))return t.filter((t=>{let{id:a}=t;return a===e})).length>0;return!1})(a,o))return n.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(a))return n.ITEMINCLUDES},x=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),C=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",E=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",_=(e,t)=>{let{analyticsObject:a,currLocation:i}=e;t||Object(I.g)(a,i)};var D=e=>{const{cardData:t,min:a,max:o,savedModifierHandler:n,savedModifiers:l,cardType:d,tenantReducer:r,modgrpId:s,modGrpName:u,updatedItems:v,getCartModifiers:m}=e,{Check_Icon:I}=N.a,{id:D,name:y,size:A,dname:R,isDefault:L,imageName:w,isHidden:P,calorificInfo:k}=t;let M=(F=R)&&F.length&&F[0].value;var F;const[U,W]=Object(i.useState)(!1),{userOrderState:H,userOrderStateDispatch:B}=Object(i.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=H,{MODGROUP_IDS_UPDATE:V,UPDATE_DEFAULT_MODGROUP:Y}=p.a,{CONFIRM_UPSIZE_ANALYTICS:z}=h.a,{SETFLAGCASE:q}=g,K=Object(f.h)();Object(i.useEffect)((()=>{switch(T(v,H,D,L,m)){case q.DEFAULT:case q.FROMEDIT:W(!0),n(t,!0,l);break;case q.ITEMINCLUDES:W(!0);break;default:W(!1)}}),[D,v,L,m]);return!P&&Object(c.jsxs)("div",{className:x(d,U),"data-testid":"click-save-product",onClick:()=>{if(L||G.includes(s)){if(L){let e=G.filter((e=>e!==s));B({type:Y,value:e})}}else B({type:V,value:s});let e={analyticsObject:{name:y,size:A},currLocation:Object(O.Ab)(K.pathname)};1===a&&1===o?(_(e,U),!U&&W(!0),n(t,"single",l)):U&&l.length>a&&l.length<=o?(W(!1),n(t,!1,l)):!U&&l.length>=a&&l.length<o&&(_(e,U),W(!0),n(t,!0,l)),B({type:z,value:{confirmUpsizeName:u}})},children:[Object(c.jsx)(b.a,{defaultPath:Object(O.bc)(null,r,!0),srcFile:Object(O.bc)(w,r),className:E(d)}),Object(c.jsxs)("picture",{children:[Object(c.jsx)("source",{media:"(max-width: 1023px)",srcSet:(J=U,X=I,J?X:null),alt:"",className:C(d)}),Object(c.jsx)("img",{src:S(U,I),alt:"",className:C(d)})]}),Object(c.jsxs)("div",{className:"modifier-card-content",children:[Object(c.jsx)("div",{className:"title",children:M}),(Q=k,Q&&Object(c.jsx)("div",{className:"caloricInfo",children:Q}))]})]});var Q,J,X},y=a(264),A=a(1096),R=a(21);const L=(e,t,a)=>e.map((e=>e.size&&{name:e.size,rate:Object(O.Ic)(e.availability[0],e.additionalProperties,t,a)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),w=(e,t,a,i)=>{let o=-1,n=L(t,a,i),l=L(e,a,i);return Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e)))).forEach((e=>{o="regular"!==e.name?l.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),o>=0&&l.splice(o,1),Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e))))},P=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},O.Bb)};var k=a(6);const{HamburgerDownArrow:M,filter_options_stoke:F}=N.a,U=(e,t)=>{if(e!==t)return Object(c.jsx)("span",{children:":"})},W=(e,t,a)=>e.rate&&e.name!==t?"+".concat(a).concat(e.rate):"",H=(e,t,a,i)=>e&&e.length&&w(e,t,a,i).length>0;var B=e=>{const{data:t,min:a,max:n,showSelectedModifier:l,modgrpId:r,modGrpName:s}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:m}=g,{userOrderState:b,userOrderStateDispatch:I}=Object(i.useContext)(j.a),[f,N]=Object(i.useState)([]),[S,T]=Object(i.useState)({}),[x,C]=Object(i.useState)(!1),[E,_]=Object(i.useState)([]),[R,L]=Object(i.useState)(!0),[B,G]=Object(i.useState)(Object(O.de)(window.innerWidth)),[V,Y]=Object(i.useState)(t),z=Object(d.c)((e=>e.cartReducer)),q=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:K,currencyConversionFactor:Q,componentOptions:J}=q,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==J&&void 0!==J?J:{},[Z,$]=Object(i.useState)({}),[ee,te]=Object(i.useState)({}),ae=Object(i.useRef)(null),ie=Object(i.useRef)(null),oe=Object(i.useRef)(null),ne={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(i.useEffect)((()=>{const e=Object(O.ad)(t.length,JSON.parse(JSON.stringify(t)),[]);let a=((e,t)=>Object(O.Td)(e)?t.filter((t=>t.size===e.name)):t)(S,e);Y([...a])}),[t]);const le=(e,a,i)=>{let{id:o}=e;if(a===m)t.forEach((e=>{e.id===o&&_([e.id])})),N([{...e,itemId:o,modgrpId:r}]);else if(a){!i.some((t=>{let{id:a}=t;return a===e.id}))&&N([...i,{...e,itemId:o,modgrpId:r}])}else if(i.length){let e=i.filter((e=>{let{itemId:t}=e;return t!==o}));N(e)}},de=()=>{const e=Object(O.de)(window.innerWidth);G(e)};Object(i.useEffect)((()=>{let e=((e,t,a,i)=>{var o;const{FROMFLAGEDIT:n}=h.a,{MODGROUP_IDS_UPDATE:l}=p.a;if((null===t||void 0===t||null===(o=t.minipdpData)||void 0===o?void 0:o.fromFlag)===n){var d,r;let o=i.foodLines.find((e=>{let{id:a}=e;return a===t.minipdpData.foodLineId})),n=null===o||void 0===o||null===(d=o.item)||void 0===d||null===(r=d.modGrps)||void 0===r?void 0:r.find((t=>{let{id:a}=t;return a===e}));var c;return n?(!n.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(c=t.pdpScreenCommons)&&void 0!==c&&c.modGroupIdsUpdated.includes(n.id)||a({type:l,value:n.id}),n.modifiers):{}}return{}})(r,b,I,null===z||void 0===z?void 0:z.cartData);te(e)}),[]),Object(i.useEffect)((()=>{l(f)}),[JSON.stringify(f)]),Object(i.useEffect)((()=>{window.addEventListener("resize",de)}),[B]),Object(i.useEffect)((()=>{x?document.addEventListener("click",re):document.removeEventListener("click",re)}),[x]);const re=e=>{(Object(O.hb)(ae.current,ae.current===e.target)||ie.current&&oe.current&&ie.current!==e.target&&!oe.current.contains(e.target))&&C(!1)},ce=()=>{C(!0)},se=()=>{C(!x)},ue=(e,a)=>{T(e);let i=t.filter((t=>t.size===e.name));Y(i),P(a),C(!x)},ve=(e,a,i)=>{let o=((e,t,a)=>Object(O.Td)(t)?(e(t),a.filter((e=>e.size===t.name))):a)(T,e,t);Y(o),P(a),L(!i),C(!1)},me=()=>{T({}),$({}),L(!0)},be=()=>{let e="",t=W(S,u,K);return e=Object(O.ad)(t.length>0,":",""),e};return Object(O.ad)(B,Object(c.jsxs)(o.a.Fragment,{children:[H(t,f,Q,X)&&Object(c.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(c.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:ce,children:[Object(c.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.ad)(S.name,S.name+be(),Object(k.translateWithI18Next)(v))}),Object(c.jsx)("span",{className:"selected-rate",children:W(S,u,K)}),Object(c.jsx)("img",{className:"dropdown-img-ham",src:M,alt:"DropDown"})]})}),x&&Object(c.jsx)("div",{className:"mobile-modal-filter-background",ref:ae,children:Object(c.jsxs)("div",{className:"mobile-modal-filter",children:[Object(c.jsx)("div",{className:"mobile-modal-filter-container",children:Object(c.jsxs)("ul",{className:"mobile-filter-list",children:[Object(c.jsx)("li",{className:R&&0===Object.keys(S).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:me,children:Object(c.jsx)("div",{className:"mobile-rate-container",children:Object(k.translateWithI18Next)(v)})}),w(t,f,Q,X).map((e=>Object(c.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{C(!0),$(e),L(!1)})(e),children:Object(c.jsxs)("div",{className:"mobile-rate-container",children:[Object(c.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),U(e.name,u),Object(c.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(K).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(c.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,s,Z.name===S.name),children:Object(k.translateWithI18Next)("done")})]})}),Object(c.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:V&&V.length>2&&ee?Object(c.jsx)(A.b,{settings:ne,children:V&&V.length&&ee?V.map(((e,t)=>Object(c.jsx)(D,{cardType:"carousal",min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:f,tenantReducer:q,modgrpId:r,modGrpName:s,updatedItems:E,getCartModifiers:ee},t))):null}):V&&V.length&&ee&&V.map(((e,t)=>Object(c.jsx)(D,{cardType:"regular",min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:f,tenantReducer:q,modgrpId:r,modGrpName:s,updatedItems:E,getCartModifiers:ee},t)))||null})]}),Object(c.jsxs)(o.a.Fragment,{children:[H(t,f,Q,X)&&Object(c.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(c.jsxs)("div",{className:"language-select-uplift",ref:ie,"data-testid":"desktop-dropdown-filter",onClick:se,children:[Object(c.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.ad)(S.name,S.name+be(),Object(k.translateWithI18Next)(v))}),Object(c.jsx)("span",{className:"selected-rate",children:W(S,u,K)}),Object(c.jsx)("img",{className:"dropdown-img-ham",src:M,alt:"DropDowm"})]}),x&&Object(c.jsx)("div",{ref:oe,children:Object(c.jsx)("ul",{className:"filter-list",children:w(t,f,Q,X).map((e=>function(e,t,a,i,o,n){return Object(c.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,a),children:[Object(c.jsx)("span",{children:e.name}),Object(c.jsxs)("div",{className:"rate-container",children:[Object(c.jsx)("span",{className:"filter-item-rate",children:e.name!==i?"+".concat(o).concat(e.rate):""}),e.name===n.name&&Object(c.jsx)(y.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,s,u,K,S)))})})]}),Object(c.jsx)("div",{className:"modifier-list-items",children:V&&V.length&&ee?V.map(((e,t)=>Object(c.jsx)(D,{min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:f,tenantReducer:q,modGrpName:s,modgrpId:r,updatedItems:E,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:a,selectedModifiers:n,source:l=""}=e,{PDP:d}=p.a,[r,s]=Object(i.useState)(t),[u,v]=Object(i.useState)([]),{userOrderState:m}=Object(i.useContext)(j.a),{pdpScreenCommons:{currentAccordian:b,modGroupIdsUpdated:h}}=m,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(i.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);s([...e])})()}),[JSON.stringify(t)]),Object(i.useEffect)((()=>{if(Object(O.hb)(b,l===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===b){var a;const t=(null===(a=e.modifiers)||void 0===a?void 0:a.length)>1?300:0;let i=document.getElementById("accordion-"+b).offsetTop;window.scrollTo({top:i-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));s([...e])}}),[b,JSON.stringify(t)]);const I=e=>{let t,a,i;if(e.length){t=e.map(JSON.stringify),a=new Set(t),i=Array.from(a).map(JSON.parse);let o=[];if(u.length){o=u;let e=u.findIndex((e=>e[0].modgrpId===i[0].modgrpId));e>=0?(o.splice(e,1,i),v([...o])):v([...o,i])}else v((e=>[...e,i]))}};Object(i.useEffect)((()=>{u.length&&a(u),n(u)}),[u]);const f=e=>{let t=[];for(let a of u)for(let i of a)i.modgrpId===e&&i.dname&&i.dname.length&&t.push(i.dname[0].value);return t.join(", ")};return r.map(((e,t)=>{let{id:a,name:i,modifiers:n,expanded:l,min:d,max:v}=e;const m=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(a);return Object(c.jsx)(o.a.Fragment,{children:Object(c.jsxs)("div",{className:"accordian-container",id:"accordion-"+a,"data-testid":"product-listing-accordion-".concat(t),children:[Object(c.jsxs)("div",{className:"accordian-header",children:[Object(c.jsxs)("div",{className:"".concat(l?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(a),onClick:e=>((e,t)=>{e&&g();let a=r.length?JSON.parse(JSON.stringify(r)):[];a.map(((e,a)=>(e.id===t&&(e.expanded=!e.expanded),e))),s([...a])})(e,a),children:[Object(c.jsx)("span",{className:"accordion-test",tabIndex:"0",children:i}),m?Object(c.jsx)("span",{className:"updatedBadge",children:Object(k.translateWithI18Next)("updated")}):null]}),Object(c.jsx)("span",{className:"selected-mod",children:u.length&&f(a)})]}),Object(c.jsx)("div",{className:"".concat(l?"panel panel-active":"panel"),children:Object(c.jsx)(B,{modgrpId:a,modGrpName:i,data:n,min:d,max:v,showSelectedModifier:I})})]})},t)}))},V=a(35),Y=a(61),z=a(235),q=a(1099),K=a(1109),Q=a(0),J=a(173),X=a(262),Z=a(396),$=a(80),ee=a(132),te=a(211);const ae=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ie=(e,t)=>{var a,i,o,n;const l=null===t||void 0===t?void 0:t[Q.gd.VIEW_PRODUCT],d=null===l||void 0===l?void 0:l.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===l||void 0===l||null===(a=l.promoParams)||void 0===a||null===(i=a.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===i?void 0:i.quantity,maxPromoQuantity:null===l||void 0===l||null===(o=l.promoParams)||void 0===o||null===(n=o.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===n?void 0:n.maxQuantity}},oe=(e,t,a,i)=>{var o,n,l,d,r,c;const{setClickEvent:s,setConfirmed:u,productMapById:v,modifiersList:b,data:j,currencyConversionFactor:p,itemCount:g,minipdpData:f,FROMFLAGEDIT:N,dispatch:S,cartReducer:T,tenantId:x,id:C,modifierGrp:E,userOrderStateDispatch:_,confirmUpsizeName:D,userType:y,categoryMapById:A,addToOrderClickHandler:L,closeParentModal:w,getPwaStorageData:P,sliceDispatch:k,isAddonsAndUpsellEnabled:M}=t,{foodLines:F}=(null===T||void 0===T?void 0:T.cartData)||{},{couponCode:U,discountTotal:W}=Object(O.zb)(null===T||void 0===T?void 0:T.cartData),H=Object(O.Td)(null===T||void 0===T?void 0:T.cartData)?Object(O.nc)(null===f||void 0===f?void 0:f.foodLineId,null===T||void 0===T?void 0:T.cartData):{},B=Math.abs(g-(null===H||void 0===H?void 0:H.count));let G="";e.stopPropagation(),e.preventDefault(),s(e),u(!0);const z=(null===C||void 0===C?void 0:C.split("_")[0])||"",{categoryId:q=""}=null!==(o=null===v||void 0===v?void 0:v[z])&&void 0!==o?o:{},{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:ee}=h.a,{ADDONS:ae}=te.MENU_PLP_CONSTANT,{id:oe="",name:le="",url:de=""}=null!==(n=null===A||void 0===A?void 0:A[q])&&void 0!==n?n:{},re=null===t||void 0===t||null===(l=t.categoryMapById)||void 0===l||null===(d=l[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,ce=Object(Z.d)(z,a);if(Object(Z.c)({categoryUrl:re,itemInCart:ce,alertType:Object(Z.j)(null===a||void 0===a?void 0:a.timebasedItemInCart,null===Q.Sb||void 0===Q.Sb?void 0:Q.Sb.ITEM)},a,_))return;m()(b,(e=>{G+="".concat(e[0].name,", ")}));const se=Object(O.Ic)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let ue={item_name:Object(O.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.oc)(null===j||void 0===j?void 0:j.id),item_category:le,coupon:U,discount:+(W/p).toFixed(2),price:Object(O.oc)(se),item_list_name:le,item_list_id:oe,index:Object(J.b)(F,null===j||void 0===j?void 0:j.id,0),quantity:B,currency:Q.p.INR,item_variant:null!==j&&void 0!==j&&null!==(r=j.modgrps)&&void 0!==r&&r.length?null===j||void 0===j||null===(c=j.modgrps)||void 0===c?void 0:c.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const ve=ie(C,P);if(f.fromFlag!==N){var me,be,Oe,je,pe,he;S(Object(V.a)({params:{basketId:null===T||void 0===T||null===(me=T.cartData)||void 0===me?void 0:me.id},tenantId:x},[{Id:C,categoryId:oe,quantity:g,modGrps:ne(E),categoryName:le,categoryUrl:de,isProductPromo:null===ve||void 0===ve?void 0:ve.isPromoApplied}],(()=>{null!==ve&&void 0!==ve&&ve.productPromosInStorage&&(L({couponCode:ve.productPromosInStorage}),k(Object($.c)({key:Q.gd.VIEW_PRODUCT})),_({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),w()),M&&_({type:ee,value:{viewType:ae}})}))),Object(K.a)({item_name:Object(O.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.oc)(null===j||void 0===j?void 0:j.id),item_category:le,price:Object(O.oc)((null===j||void 0===j||null===(be=j.availability)||void 0===be||null===(Oe=be[0])||void 0===Oe?void 0:Oe.price)/p),item_variant:Object(O.oc)(null===(je=G)||void 0===je?void 0:je.trim()),item_list_name:le,item_list_id:oe,index:1,quantity:g,coupon:U||"",discount:+(W/p).toFixed(2),currency:i},y,g*Object(O.oc)((null===j||void 0===j||null===(pe=j.availability)||void 0===pe||null===(he=pe[0])||void 0===he?void 0:he.price)/p),U,i)}else{var ge;S(Object(V.y)({params:{basketId:null===T||void 0===T||null===(ge=T.cartData)||void 0===ge?void 0:ge.id,basketLineItemId:f.foodLineId},tenantId:x},{Id:C,quantity:g,modGrps:ne(E)}));const e=(null===ue||void 0===ue?void 0:ue.price)*(null===ue||void 0===ue?void 0:ue.quantity);g!==(null===H||void 0===H?void 0:H.count)&&(g>(null===H||void 0===H?void 0:H.count)?Object(I.j)(y,ue,+e,U,i):Object(I.l)(Y.a.ANALYTICS_EVENTS.REMOVE,ue,y,i,e))}S(Object(V.u)(new Date)),_({type:Y.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:C,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},O.Bb)})(D)};function ne(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var le=e=>{var t,a,n;const{data:l,categoryId:r,handleClose:s,showPriceContent:v=!0,source:m="",addToOrderClickHandler:b,closeParentModal:p}=e,{id:I,modgrps:f,availability:N=[],additionalProperties:S=[]}=l,{userOrderState:T,userOrderStateDispatch:x}=Object(i.useContext)(j.a),{confirmUpsizeName:C,minipdpData:E,timeBasedCetegory:_}=T,[D,y]=Object(i.useState)(f),[A,R]=Object(i.useState)([]),L=Object(d.b)(),w=Object(d.c)((e=>e.tenantReducer)),P=Object(d.c)((e=>e.cartReducer)),{cartData:M={},isAddItemLoading:F=!1}=P||{},{currencySymbol:U,tenantId:W,currencyConversionFactor:H,maxItemCountPerLineItem:B,componentOptions:{web:{global:{showPriceWithTax:V=!1}={}}={}}={}}=w,K=null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(a=t.plp)||void 0===a?void 0:a.isAddonsAndUpsellEnabled,{flatResponse:{productMapById:Q={},categoryMapById:J={}}={}}=null!==(n=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==n?n:{},[X,Z]=Object(i.useState)(0),te=Object(O.Ic)(N[0],S,H,V),{ADDTOCART:ne,UPDATECART:le}=g,{FROMFLAGEDIT:de,EDIT_CLICKED:re}=h.a,[ce,se]=Object(i.useState)(1),[ue,ve]=Object(i.useState)(0),{ITEM_QUANTITY:me}=z.a,[be,Oe]=Object(i.useState)(!1),[je,pe]=Object(i.useState)(null),he=Object(d.c)((e=>e.appStateReducer.userStatus)),ge=Object(O.od)(null===he||void 0===he?void 0:he.localized,null===he||void 0===he?void 0:he.loggedIn),Ie=Object(ee.a)(),fe=Object(ee.b)($.b),Ne=ie(I,fe),Se={setClickEvent:pe,setConfirmed:Oe,categoryId:r,modifiersList:A,data:l,itemCount:ce,minipdpData:E,FROMFLAGEDIT:de,dispatch:L,cartReducer:P,tenantId:W,id:I,modifierGrp:D,userOrderStateDispatch:x,confirmUpsizeName:C,productMapById:Q,currencyConversionFactor:H,userType:ge,categoryMapById:J,addToOrderClickHandler:b,closeParentModal:p,getPwaStorageData:fe,sliceDispatch:Ie,isAddonsAndUpsellEnabled:K};Object(i.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:D,modifiedItemPrice:X})}),[D]),Object(i.useEffect)((()=>{const e=Object(O.Td)(M)?Object(O.mc)(I,M):{},t=Object(O.Td)(e)?e.count:0;if(ve(t),E.fromFlag===de){const e=Object(O.Td)(M)?Object(O.nc)(E.foodLineId,M):{},t=Object(O.Td)(e)?e.count:1;se(t)}}),[M]),Object(i.useEffect)((()=>()=>{x({type:re,value:{cartEditClicked:!1}})}),[x,re]);Object(i.useEffect)((()=>{be&&!F&&s(je)}),[be,F]),Object(i.useEffect)((()=>(window.addEventListener("keydown",ae),()=>{window.removeEventListener("keydown",ae)}))),Object(i.useEffect)((()=>{E.fromFlag!==de&&I&&(null===Ne||void 0===Ne?void 0:Ne.minPromoQuantity)&&se(null===Ne||void 0===Ne?void 0:Ne.minPromoQuantity)}),[I]);const Te=E.fromFlag===de?Object(k.translateWithI18Next)(le):Object(k.translateWithI18Next)(ne);return Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(c.jsx)("form",{className:"form",children:Object(O.Td)(f)?Object(c.jsx)(G,{grouplist:f,getSelectedModifiers:e=>{let t=0,a=[];e.forEach((e=>{let i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((e=>{let a={},o=JSON.parse(JSON.stringify(e));a.id=o.id,a.quantity=o.defaultQuantity,a.modGrps=o.modgrps,a.categoryId=r,i.modifiers.push(a);let n=Object(O.Ic)(e.availability[0],e.additionalProperties,H,V);t+=n})),a.push(i)})),Z(te+t),y(a)},selectedModifiers:R,source:m}):null})}),v&&Object(c.jsx)("div",{className:"price-content",children:Object(c.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[ce?Object(c.jsx)(q.a,{itemCount:ce,itemQuantity:me,updateItemQuantity:(e,t)=>{t===Y.a.QUANTITY_ACTION.Increase?se((e=>+e+1)):se((e=>+e-1))},quantityAction:Y.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==Ne&&void 0!==Ne&&Ne.isPromoApplied?null===Ne||void 0===Ne?void 0:Ne.maxPromoQuantity:B,cartItemCount:ue+1}):null,Object(c.jsxs)(u.a,{className:"button start-order-btn ".concat(F?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>oe(e,Se,_,null===w||void 0===w?void 0:w.currencyShortName),children:[Object(c.jsx)("span",{className:"title-for-button",children:"".concat(Te)}),Object(c.jsx)("span",{className:"currency-symbol",children:"".concat(U," ").concat((xe=X,(ce*xe).toFixed(2)))})]})]})})]});var xe},de=a(52);const re=e=>{if(e){var t;let a=JSON.parse(JSON.stringify(e));return a.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),a}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:a=!0,callBackToPDP:o,data:n={},source:r=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=de.a,{userOrderStateDispatch:m}=Object(i.useContext)(j.a),b=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(O.Td)(n)?re(n):re(b),h=Object(d.b)(),I=Object(d.c)((e=>e.cartReducer)),f=e=>{e.stopPropagation(),e.preventDefault(),m({type:v,value:{fromCouponSection:!1}}),h(Object(V.v)({showProductListingModal:!1,categorySelected:""}))},N=Object(c.jsx)(le,{data:p,categoryId:I.categorySelected,handleClose:f,showPriceContent:a,callBackToPDP:o,"data-testid":"product-listing-modal-enabled",source:r,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),S=Object(c.jsx)(s,{handleClose:f,ProductListingModalForm:N,headerText:Object(k.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),T=Object(c.jsx)("div",{className:"pdp-custm",children:N});return t?l.a.createPortal(S,document.getElementById("modal-popups")):T}},1126:function(e,t,a){"use strict";var i=a(106),o=a(92),n=a(4),l=a(61),d=a(6),r=a(3),c=a(85),s=a(44),u=a(132),v=a(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:a={},setConfirmationModel:m=null,itemRemoveHandler:b=null,isRemoveItemLoading:O=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:I=null,addtoCartClinckHandler:f=null,setAddToClickParms:N=null,addToClickParms:S={},selectedStoreData:T=null,clickHandler:x=null,title:C="",confirmButtonText:E="",removeCouponHandler:_=null,couponCode:D="",couponTitle:y="",itemRemoveWrapper:A=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:L=""}=e,{userOrderStateDispatch:w}=Object(r.useContext)(c.a),P=Object(u.a)(),{REMOVE_COUPON:k}=l.a,{CONTINUE:M,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:U,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:W,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:H}=n.a;return Object(v.jsx)(i.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(o.a,{title:h===k?C:Object(d.translateWithI18Next)(U),giftCardOrVoucherErrMsg:h===k?R:Object(d.translateWithI18Next)(H),giftCardErrFirstMsg:h===k?L:Object(d.translateWithI18Next)(W),altText:"",confirmButtonText:h===k?E:Object(d.translateWithI18Next)(M),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:i,itemRemoveHandler:o,isRemoveItemLoading:n,setCouponModal:d,setRemoveItem:r,flag:c,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:b,addToClickParms:O,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:I,couponTitle:f,itemRemoveWrapper:N,userOrderStateDispatch:S,sliceDispatch:T}=e;const{EDIT_ITEM:x,REMOVE_ITEM:C,QUANTITY_INCREASE_DECREASE:E,STORE_DISPOSITION_UPDATE:_,REMOVE_COUPON:D}=l.a;if(d(!1),c===C&&N({isAddedPromosCoupon:t,item:a,setConfirmationModel:i,itemRemoveHandler:o,isRemoveItemLoading:n,setRemoveItem:r,sliceDispatch:T}),c===E&&(S({type:s.p,value:{couponErrorMessage:"REMOVE"}}),v(a,u,h)),c===x){const{event:e,data:t,miniPDPData:a,totalAmount:i,cartId:o,pdpDataForUpdateFoodLine:n,cartData:l}=O;m(e,t,a,o,i,n,l),b({}),d(!1)}c===_&&p(h,j),c===D&&g(I,f)})({isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:m,itemRemoveHandler:b,isRemoveItemLoading:O,itemRemoveWrapper:A,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:I,addtoCartClinckHandler:f,setAddToClickParms:N,addToClickParms:S,selectedStoreData:T,clickHandler:x,events:e,removeCouponHandler:_,couponCode:D,couponTitle:y,userOrderStateDispatch:w,sliceDispatch:P}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1127:function(e,t,a){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",AUSTRALIA:"AUSTRALIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",YUM:"Yum",PROTECTED_DISCLOSURE:"Protected Disclosure",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAL:"external",FIND_A_KFC:"Find a KFC",FIND_A_KFC_TITLE:"FindAKFCLink",HEADLINE:"headline",YOUTUBE:"Youtube",SNAPCHAT:"Snapchat",LINKEDIN:"LinkedIn",TIKTOK:"Tiktok",LINE:"Line",COOKIES_SETTINGS:"Cookie Settings"}},1128:function(e,t,a){"use strict";a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return O})),a.d(t,"a",(function(){return p}));a(3);var i=a(5),o=(a(85),a(262)),n=a(16),l=a(1132),d=a(1098),r=(a(62),a(28),a(1095)),c=a(1106),s=a(6),u=a(61);a(210),a(0),a(2);const v=(e,t,a,n,d,c,s,v,b,O,p,h,g,I,f,N,S)=>{const{HASH_SYMBOL:T}=o.a,{QUANTITY_ACTION:x}=u.a,{SINGLE:C}=l.a;let E,_,D=Object(i.Td)(I)?Object(r.w)(I,f,1):"";if(1===n||Object(i.j)([!c,O.length>=n,O.length===d])){if(j(a,c),Object(i.j)([!c,Object(i.Td)(I),!S])){var y,A;let e=f.split(T);e.pop();let t=Object(i.ad)(O.length>1,null===(y=O[1])||void 0===y?void 0:y.itemId,null===(A=O[0])||void 0===A?void 0:A.itemId);e.push(t);let a=e.join(T),o=Object(r.w)(I,a,1);E=Object(r.G)(I,{price:D,flag:x.Increase},N),E=Object(r.G)(E,{price:o,flag:x.Decrease},N),Object(r.v)(I,a)&&(E=Object(r.E)(E,a)),N&&(_=p.sopacPDPCustomization.updatedPrice+D-o)}!c&&v(!0),s(b,C,O),m(_,E,g,h)}else if(Object(i.j)([c,O.length>n,O.length<=d])){v(!1),s(b,!1,O);let e=Object(r.H)({pdpPayloadData:I,forModal:S,modgrps:b.modgrps,getPayloadUpdated:E,modifierPrice:D,isL3Custom:N,getUpdatedPrice:_,userOrderState:p,flag:x.Decrease});E=e.getPayloadUpdated,_=e.getUpdatedPrice,m(_,E,g,h)}else if(Object(i.j)([!c,O.length>=n,O.length<d])){j(a,c),v(!0),s(b,!0,O,!0);let e=Object(r.H)({pdpPayloadData:I,forModal:S,modgrps:b.modgrps,getPayloadUpdated:E,modifierPrice:D,isL3Custom:N,getUpdatedPrice:_,userOrderState:p,flag:x.Increase});E=e.getPayloadUpdated,_=e.getUpdatedPrice,m(_,E,g,h)}},m=(e,t,a,l)=>{const{CONFIRM_UPSIZE_ANALYTICS:d}=n.a,{PDP_PAYLOAD_DATA:r,UPDATE_SHOW_PDP_CUSTOM_MODAL:c}=o.a;l({type:c,value:{updatedPrice:e}}),Object(i.Td)(t)&&l({type:r,value:t}),l({type:d,value:{confirmUpsizeName:a}})},b=(e,t,a,i,o)=>{const{SETFLAGCASE:n}=l.a;switch(e){case n.DEFAULT:case n.FROMEDIT:t(!0),a(i,!0,o);break;case n.ITEMINCLUDES:t(!0);break;default:t(!1)}},O=(e,t,a,o,d,r)=>{const{SETFLAGCASE:c}=l.a,{FROMFLAGEDIT:s}=n.a;if(0===e.length&&r){if(o&&t.minipdpData.fromFlag!==s)return c.DEFAULT;if(t.minipdpData.fromFlag===s&&d&&((e,t)=>{if(Object(i.Td)(t))return t.filter((t=>{let{id:a}=t;return a===e})).length>0;return!1})(a,d))return c.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(a))return c.ITEMINCLUDES},j=(e,t)=>{let{analyticsObjectData:a,currLocation:i}=e;t||Object(d.e)(a,o.a.ADDONS)},p=(e,t,a)=>{const{CUSTOMIZE_BUTTON_TEXT:i,EDIT_BUTTON_TEXT:n}=c.a,{id:l}=e;let d="",u="".concat(t).concat(o.a.HASH_SYMBOL).concat(l);return d=Object(r.v)(a,u)?Object(s.translateWithI18Next)(n):Object(s.translateWithI18Next)(i),d}},1130:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var i=a(3),o=a.n(i),n=a(62),l=a(28),d=a(73),r=a(5),c=a(35),s=a(6),u=a(41),v=a(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:a,setRef:i=null}=e,{contentText:n="",infoObject:l=null,orderTypes:d=[]}=t,r=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{a(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),l&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:l.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:a,"data-testid":"form-component",children:r})]})})},b=a(144),O=a(55);var j=e=>{Object(i.useEffect)((()=>{Object(O.o)()}),[]);const{handleClose:t,DispositionModuleForm:a,headerText:n,modalTitleId:l=""}=e;return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsx)(b.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:l,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:a})})},p=a(21),h=a(9),g=a(0),I=a(407),f=a(16);const N=(e,t)=>{const a=[];for(const n of e){var i,o;const e=null===n||void 0===n||null===(i=n.fields)||void 0===i||null===(o=i.name)||void 0===o?void 0:o.split("-"),l=e[e.length-1].trim().toUpperCase();if(t&&null!==l&&void 0!==l&&l.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:r=!1,name:c,showOption:s=!0,id:u="",dispositionType:v}=n.fields;a.push({buttonText:d,selectDefault:r,type:c,showOption:s,id:u,dispositionType:v})}return a},S=e=>{const{headline:t="",subHeadline:a="",subHeadlineType:i="",title:o=""}=e[0].fields||{};return{modalHeaderText:o,contentText:t,infoObject:{type:i,infoText:a}}},T=(e,t,a,i)=>{var o;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:l}=f.a;null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length&&!i?Object(r.Fe)(t,{},l,n,a):a()};var x=a(85),C=a(24),E=a(113),_=a(92),D=a(236),y=a(1103),A=a(158),R=a(133),L=a(52);var w=e=>{const{CURRENTLY_CLOSED:t,SORRY:a}=y.a,{userOrderState:o,userOrderStateDispatch:u}=Object(i.useContext)(x.a),{contentData:b={}}=o.dispositionStateData,w=Object(l.c)((e=>e.tenantReducer)),{tenantId:P,disableOrderTypeAnalytic:k,isSpecialEventEnabled:M,enableDeliveryMenuOption:F}=w,{deeplinkSelectedStoreId:U,deepLinkStoreMode:W,isDeepLinkURL:H}=o,B=Object(r.Td)(b)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:o=[],supportedDispositions:n=[]}=i,l={modalHeaderText:"",modalContent:{}},d=a?n:n.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(a=t.dispositionType)||void 0===a?void 0:a.toUpperCase())!==g.Cf}));l.modalContent.orderTypes=N(d,t);const{modalHeaderText:r,contentText:c,infoObject:s}=S(o);return l.modalHeaderText=r,l.modalContent.contentText=c,l.modalContent.infoObject=s,l}({dispositionData:b,deepLinkStoreMode:W,isSpecialEventEnabled:M,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:V=""}=B;const{SEARCH_ORDER_DATA:Y,MENU_URL:z,DISPOSITION_DATA:q,CURRENT_STORE_INFO:K,SCHEDULE_ORDER_TIME_DATA:Q,SELECTED_TILE_DATA:J,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ae,SET_REDIRECTION_PATH:ie}=f.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:oe,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:le,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:re,INVALID_QR_TEXT:ce,CLOSED_STORE_MODAL_SUBTITLE:se,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:be}=I.a,{ENABLE_ADDRESS_LOCALISATION:Oe,SHOW_MAP_VIEW_BUTTON:je}=L.a,pe=o&&o.dispositionStateData&&o.dispositionStateData.dispositionType?o.dispositionStateData.dispositionType:null;let he="";const ge=Object(r.Sd)(o.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):o.dispositionNew,Ie=Object(l.b)(),fe=Object(n.g)(),[Ne,Se]=Object(i.useState)(""),[Te,xe]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ce={},qrCodeScanTime:Ee}=Object(l.c)((e=>e.cartReducer)),{customerId:_e=""}=Object(l.c)((e=>e.profileReducer));let De=Object(l.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:ye=[],isStoreStatusLoading:Ae,selectedStoreDetailsDL:Re={}}=Object(l.c)((e=>Object(r.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Le}}=I.a;Object(i.useEffect)((()=>{Ie(Object(d.u)()),Ie(Object(d.t)()),Ie(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(W,fe)}),[Ie]);const we=Object(i.useCallback)(((e,t)=>{e.stopPropagation();T(Ce,u,(()=>{xe({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Le,u,Ce]);Object(i.useEffect)((()=>{W&&Ie(Object(d.l)({storeId:U,tenantId:P},null,(()=>{xe({showError:!0,errMsg:Object(s.translateWithI18Next)(ce),errDesc:null,buttonText:Object(s.translateWithI18Next)(re),buttonCTA:e=>we(e,!1)})})))}),[re,ce,W,U,Ie,P]);const Pe=(e,t,a,i)=>{e.stopPropagation(),e.preventDefault();const o=t.split("-");if(he=o[o.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=oe),i&&(he=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(r.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},r.Bb)})({selectedDispositionType:he}),W){const e={data:[{storeId:U,channel:C.b.channel,service:g.fe},{storeId:U,channel:C.b.channel,service:g.Eb}],store:[{...Re,service:g.fe},{...Re,service:g.Eb}],tenantId:P,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Se(he),Ie(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};T(Ce,u,t,a)}else[oe,ne,le,de].includes(he.toUpperCase())&&(u({type:ae,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:q,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:Oe,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:l=!1}=De,c=Object(r.od)(n,l);((e,t)=>{var a;t||Object(O.p)(null===h.a||void 0===h.a||null===(a=h.a.selectOrderType)||void 0===a?void 0:a.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(r.h)(he),"%userType%":c},k)},ke=async(e,t)=>{const a=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(r.Mb)(t)));if(null!==a&&void 0!==a&&a.length){var i,n,l,d,v,m,b,j,p,h,I,f,N;const e={time:"ASAP",interval:null===a||void 0===a||null===(i=a[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},s=await Object(r.nb)(Ie,!0,Ee,null===a||void 0===a?void 0:a[0],Object(r.Mb)(t),_e,e);Ie(Object(c.f)({data:s,tenantId:P})),u({type:$,value:{oldvalue:ge,newValue:{store:null===a||void 0===a?void 0:a[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===a||void 0===a?void 0:a[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(l=o.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress})),Object(r.ze)(null===a||void 0===a||null===(d=a[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(b=m.address)||void 0===b||null===(j=b.addressLines)||void 0===j?void 0:j[0],A.a.ALREADY_SERACHED_LOCATIONS),Object(r.vf)();const g={storeID:null===a||void 0===a||null===(p=a[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===a||void 0===a||null===(h=a[0])||void 0===h||null===(I=h.addresses)||void 0===I||null===(f=I[0])||void 0===f||null===(N=f.address)||void 0===N?void 0:N.pinCode};Object(O.y)(g),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let a=e||null;u({value:{selectedData:{}},type:J}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),u({value:a,type:K}),Ie(Object(E.a)({...De,localized:!0})),u({value:{selectedDateTime:t},type:Q}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(w)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),fe.push({pathname:"".concat(z)})})(null===a||void 0===a?void 0:a[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===oe?xe({showError:!0,errMsg:Object(s.translateWithI18Next)(ve),errDesc:null,buttonText:Object(s.translateWithI18Next)(me),buttonCTA:e=>Pe(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&xe({showError:!0,errMsg:Object(s.translateWithI18Next)(ue),errDesc:null,buttonText:Object(s.translateWithI18Next)(be),buttonCTA:e=>Pe(e,g.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(ye.length>0&&!Ae&&Ne&&W){var e,i,o;((e,i)=>{null!==e&&void 0!==e&&e.length?ke(e,pe):xe({showError:!0,errMsg:"".concat(Object(s.translateWithI18Next)(a)," ").concat(i," ").concat(Object(s.translateWithI18Next)(t)),errDesc:Object(s.translateWithI18Next)(se),buttonText:Object(s.translateWithI18Next)(re),buttonCTA:e=>we(e,!0)})})(null===ye||void 0===ye?void 0:ye.filter((e=>{var t,a,i,o,n,l,d,r,c,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(c=r.timings)||void 0===c||null===(s=c.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===ye||void 0===ye||null===(e=ye[0])||void 0===e||null===(i=e.name)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value)}}),[ye,Ae,W]);const Me=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:ae,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),H&&Object(r.Bd)(fe)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Me(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:G,onDispositionMethodSubmit:Pe}),Ue=Object(v.jsx)(j,{handleClose:Me,DispositionModuleForm:Fe,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Te||void 0===Te?void 0:Te.showError)&&Object(v.jsx)(D.a,{handleClose:null,CartAlertForm:Object(v.jsx)(_.a,{title:null===Te||void 0===Te?void 0:Te.errMsg,contentMsg:null===Te||void 0===Te?void 0:Te.errDesc,confirmButtonText:null===Te||void 0===Te?void 0:Te.buttonText,confirmHandler:null===Te||void 0===Te?void 0:Te.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),Ue]})}},1131:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(17),o=a(6),n=a(15),l=a(4);const d=[{key:i.d.roundTheClock,image:n.a.RoundTheClockDark,label:Object(o.translateWithI18Next)(l.a.ROUND_THE_CLOCK)},{key:i.d.birthday,image:n.a.BirthdayDark,label:Object(o.translateWithI18Next)(l.a.BIRTHDAY)},{key:i.d.breakfast,image:n.a.BreakfastDark,label:Object(o.translateWithI18Next)(l.a.BREAKFAST)},{key:i.d.contactless,image:n.a.ContactlessDark,label:Object(o.translateWithI18Next)(l.a.CONTACTLESS)},{key:i.d.driveThru,image:n.a.DrivethruDark,label:Object(o.translateWithI18Next)(l.a.DRIVETHRU)},{key:i.d.driveThruOnly,image:n.a.DrivethruDark,label:Object(o.translateWithI18Next)(l.a.DRIVETHRU)},{key:i.d.foodCourt,image:n.a.FoodCourtDark,label:Object(o.translateWithI18Next)(l.a.FOODCOURT)},{key:i.d.wifi,image:n.a.WifiDark,label:Object(o.translateWithI18Next)(l.a.FREE_WIFI)},{key:i.d.wifiOnly,image:n.a.WifiDark,label:Object(o.translateWithI18Next)(l.a.WIFI)},{key:i.d.kiosks,image:n.a.KiosksDark,label:Object(o.translateWithI18Next)(l.a.KIOSKS)},{key:i.d.parking,image:n.a.ParkingDark,label:Object(o.translateWithI18Next)(l.a.PARKING)},{key:i.d.playground,image:n.a.PlaygroundDark,label:Object(o.translateWithI18Next)(l.a.PLAYGROUND)},{key:i.d.refill,image:n.a.RefillDark,label:Object(o.translateWithI18Next)(l.a.REFILL)},{key:i.d.terraces,image:n.a.TerracesDark,label:Object(o.translateWithI18Next)(l.a.TERRACES)},{key:i.d.phc,image:n.a.AccessibilityDark,label:Object(o.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:i.d.accessibility,image:n.a.AccessibilityDark,label:Object(o.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:i.d.restroom,image:n.a.RestRoomDark,label:Object(o.translateWithI18Next)(l.a.RESTROOM)},{key:i.d.cateringType,image:n.a.BirthdayDark,label:Object(o.translateWithI18Next)(l.a.CATERING_TEXT)}],r=(e,t)=>d.filter((t=>{var a,i;return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(i=e.amenities)||void 0===i?void 0:i.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},1132:function(e,t,a){"use strict";t.a={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelections",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"}},1133:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i={URL:"/images/offers/lg/",PNG:".png",IMAGES:"/images/",DEFAULT_IMAGE_PATH:"/images/items/no-image.jpg",VIEW_DETAIL_IMAGE_PATH:"/images/offers/detail/",PROMOS_CARD_IMAGE_PATH:"/images/offers/card/",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,CONTENT_DATA_MAX_LENGTH_TO_SHOW:9,TIME_IN_MILLISECONDS:1e3,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},BUTTON_TEXT:{VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},OFFERS_HEADER_TEXT:{OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},FADE_CARD_INDEX:3,DEFAULT_PAGE_SIZE:6,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]}},1134:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var i=a(3),o=a(75),n=a.n(o),l=a(144),d=a(5),r=(a(0),a(1099)),c=a(61),s=a(85),u=a(16),v=a(28),m=a(145),b=a(262),O=a(35),j=a(15),p=a(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:a,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:n,isEditSelection:l}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=b.a,{userOrderState:I,userOrderStateDispatch:f}=Object(i.useContext)(s.a),{MINI_PDP_DATA:N,FROMFLAGEDIT:S,EDIT_CLICKED:T}=u.a,{QUANTITY_ACTION:x}=c.a,C=a[t],E=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[_,D]=Object(i.useState)(!1),{Single_Arrow_Edit:y}=j.a,A=(e,i)=>{C.quantity=i===x.Increase?(null===C||void 0===C?void 0:C.quantity)+1:(null===C||void 0===C?void 0:C.quantity)-1;const l=a;l[t]=C,o(l),n()};Object(i.useEffect)((()=>{var e;let t=!0;null===C||void 0===C||null===(e=C.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[C.modGrps]),Object(i.useEffect)((()=>{Object(d.tc)(E,C,I,_,h,O.v),D(!1)}),[E,_]);return Object(p.jsxs)(p.Fragment,{children:[l?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,a;f({type:N,value:{id:null===C||void 0===C||null===(e=C.foodItems)||void 0===e?void 0:e.id,flag:S,foodLineId:t}}),f({type:g}),f({type:T,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===C||void 0===C?void 0:C.tenantId,catalogName:null===C||void 0===C?void 0:C.catalog,itemId:null===C||void 0===C||null===(a=C.foodItems)||void 0===a?void 0:a.id})),D(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===C||void 0===C?void 0:C.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(C.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:y,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===C||void 0===C?void 0:C.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(C.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(r.a,{itemCount:null===C||void 0===C?void 0:C.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:A,quantityAction:x,maxItemCountPerLineItem:null===C||void 0===C?void 0:C.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var I=a(6);const f=e=>{const{addNewProductHandler:t,currencySymbol:a,updateCartHandler:i,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,totalAmount:l,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:c,checkItemExpiry:s}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,m=Object.keys(o).length;return Object(p.jsxs)("div",{children:[Object.keys(o).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:c}))),r?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(I.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(I.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{s({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:i,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(I.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:a+l})]})})]})]})};var N=a(1109),S=a(397);const T=e=>{var t;const{filteredPreviousData:a,tenantData:o,dname:r,cardId:c,categoryId:s,categoryName:u,categoryUrl:m,itemCount:b,availability:j,imageName:h,itemFoodlineId:g,customizable:I,isFavouriteMenu:T=!1,cartData:x,clickHandler:C,handleClose:E,foodId:_,isEditSelection:D,headerText:y,pricewithouttax:A}=e,R=Object(v.b)(),{discountTotal:L="",couponCode:w=""}=Object(d.zb)(x)||{},P=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),k=Object(d.od)(null===P||void 0===P?void 0:P.localized,null===P||void 0===P?void 0:P.loggedIn),{flatResponse:{productMapById:M={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=o,[U,W]=Object(i.useState)({}),[H,B]=Object(i.useState)(0),{currencyConversionFactor:G,currencySymbol:V,componentOptions:Y}=o,{web:{global:{showPriceWithTax:z=!1}={}}={}}=null!==Y&&void 0!==Y?Y:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:E,modalTitle:y},[K,Q]=Object(i.useState)(-1),[J,X]=Object(i.useState)([]),Z=()=>{Q(-1),E&&E()},$=()=>{0===J.length&&0===K?Z():J&&null!==J&&void 0!==J&&J.length&&K<=J.length&&((()=>{var e,t,a,i;R(Object(O.x)({params:{basketId:null===x||void 0===x?void 0:x.id,basketLineItemId:null===(e=J[K])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=J[K])||void 0===t?void 0:t.quantity,isBundle:Object(S.e)((null===(a=J[K])||void 0===a?void 0:a.foodItemId)||(null===(i=J[K])||void 0===i?void 0:i.mdmId))}))})(),Q(K+1))};Object(i.useEffect)((()=>{$()}),[J]),Object(i.useEffect)((()=>{if(-1===K){var e;const t={...U};null===x||void 0===x||null===(e=x.foodLines)||void 0===e||e.forEach((e=>{var a,i;if(null!==e&&void 0!==e&&null!==(a=e.item)&&void 0!==a&&a.customizable&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===_){var n,l;const a=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:a,displayName:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.displayName,modGrps:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps,maxItemCountPerLineItem:null===o||void 0===o?void 0:o.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===x||void 0===x?void 0:x.catalog,categorySelected:s}}})),W(t),Q(0)}else K===J.length?(Z(),R(Object(O.u)(new Date))):$()}),[null===x||void 0===x?void 0:x.foodLines]),Object(i.useEffect)((()=>{ee()}),[U]);const ee=()=>{let e=0;Object.values(U).forEach((t=>{const a=z?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*a})),B((e/G).toFixed(2))},te=Object(p.jsx)(l.a,{...q,children:Object(p.jsx)(f,{...e,"data-testid":"ModalTemplate",filteredPreviousData:a,addNewProductHandler:e=>{const t={id:c,itemCount:b,product:{productName:r,productImage:h,productPrice:Object(d.Fc)(j[0],A,G,z)},itemFoodlineId:g},a={catId:s,catName:u,catUrl:m};T?C(e,t,I,a):(C(e,t,I,a),E&&E())},currencySymbol:V,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==x&&void 0!==x&&x.id&&F){var e,t;const a=Object.values(U),i=a.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(i);const n=null===a||void 0===a?void 0:a[0],{foodItems:l,unitPrice:r,quantity:c,previousQty:s}=null!==n&&void 0!==n?n:{},u=c-s;let v="".concat(Object(d.uc)(null===l||void 0===l?void 0:l.modGrps));const{categoryId:m="NA",categoryName:b="NA"}=null!==(e=null===M||void 0===M?void 0:M[null===l||void 0===l?void 0:l.id])&&void 0!==e?e:{};Object(N.a)({item_name:Object(d.oc)(null===l||void 0===l?void 0:l.name),item_id:Object(d.oc)(null===l||void 0===l?void 0:l.id),item_category:b,price:Object(d.oc)(r/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:b,item_list_id:m,index:1,quantity:u,coupon:w,discount:L/G,currency:null===o||void 0===o?void 0:o.currencyShortName},k,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(r/G))||void 0===t?void 0:t.toFixed(2)),w,null===o||void 0===o?void 0:o.currencyShortName)}},customizableFoodItemsList:U,SetCustomizableFoodItemsList:W,totalAmount:H,calculateTotalAmountHandler:ee,isEditSelection:D,handleClose:E})});return n.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(158),l=a(403),d=a(6),r=a(5),c=a(85),s=a(0),u=a(15),v=a(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:a,isMobile:m,onPositionChangeHandler:b,centerIndex:O,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=r.N,passAddress:I,storeCardHeight:f,latLongValue:N}=e,{PLACE_PIN:S}=n.a,{userOrderState:T}=o.a.useContext(c.a),{dispositionStateData:x={}}=T,{dispositionType:C=localStorage.getItem("dispositionType")}=x;let E,_,D=o.a.createRef();const[y,A]=Object(i.useState)(N),[R,L]=Object(i.useState)(!1),{RedMarker:w,RedMarkerNoText:P,BlackMarker:k,ArrowIcon:M}=u.a;Object(i.useEffect)((()=>{E=F(y),_=U(y)}),[]),Object(i.useEffect)((()=>{A(N),L(!1)}),[N]),Object(i.useEffect)((()=>{F(y),_=U(y)}),[y,O,R]);const F=e=>new window.google.maps.Map(D.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[O]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!m,gestureHandling:"greedy"}),U=e=>{const t=new window.google.maps.Geocoder;let a=e;E=F(a),j?R||(E.addListener("zoom_changed",(()=>{p(!1),L(!0)})),E.addListener("drag",(()=>{p(!1),L(!0)}))):(E.addListener("drag",(()=>{a={lat:E.getCenter().lat(),lng:E.getCenter().lng()},_.setPosition(a)})),window.google.maps.event.addListener(E,"dragend",(function(){!function(e,t,a){e.geocode({location:a},((e,t)=>{"OK"===t&&e[0]&&I(e[0].formatted_address)}))}(t,0,a)})));let i=Object(r.ad)(Array.isArray(a)&&a.length>0,a,[a]).map(((e,t)=>{let a=new window.google.maps.Marker({position:e,map:E,visible:!0,icon:Object(r.qd)(!j,!R&&j&&t===O)?(null===C||void 0===C?void 0:C.toUpperCase())===s.Df?P:w:k});return a.addListener("click",(function(e){g(e.latLng)})),a}));return Object(r.ad)(Array.isArray(a),i,i[0])};return Object(v.jsxs)(o.a.Fragment,{children:[!t&&((null===C||void 0===C?void 0:C.toUpperCase())!==s.Df||""!==a&&a?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(r.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(S)})})),m&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(f+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(r.hb)(0===O,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(r.ad)(0===O,e.preventDefault(),b(0)),children:Object(v.jsx)(l.a,{srcFile:M,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(O===y.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>O===y.length-1?e.preventDefault():b(1),children:Object(v.jsx)(l.a,{srcFile:M,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:D})]})}},1136:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"h",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"e",(function(){return N})),a.d(t,"d",(function(){return S})),a.d(t,"a",(function(){return T})),a.d(t,"g",(function(){return x})),a.d(t,"c",(function(){return C}));var i=a(1133),o=a(214),n=a(5),l=a(12),d=a(35),r=a(14),c=a(11);const{URL:s,PNG:u,IMAGES:v}=i.a,m=(e,t,a)=>{const i=[...t];return!t.length&&i.push({cardType:"empty"}),!e&&i.push({cardType:"login"}),i},b=e=>"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1)),O=e=>"FALSE"!==String(e).toUpperCase()&&Object(n.ue)(e),j=(e,t,a)=>{let i="";return null!==a&&void 0!==a&&a.length?a.forEach((e=>{var a;e.attribute===t&&(i=null===e||void 0===e||null===(a=e.value[0])||void 0===a?void 0:a.value)})):e.forEach((e=>{e.key===t&&(i=e.value)})),i},p=e=>{let t=Object(n.ue)(String(e));return"string"==typeof t&&(t={},t.value=null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"")),e},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null===e||void 0===e?void 0:e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>");return Object(o.a)("".concat(t))},g=e=>e.length>25?e.substring(0,22)+"...":e,I=e=>{var t;const a=null===e||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name)));return null!==a&&void 0!==a&&a.length?null===a||void 0===a?void 0:a.map((e=>{var t,a;return null===(t=Object(n.b)(null!==(a=null===e||void 0===e?void 0:e.parameter)&&void 0!==a?a:"{}"))||void 0===t?void 0:t.items})).reduce(((e,t)=>null===e||void 0===e?void 0:e.concat(t))):[]},f=(e,t)=>e.map((e=>{var a,i,o,n,l,d,r,c,v,m,g,f,N,S,T,x,C,E,_,D,y,A,R,L,w,P,k,M,F,U,W,H,B,G;return{couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a?void 0:a.title)&&(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i?void 0:i.title.length)&&h(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o||null===(n=o.title[0])||void 0===n?void 0:n.value),smallText:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.description)&&(null===e||void 0===e||null===(d=e.promotionDetails)||void 0===d?void 0:d.description.length)&&(null===e||void 0===e||null===(r=e.promotionDetails)||void 0===r||null===(c=r.description[0])||void 0===c?void 0:c.value),imageSrc:(null===e||void 0===e||null===(v=e.promotionDetails)||void 0===v?void 0:v.image)&&(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.image.length)&&s+(null===e||void 0===e||null===(g=e.promotionDetails)||void 0===g||null===(f=g.image[0])||void 0===f?void 0:f.value)+u,imageName:(null===e||void 0===e||null===(N=e.promotionDetails)||void 0===N||null===(S=N.image)||void 0===S?void 0:S.length)&&(null===e||void 0===e||null===(T=e.promotionDetails)||void 0===T||null===(x=T.image[0])||void 0===x?void 0:x.value)+(null===t||void 0===t||null===(C=t.componentOptions)||void 0===C||null===(E=C.web)||void 0===E||null===(_=E.coupons)||void 0===_?void 0:_.imageType)+"?ver="+(null===t||void 0===t?void 0:t.imageVersion),validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:(G=null===e||void 0===e||null===(D=e.promotionDetails)||void 0===D?void 0:D.conditions,null===G||void 0===G?void 0:G.map((e=>{var t;return{displayOrder:e.displayOrder,message:null===(t=e.displayMessage[0])||void 0===t?void 0:t.value,parameter:p(null===e||void 0===e?void 0:e.parameter)}})).sort(((e,t)=>+e.displayOrder-+t.displayOrder))),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,itemDetails:null===e||void 0===e?void 0:e.itemDetails,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(y=e.promotionDetails)||void 0===y?void 0:y.cardType,header:j(null===e||void 0===e||null===(A=e.promotionDetails)||void 0===A?void 0:A.customProperties,"header",null===e||void 0===e||null===(R=e.promotionDetails)||void 0===R?void 0:R.customAttributesCulture),hideEndDate:j(null===e||void 0===e||null===(L=e.promotionDetails)||void 0===L?void 0:L.customProperties,"hideEndDate",null===e||void 0===e||null===(w=e.promotionDetails)||void 0===w?void 0:w.customAttributesCulture),legalText:j(null===e||void 0===e||null===(P=e.promotionDetails)||void 0===P?void 0:P.customProperties,"legalText",null===e||void 0===e||null===(k=e.promotionDetails)||void 0===k?void 0:k.customAttributesCulture),showTimer:j(null===e||void 0===e||null===(M=e.promotionDetails)||void 0===M?void 0:M.customProperties,"showTimer",null===e||void 0===e||null===(F=e.promotionDetails)||void 0===F?void 0:F.customAttributesCulture),promoParameters:I(null===e||void 0===e?void 0:e.promotionDetails),...(B=null!==e&&void 0!==e&&null!==(U=e.promotionDetails)&&void 0!==U&&U.customAttributesCulture?null===e||void 0===e||null===(W=e.promotionDetails)||void 0===W?void 0:W.customAttributesCulture:null===e||void 0===e||null===(H=e.promotionDetails)||void 0===H?void 0:H.customProperties,(null===B||void 0===B?void 0:B.length)&&B.reduce(((e,t)=>{let{key:a,value:i}=t;return{...e,[b(a)]:"TRUE"===String(i).toUpperCase()||O(i)}}),{}))}})),N=e=>{if(e){const t=Object(l.M)(e),a=Object(l.o)(),i=Object(l.G)(t,a,"seconds"),o=String(i).includes("-");return t.isValid()&&!o}return!1},S=e=>{const t=Object(l.M)(e),a=Object(l.o)(),i=Object(l.G)(t,a,"hour"),o=a.add(i,"hours"),n=Object(l.G)(t,o,"minute"),d=o.add(n,"minutes"),r=Object(l.G)(t,d,"second");return"".concat(i,"HR : ").concat(n,"M : ").concat(r,"S")};function T(e,t,a,i){e(Object(d.b)({basketId:null===t||void 0===t?void 0:t.id,tenantId:i},{couponCode:a}))}const x=(e,t,a)=>!e&&t(a),C=e=>{let{tenantId:t,useBucketSize:a,imagePath:i,imageName:o}=e;return"".concat(Object(r.a)(c.Qb)).concat(t).concat(v).concat(((e,t)=>{const a=t+"/";if(e)return a+Object(n.wb)(window.innerWidth)+"/";return a})(a,i)).concat(o)}},1137:function(e,t,a){"use strict";a.d(t,"b",(function(){return I}));var i=a(3),o=a.n(i),n=a(144),l=a(41),d=a(28),r=a(61),c=a(6),s=a(397),u=a(5),v=a(1095),m=(a(46),a(85)),b=a(0),O=a(15),j=a(20),p=a.n(j),h=a(1168),g=a(2);const I=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"};t.a=e=>{var t,a,j,f,N,S;const{isMobile:T,openIndulgentModal:x,handleClose:C,removeItemCart:E,IndulgentData:_,modalTitle:D,continueButtonText:y,toastMassage:A,callBackMethod:R,imageContainerSize:L,addToCart:w,productId:P="",ruleNameDetails:k={},errorBackMethod:M,showSectionView:F=!0,buttonClass:U="redButton",showCaloricValue:W=!1,showServesValue:H=!1,indulgentUpsellConstants:B={},renderedFromPLP:G=!1,isRestrictedDisabled:V=!1}=e,{ruleName:Y,recommendationType:z=""}=k,{INDULGENT_ADD_ON:q}=r.a,{ADD_TO_CART:K}=q,{userOrderState:Q}=Object(i.useContext)(m.a),J=Object(d.b)(),{tickWhiteToast:X}=O.a,{cartReducer:Z,userParams:$,tenantReducer:ee,storesReducer:te,menuReducer:ae,marketConfigReducer:ie}=Object(d.c)((e=>{var t;return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response}})),oe=Object(u.fb)(ee),{couponCode:ne,discountTotal:le}=Object(u.zb)(null===Z||void 0===Z?void 0:Z.cartData),{headerData:{pdpBackgroundImage:de={}}={}}=ie,re=Object(u.lb)(de),{flatResponse:ce={}}=ae||{},se=(null===te||void 0===te||null===(t=te.storesWithStatus)||void 0===t?void 0:t.length)&&(null===te||void 0===te||null===(a=te.storesWithStatus[0])||void 0===a||null===(j=a.summary)||void 0===j?void 0:j.timeZoneIANA),{loggedIn:ue,localized:ve}=$,me=(be=Q,p()(be.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):be.dispositionNew);var be;const Oe=null===me||void 0===me?void 0:me.type;var je;const pe=((e,t)=>{var a,i,o,n,l;return(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.menu)||void 0===i||null===(o=i.catalogs)||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l?void 0:l.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((je=me)?je.store:{},ee),he=null===ee||void 0===ee||null===(f=ee.componentOptions)||void 0===f||null===(N=f.web)||void 0===N||null===(S=N.global)||void 0===S?void 0:S.pricewithNumberofDecimalDigit,[ge,Ie]=Object(i.useState)(0),[fe,Ne]=Object(i.useState)(0),[Se,Te]=Object(i.useState)(1);let xe;var Ce,Ee,_e;G?xe=F:xe=null===ee||void 0===ee||null===(Ce=ee.componentOptions)||void 0===Ce||null===(Ee=Ce.web)||void 0===Ee||null===(_e=Ee.cartPage)||void 0===_e?void 0:_e.showIndulgentSectionView;const De=o.a.useRef(null),ye={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:x,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==Z&&void 0!==Z&&Z.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:C,modalTitle:Object(c.translateWithI18Next)(D),autoFocus:!0},Ae=Object(s.n)(T),Re=Object(u.od)(ve,ue),Le={INDULGENT_ADD_ON:p()(B)?q:B,IndulgentData:_,isMobile:T,recommendationType:z,ruleName:Y,productId:P,userType:Re,flatResponse:ce,catalogs:pe,tenantReducer:ee,cartReducer:Z,dispatch:J,indulgentAddToCartHandler:s.u,rangeValue:ge,updateRangeValue:Ie,currentSlide:fe,updateCurrentSlide:Ne,caroselCount:Se,setCaroselCount:Te,carousal:De,setPrevArrowCSS:I,couponCode:ne,discountTotal:le,dispositionType:Oe,showServesValue:H,showCaloricValue:W};return xe?Object(h.a)(Le):Object(g.jsx)("div",{className:"cart-indulgent-global",children:x&&!E&&ve&&Object(g.jsx)(n.a,{...ye,children:Object(g.jsxs)("div",{className:"indulgent-container-global",children:[Object(g.jsx)("div",{className:"indulgent-card-list-global",children:null===_||void 0===_?void 0:_.map(((e,t)=>{var a,i;const o=(null===e||void 0===e?void 0:e.isRestrictedAddon)||(null===e||void 0===e?void 0:e.isHidden);return Object(g.jsxs)("div",{style:Object(u.mb)(re,Ae.cardWidth,Ae.cardHeight),className:"indulgent-card-global",children:[Object(u.jc)(null===e||void 0===e?void 0:e.content,ee,L,null===e||void 0===e?void 0:e.imageName),Object(g.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(g.jsx)("div",{className:"indulgent-card-header-global",children:null===e||void 0===e||null===(a=e.dname[0])||void 0===a?void 0:a.value}),Object(g.jsxs)("div",{className:"indulgent-card-price-global",children:[Object(g.jsxs)("div",{children:[null===ee||void 0===ee?void 0:ee.currencySymbol,Object(u.Ec)((n=null===e||void 0===e?void 0:e.availability,n.length>1?Object(v.k)(n,se):n[0]),null===ee||void 0===ee?void 0:ee.currencyConversionFactor,se).toFixed(he)]}),W&&Object(u.we)(null===e||void 0===e?void 0:e.content,ee)]}),Object(g.jsx)(l.c,{className:"btn-padding",inactive:o&&V,variant:l.b.primary,"aria-label":Object(c.translateWithI18Next)(K)+" "+(null===e||void 0===e||null===(i=e.dname[0])||void 0===i?void 0:i.value),"data-testid":"add-to-cart-global-".concat(t),onClickHandler:a=>{Object(s.u)({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:J,cartReducer:Z,tenantReducer:ee,catalogs:pe,flatResponse:ce,category_id:null===e||void 0===e?void 0:e.categoryId,userType:Re,productId:P,ruleName:Y,recommendationType:z,IndulgentData:_,callBackMethod:R,errorBackMethod:M,dispositionType:Oe,...oe?{isRestrictedAddon:o}:{}}),a.preventDefault(),a.stopPropagation()},children:Object(c.translateWithI18Next)(w)})]})]},null===e||void 0===e?void 0:e.id);var n}))}),Object(g.jsx)("div",{className:"ContinueButton",children:Object(g.jsx)(l.a,{className:"button ".concat(U," indulgent-card-button"),"data-testid":"continue-to-cart",disabled:(null===Z||void 0===Z?void 0:Z.isAddItemLoading)||(null===Z||void 0===Z?void 0:Z.isCouponLoading),onClickHandler:C,children:Object(c.translateWithI18Next)(y)})})]})})})}},1138:function(e,t,a){"use strict";a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return E}));var i=a(3),o=a(6),n=(a(46),a(264)),l=a(5),d=a(396),r=a(28),c=a(1095),s=a(4),u=a(211),v=a(0),m=a(15),b=a(85),O=a(132),j=a(80),p=a(145),h=a(35),g=a(16),I=a(262),f=a(1141),N=a(1187),S=a(1151),T=(a(1150),a(2));const{CARD_TYPE:x}=u.MENU_PLP_CONSTANT,C=(e,t,a,i,o,n,l)=>{const d=l?" product-card-deactive":"";let r="";return r=e?((e,t,a,i,o)=>e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||o)?"small-menu-product-card product-card-active":!e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,o,n):t?"medium-menu-product-card product-card-active":"medium-menu-product-card",r+d},E=e=>e?"small-menu-product-image":"medium-menu-product-image",_=(e,t,a)=>{const{Error:i}=m.a;let n="";return a&&(n=Object(T.jsx)("span",{className:"unavailable-text",children:Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.PRODUCT_UNAVAILABLE)})),e&&t&&(n=Object(T.jsx)("span",{className:"special-event-item-available-time",children:"".concat(e," ").concat(Object(o.translateWithI18Next)("availableAt"))})),Object(T.jsxs)("div",{className:"unavailable-container",children:[Object(T.jsx)("img",{src:i,className:"unavailable-icon",alt:"product-unavaliable"}),n]})};t.a=function(e){var t,a,E,D;const{allowClickOnProductCard:y,discount:A,specials:R,exclusive:L,timer:w,cardId:P,customizable:k,tenantData:M,imageName:F,onCardClickHandler:U,categoryId:W,dName:H,availability:B=[],newitem:G,topseller:V,getSpecificRibbonBanner:Y,userParams:z,item:q,productContent:K,checkForBasePriceInMenu:Q,baseprice:J,cardCat:X,displayPrice:Z,getPriceClassName:$,serves:ee,prodURL:te="",showCateringflag:ae=!1,storeTimeZone:ie,plpbackgroundImageSrc:oe,isAvailable:ne,nextAvailableTime:le,pricewithNumberofDecimalDigit:de,itemCount:re,veg:ce,customlabelfield:se,longDescription:ue,configureOptions:ve,itemFoodlineId:me,openCostomizedModal:be,setOpenCostomizedModal:Oe,cartData:je,pricewithouttax:pe,cardType:he,viewUp:ge,menuCardBtnText:Ie,storeClosedData:fe,clickHandler:Ne,shortDescription:Se,menuProductDescriptionClassName:Te,menuProductPriceClassName:xe,getMenuProductHeader:Ce,dispositionNew:Ee,isNavigating:_e}=e,De=null===M||void 0===M||null===(t=M.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(E=a.pdp)||void 0===E?void 0:E.plpUrlRedirectionWithUpsellItem,[ye,Ae]=Object(i.useState)(Object(l.de)(window.innerWidth)),[Re,Le]=Object(i.useState)(0),{localized:we}=Object(l.sd)(z),{Product_Card_Icon:Pe,ribbonRedOutlined:ke,Error:Me}=m.a,Fe=(null===q||void 0===q?void 0:q.isExcluded)||(null===q||void 0===q?void 0:q.isNotAvailable)||le||!1===ne,{userOrderStateDispatch:Ue,userOrderState:We}=Object(i.useContext)(b.a),{timeBasedCetegory:He}=We,Be=Object(r.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{RECOMMENDED_ITEM:Ge}=v.Oc,Ve=Object(O.a)(),Ye=Object(r.b)(),{RESET_MODGROUP_IDS_UPDATE:ze}=I.a,{MINI_PDP_DATA:qe,FROMFLAGEDIT:Ke,EDIT_CLICKED:Qe}=g.a,[Je,Xe]=Object(i.useState)(!1),{allowAddToCartButton:Ze=!0,showVegOrNonVeg:$e,showDescription:et,showKJInfo:tt,showDefaultImage:at,showPriceForNonLocalized:it,showGenericMenuForNonLocalizedUsers:ot}=ve,{web:{global:{showPriceWithTax:nt=!1}={}}={}}=null!==(D=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==D?D:{},lt=Object(l.ad)(null===z||void 0===z?void 0:z.loggedIn,v.cg,""),dt=Object(r.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),rt=Object(r.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),ct=te.slice(-5),st=De&&"-prod"!==ct?te+"-prod":te,{ref:ut,inView:vt}=Object(N.a)({triggerOnce:!0}),[mt,bt]=Object(i.useState)(!1);Object(i.useEffect)((()=>{Object(l.yc)().has(P)?bt(!0):!_e&&vt||mt?(bt(!0),Object(l.Ae)(P)):bt(!1)}),[vt,mt,P,_e]),Object(i.useEffect)((()=>{window.addEventListener(v.ye,Ot)}),[ye]),Object(i.useEffect)((()=>{Ot()}),[]);const Ot=()=>{let e=Object(l.de)(window.innerWidth);const t=((e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:a,ITEM_IMAGE_WIDTH_MOBILE:i,ITEM_IMAGE_HEIGHT_DESKTOP:o,ITEM_IMAGE_WIDTH_DESKTOP:n}=e;return t?{height:a,width:i}:{height:o,width:n}})(Ge,e);Le(t),Ae(e)},jt=()=>{const e=Object(c.k)(B,ie);return nt?Object(l.Ec)(e,null===M||void 0===M?void 0:M.currencyConversionFactor,ie).toFixed(de):Object(l.Jc)(pe,null===M||void 0===M?void 0:M.currencyConversionFactor)},pt=()=>Object(T.jsxs)("div",{className:xe(he),children:[Q(J,X)&&Z(J,null===M||void 0===M?void 0:M.currencyConversionFactor),Object(T.jsxs)("span",{className:$(J,X),"data-testid":"item-price",children:[null===M||void 0===M?void 0:M.currencySymbol,jt()]}),ye&&Object(f.h)(e,ye),ye&&Object(T.jsx)("span",{className:"hearticonDiv",children:Object(f.b)(z,e,lt)})]}),ht=e=>tt&&Boolean(null===K||void 0===K?void 0:K.caloricValue)&&Object(T.jsxs)("div",{className:Object(l.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[we&&Object(T.jsx)("div",{className:"Dot"}),Object(T.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(K.caloricValue," ").concat(null===M||void 0===M?void 0:M.kilojoule," ")," \xa0"," ",!!K.serves&&"".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(K.serves," ")]})]}),gt=e=>Object(T.jsxs)("div",{className:Object(l.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[(null===K||void 0===K?void 0:K.caloricValue)&&Object(T.jsxs)("span",{children:[" ","".concat(null===K||void 0===K?void 0:K.caloricValue," ").concat(null===M||void 0===M?void 0:M.kilojoule," ")," \xa0"," ",!(null===K||void 0===K||!K.serves)&&"".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(null===K||void 0===K?void 0:K.serves," ")]}),ee?Object(T.jsxs)("span",{children:[" ",Object(T.jsx)("div",{className:"Dot","data-testid":"serves-template"}),It()]}):Object(T.jsx)(T.Fragment,{})]}),It=()=>Object(l.ad)(ee,Object(T.jsx)("span",{className:"product-serves",children:" ".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES_TEXT)," ").concat(ee)}),Object(T.jsx)(T.Fragment,{})),ft=e=>!e&&mt&&Object(l.mb)(oe,Re.width,Re.height)||{},Nt=e=>{var t;return tt?Object(l.ad)(ae,((e,t,a,i,o,n,d)=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:n,children:Object(T.jsxs)(T.Fragment,{children:[!(null!==t&&void 0!==t&&t.includes(v.pd))&&i(o),e&&a()]})}),!e&&Object(l.ad)(null===t||void 0===t?void 0:t.includes(v.pd),Object(T.jsx)(T.Fragment,{}),d())]}))(we,null===q||void 0===q||null===(t=q.categoryUrl)||void 0===t?void 0:t[0],pt,gt,ye,"Price-and-KJ-info-catering",It),((e,t,a,i,o)=>Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:o,children:[e&&t(),e&&a(i)]})}))(we||ot&&it,pt,ht,ye,e)):pt()},St=e=>{var t,a,i,o,n,r;Ve(Object(j.d)({key:u.SHOW_PDP_ALERT_POPUP,value:!1}));const{event:c,itemId:s,productInfo:m,cardId:b}=e;null===c||void 0===c||c.stopPropagation(),null===c||void 0===c||c.preventDefault();const O=Object(d.g)(b,Be),p=null===Be||void 0===Be||null===(t=Be.itemMapById)||void 0===t||null===(a=t[b])||void 0===a?void 0:a.categoryId,h=Object(d.d)(s,He);if(!Object(d.c)({categoryUrl:O,itemInCart:h,alertType:Object(d.j)(null===He||void 0===He?void 0:He.timebasedItemInCart,null===v.Sb||void 0===v.Sb?void 0:v.Sb.ITEM),categoryId:p,itemId:b},{...He,menuData:dt,foodLinesItems:(null===rt||void 0===rt||null===(i=rt.cartData)||void 0===i?void 0:i.foodLines)||[]},Ue)&&(!Object(l.Vd)(null===Ee||void 0===Ee?void 0:Ee.type)||null===c||void 0===c||null===(o=c.target)||void 0===o||null===(n=o.parentElement)||void 0===n||null===(r=n.className)||void 0===r||!r.includes("cart-food-quantity-change")))if(null!==e&&void 0!==e&&e.orderClickHandler){const t={event:c,cardId:P,customizable:k,categoryId:p,itemCount:re,productInfo:m,itemFoodlineId:me,checkItemExpiry:St,menuCardBtnText:Ie,storeClosedData:fe,clickHandler:Ne,dispositionNew:Ee};null===e||void 0===e||e.orderClickHandler(t)}else if(De){let e="";const t=te.slice(-5);e=De&&"-prod"!==t?te+"-prod":te,m.prodURL=e,U(c,P,k,W,m)}else U(c,P,k,W,m)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"plp-item-card ".concat(he===(null===x||void 0===x?void 0:x.CAROUSAL)?"carousal-menu-product-card":C(ye,y,A,R,L,w,Fe)),"data-testid":"click-allow-on-product-".concat(P),id:P,onClick:e=>Object(l.hb)(y,!Fe)&&St({event:e,cardId:P,productInfo:{productName:H,productImage:F,productPrice:Object(l.Ec)(B[0],null===M||void 0===M?void 0:M.currencyConversionFactor),prodURL:te,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}}),inactive:Fe,disabled:Fe,ref:ut,children:[!ye&&Object(T.jsx)("div",{style:ft(at),className:"product-image-parent-container",children:mt?Object(f.c)(e,Re,Fe,M,at,ye):Object(T.jsx)(S.b,{height:201.4,className:"skeleton-absolute"})}),Object(T.jsx)(n.a,{className:Object(l.ad)(R,"specials-product-ribbon",Object(l.ad)(L||se,"exclusive-product-ribbon","discount-product-ribbon")),src:Object(l.ad)(R,Pe,Object(l.ad)(A||L||se||G||V,ke,""))}),Object(T.jsx)("span",{className:Object(l.ad)(R,"specials-ribbon-text","discount-ribbon-text"),children:w?Object(T.jsxs)("div",{children:[Object(T.jsx)("svg",{src:Me,className:"product-timer"}),Object(T.jsx)("span",{className:"product-timer-text",children:Object(o.translateWithI18Next)(u.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):Y(R,A,L,G,V,se)}),Object(T.jsx)("div",{"data-testid":"menu-card-content-pdp-nav",className:"menu-card-content",inactive:Fe,disabled:Fe,onClick:e=>y&&U(e,P,k,W,{productName:H,productImage:F,productPrice:Object(l.Fc)(B[0],pe,null===M||void 0===M?void 0:M.currencyConversionFactor,nt),prodURL:st,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}),children:ye?Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:ge&&"product-columnview",children:[Object(T.jsx)("div",{className:"description-and-image product-image-parent-container",style:ft(at),children:mt?Object(f.c)(e,Re,Fe,M,at,ye):Object(T.jsx)(S.b,{height:324,className:"skeleton-absolute"})}),Object(T.jsxs)("div",{className:"menu-card-content-wrapper",children:[Object(T.jsx)("div",{className:Ce(he,A,R,L,{timer:w,newitem:G,topseller:V,customlabelfield:se}),children:null===H||void 0===H?void 0:H[0].value}),Object(f.f)(et,e,Se),Fe?_(le,ne,Fe):Nt("Price-and-KJ-info")]})]})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{"data-testid":"plp-menu-card-header",className:Ce(he,A,R,L,{timer:w,newitem:G,topseller:V,customlabelfield:se}),children:null===H||void 0===H?void 0:H[0].value}),Object(f.g)($e,ce),Object(f.h)(e,ye),Object(T.jsx)("div",{className:"hearticonDiv",children:Object(f.b)(z,e,lt)}),Fe?_(le,ne,Fe):Nt("Price-and-KJ-info"),Object(f.f)(et,e,Se)]})}),Object(f.a)(e,Ze,M,(()=>{1===re?(Ue({type:qe,value:{id:null===q||void 0===q?void 0:q.mdmId,flag:Ke,foodLineId:me}}),Ue({type:ze}),Ue({type:Qe,value:{cartEditClicked:!1}}),Ye(Object(p.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===je||void 0===je?void 0:je.catalog,itemId:null===q||void 0===q?void 0:q.mdmId})),Ye(Object(h.v)({showProductListingModal:!0,categorySelected:W}))):(Xe(!0),Oe(!0))}),lt,St,Ee)]}),Object(T.jsx)("div",{children:be&&Object(f.d)(e,Je,M,Xe,St)})]})}},1139:function(e,t,a){"use strict";a.d(t,"b",(function(){return v}));var i=a(3),o=a(35),n=a(5),l=a(85),d=a(28),r=a(0),c=a(80),s=a(262),u=a(2);const v=(e,t,a)=>{if(e){const{code:i,promoParameters:o,itemDetails:n}=e,l=null===n||void 0===n?void 0:n.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));a(Object(c.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:i,promoParams:o,priceDetails:l}})),t({type:s.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})}},m=(e,t,a,i,l,d)=>{e(Object(o.i)({couponcode:t,catalog:a,tenantId:i},(t=>((e,t,a,i)=>{v(e,t,a),((e,t)=>{var a,i;const o=null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a[0].categoryUrl,n="".concat(null===e||void 0===e||null===(i=e.itemDetails)||void 0===i?void 0:i[0].url);t.push({pathname:"menu/".concat(o,"/").concat(n)})})(e,i)})(t,l,e,d)),(()=>Object(n.Bd)(d))))};t.a=e=>{const{genericMenuName:t,tenantId:a}=Object(d.c)((e=>e.tenantReducer)),{history:o}=e,n=Object(d.b)(),{userOrderStateDispatch:c}=Object(i.useContext)(l.a);return Object(i.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get(r.Vd.COUPON);e&&t&&m(n,e,t,a,c,o)}),[]),Object(u.jsx)(u.Fragment,{})}},1140:function(e,t,a){"use strict";var i=a(3),o=a(28),n=a(20),l=a.n(n),d=a(415),r=a(421),c=a(57),s=a(1107),u=a(12),v=a(5),m=a(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(o.b)(),{dispositionNew:a}=Object(s.a)(),n=Object(o.c)((e=>e.specialEventReducer||{})),b=Object(o.c)((e=>e.cartReducer||{})),{isLoading:O}=n,{cartData:j}=b,p=e=>(null===e||void 0===e?void 0:e.toUpperCase())===m.Ff,h=Object(i.useMemo)((()=>n.specialEventItemAvailability||[]),[n.specialEventItemAvailability]),g=Object(i.useMemo)((()=>{const{type:e}=a||{},t=Object(d.a)(p,v.Mb);return!!e&&t(e)}),[a]),I=Object(i.useCallback)((function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=h.find((t=>{let{id:a}=t;return a.includes(e)}));if(!i)return!1;const o=null===j||void 0===j||null===(t=j.foodLines)||void 0===t?void 0:t.find((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e})),n=(null===o||void 0===o?void 0:o.quantity)||0,{available:l,stock:d}=i;return l&&parseInt(d)>0&&a?n<=parseInt(d):n<parseInt(d)}),[h,null===j||void 0===j?void 0:j.foodLines]),f=Object(i.useCallback)((e=>{let{date:a,storeId:i,time:o}=e;if(!a||!i||!o)return!1;const n=c.a.formatValue(c.a.dayjs(o,m.sb.h_mm_A),m.sb.HHmm),l=Object(u.A)("".concat(a," ").concat(o),m.sb.YYYY_MM_DD_h_mm_A);t(Object(r.a)(i,l,n))}),[t]),N=Object(i.useCallback)((()=>{if(!g||O)return!1;const{date:e,selectedTime:t,store:i}=a;f({date:e,storeId:i.id,time:t})}),[a,f,g,O]);Object(i.useEffect)((()=>{e&&l()(h)&&N()}),[N,e,h]);return{isAllCartProductsAvailable:()=>{var e;const t=null===b||void 0===b||null===(e=b.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return I(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:h,fetchEventItemAvailability:N,fetchEventItemAvailabilityForDisposition:e=>{if(!g)return!1;f(e)},getEventItemAvailability:I,isEvent:g}}},1141:function(e,t,a){"use strict";a.d(t,"h",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return I})),a.d(t,"e",(function(){return f})),a.d(t,"a",(function(){return T})),a.d(t,"d",(function(){return x})),a.d(t,"c",(function(){return C}));var i=a(5),o=a(6),n=a(15),l=a(211),d=a(395),r=a(1099),c=a(235),s=a(61),u=a(1134),v=a(46),m=a(1138),b=a(402),O=a(397),j=a(2);const p=(e,t)=>{const{configureOptions:a,servingCount:d,getVegNonvegClassName:r,cardType:c,veg:s}=e,{showVegOrNonVeg:u}=a;return u&&Object(j.jsxs)("span",{className:r(c),children:[Object(i.hb)(t,Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(i.ad)(!s,null===n.a||void 0===n.a?void 0:n.a.Non_veg_dot_Icon,null===n.a||void 0===n.a?void 0:n.a.Veg_dot_Icon)})),Object(i.hb)(!t,Object(i.ad)(!s,Object(o.translateWithI18Next)(null===l.MENU_PLP_CONSTANT||void 0===l.MENU_PLP_CONSTANT?void 0:l.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(o.translateWithI18Next)(null===l.MENU_PLP_CONSTANT||void 0===l.MENU_PLP_CONSTANT?void 0:l.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(i.hb)(d,Object(j.jsx)("span",{className:"Dot"})),l.MENU_PLP_CONSTANT.MENU_CARD.SERVES,d]})},h=(e,t,a)=>{const{classFavouriteIconActive:o,classFavouriteIconInActive:l,favouriteItems:d,favouriteButtonClickHandler:r,cardId:c,getCardName:s,item:u,cardType:v,configureOptions:m}=t;if(null!==e&&void 0!==e&&e.loggedIn&&null!==m&&void 0!==m&&m.showAddToFav)return Object(j.jsxs)("picture",{children:[Object(j.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(i.ad)("small-menu-product-card"===s,Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),o(v),l(v)),Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===n.a||void 0===n.a?void 0:n.a.heartIcon_active_red,null===n.a||void 0===n.a?void 0:n.a.heartIcon_inactive_red)),alt:"",className:"menu-product-save ".concat(a),"data-testid":"fav-item-source",onClick:()=>r()}),Object(j.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(i.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===n.a||void 0===n.a?void 0:n.a.heartIcon_active,null===n.a||void 0===n.a?void 0:n.a.FavoriteInActiveWhite),alt:"",className:"menu-product-save ".concat(a),"data-testid":"fav-item-largeScreen",onClick:()=>r()}),Object(j.jsx)("img",{src:Object(i.hb)(Array.isArray(d),null===d||void 0===d?void 0:d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))))?o(v):l(v),alt:"",className:"menu-product-save ".concat(a),"data-testid":"save-product-".concat(c),onClick:()=>r()})]})},g=(e,t)=>e&&Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(i.ad)(!t,null===n.a||void 0===n.a?void 0:n.a.Non_veg_dot_Icon,null===n.a||void 0===n.a?void 0:n.a.Veg_dot_Icon)}),I=(e,t,a)=>{var i;const{productContent:o,cardType:n,menuProductDescriptionClassName:l}=t,d=null===o||void 0===o?void 0:o.shortDescription;return e&&Object(j.jsx)("div",{className:l(n),id:"longDescription",children:d||(null===a||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)})},f=(e,t,a,i)=>{var o,n,l;const d=null===i||void 0===i?void 0:i.maxItemCountPerLineItem,u=null===i||void 0===i||null===(o=i.componentOptions)||void 0===o||null===(n=o.web)||void 0===n||null===(l=n.plp)||void 0===l?void 0:l.removeSingleItemInCartFromPLP;return Object(j.jsx)(r.a,{itemCount:e,itemQuantity:null===c.a||void 0===c.a?void 0:c.a.ITEM_QUANTITY,updateItemQuantity:t,quantityAction:null===s.a||void 0===s.a?void 0:s.a.QUANTITY_ACTION,item:void 0,itemName:a,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0,removeSingleItem:u})},N=(e,t)=>Object(i.Vd)(null===e||void 0===e?void 0:e.type)?{isStoreClosed:!1}:t,S=e=>{var t;const{event:a,cardId:i,customizable:o,categoryId:n,itemCount:l,productInfo:d,itemFoodlineId:r,checkItemExpiry:c,menuCardBtnText:s,storeClosedData:u,clickHandler:v,dispositionNew:m}=e;null!==(t=s(N(m,u)))&&void 0!==t&&t.enabled&&l<=0&&v(a,i,o,n,l,d,r,c),a.preventDefault(),a.stopPropagation()},T=(e,t,a,n,r,c,s)=>{var u,v;const{itemCount:m,updateItemQuantity:O,classesCardButton:p,classEnableAddToCart:h,enableAddToCartButton:g,cardType:I,checkLoading:T,storeClosedData:x,cardId:C,menuCardBtnText:E,customizable:_,dname:D,imageName:y,availability:A,prodURL:R,item:L}=e,w={productName:D,productImage:y,productPrice:Object(i.Ec)(null===A||void 0===A?void 0:A[0],null===a||void 0===a?void 0:a.currencyConversionFactor),prodURL:R,categoryURL:null===L||void 0===L?void 0:L.categoryUrl},P=N(s,x);return(t||(e=>Object(i.Vd)(null===e||void 0===e?void 0:e.type))(s))&&Object(j.jsxs)("div",{className:"quantityAddtocart ".concat(m?"cardwithQuantity "+r:"cardwithNoquantity"),children:[!!m&&f(m,O,null===D||void 0===D?void 0:D[0].value,a),P&&Object(j.jsx)("div",{className:p(m,r),children:m<1?Object(j.jsxs)(d.a,{tabIndex:"0",className:h(g,I,T,P),"data-testid":"add-to-cart-".concat(C),disabled:Object(b.w)(P),onClickHandler:t=>{c({event:t,cardId:C,productInfo:w,orderClickHandler:S,props:e})},"aria-label":(null===(u=E(P))||void 0===u?void 0:u.btnText)+(null===D||void 0===D?void 0:D[0].value),children:[null===(v=E(P))||void 0===v?void 0:v.btnText,Object(i.J)(P.isStoreClosed)]}):_&&Object(j.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>c({cardId:C,productInfo:w,orderClickHandler:n,props:e}),children:Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})},x=(e,t,a,n,d)=>{var r;const{setOpenCostomizedModal:c,filteredPreviousData:s,updateItemQuantity:v,dname:m,clickHandler:b,cardId:O,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,customizable:f,openCostomizedModal:N,cartData:S,setShowTopScrollBtn:T,imageName:x,itemFoodlineId:C,item:E,prodURL:_}=e,D={productName:m,productImage:x,productPrice:Object(i.Ec)(null===g||void 0===g?void 0:g[0],null===a||void 0===a?void 0:a.currencyConversionFactor),prodURL:_,categoryURL:null===E||void 0===E?void 0:E.categoryUrl};return Object(j.jsx)(u.a,{handleClose:()=>{c(!1),n(!1)},filteredPreviousData:s,updateItemQuantity:v,tenantData:a,dname:m,clickHandler:b,cardId:O,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,imageName:x,itemFoodlineId:C,customizable:f,setOpenCostomizedModal:c,openCostomizedModal:N,cartData:S,setShowTopScrollBtn:T,foodId:null===(r=e.item)||void 0===r?void 0:r.mdmId,isEditSelection:t,headerText:Object(i.ad)(t,Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.SELECT_QUANTITY)),checkItemExpiry:d,productInfo:D})},C=(e,t,a,o,n,l)=>{var d;const{productContent:r,imageName:c}=e,s=null!==r&&void 0!==r&&null!==(d=r.image)&&void 0!==d&&d.mainImage&&null!==t&&void 0!==t&&t.width&&null!==t&&void 0!==t&&t.height?Object(i.qc)(r,t.width,t.height):Object(i.bc)(c,o);return Object(j.jsx)(v.a,{"data-testid":"product-image",className:"".concat(n&&Object(O.t)(n)," ").concat(Object(m.c)(l)),srcFile:s,alt:"",inactive:a,disabled:a,defaultPath:n&&Object(i.bc)(null,o,!0)})}},1142:function(e,t,a){"use strict";var i=a(3),o=a(28),n=a(62),l=a(1146),d=a(1096),r=a(145),c=a(16),s=a(410),u=a(85),v=a(1179),m=a(35),b=a(5),O=a(400),j=a(0),p=a(61),h=a(398),g=a(20),I=a.n(g),f=a(397),N=a(2);const S={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},T=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),x=(e,t,a)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:a}};t.a=Object(n.j)((e=>{var t,a;const{productList:n=[],cardType:j="",tenantData:g={},categoryId:C,categoryName:E,categoryUrl:_,catalogs:D,storeClosedData:y,setShowTopScrollBtn:A}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:L,PLP_PDP_DETAILS:w,MINI_PDP_DATA:P,FROMFLAGPLP:k}=c.a,{PlpProductCard:M={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=O.a,[U,W]=Object(i.useState)(1),H=Object(o.b)(),B=Object(o.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:V={}}={}}=null!==(a=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==a?a:{},{cartData:Y={}}=Object(b.sd)(B),z=Object(o.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,K]=Object(i.useState)(e.selectedCat),[Q,J]=Object(i.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(i.useContext)(u.a),[$,ee]=Object(i.useState)(null),{showCartAlert:te}=Object(s.a)(void 0,void 0,void 0,void 0,Z,H,void 0);Object(i.useEffect)((()=>{J(!1)}));const{addToCartAnalyticsOnly:ae}=Object(s.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,H,void 0),ie=(e,t,a,i)=>{var o;if(z.localized&&I()(null===B||void 0===B||null===(o=B.cartData)||void 0===o?void 0:o.id)){const{id:e,itemCount:t}=i,a=[{Id:e,categoryId:C,quantity:t+1,modGrps:[]}],o=!0;Object(b.I)(H,m.f,null===g||void 0===g?void 0:g.tenantId,X,null===B||void 0===B?void 0:B.qrCodeScanTime,o,a)}else((e,t,a,i)=>{var o;const{id:n,itemCount:l,product:d,itemFoodlineId:c}=i,{catId:s}=a,{id:u="",name:v="",url:b=""}=null!==(o=null===V||void 0===V?void 0:V[s])&&void 0!==o?o:{};if(e&&e.stopPropagation(),ee(n),z.localized){if(t)K(s),Z({type:P,value:{id:n,flag:k,foodLineId:""}}),Z({type:F}),H(Object(r.c)({tenantId:g.tenantId,catalogName:D,itemId:n}));else if(0===l){var O;H(Object(m.a)({params:{basketId:null===B||void 0===B||null===(O=B.cartData)||void 0===O?void 0:O.id},tenantId:g.tenantId},[{Id:n,categoryId:u,quantity:l+1,modGrps:[],categoryName:v,categoryUrl:b}])),H(Object(m.u)(new Date)),ae(x(n,d,c),R.Increase,g.currencyConversionFactor)}else if(l>0){var j;H(Object(m.x)({params:{basketId:null===B||void 0===B||null===(j=B.cartData)||void 0===j?void 0:j.id,basketLineItemId:c},tenantId:g.tenantId},{quantity:l+1,isBundle:Object(f.e)(n)})),H(Object(m.u)(new Date)),ae(x(n,d,c),R.Increase)}}else J(!0),Z({type:L,value:{addToCart:!0,productItemId:n,categoryId:C,oldProduct:d,customizable:t,catalogs:D,fromPdpPage:!1}})})(e,t,a,i)},oe=Object(o.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{oe&&q&&X.minipdpData.itemId===oe.id&&H(Object(m.v)({showProductListingModal:!0,categorySelected:q}))}),[oe]);const ne=()=>{te(!0)},le={...S,beforeChange:(e,t)=>{W(Math.round(t+1))},variableWidth:!1},de=(t,a,i,o)=>{const{catId:n,catName:l,catUrl:d}=o,{productId:r,productInfo:c}=a;t.preventDefault(),t.stopPropagation();const s={productId:r,customizable:i,catId:n,catalogName:D,productInfo:c,isFromPlp:!0,categoryName:l,categoryUrl:d};Z({type:w,value:s}),localStorage.setItem(h.p,JSON.stringify(s)),e.history.push({pathname:"/pdp/".concat(C,"/").concat(r)})},re=(e,t,a)=>{H(Object(r.a)({tenantId:e,customerId:a},t))},ce=(e,t,a)=>{H(Object(r.b)({tenantId:e,customerId:t,itemId:a}))},se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,a=Object(b.ve)(t.additionalProperties);return Object(N.jsx)(l.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:M,tenantData:g,servingCount:a.servings,button:e.button,categoryId:C,categoryName:E,categoryUrl:_,clickHandler:ie,customizable:t.customizable,onCardClickHandler:de,userParams:z,openAlertModal:ne,storeClosedData:y,addFavourite:re,removeFavourite:ce,setShowTopScrollBtn:A,"data-testid":"menu-card-component",...a,...t},t.id)};return Object(N.jsxs)("div",{className:"product-container",children:[Q&&Object(N.jsx)(v.a,{}),"carousal"===j?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"individual-card-counter",children:[U,"/",n.length]}),Object(N.jsx)(d.b,{settings:le,children:T(n,se)})]}):T(n,se)]})}))},1143:function(e,t,a){"use strict";a.d(t,"b",(function(){return J}));var i=a(3),o=a.n(i),n=a(420),l=a.n(n),d=a(395),r=a(404),c=a(263),s=a(85),u=a(16),v=a(120),m=a(28),b=a(73),O=a(12),j=a(5),p=a(62),h=a(113),g=a(158),I=a(46),f=a(6),N=a(4),S=a(35),T=a(24),x=a(107),C=a(0),E=a(394),_=a(411),D=(a(1155),a(15)),y=a(55),A=a(600),R=a(2);const{ORDER_TYPE:L,YOUR_KFC_RESTAURANT:w,YOUR_LOCATION:P,EDIT:k,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:F,TIME:U,CONFIRM_BTN_TEXT:W,DELIVERY_UNAVAILABLE_ERROR:H,SWITCH_TO_TAKEAWAY_TEXT:B,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:V,ERROR_MESSAGE_CLOSED:Y,SCHEDULE_ORDER:z,CHANGE_ORDER_TITLE:q,ASAP_SERVES_Warning_Message:K}=N.a,Q=(e,t,a)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(a)),J=e=>"ASAP"!==e&&"-"!==e?e:Object(O.S)(Object(O.o)(),g.a.HHMM,g.a.LT),X=(e,t)=>{let a={};return"-"!==e&&"ASAP"!==e?a={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(a={isForNow:!0,futureDateTime:0}),a},Z=(e,t,a)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Kb)(i.type):t?C.Mb.PICKUP:Object(j.Kb)(a)};function $(e,t,a){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||a(null===(i=e[0])||void 0===i?void 0:i.timestr):a("-")}t.a=Object(p.j)((e=>{var t,a,n,p,N,te,ae,ie,oe,ne,le,de,re,ce,se,ue,ve;const{SingleArrow:me,Calendar:be,Error:Oe}=D.a,je=Object(i.useRef)(null),pe=Object(i.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Ie,SCHEDULE_ORDER_DATA:fe,DISPOSITION_DATA:Ne,SCHEDULE_ORDER_TIME_DATA:Se,CLOSED:Te,SCHEDULE_ORDER_TIME_PRESERVE_TIME:xe,MENU_URL:Ce,PDP_URL:Ee,SELECTED_TILE_DATA:_e,DISPOSITION_METHOD:De,SET_DISPOSITION:ye,USER_LOCALIZED:Ae,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:Le,clearCartChangeFlag:we,orderTypeAlertTitle:Pe,searchStoreAlertTitle:ke,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:Fe}=u.a,Ue=Object(m.c)((e=>e.profileReducer)),{userOrderState:We,userOrderStateDispatch:He}=Object(i.useContext)(s.a),{dispositionStateData:Be={},scheduleOrderData:Ge={}}=We,{changeFlow:Ve=!1,isAddressFlow:Ye=!1}=Ge,ze=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:qe=""}=Be,Ke=qe||localStorage.getItem("dispositionType"),{value:Qe=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Je=""}=Ge&&(null===(a=Ge.selectedDateTimeInfo)||void 0===a||null===(n=a.date)||void 0===n?void 0:n.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Ge&&(null===(p=Ge.selectContentData)||void 0===p||null===(N=p.savedTime)||void 0===N?void 0:N.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(ae=Ge.storeInfo)||void 0===ae||null===(ie=ae.summary)||void 0===ie?void 0:ie.timings)||{},tt=Object(j.Sd)(We.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):We.dispositionNew,{unavailibilities:at,unavailibilityType:it}=$e,{interval:ot=0,startEndTime:nt={}}=$e&&(null===$e||void 0===$e||null===(oe=$e.periods)||void 0===oe?void 0:oe.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:lt,to:dt}=nt;let rt=Object(m.c)((e=>e.appStateReducer.userStatus));const ct=Object(m.b)(),st=Object(m.c)((e=>e.tenantReducer)),ut=Object(m.c)((e=>e.storesReducer)),vt=Object(m.c)((e=>e.cartReducer)),{cartData:mt}=vt,{storesAvilableTimeSlots:bt,storesTimeSlots:Ot}=ut,[jt,pt]=Object(i.useState)(!1),[ht,gt]=Object(i.useState)({error:!1,errormessage:""}),[It,ft]=Object(i.useState)({from:lt,to:dt,interval:ot}),[Nt,St]=Object(i.useState)({error:!1,openStoreTime:""}),Tt=(null===(ne=Ge.storeInfo)||void 0===ne||null===(le=ne.summary)||void 0===le||null===(de=le.status)||void 0===de?void 0:de.currentStatus)===Te,xt=()=>{var e;return Ve?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ye&&(null===Ke||void 0===Ke?void 0:Ke.toUpperCase())===g.a.TYPE_DELIVERY},[Ct,Et]=Object(i.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[_t,Dt]=Object(i.useState)(et&&et.isAvailable?"ASAP":Object(O.S)(null===nt||void 0===nt?void 0:nt.from,"hh:mm","LT")),[yt,At]=Object(i.useState)([]),[Rt,Lt]=Object(i.useState)(!1),[wt,Pt]=Object(i.useState)(!1),[kt,Mt]=Object(i.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{Mt(Object(j.de)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Ft)}),[kt]),Object(i.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};ct(Object(b.c)({data:t,tenantId:st.tenantId}))}let t=Object(v.j)(lt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country),at,it);return At(t),()=>{ct(Object(b.a)())}}),[]);const Ut=e=>{var t,a;if("INDIA"===(null===st||void 0===st?void 0:st.country))return;const i=Object(O.h)(e,"YYYY-MM-DD");if($e.date===i){let t=Object(v.j)(lt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),at,it);return At(t),Dt(t[0].timestr),ft({from:lt,to:dt,interval:ot}),Et(e),gt({...ht,error:!1,errormessage:""}),Lt(!1),void Pt(!1)}const o={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:i};if(ct(Object(b.c)({data:o,tenantId:st.tenantId})),Et(e),(null===bt||void 0===bt||null===(a=bt.periods)||void 0===a?void 0:a.length)>0){const{startEndTime:e,interval:t}=bt.periods[0],{from:a,to:i}=e;let o=Object(v.j)(a,i,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),at,it);ft({from:a,to:i,interval:t}),At(o)}gt({...ht,error:!1,errormessage:""})},Wt=e=>{const t=new Date,a=new Date(e.split("T")[0]);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},Ht=e=>{var t;Dt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let a=Object(v.f)(lt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Wt(Je)?"Today":"Tomorrow"});Et(a),Lt(!1),Pt(!1),gt({...ht,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Xe;Je&&Ut(new Date(Je)),((e,t,a,i,o,n)=>{if(e&&t){const e=Object(O.S)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===a||void 0===a?void 0:a.split(":")[0]),Number(null===a||void 0===a?void 0:a.split(":")[1]),0)?n(o):n(t)}})(Ve,e,lt,Je,Xe,Ht),((e,t,a,i,o)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var n;const e={storeid:null===t||void 0===t||null===(n=t.storeInfo)||void 0===n?void 0:n.id,channel:T.b.channel,service:Object(j.Mb)(a()).toString().toLowerCase(),date:""};i(Object(b.c)({data:e,tenantId:null===o||void 0===o?void 0:o.tenantId}))}})(Ze,Ge,$t,ct,st)}),[]),Object(i.useEffect)((()=>{let e=Object(j.ad)(Ve,Object(f.translateWithI18Next)(q),Object(f.translateWithI18Next)(z));var t;if(Object(j.Td)(Ot)&&jt)if((null===Ot||void 0===Ot||null===(t=Ot.status)||void 0===t?void 0:t.currentStatus)===Te)gt({...ht,error:!0,errormessage:Object(f.translateWithI18Next)(Y)}),Object(j.Ob)(e,Object(f.translateWithI18Next)(Y));else{let t=new Date;if(new Date(Ct).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(O.o)().add(et.promiseTime,"minutes").format("LT");Object(O.c)(t,_t,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(f.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(f.translateWithI18Next)(G))):Q(he,Ce,Ee)?Bt():Gt()}else Q(he,Ce,Ee)?Bt():Gt()}}),[Ot,Ue]);const Bt=()=>{var t,a;He({type:_e,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(st)),localStorage.setItem("selectedTile",JSON.stringify({}));const i=null===he||void 0===he?void 0:he.pathname,o=null===ze||void 0===ze||null===(t=ze.summary)||void 0===t?void 0:t.name,n=null===st||void 0===st||null===(a=st.componentOptions)||void 0===a?void 0:a.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(Ce),...!Object(j.ce)(i)&&{state:{toastData:{storeName:o,service:Ke,showToastAfterLocalization:n}}}})},Gt=async()=>{He({type:fe,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),He({type:De,value:{dispositionType:Ke}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),He({type:Me,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),He({type:Ie,value:{showSearchStore:!1}});let e="",t="";"ASAP"===_t||"-"===_t?(e="ASAP",t="ASAP"):(e=_t,t=_t),He({type:Fe,value:{forceReload:!0}});let a=J(_t);const i=Object(O.A)(Object(O.h)(Ct,"YYYY-MM-DD")+" "+a,"YYYY-MM-DD hh:mm A");let o={time:e,interval:It.interval,date:Ct,epochTime:i,selectedTime:_t},n=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==ze.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(ze,Object(j.Mb)(Ke),null===Ue||void 0===Ue?void 0:Ue.customerId,o,n,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);ct(Object(S.m)("")),ct(Object(S.f)({data:e,tenantId:st.tenantId}))}ct(Object(h.a)({...rt,localized:!0})),He({type:ye,value:{oldvalue:tt,newValue:{type:$t(),store:ze,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:ze,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n})),Object(j.vf)(),He({type:Se,value:{selectedDateTime:o}}),He({type:xe,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,a={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(bt||{}).length){var i,o,n;const{startEndTime:e,interval:d}=Object(j.qd)(null===(i=bt[0])||void 0===i?void 0:i.periods[0],a),{startEndTime:r}=Object(j.qd)(null===(o=bt[1])||void 0===o?void 0:o.periods[0],a),{from:c}=e,{to:s}=r;var l;if(t=Object(v.j)(c,s,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(n=bt[0])||void 0===n?void 0:n.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===st||void 0===st?void 0:st.country),at,it),ft({from:c,to:s,interval:d}),At(t),$(t,Xe,Ht),!bt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(l=bt[0])||void 0===l?void 0:l.date))}else if(Object.keys(bt||{}).length){var d,r;const{startEndTime:e,interval:i}=Object(j.qd)(null===(d=bt[0])||void 0===d?void 0:d.periods[0],a),{from:o,to:n}=e;var c;if(t=Object(v.j)(o,n,i,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===st||void 0===st?void 0:st.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(r=bt[0])||void 0===r?void 0:r.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),at,it),ft({from:o,to:n,interval:i}),At(t),$(t,Xe,Ht),!bt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(c=bt[0])||void 0===c?void 0:c.date))}const s=localStorage.getItem("modalSource");var u;null!==st&&void 0!==st&&st.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Tt&&"fromChangeStoreButton"!==s&&(null===(e=t)||void 0===e?void 0:e.length)>0&&St({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(bt)]);const Vt=e=>{var t,a;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(a=pe.current)&&void 0!==a&&a.contains(e.target)||(Lt(!1),Pt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Vt),()=>{document.removeEventListener("mousedown",Vt)})),[]);const Yt=()=>{He({type:Ie,value:{showSearchStore:!0}}),He({type:fe,value:{showDisposition:!1}}),He({type:De,value:{dispositionType:"Pickup"}})},zt=null===Ge||void 0===Ge||null===(re=Ge.storeInfo)||void 0===re||null===(ce=re.availableServicesPerChannel)||void 0===ce||null===(se=ce.find((e=>"web"===e.channel)))||void 0===se?void 0:se.services,qt=null===zt||void 0===zt?void 0:zt.includes("delivery"),Kt=Object(j.hb)(xt(),!qt),Qt=()=>{let e=Object(f.translateWithI18Next)(V),t=!1;return qt&&(e=Object(f.translateWithI18Next)(H),t=!0),{showTakeWayButton:t,message:e}},{message:Jt}=Qt();Object(i.useEffect)((()=>{Object(x.g)(Ve,Jt)}),[Jt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Qt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(I.a,{srcFile:Oe,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Yt,children:Object(f.translateWithI18Next)(B)})})]})},Zt=e=>{var t;let{orderType:a}=e,i=Object(f.translateWithI18Next)(K),o=null===i||void 0===i?void 0:i.replace("%time%",Nt.openStoreTime);return o=null===(t=o)||void 0===t?void 0:t.replace("%servesName%",a),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),o]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ve&&e?e.type:Ye?"Pickup":Ke},ea=Ve?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(f.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(r.a,{value:Z(Ve,Ye,Ke),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(c.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:Pe};Object(j.Fe)(He,e,Re,Le)}else He({type:Ne,value:{showDisposition:!0}});He({type:fe,value:{showScheduleOrderCatering:!1}}),He({type:Ie,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(f.translateWithI18Next)(k)})})]}),ht&&ht.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),ht.errormessage]}),kt&&Kt&&Object(R.jsx)(Xt,{}),Object(R.jsx)("h3",{className:"order-type",children:xt()?Object(f.translateWithI18Next)(P):Object(f.translateWithI18Next)(w)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(r.a,{value:xt()?ea:Qe||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:xt()?Object(R.jsx)(c.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(He({type:De,value:{dispositionType:Ve?JSON.parse(localStorage.getItem("dispositionNew")).type:Ke}}),mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:ke};Object(j.Fe)(He,e,Re,Le)}else He({type:Ie,value:{showSearchStore:!0}});He({type:fe,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(f.translateWithI18Next)(k)}):Object(R.jsx)(c.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:ke};Object(j.Fe)(He,e,Re,Le)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ye)He({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];He({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}He({type:fe,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ve)}}),He({type:De,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(f.translateWithI18Next)(k)})})]}),!kt&&Kt&&Object(R.jsx)(Xt,{}),(null===Nt||void 0===Nt?void 0:Nt.error)&&Object(R.jsx)(Zt,{orderType:Z(Ve,Ye,Ke)}),Object(R.jsx)("h3",{className:"order-type",children:Object(f.translateWithI18Next)(M)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(f.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===st||void 0===st?void 0:st.country)?Object(R.jsxs)(o.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>Pt(!wt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(l.a,{selected:Ct,showPopperArrow:!1,onChange:e=>Ut(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:wt,readOnly:!0}),Object(R.jsx)("img",{src:be,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(o.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(O.h)(Ct,"YYYYMMDD")===Object(O.e)("YYYYMMDD")&&Object(f.translateWithI18Next)("today")||Object(f.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(f.translateWithI18Next)(U)}),Object(R.jsxs)("div",{className:ee(yt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Lt(!Rt),onClick:()=>0!==$e.periods.length&&Lt(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:_t}),Object(R.jsx)("img",{src:me,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===yt||void 0===yt||!yt.length)&&(null===yt||void 0===yt?void 0:yt.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{St((e=>({...e,error:!1}))),Ht(e)},onKeyPress:()=>Ht(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(f.translateWithI18Next)(W),onClickHandler:e=>{var t,a,i,o,n;Object(y.D)(),e.stopPropagation(),e.preventDefault();const l={storeID:null===ze||void 0===ze?void 0:ze.id,disposition:Ke,postCode:null===ze||void 0===ze||null===(t=ze.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};ge(l),Object(E.J)(l,_t),Object(_.a)(Ge),pt(!0);let d=J(_t);const r=Object(O.A)(Object(O.h)(Ct,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),c={storeid:null===Ge||void 0===Ge||null===(i=Ge.storeInfo)||void 0===i?void 0:i.id,channel:T.b.channel,service:null===(o=Object(j.Mb)($t()))||void 0===o||null===(n=o.toString())||void 0===n?void 0:n.toLowerCase(),futureDateTimeInEpochFormat:r,asap:_t===C.s};ct(Object(b.n)({data:c,tenantId:st.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const a=null===ze||void 0===ze||null===(e=ze.summary)||void 0===e?void 0:e.name,i=null===st||void 0===st||null===(t=st.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(A.a)(a,Ke,i)}}))),null!==mt&&void 0!==mt&&mt.id&&ct(Object(b.q)({params:{basketId:null===mt||void 0===mt?void 0:mt.id},tenantId:st.tenantId,postBody:X(_t,r)})),He({type:Ae,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(f.translateWithI18Next)(W)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var i=a(3),o=a(28),n=a(398),l=a(5),d=a(235),r=a(61),c=a(410),s=a(6),u=a(35),v=a(395),m=a(46),b=a(264),O=a(1099),j=a(1112),p=a(1134),h=a(0),g=a(15),I=a(145),f=a(85),N=a(16),S=a(262),T=a(2);const x=(e,t,a,i,o)=>Object(l.ad)(e||t||a||i||o,g.a.ribbonRedOutlined,null);var C=function(e){var t,a,c;const{getCardTypeName:C,cardType:E,allowClickOnProductCard:_,discount:D,specials:y,exclusive:A,timer:R,cardId:L,customizable:w,getProductImageClassName:P,tenantData:k,imageName:M,onCardClickHandler:F,categoryId:U,categoryName:W,categoryUrl:H,dname:B,availability:G=[],newitem:V,topseller:Y,customlabelfield:z,getSpecificRibbonBanner:q,userParams:K,favouriteItems:Q,item:J,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ae,veg:ie,servingCount:oe,getVegNonvegClassName:ne,menuProductPriceClassName:le,checkForBasePriceInMenu:de,baseprice:re,cardCat:ce,displayPrice:se,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:be,configureOptions:Oe,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Ie,menuCardBtnText:fe,clickHandler:Ne,itemFoodlineId:Se,openCostomizedModal:Te,setOpenCostomizedModal:xe,filteredPreviousData:Ce,cartData:Ee,CARD_TYPE:_e,setShowTopScrollBtn:De,pricewithouttax:ye}=e,Ae=Object(o.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=S.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:we,EDIT_CLICKED:Pe}=N.a,{userOrderStateDispatch:ke}=Object(i.useContext)(f.a),[Me,Fe]=Object(i.useState)(!1),[Ue,We]=Object(i.useState)(Object(l.de)(window.innerWidth)),{ITEM_QUANTITY:He}=d.a,{QUANTITY_ACTION:Be}=r.a,Ge=Object(l.ad)(null===K||void 0===K?void 0:K.loggedIn,h.cg,""),{allowAddToCartButton:Ve=!0}=Oe,{web:{global:{showPriceWithTax:Ye=!1}={}}={}}=null!==(t=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:ze,Veg_dot_Icon:qe,Product_Card_Icon:Ke,TimerIcon:Qe,FavoriteInActiveWhite:Je,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(i.useEffect)((()=>{window.addEventListener(h.ye,et)}),[Ue]);const et=()=>{We(Object(l.de)(window.innerWidth))},tt=()=>Object(T.jsxs)("div",{className:le(E),children:[Object(l.hb)(de(re,ce),se(re,null===k||void 0===k?void 0:k.currencyConversionFactor)),Object(T.jsxs)("span",{className:ue(re,ce),children:[n.o.MENU_CARD.CURRENCY,Object(l.Fc)(G[0],ye,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye).toFixed(2)]})]}),at=()=>Object(T.jsxs)("div",{className:ne(E),children:[Object(l.hb)(Ue,Object(T.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ie,ze,qe)})),Object(l.hb)(!Ue,Object(l.ad)(!ie,Object(s.translateWithI18Next)(n.o.MENU_CARD.NON_VEG),Object(s.translateWithI18Next)(n.o.MENU_CARD.VEG))),Object(l.hb)(oe,Object(T.jsx)("div",{className:"Dot"})),n.o.MENU_CARD.SERVES,oe]}),it=()=>{if(null!==K&&void 0!==K&&K.loggedIn)return Object(T.jsxs)("picture",{children:[Object(T.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(l.ad)("small-menu-product-card"===Z,Object(l.ad)(Array.isArray(Q)&&Q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),X(E),te(E)),Object(l.ad)(Array.isArray(Q)&&Q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(T.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(l.ad)(Array.isArray(Q)&&Q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Xe,Je),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(T.jsx)("img",{src:Object(l.hb)(Array.isArray(Q),null===Q||void 0===Q?void 0:Q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))))?Xe:Je,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},ot=()=>Object(T.jsx)(m.a,{"data-testid":"product-image",className:P(E),defaultPath:Object(l.bc)(null,k,!0),srcFile:Object(l.bc)(M,k),onClick:e=>Object(l.Nf)(_,F,[e,L,w,U,{productName:B,productImage:M,productPrice:Object(l.Fc)(G[0],ye,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye)}]),alt:""}),nt={productId:L,productInfo:{productName:B,productImage:M,productPrice:Object(l.Fc)(G[0],ye,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye)}},lt={catId:U,catName:W,catUrl:H},dt={id:L,itemCount:ee,product:{productName:B,productImage:M,productPrice:Object(l.Ec)(G[0],null===k||void 0===k?void 0:k.currencyConversionFactor)},itemFoodlineId:Se};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:C(E,_,D,y,A,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(l.Zd)()&&w&&Object(T.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),E!==_e.SMALL&&ot(),Object(T.jsx)(b.a,{src:Object(l.ad)(y,Ke,x(z,D,A,V,Y)),className:Object(l.ad)(y,"specials-product-ribbon",Object(l.ad)(Object(l.jb)(A,z),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(T.jsx)("span",{className:Object(l.ad)(y,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(T.jsxs)("div",{children:[Object(T.jsx)(b.a,{src:Qe,className:"product-timer"}),Object(T.jsx)("span",{className:"product-timer-text",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TIMER)})]}):q(y,D,A,V,Y,z)}),Object(l.hb)(!Ue,it()),Object(T.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{_&&F(e,nt,w,lt)},children:[Object(T.jsx)("div",{className:ae(E,D,y,A,{timer:R,newitem:V,topseller:Y,customlabelfield:z}),children:null===B||void 0===B?void 0:B[0].value}),Ue?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"description-and-image",children:[Object(T.jsx)("div",{className:ve(E),id:"longDescription",children:me[0].value}),E===_e.SMALL&&ot()]}),Object(T.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),at(),Object(T.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ie,ze,qe)}),at(),tt(),Object(T.jsx)("div",{className:ve(E),id:"longDescription",children:me[0].value})]})]}),Object(T.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(rt=ee,ct=be,st=null===B||void 0===B?void 0:B[0].value,ut=null===k||void 0===k?void 0:k.maxItemCountPerLineItem,Object(T.jsx)(O.a,{itemCount:rt,itemQuantity:He,updateItemQuantity:ct,quantityAction:Be,item:void 0,itemName:st,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ve&&je&&Object(T.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(T.jsxs)(v.a,{tabIndex:"0",className:he(ge,E,Ie,je),"data-testid":"add-to-cart-".concat(L),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=fe(je))&&void 0!==t&&t.enabled&&ee<=0&&Ne(e,w,lt,dt)},"aria-label":(null===(a=fe(je))||void 0===a?void 0:a.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(c=fe(je))||void 0===c?void 0:c.btnText,Object(l.J)(je.isStoreClosed)]}):w&&Object(T.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(ke({type:Le,value:{id:null===J||void 0===J?void 0:J.mdmId,flag:we,foodLineId:Se}}),ke({type:Re}),ke({type:Pe,value:{cartEditClicked:!1}}),Ae(Object(I.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===Ee||void 0===Ee?void 0:Ee.catalog,itemId:null===J||void 0===J?void 0:J.mdmId})),Ae(Object(u.v)({showProductListingModal:!0,categorySelected:U}))):(Fe(!0),xe(!0))},children:Object(s.translateWithI18Next)(n.o.EDIT_SELECTIONS)})})]})]}),Object(T.jsx)("div",{children:Te&&(()=>{var t;return Object(T.jsx)(p.a,{handleClose:()=>{xe(!1),Fe(!1)},filteredPreviousData:Ce,updateItemQuantity:be,tenantData:k,dname:B,clickHandler:Ne,cardId:L,categoryId:U,categoryName:W,categoryUrl:H,itemCount:ee,availability:G,pricewithouttax:ye,imageName:M,itemFoodlineId:Se,customizable:w,setOpenCostomizedModal:xe,openCostomizedModal:Te,cartData:Ee,setShowTopScrollBtn:De,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Me,headerText:Object(l.ad)(Me,Object(s.translateWithI18Next)(n.o.EDIT_QUANTITY),Object(s.translateWithI18Next)(n.o.SELECT_QUANTITY))})})()})]});var rt,ct,st,ut};const{CARD_TYPE:E}=n.o,{FavoriteInActiveWhite:_,heartIcon_active:D,heartIcon_activeFavourite:y,heartIcon_inactive_red:A}=g.a,R=(e,t,a,i,o,n)=>e===E.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===E.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===E.SMALL?((e,t,a,i,o)=>e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||o)?"small-menu-product-card product-card-active":!e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,o,n):e===E.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===E.LARGE?"menu-product-image":e===E.MEDIUM?"medium-menu-product-image":e===E.SMALL?"small-menu-product-image":e===E.CAROUSAL?"carousal-menu-product-image":void 0,w=(e,t,a,i,o)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:r}=o;return e===E.LARGE?"menu-product-header":e===E.MEDIUM?"medium-menu-product-header":e===E.SMALL?t||a||i||n||l||d||r?"small-menu-product-header-shift":"small-menu-product-header":e===E.CAROUSAL?"carousal-menu-product-header":void 0},P=e=>e===E.LARGE?"menu-vegOrNonVeg":e===E.MEDIUM?"medium-menu-vegOrNonVeg":e===E.SMALL?"small-menu-vegOrNonVeg":e===E.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,k=e=>e===E.LARGE?"menu-product-price":e===E.MEDIUM?"medium-menu-product-price":e===E.SMALL?"small-menu-product-price":e===E.CAROUSAL?"carousal-menu-product-price":"",M=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===E.LARGE?"menu-product-description":e===E.MEDIUM?"medium-menu-product-description":e===E.SMALL?"small-menu-product-description":e===E.CAROUSAL?"carousal-menu-product-description":"",U=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,W=e=>{const{ADD_TO_CART:t}=d.a;let a=Object(s.translateWithI18Next)(t),i="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",i="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",i="store-closed",o=!1),{btnText:a,className:i,enabled:o}},H=(e,t,a,i)=>e?"".concat(((e,t)=>{let a,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case E.LARGE:a="menu-cart-button";break;case E.MEDIUM:a="medium-menu-cart-button";break;case E.SMALL:a="small-menu-cart-button";break;case E.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(i," ").concat(a)})(t,a)," ").concat(W(i).className):"button btn-black medium-menu-cart-button",B=(e,t,a,i,o,d)=>{let r;return r=d?Object(T.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(a?Object(T.jsx)("span",{"data-testid":"exclusive-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(T.jsx)("span",{"data-testid":"new-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.NEW)}):Object(l.ad)(o,Object(T.jsx)("span",{"data-testid":"topseller-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TOP_SELLER)}),null))),r},G=e=>e===E.CAROUSAL?D:y,V=e=>e===E.CAROUSAL?_:A,Y=(e,t)=>Boolean(e)&&"recommended"!==t,z=(e,t)=>{let a;return a=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"price-display",children:"old price"}),Object(T.jsxs)("span",{className:"base-price-menu",children:[n.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.b=e=>{var t,a;const{cardId:n,cardType:d,discount:s,specials:v,exclusive:m,timer:b,availability:O=[],tenantData:p,customizable:h,categoryId:g,activeId:I,addFavourite:f,removeFavourite:N,item:S,isHidden:x,cardFor:_,setShowTopScrollBtn:D,userParams:y}=e,{QUANTITY_ACTION:A}=r.a,q=Object(o.b)(),K=null===p||void 0===p?void 0:p.tenantId,{componentOptions:Q={}}=p,{PlpProductCard:J={}}=Q,{allowClickOnProductCard:X=!1}=J,Z=Object(o.c)((e=>e.cartReducer)),$=Object(o.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(l.sd)(Z),[ae,ie]=Object(i.useState)(0),[oe,ne]=Object(i.useState)(null),[le,de]=Object(i.useState)(0),re=null===$||void 0===$?void 0:$.id,ce=Object(o.c)((e=>{var t;return Object(l.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[se,ue]=Object(i.useState)(!0),[ve,me]=Object(i.useState)("product"),{flatResponse:{productMapById:be={}}={}}=null!==(t=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Oe,je]=Object(i.useState)(""),[pe,he]=Object(i.useState)(0),[ge,Ie]=Object(i.useState)([]),[fe,Ne]=Object(i.useState)(!1),[Se,Te]=Object(i.useState)(""),{couponCode:xe="",amount:Ce=0}=(null===ee||void 0===ee||null===(a=ee.discountLines)||void 0===a?void 0:a[0])||{},{foodLines:Ee,total:_e}=ee,De=Number((_e/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),ye=[{couponCode:xe,amount:Number((Ce/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{_&&me(_)}),[_]),Object(i.useEffect)((()=>{const e=Object(l.Td)(ee)?Object(l.mc)(n,ee):{},t=Object(l.ad)(Object(l.Td)(e),e.count,0),a=Object(l.ad)(Object(l.Td)(e),e.matchedItemFoodLineId,""),i=Object(l.ad)(Object(l.Td)(e),e.entriesCount,0),o=Object(l.ad)(Object(l.Td)(e),e.itemUnitPrice,"");ie(t),ne(a),de(i),he(o)}),[ee,n]);const Ae=Object(i.useCallback)((()=>{je(R(d,X,s,v,m,b))}));Object(i.useEffect)((()=>{Ae()}),[Ae]);Object(i.useEffect)((()=>{ue(!0)}),[ae]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Ie(t)}Te(e),Ne(!0)},Le=Object(l.hb)(te,I===n);return!x&&Object(T.jsx)(C,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:L,getSpecificRibbonBanner:B,favouriteItems:ce,classFavouriteIconActive:G,getCardName:Oe,favouriteButtonClickHandler:()=>{Object(l.hb)(Array.isArray(ce),null===ce||void 0===ce?void 0:ce.find((e=>(null===e||void 0===e?void 0:e.id)===(null===S||void 0===S?void 0:S.id))))?N(K,re,S.id):((e,t,a,i)=>{var o;const n=Object(l.td)(null===(o=a[0])||void 0===o?void 0:o.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};f(e,d,i),q(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(K,S,O,re)},itemCount:ae,classFavouriteIconInActive:V,getMenuProductHeader:w,getVegNonvegClassName:P,menuProductPriceClassName:k,checkForBasePriceInMenu:Y,cardCat:ve,displayPrice:z,getPriceClassName:M,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(y.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let a={foodName:null===S||void 0===S?void 0:S.name,foodItemId:null===S||void 0===S?void 0:S.mdmId,cartPrice:e,modifiers:Object(j.i)(S),customizable:null===S||void 0===S?void 0:S.customizable,quantity:ae,foodLineId:oe};const{itemQuantityHandler:i}=Object(c.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:ye,foodLines:Ee,totalAmount:De},null===p||void 0===p?void 0:p.tenantId,void 0,be,void 0,q,void 0);t===A.Increase?h&&ae>=1?Re(null===a||void 0===a?void 0:a.foodItemId):(!h&&ue(!1),i(a,A.Increase)):le>1?Re(null===a||void 0===a?void 0:a.foodItemId):(ue(!1),i(a,A.Decrease))}},classesCardButton:U,classEnableAddToCart:H,enableAddToCartButton:se,checkLoading:Le,menuCardBtnText:W,itemFoodlineId:oe,openCostomizedModal:fe,filteredPreviousData:ge,setOpenCostomizedModal:Ne,cartData:ee,CARD_TYPE:E,setShowTopScrollBtn:D,FoodId:Se})}},1149:function(e,t,a){"use strict";a.d(t,"b",(function(){return I}));var i=a(3),o=a(85),n=a(966),l=a(5),d=a(61),r=a(59),c=a(46),s=a(15),u=a(1106),v=a(6),m=a(1128),b=a(62),O=a(1095),j=a(262),p=a(0),h=a(2);const g=(e,t,a,i,o,n)=>{let l;l=e?Object(O.K)(t,a,i):Object(O.I)(t,a,i),o({type:n,value:l})},I=(e,t,a,i,o,n)=>{let{pdpAddtoCartConfirmButtonDisabled:l}=o,d=e<t;l[n]=d,i({type:a,value:l})};t.a=e=>{var t,a,f,N,S,T,x,C,E,_;const[D,y]=Object(i.useState)(),[A,R]=Object(i.useState)(!1),{QUANTITY_ACTION:L}=d.a,{MAX_ALERT_TEXT_INITIAL:w,MAX_ALERT_TEXT_END:P}=u.a,{PDP_PAYLOAD_DATA:k,UPDATE_SHOW_PDP_CUSTOM_MODAL:M,SET_PDP_BUTTON_DISABLED:F,PEROPTIONMAX_KEY:U,PEROPTIONMIN_KEY:W,SHOW_PDP_CUSTOM_MODAL:H}=j.a,[B,G]=Object(i.useState)(),[V,Y]=Object(i.useState)(),{userOrderState:z,userOrderStateDispatch:q}=Object(i.useContext)(o.a),{tenantData:K,cardData:Q,savedCustomizedModifier:J,saveCustomizedItemCount:X,savedModifierHandler:Z,savedModifiers:$,updatedItems:ee,toRenderCheckBox:te,toRenderQuantityModifier:ae,modgrpData:ie,isModal:oe,isStoreClosed:ne,initialRender:le,setInitialRender:de,catalog:re,localized:ce}=e,{modgrpId:se,max:ue,min:ve,modGrpName:me,additionalProperties:be}=ie,{id:Oe="",isDefault:je,defaultQuantity:pe,name:he,size:ge,isHidden:Ie,quantity:fe,isExcluded:Ne}=Q,{pdpPayloadData:Se,sopacPDPCustomization:Te,pdpDataForUpdateFoodLine:xe}=z,Ce=null===K||void 0===K||null===(t=K.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(f=a.pdp)||void 0===f?void 0:f.pdpToastShowDuration,Ee=null===K||void 0===K||null===(N=K.componentOptions)||void 0===N||null===(S=N.web)||void 0===S||null===(T=S.pdp)||void 0===T?void 0:T.pdpCateringItemQuantityLimit,_e=null===K||void 0===K||null===(x=K.componentOptions)||void 0===x||null===(C=x.web)||void 0===C||null===(E=C.pdp)||void 0===E?void 0:E.itemCountShouldAtModifierLevel,De=Object(b.h)(),ye=((e,t,a,i)=>{const{showCustomizationModId:o="",showCustomizationModGrpId:n=""}=i;return e?"".concat(n).concat(j.a.HASH_SYMBOL).concat(o).concat(j.a.HASH_SYMBOL).concat(a).concat(j.a.HASH_SYMBOL).concat(t):"".concat(a).concat(j.a.HASH_SYMBOL).concat(t)})(oe,Oe,se,Te),Ae=Object(l.Sd)(z.dispositionNew)?JSON.parse(localStorage.getItem(p.gd.DISPOSITION_NEW)):z.dispositionNew,Re=(null===Ae||void 0===Ae?void 0:Ae.type)&&Object(l.rf)(Object(l.Mb)(null===Ae||void 0===Ae?void 0:Ae.type)),Le=()=>Object(l.Td)(J)?J.totalQuantity:0;Object(i.useEffect)((()=>{if(void 0!==D){let e=Object(O.x)(Se,ye);Object(l.hb)(e!==D,null!==e)&&g(oe,Se,ye,D,q,k)}}),[D]),Object(i.useEffect)((()=>{if(void 0!==B){let e=Object(O.u)(Se,ye);if(Object(l.hb)(e!==B,null!==e)){g(oe,Se,ye,B?1:0,q,k)}}}),[B]),Object(i.useEffect)((()=>{if(ae){var e;let t=null===J||void 0===J||null===(e=J[se])||void 0===e?void 0:e[Oe];if(t)y(t.quantity),Y(t.quantityDisplay),(null===t||void 0===t?void 0:t.quantity)>0?G(!0):G(!1);else{let e=Object(l.ad)(je,pe,0),t=Object(l.ad)(le&&!oe,e,Object(O.x)(Se,ye));t=((e,t)=>{const{isExcluded:a,quantity:i,isModal:o,qty:n}=e;return a?0:null!==t&&void 0!==t&&t.foodLineId&&i&&!o?i:n})({isExcluded:Ne,qty:t,isModal:oe,quantity:fe},xe),X(Oe,se,"",t)}if(Object(l.Td)(J)){I(Le(),ve,F,q,z,se);let e=Le();R(e===ue)}}}),[Oe,J]);Object(i.useEffect)((()=>{if(te){let e=Object(l.ad)($.length>0,Object(O.u)(Se,ye),je),t=Object(l.ad)(oe,Object(O.u)(Se,ye),e),a=Object(m.d)(ee,z,Oe,t,void 0,le);Object(m.b)(a,G,Z,Q,$)}}),[Oe,ee,je,$,Z,B]);return Object(h.jsx)(n.default,{...e,isHidden:Ie,selectedProduct:B,updateItemQuantity:(e,t,a)=>{let i=Le();if(t===L.Decrease||ue>i){let e=Object(l.ad)(t===L.Decrease,i-1,i+1);I(e,ve,F,q,z,se),X(Oe,se,t);let a=Object(O.w)(Se,ye,1),o=Object(O.G)(Se,{price:a,flag:t},oe);q({type:k,value:o});let n=t===L.Decrease?Te.updatedPrice-a:Te.updatedPrice+a;q({type:M,value:{updatedPrice:n}})}else{let e=Object(h.jsx)(c.a,{srcFile:s.a.ErrorImage}),t="".concat(Object(v.translateWithI18Next)(w)).concat(ue," ").concat(Object(v.translateWithI18Next)(P));Object(l.Df)(t,e,"err-toast",!0),Ce&&setTimeout((()=>{r.b.dismiss()}),Ce)}},itemCount:V,isModgrpMax:A,onSaveProduct:()=>{let e={modgrpMax:ue,selectedProduct:B,modgrpMin:ve,name:he,size:ge,location:De,setInitialRender:de,savedModifierHandler:Z,setSelectedProduct:G,cardData:Q,savedModifiers:$,userOrderState:z,userOrderStateDispatch:q,modGrpName:me,pdpPayloadData:Se,objPath:ye,isModal:oe};Object(O.A)(e)},isStoreClosed:ne,handleCateringModifierQuantity:e=>{e.preventDefault();let t=Le(),a=+Object(l.pd)(be,U),i=+Object(l.pd)(be,W),o={modgrpMax:ue,modgrpMin:ve,modifierMax:a,modifierMin:i,modgrpCount:t,itemCount:D,SET_PDP_BUTTON_DISABLED:F,userOrderStateDispatch:q,userOrderState:z,modgrpId:se,pdpCateringItemQuantityLimit:Ee},n=Object(O.L)(e,o),d=n.valueToCount,r=n.valueToDisplay;if(!1!==d){X(Oe,se,null,d,r);let e=Object(O.w)(Se,ye,1),t=e*d-e*D,a=Object(O.G)(Se,{price:t,flag:L.Increase},oe);q({type:k,value:a});let i=Te.updatedPrice+t;q({type:M,value:{updatedPrice:i}})}},dispositionType:Re,kilojoule:K.kilojoule,defaultImagePath:Object(l.bc)(null,K,!0),itemCountShouldAtModifierLevel:_e,customizeClickHandler:e=>(e=>{const{event:t,id:a,modgrpId:i,userOrderStateDispatch:o,SHOW_PDP_CUSTOM_MODAL:n,modGrpName:l}=e;t.preventDefault(),t.stopPropagation(),o({type:n,value:{showPDPCustomization:!0,modifierId:a,modgrpId:i,modgrpName:l,updatedPrice:0}})})({event:e,id:Oe,modgrpId:se,userOrderStateDispatch:q,SHOW_PDP_CUSTOM_MODAL:H,modGrpName:me}),localized:ce,showButton:(null===Q||void 0===Q||null===(_=Q.modgrps)||void 0===_?void 0:_.length)>0&&ce&&!ne&&!oe,catalog:re,savedCustomizedModifier:J})}},1153:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(6),a(106),a(92);var i=a(5),o=(a(1175),a(1142),a(20),a(398)),n=(a(41),a(146),a(15));a(2);const{CARD_TYPE:{CAROUSAL:l,MEDIUM:d}}=o.o,{CartError:r}=n.a,c=e=>Object(i.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return v}));var i=a(158);let o,n,l,d,r=[],c="";const s=(e,t,a,i)=>{if(o=e,n=t,r=a,d=i,r.length>0){let a=r.map((e=>{const{latitude:t,longitude:a}=e&&e.storeBasic.location;return{lat:t,lng:a}})),i=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...i].slice(0,24),destinations:[...a].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let a=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e));let o=e&&e.originAddresses&&e.originAddresses[0]||"";a=r.map(((e,t)=>({...e,...i[t]}))),d(a,o)},v=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},m),l=a},m=(e,t)=>{if(t===i.a.OK_STATUS){let t=[],a=e&&e.rows&&e.rows.map((e=>e));t=null===a||void 0===a?void 0:a.map((e=>e.elements[0])),c=e&&e.originAddresses||[],l({allStoreDistance:t,originAddressText:c})}}},1159:function(e,t,a){"use strict";var i=a(964);a.d(t,"a",(function(){return i.default}))},1160:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1162:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return N}));var i=a(1127),o=a(42),n=a.n(o),l=(a(21),a(5),a(20)),d=a.n(l),r=a(112),c=a(55),s=a(2);const u=e=>{const{FOOTER_LOGO:t,FOOTER_SECTION:a,FIND_A_KFC_SECTION:o,APP_LINKS:l,SOCIAL_SECTION:d,COPYRIGHT:r,HEADLINE:c}=i.a,s={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},u={languageDropdown:{},copyrightContentData:{},socialMediaContent:[],copyrightNavLinks:[]};for(const i of e){const e=n()(i,"sys.contentType.sys.id"),f=n()(i,"fields.category");if(e===t){const{url:e,altText:t}=O(i.fields);s.kfcLogo={src:e,alt:t}}else if(f===o){var m,j,h;const e=null===i||void 0===i||null===(m=i.fields)||void 0===m||null===(j=m.links)||void 0===j||null===(h=j[0].fields)||void 0===h?void 0:h.linkText;s.kfcStoreSearch={...g(i.fields.links[0].fields),name:e}}else if(f===l)s.downloadAppButtons=v(i.fields.links);else if(f===d)u.socialMediaContent=b(i.fields.links);else if(f===r){var I;null===i||void 0===i||null===(I=i.fields)||void 0===I||I.links.forEach((e=>{var t,a,i;if((null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(a=t.contentType)||void 0===a||null===(i=a.sys)||void 0===i?void 0:i.id)===c){const{headline:t}=e.fields;u.copyrightContentData={name:t}}else{const{linkText:t,title:a,internalurl:i,externalurl:o}=e.fields;u.copyrightNavLinks=[...u.copyrightNavLinks,{linkText:t,title:a,internalurl:i,externalurl:o}]}}))}else e===a&&s.categories.push(p(i.fields))}return{bodyContent:s,footerContent:u}},v=e=>e.map((e=>({...m(e.fields),name:e.fields.title})))||[],m=e=>{const{url:t,desktopImage:a={fields:{}}}=e,{file:i={}}=a.fields,{url:o=""}=i;return{linkTo:t,url:o}},b=e=>e.map((e=>{const{externalurl:t,icon:a={}}=e.fields,{url:i}=O(a.fields);return{...{linkTo:t,url:i},name:e.fields.title}}))||[],O=e=>{const{desktopImage:t}=e;return t&&j(t)||{}},j=e=>{var t;const{url:a="",altText:i=""}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.file)||{};return{url:a,altText:i}},p=e=>{let t=[];const{category:a,links:i=[]}=e;return i.forEach((e=>{t.push(h(e.fields))})),{categoryHeaderText:a,subCategories:t}},h=e=>{var t,a,i,o,n,l,d,r,c,s;const{linkText:u,internalurl:v,externalurl:m}=e;return{name:u,linkTo:e.url||e.internalurl,internalurl:v,externalurl:m,icon:{desktopImage:null===e||void 0===e||null===(t=e.icon)||void 0===t||null===(a=t.fields)||void 0===a||null===(i=a.desktopImage)||void 0===i||null===(o=i.fields)||void 0===o||null===(n=o.file)||void 0===n?void 0:n.url,mobileImage:null===e||void 0===e||null===(l=e.icon)||void 0===l||null===(d=l.fields)||void 0===d||null===(r=d.mobileImage)||void 0===r||null===(c=r.fields)||void 0===c||null===(s=c.file)||void 0===s?void 0:s.url}}},g=e=>{const{linkTo:t,icon:a={},title:i,externalurl:o}=e,{url:n}=O(a.fields);return{linkTo:t,url:n,title:i,externalurl:o}},I=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},f=e=>(null===e||void 0===e?void 0:e.title)===(null===i.a||void 0===i.a?void 0:i.a.COOKIES_SETTINGS)?Object(s.jsx)("span",{onClick:I,children:null===e||void 0===e?void 0:e.linkText}):null===e||void 0===e?void 0:e.linkText,N=e=>null===e||void 0===e?void 0:e.map((e=>{const t=e.internalurl,a=d()(t)?e.externalurl:null;return Object(s.jsxs)("li",{id:e.title,children:[(!d()(t)||(null===e||void 0===e?void 0:e.title)===(null===i.a||void 0===i.a?void 0:i.a.COOKIES_SETTINGS))&&Object(s.jsx)(r.b,{to:t,onClick:()=>Object(c.r)(null===e||void 0===e?void 0:e.linkText),children:f(e)}),!d()(a)&&Object(s.jsx)("a",{href:a,target:"",onClick:()=>Object(c.r)(null===e||void 0===e?void 0:e.linkText),children:e.linkText})]})}))},1163:function(e,t,a){"use strict";var i=a(3),o=a(62),n=a(28),l=a(211),d=a(5),r=a(132),c=a(80),s=a(235),u=a(61),v=a(1118),m=a(6),b=a(35),O=a(1138),j=a(402),p=a(15),h=a(396),g=a(85),I=a(0),f=a(409),N=a(2);const{CARD_TYPE:S}=l.MENU_PLP_CONSTANT,{heartIcon_active:T,heartIcon_activeFavourite:x,FavoriteInActiveWhite:C,heartIcon_inactive_red:E}=p.a,_=(e,t,a,i,o,n)=>e===S.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===S.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===S.SMALL?((e,t,a,i,o)=>e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||o)?"small-menu-product-card product-card-active":!e&&(t||a||i||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,o,n):e===S.CAROUSAL?"carousal-menu-product-card":void 0,D=e=>e===S.LARGE?"menu-product-image":e===S.MEDIUM?"medium-menu-product-image":e===S.SMALL?"small-menu-product-image":e===S.CAROUSAL?"carousal-menu-product-image":void 0,y=(e,t,a,i,o)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:r}=o;return e===S.LARGE?"menu-product-header":e===S.MEDIUM?"medium-menu-product-header":e===S.SMALL?t||a||i||n||l||d||r?"small-menu-product-header-shift small-menu-product-header":"small-menu-product-header":e===S.CAROUSAL?"carousal-menu-product-header":void 0},A=e=>e===S.LARGE?"menu-vegOrNonVeg":e===S.MEDIUM?"medium-menu-vegOrNonVeg":e===S.SMALL?"small-menu-vegOrNonVeg":e===S.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,R=e=>e===S.LARGE?"menu-product-price":e===S.MEDIUM?"medium-menu-product-price":e===S.SMALL?"small-menu-product-price":e===S.CAROUSAL?"carousal-menu-product-price":"",L=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",w=e=>e===S.LARGE?"menu-product-description":e===S.MEDIUM?"medium-menu-product-description":e===S.SMALL?"small-menu-product-description":e===S.CAROUSAL?"carousal-menu-product-description":"",P=(e,t)=>e?"cardButton "+t:"cardButtonOnly "+t,k=e=>{const{ADD_TO_CART:t}=s.a;let a=Object(m.translateWithI18Next)(t),i="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",i="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",i="store-closed",o=!1),{btnText:a,className:i,enabled:o}},M=(e,t,a,i)=>e?"".concat(((e,t)=>{let a,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case S.LARGE:a="menu-cart-button";break;case S.MEDIUM:a="medium-menu-cart-button";break;case S.SMALL:a="small-menu-cart-button";break;case S.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(i," ").concat(a)})(t,a)," ").concat(k(i).className):"button btn-black medium-menu-cart-button",F=(e,t,a,i,o,n)=>{let r;return r=n?Object(N.jsx)("span",{"data-testid":"exclusive-id",children:n}):e||(t||(a?Object(N.jsx)("span",{"data-testid":"exclusive-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(N.jsx)("span",{"data-testid":"new-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(d.ad)(o,Object(N.jsx)("span",{"data-testid":"topseller-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null))),r},U=e=>e===S.CAROUSAL?T:x,W=e=>e===S.CAROUSAL?C:E,H=(e,t)=>Boolean(e)&&"recommended"!==t,B=(e,t)=>{let a;return a=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"price-display",children:"old price"}),Object(N.jsxs)("span",{className:"base-price-menu",children:[l.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.a=e=>{var t,a,l,s,m,p,T,x;const{cardId:C,cardType:E,discount:G,specials:V,exclusive:Y,timer:z,availability:q=[],nextAvailableTime:K,isAvailable:Q,tenantData:J,customizable:X,categoryId:Z,activeId:$,addFavourite:ee,removeFavourite:te,item:ae,isHidden:ie,cardFor:oe,setShowTopScrollBtn:ne,userParams:le,productContent:de,plpbackgroundImageData:re,viewUp:ce}=e,se=Object(d.od)(null===le||void 0===le?void 0:le.localized,null===le||void 0===le?void 0:le.loggedIn),ue=Object(r.b)(c.b),{QUANTITY_ACTION:ve}=u.a,me=Object(n.b)(),be=null===J||void 0===J?void 0:J.tenantId,{componentOptions:Oe={}}=J,{PlpProductCard:je={}}=Oe,{allowClickOnProductCard:pe=!1}=je,he=Object(n.c)((e=>e.cartReducer)),ge=Object(n.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:Ie={},isAddItemLoading:fe=!1}=Object(d.sd)(he),{discountTotal:Ne,couponCode:Se}=Object(d.zb)(Ie),[Te,xe]=Object(i.useState)(0),[Ce,Ee]=Object(i.useState)(null),[_e,De]=Object(i.useState)(0),ye=null===ge||void 0===ge?void 0:ge.id,Ae=Object(n.c)((e=>{var t;return Object(d.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[Re,Le]=Object(i.useState)(!0),[we,Pe]=Object(i.useState)("product"),{flatResponse:{productMapByItemId:ke={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Me,Fe]=Object(i.useState)(""),[Ue,We]=Object(i.useState)(0),[He,Be]=Object(i.useState)([]),[Ge,Ve]=Object(i.useState)(!1),[Ye,ze]=Object(i.useState)(""),[qe,Ke]=Object(i.useState)(!1),Qe=Object(o.h)(),Je=Object(n.c)((e=>e.storesReducer)),Xe=(null===Je||void 0===Je||null===(a=Je.storesWithStatus)||void 0===a?void 0:a.length)&&(null===Je||void 0===Je||null===(l=Je.storesWithStatus[0])||void 0===l||null===(s=l.summary)||void 0===s?void 0:s.timeZoneIANA),Ze=null===Oe||void 0===Oe||null===(m=Oe.web)||void 0===m||null===(p=m.global)||void 0===p?void 0:p.pricewithNumberofDecimalDigit,{userOrderStateDispatch:$e,userOrderState:et}=Object(i.useContext)(g.a),{timeBasedCetegory:tt,timeBasedAlertModalData:at}=et,it=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),ot=Object(n.c)((e=>Object(d.sd)(e.storesReducer))),nt=null===Oe||void 0===Oe||null===(T=Oe.web)||void 0===T||null===(x=T.plp)||void 0===x?void 0:x.removeSingleItemInCartFromPLP,lt=(null===ot||void 0===ot?void 0:ot.storesWithStatus)&&Object(f.b)(null===ot||void 0===ot?void 0:ot.storesWithStatus[0]);Object(i.useEffect)((()=>{oe&&Pe(oe)}),[oe]),Object(i.useEffect)((()=>{const e=Object(d.Td)(Ie)?Object(d.mc)(C,Ie):{},t=Object(d.ad)(Object(d.Td)(e),e.count,0),a=Object(d.ad)(Object(d.Td)(e),e.matchedItemFoodLineId,""),i=Object(d.ad)(Object(d.Td)(e),e.entriesCount,0),o=Object(d.ad)(Object(d.Td)(e),e.itemUnitPrice,"");xe(t),Ee(a),De(i),We(o)}),[Ie,C]);const dt=Object(i.useCallback)((()=>{Fe(_(E,pe,G,V,Y,z))}));Object(i.useEffect)((()=>{dt()}),[dt]);const rt=Object(i.useMemo)((()=>Object(d.ad)(re,re,{})),[re]);Object(i.useEffect)((()=>{Le(!0)}),[Te]),Object(i.useEffect)((()=>{let e=Object(j.j)(null===Qe||void 0===Qe?void 0:Qe.pathname);Ke(e.showCateringflag)}),[null===Qe||void 0===Qe?void 0:Qe.pathname]);const ct=e=>{if(null!==Ie&&void 0!==Ie&&Ie.id){let t=null===Ie||void 0===Ie?void 0:Ie.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Be(t)}ze(e),Ve(!0)},st=Object(d.hb)(fe,$===C);return!ie&&!((e,t,a,i)=>((null===e||void 0===e?void 0:e.isReviewOrderClick)||(null===e||void 0===e?void 0:e.isCloseButtonClicked))&&Object(h.b)(t,a,i))(at,it,lt,null===e||void 0===e?void 0:e.id)&&Object(N.jsx)(O.a,{...e,getCardTypeName:_,"data-testid":"MenuPlpTestId",allowClickOnProductCard:pe,getProductImageClassName:D,getSpecificRibbonBanner:F,favouriteItems:Ae,classFavouriteIconActive:U,getCardName:Me,favouriteButtonClickHandler:()=>{Object(d.hb)(Array.isArray(Ae),null===Ae||void 0===Ae?void 0:Ae.find((e=>(null===e||void 0===e?void 0:e.id)===(null===ae||void 0===ae?void 0:ae.id))))?te(be,ye,ae.id):(async(e,t,a,i)=>{var o;const n=Object(d.td)(null===(o=a[0])||void 0===o?void 0:o.price),l={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===J||void 0===J?void 0:J.currencyConversionFactor),additionalProperties:t.additionalProperties};await ee(e,l,i),await me(Object(b.v)({showProductListingModal:!1,categorySelected:Z}))})(be,ae,q,ye)},itemCount:Te,classFavouriteIconInActive:W,getMenuProductHeader:y,getVegNonvegClassName:A,menuProductPriceClassName:R,checkForBasePriceInMenu:H,cardCat:we,displayPrice:B,getPriceClassName:L,menuProductDescriptionClassName:w,updateItemQuantity:(t,a)=>{var i;null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const o=Object(h.g)(null===e||void 0===e?void 0:e.cardId,null===it||void 0===it?void 0:it.flatResponse),n=Object(h.d)(C,tt);if(!Object(h.c)({categoryUrl:o,itemInCart:n,alertType:Object(h.j)(null===tt||void 0===tt?void 0:tt.timebasedItemInCart,null===I.Sb||void 0===I.Sb?void 0:I.Sb.ITEM),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.cardId},{...tt,menuData:it,foodLinesItems:(null===he||void 0===he||null===(i=he.cartData)||void 0===i?void 0:i.foodLines)||[]},$e)&&le.localized){const e=Number((Ue/(null===J||void 0===J?void 0:J.currencyConversionFactor)).toFixed(2));let t={foodName:null===ae||void 0===ae?void 0:ae.name,foodItemId:null===ae||void 0===ae?void 0:ae.mdmId,cartPrice:e,modifiers:[],quantity:Te,foodLineId:Ce};const{itemQuantityHandler:i,itemRemoveHandler:o}=Object(v.a)({cartId:null===Ie||void 0===Ie?void 0:Ie.id},null===J||void 0===J?void 0:J.tenantId,void 0,ke,void 0,me,void 0,se,null===J||void 0===J?void 0:J.currencyShortName,void 0,ue,Se,Ne,null===J||void 0===J?void 0:J.currencyConversionFactor);a===ve.Increase?X&&Te>=1?ct(null===t||void 0===t?void 0:t.foodItemId):(!X&&Le(!1),i(t,ve.Increase)):_e>1?ct(null===t||void 0===t?void 0:t.foodItemId):(Le(!1),nt&&1===(null===t||void 0===t?void 0:t.quantity)?o(t):i(t,ve.Decrease))}},classesCardButton:P,classEnableAddToCart:M,enableAddToCartButton:Re,checkLoading:st,menuCardBtnText:k,itemFoodlineId:Ce,openCostomizedModal:Ge,filteredPreviousData:He,setOpenCostomizedModal:Ve,cartData:Ie,CARD_TYPE:S,setShowTopScrollBtn:ne,FoodId:Ye,plpbackgroundImageSrc:rt,storeTimeZone:Xe,showCateringflag:qe,serves:null===de||void 0===de?void 0:de.serves,imageurl:null!==de&&void 0!==de?de:null===ae||void 0===ae?void 0:ae.content,nextAvailableTime:K,isAvailable:Q,pricewithNumberofDecimalDigit:Ze,viewUp:ce})}},1165:function(e,t,a){"use strict";a.d(t,"b",(function(){return te})),a.d(t,"c",(function(){return ie}));var i=a(3),o=a.n(i),n=a(210),l=a(28),d=a(6),r=a(146),c=a(395),s=a(5),u=a(80),v=a(263),m=a(46),b=a(15),O=a(1098),j=a(262),p=a(2);const h=e=>{let{upsizeInfo:t,upSizeHandler:a,itemSelected:i,customizable:o}=e;const n=e=>o?Object(p.jsx)("span",{className:"size-desc",children:e.itemDesc}):Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"size-desc size-desc-price",children:e.price}),e.calories&&Object(p.jsx)("span",{className:"size-desc size-desc-cal",children:e.calories})]});let l=(e,t,o,l)=>Object(p.jsxs)("div",{className:"modifier-size",children:[Object(p.jsxs)("div",{className:"size-info",children:[Object(p.jsx)("span",{className:"size-title",children:t}),n(o)]}),Object(p.jsxs)("picture",{onClick:()=>e!==i&&((e,t)=>{var i;a(e);const o={name:null===t||void 0===t?void 0:t.itemDesc,size:null===t||void 0===t||null===(i=t.itemDesc)||void 0===i?void 0:i.split(" ")[0]};Object(O.e)(o,j.a.ADDONS)})(e,o),"data-testid":"upsize-handler-id-".concat(l),children:[Object(p.jsx)("source",{media:"(max-width: 1023px)",srcSet:e===i?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===i?"checked":""}),Object(p.jsx)("img",{src:e===i?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===i?"checked":""})]})]},l);return Object(p.jsx)("div",{className:"sopac-upsize",children:Object(s.pc)(t)&&t.map(((e,t)=>{let{id:a,title:i,desc:o}=e;return l(a,i,o,t)}))})};var g=o.a.memo(h),I=a(0),f=a(4),N=a(85),S=a(1095),T=a(1167),x=a(1162);const C=()=>{const{headerData:{footer:e={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),t=Object(s.Wb)(e),{bodyContent:a={}}=Object(x.b)(t)||{},{categories:i=[]}=a,o=(e=>e.flatMap((e=>e.subCategories.filter((e=>e.internalurl===I.pc.NUTRITION_ALLERGEN_GUIDE_LINK)).map((e=>e.internalurl)))))(i),n=o[0],{ALLERGY_NUTRITION_TEXT:r}=j.a;return Object(p.jsx)("a",{className:"non-ala-carte-alert-link","data-testid":"nutritionAllergenLink1",href:n,type:"external",rel:"noreferrer",children:Object(d.translateWithI18Next)(r)})};var E=o.a.memo(C),_=a(1139),D=a(264),y=a(1123);const A=e=>!!e&&"".concat(Object(d.translateWithI18Next)(null===f.a||void 0===f.a?void 0:f.a.SERVES)," ").concat(e),R=e=>{var t,a,o,n,r,c,O,h,x,C,R,w,P;const{cardId:k,calories:M,customizable:F,price:U,upsizeInfo:W,upSizeHandler:H,showAddToCartButton:B,availability:G,isStoreClosed:V,kilojoule:Y,pdpCardObject:z,pdpPromoPage:q,storeTimeZone:K,modgrps:Q,servesCount:J,imageName:X}=e,Z=Object(l.b)(),$=Object(l.c)((e=>e.tenantReducer)),ee=Object(l.c)(u.b),{hiddenCouponDetails:te}=Object(l.c)((e=>e.cartReducer)),{storesWithStatus:ae}=Object(l.c)((e=>e.storesReducer)),[ie,oe]=Object(i.useState)({}),{userOrderState:ne,userOrderStateDispatch:le}=Object(i.useContext)(N.a),de=null===(t=null===X||void 0===X?void 0:X.hideAllergenInformation)||void 0===t||t,re=null===(a=null===X||void 0===X?void 0:X.hideNutritionInformation)||void 0===a||a,ce=(null===(o=ae[0])||void 0===o||null===(n=o.summary)||void 0===n?void 0:n.timeZoneIANA)||Object(s.Vc)(),se=null===$||void 0===$||null===(r=$.componentOptions)||void 0===r||null===(c=r.web)||void 0===c||null===(O=c.pdp)||void 0===O?void 0:O.showAllergyNutrition,ue=null===$||void 0===$||null===(h=$.componentOptions)||void 0===h||null===(x=h.web)||void 0===x||null===(C=x.pdp)||void 0===C?void 0:C.showPriceNonLocalized,{currencyConversionFactor:ve,currencySymbol:me}=$,be=null===$||void 0===$||null===(R=$.componentOptions)||void 0===R||null===(w=R.pdp)||void 0===w?void 0:w.redirectAllergyNutritionInfo,{userParams:Oe}=z,{nutritionAllergenHandler:je,showNutritionAllergenModal:pe}=(null===(he=e)||void 0===he?void 0:he.nutritionDetails)||{};var he;const{ALLERGY_NUTRITION_TEXT:ge,PDP_CHOOSE_STORE:Ie,MODGROUPMAX:fe,SELECTED_ITEM_NOT_AVAILABLE:Ne,OUT_OF_STOCK_ITEM_TEXT:Se}=j.a,Te=e,{pdpPayloadData:xe}=ne;z[fe]=null===Q||void 0===Q||null===(P=Q[0])||void 0===P?void 0:P.max,z[Ne]=Object(s.jb)(null===Te||void 0===Te?void 0:Te.isExcluded,Object(S.c)(xe)),z.itemId=k,Object(i.useEffect)((()=>{te&&Object(_.b)(null===te||void 0===te?void 0:te[0],le,Z)}),[]),Object(i.useEffect)((()=>{oe(((e,t)=>e&&t&&Object(S.k)(e,t))(G,ce))}),[G,ce]);const Ce=(e,t)=>{var a,i,o,n,l;const r=ee[I.gd.VIEW_PRODUCT],c=[Object(S.k)(null===r||void 0===r||null===(a=r.priceDetails)||void 0===a||null===(i=a.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===i?void 0:i.availability,ce)],s=(null===c||void 0===c||null===(o=c[0])||void 0===o?void 0:o.promoPrice)<(null===c||void 0===c||null===(n=c[0])||void 0===n?void 0:n.price)?null===c||void 0===c||null===(l=c[0])||void 0===l?void 0:l.promoPrice:0,u=s?{...null===c||void 0===c?void 0:c[0],price:s}:t;return s&&q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{"data-testid":"pdp-promos-with-price",className:"pdp-promos-container with-price",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img"}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(d.translateWithI18Next)(f.a.PROMO_TEXT)}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(p.jsx)("del",{children:U(F,null===c||void 0===c?void 0:c[0],!1,K)})})]}),Object(p.jsx)("span",{className:"price-info",children:U(F,u,!1,K)})]}):q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(f.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price",children:U(F,t,!1,K)})]}):Object(p.jsx)("span",{className:"price-info","data-testid":"pdp-item-price",children:U(F,t,!1,K)})},Ee=Object(p.jsx)("div",{className:"allergy-info",children:be?Object(p.jsx)(E,{}):Object(p.jsx)(v.a,{onClickHandler:je,className:"allergy-info-link","data-testid":"allergy-info",children:Object(d.translateWithI18Next)(ge)})}),_e=Object(s.j)([null===Oe||void 0===Oe?void 0:Oe.localized,!V,W.length>0])?Object(p.jsx)(g,{upsizeInfo:W,upSizeHandler:H,itemSelected:k,customizable:F}):null,De=Object(s.Cd)(null===Te||void 0===Te?void 0:Te.modgrps)?Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Se)})]}):null,ye=Object(s.jb)(!(null!==Oe&&void 0!==Oe&&Oe.localized),V)&&Object(p.jsxs)("div",{className:"pdp-summary-cart-notification",children:[!!te.length&&Object(p.jsx)(L,{hiddenCouponDetails:te,currencySymbol:me,currencyConversionFactor:ve}),Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Ie)})]})]}),Ae=Object(s.hb)(ue,!V)&&Object(p.jsx)("div",{className:"price-kj-info",children:Ce(k,ie)}),Re=Object(s.hb)(null===Oe||void 0===Oe?void 0:Oe.localized,!V)&&Object(p.jsxs)("div",{className:"price-kj-info",children:[Ce(k,ie),Object(p.jsx)("span",{className:"kj-css",children:M&&Object(p.jsxs)("span",{className:"kj-info","data-testid":"pdp-kj-value",children:["".concat(M," ").concat(Y)," \xa0 ",A(J)]})})]}),Le=Object(s.j)([B,null===Oe||void 0===Oe?void 0:Oe.localized,!V])&&Object(p.jsx)(y.a,{...z,pdpPromoPage:q}),we=Object(p.jsx)(T.a,{isMobile:z.isMobile,summaryData:Te});return Object(p.jsxs)(p.Fragment,{children:[ue?Ae:Re,se&&(!de||!re)&&Ee,_e,ye,De,Le,pe&&we]})},L=e=>{var t,a;let{hiddenCouponDetails:i,currencySymbol:o,currencyConversionFactor:n}=e;const l=null===i||void 0===i||null===(t=i[0].itemDetails)||void 0===t||null===(a=t[0].availability)||void 0===a?void 0:a[0],r=Object(s.Xc)(l,n);return Object(p.jsxs)("div",{className:"price-kj-info",children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(f.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price","data-testid":"price-container",children:"".concat(o).concat(r)})]})},w=e=>{let{summaryData:t,pdpPromoPage:a,storeTimeZone:i,nutritionAllergenHandler:o,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}=e;const{pdpCardObject:v,comboData:m,customizable:b,makeItComboHandler:O,showMakeItComboButton:j}=t,h=Object(s.j)([!b,m>0,j])&&Object(p.jsx)(r.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(p.jsx)(c.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:O,children:Object(p.jsx)("span",{children:Object(d.translateWithI18Next)("makeItACombo")})})});return Object(p.jsx)("div",{className:"pdp-receipt-card",children:Object(p.jsxs)("form",{className:"pdp-receipt-form",onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[Object(p.jsx)("h1",{className:"pdp-receipt-header","data-testid":"pdp-item-name",children:null===v||void 0===v?void 0:v.dName}),Object(p.jsx)(R,{...t,pdpPromoPage:a,storeTimeZone:i,nutritionDetails:{nutritionAllergenHandler:o,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}}),h]})})};var P=o.a.memo(w),k=a(145),M=a(1103),F=a(235),U=a(132),W=a(1140);const H=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name",B=(e,t,a,i,o,n,l)=>{const{REGULAR_SIZE_TITLE:r,REGULAR_SIZE_DESC:c,UPSIZE_TITLE:u,UPSIZE_DESC:v}=j.a;var m;n||null!==l&&void 0!==l&&l.isProductPromo||(t=null===(m=t)||void 0===m?void 0:m.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))));let b=[];if(e){var O,p;let e=((e,t)=>Object(s.Ec)(e[1].availability[0],t).toFixed(I.gg)-Object(s.Ec)(e[0].availability[0],t).toFixed(I.gg))(t,i);b=[{id:null===(O=t[0])||void 0===O?void 0:O.id,title:"".concat(Object(d.translateWithI18Next)(r)),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(c))}},{id:null===(p=t[1])||void 0===p?void 0:p.id,title:"".concat(Object(d.translateWithI18Next)(u)," (+").concat(a).concat((+e).toFixed(2),")"),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(v))}}]}else{let e={};t.forEach((t=>{let n=Object(s.Ec)(t.availability[0],i).toFixed(I.gg),l=Object(s.pd)(t.additionalProperties,I.F);e={id:t.id,title:H(t),desc:{price:n>0?"".concat(a).concat(n):"",calories:0===l?"":" ".concat(l," ").concat(o)}},b.push(e)}))}return b};var G=e=>{var t,a,o,n,r,c,v,m,b;const O=Object(l.b)(),[h,g]=Object(i.useState)(""),[f,T]=Object(i.useState)([]),[x,C]=Object(i.useState)({}),[E,_]=Object(i.useState)(!1),[D,y]=Object(i.useState)(!1),A=Object(l.c)((e=>e.tenantReducer)),{cartData:R}=Object(l.c)((e=>e.cartReducer))||{},L=Object(l.c)((e=>e.appStateReducer.userStatus)),w=Object(U.b)(u.b),{pdpData:G,customModGrps:V={},isIpad:Y,isMobile:z,comboData:q,isStoreClosed:K,isItemDecreased:Q,quantityRemovedObject:J,itemStatus:X,prodQuantity:Z,quantityUpdate:$,addtoCartClinckHandler:ee,setItemStatus:te,setProdQuantity:ae,storeTimeZone:ie,imageContainerSize:oe,pdpbackgroundImageData:ne}=e,{dname:le,additionalProperties:de={},availability:re,modgrps:ce,catalogName:se,customizable:ue,items:ve=[]}=G||{},{EXPAND_ACCORDIAN:me,IS_IN_STOCK:be,IS_OUT_OF_STOCK:Oe,OUT_OF_STOCK_TEXT:je,PDP_ITEM_UPSIZE_ID:pe}=j.a,he=null===A||void 0===A||null===(t=A.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.pdp)||void 0===o?void 0:o.pdpCateringItemQuantityLimit,{TURNED_NO_RESULTS_TEXT:ge}=M.a,{veg:Ie}=de,fe=null===A||void 0===A||null===(n=A.componentOptions)||void 0===n||null===(r=n.web)||void 0===r||null===(c=r.global)||void 0===c?void 0:c.pricewithNumberofDecimalDigit,Ne=null===A||void 0===A||null===(v=A.componentOptions)||void 0===v||null===(m=v.web)||void 0===m||null===(b=m.pdp)||void 0===b?void 0:b.skipZeroPriceCheck,{userOrderState:Se,userOrderStateDispatch:Te}=Object(i.useContext)(N.a),{eventAvailabilities:xe,fetchEventItemAvailability:Ce,getEventItemAvailability:Ee,isEvent:_e}=(Object(s.Sd)(null===Se||void 0===Se?void 0:Se.dispositionNew)?JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW)):null===Se||void 0===Se||Se.dispositionNew,Object(W.a)()),{pdpScreenCommons:{currentAccordian:De},pdpPromoPage:ye,pdpDataForUpdateFoodLine:Ae}=Se;Object(i.useEffect)((()=>{((e,t,a)=>{var i;Object(s.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)&&a(null===(i=Object(s.Ub)(t))||void 0===i?void 0:i.id)})(V,ce,g)}),[V,ce]);const Re=()=>{if(X===Oe)return!1},Le=(e,t)=>{if(X===Oe)return!1;e&&(e.preventDefault(),e.stopPropagation()),Te({type:me,value:t});const a=document.getElementById("accordion-"+t);null===a||void 0===a||a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),g(t)};Object(i.useEffect)((()=>(Ce(),()=>{Te({type:me,value:""})})),[]),Object(i.useEffect)((()=>{Object(s.ad)(De,Le(null,De),"")}),[De]);const we=e=>{Object(s.ad)(Re()?"":Re()),e.preventDefault()},Pe=e=>{Object(S.B)(e,he,ae)},ke=e=>{Se.pdpItemUpsizeId!==e&&(Te({type:pe,value:{pdpItemUpsizeId:e}}),O(Object(k.c)({tenantId:null===A||void 0===A?void 0:A.tenantId,catalogName:null===G||void 0===G?void 0:G.catalogName,itemId:e})))};Object(i.useEffect)((()=>{if(Object(s.Td)(G)){let e=ve.length>1?B(ue,ve,A.currencySymbol,A.currencyConversionFactor,A.kilojoule,ye,Ae):[];T(e)}}),[G]),Object(i.useEffect)((()=>{if(_e){Ee(null===G||void 0===G?void 0:G.id)?X===Oe&&te(be):te(Oe)}}),[xe,Ee,_e,null===G||void 0===G?void 0:G.id,R]);const Me=(e,t,a,i)=>{let o=Object(S.j)(t,null===A||void 0===A?void 0:A.currencyConversionFactor,a,null===G||void 0===G?void 0:G.id,i,w);if(!Ne&&!e&&0===o)return te(Oe),Object(d.translateWithI18Next)(je);let n=(Math.round(o*I.hg)/I.hg).toFixed(fe);return"".concat(null===A||void 0===A?void 0:A.currencySymbol).concat(n)};return Object(i.useEffect)((()=>{let t=void 0!==K,a=void 0!==h,i=[Object(s.Td)(G),Object(s.pc)(ve)>0,a,Array.isArray(f),(null===se||void 0===se?void 0:se.length)>0,Object(s.Td)(A),t];if(Object(s.j)(i)){var o,n,l,d,r,c,u,v,m,b,O;const t=w[I.gd.VIEW_PRODUCT],{ITEM_QUANTITY:a}=F.a;let i={servesCount:null===G||void 0===G||null===(o=G.content)||void 0===o?void 0:o.serves,cardId:G.id,veg:Ie,calories:null===G||void 0===G||null===(n=G.content)||void 0===n?void 0:n.caloricValue,modgrps:ce,customizable:ue,isActive:h,setAsActiveLink:Le,isIpad:Y,makeItComboHandler:we,comboData:q,price:Me,catalogs:se,upsizeInfo:f,upSizeHandler:ke,showAddToCartButton:null===A||void 0===A||null===(l=A.componentOptions)||void 0===l||null===(d=l.web)||void 0===d||null===(r=d.pdp)||void 0===r?void 0:r.addToCartButton,showMakeItComboButton:null===A||void 0===A||null===(c=A.componentOptions)||void 0===c||null===(u=c.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.makeItComboButton,pdpCardObject:{prodQuantity:Z,userParams:L,quantityUpdate:$,dName:H(G),maxItemCountPerLineItem:Object(S.o)(ye,t,G.id,he),minItemCountPerLineItem:Object(S.p)(ye,t,G.id,he),addtoCartClinckHandler:ee,itemStatus:X,currencySymbol:null===A||void 0===A?void 0:A.currencySymbol,currencyConversion:null===A||void 0===A?void 0:A.currencyConversionFactor,isMobile:z,itemQuantity:Object(S.n)(ye,t,G.id,a),handleProdQuantityForCatering:Pe,defaultdisposition:null===A||void 0===A||null===(m=A.authoredContent)||void 0===m?void 0:m.defaultdisposition,isItemDecreased:Q,quantityRemovedObject:J,categoryId:null===e||void 0===e?void 0:e.categoryId},availability:G.availability,isStoreClosed:K,isItemDecreased:Q,kilojoule:null===A||void 0===A?void 0:A.kilojoule,allergenDetails:null===G||void 0===G||null===(b=G.content)||void 0===b?void 0:b.allergenInformation,nutritionalDetails:null===G||void 0===G||null===(O=G.content)||void 0===O?void 0:O.nutritionalInformation,imageName:null===G||void 0===G?void 0:G.content,imageContainerSize:oe,pdpbackgroundImageData:ne,isExcluded:null===G||void 0===G?void 0:G.isExcluded};C(i),_(!0)}}),[le,re,Ie,se,h,ce,X,z,Y,q,L,f,null===A||void 0===A?void 0:A.maxItemCountPerLineItem,Z,K,ve]),Object(s.ad)(E,Object(s.Td)(x)?Object(p.jsx)(P,{"data-testid":"pdp-summary-view",summaryData:x,pdpPromoPage:ye,storeTimeZone:ie,nutritionAllergenHandler:()=>{y(!0)},showNutritionAllergenModal:D,handleCloseModal:()=>{y(!1)},setNutritionAllergenModalOpen:y}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.translateWithI18Next)(ge)}),"")};var V=e=>{const{longDescription:t,isMobile:a,dispositionType:o,currentPDPProduct:n}=e,{SHORT:l,READ_MORE:r,READ_LESS:c,LONG:u,MAX_LENGTH_READ:v,OUT_OF_STOCK_ITEM_TEXT:O}=j.a,[h,g]=Object(i.useState)(""),[I,f]=Object(i.useState)(l);Object(i.useEffect)((()=>{t&&g(t)}),[t]);const N=()=>{f(I===l?u:l)};return Object(p.jsxs)("div",{className:"pdp-desc",children:[Object(p.jsx)("div",{className:"d-flex mb-4 mobile-desc",children:Object(p.jsx)(m.a,{srcFile:a?b.a.StripsIconMobile:b.a.StripesIcon,className:"stripes-img"})}),Object(p.jsxs)("h2",{className:"pdp-desc-header mobile-desc","data-testid":"meal-menu-header",children:[" ",Y(d.translateWithI18Next,o)," "]}),Object(s.Cd)(null===n||void 0===n?void 0:n.modgrps)&&!a&&Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(O)})]}),a?Object(p.jsxs)("div",{className:"desc-box mobile-desc-text",children:[I===l?Object(s.Hf)(h,v,!1):h,(null===h||void 0===h?void 0:h.length)>v?Object(p.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:N,children:I===l&&Object(d.translateWithI18Next)(r)||Object(d.translateWithI18Next)(c)}):Object(p.jsx)(p.Fragment,{})]}):Object(p.jsx)("div",{className:"desc-box",children:h})]})};function Y(e,t){return e(Object(s.ad)(Object(s.Hd)(t),j.a.BUNDLE_OPTIONS,j.a.MEAL_OPTIONS))}var z=a(16),q=a(1170),K=a(61),Q=a(1126),J=a(35);var X=e=>{let{showLegalInfo:t,isMobile:a}=e;const{LEGALINFOTEXT1:i,LEGALINFOTEXT2:o}=f.a;return t?Object(p.jsx)("div",{className:"".concat(a?"pdp-mobile-legal-info-container":"pdp-legal-info-container"),"data-testid":"pdp-legal-info",children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"legal-info-desc",children:[Object(d.translateWithI18Next)(i),Object(p.jsx)("br",{}),Object(d.translateWithI18Next)(o)]})})}):Object(p.jsx)(p.Fragment,{})},Z=a(62),$=a(159),ee=a(1137);const te=(e,t,a,i)=>{let o={combo:[],recommendation:[],addOnRecommendedItems:[],ruleName:{}};if(Object(s.pc)(e)){var n,l;let d=e.find((e=>{let{recommendationType:a}=e;return a===t})),r=e.find((e=>{let{recommendationType:t}=e;return t===a}));o.combo=Object(s.ad)(Object(s.Td)(d),null===d||void 0===d?void 0:d.recommendedItems,[]),o.recommendation=Object(s.ad)(Object(s.Td)(r),null===r||void 0===r?void 0:r.recommendedItems,[]);let c=e.find((e=>{let{recommendationType:t}=e;return t===i}));o.ruleName=Object(S.r)(c);const u=null!==(n=null===c||void 0===c?void 0:c.recommendedItems)&&void 0!==n?n:[],v=null!==(l=null===c||void 0===c?void 0:c.restrictedItems)&&void 0!==l?l:[];o.addOnRecommendedItems=Object(s.ad)(Object(s.Td)(c),[...u,...v],[])}return o},ae=(e,t,a,i)=>{var o,n;const{PDP_PRODUCT_MOBILE_IMG:l,PDP_PRODUCT_IMG:d}=j.a,r=Object(s.qc)(null===e||void 0===e?void 0:e.content,a.containerWidth,a.containerHeight);return null!==e&&void 0!==e&&null!==(o=e.content)&&void 0!==o&&null!==(n=o.image)&&void 0!==n&&n.mainImage?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(m.a,{srcFile:r,className:"".concat(Object(s.ad)(t,l,d))})}):Object(p.jsx)(p.Fragment,{})},ie=(e,t,a,i,o,n,l,d,r,c,s)=>{o({type:i,value:Object(S.l)(e,t,a,n,l,d,r,c,s)})},oe=()=>Object(s.Cf)(Object(d.translateWithI18Next)(null===f.a||void 0===f.a?void 0:f.a.PREFERENCES_ERROR_MSG)),ne=()=>Object(p.jsx)("div",{className:"pdp-custm-sopac",children:Object(p.jsx)("div",{className:"modal-body-row product-listing-component",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})}),Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})})]})})}),le=(e,t)=>{const{PDP_CUSTOMIZATION_PAGE:a,PDP_NON_CUSTOMIZATION_PAGE:i}=j.a,o=Object(s.hb)(Object(s.Hd)(e),!t)||t;return Object(s.ad)(o,a,i)},de=(e,t,a,i,o,n)=>Object(s.pc)(t)?Object(p.jsx)(q.a,{products:t,country:null===i||void 0===i?void 0:i.country,cssClass:"pdp-combo",header:a,subHeader:"",recommendedRule:e,source:o,categoryId:n.categoryId}):null,re=(e,t,a,i,o,n,l,d)=>{const{event:r,data:c,miniPDPData:u,totalAmount:v,cartId:m,pdpDataForUpdateFoodLine:b,cartData:O,storesWithStatus:j}=e;if(m&&r){const{paymentDiscountLines:a=[]}=O;null!==a&&void 0!==a&&a.length?(e=>{let{setCouponModal:t,parms:a,setAddToClickParms:i}=e;t(!0),i(a)})({setCouponModal:l,parms:e,setAddToClickParms:n}):(t(r,c,u,m,v,b,O),n({}))}else!m&&r&&(n(e),Object(s.B)(a,null===i||void 0===i?void 0:i.tenantId,o,j))},ce=function(e,t,a,i,o){var n;let l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?o.length>=0:0===o.length;if((null===e||void 0===e||null===(n=e.discountLines)||void 0===n?void 0:n.length)>0&&(d||l))return t&&(null===e||void 0===e?void 0:e.discountLines.some((e=>e.couponCode===a)))&&Object(s.Bd)(i)},se=(e,t)=>{const{pdpData:a,isMobile:i,imageContainerSize:o,isPdpDataLoading:n,pdpbackgroundImageData:l,displayBreadcrumbPDP:d,currentPDPProduct:r,pdpSummaryView:c}=e;return Object(p.jsxs)("div",{className:"".concat(i?"pdp-mobile-image-container-sopac":"d-flex"),children:[Object(p.jsx)("div",{className:"".concat(i?"mobile-background-image-container":"image-container"),style:Object(s.mb)(l,o.containerWidth,o.containerHeight),children:ae(a,i,o)}),i&&Object(p.jsx)("div",{className:"pdp-mobile-navigation",children:Object(S.b)(d,null===t||void 0===t?void 0:t.allowHiddenMenuViaExternalUrl,r.isHidden)}),r.modgrps&&c()]})};t.a=e=>{var t,a,o,r,c,v,O,h,g,T,x,C,E,_,D,y,A,R;let{menuPDPItemData:L}=e;const{productDetails:w,tenantData:P,isMobile:M,displayBreadcrumbPDP:F,isIpad:W,product_name:H,isStoreClosed:B,prodName:Y="",prodItems:te=[],showLegalInfo:ae,dispositionType:ue,prodURL:ve,imageContainerSize:me,indulgentImageContainerSize:be,storeTimeZone:Oe,categoryName:je,categoryUrl:pe,catalogs:he,updatedFetchMenuPayload:ge}=L,{ADD_TO_CART_CLICK:Ie,DISPOSITION_DATA:fe}=z.a,{CUSTM_EXPAND_TYPE:Ne,CROSSELL:Se,PDP:Te,IS_IN_STOCK:xe,PDP_PAYLOAD_DATA:Ce,RESET_MODGROUP_IDS_UPDATE:Ee,RESET_CUSTOMIZATION:_e,CUSTOMISE_FLAG_CART:De,SET_PDP_BUTTON_DISABLED:ye,SHOW_PDP_ALERT_POPUP:Ae}=j.a,{RECOMMENDED_HEADER_TITLE:Re,RECOMMENDED_HEADER_TITLE_CATERING:Le,ADD_TO_CART:we,INDULDENT_ADD_ON_MSG:Pe,INDULDENT_ADD_ONS_HEADING:ke,CONTINUE:Me}=f.a,[Fe,Ue]=Object(i.useState)({}),[We,He]=Object(i.useState)(),[Be,Ge]=Object(i.useState)([]),[Ve,Ye]=Object(i.useState)([]),ze=Object(l.c)((e=>e.tenantReducer)),{allowMultipleCoupon:qe}=ze,[Ke,Qe]=Object(i.useState)({}),{userOrderState:Je,userOrderStateDispatch:Xe}=Object(i.useContext)(N.a),{headerData:{pdpBackgroundImage:Ze={},pdpEventBackgroundImage:$e={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),et=Object(U.b)(u.b),{dispositionNew:tt}=et,at=Object(s.Vd)(null===tt||void 0===tt?void 0:tt.type)?$e:Ze,it=Object(s.lb)(at),{pdpPayloadData:ot,isFromRecommendedSectionItemClick:nt,pdpPromoPage:lt,pdpDataForUpdateFoodLine:dt}=Je,rt=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),ct=Object(l.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),[st,ut]=Object(i.useState)({}),[vt,mt]=Object(i.useState)(0),[bt,Ot]=Object(i.useState)(xe),[jt,pt]=Object(i.useState)({}),ht=Object(l.c)((e=>e.appStateReducer.userStatus)),{QUANTITY_ACTION:gt,EDIT_ITEM:It}=K.a,ft=Object(l.c)((e=>e.cartReducer)),{cartData:Nt={},isItemAdded:St=!1}=Object(s.sd)(ft),{storesWithStatus:Tt}=Object(l.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},xt=Object(l.b)(),Ct=Object(Z.g)(),Et=null===P||void 0===P||null===(t=P.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.pdp)||void 0===o?void 0:o.showCrossSellSection,_t=null===P||void 0===P||null===(r=P.componentOptions)||void 0===r||null===(c=r.web)||void 0===c||null===(v=c.pdp)||void 0===v?void 0:v.plpRedirectionPromoItem,Dt=null===P||void 0===P||null===(O=P.componentOptions)||void 0===O||null===(h=O.web)||void 0===h||null===(g=h.pdp)||void 0===g?void 0:g.plpRedirectionWithaddOnItem,yt=null===Nt||void 0===Nt||null===(T=Nt.foodLines)||void 0===T?void 0:T.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id})),At=(null===Nt||void 0===Nt||null===(x=Nt.foodLines)||void 0===x?void 0:x.length)>0&&(null===Ve||void 0===Ve?void 0:Ve.filter((e=>!yt.includes(e.id)))),Rt=(null===P||void 0===P||null===(C=P.componentOptions)||void 0===C||null===(E=C.web)||void 0===E||null===(_=E.pdp)||void 0===_?void 0:_.shouldFilterRecommendationListWithCartData)&&(null===Nt||void 0===Nt||null===(D=Nt.foodLines)||void 0===D?void 0:D.length)>0?At:Ve,Lt=Object(i.useMemo)((()=>{var e;return Object($.b)(null===Ct||void 0===Ct||null===(e=Ct.location)||void 0===e?void 0:e.pathname)?Le:Re}),[null===Ct||void 0===Ct||null===(y=Ct.location)||void 0===y?void 0:y.pathname]),wt=Object(s.od)(null===ht||void 0===ht?void 0:ht.localized,null===ht||void 0===ht?void 0:ht.loggedIn),{couponCode:Pt="",discountTotal:kt=""}=Object(s.zb)(Nt),[Mt,Ft]=Object(i.useState)([]),[Ut,Wt]=Object(i.useState)(!1),Ht=Object(l.c)((e=>{var t;return null===(t=e.menuReducer)||void 0===t?void 0:t.isItemDetailsLoading})),[Bt,Gt]=Object(i.useState)({}),[Vt,Yt]=Object(i.useState)(!1),[zt,qt]=Object(i.useState)({}),[Kt,Qt]=Object(i.useState)(!1),Jt=JSON.parse(sessionStorage.getItem(I.Ne.INDULGENT_ADDONS_CART_CLICK)),Xt=Object(U.a)(),Zt=Object(U.b)(u.b),[$t,ea]=Object(i.useState)(""),[ta,aa]=Object(i.useState)([]),ia=Object(s.fb)(ze),oa=null===(A=Object(s.Jf)(Nt,ia))||void 0===A?void 0:A[null===w||void 0===w?void 0:w.productId];Object(i.useEffect)((()=>(Xe({type:Ne,value:"single"}),()=>{Ue({}),Xe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!1})})),[]),Object(i.useEffect)((()=>{ce(Nt,_t,$t,Ct,Mt)}),[null===Nt||void 0===Nt?void 0:Nt.discountLines,Mt]),Object(i.useEffect)((()=>{let e={productDetails:w,currentItemObject:rt,prodURL:ve,product_name:H,pdpDataForUpdateFoodLine:dt,cartData:Nt,prodName:Y,prodItems:te,pdpPromoPage:lt,setPdpData:Ue,userOrderStateDispatch:Xe,setMakeItAComboData:Ge,setRecommendationData:Ye,setAddOnRecommendedData:Ft,setCurrentPDPProduct:Qe,setProdQuantity:mt,setRuleName:qt,getPWAstorageData:Zt};Object(S.F)(e)}),[null===rt||void 0===rt?void 0:rt.id,w,lt]);const na=(e,t,a)=>{a.preventDefault(),a.stopPropagation(),t===gt.Decrease&&vt>1&&(mt(vt-1),Yt(!0)),t===gt.Increase&&(mt(vt+1),Object(S.e)(vt,lt,Fe,et))},la=(e,t,a,i,o,n,l)=>{e.stopPropagation(),e.preventDefault();re({event:e,data:t,miniPDPData:a,cartId:i,totalAmount:o,pdpDataForUpdateFoodLine:n,cartData:l,storesWithStatus:Tt},da,xt,P,Je,Gt,Qt)},da=async(e,t,a,i,o,n,l)=>{var d,r,c,v;e.preventDefault();const m=(null===Tt||void 0===Tt||null===(d=Tt[0])||void 0===d||null===(r=d.summary)||void 0===r||null===(c=r.menu)||void 0===c||null===(v=c.catalogs)||void 0===v?void 0:v[0])||he;if(xt(Object(k.d)({tenantId:null===P||void 0===P?void 0:P.tenantId,catalogName:m},ge)),sessionStorage.removeItem(I.Ne.INDULGENT_ADDONS_CART_CLICK,!0),ht.localized){let e=Object(S.m)(t),{id:d,modGrps:r,quantity:c}=e;if(pt({id:d,itemCount:c,totalAmount:o}),(null===a||void 0===a?void 0:a.flag)!==De){const t=et[I.gd.VIEW_PRODUCT],a=null===t||void 0===t?void 0:t.couponCode;ea(a),a?(xt(Object(J.a)({params:{basketId:null===l||void 0===l?void 0:l.id},tenantId:null===P||void 0===P?void 0:P.tenantId},[{...e,isProductPromo:lt,categoryName:je,categoryUrl:pe}],(()=>{xt(Object(J.b)({basketId:null===l||void 0===l?void 0:l.id,tenantId:null===P||void 0===P?void 0:P.tenantId},{couponCode:a}));let e={};e[a]=a,localStorage.setItem(I.gd.ADD_TO_ORDER,JSON.stringify(e)),Xe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),mt(Object(S.t)(lt,null===Fe||void 0===Fe?void 0:Fe.id,n,l,et)),!qe&&Object(s.uf)({key:Ae,value:!0},Xt)}))),mt(Object(S.t)(lt,null===Fe||void 0===Fe?void 0:Fe.id,n,l,et))):(aa(Je),await xt(Object(J.a)({params:{basketId:i},tenantId:null===P||void 0===P?void 0:P.tenantId},[{...e,categoryName:je,categoryUrl:pe}])),mt(1)),Wt(!0)}else xt(Object(J.y)({params:{basketId:i,basketLineItemId:null===a||void 0===a?void 0:a.foodLineId},tenantId:null===P||void 0===P?void 0:P.tenantId},{Id:d,quantity:c,modGrps:r,isProductPromo:null===a||void 0===a?void 0:a.isProductPromo,categoryName:je,categoryUrl:pe},(()=>{Xt(Object(u.d)({key:I.gd.CUSTOMISE_ITEM_CART,value:!0})),null===Ct||void 0===Ct||Ct.push({pathname:I.Ce.CART})})));window.scrollTo(0,0)}else Xe({type:fe,value:{showDisposition:!0}}),Xe({type:Ie,value:{addToCart:!0,productItemId:null===w||void 0===w?void 0:w.productId,categoryId:null===w||void 0===w?void 0:w.categoryId,oldProduct:null===w||void 0===w?void 0:w.productInfo,customizable:null===w||void 0===w?void 0:w.customizable,catalogs:null===w||void 0===w?void 0:w.catalogName,fromPdpPage:!0}})};Object(i.useEffect)((()=>{!Jt&&(e=>{var t,a;const{flatResponseData:i,analyticObjectData:o,tenantData:n,couponCode:l,discountTotal:d,isFromRecommendedSectionItemClick:r,isItemAdded:c,userType:u,modifierData:v}=e,m=null===v||void 0===v||null===(t=v.dispositionStateData)||void 0===t?void 0:t.dispositionType,b=null===i||void 0===i||null===(a=i.itemMapById)||void 0===a?void 0:a[null===o||void 0===o?void 0:o.id],{name:O="",availability:j,id:p,categoryName:h,categoryId:g}=Object(s.sd)(b),f=Object(s.Ub)(j);if(c){let{baseItemsCstmz:e,saucesCstmz:t,sidesCstmz:a,drinksCstmz:i,customizedPrice:b}=Object(s.F)(v);e=Object(s.te)(e),t=Object(s.te)(t),a=Object(s.te)(a),i=Object(s.te)(i);const j=[{item_name:O,item_id:p,price:Object(s.Z)(null===f||void 0===f?void 0:f.price,b,null===n||void 0===n?void 0:n.currencyConversionFactor),coupon:l,currency:null===n||void 0===n?void 0:n.currencyShortName,discount:Object(s.g)(d,null===n||void 0===n?void 0:n.currencyConversionFactor),item_category:h,item_list_name:Object(s.ad)(r,I.p.PDP_UPSELL,h),item_list_id:g,index:0,quantity:null===o||void 0===o?void 0:o.itemCount,originalPrice:Object(s.Ec)(f,null===n||void 0===n?void 0:n.currencyConversionFactor).toString(),baseItemsCustomisation:e,saucesCustomisation:t,sidesCustomisation:a,drinksCustomisation:i}];Object(s.sb)(r,Object(s.Hd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)),Object(s.Jd)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.ge)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.Vd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)))&&Object(S.a)(c,o,u,j,l,m,null===n||void 0===n?void 0:n.currencyShortName)}})({flatResponseData:ct,analyticObjectData:jt,tenantData:P,couponCode:Pt,discountTotal:kt,isFromRecommendedSectionItemClick:nt,isItemAdded:St,userType:wt,modifierData:ta})}),[ct,jt,P,Pt,kt,nt,St,wt,Jt]),Object(i.useEffect)((()=>{ut({flatResponseData:ct,analyticObjectData:jt,tenantData:P,couponCode:Pt,discountTotal:kt,isFromRecommendedSectionItemClick:nt,isItemAdded:St,userType:wt})}),[Vt]);const ra=e=>{let t=Object(p.jsx)(m.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.tickWhiteToast});Object(s.Df)(Object(d.translateWithI18Next)(Pe),t,"pdp-indulgent-toast pdp-modal-toast");let a=Mt.filter((t=>!e.includes(null===t||void 0===t?void 0:t.id)));Ft(a),(null===Mt||void 0===Mt?void 0:Mt.length)<=0&&Wt(!1)},ca=()=>{Wt(!1),ce(Nt,_t,$t,Ct,Mt,Dt,!0)};Object(i.useEffect)((()=>{let e={pdpData:Fe,prodQuantity:vt,tenantData:P,PDP_PAYLOAD_DATA:Ce,userOrderStateDispatch:Xe,pdpPromoPage:lt,storeTimeZone:Oe,pdpDataForUpdateFoodLine:dt,cartData:Nt,getPWAstorageData:Zt};Object(S.h)(e)}),[JSON.stringify(Fe),P.currencyConversionFactor,lt,vt,Oe]),Object(i.useEffect)((()=>{Object(S.i)(ot,vt,null===Fe||void 0===Fe?void 0:Fe.id,Xe),Xe({type:j.a.CART_MODIFIED_DATA,value:ot})}),[vt,ot]),Object(i.useEffect)((()=>{var e,t;St&&(Xe({type:_e}),Xe({type:Ee}),ie(Fe,1,P.currencyConversionFactor,Ce,Xe,lt,Oe,dt,Nt,Zt,null===P||void 0===P||null===(e=P.componentOptions)||void 0===e||null===(t=e.pdp)||void 0===t?void 0:t.enableDefaultModifierCalculation));Xe({type:ye,value:{}})}),[St,null===Fe||void 0===Fe?void 0:Fe.catalogName]),Object(i.useEffect)((()=>{re({...Bt,cartId:null===Nt||void 0===Nt?void 0:Nt.id,cartData:Nt,pdpDataForUpdateFoodLine:dt,storesWithStatus:Tt},da,xt,P,Je,Gt)}),[null===Nt||void 0===Nt?void 0:Nt.id]);const sa={pdpData:Fe,isMobile:M,imageContainerSize:me,isPdpDataLoading:Ht,pdpbackgroundImageData:it,displayBreadcrumbPDP:F,currentPDPProduct:Ke,pdpSummaryView:()=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(G,{pdpData:Fe,storeTimeZone:Oe,isMobile:M,isIpad:W,addtoCartClinckHandler:la,customModGrps:We,categoryId:w.categoryId,comboData:null===Be||void 0===Be?void 0:Be.length,itemStatus:bt,prodQuantity:vt,setProdQuantity:mt,quantityUpdate:na,setItemStatus:Ot,isItemDecreased:Vt,quantityRemovedObject:st,isStoreClosed:B,imageContainerSize:me,pdpbackgroundImageData:it,"data-testid":"add-to-cart-handler"})})};return Object(s.Td)(Fe)&&Object(s.Td)(Ke)&&Object(s.Td)(P)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"grid-container",children:[!M&&Object(p.jsx)("div",{className:"pdp-navigation pdp-navigation-sopac",id:"pdp-navigation-sopac",children:Object(S.b)(F,null===P||void 0===P?void 0:P.allowHiddenMenuViaExternalUrl,Ke.isHidden)}),Object(p.jsx)("div",{className:"".concat(Object(s.ad)(M,"pdp-mobile-container ","pdp-details-container-sopac")),children:se(sa,P)})]}),Object(p.jsx)("div",{style:{backgroundColor:"white"},children:Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{"data-testid":"pdp-desc-container",className:"pdp-desc-container-sopac ".concat(Object(s.ad)(M,"mobile","")),children:!!Object(s.Td)(Ke)&&Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsx)(V,{longDescription:null===Ke||void 0===Ke||null===(R=Ke.content)||void 0===R?void 0:R.longDescription,isMobile:M,dispositionType:ue,currentPDPProduct:Ke})})}),Object(s.hb)(Object.prototype.hasOwnProperty.call(ot,"id"),void 0!==B)&&Object(p.jsx)("div",{className:"".concat(j.a.PDP_CUSTOM_CONTAINER," ").concat(Object(s.hb)(M,I.Ye)),children:Object(p.jsx)("div",{className:"d-flex",children:Ht&&Object(p.jsx)(ne,{})||Object(p.jsx)(n.a,{testId:"menu-pdp-customization-container-test",data:Ke,isModal:!1,showPriceContent:!1,isMobile:M,customizable:Fe.customizable,localized:ht.localized,isStoreClosed:B,callBackToPDP:e=>{const{modifierGrp:t={}}=e;He(t)},catalog:Fe.catalogName,categoryId:w.categoryId,importPath:le(ue,Fe.customizable)})})}),Object(p.jsx)(X,{showLegalInfo:ae,isMobile:M}),Object(s.hb)(Et,(null===Rt||void 0===Rt?void 0:Rt.length)>0)&&(ua=Rt,va=Lt,ma="",ba="pdp-recommendations",Object(p.jsx)(q.a,{products:ua,country:null===P||void 0===P?void 0:P.country,cssClass:ba,header:va,subHeader:ma,recommendedRule:Se,source:Te,categoryId:w.categoryId})),(null===Mt||void 0===Mt?void 0:Mt.length)>0&&Object(p.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:Object(p.jsx)(ee.a,{isMobile:M,openIndulgentModal:Ut,handleClose:ca,removeItemCart:!1,IndulgentData:Mt,imageContainerSize:be,modalTitle:ke,continueButtonText:Me,toastMassage:Pe,callBackMethod:ra,productId:null===w||void 0===w?void 0:w.productId,ruleNameDetails:zt,"data-testid":"indulgetAddon-modal",addToCart:we,errorBackMethod:oe,isRestrictedDisabled:null===oa||void 0===oa?void 0:oa.isAddonsNotAddable})})]})}),de(Se,Be,Object(d.translateWithI18Next)(Lt),P,Te,w),Kt&&Object(p.jsx)(Q.a,{addtoCartClinckHandler:da,setCouponModal:Qt,setAddToClickParms:Gt,addToClickParms:Bt,flag:It})]}):Object(p.jsx)("div",{className:"d-flex justify-content-center no-results-section"});var ua,va,ma,ba}},1166:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var i=a(3),o=a(62),n=a(28),l=a(2);var d=e=>{const{className:t,clickNextCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler-sopac"})};var r=e=>{const{className:t,clickPrevCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler-sopac"})},c=a(1163),s=a(35),u=a(85),v=a(16),m=a(5),b=a(24),O=a(0),j=a(262),p=a(1096),h=a(1125);var g=e=>{var t,a,i;const{cardRenderer:o,productList:n,carousal:d,header:r="",subHeader:c="",settings:s,maxLengthToScroll:u,slidesToShow:v,rangeValue:b,onUpdateRange:O,showProductListingModal:j,isMobile:g,recommendedRule:I,flagUpsellCrossell:f,tenantData:N}=e,S=null===N||void 0===N||null===(t=N.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(i=a.pdp)||void 0===i?void 0:i.shouldShowRecommendationCardCount;return Object(l.jsxs)(l.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(l.jsxs)("div",{className:Object(m.c)(),"data-testid":"recommendedCard-container-test",children:[Object(l.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(l.jsxs)("div",{className:c?"pdp-carousal-header":"recommendedContainer-header",children:[Object(l.jsx)("span",{className:"main-header",children:r}),c&&Object(l.jsx)("span",{className:"sub-header",children:c})]}),S&&Object(l.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(l.jsxs)("div",{className:"recommendedCard-list",children:[Object(l.jsx)("div",{className:"recommendedCarousal-list",children:Object(l.jsx)(p.b,{settings:s,carousalRef:d,children:o()})}),n.length>u&&Object(l.jsx)("div",{className:"recommended-slideContainer",children:Object(l.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-v,value:b,id:"myRange","data-testid":"myRange",onChange:O})})]})]}),Object(m.hb)(j,I===f)&&Object(l.jsx)("div",{className:"pdp-custm-container ".concat(g?"mobile":""),children:Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)(h.a,{})})})]})},I=a(1137),f=a(1098),N=a(1118),S=a(1177),T=a(80),x=a(132);const{PLP_PDP_DETAILS:C}=v.a,{PDP:E}=j.a,_=(e,t,a)=>{let i="recommended-card recommended-card-sopac";return e===t+a&&(i+=" recommendedCard-fade"),i};t.b=e=>{var t,a,v,p,h;const{PDP_RECOMMENDATIONS:D,CAROUSAL_CONFIG:y,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:A,FADE_CARD_INDEX:R}=S.a,{SPEED:L,SLIDES_TO_SHOW:w,SLIDES_TO_SCROLL:P}=y,{PDP_SLIDES_TO_SHOW:k,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:M,PDP_SLIDES_TO_SHOW_1024:F}=D,{products:U,storeClosedData:W,header:H="",subHeader:B="",cssClass:G="",recommendedRule:V,source:Y=""}=e,[z,q]=Object(i.useState)(0),[K,Q]=Object(i.useState)(0),J=Object(i.useRef)(null),[X,Z]=Object(i.useState)(Object(m.de)(window.innerWidth)),[$,ee]=Object(i.useState)(Object(m.be)()),{userOrderState:te,userOrderStateDispatch:ae}=Object(i.useContext)(u.a),ie=Object(n.b)(),oe=Object(x.a)(),{maxLengthToScroll:ne,slidesToShow:le}=((e,t,a,i,o,n,l)=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?n:a,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?t&&l||i:o}))(G,$,A,k,w,M,F),{dispositionStateData:de=O.eg}=te,{dispositionType:re=localStorage.getItem("dispositionType")}=de,[ce]=Object(i.useState)(),se=Object(o.g)(),{tenantReducer:ue,cartReducer:ve,userParams:me}=Object(n.c)((e=>({tenantReducer:Object(m.sd)(e.tenantReducer),cartReducer:Object(m.sd)(e.cartReducer),userParams:Object(m.sd)(e.appStateReducer.userStatus)}))),{cartData:be={}}=Object(m.sd)(ve),{showProductListingModal:Oe=!1}=Object(m.sd)(ve),je=Object(o.h)(),{PlpProductCard:pe=O.eg}=(null===ue||void 0===ue?void 0:ue.componentOptions)||O.eg,he=Object(m.Sd)(te.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):te.dispositionNew,ge=he?he.store:O.eg,Ie=(null===ge||void 0===ge||null===(t=ge.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(v=a.catalogs)||void 0===v?void 0:v.length)&&(null===ge||void 0===ge||null===(p=ge.summary)||void 0===p||null===(h=p.menu)||void 0===h?void 0:h.catalogs[0])||(null===ue||void 0===ue?void 0:ue.genericMenuName)||"",fe=null===U||void 0===U?void 0:U.filter((e=>!e.isHidden)),Ne=Y===E?fe:null===fe||void 0===fe?void 0:fe.filter((e=>{let t=b.b.channel,a=(e=>{let t=O.fe;return e===O.Bb&&(t=O.yb),e===O.Fb&&(t=O.Eb),t})(re);return e.channel===t&&e.service===a})),{headerData:{pdpBackgroundImage:Se={}}={}}=Object(n.c)((e=>{var t;return Object(m.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),Te=Object(m.lb)(Se),{showCartAlert:xe}=Object(N.a)(void 0,void 0,void 0,void 0,ae,ie,void 0),Ce=()=>{xe(!0)},Ee={dots:!1,infinite:!1,speed:L,slidesToShow:le,slidesToScroll:P,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:S.b},_e=()=>{const e=Object(m.de)(window.innerWidth),t=Object(m.be)();Z(e),ee(t)};Object(i.useEffect)((()=>{window.addEventListener("resize",_e)}),[X]);const De={...Ee,nextArrow:Object(l.jsx)(d,{clickNextCard:()=>{if(K<Ne.length-1){let e=0;e=K+P>Ne.length-le-1?Ne.length-le:K+P,Object(I.b)(e),Q(e),J.current.slickGoTo(e)}}}),prevArrow:Object(l.jsx)(r,{clickPrevCard:()=>{K>0&&(Q(K-P),J.current.slickGoTo(K-P)),Object(I.b)(K-P)}}),beforeChange:(e,t)=>q(t),afterChange:(e,t)=>Q(e)},ye=Object(n.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{let e=Object(m.dd)(ye,te);Object(m.hb)(e,ce===V)&&ie(Object(s.v)({showProductListingModal:!0,categorySelected:""}))}),[ye,te.minipdpData.itemId,te.cartEditClicked]),Object(i.useEffect)((()=>{Oe&&ie(Object(s.v)({showProductListingModal:!1,categorySelected:""}))}),[je]);const Ae=(e,t,a,i,o)=>{var n,l,d;e.preventDefault(),e.stopPropagation(),null===(n=window)||void 0===n||n.scrollTo(0,0);let r={productId:t,customizable:a,categoryId:i,catalogName:Ie,productInfo:o,isFromPlp:!0};const c=Ne.map((e=>e.id)).indexOf(t),{categoryURL:s,productPrice:u,productName:v}=o;ae({type:C,value:r}),ae({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}});const{localized:b=!1,loggedIn:p=!1}=Object(m.sd)(me),h=Object(m.od)(b,p),g=Object(m.Hb)(be),{couponCode:I="",amount:N=""}=Object(m.sd)(g),S=[{item_name:null===(l=v[0])||void 0===l?void 0:l.value,item_id:t,price:u,coupon:I,discount:N,currency:O.p.AUD,item_category:s&&s[0],item_list_name:O.p.PDP_UPSELL,item_list_id:O.p.SR_VALUE,index:c,quantity:1}];Object(f.b)(h,S),localStorage.setItem(O.gd.PRODUCT_DETAILS,JSON.stringify(r)),ae({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),ae({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),oe(Object(T.c)({key:O.gd.VIEW_PRODUCT})),se.push({pathname:Object(m.xc)(o.categoryURL,o.prodURL,null===se||void 0===se||null===(d=se.location)||void 0===d?void 0:d.pathname)})},Re=((e,t)=>{var a,i;const o=null===e||void 0===e||null===(a=e.foodLines)||void 0===a?void 0:a.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id}));return(null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.length)>0?null===t||void 0===t?void 0:t.filter((e=>!o.includes(e.id))):t})(be,Ne),Le=e=>"False"!==e&&e;return Boolean(null===Ne||void 0===Ne?void 0:Ne.length)&&Object(l.jsx)(g,{cardRenderer:()=>null===Re||void 0===Re?void 0:Re.map(((e,t)=>{var a;const i=Object(m.rd)(e.additionalProperties),o=i.length&&i.reduce(((e,t)=>{let{key:a,value:i}=t;return{...e,[a]:"True"===i||Le(i)}}),O.eg);return Object(l.jsx)("div",{className:_(t,K,R),children:Object(l.jsx)(c.a,{item:e,cardId:e.id,cardType:"medium",RecommendationCardItem:!0,cardFor:"recommended",configureOptions:pe,tenantData:ue,servingCount:null===o||void 0===o?void 0:o.servings,button:e.button,categoryId:e.categoryUrl,customizable:e.customizable,onCardClickHandler:Ae,userParams:me,dName:e.dname,prodURL:e.url,storeClosedData:W,"data-testid":"menu-card-component",openAlertModal:Ce,serves:null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.serves,recommImageSizeFlag:!0,plpbackgroundImageData:Te,...o,...e,productContent:null===e||void 0===e?void 0:e.content},e.id)})})),productList:[...Re],carousal:J,header:H,subHeader:B,settings:De,maxLengthToScroll:ne,slidesToShow:le,rangeValue:z,onUpdateRange:e=>{q(e.target.value),J.current.slickGoTo(e.target.value),Object(I.b)(e.target.value)},showProductListingModal:Oe,isMobile:X,tenantData:ue,flagUpsellCrossell:ce,...e})}},1167:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(28),l=a(75),d=a.n(l),r=a(1218),c=a.n(r),s=a(266),u=a(5),v=a(6),m=a(4),b=a(170),O=a(144),j=a(46),p=a(71),h=a(1161),g=a(15),I=a(418),f=a(216),N=a(0),S=a(20),T=a.n(S),x=a(2);var C=e=>{const{nutritionalDetails:t,onClickServehandler:a,onClickGramHandler:i,showPerGram:l,showPerServe:d}=e,r=localStorage.getItem(null===N.gd||void 0===N.gd?void 0:N.gd.USER_LANGUAGE),c=Object(n.c)((e=>e.tenantReducer)),s=null===c||void 0===c?void 0:c.showPer100gTab;return Object(x.jsxs)(o.a.Fragment,{children:[Object(x.jsxs)("div",{className:"nutrition-header-global",children:[Object(x.jsx)("div",{className:"nutrition-name-global",children:Object(v.translateWithI18Next)(m.a.NUTRITION)}),Object(x.jsxs)("div",{className:"nutrition-value",children:[Object(x.jsx)("div",{className:"nutrition-value-serve",children:Object(x.jsx)("button",{"data-testid":"per_serve_handler",type:"button",className:"per-serve"+(d&&!l?" activeServe":""),onClick:a,children:Object(v.translateWithI18Next)(m.a.PER_SERVE)})}),s&&Object(x.jsx)("div",{className:"nutrition-value-gram",children:Object(x.jsx)("button",{"data-testid":"per_gram_handler",type:"button",className:"per-gram"+(l&&!d?" activeGram":""),onClick:i,children:Object(v.translateWithI18Next)(m.a.PER_GRAM)})}),Object(x.jsx)("div",{})]})]}),Object(x.jsx)("div",{className:"nutrition-details-global",children:null===t||void 0===t?void 0:t.map((e=>Object(x.jsx)(x.Fragment,{children:((null===e||void 0===e?void 0:e.nutritionComponent)!==f.a&&l||d)&&(null===e||void 0===e?void 0:e.isActive)&&Object(x.jsxs)("div",{className:"nutrition-name-amoumt-details",children:[l&&Object(x.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.gramWiseValue)}),d&&Object(x.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.serveWiseValue)}),Object(x.jsxs)("div",{className:"nutrition-name-unit-global",children:[Object(x.jsx)("div",{className:"nutrition-name-global",children:"en"===(null===r||void 0===r?void 0:r.slice(0,2))||T()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.nutritionComponent:null===e||void 0===e?void 0:e.translationValue}),Object(x.jsxs)("div",{className:"nutrition-unit-global",children:["(",(null===e||void 0===e?void 0:e.nutritionUnit)===b.a.KJ_TEXT?Object(v.translateWithI18Next)(m.a.KJ):null===e||void 0===e?void 0:e.nutritionUnit,")"]})]})]})})))})]})},E=a(263),_=a(62);const D=e=>{const{allergenDetails:t,customizable:a,handleCloseModal:i,source:n}=e,l=localStorage.getItem(null===N.gd||void 0===N.gd?void 0:N.gd.USER_LANGUAGE);let d=Object(_.g)();const r=Object(x.jsx)("div",{className:"non-ala-carte-notification",children:Object(x.jsxs)("div",{className:"notification-alert",children:[Object(x.jsx)(j.a,{srcFile:g.a.Error_Yellow,className:"non-ala-carte-alert-icon"}),Object(x.jsxs)("div",{className:"non-ala-carte-alert-text","data-testid":"navigation-click-testId",onClick:()=>(n===b.a.SOURCE&&i(),void Object(u.af)(d)),children:[Object(x.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_TEXT)}),Object(x.jsx)("span",{className:"non-ala-carte-alert-link-text",children:Object(x.jsx)(E.a,{className:"non-ala-carte-alert-link","data-testid":"non-ala-carte-alert-link-info",children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_LINK)})})]})]})}),c=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"allergen-information",children:[Object(x.jsxs)("div",{className:"allergen-notify-present",children:[Object(x.jsx)(j.a,{srcFile:g.a.Error_Red,className:"alert-icon"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_TEXT)}),"\xa0",Object(x.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_DETAILS)})]})]}),Object(x.jsxs)("div",{className:"allergen-notify-trace",children:[Object(x.jsx)(j.a,{srcFile:g.a.Error_Black,className:"alert-icon-trace"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_TEXT)}),"\xa0",Object(x.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_DETAILS)})]})]})]}),Object(x.jsx)("div",{className:"allergen-details-global",children:Object(x.jsx)("table",{children:null===t||void 0===t?void 0:t.map((e=>Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"allergen-component",children:"en"===(null===l||void 0===l?void 0:l.slice(0,2))||T()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.allergenComponent:null===e||void 0===e?void 0:e.translationValue}),(null===e||void 0===e?void 0:e.isPresent)&&Object(x.jsx)("td",{className:"allergen-icon",children:Object(x.jsx)(j.a,{srcFile:g.a.Error_Red})}),(null===e||void 0===e?void 0:e.isTrace)&&Object(x.jsx)("td",{className:"allergen-icon-trace",children:Object(x.jsx)(j.a,{srcFile:g.a.Error_Black})}),!(null!==e&&void 0!==e&&e.isTrace)&&!(null!==e&&void 0!==e&&e.isPresent)&&Object(x.jsx)("td",{className:"allergen-icon-text",children:Object(v.translateWithI18Next)(m.a.NOT_APPLICABLE)})]})})))})})]});return Object(x.jsxs)(o.a.Fragment,{children:[Object(x.jsx)("div",{className:"allergen-header-global",children:Object(x.jsx)("div",{className:"allergen-name-global",children:Object(v.translateWithI18Next)(m.a.ALLERGEN)})}),a?r:c]})};var y=o.a.memo(D),A=a(42),R=a.n(A);t.a=e=>{var t;const{isMobile:a,summaryData:o,source:l}=e,{nutritionalDetails:r,allergenDetails:I,customizable:f,pdpCardObject:N,calories:S,nutritionDetails:T,servesCount:E,kilojoule:_,imageName:{hideAllergenInformation:D,hideNutritionInformation:A}}=o,{dName:L}=N,{showNutritionAllergenModal:w,handleCloseModal:P}=T,{imageName:k,imageContainerSize:M,pdpbackgroundImageData:F}=o,U=Object(n.b)();Object(i.useEffect)((()=>{U(Object(h.a)({object:Object(p.a)(),contentFull:{content_type:"supportContent",include:"5","fields.title":"NutritionAllergenDisclaimer"}}))}),[U]);let W=null;const H=Object(n.c)((e=>({nutritionAllergenDisclaimerContent:R()(e,b.a.NUTRITION_ALLERGEN_ACTION_RESPONSE,null)})));var B,G,V,Y,z,q;Object(u.Td)(null===H||void 0===H?void 0:H.nutritionAllergenDisclaimerContent)&&(W=null===H||void 0===H||null===(B=H.nutritionAllergenDisclaimerContent)||void 0===B||null===(G=B.nutritionAllergenDisclaimerResp)||void 0===G||null===(V=G.items[0])||void 0===V||null===(Y=V.fields.content[0])||void 0===Y||null===(z=Y.fields)||void 0===z||null===(q=z.richText)||void 0===q?void 0:q.content);const[K,Q]=Object(i.useState)(!0),[J,X]=Object(i.useState)(!1),[Z,$]=Object(i.useState)(!1),{tenantReducer:ee}=Object(n.c)((e=>({tenantReducer:e.tenantReducer||{}}))),te={id:"NutritionAllergenModal",role:"dialog",modalTitleId:"NutritionAllergen-Modal-id",show:w,classNames:"Base-modal  NutritionAllergen-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:P,modalTitle:Object(v.translateWithI18Next)(m.a.NUTRITION_ALLERGEN_INFORMATION),modalTitleRequired:!0,closeDataTestId:"close-modal",autoFocus:!0};return d.a.createPortal(Object(x.jsx)(O.a,{...te,children:Object(x.jsxs)("div",{className:"nutrition-allergen-container-global",children:[Object(x.jsx)("div",{className:"nutrion-allergen-image-container",style:Object(u.mb)(F,M.containerWidth,M.containerHeight),children:Object(x.jsx)(j.a,{"data-testid":"",className:"nutrition-allergen-card-image-global",defaultPath:Object(u.bc)(null,ee,!0),srcFile:Object(u.qc)(k,M.containerWidth,M.containerHeight)})}),Object(x.jsxs)("div",{className:"nutrition-allergen-details-section",children:[Object(x.jsxs)("div",{className:"product-details-header",children:[Object(x.jsx)("div",{className:"d-flex strips-icon",children:Object(x.jsx)(j.a,{srcFile:a?g.a.StripsIconMobile:g.a.StripesIcon,className:"stripes-img"})}),Object(x.jsx)("div",{className:"product-name",children:L}),Object(x.jsx)("div",{className:"kj-info-details",children:S&&Object(x.jsxs)("span",{className:"kj-info",children:["".concat(S," ").concat(_)," \xa0 ",(e=>!!e&&"".concat(Object(v.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.SERVES)," ").concat(e))(E)]})})]}),Object(x.jsxs)("div",{className:"nutrition-allergen-list-global",children:[!A&&Object(x.jsx)(C,{nutritionalDetails:r,onClickServehandler:function(e){e.preventDefault(),Q(!0),X(!1)},onClickGramHandler:function(e){e.preventDefault(),X(!0),Q(!1)},showPerGram:J,showPerServe:K}),!D&&Object(x.jsx)(y,{allergenDetails:I,customizable:f,handleCloseModal:P,source:l}),Object(x.jsx)("div",{className:"disclaimer-section ".concat(Z?"disclaimer-section-open":""),children:Object(x.jsxs)("div",{className:"global-accordian-container","data-testid":"global-accordian",children:[Object(x.jsx)("div",{className:"global-accordian-header-container ".concat(Z?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!Z)},"data-testid":"disclaimer-handle",children:Object(x.jsx)("span",{className:"global-accordian-header",children:Object(v.translateWithI18Next)(m.a.DISCLAIMER)})}),Z&&Object(x.jsx)("div",{className:"global-accordian-content",children:Object(x.jsx)("div",{className:"disclaimer-content",children:null===(t=W)||void 0===t?void 0:t.map((e=>Object(x.jsx)("ul",{dangerouslySetInnerHTML:{__html:c.a.sanitize(Object(s.documentToHtmlString)(e))},className:"protected-accordian-answer"})))})})]})})]})]})]})}),document.getElementById("modal-popups"))}},1168:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var i=a(3),o=a(1096),n=a(1115),l=a(1116),d=a(6),r=a(0),c=a(85),s=a(61),u=a(1118),v=a(28),m=a(132),b=a(80),O=a(46),j=a(1141),p=a(396),h=a(41),g=a(425),I=a(5),f=a(2);var N=e=>{var t,a,o,n,l,N;const{ruleName:S,recommendationType:T,IndulgentData:x,catalogs:C,flatResponse:E,index:_,indulgentAddToCartHandler:D,showServesValue:y,showCaloricValue:A,item:R,INDULGENT_ADD_ON:L,productId:w}=e,P=Object(v.c)((e=>e.cartReducer)),k=Object(v.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),M=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=Object(v.c)((e=>e.tenantReducer)),U=null===F||void 0===F||null===(t=F.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.plp)||void 0===o?void 0:o.removeSingleItemInCartFromPLP,{flatResponse:{productMapByItemId:W={}}={}}=null!==(n=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==n?n:{},{currencyConversionFactor:H,componentOptions:{web:{global:{showPriceWithTax:B=!1}={}}={}}={}}=F,{ADD_TO_CART:G}=L,V=Object(v.c)((e=>e.tenantReducer)),{cartData:Y={}}=Object(I.sd)(P),{userOrderStateDispatch:z,userOrderState:q}=Object(i.useContext)(c.a),{timeBasedCetegory:K}=q,[Q,J]=Object(i.useState)(0),[X,Z]=Object(i.useState)(null),[$,ee]=Object(i.useState)(0),te=Object(I.fb)(V),ae=(null===R||void 0===R?void 0:R.isRestrictedAddon)||(null===R||void 0===R?void 0:R.isHidden);Object(i.useEffect)((()=>{const e=Object(I.Td)(Y)?Object(I.mc)(null===R||void 0===R?void 0:R.id,Y):{},t=Object(I.ad)(Object(I.Td)(e),e.count,0),a=Object(I.ad)(Object(I.Td)(e),e.matchedItemFoodLineId,""),i=Object(I.ad)(Object(I.Td)(e),e.itemUnitPrice,"");J(t),Z(a),ee(i)}),[Y,null===R||void 0===R?void 0:R.id]);const{discountTotal:ie,couponCode:oe}=Object(I.zb)(Y),{QUANTITY_ACTION:ne}=s.a,le=Object(v.b)(),de=Object(m.b)(b.b),re=Object(I.od)(null===M||void 0===M?void 0:M.localized,null===M||void 0===M?void 0:M.loggedIn);return Object(f.jsxs)("div",{className:"indulgent-card",children:[Object(f.jsx)(O.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(I.bc)(null,F,!0),srcFile:Object(I.bc)(null===R||void 0===R?void 0:R.imageName,F)}),Object(f.jsxs)("div",{className:"indulgent-card-content",children:[Object(f.jsx)("div",{className:"indulgent-card-header",children:R.dname[0].value}),Object(f.jsxs)("div",{className:"indulgent-card-price",children:[F.currencySymbol,Object(I.Ic)(null===R||void 0===R||null===(l=R.availability)||void 0===l?void 0:l[0],null===R||void 0===R?void 0:R.additionalProperties,null===F||void 0===F?void 0:F.currencyConversionFactor,B),A&&Object(I.we)(null===R||void 0===R?void 0:R.content,F,y)]}),Q>0?Object(f.jsx)("div",{className:"quantityAddtocart",children:Object(j.e)(Q,((e,t)=>{var a;null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault();const i=Object(p.g)(null===R||void 0===R?void 0:R.itemId,null===k||void 0===k?void 0:k.flatResponse),o=Object(p.d)(null===R||void 0===R?void 0:R.itemId,K);if(!Object(p.c)({categoryUrl:i,itemInCart:o,alertType:Object(p.j)(null===K||void 0===K?void 0:K.timebasedItemInCart,null===r.Sb||void 0===r.Sb?void 0:r.Sb.ITEM),categoryId:null===R||void 0===R?void 0:R.itemId,itemId:null===R||void 0===R?void 0:R.itemId},{...K,menuData:k,foodLinesItems:(null===P||void 0===P||null===(a=P.cartData)||void 0===a?void 0:a.foodLines)||[]},z)&&M.localized){const e=Number(($/H).toFixed(2));let a={foodName:null===R||void 0===R?void 0:R.name,foodItemId:null===R||void 0===R?void 0:R.mdmId,cartPrice:e,modifiers:[],quantity:Q,foodLineId:X};const{itemQuantityHandler:i,itemRemoveHandler:o}=Object(u.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===F||void 0===F?void 0:F.tenantId,void 0,W,void 0,le,void 0,re,null===F||void 0===F?void 0:F.currencyShortName,void 0,de,oe,ie,H);t===ne.Increase?i(a,ne.Increase):U&&1===(null===a||void 0===a?void 0:a.quantity)?o(a):i(a,ne.Decrease)}}),null===R||void 0===R||null===(N=R.dname)||void 0===N?void 0:N[0].value,F)}):Object(f.jsxs)(h.a,{className:"button redButton indulgent-card-button","aria-label":Object(d.translateWithI18Next)(G)+" "+R.dname[0].value,"data-testid":"add-to-cart",onClickHandler:e=>{e.preventDefault(),e.stopPropagation(),D({index:_,id:null===R||void 0===R?void 0:R.id,customizable:!1,dispatch:le,cartReducer:P,tenantReducer:F,catalogs:C,flatResponse:E,category_id:null===R||void 0===R?void 0:R.categoryId,userType:re,productId:w,ruleName:S,recommendationType:T,IndulgentData:x,couponCode:oe,discountTotal:ie,...te?{isRestrictedAddon:ae}:{}})},children:[Object(d.translateWithI18Next)(G),Object(f.jsx)(O.a,{className:"add-to-cart-Icon",srcFile:g.a})]})]})]})};const S=e=>{const{INDULGENT_ADD_ON:t,IndulgentData:a,isMobile:i,tenantReducer:r,rangeValue:c,updateRangeValue:s,currentSlide:u,updateCurrentSlide:v,caroselCount:m,setCaroselCount:b,carousal:O,setPrevArrowCSS:j}=e,{ADD_TO_CART:p,HEADER:h,SLIDES_TO_SCROLL:g,SLIDES_TO_SHOW:I,RESPONSIVE_SETTINGS:S}=t,T={dots:!1,infinite:!1,speed:500,slidesToShow:I,slidesToScroll:g,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(f.jsx)(n.a,{clickNextCard:()=>{if(u<a.length-1){let e=0;e=u+g>a.length-I-1?a.length-I:u+g,j(e),v(e),O.current.slickGoTo(e)}}}),prevArrow:Object(f.jsx)(l.a,{clickPrevCard:()=>{u>0&&(v(u-g),O.current.slickGoTo(u-g)),j(u-g)}}),beforeChange:(e,t)=>s(t),afterChange:(e,t)=>v(e),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:(e,t)=>{b(Math.round(t+1))}}}]},{currencyConversionFactor:x,componentOptions:{web:{global:{showPriceWithTax:C=!1}={}}={}}={}}=r;return Object(f.jsxs)("div",{className:"indulgent-container",children:[Object(f.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(f.jsx)("span",{className:"indulgent-header",children:Object(d.translateWithI18Next)(h)}),i&&Object(f.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[m,"/",a&&a.length]})]}),Object(f.jsx)("div",{className:"indulgent-card-list",children:Object(f.jsx)(o.b,{settings:T,carousalRef:O,children:a.map(((t,a)=>Object(f.jsx)(N,{index:a,item:t,...e},a)))})}),!i&&a.length>3&&Object(f.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(f.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:a.length-(e=>{const t=window.innerWidth;return t>1350&&t<1650?4:t>1650&&t<=1920?5:e})(I),value:c,id:"myRange",onChange:e=>{s(e.target.value),O.current.slickGoTo(e.target.value)}})})]})}},1170:function(e,t,a){"use strict";var i=a(3),o=a(1166),n=a(120),l=a(85),d=a(1103),r=a(5),c=a(262),s=a(2);t.a=e=>{var t,a;const{products:u,country:v,cssClass:m="",categoryId:b,recommendedRule:O,componentOptions:j}=e,{userOrderState:p}=Object(i.useContext)(l.a),{UPSELL:h}=c.a,{INDIA:g}=d.a,[I,f]=Object(i.useState)(!1),N=Object(i.useMemo)((()=>Object(r.Sd)(p.currentStoreInfo)?Object(r.b)(localStorage.getItem("currentStoreInfo")):p.currentStoreInfo),[p.currentStoreInfo]),{futureDates:S,scheduled:T,asap:x}=Object(r.sd)(null===N||void 0===N||null===(t=N.summary)||void 0===t?void 0:t.timings),{unavailibilities:C}=Object(r.sd)(T),{interval:E=0,startEndTime:_={}}=Object(r.sd)((null===T||void 0===T||null===(a=T.periods)||void 0===a?void 0:a.length)&&(null===T||void 0===T?void 0:T.periods[0])),{from:D,to:y}=_,A=Object(i.useCallback)((()=>{if(Object(r.Td)(N)){var e,t;let a=null===(e=N.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,i=Object(n.j)(D,y,E,null===x||void 0===x?void 0:x.isAvailable,1===(null===S||void 0===S?void 0:S.length)&&(null===v||void 0===v?void 0:v.toUpperCase())===g,C);"CLOSED"!==a||i.length?f(!1):f(!0)}else f(!1)}),[N]);return Object(i.useEffect)((()=>{A()}),[A]),((e,t,a)=>{var i,o;return e!==t||(null===a||void 0===a||null===(i=a.web)||void 0===i||null===(o=i.pdp)||void 0===o?void 0:o.makeItComboButton)})(O,h,j)?Object(s.jsx)("div",{className:"recommended-container ".concat(m),"data-testid":"recommended-container",children:Object(s.jsx)(o.b,{"data-testid":"recommended-items",categoryId:b,products:u,storeClosedData:{isStoreClosed:I},...e})}):Object(s.jsx)(s.Fragment,{})}},1175:function(e,t,a){"use strict";a(3);var i=a(1142),o=a(5),n=a(2);t.a=e=>Object(o.T)(e.subCategory).map(((t,a)=>{let{categories:o="",products:l=[],id:d="",dname:r}=t;return Object(n.jsxs)("div",{id:d,children:[Object(n.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(n.jsx)("div",{children:r[0].value}),o]}),Object(n.jsx)(i.a,{productList:l,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},a)}))},1177:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));let i,o;(async()=>{let t=await(async()=>{var t,i,o,n,l;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(a.bind(null,215));return null===r||void 0===r||null===(o=r.default)||void 0===o||null===(n=o[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.RECOMMENDED_CONSTANTS})();i=null===t||void 0===t?void 0:t.RECOMMENDED_CONSTANTS,o=null===t||void 0===t?void 0:t.RESPONSIVE_CONFIG})()}).call(this,a(121))},1179:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(28),l=a(1130),d=a(963),r=a(55),c=a(16),s=a(85),u=a(1159),v=a(2);var m=e=>{const{DISPOSITION_DATA:t=""}=c.a,{userOrderState:a,userOrderStateDispatch:n}=Object(i.useContext)(s.a)||{};return Object(i.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(v.jsx)(l.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:r.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:r.y})]})})},b=a(5),O=a(1160);t.a=()=>{var e,t,a,i;const{DISPOSITION:o}=O.a;let l=null,d=null,r=Object(n.c)((e=>e.appStateReducer.userStatus));const c=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(c.marketPageContent&&c.tenantReducerContent&&c.homePageContent){const{tenant:e=[]}=c.marketPageContent.headerData||{};l=Object(b.fc)(c.homePageContent)||null,d=Object(b.Yc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[o])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(a=null===(i=l)||void 0===i?void 0:i[o])&&void 0!==a?a:{}},userParams:r,tenantReducerData:c.tenantReducerContent})}},1189:function(e,t,a){"use strict";a(3);var i=a(214),o=a(172),n=a(266),l=a(2);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?Object(i.a)(Object(n.documentToHtmlString)(e).replace(/<p>/gi,t).replace(/<\/p>/gi,t)):""},r=e=>{let{data:t}=e;const{html:a,css:i,javascript:n}=t,r=d(a),c=d(i),s=d(n,"\n\n");return Object(l.jsxs)(l.Fragment,{children:[(n||i)&&Object(l.jsxs)(o.a,{children:[n&&Object(l.jsx)("script",{type:"text/javascript",children:s}),i&&Object(l.jsx)("style",{type:"text/css",children:c})]}),a&&Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})]})};r.defaultProps={},t.a=r},1190:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(28),l=a(6),d=a(4),r=a(16),c=a(0),s=a(5),u=a(85),v=a(46),m=a(144),b=a(262),O=a(1095),j=a(132),p=a(80),h=a(1125),g=a(35),I=a(145),f=a(395),N=a(235),S=a(15),T=a(2);const{CHOOSE_ANY_PRODUCT:x}=d.a;t.a=e=>{var t,a,C,E,_;const{PLP_PDP_DETAILS:D,SET_MULTI_PRODUCT_VIEW_MODAL:y}=r.a,{userOrderStateDispatch:A,userOrderState:R}=Object(i.useContext)(u.a),L=Object(n.c)((e=>e.storesReducer)),w=Object(n.c)((e=>e.cartReducer)),P=Object(n.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{isDealModalOpen:k,handleClose:M,viewProductCardData:F,imageContainerSize:U,tenantId:W,addToOrderClickHandler:H}=Object(s.sd)(e),{item:B,titleValue:G,promoParams:V,priceDetails:Y}=Object(s.sd)(F),{itemDetails:z}=Object(s.sd)(B),q=Object(n.c)((e=>e.tenantReducer)),{data:{categories:K=[]}={}}=Object(n.c)((e=>{let{menuReducer:t}=e;return t||{}})),Q=Object(j.a)(),J=(null===L||void 0===L||null===(t=L.storesWithStatus)||void 0===t?void 0:t.length)&&(null===L||void 0===L||null===(a=L.storesWithStatus[0])||void 0===a||null===(C=a.summary)||void 0===C?void 0:C.timeZoneIANA),X={id:"productDetailsPopUp",role:"dialog",modalTitleId:"productDetailsPopUp",show:{isProductModalOpen:k},classNames:"multi-product-wrapper-modal",showCloseBtn:!0,closeButtonHandler:M,modalTitle:G,autoFocus:!0},{headerData:{plpBackgroundImage:Z={}}={}}=Object(n.c)((e=>{var t;return Object(s.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),$=Object(s.lb)(Z),ee=Object(s.Sd)(R.dispositionNew)?JSON.parse(localStorage.getItem(c.Hb)):R.dispositionNew,te=Object(i.useMemo)((()=>({storeInfo:ee?ee.store:{}})),[ee,R,q]),ae=Object(n.b)(),[ie,oe]=Object(i.useState)(""),[ne,le]=Object(i.useState)(!1),{ADD_TO_CART:de}=N.a,re=null===q||void 0===q||null===(E=q.componentOptions)||void 0===E||null===(_=E.PlpProductCard)||void 0===_?void 0:_.allowClickOnProductCard,ce=(t,a,i,o,n,l,d,r,u)=>{var v,m,O,j,h;let g={productId:t,customizable:a,categoryId:i,catalogName:n,productInfo:o,isFromPlp:!0,categoryName:r,categoryUrl:l,url:u};const{url:I}=null!==(v=null===P||void 0===P||null===(m=P.productMapByItemId)||void 0===m?void 0:m[d])&&void 0!==v?v:{};A({type:D,value:g}),A({type:y,isFromMultiProductViewModal:!0}),localStorage.setItem(c.gd.PRODUCT_DETAILS,JSON.stringify(g)),null===e||void 0===e||null===(O=e.history)||void 0===O||O.push({pathname:Object(s.xc)(l,I||u,null===e||void 0===e||null===(j=e.history)||void 0===j||null===(h=j.location)||void 0===h?void 0:h.pathname)}),Q(Object(p.d)({key:c.gd.VIEW_PRODUCT,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:V,priceDetails:Y}})),Q(Object(p.d)({key:c.gd.PROMO_PRODUCT_CART,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:V,priceDetails:Y,isPromo:!0}})),A({type:b.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})},se=t=>{var a,i,o,n,l,d;const r=null!==(a=null===P||void 0===P||null===(i=P.productMapByItemId)||void 0===i?void 0:i[t])&&void 0!==a?a:{},u=null!==(o=null===P||void 0===P||null===(n=P.productMapByItemId)||void 0===n||null===(l=n[t])||void 0===l||null===(d=l.itemMapByItemId)||void 0===d?void 0:d[t])&&void 0!==o?o:{},v=null===P||void 0===P?void 0:P.catalogName,m=null===r||void 0===r?void 0:r.customizable;oe(r),Q(Object(p.d)({key:c.gd.VIEW_PRODUCT,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:V,priceDetails:Y}})),le(null===r||void 0===r?void 0:r.customizable),ae(Object(I.c)({tenantId:W,catalogName:v,itemId:t})),m?ae(Object(g.v)({showProductListingModal:!0,categorySelected:null===ie||void 0===ie?void 0:ie.categoryId})):((t,a)=>{var i,o;const{id:n,categoryId:l,categoryName:d,url:r}=t;ae(Object(g.a)({params:{basketId:null===w||void 0===w||null===(i=w.cartData)||void 0===i?void 0:i.id},tenantId:W},[{Id:n,categoryId:l,quantity:(null===V||void 0===V||null===(o=V.find((e=>(null===e||void 0===e?void 0:e.itemId)===n)))||void 0===o?void 0:o.quantity)||1,modGrps:[],categoryName:d,categoryUrl:r,isProductPromo:!0}],(()=>{H({couponCode:null===B||void 0===B?void 0:B.couponCode}),M(),!a&&1===(null===z||void 0===z?void 0:z.length)&&Object(s.Qe)(e)})))})(u,m)},ue=()=>{const{Error:e}=S.a;return Object(T.jsxs)("div",{className:"unavailable-container",children:[Object(T.jsx)("img",{src:e,className:"unavailable-icon",alt:"product-unavaliable"}),Object(T.jsx)("span",{className:"unavailable-text",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PRODUCT_UNAVAILABLE)})]})},ve=e=>{var t,a,i,o,n,d,r,u;let{item:m,params:b}=e;const{dname:j=[],imageName:p,content:h,availability:g=[],customizable:I,id:N,categoryUrl:S,url:x,isNotAvailable:C}=Object(s.sd)(m),E=Object(O.k)(g,J),{caloricValue:_}=Object(s.sd)(h),D=_,{storeInfo:y}=Object(s.sd)(b);let A=S&&S[0];A=null===(t=A)||void 0===t||null===(a=t.split("-").join(" "))||void 0===a?void 0:a.toUpperCase();let R=null===K||void 0===K?void 0:K.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===A}));const L=R&&R[0],w=null===L||void 0===L?void 0:L.name,P=N,k=null===L||void 0===L?void 0:L.id,M={productName:j,productImage:p,productPrice:Object(s.Ec)(E,null===q||void 0===q?void 0:q.currencyConversionFactor,J)},F=y&&(null===y||void 0===y||null===(i=y.summary)||void 0===i||null===(o=i.menu)||void 0===o||null===(n=o.catalogs)||void 0===n?void 0:n.length)&&(null===y||void 0===y||null===(d=y.summary)||void 0===d||null===(r=d.menu)||void 0===r?void 0:r.catalogs[0])||(null===q||void 0===q?void 0:q.genericMenuName)||"",W=(e=>null===e||void 0===e?void 0:e.map((e=>({...e,price:null!==e&&void 0!==e&&e.promoPrice&&(null===e||void 0===e?void 0:e.promoPrice)<(null===e||void 0===e?void 0:e.price)?null===e||void 0===e?void 0:e.promoPrice:null===e||void 0===e?void 0:e.price}))))(g),H=Object(O.k)(W,J);return Object(T.jsx)("div",{class:"container","data-testid":"container-test",children:Object(T.jsx)("main",{class:"grid ".concat(C?"product-card-deactive":""),"data-testid":"card-box-test",onClick:()=>re?ce(P,I,k,M,F,S,N,w,x):se(N),children:Object(T.jsxs)("article",{children:[Object(T.jsx)("div",{className:"product-image-parent-container",style:Object(s.mb)($,U,U),children:Object(T.jsx)(v.a,{"data-testid":"multi-product-image",className:"multi-product-image",defaultPath:Object(s.bc)(null,q,!0),srcFile:Object(s.qc)(h,U,U),alt:""})}),Object(T.jsxs)("div",{class:"description-txt",children:[Object(T.jsx)("span",{className:"desc",children:null===(u=j[0])||void 0===u?void 0:u.value}),C?ue():Object(T.jsxs)("div",{className:"".concat(re?"":"align-button"),children:[Object(T.jsxs)("span",{className:"price-value",children:[null===q||void 0===q?void 0:q.currencySymbol,Object(s.Ec)(H,null===q||void 0===q?void 0:q.currencyConversionFactor,J).toFixed(c.gg)]}),Object(T.jsx)("span",{children:D&&Object(T.jsx)("span",{className:"kj-info",children:" ".concat(D," ").concat(null===q||void 0===q?void 0:q.kilojoule)})}),!re&&Object(T.jsxs)(f.a,{tabIndex:"0",className:"button redButton model-cart-button",children:[" ",Object(l.translateWithI18Next)(de)]})]})]})]})})})};return Object(i.useEffect)((()=>{(null===P||void 0===P?void 0:P.productMapByItemId)&&1===(null===z||void 0===z?void 0:z.length)&&(e=>{var t,a,i,o,n,l,d,r,c;const{storeInfo:u,tenantReducer:v}=te,{imageName:m,dname:b,availability:j,customizable:p,id:h,categoryUrl:g}=null!==(t=(null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.itemDetails[0]))&&void 0!==t?t:{};if(!re)return void se(h);let I=g&&g[0];I=null===(i=I)||void 0===i||null===(o=i.split("-").join(" "))||void 0===o?void 0:o.toUpperCase();const f=Object(O.k)(j,J);let N=null===K||void 0===K?void 0:K.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===I}));const S=N&&N[0],T=null===S||void 0===S?void 0:S.name,x=h,C=null===S||void 0===S?void 0:S.id,E={productName:b,productImage:m,productPrice:Object(s.Ec)(f,null===v||void 0===v?void 0:v.currencyConversionFactor,J)},_=u&&(null===u||void 0===u||null===(n=u.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===u||void 0===u||null===(r=u.summary)||void 0===r||null===(c=r.menu)||void 0===c?void 0:c.catalogs[0])||(null===v||void 0===v?void 0:v.genericMenuName)||"";ce(x,p,C,E,_,g,h,T)})(B)}),[]),Object(T.jsxs)(o.a.Fragment,{children:[z&&(null===z||void 0===z?void 0:z.length)>1&&Object(T.jsx)(m.a,{...X,"data-testid":"offers-deals-modal-testid",children:Object(T.jsxs)("div",{className:"multi-product-wrapper",children:[Object(T.jsx)("div",{className:"content",children:Object(T.jsx)("h4",{children:Object(l.translateWithI18Next)(x)})}),Object(T.jsx)("div",{className:"grid-container card-items container",children:null===z||void 0===z?void 0:z.map(((e,t)=>Object(T.jsx)(ve,{item:e,params:te},"card-item-".concat(t))))})]})}),(null===w||void 0===w?void 0:w.showProductListingModal)&&ne&&Object(T.jsx)(h.a,{addToOrderClickHandler:H,closeParentModal:M})]})}},1191:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var i=a(3),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},o(e,t)};var n=50,l=50;function d(e){var t=e.className,a=e.counterClockwise,o=e.dashRatio,n=e.pathRadius,l=e.strokeWidth,d=e.style;return Object(i.createElement)("path",{className:t,style:Object.assign({},d,c({pathRadius:n,dashRatio:o,counterClockwise:a})),d:r({pathRadius:n,counterClockwise:a}),strokeWidth:l,fillOpacity:0})}function r(e){var t=e.pathRadius,a=e.counterClockwise?1:0;return"\n      M "+n+","+l+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+a+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+a+" 1 1 0,-"+2*t+"\n    "}function c(e){var t=e.counterClockwise,a=e.dashRatio,i=e.pathRadius,o=2*Math.PI*i,n=(1-a)*o;return{strokeDasharray:o+"px "+o+"px",strokeDashoffset:(t?-n:n)+"px"}}var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,a=e.minValue,i=e.maxValue;return(Math.min(Math.max(t,a),i)-a)/(i-a)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,a=e.className,o=e.classes,r=e.counterClockwise,c=e.styles,s=e.strokeWidth,u=e.text,v=this.getPathRadius(),m=this.getPathRatio();return Object(i.createElement)("svg",{className:o.root+" "+a,style:c.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(i.createElement)("circle",{className:o.background,style:c.background,cx:n,cy:l,r:50}):null,Object(i.createElement)(d,{className:o.trail,counterClockwise:r,dashRatio:t,pathRadius:v,strokeWidth:s,style:c.trail}),Object(i.createElement)(d,{className:o.path,counterClockwise:r,dashRatio:m*t,pathRadius:v,strokeWidth:s,style:c.path}),u?Object(i.createElement)("text",{className:o.text,style:c.text,x:n,y:l},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(i.Component);function u(e){var t=e.rotation,a=e.strokeLinecap,i=e.textColor,o=e.textSize,n=e.pathColor,l=e.pathTransition,d=e.pathTransitionDuration,r=e.trailColor,c=e.backgroundColor,s=null==t?void 0:"rotate("+t+"turn)",u=null==t?void 0:"center center";return{root:{},path:v({stroke:n,strokeLinecap:a,transform:s,transformOrigin:u,transition:l,transitionDuration:null==d?void 0:d+"s"}),trail:v({stroke:r,strokeLinecap:a,transform:s,transformOrigin:u}),text:v({fill:i,fontSize:o}),background:v({fill:c})}}function v(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}},1192:function(e,t,a){},1194:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(6),l=a(263),d=a(46),r=a(15),c=a(5),s=a(4),u=a(2);const v=e=>{const{isAlert:t,show:a,sectionHeader:i,subSectionValue:o,orderTypeChange:v,onClickHandler:m,description:b,storeUnavailableError:O,showChangeButton:j=!0,scheduleTimeWarning:p=!1,scheduleErrMsg:h="",cssSubsection:g,specialNote:I="",dataTestid:f="",elementUniqueLocator:N}=e;return a?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(n.translateWithI18Next)(i)}),Boolean(O)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(c.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&r.a.Error_Yellow||r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(n.translateWithI18Next)(O)}})]}),Boolean(p)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:h})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(g),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:o}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),I&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SPECIAL_NOTE)," ",I]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(l.a,{"aria-label":"Edit order type",onClickHandler:m,"data-testid":N?f:"dynamic-click-test",children:Object(n.translateWithI18Next)(v)})})]})]}):null},m=o.a.memo(v);t.a=m},1195:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(6),l=a(15),d=a(430),r=a(4),c=a(120),s=a(1117),u=a(46),v=a(16),m=a(2);const b=e=>{const{show:t,sectionHeader:a,selectedDate:i,selectedTime:o,changeDateValue:b,changeTimeValue:O,dateTimeArr:j,showCateringWarning:p=!1,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",scheduleErrorType:I="",scheduleWarningMsg:f="",changeTimeObj:N={},changeDateObj:S={},placeholderText:T,disableDateOption:x=!1,disableTimeOption:C=!1,enableScheduleOrderFlag:E=!1,enableOrderCapacityManagement:_=!1,orderCapacity:D={},storeId:y="",elementUniqueLocator:A,isUberStore:R=!1}=e,{SingleArrow:L}=l.a,{DATE:w,TIME:P,UBER_TIME:k}=r.a,M=E?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",F=_?Object(c.n)(D,y,i,j):[],U=_?F:null===i||void 0===i?void 0:i.timeSlots;return t?Object(m.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(m.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(n.translateWithI18Next)(a)}),Object(m.jsx)(s.a,{show:null===p||void 0===p?void 0:p.show,errorMsg:null===p||void 0===p?void 0:p.warning,errImage:null===p||void 0===p?void 0:p.image,cssClass:null===p||void 0===p?void 0:p.cssClass}),h&&Object(m.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(m.jsx)(u.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(m.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(m.jsxs)("div",{className:M,children:[Object(m.jsx)(d.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(n.translateWithI18Next)(w),setSelectedItem:b,changeDateObj:S,changeTimeObj:N,dateTimeArr:j,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:L,options:Object(c.o)(j),dropdownId:"date-id",disableOptions:x,enableOrderCapacityManagement:_,shouldDisplayDropdownError:h&&f&&I===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:f,dataTestid:"schedule-date",elementUniqueLocator:A}),Object(m.jsx)(d.a,{cssClass:"date-time-dropdown ".concat(_?"date-time-dropdown--order-capacity":""),dropdownTitle:R?Object(n.translateWithI18Next)(k):Object(n.translateWithI18Next)(P),setSelectedItem:O,changeDateObj:S,changeTimeObj:N,dateTimeArr:j,selectedItem:o,imgSrc:L,options:U,dropdownId:"time-id",placeholderText:T,disableOptions:C,enableOrderCapacityManagement:_,shouldDisplayDropdownError:h&&f&&I===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:f,dataTestid:"schedule-time",elementUniqueLocator:A})]})]}):null},O=o.a.memo(b);t.a=O},1202:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var i=a(3),o=a(28),n=a(42),l=a.n(n),d=a(46),r=a(41),c=a(0),s=a(85),u=a(5),v=a(73),m=a(192),b=a(24),O=a(1122),j=a(35),p=a(113),h=a(16);const g=(e,t,a,i)=>{const o={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:b.b.channel,service:t}))),store:e,tenantId:i,setStatusFlag:!1,isFavoritePage:!1};a(Object(v.d)(o))},I=e=>{const{storesWithStatus:t,dispositionNew:a,setAutoDetectFlow:i,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:r,userOrderStateDispatch:s,userParams:v,tenantReducer:m,SetLocationClickHandler:b}=e,g=null===v||void 0===v?void 0:v.localized,I=null===t||void 0===t?void 0:t.filter((e=>{var t,a,i,o,n,l,d,r,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)===c.Od&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(u=s.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.summary)||void 0===v||null===(m=v.timings)||void 0===m?void 0:m.asap)}));(null===I||void 0===I?void 0:I.length)>0?g?a&&i(!1):((async e=>{var t;let{finalStore:a,dispositionNew:i,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:r,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:b}=e,h={time:c.s,interval:null===(t=a.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:c.s},g=await Object(u.A)(a,Object(u.Mb)(o),null===l||void 0===l?void 0:l.customerId,h);d(Object(j.f)({data:g,tenantId:r})),Object(O.i)(i,s,n,o,a,h);let I=a||null;d(Object(p.a)({...v,localized:!0})),Object(O.j)(s,o,h,I,m),b(!1),Object(u.vf)()})({finalStore:I[0],dispositionNew:a,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:r,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:i}),s({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(i(!1),b())};var f=a(43),N=a(4),S=a(6),T=a(55),x=a(133),C=a(270),E=a(2);const _=e=>{var t,a,n,j,p;const{setLocationdata:_=[]}=e,{srcFile:D,locationMap:y,buttonText:A,textDescription:R}=_,{userOrderState:L,userOrderStateDispatch:w}=Object(i.useContext)(s.a),[P,k]=Object(i.useState)(Object(u.ee)(window.innerWidth)),M=Object(o.b)(),[F,U]=Object(i.useState)(""),[W,H]=Object(i.useState)(!1),[B,G]=Object(i.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:V,PICK_UP:Y,GRANTED:z}=C.a,{profileReducer:q,tenantReducer:K,storesReducer:Q,appStateReducer:J}=Object(o.c)((e=>e)),{storesWithStatus:X,storesSatusError:Z,count:$}=Q,{allStores:ee=[],currentCount:te=0}=Object(o.c)((e=>e.allStoresReducer))||{},{storeSearch:ae={},tenantId:ie}=K,oe=null===K||void 0===K||null===(t=K.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(n=a.dispositionConfig)||void 0===n?void 0:n.enableAutoSetLocation;let ne=J.userStatus;const{maxDriveTimeMins:le,distanceMetrics:de,geohashprecision:re,boundingBoxSizeMeters:ce,boundingBoxSizeDivider:se}=ae;let ue=null===L||void 0===L?void 0:L.dispositionNew;if(!ue){const e=localStorage.getItem(c.Hb);ue=JSON.parse(e)}const ve=Object(o.c)((e=>({marketPageContent:l()(e,"marketConfigReducer.response",null)}))),me=null===ve||void 0===ve||null===(j=ve.marketPageContent)||void 0===j||null===(p=j.headerData)||void 0===p?void 0:p.autodetectDistance,be=()=>{M(Object(v.u)()),Object(T.o)(),w({type:h.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),w({type:h.a.SEARCH_ORDER_DATA,value:{showSearchStore:B}}),w({type:h.a.DISPOSITION_DATA,value:{showDisposition:!0}}),w({type:h.a.DISPOSITION_METHOD,value:{dispositionType:c.Jb.PICKUP}}),w({type:f.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(c.gd.CONFIG_SEARCH_SCREEN,x.a)};Object(i.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.ee)(window.innerWidth);k(e)}))}),[P]);const Oe=Object(i.useCallback)((async()=>{if(await Object(O.g)()){const{longitude:e=0,latitude:t=0}=null===b.b||void 0===b.b?void 0:b.b.coordinates;((e,t,a,i,o,n)=>{const l={lat:e,lon:t,distanceFromCurrentLoc:a/i,geohashprecision:o},d=null===m.a||void 0===m.a?void 0:m.a.calculateGH(l);n(Object(v.v)(null===d||void 0===d?void 0:d.length))})(t,e,ce,se,re,M),Object(u.ze)(null===b.b||void 0===b.b?void 0:b.b.address,f.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(i.useEffect)((()=>{if(W&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:a,dispositionType:i,setActiveDisposition:o,distanceMetrics:n,maxDriveTimeMins:l,dispatch:d,tenantId:r,SetLocationClickHandler:c}=e;o(i);const s=Object(O.a)(t),u={stores:s,disposition:i,distanceMetrics:n,driveTime:l,distanceInMtrs:a,noOfStores:s.length,channel:b.b.channel},v=null===m.a||void 0===m.a?void 0:m.a.checkAndProceed(u);null!==v&&void 0!==v&&v.length?g(v,i,d,r):c()})({allStores:ee,maxDistance:me,dispositionType:Y,setActiveDisposition:U,distanceMetrics:de,maxDriveTimeMins:le,dispatch:M,tenantId:ie,SetLocationClickHandler:be})}}),[ee,te]),Object(i.useEffect)((()=>{const e={storesWithStatus:X,dispositionNew:ue,setAutoDetectFlow:H,activeDisposition:F,userOrderState:L,profileReducer:q,dispatch:M,tenantId:ie,userOrderStateDispatch:w,userParams:ne,tenantReducer:K,SetLocationClickHandler:be};W&&(null===X||void 0===X?void 0:X.length)>0&&I(e)}),[X,Z]),Object(E.jsx)(E.Fragment,{children:Object(u.Td)(_)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===c.Ce.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(E.jsx)(d.a,{"data-testid":"",srcFile:D,alt:y,className:"google-location-img"}),Object(E.jsx)("div",{className:"setLocationText",children:R}),Object(E.jsx)(r.c,{variant:r.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:oe?()=>{var e,t,a;M(Object(v.u)()),Object(T.o)(),G(!0),w({type:V,value:{autoDetectionClicked:!0}}),w({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(c.gd.CONFIG_SEARCH_SCREEN,x.a),H(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(a=t.geolocation)||void 0===a||a.getCurrentPosition((()=>{M(Object(v.p)(z)),(async()=>{await Oe()})()}))}:be,children:P&&window.location.pathname===c.Ce.NUTRITION_ALLERGEN?Object(S.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.SET_YOUR_LOCATION):A}),P&&window.location.pathname===c.Ce.NUTRITION_ALLERGEN?Object(E.jsx)("span",{className:"arrow_white"}):""]}),Object(E.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}},1208:function(e,t,a){"use strict";t.a={AUTO:"auto",BODY:"body",CLOSE_MODAL:"closeModal",HIDDEN:"hidden",REWARDS_OVERLAY:"rewardsOverlay",DISPOSITION_DATA:"dispositionData",PDP_URL:"/pdp/",REDEEM_URL:"/redeem/",DISPOSITION:"/disposition",CART:"/cart",MODIFY_ORDER:"/modifyOrder",LOGIN:"/login",PLP_URL:"/plp",PROMOS_REWARDS_URL:"/promos-rewards"}},1210:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(20),l=a.n(n),d=a(28),r=a(419),c=a.n(r),s=a(42),u=a.n(s),v=a(1102),m=a.n(v),b=a(62),O=a(171),j=a(113),p=a(1104),h=a(73),g=a(35),I=a(6),f=a(144),N=a(1194),S=a(4),T=a(5),x=a(0),C=a(46),E=a(1117),_=a(15),D=a(169),y=a(2);var A=e=>{var t,a;const{currencySymbol:i,currencyConversionFactor:o,unavailableItem:n,orderDetails:l}=e,{YOUR_ORDER:d,TOTAL:r,ITEM_NOT_UNAVAILABLE:c,ITEM_CURRENLTY_UNAVAILABLE:s,CART_ITEM:u,REORDER_COUPON_ERROR_MESSAGE:v}=S.a,{foodLines:m=[],id:b,total:O}=Object(T.sd)(l),j=Object(I.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.ADD_HOPE),p=Object(I.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.LARGE_CARRY_BAG),h=Object(T.Tb)(m,j,p),g=null===h||void 0===h?void 0:h.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0),f=(n.length||(null===l||void 0===l||null===(t=l.discountLines)||void 0===t?void 0:t.length))>0;return Object(y.jsxs)("div",{className:"reorder-item-section",children:[Object(y.jsx)("span",{className:"reorder-section-heading",children:Object(I.translateWithI18Next)(d)}),Object(y.jsx)("div",{className:"".concat(Object(T.ad)(f,"error-can-not-deliver","hide-error-container")),children:Object(y.jsx)(E.a,{show:f,errorMsg:Object(I.translateWithI18Next)(null!==l&&void 0!==l&&null!==(a=l.discountLines)&&void 0!==a&&a.length?v:c),errImage:_.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(y.jsx)("section",{className:"reorder-accordian",children:Object(y.jsxs)(D.a,{header:"".concat(g," ").concat(Object(I.translateWithI18Next)(u)).concat(g>1?"s":""),open:!0,children:[null===h||void 0===h?void 0:h.map((e=>{var t,a,l,d,r;return Object(y.jsx)("section",{className:"",children:Object(y.jsxs)("div",{className:"reorder-order-item",children:[Object(y.jsx)("div",{className:"reorder-item-details",children:Object(y.jsx)("div",{className:"item-count-box mr",children:Object(y.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(y.jsxs)("div",{className:"item-desc-section",children:[Object(y.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(t=e.item)||void 0===t||null===(a=t.dname)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.value}),n.length>0&&n.find((t=>{var a;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)}))&&Object(y.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(y.jsx)(C.a,{srcFile:_.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(I.translateWithI18Next)(s)]})]}),!Object(T.le)()&&Object(y.jsxs)("span",{className:"item-amount item-desc-bold",children:[i,Object(T.g)((null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),o)," "]})]})})})),!Object(T.le)()&&Object(y.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(y.jsx)("span",{className:"payment-total",children:Object(I.translateWithI18Next)(r)}),Object(y.jsxs)("span",{className:"payment-total-amount",children:[i,Object(T.g)(O,o)]})]})]},"orderItem-".concat(b))})]})},R=a(41),L=a(1195),w=a(85);const{CURRENT_STORE_INFO_STORAGE:P}=x.gd||{},k=e=>{const{isGenericError:t,isPastOrderValidationLoading:a,isAddItemLoading:i,enableButton:o,enableScheduleOrder:n,isFutureDateTimeOrder:d,scheduleOrderFlag:r,selectedTime:c,hasError:s,unavailableItem:u,totalItemsLength:v}=e;return t||a||i||!o||s.error||(null===u||void 0===u?void 0:u.length)===v||n&&d&&r&&l()(c)};var M=e=>{var t,a,n,l,r,c;const{closeButtonHandler:s,onChangeDisposition:u,editDeliveryLocation:v,enableButton:m,onChangeRestaurant:b,currentOrderInfo:O,onClickOrderAgain:j,orderTypeDifferentError:p,storeError:h,locationDifferentError:g,isLocationError:C,isGenericError:E,isPastOrderValidationLoading:_,isAddItemLoading:D,storeChanged:P,currentStoreInfo:M,enableScheduleOrderFlag:F,selectedDate:U,selectedTime:W,scheduleOrderFlag:H,hasError:B,changeDateValue:G,changeTimeValue:V,orderNowFlag:Y,enableSceduleCA:z,enableScheduleMode:q,dateTimeArr:K,orderSchedulingMode:Q,changeScheduleOrder:J,isFutureDateTimeOrder:X,isStoreClosed:Z,storeClosedError:$,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:ae}=Object(i.useContext)(w.a),ie=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(F,K),oe=((e,t)=>{var a;return!!e&&!(null!==t&&void 0!==t&&null!==(a=t.timeSlots)&&void 0!==a&&a.length)})(F,U),ne=Object(d.c)((e=>e.tenantReducer)),le=null===ne||void 0===ne||null===(t=ne.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:de,disableChangeCTAForAddressChange:re,disableChangeCTAForStoreChange:ce}=null===ne||void 0===ne||null===(a=ne.componentOptions)||void 0===a||null===(n=a.web)||void 0===n?void 0:n.quickReorder,{modifiedStoreData:se,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(T.md)(P,M,O,ae),me=P?Object(T.ac)(null===O||void 0===O?void 0:O.deliveryAddress,le):Object(T.ac)(ve,le),{REVIEW_ORDER:be,ORDER_TYPE:Oe,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:pe,YOUR_LOCATION:he,ORDER_AGAIN:ge,PICK_UP_TIME:Ie,DELIVERY_TIME:fe}=S.a,{DELIVERY:Ne}=x.Jb,Se=((e,t)=>{const{DELIVERY:a}=x.Jb||{},i=(null===t||void 0===t?void 0:t.toUpperCase())===a?Object(I.translateWithI18Next)(S.a.SELECT_DELIVERY_TIME):Object(I.translateWithI18Next)(S.a.SELECT_PICKUP_TIME);return e?i:Object(I.translateWithI18Next)(S.a.ASAP)})(J,ue),Te=Y||H&&!J,xe=H&&J,Ce={isGenericError:E,isPastOrderValidationLoading:_,isAddItemLoading:D,enableButton:m,enableScheduleOrder:F,isFutureDateTimeOrder:X,scheduleOrderFlag:H,selectedTime:W,hasError:B,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(l=e.orderDetails)||void 0===l||null===(r=l.foodLines)||void 0===r?void 0:r.length};return Object(y.jsx)(o.a.Fragment,{children:Object(y.jsxs)(f.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:s,backButtonHandler:s,modalTitle:Object(I.translateWithI18Next)(be),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:R.b.secondary,footerBtnText:Object(I.translateWithI18Next)(ge),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:k(Ce),loadingBtn:D,children:[Object(y.jsx)(N.a,{show:!0,sectionHeader:Oe,subSectionValue:Object(I.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:p,isAlert:!0,showChangeButton:!de,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Object(T.Jd)(ue),sectionHeader:he,subSectionValue:me,showChangeButton:!Object(T.Jd)(ue)||!re,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(c=ve.addressLines)||void 0===c?void 0:c[0]:null===ae||void 0===ae?void 0:ae.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(me)}),Object(y.jsx)(N.a,{show:!0,sectionHeader:pe,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,onClickHandler:b,showChangeButton:!ce,isAlert:Z||!E,storeUnavailableError:E&&h||C&&g||Z&&$,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Boolean(F&&Te),sectionHeader:Object(T.Jd)(ue)?fe:Ie,subSectionValue:Q,orderTypeChange:je,onClickHandler:q,showChangeButton:z,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(y.jsx)(L.a,{show:Boolean(F&&xe),sectionHeader:Object(T.Jd)(ue)?fe:Ie,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,changeDateValue:G,changeTimeValue:V,dateTimeArr:K,selectedDate:U,selectedTime:W,placeholderText:Se,disableDateOption:ie,disableTimeOption:oe,scheduleTimeWarning:F&&B&&(null===B||void 0===B?void 0:B.error),scheduleErrMsg:F&&B&&(null===B||void 0===B?void 0:B.errormessage),enableScheduleOrderFlag:F,elementUniqueLocator:te}),Object(y.jsx)(A,{...e})]})})},F=a(16),U=a(43),W=a(133),H=a(120),B=a(24),G=a(12),V=a(412),Y=a(329),z=a(145),q=a(394),K=a(80),Q=a(132);const J=e=>{var t;const{enableScheduleOrder:a,isFutureTimeOrderAvailable:i,updateReorderDetails:o,storename:n,service:l}=e,{STORE_CLOSED_ERROR:d,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:r,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:c}=S.a;o(a&&i?{storeError:null,storeClosedError:Object(T.rf)(l)===x.Lb.PICKUP?Object(I.translateWithI18Next)(r):Object(I.translateWithI18Next)(c)}:{storeClosedError:null,storeError:null===(t=Object(I.translateWithI18Next)(d))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(n,"</b>"))})},X=e=>{var t;const{timings:a={},orderingAttribute:i={}}=Object(T.sd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:o={}}=a||{},{isAsapOrder:n=!1}=i||{},l=!(null!==o&&void 0!==o&&o.isAvailable);return Boolean(!l&&n)},Z=(e,t)=>Boolean(e&&t),$=e=>{var t;return e?Object(I.translateWithI18Next)(S.a.TODAY_ASAP):null===(t=Object(I.translateWithI18Next)(S.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,a,n,r,s,v,f,N,C,E;const{currentOrderInfo:_,reorderModalOpen:D,closeButtonHandler:A,source:R}=e,{service:L,id:P,store:k,name:ee}=Object(T.sd)(_),{storeId:te}=Object(T.sd)(k),ae=Object(d.b)(),ie=Object(b.g)(),{RESET_DELIVERY_ADDRESS_LINE:oe,DISPOSITION_DATA:ne,SCHEDULE_ORDER_DATA:le,SEARCH_ORDER_DATA:de,DISPOSITION_METHOD:re,USER_LOCALIZED:ce,CURRENT_STORE_INFO:se,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:me,SET_ASAP_SCHEDULING:be,SCHEDULE_ORDER_CLICKED:Oe}=F.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:pe,DISPOSITION_TYPE:he,DATE_TIME_ORDER:ge,SELECTED_TILE:Ie,CONFIG_SEARCH_SCREEN:fe,CURRENT_STORE_INFO_STORAGE:Ne,STORE_INFO:Se}=x.gd,{LOCATION_DIFFERENT_ERROR:Te,STORE_CLOSED_ERROR:xe}=S.a,{userOrderState:Ce,userOrderStateDispatch:Ee}=Object(i.useContext)(w.a);let{dispositionNew:_e,reorderFlag:{storeChanged:De=!1},currentStoreInfo:ye={},scheduleOrderData:Ae={},showOrderNowReorder:Re=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:we=!1}=Ce;const{changeFlow:Pe=!1,isAddressFlow:ke=!1}=Ae;_e=Object(T.ad)(Object(T.Sd)(_e),JSON.parse(localStorage.getItem(je)),_e);const Me=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Fe=!1,loggedIn:Ue=!1}=Object(T.sd)(Me),We=Object(T.od)(Fe,Ue),He=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Be,currencyConversionFactor:Ge,currencySymbol:Ve,componentOptions:Ye}=Object(T.sd)(He),ze=null===He||void 0===He||null===(t=He.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,qe=null===He||void 0===He||null===(a=He.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress,Ke=null===He||void 0===He||null===(n=He.componentOptions)||void 0===n?void 0:n.showComma,{web:Qe={}}=Ye,{shouldCheckDropOffAddress:Je=!1}=Qe,Xe=Object(d.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(T.sd)(Xe),{elementUniqueLocator:$e,timeFormat:et}=Object(d.c)((e=>e.tenantReducer||{})),tt=Object(d.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:at={}}=Object(T.sd)(tt),{addHope:it,carryBag:ot}=He,nt=o.a.useRef(null),lt=Object(d.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:dt}=Object(T.sd)(lt),{items:rt=[]}=Object(T.sd)(dt),ct=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),st=Object(d.c)((e=>{var t,a,i;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreDetailsLoading)||(null===(i=e.LoaderReducer)||void 0===i?void 0:i.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:mt}=Object(T.sd)(ct),{discountLines:bt=[],foodLines:Ot=[]}=at,jt=Object(T.hb)(bt,(null===bt||void 0===bt?void 0:bt.length)-1),pt=Object(T.hb)(bt,bt[jt]),{couponCode:ht="",amount:gt=""}=Object(T.sd)(pt),It=Object(T.g)(gt,Ge),ft=null===Ye||void 0===Ye||null===(r=Ye.web)||void 0===r?void 0:r.dispositionConfig,Nt=null===Ye||void 0===Ye||null===(s=Ye.web)||void 0===s||null===(v=s.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:St=!1}=ft,{modifiedService:Tt}=Object(T.md)(De,ye,_),xt=((e,t,a)=>e&&(null===t||void 0===t?void 0:t.includes(a)))(null===Ye||void 0===Ye||null===(f=Ye.web)||void 0===f||null===(N=f.dispositionConfig)||void 0===N?void 0:N.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(C=Ye.web)||void 0===C||null===(E=C.scheduledDelivery)||void 0===E?void 0:E.allowScheduleOrderForDispositions,Tt),Ct=((e,t)=>e||t)(St,xt),Et={unavailableItem:[],showModal:D,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:$(xt),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[_t,Dt]=Object(i.useState)(Et),[yt,At]=Object(i.useState)(!1),Rt=Object(i.useCallback)((e=>{Dt&&Dt((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=x.sb,wt=Ct?De:Pe,Pt=Object(Q.b)(K.b);Object(i.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(x.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(i.useEffect)((()=>{nt.current=_t}),[_t]),Object(i.useEffect)((()=>{if(Z(Ct,_t.storeDetail)&&_t.isFutureDateTimeOrder&&!_t.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=_t.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:Ct,enableClickCollectScheduleOrderFlag:xt,fromReorder:!0,scheduleModeClicked:we,timeFormat:et},a=Object(H.h)(t);Rt({dateTimeArr:a})}}),[St,_t.storeDetail,L,De,_t.isFutureDateTimeOrder,_t.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Ct,_t.storeDetail)&&_t.isFutureDateTimeOrder&&_t.scheduleOrderFlag&&_t.changeScheduleOrder){const e={shouldShowScheduleOrder:_t.scheduleOrderFlag,store:_t.storeDetail,updateReorderDetails:Rt,changeFlow:Pe,enableScheduleOrder:Ct,selectedDate:_t.selectedDate,selectedTime:_t.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:we,enableClickCollectScheduleOrderFlag:xt};Object(H.c)(e)}}),[Ct,_t.scheduleOrderFlag,De,_t.storeDetail,_t.isFutureDateTimeOrder,_t.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Ct,_t.storeDetail)){var e,t,a;const i=X(null===_t||void 0===_t?void 0:_t.storeDetail),o=null===(e=_t.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),n=!l()(_t.selectedDate)&&!l()(_t.selectedTime),d=u()(null===_t||void 0===_t||null===(t=_t.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),r=((e,t)=>Boolean(e&&!t))(null===_t||void 0===_t?void 0:_t.storeClosedError,o);((e,t,a,i)=>{var o;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&a({orderSchedulingMode:i?Object(I.translateWithI18Next)(S.a.TODAY_ASAP):null===(o=Object(I.translateWithI18Next)(S.a.ASAP))||void 0===o?void 0:o.toUpperCase()})})(_t,i,Rt,xt);const c=(e=>{const{storeClosedError:t,asapOrderFlag:a,isFutureDateTimeOrder:i,changeScheduleOrder:o,enabledDate:n,isDateTimeSelected:l}=e;return Boolean((t||!a)&&i&&!o&&n&&!l)})({storeClosedError:null===_t||void 0===_t?void 0:_t.storeClosedError,asapOrderFlag:i,isFutureDateTimeOrder:null===_t||void 0===_t?void 0:_t.isFutureDateTimeOrder,changeScheduleOrder:_t.changeScheduleOrder,enabledDate:o,isDateTimeSelected:n});c&&Rt({scheduleOrderFlag:!0,selectedDate:o,selectedTime:null===o||void 0===o?void 0:o.timeSlots[0],orderNowFlag:!1});const s=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:a,scheduleOrderFlag:i,changeScheduleOrder:o,enabledDate:n}=e;return Boolean(!t&&a&&i&&o&&n)})({storeClosedError:_t.storeClosedError,isFutureDateTimeOrder:_t.isFutureDateTimeOrder,scheduleOrderFlag:_t.scheduleOrderFlag,changeScheduleOrder:_t.changeScheduleOrder,enabledDate:o});s&&l()(_t.selectedDate)&&Rt({selectedDate:o}),r&&Rt({storeClosedError:null,storeError:null===(a=Object(I.translateWithI18Next)(xe))||void 0===a?void 0:a.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})}}),[Ct,_t.orderNowFlag,_t.scheduleOrderFlag,_t.storeClosedError,_t.changeScheduleOrder,_t.storeDetail,_t.isFutureDateTimeOrder,De,_t.dateTimeArr]),Object(i.useEffect)((()=>{if(Ct&&!l()(_t.selectedDate)&&!l()(_t.selectedTime)){const e=_t.selectedDate.date.value,t=_t.selectedTime.value,a=Ke?",":"",i=" ".concat(e).concat(a," ").concat(t);Rt({orderSchedulingMode:i})}}),[_t.selectedDate,_t.selectedTime,Ct]),Object(i.useEffect)((()=>{if(Z(Ct,_t.storeDetail)){var e,t,a;const i=null===(e=_t.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),o=Object(T.Yd)(null===(t=_t.storeDetail)||void 0===t?void 0:t[0])||Object(T.Xd)(null===(a=_t.storeDetail)||void 0===a?void 0:a[0]),n=((e,t,a)=>Boolean(e&&!t&&a))(o,_t.changeScheduleOrder,i);Rt({isFutureDateTimeOrder:o,enableSceduleCA:n})}}),[Ct,_t.storeDetail,De,_t.dateTimeArr]),Object(i.useEffect)((()=>{null!==_t&&void 0!==_t&&_t.showModal&&Ct&&!De&&Ee({type:Oe,value:{scheduleModeClicked:!1}})}),[null===_t||void 0===_t?void 0:_t.showModal,Ct,De]),Object(i.useEffect)((()=>{if(Z(Ct,_t.storeDetail)&&_t.showModal&&De&&!_t.isFlowChangedLoadingFinish){var e,t,a;const i=null===(e=_t.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),o=((e,t,a)=>Boolean(e&&t&&a))(X(null===_t||void 0===_t?void 0:_t.storeDetail),_t.isFutureDateTimeOrder,i);o&&Rt({orderNowFlag:Re,changeScheduleOrder:!Re||Le&&(null===(t=_t.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!Re||Le&&(null===(a=_t.dateTimeArr)||void 0===a?void 0:a.length),isFlowChangedLoadingFinish:!0})}}),[Ct,Re,Le,De,_t.showModal,_t.storeDetail,_t.dateTimeArr,_t.isFlowChangedLoadingFinish,_t.isFutureDateTimeOrder]);Object(i.useEffect)((()=>{Object(T.hb)(_t.confirmed,mt)&&(Rt({confirmed:!1}),ie.push(x.Ce.CART))}),[_t.confirmed,mt]);const kt=Object(T.g)(null===at||void 0===at?void 0:at.total,Ge),Mt=Object(i.useCallback)((()=>{var e,t;const a=null===(e=_t.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,i=Object(T.ac)(a);localStorage.setItem(x.gd.RETAIN_ADDRESS,i),Rt({showModal:!1}),Ee({type:oe}),Ee({type:ne,value:{showDisposition:!0}}),Ee({type:le,value:{showScheduleOrder:!1}}),Ee({type:de,value:{showSearchStore:!1}}),Ee({type:me,value:{reorderModalOpen:!1}})}),[Ee,_t.storeDetail]),Ft=Object(i.useCallback)((e=>{const t=c()(_t.storeDetail,{});t&&(Ee({type:re,value:{dispositionType:t.service}}),Object(H.a)(ke,t,W.a,wt,!0,e,Ee),Ee({type:me,value:{reorderModalOpen:!1}}))}),[Ee,wt,ke,_t.storeDetail]),Ut=Object(i.useCallback)((e=>{if(!Object(T.Sd)(e)){var t;const{summary:a}=e,{futureDates:i,scheduled:o,asap:n}=Object(T.sd)(null===a||void 0===a?void 0:a.timings),{interval:l=0,startEndTime:d={}}=o&&o.periods.length&&o.periods[0],{from:r,to:c}=d;return Object(H.j)(r,c,l,null===n||void 0===n?void 0:n.isAvailable,Object(T.hb)(1===i.length,Object(T.le)())),{time:x.t,interval:null===a||void 0===a||null===(t=a.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:x.t}}})),Wt=(e,t,a)=>{const i=[];let o=0,n=[],l=Object(T.Tb)(e,it,ot);return null===l||void 0===l||l.forEach((e=>{var l,d,r;const c=(e=>{const t=e;return e.forEach(((t,a)=>{var i;e[a].modifiers=null===(i=t.modifiers)||void 0===i?void 0:i.filter((e=>!0===e.isAdded))})),t})(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps),s=null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,u=Object(T.Of)(rt,c,s),{isAvailable:v,product:m}=((e,t,a)=>{var i,o,n,l,d,r;const c=a&&"ASAP"!==a?Object(G.C)(a,x.sb.lll):Object(G.e)(x.sb.lll),s=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(i=s[0])||void 0===i||null===(o=i.availability[0])||void 0===o?void 0:o.availableHours,v=null===u||void 0===u||null===(n=u.startTime)||void 0===n?void 0:n.time,m=null===u||void 0===u||null===(l=u.endTime)||void 0===l?void 0:l.time,b=Object(q.j)(Object(T.z)(v),x.sb.lll,1e3*a),O=Object(q.j)(Object(T.z)(m),x.sb.lll,1e3*a),j=null===(d=s[0])||void 0===d?void 0:d.isNotAvailable,p=Object(G.f)(c,b,O)&&!j;return(null===(r=s[0])||void 0===r?void 0:r.isHidden)?{isAvailable:"hidden",product:s}:{isAvailable:p,product:s}})(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,t,a);var b,O,j,p;v&&u?i.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===m||void 0===m||null===(b=m[0])||void 0===b||null===(O=b.categoryUrl)||void 0===O?void 0:O[0],categoryName:null===m||void 0===m||null===(j=m[0])||void 0===j?void 0:j.categoryName,categoryId:null===m||void 0===m||null===(p=m[0])||void 0===p?void 0:p.categoryId,modGrps:c}):(o+=1,n.push(e.item))})),Rt({unavailableItem:n}),{unAval:o,itemArr:i}},Ht=(e,t,a)=>{const i=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===x.Ne||void 0===x.Ne?void 0:x.Ne.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:B.b.channel,service:a});Object(z.g)(),ae(Ct?Object(p.b)({tenantId:Be,catalogName:e},i,(()=>Rt({isMenuFetched:!0}))):Object(p.b)({tenantId:Be,catalogName:e},{storeId:t,channel:B.b.channel,service:a},(()=>Rt({isMenuFetched:!0}))))};Object(i.useEffect)((()=>{if(Object(T.j)([Ot.length>0,rt.length>0,_t.isMenuFetched])){var e;const{id:t}=Object(T.sd)(ut),a=Object(T.Tb)(Ot,x.i),i=Wt(a,rt,null===(e=_t.selectedTime)||void 0===e?void 0:e.key),o={dispatch:ae,response:i,foodLineInfo:Ot,basketId:t,tenantId:Be,updateReorderDetails:Rt,setupLocalization:Gt,storeDetail:_t.storeDetail,orderinfoData:_t.orderinfoData,closeButtonHandler:A};yt||((e=>{const{dispatch:t,response:a,foodLineInfo:i,basketId:o,tenantId:n,updateReorderDetails:l,setupLocalization:d,storeDetail:r,orderinfoData:c,closeButtonHandler:s}=e;a.unAval!==i.length&&t(Object(g.a)({params:{basketId:o},tenantId:n,isFromReorder:!0},a.itemArr,(e=>{localStorage.removeItem(x.gd.ADD_TO_ORDER),d(r,c),l({confirmed:!0}),s()})))})(o),Rt({isMenuFetched:!1})),At(!1)}}),[Ot,rt,_t.isMenuFetched]);const Bt=async function(){var e,t,a,i,o,n,l,d,r,c,s,u,v,b,O,j,p,h,f,N,C,E,_,D;let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A||At(!1);const{lang:R,catalog:w,storeId:P,deliveryAddress:k,storename:M,service:F}=Object(T.ld)(A?y:_t.storeDetail),W=De?k:null===(e=_t.orderinfoData)||void 0===e?void 0:e.deliveryAddress,H={date:null!==(t=null===(a=_t.selectedDate)||void 0===a||null===(i=a.date)||void 0===i?void 0:i.key)&&void 0!==t?t:Object(G.h)(new Date,Lt),time:null!==(o=null===(n=_t.selectedTime)||void 0===n?void 0:n.value)&&void 0!==o?o:x.t,selectedTime:null!==(l=null===(d=_t.selectedTime)||void 0===d?void 0:d.value)&&void 0!==l?l:x.t,epochTime:null!==(r=_t.selectedTime)&&void 0!==r&&r.key&&(null===(c=_t.selectedTime)||void 0===c?void 0:c.key)!==x.t?null===(s=_t.selectedTime)||void 0===s?void 0:s.key:x.t},B={time:x.t,date:new Date,selectedTime:x.t,epochTime:x.t},V=Ct?H:B;let Y={id:P,summary:{menu:{catalogs:[w]}},addresses:[{lang:R}]};const{addressLines:z=[],customProperties:q}=(null===_t||void 0===_t||null===(u=_t.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[Q,X,Z,$,ee,te,ie,oe]=z,ne=null===_t||void 0===_t||null===(v=_t.orderinfoData)||void 0===v||null===(b=v.deliveryAddress)||void 0===b?void 0:b.name,le=null===_t||void 0===_t||null===(O=_t.orderinfoData)||void 0===O||null===(j=O.deliveryAddress)||void 0===j?void 0:j.pinCode,de=null===(p=m()(q,{key:x.V}))||void 0===p?void 0:p.value,re=null===(h=m()(q,{key:x.S}))||void 0===h?void 0:h.value,ce=(null===_t||void 0===_t||null===(f=_t.orderinfoData)||void 0===f||null===(N=f.customProperties)||void 0===N||null===(C=N[0])||void 0===C?void 0:C.value)||{},se=ze&&null!==z&&void 0!==z&&z.length?{addressName:ne,apartmentName:ee,chome:Z,chomeId:re,cityId:de,cityTown:X,companyName:ie,postalCode:le,prefecture:Q,roomNumber:te,specialNote:oe,streetDetailAddress:$}:{},ue=await Object(T.A)(Y,Object(T.Mb)(F),Ze,V,Object(T.ac)(W,qe),null,se,null===_t||void 0===_t||null===(E=_t.orderinfoData)||void 0===E||null===(_=E.deliveryAddress)||void 0===_?void 0:_.addressLines);let ve=Object(G.p)();if(Ct&&(null===(D=_t.selectedTime)||void 0===D?void 0:D.key)<ve)Rt({hasError:{..._t.hasError,error:!0,errormessage:Object(I.translateWithI18Next)(S.a.SCHEDULE_ORDER_CA)}});else{const e=Object(T.Td)(_t.selectedTime)?_t.selectedTime.key:"";Ct&&sessionStorage.setItem(x.Ne.SCHEDULE_DATE_EPOCH,e),ae(Object(g.f)({data:ue,tenantId:Be,successCallback:()=>Ht(w,P,F),errorCallback:()=>{var e,t;const a=nt.current,i=Object(T.Yd)(null===a||void 0===a||null===(e=a.storeDetail)||void 0===e?void 0:e[0])||Object(T.Xd)(null===a||void 0===a||null===(t=a.storeDetail)||void 0===t?void 0:t[0]);J({enableScheduleOrder:St,isFutureTimeOrderAvailable:i,updateReorderDetails:Rt,storename:M,service:L})}}))}ae(Object(K.d)({key:x.gd.ADD_HOPE_TRIGGER,value:!0})),ae(Object(K.d)({key:null===x.se||void 0===x.se?void 0:x.se.REORDER_FLAG,value:{isReorderFlow:!0}})),ae(Object(K.d)({key:null===x.gd||void 0===x.gd?void 0:x.gd.SELECTED_NOT_NOW,value:!1})),ae(Object(K.d)({key:null===x.gd||void 0===x.gd?void 0:x.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),ae(Object(K.d)({key:null===U.a||void 0===U.a?void 0:U.a.STREET_NUMBER,value:ce}))},Gt=(e,t)=>{var a,i,o,n,l,d,r,s,u,v,m,b;const O=c()(e,{});let{deliveryAddress:p,service:h}=De?Object(T.ld)(e):t;Ee({type:re,value:{dispositionType:h}});const I=ze?Object(G.S)(null===(a=_t.selectedTime)||void 0===a?void 0:a.value,x.sb.HH_mm,x.sb.hh_mm_A):null===(i=_t.selectedTime)||void 0===i?void 0:i.value,f={date:null!==(o=null===(n=_t.selectedDate)||void 0===n||null===(l=n.date)||void 0===l?void 0:l.key)&&void 0!==o?o:Object(G.h)(new Date,Lt),time:null!==I&&void 0!==I?I:x.t,selectedTime:null!==I&&void 0!==I?I:x.t,epochTime:null!==(d=_t.selectedTime)&&void 0!==d&&d.key&&(null===(r=_t.selectedTime)||void 0===r?void 0:r.key)!==x.t?null===(s=_t.selectedTime)||void 0===s?void 0:s.key:x.t},N=Ct?f:Ut(O),S=Boolean((null===N||void 0===N?void 0:N.key)===x.t),C={type:h,store:O,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,epochTime:null===N||void 0===N?void 0:N.epochTime,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,deliveryAddress:Object(T.ac)(p,qe),deliveryAddressLine:(null===p||void 0===p||null===(u=p.addressLines)||void 0===u?void 0:u.length)>=1?null===p||void 0===p||null===(v=p.addressLines)||void 0===v?void 0:v[0]:""};Ee({type:ue,value:{oldvalue:_e,newValue:C}}),localStorage.setItem(pe,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(C)),localStorage.setItem(je,JSON.stringify({type:h,store:O,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,epochTime:null===N||void 0===N?void 0:N.epochTime,deliveryAddress:Object(T.ac)(p,qe),deliveryAddressLine:(null===p||void 0===p||null===(m=p.addressLines)||void 0===m?void 0:m.length)>=1?null===p||void 0===p||null===(b=p.addressLines)||void 0===b?void 0:b[0]:""})),Ee({type:de,value:{showSearchStore:!1}}),Ee({type:ce,value:{isLocalized:!0}}),Ee({type:se,value:O}),ae(Object(j.a)({...Me,localized:!0})),localStorage.setItem(Ne,JSON.stringify(O)),localStorage.setItem(Se,JSON.stringify(O)),Ct&&(Ee({type:F.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),Ee({type:F.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),Ee({type:be,value:{enableASAPScheduling:S}})),Ee({type:ve,value:{selectedDateTime:N}}),localStorage.setItem(Ie,JSON.stringify({})),localStorage.setItem(fe,W.a),localStorage.setItem(he,h),localStorage.setItem(ge,JSON.stringify(N)),Ee({type:F.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),Ee({type:F.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(T.ld)(_t.storeDetail);if(Object(T.Td)(e)){const a=Object(T.ac)(e),i=await Object(Y.geocodeByAddress)(a),o=await Object(Y.getLatLng)(null===i||void 0===i?void 0:i[0]);Object(T.tf)(t,i),Nt&&ae(Object(K.d)({key:x.se.LAT_LONG,value:o}))}localStorage.setItem(x.gd.SERVICE_TYPE,Object(T.Mb)(t));const a=x.p.AUD;let i=[];null===Ot||void 0===Ot||Ot.forEach(((e,t)=>{var o,n,l,d;let r=Object(T.g)(null===e||void 0===e?void 0:e.unitPrice,Ge);i.push({item_name:Object(T.jb)(null===e||void 0===e||null===(o=e.item)||void 0===o||null===(n=o.dname[0])||void 0===n?void 0:n.value,"NA"),item_id:Object(T.jb)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,"NA"),price:Object(T.jb)(parseFloat(r),"NA"),coupon:ht,currency:a,discount:It,item_category:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.categoryName)||"NA",item_list_name:R,item_list_id:"",index:t+0,quantity:Object(T.jb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(V.o)(i,We,a,kt,t),Ot.length>0&&ae(Object(g.r)()),Object(V.p)(We,ee)})()},Vt=(e,t)=>{const{modifiedStoreData:a}=Object(T.md)(De,ye,_);if(Rt({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=c()(e,{}),l=u()(t,"summary",{}),{currentStatus:d}=u()(l,"status",{}),r=u()(l,"name",{}),s=Object(T.Yd)(t)||Object(T.Xd)(t);if(d===x.Y){J({enableScheduleOrder:St,isFutureTimeOrderAvailable:s,updateReorderDetails:Rt,storename:r,service:L})}var i,o,n;if(Me.localized)((e,t,a)=>{var i,o;Object(T.rf)(null===e||void 0===e?void 0:e.type)!==Object(T.rf)(t)&&a({orderTypeDifferentError:null===(i=Object(I.translateWithI18Next)(S.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===i?void 0:i.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.toLowerCase()),"</b>"))})})(_e,Tt,Rt),te!==(null===(i=_e)||void 0===i||null===(o=i.store)||void 0===o?void 0:o.id)&&Rt({locationDifferentError:null===(n=Object(I.translateWithI18Next)(Te))||void 0===n?void 0:n.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))});At(!0),Bt(e,!0)}else{var l;Rt({storeClosedError:null,storeError:null===(l=Object(I.translateWithI18Next)(xe))||void 0===l?void 0:l.replace("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))})}};return Object(i.useEffect)((()=>{const e=null===_||void 0===_?void 0:_.service,{modifiedStoreId:t,modifiedStoreData:a,modifiedService:i,modifiedDeliveryAddress:o}=Object(T.md)(De,ye,_);ae(Object(h.l)({storeId:t,tenantId:Be},(t=>{const n={data:Object(T.C)([a],i,o,Je,null===Pt||void 0===Pt?void 0:Pt.latLong),store:[{...t,service:i}],tenantId:Be,setStatusFlag:!1,isFavoritePage:!1};ae(Object(h.d)(n,(t=>{Rt({storeDetail:t}),ae(Object(O.f)({tenantId:Be,orderId:P,customerId:Ze,CTO:!!Object(T.Jd)(e)&&void 0},(e=>Vt(t,e))))})))})))}),[]),Object(y.jsx)(y.Fragment,{children:_t.showModal?Object(y.jsx)(M,{...e,onChangeDisposition:Mt,editDeliveryLocation:Ft,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(T.md)(De,ye,_),a=c()(_t.storeDetail,{});var i;a?(Rt({showModal:!1}),Ee({type:re,value:{dispositionType:a.service}}),Object(T.Gf)(Ee,null===(i=a.summary)||void 0===i?void 0:i.name),Ee({type:me,value:{reorderModalOpen:!1}})):(Rt({showModal:!1}),Ee({type:re,value:{dispositionType:t}}),Object(T.Gf)(Ee,null===e||void 0===e?void 0:e.name),Ee({type:me,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Bt,storeError:_t.storeError,locationDifferentError:_t.locationDifferentError,currencySymbol:Ve,currencyConversionFactor:Ge,orderDetails:at,isPastOrderValidationLoading:st,isAddItemLoading:vt,storeChanged:De,currentStoreInfo:ye,enableScheduleOrderFlag:Ct,changeDateValue:e=>{var t,a;const i=null===(t=_t.dateTimeArr)||void 0===t?void 0:t.find((t=>{var a;return(null===t||void 0===t||null===(a=t.date)||void 0===a?void 0:a.key)===(null===e||void 0===e?void 0:e.key)}));Rt({hasError:{..._t.hasError,error:!1,errormessage:""},selectedDate:i,storeError:null,storeClosedError:null,selectedTime:{...null===i||void 0===i||null===(a=i.timeSlots)||void 0===a?void 0:a[0]}})},changeTimeValue:e=>{Rt({hasError:{..._t.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{Rt({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(_t.storeClosedError),isGenericError:Boolean(_t.storeError),isLocationError:Boolean(_t.locationDifferentError),..._t,elementUniqueLocator:$e}):null})}},1214:function(e,t,a){"use strict";var i=a(3),o=a(1136),n=a(2);t.a=e=>{const{endTime:t=new Date}=e,[a,l]=Object(i.useState)(Object(o.d)(t));return Object(i.useEffect)((()=>{let e;return Object(o.e)(t)?e=setTimeout((()=>{l(Object(o.d)(t))}),1e3):l("00HR : 00M : 00S"),()=>{clearTimeout(e)}})),Object(n.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:a})}},1215:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(46),l=a(264),d=a(28),r=a(41),c=a(6),s=a(15),u=a(11),v=a(14),m=a(1133),b=a(83),O=a(0),j=a(4),p=a(5),h=a(1136),g=a(1098),I=a(2);t.a=e=>{var t,a,i;const{smallText:f,titleValue:N,imageName:S,item:T,tenantId:x,setConfirmationModal:C,setViewDetailsHandler:E,showMultiProductModal:_,dispositionType:D,addToOrderClickHandler:y,startOrderClickHandler:A,promosApplied:R,basketData:L,setViewCartHandler:w,setDispositionHandler:P,createSignInURL:k,page:M,loggedIn:F,localized:U,setLocationClickHandler:W}=e,{ITEM_IN_CART:H,ONE_PROMO_APPLIED:B,DELIVERY_PROMOTION:G,PICKUP_PROMOTION:V,VIEW_MENU:Y,START_ORDER:z,VIEW_PRODUCT:q,PROMO_ADD_TO_CART:K,VIEW_DETAILS:Q,CHANGE_PICKUP:J,CHANGE_DELIVERY:X,VIEW_CART:Z,GUEST_USER_SINGIN_TEXT:$,SIGNIN_TEXT:ee,CHECK_BACK_AGAIN:te,THATS_ALL_FOR_NOW:ae,CATERING_PROMO_ERROR:ie,NO_IMAGE:oe}=j.a,{SignInCard:ne,Error_Yellow:le,GreenCheck:de,Applied_CouponIcon:re}=s.a,{DEFAULT_IMAGE_PATH:ce}=m.a,se=(null===L||void 0===L||null===(t=L.foodLines)||void 0===t?void 0:t.length)||0,ue=Object(d.c)((e=>e.tenantReducer)),ve={userType:Object(p.od)(U,F),couponCode:e.couponCode,dispositionType:e.dispositionType,titleValue:null===T||void 0===T?void 0:T.titleValue},{componentOptions:{web:{plp:{promosRewardsImage:me}={},coupons:be={}}={}}={}}=null!==ue&&void 0!==ue?ue:{},{cardImagePath:Oe,useBucketSize:je}=be,pe=null===ue||void 0===ue||null===(a=ue.componentOptions)||void 0===a||null===(i=a.coupons)||void 0===i?void 0:i.noAvailableCouponsLongText,he=t=>{if(null!==t&&void 0!==t&&t.isApplied&&se&&null!==t&&void 0!==t&&t.itemDetails)return Object(I.jsx)("div",{onClick:t=>w(e),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:Object(c.translateWithI18Next)(Z)})});if(null!==t&&void 0!==t&&t.isApplied||!R){let e=D===O.fe?Object(c.translateWithI18Next)(X):Object(c.translateWithI18Next)(J),t=D===O.fe?O.yb:O.fe;return Object(I.jsx)("div",{onClick:e=>P(t),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:e})})}return""},ge=()=>{return Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(M===O.he&&"plp-toast-item"),children:Object(I.jsxs)("div",{className:"promos-tost-container ".concat((null===T||void 0===T?void 0:T.isApplied)&&"greenbg"),children:[Object(I.jsxs)("div",{className:"promos-tost-icon ",children:[(null===T||void 0===T?void 0:T.isApplied)&&se&&(null===T||void 0===T?void 0:T.itemDetails)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:de,className:"promos-store-image green-icon",alt:""})}),!(null!==T&&void 0!==T&&T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:le,className:"promos-store-image ".concat(M===O.he&&"plp-promos-store-image"),alt:""})})]}),Object(I.jsxs)("div",{className:"promos-tost-text-container",children:[Object(I.jsx)("div",{className:"promos-tost-text",children:Object(p.Hd)(D)?Object(c.translateWithI18Next)(ie):(e=T,null!==e&&void 0!==e&&e.isApplied&&se&&null!==e&&void 0!==e&&e.itemDetails?Object(c.translateWithI18Next)(H)+".":null!==e&&void 0!==e&&e.isApplied||!R?D===O.fe?Object(c.translateWithI18Next)(G):Object(c.translateWithI18Next)(V):Object(c.translateWithI18Next)(B))}),Object(p.Hd)(D)?null:he(T)]})]})})});var e},Ie=t=>{var a,i,n,d,s;if(Object(p.hb)(Object(p.Hd)(D),!(null!==t&&void 0!==t&&t.employeePromotion)))return ge();let u=null===t||void 0===t||null===(a=t.termsAndConditions[0])||void 0===a?void 0:a.parameter;return null===t||void 0===t||null===(i=t.termsAndConditions)||void 0===i||i.forEach((e=>{var t,a;Object(p.jb)(null===e||void 0===e||null===(t=e.parameter)||void 0===t?void 0:t.includes(O.yb),null===e||void 0===e||null===(a=e.parameter)||void 0===a?void 0:a.includes(O.fe))&&(u=null===e||void 0===e?void 0:e.parameter)})),R&&Object(p.hb)(!(null!==t&&void 0!==t&&t.isApplied),!(null!==t&&void 0!==t&&t.employeePromotion))?ge():Object(p.jb)(null===(n=u)||void 0===n?void 0:n.includes(D),Object(p.hb)(!(null!==(d=u)&&void 0!==d&&d.includes(O.yb)),!(null!==(s=u)&&void 0!==s&&s.includes(O.fe))))?null!==t&&void 0!==t&&t.itemDetails?(fe(),null!==t&&void 0!==t&&t.isApplied?ge():Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(M===O.he,"plp-promosButton-item")),"data-testid":"promos-product-button",children:Object(I.jsx)(r.c,{variant:r.b.secondary,onClick:t=>U?_(e,t):W(e),disabled:null===T||void 0===T?void 0:T.isApplied,"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(c.translateWithI18Next)(Q)," ").concat(N),className:"plp-promosButton-alignment",children:Object(c.translateWithI18Next)(q)})})})):Object(I.jsxs)(o.a.Fragment,{children:[(null===T||void 0===T?void 0:T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"promosButton-item ".concat(Object(p.hb)(M===O.he,"plp-promosButton-item")),children:[Object(I.jsx)("div",{className:"promos-checked-icon ".concat(M===O.he&&"plp-promos-checked-icon"),onClick:t=>C(e,t),"data-testid":"greentick-button",children:Object(I.jsx)(l.a,{src:re,className:"promos-appled-icon ".concat(Object(p.hb)(M===O.he,"plp-promos-appled-icon")),alt:""})}),Object(I.jsx)(r.c,{variant:null!==T&&void 0!==T&&T.isApplied&&!se?r.b.primary:r.b.tertiary,onClick:t=>A(e,t),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(c.translateWithI18Next)(Q)," ").concat(N),children:se?Object(c.translateWithI18Next)(Y):Object(c.translateWithI18Next)(z)})]})}),!(null!==T&&void 0!==T&&T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(M===O.he,"plp-promosButton-item")),children:Object(I.jsx)(r.c,{variant:r.b.secondary,onClick:t=>U?y(e,t):W(e),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(c.translateWithI18Next)(Q)," ").concat(N),className:"plp-promosButton-alignment",children:Object(c.translateWithI18Next)(K)})})})]}):ge()},fe=()=>{Object(p.hb)(!se,localStorage.getItem(O.gd.ADD_TO_ORDER))&&localStorage.removeItem(O.gd.ADD_TO_ORDER)},Ne=()=>Object(I.jsx)("div",{className:"slick-slide medium-card-offers-deals",children:Object(I.jsxs)("div",{className:"promosCard-content ".concat(Object(p.hb)(pe,"alignCenter")),children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title small-text ".concat(Object(p.hb)(M===O.he,"plp-empty-card-title")," ").concat(Object(p.hb)(pe,"longText")),children:Object(I.jsxs)("span",{className:"promosCard-ellipsis-text  ".concat(Object(p.hb)(pe,"longTextLines")),children:[" ",Object(c.translateWithI18Next)(ae)]})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text small-text emptycard",children:Object(c.translateWithI18Next)(te)})]})}),Se=()=>Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{src:ne,className:"offers-store-image",alt:""}),Object(I.jsx)("h3",{className:"offer-login-text ".concat(Object(p.hb)(M===O.he,"plp-offer-login-text")),children:Object(c.translateWithI18Next)(ee)}),Object(I.jsx)("div",{className:"offer-store-btn-container ".concat(Object(p.hb)(M===O.he,"plp-offer-store-btn-container")," "),children:Object(I.jsx)(r.a,{"data-testid":"sign-in-btnid",onClick:()=>k(),className:"store-btn signin-offers-btn",children:Object(c.translateWithI18Next)($)})})]});return Object(I.jsx)(o.a.Fragment,{children:(()=>{if(me&&M===O.he)switch(null===T||void 0===T?void 0:T.cardType){case"empty":return Ne();case"login":return Se();default:return Object(I.jsxs)("div",{className:"plp-promosCard-content promosCard-content",children:[Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-title promosOnlyTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-text promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"plp-view-all-text view-all-text",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"plp-offersViewAll-link offersViewAll-link","data-testid":"plp-view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(c.translateWithI18Next)(Q)})})}),Ie(T)]})}switch(null===T||void 0===T?void 0:T.cardType){case"image-text":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"promosImageText-background",children:Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:x,useBucketSize:je,imagePath:Oe,imageName:S}),alt:Object(c.translateWithI18Next)(oe),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(x).concat(ce),className:"promosImageText-background-img"})}),Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosImageTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text","data-testid":"promos-card-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"promosCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:()=>{Object(g.f)(ve),E(e)},className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{"data-testid":"view-details-link",children:Object(c.translateWithI18Next)(Q)})})}),Ie(T)]})]});case"image":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:x,useBucketSize:je,imagePath:Oe,imageName:S}),alt:Object(c.translateWithI18Next)(oe),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(x).concat(ce),className:"promosOnlyImage-background"}),Object(I.jsxs)("div",{className:"promosCard-content promosFullImageCard-content ".concat(Object(p.hb)(R,"promos-applied")),children:[Object(I.jsx)("div",{className:"view-all-text fullImageText-item",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(c.translateWithI18Next)(Q)})})}),Ie(T)]})]});case"text":return Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title ".concat(M),children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(c.translateWithI18Next)(Q)})})}),Ie(T)]});case"empty":return Ne();case"login":return Se()}})()})}},1216:function(e,t,a){"use strict";a(3);var i=a(28),o=a(6),n=a(4),l=a(0),d=a(5),r=a(41),c=a(1202),s=a(2);t.a=e=>{var t,a,u;const{setLocationClickHandler:v,page:m}=e,{SEE_PROMOS_FOR_YOU:b,SET_LOCATION:O}=n.a,j={buttonText:Object(o.translateWithI18Next)(O)},{tenantReducer:p}=Object(i.c)((e=>e)),h=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(u=a.dispositionConfig)||void 0===u?void 0:u.enableAutoSetLocation;return Object(s.jsx)("div",{id:"startorder-container","data-testid":"set-locaton-component",children:Object(s.jsx)("div",{"data-testid":"start-order-items",className:"sc-dlnjwi redBg headerBottom ".concat(Object(d.hb)(m===l.he,"plp-headBottom")),id:"start-order-component",children:Object(s.jsxs)("div",{className:"headBottomParent",children:[Object(s.jsx)("div",{className:"headBottomTxt ".concat(Object(d.hb)(m===l.he,"plp-headBottomTxt")),children:Object(o.translateWithI18Next)(b)}),h?Object(s.jsx)(c.a,{setLocationdata:j}):Object(s.jsx)(r.c,{onClick:()=>v(),variant:r.b.secondary,inverted:!0,role:"button","aria-label":"Start Order","data-testid":"set-location-buttonId",id:"startOrderItemButton",type:"button",children:Object(s.jsx)("span",{children:Object(o.translateWithI18Next)(O)})})]})})})}},1217:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(6),l=a(15),d=a(11),r=a(14),c=a(144),s=a(41),u=a(5),v=a(83),m=a(1133),b=a(4),O=a(403),j=a(1136),p=a(28),h=a(2);const{Error_Yellow:g}=l.a,{DEFAULT_IMAGE_PATH:I}=m.a,{VIEW_DETAILS:f,VALID_TO:N,REVEIW_CONDITION:S,GOT_IT_BUTTON:T,NO_IMAGE:x,EXPIRE_DATE:C}=b.a;t.a=e=>{var t,a,i,l;const{isDealModalOpen:m,handleClose:b,viewDetailsData:E,tenantId:_}=Object(u.sd)(e),{description:D}=Object(u.sd)(E),y=null===D||void 0===D?void 0:D.replace(/\n/g,"<br />"),{item:A}=Object(u.sd)(E),{imageName:R,validityEndTime:L,titleValue:w,termsAndConditions:P,legalText:k,hideEndDate:M}=Object(u.sd)(A),F=()=>null===P||void 0===P?void 0:P.map(((e,t)=>Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.message})},t))),{componentOptions:U}=null!==(t=Object(p.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)))&&void 0!==t?t:{},{detailsImagePath:W,useBucketSize:H}=(null===U||void 0===U||null===(a=U.web)||void 0===a?void 0:a.coupons)||{},B={id:"viewDetailsPopUp",role:"dialog",modalTitleId:"viewDetailsPopUp",show:{isProductModalOpen:m},classNames:"view-details-wrapper-modal white-background",showCloseBtn:!0,closeButtonHandler:b,modalTitle:Object(n.translateWithI18Next)(f),autoFocus:!0};return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsx)(c.a,{...B,"data-testid":"offers-deals-modal-testid",children:Object(h.jsxs)("div",{className:"view-details-wrapper",children:[A&&Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)("div",{className:"view-details-img",children:Object(h.jsx)(O.a,{srcFile:Object(j.c)({tenantId:_,useBucketSize:H,imagePath:W,imageName:R}),alt:Object(n.translateWithI18Next)(x),defaultPath:"".concat(Object(r.a)(d.Qb)).concat(_).concat(I),className:"veiw-detail-img-section"})}),Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("h5",{className:"delivery-content",children:w}),Object(h.jsxs)("div",{className:"view-details-small-text",children:[Object(h.jsx)("div",{children:!M&&"".concat(Object(n.translateWithI18Next)(null!==U&&void 0!==U&&null!==(i=U.coupons)&&void 0!==i&&i.YYYYMMDDWithSlash?C:N)," ").concat(Object(v.b)(L,null===U||void 0===U||null===(l=U.coupons)||void 0===l?void 0:l.YYYYMMDDWithSlash))}),Object(h.jsx)("div",{children:k})]}),(null===P||void 0===P?void 0:P.length)&&Object(h.jsx)("div",{className:"review-condition",children:Object(h.jsxs)("div",{className:"condition-wrapper",children:[Object(h.jsx)(O.a,{srcFile:g,className:"location-alert-icon"}),Object(h.jsx)("div",{className:"review-text",children:Object(n.translateWithI18Next)(S)})]})}),Object(h.jsx)("div",{className:"list-item",children:Object(h.jsx)(F,{})}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(T)})})})]})]}),D&&Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:y}}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(T)})})})]})]})})})}},1229:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return j})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"h",(function(){return I}));var i=a(423),o=a(21),n=a(9),l=a(5),d=a(55);const{VIDEO:r,VIDEO_COMP:c}=i.a,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var t,a,i,o,n,l,d,c,s,u,v,m,b,O,j,p,h,g,I,f;const{headline:N="",subHeadline:S,altText:T="",showButton:x="",buttonType:C="",onClick:E,name:_,noteLine:D,backgroundImageType:y,background:A,textColor:R="",externalUrl:L="",id:w="",pdpLinkItem:P,categoryName:k,subHeadlineTextSize:M="",textVerticalAlign:F=""}=e.fields,{fields:U={}}=e.fields.analyticsData||{},{url:W,contentType:H}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.bannerType)!==r?(null===e||void 0===e||null===(a=e.fields)||void 0===a||null===(i=a.desktopImage)||void 0===i||null===(o=i.fields)||void 0===o?void 0:o.file)||{}:null===e||void 0===e||null===(n=e.fields)||void 0===n||null===(l=n.videoFile)||void 0===l||null===(d=l.fields)||void 0===d||null===(c=d.mp4File)||void 0===c||null===(s=c.fields)||void 0===s?void 0:s.file,{url:B}=(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.bannerType)!==r?(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(m=v.mobileImage)||void 0===m||null===(b=m.fields)||void 0===b?void 0:b.file)||{}:null===e||void 0===e||null===(O=e.fields)||void 0===O||null===(j=O.videoFile)||void 0===j||null===(p=j.fields)||void 0===p||null===(h=p.mp4File)||void 0===h||null===(g=h.fields)||void 0===g?void 0:g.file;return{smallText:N,largeText:S,alt:T,desktopSrc:W,mobileSrc:B,buttonText:C,showButton:x,textColor:R,analyticsData:U,linkTo:E,name:_,noteLine:D,bannerType:null===e||void 0===e||null===(I=e.fields)||void 0===I?void 0:I.bannerType,contentType:H,backgroundImageType:y,background:A,externalUrl:L,promotion_id:w,categoryLinkItem:null===e||void 0===e||null===(f=e.fields)||void 0===f?void 0:f.onClick,pdpLinkItem:P,categoryName:k,subHeadlineTextSize:M,textVerticalAlign:F}}))},u=async(e,t,a,i)=>{const o=Object(l.S)(e,t,i),{ecommerceObject:n,itemsArray:r}=o;let c=[];c.push({event:"view_promotion",userType:a,ecommerce:n,items:r}),Object(d.p)("view_promotion",{data:c[0]})},v=async(e,t)=>{var a;(async()=>{var e;await o.a.registerEvent(null===n.a||void 0===n.a||null===(e=n.a.orderNow)||void 0===e?void 0:e.name,{"%event%":"orderNow"},l.Bb)})();const i=[];i.push({event:"homepageBannerCTA",bannerContent:e.item_name,bannerContentIndex:t},{event:"select_promotion",ecommerce:{items:[{item_name:e.item_name,item_id:e.item_id,item_category:e.item_category,promotion_id:e.promotion_id,promotion_name:e.promotion_name,creative_name:e.creative_name,location_id:e.location_id,index:t,price:e.price}]}}),Object(d.p)(null===n.a||void 0===n.a||null===(a=n.a.homepageBannerCTA)||void 0===a?void 0:a.name,{data:i[0]},l.Bb)},m=async(e,t,a,i)=>{var o;const r=Object(l.S)(a,i,t),{userType:c}=e,{ecommerceObject:s,itemsArray:u}=r,v=[];v.push({event:"select_promotion",ecommerce:s,items:u,userType:c},{event:"homepageBannerCTA",bannerContent:e.item_name,bannerContentIndex:t}),Object(d.p)(null===n.a||void 0===n.a||null===(o=n.a.select_promotion)||void 0===o?void 0:o.name,{data:v[0]},l.Bb)},b=(e,t,a,i)=>{var o;return i?(null===e||void 0===e?void 0:e.fields.storeId)===t&&(null===e||void 0===e||null===(o=e.fields)||void 0===o?void 0:o.storeName)===a:(null===e||void 0===e?void 0:e.fields.storeId)===t},O=(e,t,a,i,o,n,l)=>void 0===e&&void 0===t||((null===e||void 0===e?void 0:e.length)>0&&(null===t||void 0===t?void 0:t.length)>0?((e,t,a,i,o,n,l)=>{var d;if(!((null===l||void 0===l||null===(d=l.storeGroups)||void 0===d?void 0:d.length)>0))return e&&e.find((e=>e.toLowerCase()===a.toLowerCase()))&&t&&t.find((e=>b(e,i,o,n)));if(!(t.filter((e=>{var t;return null===l||void 0===l||null===(t=l.storeGroups)||void 0===t?void 0:t.some((t=>{var a,i;return(null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.storeGroupId)===(null===t||void 0===t?void 0:t.id)&&(null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.storeGroupName)===(null===t||void 0===t?void 0:t.storeGroupName)}))})).length>0&&(null===e||void 0===e?void 0:e.length)>0))return e&&e.find((e=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase())))&&t&&(null===t||void 0===t?void 0:t.find((e=>b(e,i,o,n))));if(e.find((e=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase()))))return!0})(e,t,a,i,o,n,l):((e,t,a,i,o,n,l)=>{var d;if((null===l||void 0===l||null===(d=l.storeGroups)||void 0===d?void 0:d.length)>0&&(null===t||void 0===t?void 0:t.length)>0)return t.filter((e=>null===l||void 0===l?void 0:l.storeGroups.some((t=>{var a,i;return(null===e||void 0===e||null===(a=e.fields)||void 0===a?void 0:a.storeGroupId)===(null===t||void 0===t?void 0:t.id)&&(null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.storeGroupName)===(null===t||void 0===t?void 0:t.storeGroupName)})))).length>0||e&&e.find((e=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase())))||t&&(null===t||void 0===t?void 0:t.find((e=>b(e,i,o,n))));return e&&(null===e||void 0===e?void 0:e.find((e=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase()))))||t&&(null===t||void 0===t?void 0:t.find((e=>b(e,i,o,n))))})(e,t,a,i,o,n,l)),j=(e,t,a,o,n,l)=>e.filter((e=>((e,t)=>{const a=(new Date).getTime(),i=new Date(e).getTime(),o=new Date(t).getTime();return a>i&&a<o})(e.fields.startDate,e.fields.endDate))).filter((e=>!e.fields.applicableDays||(e=>{const t=i.a.daysOfTheWeek[(new Date).getDay()];return e.find((e=>e.toLowerCase()===t.toLowerCase()))})(e.fields.applicableDays))).filter((e=>""===t||""===a||""===o?!(e.fields.disposition&&e.fields.disposition.length>0||e.fields.includeTheseStoresOnly&&e.fields.includeTheseStoresOnly.length>0):O(e.fields.disposition,e.fields.includeTheseStoresOnly,t,a,o,l,n))),p=e=>c+(""!==e?e:""),h=e=>document.getElementById(p(e)),g=e=>{var t;return{analyticsData:null!==(t=null===e||void 0===e?void 0:e.fields)&&void 0!==t?t:{}}},I=(e,t,a)=>{let i=[];i.push({event:"view_promotion",ecommerce:e,items:t,userType:a}),Object(d.p)("view_promotion",{data:i[0]})}},1231:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var i=a(21),o=a(5);const n=e=>{var t,a,i,o;const{DesktopImage:n,button:l,email:d="",headline:r="",subHeadline:c="",mobileImage:s,subHeadline2:u="",icon:v}=e,{url:m=""}=n&&n.fields&&n.fields.file,{url:b=""}=s&&s.fields&&s.fields.file,{buttonText:O="",name:j="",url:p=""}=l&&(null===l||void 0===l?void 0:l.fields)||{};return{desktopSrc:m,mobileSrc:b,email:d,headline:r,subHeadline:c,buttonText:O,buttonItem:j,buttonUrl:p,subHeadline2:u,stripesIcon:null===v||void 0===v||null===(t=v.fields)||void 0===t||null===(a=t.desktopImage)||void 0===a||null===(i=a.fields)||void 0===i||null===(o=i.file)||void 0===o?void 0:o.url}},l=async e=>{const t=[];t.push(e),await i.a.registerEvent(void 0,{data:t[0]},o.Bb)}},1236:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"k",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"i",(function(){return s})),a.d(t,"g",(function(){return u})),a.d(t,"j",(function(){return v})),a.d(t,"a",(function(){return m}));const i="viewReceipt",o="reorderBtn",n="myAccount",l="orderAgain",d="kfcLover",r="welcomeTo",c="kfcTxt",s="Welcome Back",u="seeFullOrderHistory",v="welcomeBack",m=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}).REACT_APP_TENANT_IMAGE_BASE_URL,"15895bb59f7b4bb588ee933f8cd5344a/images/items/"),{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1,BREAKPOINT:1024,SLIDES_TO_SCROLL_MOBILE:1,FADE_CARD_INDEX:3})},1237:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(264),l=a(28),d=a(73),r=a(6),c=a(35),s=a(236),u=a(92),v=a(15),m=a(85),b=a(5),O=a(1136),j=a(86),p=a(1153),h=a(52),g=a(428),I=a(4),f=a(1096),N=a(1214),S=a(1215),T=a(1216),x=a(1115),C=a(1116),E=a(0),_=a(16),D=a(1133),y=a(1217),A=a(1190),R=a(46),L=a(63),w=a(61),P=a(132),k=a(80),M=a(2);const{ANALYTICS_EVENTS:F}=w.a;t.a=e=>{var t,a,w,U,W,H,B,G,V,Y;const{page:z,isMobile:q,onClickScroll:K}=e,{PROMOS_REWARDS:Q,MEMBERS_ONLY:J,VIEW_ALL_PROMOS:X,CANCEL:Z,PROMO_REMOVE_CONFIRMATION:$,PROMO_SUCCESS_TOAST_MESSAGE:ee,PROMO_REMOVE_TOAST_MESSAGE:te,YES_REMOVE:ae}=I.a,{COUPON_MULTI_PRODUCT:ie}=h.a,{StripesIcon:oe,ViewDetailsArrowBlack:ne,tickWhiteToast:le,TimerRibbonRedOutlined:de,TimerIcon:re}=v.a,{CAROUSAL_CONFIG:ce,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:se,SILCK_RESPONSIVE_PROPERTY:ue}=D.a,{SPEED:ve,SLIDES_TO_SHOW:me,SLIDES_TO_SCROLL:be}=ce,{DISPOSITION_DATA:Oe,clearCartChangeFlag:je,orderTypeAlertTitle:pe,SHOW_CLEAR_CART_ALERT:he,CLEAR_CART_CONFIRM_CANCEL_MODAL:ge}=_.a,Ie=Object(P.a)(),fe=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:Ne,localized:Se}=fe,[Te,xe]=Object(i.useState)([]),[Ce,Ee]=Object(i.useState)(!1),[_e,De]=Object(i.useState)(!1),[ye,Ae]=Object(i.useState)({}),[Re,Le]=Object(i.useState)(null),[we,Pe]=Object(i.useState)({}),[ke,Me]=Object(i.useState)(!1),[Fe,Ue]=Object(i.useState)(!1),[We,He]=Object(i.useState)("null"),Be=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ge="",componentOptions:Ve={},allowMultipleCoupon:Ye,showRevampedRewards:ze,showOnlineCouponsNonLocalizedUsers:qe}=Be,Ke=Object(b.ud)(null===Ve||void 0===Ve||null===(t=Ve.web)||void 0===t||null===(a=t.coupons)||void 0===a?void 0:a.sendViewAllDealsEvent),Qe=Object(l.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{showPromoRewardsMessage:Je=!1,navigateToPromosPage:Xe}=null===Ve||void 0===Ve||null===(w=Ve.web)||void 0===w?void 0:w.cartPage,Ze=null===Ve||void 0===Ve||null===(U=Ve.routes)||void 0===U||null===(W=U.Home)||void 0===W||null===(H=W.offersAndDeals)||void 0===H?void 0:H.shouldCheckLocalization,$e=Object(l.c)((e=>e.profileReducer)),{applicableCoupons:et=[],cartData:tt={}}=Qe,{discountLines:at=[]}=tt||{},{userOrderState:it,userOrderStateDispatch:ot}=Object(i.useContext)(m.a),nt=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),lt=Object(l.b)(),dt=Object(p.a)(it),rt=Object(i.useMemo)((()=>{var e;return{dispositionType:null!==dt&&void 0!==dt&&dt.type?Object(b.Mb)(dt.type):Object(b.Mb)(null===Be||void 0===Be||null===(e=Be.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[dt,Be]),{dispositionType:ct}=rt,[st,ut]=Object(i.useState)(0),[vt,mt]=Object(i.useState)(0),[bt,Ot]=Object(i.useState)(0),[jt,pt]=Object(i.useState)("");let ht={};const gt=o.a.useRef(null),[It,ft]=Object(i.useState)(0),Nt=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.getCouponLoading})),[St,Tt]=Object(i.useState)(!0),xt=()=>{De(!1)},Ct=(e,t)=>{Ae({item:null===e||void 0===e?void 0:e.item,titleValue:null===e||void 0===e?void 0:e.titleValue,promoParams:null===e||void 0===e?void 0:e.promoParameters,priceDetails:null===e||void 0===e?void 0:e.priceDetails}),Le(t),lt(Object(c.v)({showProductListingModal:!0})),ot({type:ie,value:{fromCouponSection:!0}}),Me(!0)},Et=e=>{Pe({item:null===e||void 0===e?void 0:e.item}),Ee(!0)},_t=e=>{const t=(null===e||void 0===e?void 0:e.couponCode)||"";De(!0),pt(t)},Dt={dots:!1,infinite:!1,speed:ve,slidesToShow:me,slidesToScroll:be,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(M.jsx)(x.a,{clickNextCard:()=>{if(vt<Te.length-1){let e;e=vt+be>Te.length-me-1?Te.length-me:vt+be,mt(e),gt.current.slickGoTo(e)}}}),prevArrow:Object(M.jsx)(C.a,{clickPrevCard:()=>{vt>0&&(mt(vt-be),gt.current.slickGoTo(vt-be))}}),beforeChange:(e,t)=>ut(t),afterChange:(e,t)=>mt(e),variableWidth:!0,accessibility:!0,responsive:ue};Object(i.useLayoutEffect)((()=>{const e=()=>{const[e,t]=Object(b.de)(window.innerWidth)?[287,20]:[347,.1*window.innerWidth],a=window.innerWidth-t;let i=Math.ceil(a/e);return 1===i&&(i+=1),i},t=()=>{Ot(e()),ft(window.innerWidth)};window.addEventListener(E.ye,t),t()}),[]),Object(i.useEffect)((()=>{if(et.length>0){const e=Object(O.b)(Ne,Object(O.f)(et,Be));yt(e,We)}else{if(!Te.length){const e=Object(O.b)(Ne,[],Nt);xe(e)}Tt(Object(b.ad)(Object(b.jb)(Te.length,et.length),!1,!0))}}),[et,Te.length]),Object(i.useEffect)((()=>{Se&&Ge&&(null===dt||void 0===dt?void 0:dt.basketId)!==(null===tt||void 0===tt?void 0:tt.id)?(pt(""),He("null"),Rt()):(!Se&&!Ze||qe)&&(Ne?(null===$e||void 0===$e?void 0:$e.customerId)&&lt(Object(c.j)({tenantId:Ge,userId:null===$e||void 0===$e?void 0:$e.customerId})):lt(Object(c.k)({tenantId:Ge})))}),[Se,Ne,null===tt||void 0===tt?void 0:tt.id,null===tt||void 0===tt||null===(B=tt.customer)||void 0===B?void 0:B.id,Ge,null===dt||void 0===dt||null===(G=dt.store)||void 0===G?void 0:G.id,null===dt||void 0===dt?void 0:dt.type]),Object(i.useEffect)((()=>{var e,t;null!==nt&&void 0!==nt&&null!==(e=nt.foodLines)&&void 0!==e&&e.length||null!==nt&&void 0!==nt&&null!==(t=nt.discountLines)&&void 0!==t&&t.length||(localStorage.removeItem(E.gd.ADD_TO_ORDER),pt(""),He("null"))}),[null===nt||void 0===nt||null===(V=nt.foodLines)||void 0===V?void 0:V.length,null===nt||void 0===nt||null===(Y=nt.discountLines)||void 0===Y?void 0:Y.length]),Object(i.useEffect)((()=>{if("null"!==We){var e;Rt();let t=We?Object(r.translateWithI18Next)(ee):Object(r.translateWithI18Next)(te);(null===it||void 0===it||null===(e=it.searchStoreData)||void 0===e||!e.showSearchStore)&&At(t)}if((null===at||void 0===at?void 0:at.length)>0&&!jt){var t;let e=null===at||void 0===at||null===(t=at[0])||void 0===t?void 0:t.couponCode;pt(e)}}),[null===at||void 0===at?void 0:at.length]);const yt=(e,t)=>{ht={};for(let o=0;o<(null===at||void 0===at?void 0:at.length);o++){var a;let e=null===(a=at[o])||void 0===a?void 0:a.couponCode;ht[e]=e}Object.keys(ht).length>0?localStorage.setItem(E.gd.ADD_TO_ORDER,JSON.stringify(ht)):localStorage.removeItem(E.gd.ADD_TO_ORDER);for(let o in ht){let t=ht[o];e=e.map((e=>e.couponCode===t?{...e,isApplied:!0}:e))}xe(e);const i=e.some((e=>e.isApplied&&!e.employeePromotion));!Ye&&Ue(i),Tt(Object(b.ad)(Object(b.jb)(Te.length,et.length),!1,!0))},At=e=>{let t=Object(M.jsx)(R.a,{srcFile:le});Object(b.Df)(e,t,"promos-rewards-toast promos-rewards-toast-pos",1e3)},Rt=()=>{var e;const{customerId:t}=L.a.getInstance();Se&&null!==tt&&void 0!==tt&&tt.id&&t===(null===tt||void 0===tt||null===(e=tt.customer)||void 0===e?void 0:e.id)&&lt(Object(c.h)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge}))},Lt=()=>{lt(Object(d.u)()),ot({type:Oe,value:{showDisposition:!0}}),localStorage.setItem(E.gd.RETAIN_ADDRESS,""),localStorage.setItem(E.gd.SET_LOCATION,!0),pt(null===e||void 0===e?void 0:e.couponCode)},wt=t=>{e.history.push({pathname:null===E.Ce||void 0===E.Ce?void 0:E.Ce[null===t||void 0===t?void 0:t.toUpperCase()]}),Ke&&Object(g.c)({event:"viewAllDeals"})},Pt=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(O.e)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(M.jsxs)("span",{"data-testid":"promos-time-block",className:"promos-time-block",children:[Object(M.jsx)("img",{className:"promos-time-icon",src:re,alt:"Timer Icon"}),Object(M.jsx)(N.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(M.jsxs)("div",{className:"promosRibbon-container ".concat(z===E.he&&"plp-promosRibbon-container"),children:[Object(M.jsx)(n.a,{src:de,className:"promos-ribbon timer"}),Object(M.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(M.jsxs)("div",{className:"promosRibbon-container ".concat(z===E.he&&"plp-promosRibbon-container"),children:[Object(M.jsx)("div",{className:"angle-down"}),Object(M.jsx)("span",{className:"ribbon-text-svg",children:Object(O.h)(t)})]})}},kt=e=>{const t=null===e||void 0===e?void 0:e.couponCode;lt(Object(c.b)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge},{couponCode:t})),He(!0),pt(t)},Mt=(t,a)=>{const i=null===t||void 0===t?void 0:t.couponCode;z===E.he?K():e.history.push({pathname:Object(b.ad)(Object(b.Hd)(ct),null===E.Ce||void 0===E.Ce?void 0:E.Ce.CATERING_PAGE,"".concat(E.Ce.MENU_PAGE)),isStartOrderClick:!0}),Ke&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:i})},Ft=t=>{const a=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:E.Ce.CART}),Ke&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:a})},Ut=e=>{var t;if((null===nt||void 0===nt||null===(t=nt.foodLines)||void 0===t?void 0:t.length)>0){let e={flag:je,onConfirm:pe};Object(b.Fe)(ot,e,he,ge)}else ot({type:Oe,value:{showDisposition:!0}})};return Je&&!ze&&Object(M.jsxs)("div",{id:"promosRewards",className:"promos-container ".concat(Object(b.ad)(Object(b.hb)(z===E.he,Se),"plp-promos-container","")," ").concat(Object(b.ad)(Object(b.hb)(St,Se),"plp-promos-loading","")),"data-testid":"promos-container-test",children:[Object(M.jsxs)("div",{className:"promosCard-container grid-container ".concat(Object(b.hb)(z===E.he,"plp-promosCard-container")," ").concat(Object(b.hb)(z===E.he,Se)&&"plp-promocard"),"data-testid":"promosCard-container-test",children:[z!==E.he&&Object(M.jsx)("div",{className:"promos-Icon",children:Object(M.jsx)(n.a,{src:oe})}),Object(M.jsxs)("div",{className:"promosContainerHeader-items ".concat(Object(b.hb)(z===E.he,"plp-promosContainerHeader-items")),children:[Object(M.jsx)("h2",{className:"promosContainer-header","data-testid":"plp-promo-name",children:Object(r.translateWithI18Next)(Q)}),Se&&!Ne&&Object(M.jsx)("div",{className:"promosHeader-text","data-testid":"plp-members-only",children:Object(r.translateWithI18Next)(J)}),Se&&Object(b.jb)(!q,z!==E.he)&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"view-all-text ".concat(z===E.he&&"plp-view-all-promo-link"),children:[Object(M.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>wt(Xe),"data-testid":"view-all-deals-handler",children:Object(r.translateWithI18Next)(X)}),Object(M.jsx)(n.a,{className:"promosViewAlldeals-arrow",src:ne})]})}),Object(b.hb)(q,Se)&&z===E.he&&Object(M.jsxs)("div",{className:"plp-card-count",children:[vt+1,"/",Te.length]})]}),(Se||!Ze||qe)&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"promosCard-list",children:[St&&Object(M.jsx)("div",{className:"placeholder",children:Array(3).fill().map((()=>Object(M.jsxs)("div",{className:"table store-card-container",children:[Object(M.jsx)("div",{className:"loading card-title shorter-s"}),Object(M.jsx)("div",{className:"loading table-content"}),Object(M.jsx)("div",{className:"loading table-content"})]})))}),Object(b.hb)(Te.length,!St)&&Object(M.jsx)("div",{className:"promosCarousal-list ".concat(Object(b.hb)(z===E.he,"plp-promosCarousal-list")),children:Object(M.jsx)(f.b,{settings:Dt,carousalRef:gt,children:(Wt=Te,null===Wt||void 0===Wt?void 0:Wt.map(((e,t)=>{const{couponCode:a,smallText:i,titleValue:o,imageName:n,validityEndTime:l,promoParameters:d,itemDetails:r}=e,c=null===r||void 0===r?void 0:r.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));return Object(M.jsx)("div",{children:Object(M.jsx)("div",{className:"slick-slide offers-deals-card-container ".concat(Object(b.hb)(z===E.he,"plp-slick-slide")),children:Object(M.jsxs)("div",{className:"promos-card ".concat(t===vt+bt-1&&"offersCard-fade lastOffersCard-fade"," ").concat(z===E.he&&"plp-promo-card"," ").concat(!Pt(e)&&Object(b.hb)(z===E.he,"overflow-class")),children:[Pt(e),Object(M.jsx)(S.a,{"data-testid":"promos-rewards-card",loggedIn:Ne,localized:Se,couponCode:a,smallText:i,titleValue:o,imageName:n,item:e,promoParameters:d,priceDetails:c,validityEndTime:l,tenantId:Ge,setModal:Ee,setViewDetailsHandler:Et,setConfirmationModal:_t,showMultiProductModal:Ct,dispositionType:ct,addToOrderClickHandler:kt,startOrderClickHandler:Mt,promosApplied:Fe,basketData:tt,setViewCartHandler:Ft,setDispositionHandler:Ut,createSignInURL:j.c,page:z,setLocationClickHandler:Lt,setAlertPopupCouponCode:pt,setIsAppliedInApplicableCoupon:yt})]})})},t)})))})}),Object(b.hb)(Te.length>se,!St)&&Object(M.jsx)("div",{className:"promos-slideContainer ".concat(Object(b.hb)(z===E.he,"plp-promos-slideContainer")),children:Object(M.jsx)("input",{className:"promos-slider",type:"range","data-testid":"promo-slider-id",min:"0",max:Te.length-me,value:st,id:"myRange",onChange:e=>{ut(e.target.value),gt.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),Object(b.hb)(q,z===E.he)&&Object(M.jsxs)("div",{className:"view-all-text plp-view-all-promo-text",children:[Object(M.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>wt(Xe),"data-testid":"view-all-deals-handler",children:Object(r.translateWithI18Next)(X)}),Object(M.jsx)(n.a,{className:"promosViewAlldeals-arrow",src:ne})]})]})]}),!Se&&Ze&&Object(M.jsx)(T.a,{"data-testid":"promos-banner-id",setLocationClickHandler:Lt,page:z}),Ce&&Object(M.jsx)(y.a,{history:e.history,"data-testid":"view-details-modalId",tenantId:Ge,viewDetailsData:we,handleClose:()=>{Ee(!1)}}),Object(b.hb)(ke,It)&&Object(M.jsx)(A.a,{"data-testid":"multi-product-modalId",viewProductEvent:Re,history:e.history,tenantId:Ge,viewProductCardData:ye,handleClose:()=>{Me(!1),lt(Object(c.v)({showProductListingModal:!1})),Ie(Object(k.c)({key:E.gd.VIEW_PRODUCT})),ot({type:ie,value:{fromCouponSection:!1}})},imageContainerSize:It,addToOrderClickHandler:kt,cartReducer:Qe,setAlertPopupCouponCode:pt}),_e&&Object(M.jsx)(s.a,{"data-testid":"remove-promo-modal",handleClose:xt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(M.jsx)(u.a,{splitTitle:{MSGTXT1:"".concat(Object(r.translateWithI18Next)($))},imageSrc:v.a.CartError,confirmButtonText:Object(r.translateWithI18Next)(ae),cancelButtonText:Object(r.translateWithI18Next)(Z),confirmHandler:(e,t)=>{jt&&(lt(Object(c.p)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge,couponCode:jt})),xt(),He(!1))},cancelHandler:xt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})})]});var Wt}},1238:function(e,t,a){"use strict";a(3);var i=a(1268),o=a.n(i),n=a(2);t.a=e=>{let{children:t,disabled:a,onClick:i,theme:l="dark"}=e;return Object(n.jsx)("div",{onClick:()=>!a&&i?i():"",style:{color:a?"#A6A6A7":"",pointerEvents:a?"none":"auto"},className:"".concat(o.a.option," ").concat(o.a[l]),children:t})}},1245:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));const i="outOfService",o="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1248:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return n}));const i={black:"Brand Black",dark:"Dark",gray:"Mashed Potato Gray",light:"Light",red:"Primary Red"},o={LOGIN:"/signin",DISPOSITION:"/disposition"},n={DISPOSITION_DATA:"dispositionData",ORDER_SUMMARY_MODAL_CLOSE:"ORDER_SUMMARY_MODAL_CLOSE",SEARCH_ORDER_DATA:"searchOrderData",SET_FIND_A_KFC_VIEW:"SET_FIND_A_KFC_VIEW"}},1250:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var i=a(3),o=a(112),n=a(86),l=a(603),d=a(1248),r=a(85);const c=e=>{switch(e){case d.a.black:case d.a.dark:return"bgBlack";case d.a.gray:case d.a.light:return"bgGray";case d.a.red:return"bgRed";default:return""}};var s=a(1267),u=a(2);const{DISPOSITION_DATA:v,ORDER_SUMMARY_MODAL_CLOSE:m,SEARCH_ORDER_DATA:b,SET_FIND_A_KFC_VIEW:O}=d.b;var j=e=>{const{module:t={},padding:a="s"}=e||{},{backgroundColor:j,column1:p,column2:h,foregroundColor:g,isWebCentered:I=!1}=t,{userOrderStateDispatch:f}=Object(i.useContext)(r.a)||{},N=Object(i.useMemo)((()=>"noPadding"===a?"noPadding":""),[a]),S=Object(i.useMemo)((()=>{const e=I?"center":"",t="flexible-tout--container ".concat(c(j)," ").concat(N," ").concat(e);return Object(l.b)(t)}),[N,I,j]),T=e=>{e.stopPropagation(),e.preventDefault(),Object(n.c)()},x=e=>{e.stopPropagation(),e.preventDefault(),f({type:O,value:{findAKFC:!1}}),f({type:b,value:{showSearchStore:!1}}),f({type:m,orderSummaryModalClose:!0}),f({type:v,value:{showDisposition:!0}})},C=(e,t)=>{var a;const i=null===e||void 0===e||null===(a=e.ctaType)||void 0===a?void 0:a.toLowerCase(),n=null===e||void 0===e?void 0:e.ctaText,l=null===e||void 0===e?void 0:e.urlWeb;return l===d.c.LOGIN?Object(u.jsx)("p",{className:"flexible-tout--button-container",children:Object(u.jsx)("button",{className:"flexible-tout--button button-contained","data-type":i,onClick:T,children:n})},t):l===d.c.DISPOSITION?Object(u.jsx)("p",{className:"flexible-tout--button-container",children:Object(u.jsx)("button",{className:"flexible-tout--button button-contained","data-type":i,onClick:x,children:n})},t):Object(u.jsx)("p",{className:"flexible-tout--button-container",children:Object(u.jsx)(o.b,{className:"flexible-tout--button button-contained","data-type":i,to:l,children:n})},t)},E=(e,t)=>{const{contentType:a}=e||{};let i;switch(a){case s.a.fctModuleComponentHeadline:i=((e,t)=>{const{type:a,text:i}=e||{};return"Headline"===a?Object(u.jsx)("h2",{className:"flexible-tout--headline",children:i},t):Object(u.jsx)("h3",{className:"flexible-tout--subheadline",children:i},t)})(e,t);break;case s.a.fctModuleComponentCta:i=((e,t)=>C(e,t))(e,t);break;case s.a.fctModuleComponentText:i=((e,t)=>{const a=null===e||void 0===e?void 0:e.bodyCopy;return Object(u.jsx)("div",{className:"flexible-tout--text",dangerouslySetInnerHTML:{__html:a}},t)})(e,t);break;case s.a.fctModuleComponentPictogram:i=((e,t)=>{const{altText:a="",height:i,url:o,width:n}=e.image||{};return Object(u.jsx)("div",{className:"flexible-tout--pictogram-wrapper",children:Object(u.jsx)("img",{className:"flexible-tout--pictogram",height:i,width:n,src:o,alt:a})},t)})(e,t);break;case s.a.fctModuleComponentCtaList:i=((e,t)=>{var a;const i=null===e||void 0===e||null===(a=e.alignment)||void 0===a?void 0:a.replace(/-/g," ").toLowerCase();return Object(u.jsx)("div",{className:"flexible-tout--cta-list-wrapper ".concat(i),children:e.list.map(((e,t)=>C(e,t)))},t)})(e,t)}return i};return Object(u.jsx)("div",{className:S,children:Object(u.jsx)("div",{className:"grid-container",children:I?(e=>{let{column1:t=[],column2:a=[]}=e;const i=Object(l.b)("flexible-tout flexible-tout--columns ".concat(c(g)));return Object(u.jsx)("div",{className:i,children:Object(u.jsx)("div",{className:"flexible-tout--column","data-testid":"flexible-tout-column",children:[...t,...a].map(((e,t)=>E(e,t)))})})})({column1:p,column2:h}):(e=>{let{column1:t,column2:a}=e;const i=(null===a||void 0===a?void 0:a.length)>0?"flexible-tout--columns":"flexible-tout--columns--single",o=Object(l.b)("flexible-tout ".concat(i," ").concat(c(g)));return Object(u.jsxs)("div",{className:o,children:[Object(u.jsx)("div",{className:"flexible-tout--column flexible-tout--column--1","data-testid":"flexible-tout-column-1",children:null===t||void 0===t?void 0:t.map(((e,t)=>E(e,t)))}),(null===a||void 0===a?void 0:a.length)>0&&Object(u.jsx)("div",{className:"flexible-tout--column flexible-tout--column--2","data-testid":"flexible-tout-column-2",children:null===a||void 0===a?void 0:a.map(((e,t)=>E(e,t)))})]})})({column1:p,column2:h})})})}},1258:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(41),l=a(46),d=a(5),r=a(85),c=a(28),s=a(16),u=a(0),v=a(4),m=a(2);t.a=e=>{var t,a,b,O,j;const{contentData:p={}}=e,{headline:h,description:g,desktopImage:I,mobileImage:f,button:N}=p,[S,T]=Object(i.useState)(Object(d.de)(window.innerWidth)),{userOrderStateDispatch:x}=Object(i.useContext)(r.a),C=Object(c.c)((e=>e.tenantReducer)),{SELECTED_TILE_DATA:E="",UPDATE_CATERING_RETAIL_MENU_ALERT:_}=s.a,{CATERING_NAVALERT_TITLE:D,CATERING_NAVALERT_SUBTITLE:y}=v.a,A=()=>{const e=Object(d.de)(window.innerWidth);T(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",A)}),[S]);return Object(m.jsx)(o.a.Fragment,{children:Object(m.jsx)("div",{className:"lto-banner-container",children:Object(m.jsxs)("div",{className:"grid-container",children:[Object(m.jsxs)("div",{className:"lto-text-section",children:[h&&Object(m.jsx)("p",{className:"smallTxtLTO",children:h}),g&&Object(m.jsx)("h1",{className:" largeTextLTO",children:g}),N&&Object(m.jsx)(n.c,{variant:n.b.primary,"data-testid":"view-offer-button",onClickHandler:()=>(()=>{var t,a;if(Object(d.Hd)(localStorage.getItem(u.gd.DISPOSITION_TYPE)))return void x({type:_,value:{flag:!0,pathname:"",title:D,contentMsg:y}});e.history.push({pathname:null===N||void 0===N||null===(t=N.fields)||void 0===t?void 0:t.url});let i={name:null===N||void 0===N||null===(a=N.fields)||void 0===a?void 0:a.name};x({type:E,value:{selectedData:i}}),localStorage.setItem(u.gd.SELECTED_TILE,JSON.stringify(i)),localStorage.setItem(u.gd.TENANT_REDUCER,JSON.stringify(C))})(),children:Object(m.jsx)("span",{"data-testid":"more-details-button",children:null===N||void 0===N||null===(t=N.fields)||void 0===t?void 0:t.buttonText})})]}),Object(m.jsx)(l.a,{"data-testid":"lto-image-component",srcFile:S?null===f||void 0===f||null===(a=f.fields)||void 0===a||null===(b=a.file)||void 0===b?void 0:b.url:null===I||void 0===I||null===(O=I.fields)||void 0===O||null===(j=O.file)||void 0===j?void 0:j.url,alt:"",className:"lto-image"})]})})})}},1261:function(e,t,a){var i=a(602);e.exports=function(e,t){var a=[];return i(e,(function(e,i,o){t(e,i,o)&&a.push(e)})),a}},1265:function(e,t,a){var i={"./LoyaltyCrmItems":[971,37],"./LoyaltyCrmItems.js":[971,37],"./SignMeUPBannerContainer":[973,15],"./SignMeUPBannerContainer.js":[973,15]};function o(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return a.e(t[1]).then((function(){return a(o)}))}o.keys=function(){return Object.keys(i)},o.id=1265,e.exports=o},1267:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i={fctModuleComponentHeadline:"fctModuleComponentHeadline",fctModuleComponentCta:"fctModuleComponentCta",fctModuleComponentText:"fctModuleComponentText",fctModuleComponentPictogram:"fctModuleComponentPictogram",fctModuleComponentCtaList:"fctModuleComponentCtaList"}},1268:function(e,t,a){e.exports={option:"Option_option__1S_nM",dark:"Option_dark__2ZNrn",light:"Option_light__15g6S"}},1269:function(e,t,a){"use strict";var i=a(3),o=a.n(i),n=a(603),l=a(15),d=a(46),r=a(1270),c=a.n(r),s=a(2);const{ChevronUp:u,ChevronDown:v}=l.a,m=e=>{let{options:t,onOptionClick:a,label:l,disabled:r,value:m,placeholder:b,dropdownId:O,theme:j="dark"}=e;const[p,h]=Object(i.useState)(!1),g=Object(i.useMemo)((()=>p||m.key?c.a.onTop:m.key||b?"":c.a.asPlaceholder),[b,p,m]),I=Object(i.useMemo)((()=>p||m.key?c.a.selected:""),[p,m]);Object(i.useEffect)((()=>{const e=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const t=null===e||void 0===e?void 0:e.target;null!==t&&void 0!==t&&t.matches("#".concat(O))||null!==t&&void 0!==t&&t.closest("#".concat(O))||h(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[O]);return Object(s.jsxs)("div",{style:{color:r?"grey":""},className:Object(n.b)("".concat(c.a.dropdown," ").concat(c.a[j]," ").concat(I)),id:O,children:[l&&Object(s.jsx)("label",{className:g,children:l}),Object(s.jsxs)("div",{onClick:()=>r?"":h(!p),className:c.a.dropdownInput,"data-testid":"dropdown-selected-value",children:[Object(s.jsx)("span",{children:m.key||b}),p?Object(s.jsx)(d.a,{className:c.a.icon,srcFile:u}):Object(s.jsx)(d.a,{className:c.a.icon,srcFile:v})]}),!(null===t||void 0===t||!t.length)&&p&&Object(s.jsx)("div",{className:c.a.options,children:t.map((e=>Object(s.jsx)("div",{children:o.a.cloneElement(e.element,{onClick:()=>(e=>{r||(h(!p),a(e))})(e.value),theme:j})},e.value.key)))})]})};m.Option=Option,t.a=m},1270:function(e,t,a){e.exports={dropdown:"Select_dropdown__3LQLO",dropdownInput:"Select_dropdownInput__d7vjD",asPlaceholder:"Select_asPlaceholder__3Hwrv",onTop:"Select_onTop__vvmiD",options:"Select_options__32bi1",icon:"Select_icon__2qeoI",dark:"Select_dark__2dxKT",light:"Select_light__1q9vB",selected:"Select_selected__1y3TN"}},1274:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(3),o=a(1231),n=a(0),l=a(2);const d=e=>{const{contentData:t}=e,d=t&&Object(o.a)(t),r=Object(i.lazy)((()=>a(1265)("./"+n.Ue)));return Object(l.jsxs)(i.Suspense,{fallback:Object(l.jsx)("div",{children:"Loding..."}),children:[" ",Object(l.jsx)(r,{contentData:d,customTag:e.customTag})," "]})}},1279:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(1156);const o=e=>{var t;const{data:a}=Object(i.e)(e);return{pageModules:null!==(t=null===a||void 0===a?void 0:a.modules)&&void 0!==t?t:[]}}},1280:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));const i="outOfStockMealAlert",o="viewOtherDeals",n="dealsRewards"},1291:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return S}));a(12);var i=a(1245),o=a(6),n=a(5),l=(a(120),a(0)),d=a(21),r=a(4);const{FROM:c,TO:s,AT:u,TIME_DESK:v}=r.a,m=e=>{var t;const{url:a=""}=e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields&&e.headline[0].fields.desktopImage.fields.file||{},{title:i=""}=e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields||{},{headline:o="",subHeadline:n=""}=e.headline&&(null===(t=e.headline[1])||void 0===t?void 0:t.fields)||{},{supportedDispositions:l=[]}=e;return{headline:o,subHeadline:n,supportedDispositionsData:l.map((e=>e.fields)),src:a,alt:i}},b=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await d.a.registerEvent(void 0,{data:t[0]},n.Bb)},{ORDER_TYPE_STORE_INFO_FROM:O,ORDER_TYPE_STORE_INFO_TO:j,ORDER_TYPE_STORE_INFO_AT:p}=i.c,{CHRISTMAS_ORDERING:h,DELIVERY:g,DINE_IN:I,PICKUP:f,CATERING:N}=l.Jb||{},S=(e,t)=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case g:return Object(o.translateWithI18Next)(s);case I:return Object(o.translateWithI18Next)(u);case f:case N:case h:return Object(o.translateWithI18Next)(t?v:c);default:return}}},1294:function(e,t,a){e.exports={headerLogoMobile:"Arrows_headerLogoMobile__16Arw",cartIcon:"Arrows_cartIcon__2m8Yr",iconActive:"Arrows_iconActive__3TNtP",itemCountActive:"Arrows_itemCountActive__3uxmT",mobileIconCountActive:"Arrows_mobileIconCountActive__1TJP8","margin-auto":"Arrows_margin-auto__uTrlg","display-none":"Arrows_display-none__2DVuo","Toastify__toast-container":"Arrows_Toastify__toast-container__2aske",cartIconCount:"Arrows_cartIconCount__3yikY",mobileCartIconCount:"Arrows_mobileCartIconCount__JX2G1","hamburger-count":"Arrows_hamburger-count__1Hd8m","cart-icon-plus":"Arrows_cart-icon-plus__3Fkqp",cartPlus:"Arrows_cartPlus__3hW4V","hamburger-plus":"Arrows_hamburger-plus__2H8mP","slick-list":"Arrows_slick-list__1QUXE","slick-slide":"Arrows_slick-slide__aBDR4","slick-active":"Arrows_slick-active__1HU5p",arrows:"Arrows_arrows__1KXyg",arrowButton:"Arrows_arrowButton__3ELCK",cf3FadeInOut:"Arrows_cf3FadeInOut__2R9wT"}},1295:function(e,t,a){e.exports={scrollbarContainer:"Scrollbar_scrollbarContainer__11rpv",active:"Scrollbar_active__3Z9Qt",scrollbar:"Scrollbar_scrollbar__2bs40",scrollBackdrop:"Scrollbar_scrollBackdrop__eNHXn"}},1296:function(e,t,a){e.exports={headerLogoMobile:"Scroller_headerLogoMobile__3Ponu",cartIcon:"Scroller_cartIcon__2eo-M",iconActive:"Scroller_iconActive__3dmZE",itemCountActive:"Scroller_itemCountActive__1X2Ia",mobileIconCountActive:"Scroller_mobileIconCountActive__1gsE1","margin-auto":"Scroller_margin-auto__18wU3","display-none":"Scroller_display-none__2FXnR","Toastify__toast-container":"Scroller_Toastify__toast-container__122cG",cartIconCount:"Scroller_cartIconCount__1SZQV",mobileCartIconCount:"Scroller_mobileCartIconCount__stdy3","hamburger-count":"Scroller_hamburger-count__3oN-9","cart-icon-plus":"Scroller_cart-icon-plus__3oCs0",cartPlus:"Scroller_cartPlus__2D1F4","hamburger-plus":"Scroller_hamburger-plus__Sk9f1","slick-list":"Scroller_slick-list__3R-5M","slick-slide":"Scroller_slick-slide__2kxFy","slick-active":"Scroller_slick-active__2Emng",controls:"Scroller_controls__1x427",cf3FadeInOut:"Scroller_cf3FadeInOut__2P2K6"}},1302:function(e,t,a){"use strict";a.d(t,"a",(function(){return Re}));var i=a(3),o=a(1250),n=a(1151),l=(a(1150),a(2));var d=e=>{var t;const{module:a}=e;return Object(l.jsx)("div",{className:"flexible-component",children:Object(l.jsxs)("div",{className:"flexible-component--header-wrapper",children:[Object(l.jsxs)("div",{className:"flexible-component--header-copy",children:[(null===a||void 0===a?void 0:a.title)&&Object(l.jsx)("h2",{className:"flexible-component--header-title",children:null===a||void 0===a?void 0:a.title}),(null===a||void 0===a?void 0:a.pictogram)&&Object(l.jsx)("img",{className:"flexible-component--header-pictogram",src:null===a||void 0===a||null===(t=a.pictogram)||void 0===t?void 0:t.url,alt:null===a||void 0===a?void 0:a.title})]}),(null===a||void 0===a?void 0:a.description)&&Object(l.jsx)("div",{className:"flexible-component--sub-header-copy",dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.description}})]})})},r=a(6),c=a(15);const{CarIcon:s,ShoppingBagIcon:u}=c.a,v=e=>({pickup:{icon:u,alt:"shopping bag icon",translationKey:"dispositionTagPickup",isShowing:()=>e.pickupOnly},delivery:{icon:s,alt:"car icon",translationKey:"dispositionTagDelivery",isShowing:()=>e.deliveryOnly}});var m=a(1208);const b=e=>((null===e||void 0===e?void 0:e.cardAction)||"").includes(m.a.PDP_URL),O=e=>Boolean(!b(e)&&(e=>(null===e||void 0===e?void 0:e.inCart)||(null===e||void 0===e?void 0:e.isAppliedVal))(e)),j=e=>{var t;const a={price:null,startingPrice:null,strikethroughPrice:null};if(!e)return a;const i=e.price;if(b(e))return{...a,price:i};const o=(null===(t=e.legacyItemDetails)||void 0===t?void 0:t.length)||0;if(!o)return a;if(o>1)return{...a,startingPrice:i};const n=e.strikethroughPrice;return n>i?{...a,price:i,strikethroughPrice:n}:{...a,price:i}};var p=e=>{let{className:t="",price:a=null,startingPrice:i=null,strikethroughPrice:o=null}=e;return Object(l.jsxs)("div",{className:"price-container ".concat(t),children:[o&&Object(l.jsx)("s",{className:"strikethrough",children:o}),i&&Object(l.jsxs)("span",{children:[Object(r.translateWithI18Next)("from")," ",i]}),a&&Object(l.jsx)("span",{children:a})]})};var h=e=>{let{coupon:t}=e;const a=t.bannerText,i=a.length>12?"".concat(a.slice(0,12)):a;return Object(l.jsxs)("div",{className:"coupon--badge",children:[Object(l.jsx)("div",{className:"coupon--badge--arrow start"}),Object(l.jsx)("p",{className:"coupon--badge_text",children:Object(l.jsx)("span",{children:i})}),Object(l.jsx)("div",{className:"coupon--badge--arrow large end-top"}),Object(l.jsx)("div",{className:"coupon--badge--arrow large end-bottom"})]})};const{CheckGreen:g}=c.a;var I=e=>{const{coupon:t,returnEndDate:a,onTriggerRewardsActionModal:i,productBackgroundImage:o}=e,n=v(t);return Object(l.jsxs)(l.Fragment,{children:[t.bannerText&&Object(l.jsx)(h,{coupon:t}),Object(l.jsxs)("div",{className:"coupon--wrapper",onClick:e=>((e,t)=>{e.preventDefault(),i(e,t)})(e,t),"data-testid":"coupon-card-button",children:[t.image&&Object(l.jsxs)("div",{className:"coupon--image-container",children:[o&&Object(l.jsx)("div",{className:"coupon--background-image",children:Object(l.jsx)("img",{src:o.url,alt:o.title})}),t&&Object(l.jsx)("div",{className:"coupon--image zoom-in",children:Object(l.jsx)("img",{src:t.image,alt:t.title})})]}),Object(l.jsxs)("div",{className:"coupon--info ".concat(t.image?"":"no--image"),children:[Object(l.jsxs)("div",{className:"coupon--description",children:[Object(l.jsx)("h3",{className:"coupon--title",children:t.title}),Object(l.jsx)(p,{...j(t),className:"coupon--price"}),!O(t)&&Object.keys(n).map(((e,t)=>n[e].isShowing()&&Object(l.jsxs)("p",{className:"coupon--disposition",children:[Object(l.jsx)("img",{src:n[e].icon,alt:n[e].alt,className:"coupon--disposition_icon"}),Object(l.jsx)("span",{children:Object(r.translateWithI18Next)(n[e].translationKey)})]},"coupon--disposition_icon-".concat(t))))]}),!O(t)&&Object(l.jsx)("p",{className:"coupon--enddate",children:a(t)}),O(t)&&Object(l.jsxs)("p",{className:"coupon--active-label",children:[Object(l.jsx)("img",{src:g,alt:"check icon",className:"coupon--active-label_icon"}),Object(r.translateWithI18Next)(t.inCart?"dealInCart":"discountApplied")]})]})]})]})},f=a(5);const{CheckGreen:N,RedArrowIcon:S}=c.a;var T=e=>{const{coupon:t,returnEndDate:a,onClickBanner:i,productBackgroundImage:o}=e,n=v(t);return Object(l.jsxs)("div",{className:"banner banner--wrapper",onClick:e=>((e,t)=>{e.preventDefault(),i(e,t)})(e,t),children:[Object(l.jsx)("div",{className:"banner--info",children:Object(l.jsxs)("div",{className:"banner--info--container",children:[Object(l.jsx)("h3",{className:"banner--title",children:t.title}),Object(l.jsxs)("div",{className:"banner--tags",children:[t.bannerText&&Object(l.jsx)("p",{className:"banner--tag banner--tag-product",children:t.bannerText}),!O(t)&&Object.keys(n).map(((e,t)=>n[e].isShowing()&&Object(l.jsx)("p",{className:"banner--tag banner--tag-disposition",children:Object(r.translateWithI18Next)(n[e].translationKey)},"disposition-".concat(t))))]}),Object(l.jsxs)("div",{className:"banner--pricing",children:[Object(l.jsx)(p,{...j(t),className:"banner--price"}),Object(l.jsx)("button",{className:"banner--cta",children:Object(l.jsx)("img",{src:S,alt:"red arrow",className:"banner--cta-icon"})})]}),!O(t)&&Object(l.jsx)("p",{className:"banner--enddate",children:a(t)}),O(t)&&Object(l.jsxs)("p",{className:"banner--active-label",children:[Object(l.jsx)("img",{src:N,alt:"check icon",className:"banner--active-label_icon"}),Object(r.translateWithI18Next)(t.inCart?"dealInCart":"discountApplied")]})]})}),Object(l.jsxs)("div",{className:"banner--image-container",children:[o&&Object(l.jsx)("div",{className:"banner--background-image",children:Object(l.jsx)("img",{src:o.url,alt:o.title})}),t.image&&Object(l.jsx)("div",{className:"banner--image",children:Object(l.jsx)("img",{src:t.image,alt:t.title})})]})]})};var x=e=>{const{coupons:t,history:a,returnEndDate:o,onTriggerRewardsActionModal:n,productBackgroundImage:d}=e,r=Object(i.useRef)(null),c=Object(i.useRef)(null),s=Object(i.useRef)(null),u=e=>{s.current.querySelectorAll(".banner--carousel-indicator").forEach((e=>{e.classList.remove("active")})),s.current.querySelector(".banner--carousel-indicator-".concat(e)).classList.add("active")};Object(i.useEffect)((()=>{r.current.addEventListener("scroll",Object(f.Bf)((()=>{const e=r.current.firstElementChild.clientWidth,t=r.current.scrollLeft;u(Math.trunc(t/e))}),1e3))}),[]);const v=(e,t)=>{e.preventDefault(),n(e,t)};return Object(l.jsxs)("div",{className:"banner--carousel",ref:c,children:[Object(l.jsx)("ul",{className:"coupons",ref:r,children:null===t||void 0===t?void 0:t.map(((e,t)=>Object(l.jsx)("li",{className:"coupon faded banner--carousel-coupon banner-carousel-item-".concat(t),children:Object(l.jsx)(T,{productBackgroundImage:d,coupon:e,history:a,returnEndDate:o,onClickBanner:v},"banner-".concat(t))},t)))}),(null===t||void 0===t?void 0:t.length)>1&&Object(l.jsx)("ul",{className:"banner--carousel-indicators",ref:s,children:null===t||void 0===t?void 0:t.map(((e,t)=>Object(l.jsx)("li",{className:"banner--carousel-indicator banner--carousel-indicator-".concat(t," ").concat(0===t?"active":""),children:Object(l.jsx)("button",{onClick:()=>{(e=>{const t=c.current.querySelector(".banner-carousel-item-".concat(e)).getBoundingClientRect(),a=r.current.getBoundingClientRect(),i=t.left-a.left;r.current.scrollLeft=r.current.scrollLeft+i,u(e)})(t)},children:t+1})},"banner-indicators-".concat(t))))})]})},C=a(18),E=a.n(C),_=a(12),D=a(28),y=a(85),A=a(35),R=a(86);const L=Object.freeze({FAMILY_PRODUCT:"familyProduct",SINGLE_PRODUCT:"singleProduct",THRESHOLD:"threshold"}),w="applyToCart",P="redeemWithOrder",k="selectProduct",{PDP_URL:M,PLP_URL:F}=m.a;var U=e=>{const[t,a]=Object(i.useState)(""),[o,n]=Object(i.useState)(""),[l,d]=Object(i.useState)("");return Object(i.useEffect)((()=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null!==e&&void 0!==e&&e.includes(M)?L.SINGLE_PRODUCT:null!==e&&void 0!==e&&e.includes(F)?L.FAMILY_PRODUCT:L.THRESHOLD}(e);a(t),d(e)}),[e]),Object(i.useEffect)((()=>{const e=(e=>({[L.SINGLE_PRODUCT]:P,[L.FAMILY_PRODUCT]:k,[L.THRESHOLD]:w}[e]))(t);n(e)}),[t]),{couponActionURL:l,couponActionTranslationKey:o,couponType:t}},W=a(1280);const{Error_Yellow:H,CheckGreen:B}=c.a,{PROMOS_REWARDS_URL:G}=m.a;var V=e=>{let{remediations:t=[],allItemsNotAvailable:a=!1}=e;const[o,n]=Object(i.useState)(null),[l,d]=Object(i.useState)(null),[r,c]=Object(i.useState)("rewards-action-modal--alert"),[s,u]=Object(i.useState)(H);return Object(i.useEffect)((()=>{if(t.length>0){const e=t[0];"success"===e.type&&(c("rewards-action-modal--alert rewards-action-modal--alert--success"),u(B)),n({action:e.action,message:e.message,secondaryMessage:e.secondaryMessage}),d(e.actionTextKey)}}),[t]),Object(i.useEffect)((()=>{a&&(n((e=>null===e?{action:W.c,message:{translationKey:W.b}}:e)),d(G))}),[a]),{remediationAction:l,remediationClass:r,remediationIcon:s,remediationI18NKeys:o}},Y=a(145),z=a(1107),q=a(0);var K=()=>{const e=Object(D.b)(),{tenantId:t,genericMenuName:a}=Object(D.c)((e=>e.tenantReducer))||{},{flatResponse:o,isLoading:n}=Object(D.c)((e=>e.menuReducer))||{},{productMapById:l}=o||{},{dispositionNew:d}=Object(z.a)();return Object(i.useEffect)((()=>{if(!l&&!n){const{type:i="",store:o={}}=d;e(Object(Y.d)({tenantId:t,catalogName:a},{channel:q.qb.VIEWPORT_AGENT_BROWSER,service:i,storeId:o.id}))}}),[e,d,a,n,l,t]),{menuItems:l,isLoading:n}},Q=a(235);const{BannerCloseButton:J,OfferTag:X}=c.a,{CART:Z,CLOSE_MODAL:$,DISPOSITION_DATA:ee,HIDDEN:te,LOGIN:ae,MODIFY_ORDER:ie,PLP_URL:oe,PROMOS_REWARDS_URL:ne}=m.a;var le=e=>{var t;let{coupon:a,history:o,handleModalClose:n,plpClickHandler:d,productBackgroundImage:c}=e;const s=Object(D.b)(),u=Object(D.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),m=Object(D.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),b=null===u||void 0===u?void 0:u.cartData,h=null===m||void 0===m?void 0:m.tenantId,{userOrderStateDispatch:g}=Object(i.useContext)(y.a),I=v(a),{couponActionURL:f,couponActionTranslationKey:N,couponType:S}=U(a.overlayAction),{remediationAction:T,remediationClass:x,remediationIcon:C,remediationI18NKeys:E}=V({remediations:null===a||void 0===a?void 0:a.remediations,allItemsNotAvailable:null===a||void 0===a?void 0:a.allItemsNotAvailable});K();const w=e=>{const t=null===e||void 0===e?void 0:e.target;t&&(t.onerror=null,t.classList.add(te))},P=a.endDate,k=Object(_.C)(P,"DD-MM-YYYY");return Object(l.jsx)("div",{className:"rewards-action-modal--container",children:Object(l.jsxs)("div",{className:"rewards-action-modal",children:[Object(l.jsxs)("div",{className:"rewards-action-modal--header",children:[Object(l.jsxs)("div",{className:"rewards-action-modal--title",children:[Object(l.jsx)("img",{className:"rewards-action-modal--title-img",src:X,alt:""}),Object(l.jsx)("h2",{className:"rewards-action-modal--title-text",children:Object(r.translateWithI18Next)("offerDetails")})]}),Object(l.jsx)("button",{className:"rewards-action-modal--close-btn","data-testid":"closeButton",onClick:n,children:Object(l.jsx)("img",{className:"rewards-action-modal--close-btn-icon",src:J,alt:Object(r.translateWithI18Next)("closeButton")})})]}),Object(l.jsxs)("div",{className:"rewards-action-modal--content",children:[Object(l.jsxs)("div",{className:"rewards-action-modal--content--product-details",children:[Object(l.jsx)("h2",{className:"rewards-action-modal--product-title",children:a.title}),Object(l.jsx)("div",{className:"rewards-action-modal--product-description",children:a.description}),Object(l.jsx)(p,{...j(a),className:"rewards-action-modal--coupon--price"})]}),Object(l.jsxs)("div",{className:"rewards-action-modal--content--product-actions",children:[Object(l.jsxs)("div",{className:"rewards-action-modal--image-container",children:[c&&Object(l.jsx)("div",{className:"rewards-action-modal--background-image",children:Object(l.jsx)("img",{src:c.url,alt:c.title,onError:w})}),(null===a||void 0===a?void 0:a.image)&&Object(l.jsx)("div",{className:"rewards-action-modal--image",children:Object(l.jsx)("img",{src:a.image,alt:a.title,onError:w})})]}),Object(l.jsxs)("div",{className:"rewards-action-modal--content--product-actions-container",children:[Object(l.jsx)("h3",{className:"rewards-action-modal--redemption-header",children:Object(r.translateWithI18Next)("howToRedeem")}),Object(l.jsxs)("ul",{className:"rewards-action-modal--banners",children:[a.bannerText&&Object(l.jsx)("li",{className:"coupon--banner",children:Object(l.jsx)("p",{className:"coupon--banner_text",children:Object(l.jsx)("span",{children:a.bannerText})})}),!O(a)&&Object.keys(I).map(((e,t)=>I[e].isShowing()&&Object(l.jsx)("li",{className:"coupon--disposition",children:Object(l.jsxs)("p",{className:"coupon--disposition--text",children:[Object(l.jsx)("img",{src:I[e].icon,alt:I[e].alt,className:"coupon--disposition_icon"}),Object(l.jsx)("span",{children:Object(r.translateWithI18Next)(I[e].translationKey)})]})},"coupon--disposition_icon-".concat(t))))]}),(null===a||void 0===a||null===(t=a.conditionTextList)||void 0===t?void 0:t.length)>0&&Object(l.jsx)("ul",{className:"rewards-action-modal--coupon-condition-list",children:a.conditionTextList.map(((e,t)=>Object(l.jsx)("li",{children:e},"conditions".concat(t))))}),(null===a||void 0===a?void 0:a.endDate)&&Object(l.jsx)("p",{className:"rewards-action-modal--coupon-end-date",children:Object(r.translateWithI18Next)("tAndCValidBefore",{dateString:k})}),!O(a)&&!E&&Object(l.jsxs)("div",{className:"rewards-action-modal--redemption-cta-container","data-testid":"redemption-cta-container",children:[Object(l.jsx)("p",{className:"rewards-action-modal--eligibility-text",children:Object(r.translateWithI18Next)("yewEligible")}),Object(l.jsx)("button",{className:"rewards-action-modal--button button-contained",type:"button","data-type":"primary",onClick:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.preventDefault(),S===L.THRESHOLD){const e=f.split("/").filter((e=>e&&"redeem"!==e)),[t]=e;s(Object(A.b)({basketId:null===b||void 0===b?void 0:b.id,tenantId:h,successCallback:()=>{n(),o.push(Q.a.MENU)}},{couponCode:t}))}else{if(![L.SINGLE_PRODUCT,L.FAMILY_PRODUCT].includes(S))return;d(e,t)}}(e,a),children:Object(r.translateWithI18Next)(N)})]}),E&&Object(l.jsxs)("div",{className:x,children:[Object(l.jsx)("div",{className:"rewards-action-modal--alert--icon",children:Object(l.jsx)("img",{src:C,alt:""})}),Object(l.jsxs)("div",{className:"rewards-action-modal--alert--text-container",children:[Object(l.jsx)("span",{className:"rewards-action-modal--alert--text",children:Object(r.translateWithI18Next)(E.message.translationKey,E.message.params)}),"\xa0",Object(l.jsx)("span",{className:"rewards-action-modal--alert--link",children:Object(l.jsx)("button",{className:"rewards-action-modal--alert--button",onClick:()=>(e=>{switch(e){case ie:g({type:ee,value:{showDisposition:!0}}),n();break;case Z:n(),o.push(e);break;case ae:Object(R.c)();break;case oe:n(),o.push(Q.a.MENU);break;case $:n();break;case ne:n(),o.push(ne);break;default:return}})(T),children:Object(r.translateWithI18Next)(E.action)})}),E.secondaryMessage&&Object(l.jsxs)("span",{className:"rewards-action-modal--alert--text",children:["\xa0",Object(r.translateWithI18Next)(E.secondaryMessage.translationKey,E.secondaryMessage.params)]})]})]})]})]})]})]})})},de=a(1190),re=a(62),ce=a(1156);const se=e=>{var t;const a=Object(D.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),i=null===a||void 0===a||null===(t=a.countryCode)||void 0===t?void 0:t[0],o=(e=>{switch(e.promoType){case"Menu":default:return ce.f;case"Public":case"Private":return ce.d}})(e),{data:n,isLoading:l,isSuccess:d}=o(e);return{coupons:n,isLoading:l,isSuccess:d,tenantId:i}};var ue=function(e){return e.Left="left",e.Right="right",e}(ue||{}),ve=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e}(ve||{});var me=()=>{const[e,t]=Object(i.useState)(!1),[a,o]=Object(i.useState)(!0),n=Object(i.useRef)(null),l=Object(i.useRef)(null),d=Object(i.useRef)(null),r=Object(i.useRef)(!1),c=Object(i.useCallback)((()=>{const e=null===n||void 0===n?void 0:n.current;if(e){const t=Array.from(e.querySelectorAll(".coupon")),a=e.clientWidth,i=e.getBoundingClientRect(),o=t.findIndex((e=>{const t=e.getBoundingClientRect();return t.left>=i.left&&t.right<=i.right}));if(o>0){const i=t[o-1],{offsetLeft:n,clientWidth:l}=i,d=n-(a-l);e.scrollTo({left:d,behavior:"smooth"})}}}),[n]),s=Object(i.useCallback)((()=>{const e=null===n||void 0===n?void 0:n.current;if(e){const t=Array.from(e.querySelectorAll(".coupon")),a=e.getBoundingClientRect(),i=t.reduce(((e,t,i)=>{const o=t.getBoundingClientRect();return o.left>=a.left&&o.right<=a.right?i:e}),-1);if(i<t.length-1){const a=t[i+1],{offsetLeft:o}=a,n=o;e.scrollTo({left:n,behavior:"smooth"})}}}),[n]),u=Object(i.useCallback)((e=>{if(!n.current)return;const t=n.current,a=()=>{t&&(e===ue.Right?t.scrollLeft+=60:e===ue.Left&&(t.scrollLeft-=60))};a(),d.current=setInterval(a,80)}),[n]),v=Object(i.useCallback)((()=>{d.current&&(clearInterval(d.current),d.current=null),r.current=!1}),[]),m=Object(i.useCallback)((e=>{if(e){const{scrollLeft:a,scrollWidth:i,clientWidth:n}=e;t(a>0),o(a<i-n)}}),[]),b=Object(i.useCallback)((e=>{if(null===n||void 0===n||!n.current||null===l||void 0===l||!l.current)return;const t=n.current,a=l.current,{clientWidth:i,scrollWidth:o}=t,d=a.offsetWidth||0,r=o-i,c=i-d,s=e.clientX-t.offsetLeft-d/2,u=Math.min(Math.max(0,s),c)/c;t.scrollLeft=u*r}),[n,l]),O=Object(i.useCallback)((()=>{if(!n.current||!l.current)return;const e=n.current,t=l.current,a=e.scrollWidth,i=e.scrollLeft,o=e.clientWidth/a*100,d=i/a*100;t.setStyleProperty({key:"width",value:"".concat(o,"%")}),t.setStyleProperty({key:"position",value:"".concat(d,"%")}),m(e)}),[m]),j=Object(i.useCallback)((e=>{document.activeElement||!n.current||r.current||(r.current=!0,e.key===ve.ArrowRight?u(ue.Right):e.key===ve.ArrowLeft&&u(ue.Left))}),[u]),p=Object(i.useCallback)((e=>{e.key!==ve.ArrowRight&&e.key!==ve.ArrowLeft||(r.current=!1,v())}),[v]),h=Object(i.useCallback)((()=>{null!==n&&void 0!==n&&n.current&&m(n.current)}),[m]);return Object(i.useEffect)((()=>{const e=null===n||void 0===n?void 0:n.current;return e&&(m(e),e.addEventListener("scroll",O),O(),window.addEventListener("keydown",j),window.addEventListener("keyup",p),window.addEventListener("resize",h)),()=>{e&&(e.removeEventListener("scroll",O),window.removeEventListener("keydown",j),window.removeEventListener("keyup",p),window.removeEventListener("resize",h),v())}}),[j,p,h,O,v,n,l,m]),{canScrollLeft:e,canScrollRight:a,handleScrollbarDrag:b,scrollbarRef:l,listRef:n,scrollLeft:c,scrollRight:s,updateButtonStates:m}},be=a(46),Oe=a(1294),je=a.n(Oe);const{CarouselArrowLeft:pe,CarouselArrowRight:he}=c.a;var ge=e=>{const{canScrollLeft:t,canScrollRight:a,onScrollLeft:i,onScrollRight:o}=e;return Object(l.jsxs)("div",{className:je.a.arrows,children:[Object(l.jsx)("button",{className:je.a.arrowButton,"data-testid":"left-arrow",disabled:!t,onClick:i,children:Object(l.jsx)(be.a,{srcFile:he})}),Object(l.jsx)("button",{className:je.a.arrowButton,"data-testid":"right-arrow",disabled:!a,onClick:o,children:Object(l.jsx)(be.a,{srcFile:pe})})]})},Ie=a(1295),fe=a.n(Ie);var Ne=Object(i.forwardRef)(((e,t)=>{const{onScrollbarDrag:a}=e,o=Object(i.useRef)(null),n=Object(i.useRef)(null),d=Object(i.useRef)(!1);Object(i.useImperativeHandle)(t,(()=>{var e;return{offsetWidth:null===(e=n.current)||void 0===e?void 0:e.offsetWidth,setStyleProperty:e=>{var t;let{key:a,value:i}=e;null===(t=n.current)||void 0===t||t.style.setProperty("--scroll-scrollbar-".concat(a),"".concat(i))}}}));return Object(l.jsxs)("div",{className:fe.a.scrollbarContainer,"data-testid":"scrollbar",onMouseDown:e=>{var t;d.current=!0,null===(t=o.current)||void 0===t||t.classList.add(fe.a.active),a(e)},onMouseUp:()=>{var e;d.current=!1,null===(e=o.current)||void 0===e||e.classList.remove(fe.a.active)},onMouseLeave:()=>{var e;d.current=!1,null===(e=o.current)||void 0===e||e.classList.remove(fe.a.active)},onMouseMove:e=>{var t;d.current?(e.preventDefault(),a(e)):null===(t=o.current)||void 0===t||t.classList.remove(fe.a.active)},ref:o,children:[Object(l.jsx)("div",{className:fe.a.scrollBackdrop,"data-testid":"scroll-backdrop"}),Object(l.jsx)("div",{className:fe.a.scrollbar,"data-testid":"scroll-scrollbar",ref:n})]})})),Se=a(1296),Te=a.n(Se);var xe=e=>{const{children:t,listClassName:a=""}=e,{handleScrollbarDrag:o,canScrollLeft:n,canScrollRight:d,listRef:r,scrollbarRef:c,scrollLeft:s,scrollRight:u,updateButtonStates:v}=me();return Object(i.useEffect)((()=>{t&&null!==r&&void 0!==r&&r.current&&v(r.current)}),[t,r,v]),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:a,ref:r,tabIndex:0,"data-testid":"list-wrapper",children:t}),(n||d)&&Object(l.jsxs)("div",{className:Te.a.controls,"data-testid":"scroll-controls",children:[Object(l.jsx)(Ne,{onScrollbarDrag:o,ref:c}),Object(l.jsx)(ge,{canScrollLeft:n,canScrollRight:d,onScrollLeft:s,onScrollRight:u})]})]})};const{AUTO:Ce,BODY:Ee,HIDDEN:_e,REWARDS_OVERLAY:De,PDP_URL:ye}=m.a;var Ae=e=>{let{module:t}=e;const{coupons:a,isLoading:o,isSuccess:c,tenantId:s}=se(t),u=null===t||void 0===t?void 0:t.layout.toLowerCase(),[v,m]=Object(i.useState)(!1),[b,O]=Object(i.useState)({coupon:{}}),[j,p]=Object(i.useState)({}),[h,g]=Object(i.useState)(!1),[N,S]=Object(i.useState)(null),[T,C]=Object(i.useState)(0),D=null!==t&&void 0!==t&&t.productBackgroundImage?t.productBackgroundImage:null,y=Object(re.g)();Object(i.useLayoutEffect)((()=>{const e=()=>{C(window.innerWidth)};return window.addEventListener(q.ye,e),e(),()=>window.removeEventListener(q.ye,e)}),[]),Object(i.useEffect)((()=>{document.querySelectorAll(".coupon-list.horizontal").forEach((e=>{const t=null===e||void 0===e?void 0:e.querySelector(".coupon");if(!t)return;if(t.querySelector(".coupon--badge")){var a;(null===(a=t.offsetParent)||void 0===a?void 0:a.children[1]).classList.add("less-margin"),t.classList.add("extra-margin")}}))}),[a]);const A=e=>{const t=null===e||void 0===e?void 0:e.endDate,a=Object(_.A)(),i=Object(_.G)(E()(1e3*t),E()(1e3*a),"day");let o;if(0===i)o=Object(r.translateWithI18Next)("endsToday");else if(i<6&&i>1)o=Object(r.translateWithI18Next)("endsInDays",{days:i});else if(1===i)o=Object(r.translateWithI18Next)("endsInDay",{days:i});else{const e=Object(_.C)(t,"DD-MM-YYYY");o=t?Object(r.translateWithI18Next)("endsOnDate",{date:e}):""}return o},R=(e,t)=>{e.preventDefault();const a=t.cardAction;if(null!==a&&void 0!==a&&a.includes(De))document.querySelector(Ee).style.overflow=_e,O({coupon:t}),m(!0);else{if(null===a||void 0===a||!a.includes(ye))return;{var i;const e=a.split("/").filter((e=>e&&"pdp"!==e)),[t,o]=e,n=[t];y.push({pathname:Object(f.xc)(n,o,null===y||void 0===y||null===(i=y.location)||void 0===i?void 0:i.pathname)})}}},L=()=>{document.querySelector(Ee).style.overflow=Ce,m(!1)};return Object(l.jsxs)(l.Fragment,{children:[h&&Object(l.jsx)("div",{className:"promos-container",children:Object(l.jsx)(de.a,{"data-testid":"multi-product-modalId",viewProductEvent:N,history:y,tenantId:s,viewProductCardData:j,handleClose:()=>{g(!1)},imageContainerSize:T})}),v&&Object(l.jsx)(le,{productBackgroundImage:D,coupon:b.coupon,history:y,plpClickHandler:(e,t)=>{e.preventDefault(),L();const a=null===t||void 0===t?void 0:t.productIds,i=null===t||void 0===t?void 0:t.title,o=null===t||void 0===t?void 0:t.legacyItemDetails,n=null===o||void 0===o?void 0:o.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));p({item:{couponCode:null===t||void 0===t?void 0:t.code,itemDetails:o},titleValue:i,promoParams:a,priceDetails:n}),S(e),g(!0)},handleModalClose:L}),Object(l.jsx)("div",{className:"coupon-list ".concat(u),children:Object(l.jsxs)("div",{className:"grid-container",children:[Object(l.jsx)(d,{module:t}),"single"===u?Object(l.jsx)("div",{className:"coupon-wrapper ".concat(u),children:Object(l.jsx)(x,{productBackgroundImage:D,coupons:a,history:y,returnEndDate:A,onTriggerRewardsActionModal:R})}):Object(l.jsx)(xe,{listClassName:"coupon-wrapper ".concat(u),children:Object(l.jsxs)("ul",{className:"coupons",children:[o?Object(l.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:[Object(l.jsx)(n.b,{containerClassName:"skeleton-container",count:4,style:{width:"23.5%",minHeight:"204px",maxWidth:"33%",marginBottom:"5px"},baseColor:"#202020",highlightColor:"#2b2b2b"}),Object(l.jsx)(n.b,{containerClassName:"skeleton-container",count:4,style:{width:"23.5%",minHeight:"144px",maxWidth:"33%"},baseColor:"#202020",highlightColor:"#2b2b2b"})]}):null===a||void 0===a?void 0:a.map(((e,t)=>Object(l.jsx)("li",{className:"coupon faded",children:Object(l.jsx)(I,{productBackgroundImage:D,coupon:e,returnEndDate:A,onTriggerRewardsActionModal:R},"coupon-".concat(t))},t))),Object(l.jsx)("li",{className:"spacer"})]})})]})})]})};const Re=e=>{let{module:t}=e;if(!t||0===Object.keys(t).length)return null;switch(t.type){case ce.a.Flexible:return Object(l.jsx)(o.a,{module:t});case ce.a.Promotion:return Object(l.jsx)(Ae,{module:t})}}},1306:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var i=a(3),o=a.n(i),n=a(28),l=a(1096),d=a(41),r=a(46),c=a(423);class s extends o.a.Component{constructor(){super(),this.state={valuesIndex:0},this.progressInterval=null}componentDidMount(){this.progressInterval=setInterval((()=>{this.setState({valuesIndex:this.state.valuesIndex+1})}),this.props.interval)}componentWillUnmount(){clearInterval(this.progressInterval)}render(){return this.props.children(this.props.values[this.state.valuesIndex])}}s.defaultProps={interval:1e3};var u=s,v=a(1191),m=a(5),b=a(1229),O=a(2);const j=()=>{document.querySelectorAll('*[id^="videoComp"]').forEach((e=>null===e||void 0===e?void 0:e.pause()))};var p=e=>{const{srcFile:t,defaultPath:a="",nameSuffix:o="",formatType:n="",...l}=e,[d,r]=Object(i.useState)(!0);return""!==t&&null!==t&&void 0!==t?Object(O.jsx)("video",{id:Object(b.d)(o),onError:e=>{e.target.onerror=null,d&&(e.target.src=a),r(!1)},className:"videoComp",...l,src:t,type:n||"",muted:!0,playsInline:!0}):null},h=a(0),g=a(15),I=a(6),f=a(1236),N=a(85),S=a(427),T=a(396);a(1192);const x=(e,t)=>e?h.ig:t/h.bg,C=(e,t)=>{var a;let i=null===t||void 0===t?void 0:t.promotion_id;return null===e||void 0===e||null===(a=e.timeSpecificResponse)||void 0===a||a.forEach((e=>{const a=e.products;null===a||void 0===a||a.forEach((e=>{const a=e.items;null===a||void 0===a||a.filter((e=>{(null===t||void 0===t?void 0:t.promotion_id)===(null===e||void 0===e?void 0:e.id)&&(i=null===e||void 0===e?void 0:e.categoryId)}))}))})),i},E=async(e,t,a,i,o)=>{if(e&&t>=0){const{bannerType:d,mobileSrc:r,desktopSrc:c}=e[t];if(Object(m.rf)(d)===h.ag.VIDEO){const e=document.querySelector("*[data-index='".concat(t,"']")),d=await(null===e||void 0===e?void 0:e.querySelector("*[id='videoComp".concat(t,"']")));if(console.log("videoComp",d),d){var n,l;if((null===d||void 0===d||null===(n=d.src)||void 0===n?void 0:n.substr((null===d||void 0===d||null===(l=d.src)||void 0===l?void 0:l.length)-3))!==h.vd){console.log("Unknown ===> ",null===d||void 0===d?void 0:d.src);const e=Object(m.ad)(Object(m.jb)(i,o),r,c);d.src=e,console.log(d)}d.currentTime=0,d.play(),a.current.slickPause(),d.onended=e=>{a.current.slickPlay()}}}}};var _=e=>{var t,a,s;const{SLIDE_CHANGE_INTERVAL:_,LIGHT:D,BLACK_COLOR:y,WHITE_COLOR:A,IMAGE:R,WHITE_COLOR_PROPERTY:L,VIDEO:w}=c.a,{contentData:P=[],animationSpeed:k=_,clickHandler:M,clickImageAnalytics:F,isMobile:U=!1,profileReducer:W,userParams:H,isTablet:B=!1,userType:G,isGrid:V=!1}=e,Y=o.a.useRef(null),z=null===H||void 0===H?void 0:H.loggedIn,[q,K]=Object(i.useState)(0),[Q,J]=Object(i.useState)(!1),[X,Z]=Object(i.useState)(!1),[$,ee]=Object(i.useState)(0),{MARKETING_ITEMS:te}=h.Oc,[ae,ie]=Object(i.useState)(!1),oe=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),ne=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),le=Object(n.c)((e=>e.menuReducer)),de=Object(n.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{currencyShortName:re,removeFillFromImg:ce}=oe,{componentOptions:{homePage:{greeting:{hideWelcomeMessage:se=!1}={}}={}}={}}=oe||{},{userOrderState:ue,userOrderStateDispatch:ve}=Object(i.useContext)(N.a),{showDisposition:me,timeBasedCetegory:be}=ue,{showFirstCharactersFirstName:Oe,firstNameNumOfCharsToShow:je,showHeightForCategoryImage:pe,linearGradientStyleForHomePage:he}=null!==(t=null===oe||void 0===oe||null===(a=oe.componentOptions)||void 0===a||null===(s=a.web)||void 0===s?void 0:s.homePage)&&void 0!==t?t:{},ge=Object(n.b)(),Ie=Object(T.l)(le)||{},[fe,Ne]=Object(i.useState)([]);Object(S.d)(me,Y);const Se={nextSlideIndex:q,viewPromotionEventCall:fe,setviewPromotionEventCall:Ne,isElementInViewport:m.Qd};Object(S.b)(P,b.i,Z,J,ie,re,Se,H);const Te=e=>{var t,a,i;null!==P&&void 0!==P&&null!==(t=P[e])&&void 0!==t&&t.textColor?xe="".concat(null===P||void 0===P||null===(a=P[e])||void 0===a||null===(i=a.textColor)||void 0===i?void 0:i.toLowerCase(),"-color"):xe="black-color";return xe};let xe=(()=>{var e,t;return Object(m.ad)((null===(e=P[0])||void 0===e||null===(t=e.textColor)||void 0===t?void 0:t.toUpperCase())===D,"white-color","black-color")})();const Ce={dots:!0,infinite:!0,autoplaySpeed:Object(m.ad)(1===(null===P||void 0===P?void 0:P.length),0,970*k),slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:(e,t)=>{j(),Y.current.slickPlay(),K(Object(m.ad)(t!==P.length,t,0)),xe=Te(t),E(P,t,Y,Ee,U)},customPaging:e=>{let t=Te(q),a=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),i=Object(m.ad)("white-color"===xe,y,A);return e===q?Object(O.jsx)(u,{values:Object(m.xd)(k),children:e=>Object(O.jsx)(v.a,{className:xe,value:e,text:a,styles:Object(v.b)({pathTransitionDuration:x(ae,k),textColor:i,pathColor:i}),tabIndex:"0"})}):Object(O.jsx)("div",{className:"".concat(t," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:()=>K(e),"aria-label":"Slide ".concat(a),tabIndex:"0",role:"button",children:Object(O.jsx)("span",{className:"carausel-pagingNo",children:a})})}},[Ee,_e]=Object(i.useState)(Object(m.hb)(!B,window.innerHeight>window.innerWidth));Object(i.useEffect)((()=>{if("onorientationchange"in window)return window.addEventListener("orientationchange",ye),()=>{window.removeEventListener("orientationchange",ye)}}),[]),Object(i.useEffect)((()=>{const e=De(te,U,B);ee(e)}),[]),Object(i.useEffect)((()=>{const e=De(te,U,B);ee(e)}),[U,B]);const De=(e,t,a)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:i,ITEM_IMAGE_WIDTH_MOBILE:o,ITEM_IMAGE_HEIGHT_DESKTOP:n,ITEM_IMAGE_WIDTH_DESKTOP:l}=e;return pe?t||a?{height:i,width:o}:{height:n,width:l}:{height:null,width:null}},ye=()=>{_e(!B&&window.innerHeight<window.innerWidth)};return Object(O.jsx)("div",{class:"".concat(Q&&"transperant-img-dots"," ").concat(ae&&"videoItem-dots"," "),children:V?Object(O.jsx)("div",{className:"grid-container grid-component",children:(e=>e.map(((e,t)=>{var a,i,n;const{smallText:l,largeText:d,showButton:c,desktopSrc:s,mobileSrc:u,textColor:v,analyticsData:b,bannerType:j,textVerticalAlign:p,noteLine:h}=Object(m.sd)(e),g=Object(m.ad)(Object(m.jb)(Ee,U),u,s);he&&(l||d)&&(null===v||void 0===v||v.toLowerCase());return Object(O.jsx)(o.a.Fragment,{children:Object(O.jsxs)("div",{className:"marketing-hero-bg-au item",tabIndex:"0",role:"button","data-testid":"click-image-analytics-".concat(t),onClick:()=>F({userType:G,...b},t,e,re,M),children:[null!==oe&&void 0!==oe&&null!==(a=oe.componentOptions)&&void 0!==a&&null!==(i=a.web)&&void 0!==i&&null!==(n=i.homePage)&&void 0!==n&&n.showFullBleedImage||j===R&&X?Object(O.jsx)(r.a,{"data-testid":"image-component",srcFile:g,alt:l,className:"carausel-image-new main-image"}):null,Object(O.jsx)("div",{className:"market-hero-description grid-container ".concat(p?p.toLowerCase():"bottom"," ").concat(z&&"market-hero-description-signin"," ").concat(!Q&&"market-hero-content"),children:h?Object(O.jsx)("div",{className:"color-".concat(v.toLowerCase()," carauselOrderNow-NoteLine"),children:h}):null})]},t)},t)})))(null===P||void 0===P?void 0:P.slice(0,3))}):Object(O.jsx)(l.a,{carousalRef:Y,settings:Ce,children:(e=>e.map(((e,t)=>{var a,i,n;const{smallText:l,largeText:c,buttonText:s,showButton:u,desktopSrc:v,mobileSrc:b,alt:j,textColor:h,analyticsData:N,noteLine:S,bannerType:x,contentType:E,subHeadlineTextSize:_,textVerticalAlign:D}=Object(m.sd)(e),y=Object(m.ad)(Object(m.jb)(Ee,U),b,v),A={image:{mainImage:"https:"+y}},P="".concat(s," for ").concat(c),k=null===W||void 0===W?void 0:W.basic;he&&(l||c)&&(null===h||void 0===h||h.toLowerCase());return Object(O.jsx)(o.a.Fragment,{children:Object(O.jsxs)("div",{className:"".concat(Object(m.ad)(u,"removePointer marketing-hero-bg-au","marketing-hero-bg-au")," ").concat(x===w&&"video-content"," ").concat(!he||(S||l||c)&&(null===h||void 0===h?void 0:h.toUpperCase())===L?"gradient-background":""),tabIndex:"0",role:"button","data-testid":"click-image-analytics-".concat(t),onClick:Object(m.ad)(u,(e=>e.preventDefault()),(()=>F({userType:G,...N},t,e,re,M))),children:[null!==oe&&void 0!==oe&&null!==(a=oe.componentOptions)&&void 0!==a&&null!==(i=a.web)&&void 0!==i&&null!==(n=i.homePage)&&void 0!==n&&n.showFullBleedImage||x===R&&X?Object(O.jsx)(r.a,{"data-testid":"image-component",srcFile:Object(m.qc)(A,$.width,$.height,ce,!0),alt:j,className:"carausel-image-new main-image"}):null,Q&&Object(O.jsx)(r.a,{"data-testid":"image-component",srcFile:Object(m.nd)(y,$.width,$.height,ce,!0),alt:j,className:"carausel-image"}),x===R&&(null===H||void 0===H?void 0:H.loggedIn)&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"strip-continer",children:[Object(O.jsx)("div",{className:"strip-Icon",children:Object(O.jsx)(r.a,{"data-testid":"image-strip-component",srcFile:g.a.StripesIcon,className:"strip-icon-img"})}),!se&&Object(O.jsx)("div",{"data-testid":"greeting-test",className:"greeting-heading marketing-hero-greeing"+(Oe?" bigNames":""),children:Object(O.jsxs)("span",{children:[Object(I.translateWithI18Next)(f.j),","," ",Oe?Object(m.Hf)(null===k||void 0===k?void 0:k.firstName,je):null===k||void 0===k?void 0:k.firstName]})})]})}),"Video"===x&&Object(O.jsx)(p,{"data-testid":"video-component",nameSuffix:t,srcFile:y,formatType:E,className:"carausel-video"}),Object(O.jsxs)("div",{className:"market-hero-description grid-container ".concat(D?D.toLowerCase():"bottom"," ").concat(z&&"market-hero-description-signin"," ").concat(!Q&&"market-hero-content"),children:[l&&Object(O.jsx)("div",{className:"color-".concat(h.toLowerCase()," smallTxtHero-aus"),children:l}),c&&Object(O.jsx)("div",{className:"color-".concat(h.toLowerCase(),"\n                ").concat(_?"text-size-".concat(_.toLowerCase()):""," largeTextHero-aus"),children:c}),u&&s&&Object(O.jsx)(d.c,{variant:d.b.primary,className:"carauselOrderNow-aus","aria-label":Object(m.ud)(P),"data-testid":"click-handler-".concat(t),onClickHandler:()=>((e,t,a)=>{var i;const o=(null===H||void 0===H?void 0:H.localized)&&Object(T.i)({item:a,menuReducer:ne,getStoreDetail:Ie,timeBasedCetegory:be,cartReducer:de,userOrderStateDispatch:ve,showModal:!0,dispatch:ge,itemId:null===a||void 0===a?void 0:a.categoryId,showCouroselAlertItem:(null===a||void 0===a||null===(i=a.linkTo)||void 0===i?void 0:i.split("/").length)>2});o||(Y.current.slickPause(),!o&&M(e,t,null,a))})(N,t,{...e,categoryId:C(ne,e)}),children:Object(O.jsx)("span",{children:s})}),S?Object(O.jsx)("div",{className:"color-".concat(h.toLowerCase()," carauselOrderNow-NoteLine"),children:S}):null]})]},t)},t)})))(P)})})},D=a(16),y=a(4);const{CAROUSELIMAGECLICK:A}=c.a,R=(e,t,a,i,o)=>{Object(b.a)(e,t,a,i),o(e,t,A,a)},L=e=>e&&Object(b.f)(e),w=(e,t,a,i,o,n)=>e&&Object(b.c)(e,t,a,i,o,n)||[],P=e=>{var t,a;const{contentData:o={},history:l,userParams:d={},isGrid:r=!1}=e,{carousalContent:s="",animationSpeed:u,items:v=""}=o,{DISPOSITION_DATA:j,SELECTED_TILE:p,SEARCH_ORDER_DATA:g,EVENT:I}=c.a,{SELECTED_TILE_DATA:f,SET_REDIRECTION_PATH:S,UPDATE_CATERING_RETAIL_MENU_ALERT:T}=D.a,{MENU_NAVALERT_TITLE:x,MENU_NAVALERT_SUBTITLE:C}=y.a,E=Object(n.c)((e=>e.appStateReducer)),P=Object(n.c)((e=>e.tenantReducer)),{currencyShortName:k,componentOptions:M}=P,{marketingHero:{filterByStoreName:F}={}}=(null===M||void 0===M?void 0:M.web)||{},{localized:U}=null===E||void 0===E?void 0:E.userStatus,W=JSON.parse(localStorage.getItem(h.gd.DISPOSITION_NEW)),H=localStorage.getItem(h.gd.SERVICE_TYPE),{store:B={}}=W||c.a.localizedUserSampleData;const{id:G="",name:V=[],summary:Y}=B,z=(null===V||void 0===V||null===(t=V[0])||void 0===t?void 0:t.value)||(null===B||void 0===B||null===(a=B.summary)||void 0===a?void 0:a.name),q=w(s,H,G,z,Y,F),K=w(v,H,G,z,Y,F),Q=L(q),J=L(K),{userOrderStateDispatch:X}=Object(i.useContext)(N.a),Z=Object(n.c)((e=>e.profileReducer)),[$,ee]=Object(i.useState)(Object(m.ee)(window.innerWidth)),[te,ae]=Object(i.useState)(Object(m.me)(window.innerWidth)),ie=()=>{const e=Object(m.ee)(window.innerWidth);ee(e);const t=Object(m.me)(window.innerWidth);ae(t)},oe=Object(m.od)(null===d||void 0===d?void 0:d.localized,null===d||void 0===d?void 0:d.loggedIn);Object(i.useEffect)((()=>{window.addEventListener(h.ye,ie)}),[$,te]);const ne=(e,t,a,i)=>{var o,n,d;(a!==A&&Object(b.a)({...e,userType:oe},t,i,k),null!==i&&void 0!==i&&null!==(o=i.externalUrl)&&void 0!==o&&o.includes(h.Lc))?window.open(null===i||void 0===i?void 0:i.externalUrl):U?Object(m.Hd)(null===W||void 0===W?void 0:W.type)||Object(m.Vd)(null===W||void 0===W?void 0:W.type)&&(null===i||void 0===i||null===(n=i.linkTo)||void 0===n||!n.includes(I))?X({type:T,value:{flag:!0,pathname:i.linkTo,title:x,contentMsg:C}}):(Object(b.g)(e,t),X({type:f,value:{selectedData:{name:i.name}}}),localStorage.setItem(p,JSON.stringify({name:i.name})),l.push({pathname:"".concat(i.linkTo)})):null!==i&&void 0!==i&&null!==(d=i.linkTo)&&void 0!==d&&d.includes(I)?(X({type:j,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),X({type:g,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):(X({type:j,value:{showDisposition:!0}}),X({type:S,value:{redirectionOrder:i.linkTo}}))};return Object(O.jsx)("div",{className:"".concat(Object(m.ad)(r,"grid-container","")," market-hero-global-aus marketing-hero-").concat(null===k||void 0===k?void 0:k.toLowerCase()),children:r?(null===J||void 0===J?void 0:J.length)>0&&Object(O.jsx)(_,{contentData:J,animationSpeed:u,clickHandler:ne,clickImageAnalytics:R,isMobile:$,tenantReducer:P,profileReducer:Z,userParams:d,isTablet:te,userType:oe,isGrid:r}):(null===Q||void 0===Q?void 0:Q.length)>0&&Object(O.jsx)(_,{contentData:Q,animationSpeed:u,clickHandler:ne,clickImageAnalytics:R,isMobile:$,tenantReducer:P,profileReducer:Z,userParams:d,isTablet:te,userType:oe,isGrid:r})})}},1308:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(3);var i=a(395),o=a(46),n=a(2);const l=e=>{const{contentData:t={},className:a="",clickHandler:l=null}=e,{src:d="",alt:r="",cardText:c="",showButton:s=!0,buttonText:u="",buttonItem:v=""}=t,m="".concat(u," on ").concat(c);return Object(n.jsxs)("div",{className:"communication-card ".concat(a),children:[Object(n.jsx)(o.a,{"data-testid":"image-component",srcFile:d||"",alt:r,className:"communicationCard-background"}),Object(n.jsxs)("div",{className:"communicationCard-content",children:[Object(n.jsxs)("div",{className:"communicationCard-text",children:[" ",c," "]}),s&&u&&Object(n.jsx)(i.a,{"data-testid":"button-component-".concat(u),id:"communicationCard_".concat(v),className:"button whiteButton card-button communicationCard-button",type:"submit",onClickHandler:()=>{l(v)},"aria-label":m,children:u})]})]})},d=e=>{const{routingContent:t=null}=e.contentData,a=t&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const{headline:t="",displayButton:a=!1}=e.fields,{buttonText:i="",name:o="",url:n=""}=e.fields.button&&e.fields.button.fields||{},{url:l="",alt:d=""}=e.fields.desktopImage&&e.fields.desktopImage.fields&&e.fields.desktopImage.fields.file||{};return{cardText:t,showButton:a,buttonText:i,buttonItem:o,buttonUrl:n,src:l,alt:d}}))}(t)||[],i=e=>{console.log("item selected",e)},o=(e,t)=>e.length%2!==0&&e.indexOf(t)===e.length-1,d=a.map(((e,t,a)=>Object(n.jsx)(l,{"data-testid":"communicationItem-click",contentData:e,className:"".concat(o(a,e)?"communicationCard-full":""),clickHandler:i},e.buttonItem)));return Object(n.jsx)("div",{className:"communication_container",children:d})}},1311:function(e,t,a){"use strict";var i=a(3),o=a(28),n=a(15),l=a(46),d=a(5),r=a(396),c=a(112),s=a(85),u=a(16),v=a(0),m=a(55),b=a(2);var O=e=>{var t,a,O,j,p,h,g,I,f,N,S;const T=Object(o.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.homeContentfulResp})),x=null===T||void 0===T?void 0:T.filter((e=>{var t;return(null===(t=e.fields)||void 0===t?void 0:t.title)===v.lc})),C=null===T||void 0===T?void 0:T.filter((e=>{var t;return(null===(t=e.fields)||void 0===t?void 0:t.title)===v.mc})),{fingerlickingDesk:E,fingerlickingMob:_}=n.a,D=null!==(t=null===x||void 0===x||null===(a=x[0])||void 0===a||null===(O=a.fields)||void 0===O||null===(j=O.image)||void 0===j||null===(p=j.fields)||void 0===p||null===(h=p.file)||void 0===h?void 0:h.url)&&void 0!==t?t:_,y=(null===C||void 0===C||null===(g=C[0])||void 0===g||null===(I=g.fields)||void 0===I||null===(f=I.image)||void 0===f||null===(N=f.fields)||void 0===N||null===(S=N.file)||void 0===S?void 0:S.url)||E,{data:A,tenantData:R,imagesize:L,baseUrl:w}=e,{userOrderStateDispatch:P,userOrderState:k}=Object(i.useContext)(s.a),[M,F]=Object(i.useState)(Object(d.de)(window.innerWidth)),[U,W]=Object(i.useState)(!1),{SELECTED_TILE_DATA:H=""}=u.a,{timeBasedCetegory:B}=k;Object(i.useEffect)((()=>{w===v.Ce.CATERING_PAGE?W(!0):W(!1)}),[w]);const G=Object(d.Bf)((()=>{const e=Object(d.de)(window.innerWidth);F(e)}),500);Object(i.useEffect)((()=>(window.addEventListener(v.ye,G),()=>{window.removeEventListener(v.ye,G)})),[M]);const V=e=>0===e?"browse-lto":"browse-item",Y=e=>0===e?"browse-lto-img":"browse-item-img",z=e=>0===e?"browse-lto-name":"browse-item-name",q=e=>0===e?"browse-lto-heading":"browse-item-heading",K=(e,t)=>{var a,i;if(Object(r.c)({categoryUrl:null===t||void 0===t?void 0:t.url,itemInCart:null===k||void 0===k||null===(a=k.timeBasedCetegory)||void 0===a?void 0:a.timebasedItemInCart,alertType:Object(r.j)(null===k||void 0===k||null===(i=k.timeBasedCetegory)||void 0===i?void 0:i.timebasedItemInCart,null===v.Sb||void 0===v.Sb?void 0:v.Sb.CATEGORY)},B,P))return null===e||void 0===e||e.stopPropagation(),void(null===e||void 0===e||e.preventDefault());let o={name:t.name};0===Object.keys(t).length&&(o={}),P({type:H,value:{selectedData:o}}),localStorage.setItem(v.gd.SELECTED_TILE,JSON.stringify(o)),localStorage.setItem(v.gd.TENANT_REDUCER,JSON.stringify(R))},Q=(e,t,a)=>{var i,o,n,l;const{componentOptions:{web:{homePage:{showHeightForCategoryImage:r}}}}=R,c=Object(d.ad)(0===t,null===a||void 0===a||null===(i=a.imageHeight)||void 0===i?void 0:i.firstItem,null===a||void 0===a||null===(o=a.imageHeight)||void 0===o?void 0:o.restItem),s=Object(d.ad)(0===t,null===a||void 0===a||null===(n=a.imageWidth)||void 0===n?void 0:n.firstItem,null===a||void 0===a||null===(l=a.imageWidth)||void 0===l?void 0:l.restItem);return r?Object(d.qc)(e,s,c):Object(d.qc)(e)},J="".concat(A.length%4),X="0"===J?"auto":J,Z=M||"0"===J||U?D:y;return Object(b.jsxs)("div",{className:"browse-menu-item-container",children:[null===A||void 0===A?void 0:A.map(((e,t)=>Object(b.jsxs)(c.b,{className:V(t),"data-testid":"category-tile",to:"".concat(w,"/").concat(null===e||void 0===e?void 0:e.url),onClick:t=>K(t,e),children:[Object(b.jsx)(l.a,{defaultPath:Object(d.bc)(null,R,!0),srcFile:Q(null===e||void 0===e?void 0:e.imageContent,t,L),className:Y(t)}),Object(b.jsx)("div",{className:z(t),children:Object(b.jsx)("span",{className:q(t),children:null===e||void 0===e?void 0:e.dname[0].value})})]},e.key))),Object(b.jsx)(c.b,{className:"".concat(Object(d.ad)(U,"browse-fingerlicking-desk catering-fingerlicking","browse-fingerlicking")),"data-testid":"fingerlicking-tile",to:w,onClick:e=>{K(e,{}),Object(m.D)()},style:{gridColumnStart:X},children:Object(b.jsx)(l.a,{"data-testid":"fingerlicking-tile-img",defaultPath:y,srcFile:Z,className:"".concat(Object(d.ad)(U,"browse-fingerlicking-desk catrening-fingerdesk","browse-fingerlicking-desk"))})})]})},j=a(6),p=a(4);t.a=e=>{const{tenantReducer:t,dispositionType:a}=e,n=Object(o.c)((e=>e.menuReducer)),{flatResponse:l}=n,[c,u]=Object(i.useState)({imageHeight:0,imageWidth:0}),{BROWSE_CATEGORIES:m}=v.Oc,{BROWSE_MENU_HEADER:h}=p.a,[g,I]=Object(i.useState)([]),{userOrderState:f}=Object(i.useContext)(s.a),{timeBasedCetegory:N}=f,S=null===t||void 0===t?void 0:t.enableDeliveryMenuOption,T=()=>{const e=Object(d.de)(window.innerWidth),t=(e=>{const{FIRST_ELE_HEIGHT_DESK:t,FIRST_ELE_HEIGHT_MOB:a,REST_ELE_HEIGHT_DESK:i,REST_ELE_HEIGHT_MOB:o}=m;return e?{firstItem:a,restItem:o}:{firstItem:t,restItem:i}})(e),a=(e=>{const{FIRST_ELE_WIDTH_DESK:t,FIRST_ELE_WIDTH_MOB:a,REST_ELE_WIDTH_DESK:i,REST_ELE_WIDTH_MOB:o}=m;return e?{firstItem:a,restItem:o}:{firstItem:t,restItem:i}})(e);u({imageHeight:t,imageWidth:a})};Object(i.useEffect)((()=>{const e=(()=>{var e;let t=[];if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.categories){var a,i;const e=null===(a=n.data.categories)||void 0===a||null===(i=a.filter((e=>!e.isHidden&&!Object(r.e)(e,null===N||void 0===N?void 0:N.getStoreDetail))))||void 0===i?void 0:i.map((e=>{var t;return{key:null===e||void 0===e?void 0:e.id,image:null===e||void 0===e?void 0:e.imageName,name:null===e||void 0===e?void 0:e.name,dname:null===e||void 0===e?void 0:e.dname,url:null===e||void 0===e?void 0:e.url,imageContent:{image:null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.image},products:null===e||void 0===e?void 0:e.products}}));null===e||void 0===e||e.forEach((e=>(null===e||void 0===e?void 0:e.url)===p.a.LTO_URL?t.unshift(e):t.push(e)))}return t})();I(e)}),[null===t||void 0===t?void 0:t.genericMenuName,null===l||void 0===l?void 0:l.catalogName]),Object(i.useEffect)((()=>{T()}),[]);const x=Object(i.useMemo)((()=>Object(d.sc)(a,S)),[a]);return c.imageHeight?Object(b.jsxs)("div",{className:"browse-menu-container grid-container",children:[Object(b.jsxs)("div",{className:"browse-menu-header browse-menu-header-pos",children:[Object(b.jsx)("span",{children:Object(j.translateWithI18Next)(h)}),Object(b.jsx)("div",{className:"browse-menu-header-border"})]}),Object(b.jsx)(O,{data:g,tenantData:t,imagesize:c,baseUrl:x})]}):Object(b.jsx)(b.Fragment,{})}},1355:function(e,t,a){var i=a(605),o=a(1261),n=a(327),l=a(114),d=a(1356);e.exports=function(e,t){return(l(e)?i:o)(e,d(n(t,3)))}},1356:function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},1357:function(e,t,a){e.exports={container:"Carousel_container__x0WOR"}},1358:function(e,t,a){e.exports={headerLogoMobile:"OnboardingModal_headerLogoMobile__1CaFC",cartIcon:"OnboardingModal_cartIcon__2q6Sv",iconActive:"OnboardingModal_iconActive__81u7K",itemCountActive:"OnboardingModal_itemCountActive__2_TuA",mobileIconCountActive:"OnboardingModal_mobileIconCountActive__2uUaP","margin-auto":"OnboardingModal_margin-auto__2_TAS","display-none":"OnboardingModal_display-none__7Lr1F","Toastify__toast-container":"OnboardingModal_Toastify__toast-container__1RPvy",cartIconCount:"OnboardingModal_cartIconCount__20KEV",mobileCartIconCount:"OnboardingModal_mobileCartIconCount__gGUPp","hamburger-count":"OnboardingModal_hamburger-count__2eZAt","cart-icon-plus":"OnboardingModal_cart-icon-plus__2W93C",cartPlus:"OnboardingModal_cartPlus__pnYoK","hamburger-plus":"OnboardingModal_hamburger-plus__3ertg","slick-list":"OnboardingModal_slick-list___sJ5P","slick-slide":"OnboardingModal_slick-slide__2WYQH","slick-active":"OnboardingModal_slick-active__35SLq",container:"OnboardingModal_container__2HGJg",carouselWrapper:"OnboardingModal_carouselWrapper__E_m2S",paging:"OnboardingModal_paging__2hyT6",cf3FadeInOut:"OnboardingModal_cf3FadeInOut__1RXR_"}},1359:function(e,t,a){e.exports={container:"BirthdateSelector_container__2Nm6i",selector:"BirthdateSelector_selector__3yK6X"}},1360:function(e,t,a){e.exports={headerLogoMobile:"WelcomeModal_headerLogoMobile__Pyhfi",cartIcon:"WelcomeModal_cartIcon__10hb-",iconActive:"WelcomeModal_iconActive__1HXpy",itemCountActive:"WelcomeModal_itemCountActive__33STW",mobileIconCountActive:"WelcomeModal_mobileIconCountActive__2bSif","margin-auto":"WelcomeModal_margin-auto__p_342","display-none":"WelcomeModal_display-none__2rXUn","Toastify__toast-container":"WelcomeModal_Toastify__toast-container__3--_M",cartIconCount:"WelcomeModal_cartIconCount__16N8y",mobileCartIconCount:"WelcomeModal_mobileCartIconCount__37Drj","hamburger-count":"WelcomeModal_hamburger-count__ke9Qx","cart-icon-plus":"WelcomeModal_cart-icon-plus__i0AGI",cartPlus:"WelcomeModal_cartPlus__1Htgj","hamburger-plus":"WelcomeModal_hamburger-plus__Y9dKW","slick-list":"WelcomeModal_slick-list__2zlFK","slick-slide":"WelcomeModal_slick-slide__2wXLt","slick-active":"WelcomeModal_slick-active__iQPet",container:"WelcomeModal_container__2-s0u",birthdateSelector:"WelcomeModal_birthdateSelector__xDFMf",carouselWrapper:"WelcomeModal_carouselWrapper__88xgN",cf3FadeInOut:"WelcomeModal_cf3FadeInOut__2REWA"}},962:function(e,t,a){"use strict";a.r(t),a.d(t,"removeCouponHandler",(function(){return u})),a.d(t,"quantityModifierOnClickHandler",(function(){return v}));var i=a(3),o=a(395),n=a(28),l=a(61),d=a(1126),r=a(6),c=a(4),s=a(2);const u=e=>{let{setCartItem:t,item:a,setCouponModal:i,setQuantityActionData:o,quantityAction:n}=e;i(!0),t(a),o(n)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:a,item:i,setCouponModal:o,setQuantityActionData:n,quantityAction:l,event:d,updateItemQuantity:r}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:a,item:i,setCouponModal:o,setQuantityActionData:n,quantityAction:l}):r(i,l,d)};t.default=e=>{var t,a;const{itemQuantity:u,itemCount:m,updateItemQuantity:b,quantityAction:O,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:I=!1,type:f="",paymentDiscountAmounts:N=[],removeSingleItem:S=!1,isAddonsNotAddable:T=!1}=e,{QUANTITY_INCREASE_DECREASE:x}=l.a;var C="".concat(Object(r.translateWithI18Next)(c.a.DECREASE_QUANTITY_BY)," ").concat(p),E="".concat(Object(r.translateWithI18Next)(c.a.INCREASE_QUANTITY_BY),"  ").concat(p);const _=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[D,y]=Object(i.useState)(!1),[A,R]=Object(i.useState)({}),[L,w]=Object(i.useState)(""),P=Object(n.c)((e=>{var t,a,i,o,n,l;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isUpdateQuantityLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isValidateBasketLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isCreateOrderLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isPlaceOrder)}));return Object(s.jsxs)("div",{className:"cart-food-quantity-change",children:[!S&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(s.jsx)(o.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!I&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(o.a,{className:"button quantity-decrease",ariaLable:C,disabled:_||P,onClickHandler:e=>v({paymentDiscountAmounts:N,setCartItem:R,item:j,setCouponModal:y,setQuantityActionData:w,quantityAction:O.Decrease,event:e,updateItemQuantity:b}),"data-testid":"quantity-minus",type:f,children:!I&&Object(s.jsx)("span",{children:"-"})}),Object(s.jsx)("span",{className:"cart-food-quantity",children:m}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(s.jsx)(o.a,{className:".transparent-btn button quantity-increase",ariaLable:E,"data-testid":"quantity-plus",type:f,onClickHandler:e=>v({paymentDiscountAmounts:N,setCartItem:R,item:j,setCouponModal:y,setQuantityActionData:w,quantityAction:O.Increase,event:e,updateItemQuantity:b}),disabled:!!(0!==g&&h+m>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&a.isDiscounteditem||T)||(_||P),children:!I&&Object(s.jsx)("span",{children:"+"})}),D&&Object(s.jsx)(d.a,{cartItem:A,setCouponModal:y,quantityAction:L,updateItemQuantity:b,flag:x})]})}},963:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return mt}));var i=a(11),o=a(14),n=a(6),l=a(331),d=a(73),r=a(192),c=a(24),s=a(5),u=a(85),v=a(3),m=a.n(v),b=a(28),O=a(957),j=a(16),p=a(158),h=a(408),g=a(263),I=a(46),f=a(329),N=a.n(f),S=a(41),T=a(1135),x=a(401),C=a(55),E=a(15),_=a(2);const D=e=>!0===e.includes(",")?e.replace(",",", "):e;var y=e=>{var t,a;const{onMapClickHandler:i,startOrderFormSavedAddress:o}=e,{MapImage:l}=E.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:r,START_ORDER_TEXT:c}=p.a,{savedAddresses:s}=Object(b.c)((e=>e.profileReducer)),u=null===(t=s.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"savedAddress-store-count",children:[Object(_.jsxs)("span",{className:"saved-address-count-title",children:[s.length>1?"".concat(Object(n.translateWithI18Next)(r)," "):"".concat(Object(n.translateWithI18Next)(d))," ","(",s.length,")"," "]}),Object(_.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>i(e,"",u),children:Object(_.jsxs)(g.a,{className:"map-link",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:l,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((e=>Object(_.jsx)("div",{className:"savedAddress-module-card",children:Object(_.jsxs)("div",{className:"inside-card",children:[Object(_.jsxs)("div",{className:"address-section",children:[Object(_.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(_.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(_.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(_.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(_.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(_.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(_.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(_.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(_.jsx)("div",{children:Object(_.jsx)(S.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var a;const{latitude:i,longitude:n}=t.location,l={userLat:i,userLong:n},d=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);o(d,l)})(0,e),"data-testid":"savedaddress-click-test",children:Object(n.translateWithI18Next)(c)})})]})})))]})})},A=a(147);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:a,dispositionType:i,onRetryClickHandler:o,onMapClickHandler:l,showMap:d}=e,{userOrderStateDispatch:r}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:c}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:s,TAKE_AWAY:b,TYPE_TAKE_WAY:O,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:f,CTA2_VIEW_MAP_BUTTON_TEXT:N}=p.a,{Error:T}=E.a,x=Object(A.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===i?x:"error-alert-location-popup error-adjust",children:[Object(_.jsx)(I.a,{srcFile:T,className:"location-alert-icon"}),t!==s&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(_.jsxs)("div",{className:"location-error-button-section",children:[Object(_.jsx)(S.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),a()})(e),children:Object(n.translateWithI18Next)(g)}),i.toLowerCase()!==b.toLowerCase()&&Object(_.jsx)(S.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),r({type:c,value:{dispositionType:O}})})(e),children:Object(n.translateWithI18Next)(f)})]})]}),t===s&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(_.jsxs)("div",{className:"location-error-button-section",children:[Object(_.jsx)(S.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>o(e),children:Object(n.translateWithI18Next)(h)}),i!==b&&Object(_.jsx)(S.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>l(e),children:Object(n.translateWithI18Next)(N)})]})]})]})})},L=a(0),w=a(132),P=a(80),k=a(394);const{LocationImage:M,GoogleMapLocationImage:F,SuggestionItemSearchPin:U,clearTextIcon:W,Time_Clock:H,Error:B,MapImage:G}=E.a,{MIN_SEARCH_CHARACTER_LIMIT:V,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:z,ALREADY_SERACHED_LOCATIONS:q,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:Q,SUGGESTION_ACTIVE_OPACITY:J,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ae,DELIVERY_UNAVAILABLE:ie,DELIVERY_UNAVAILABLE_WITH_CTA:oe,NOTAVAILABLE:ne,CTA1_SEARCH_DIFF_ADDRESS:le,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:re}=p.a,ce=(e,t)=>{t()},se=e=>{var t;let{eligibleStoreData:a,suggestedAddress:i,setNegativeScenarioAlert:o,getNegativeView:l}=e,d=null===a||void 0===a?void 0:a.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0})),r=d.filter((e=>{var t,a,i,o,n,l;const d="CLOSED"===e.summary.status.currentStatus,r=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),c=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN"));return d&&(r||c)})),c=Object(x.a)("delivery",d);var u;return Object(s.qd)(c,Object(s.qd)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===r||void 0===r?void 0:r.length)===d.length))?(Object(s.hb)((null===r||void 0===r?void 0:r.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?c=ie:null!==(u=i[0])&&void 0!==u&&u.description||(c=oe),o(c),Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(n.translateWithI18Next)(c)),l(c)):void 0},ue=(e,t,a)=>Object(_.jsx)(S.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(n.translateWithI18Next)($)}),ve=(e,t,a)=>{var i,o,n,l,d;return null===e||void 0===e||null===(i=e.toString())||void 0===i||null===(o=i.replace)||void 0===o||null===(n=o.call(i,t,""))||void 0===n||null===(l=n.trim())||void 0===l||null===(d=l.replace)||void 0===d?void 0:d.call(l,a,"")};var me=e=>{var t;const{formContent:a={},userPositionHandler:i,singInClickhandler:o,eligibleStoreData:l}=e,{memberText:d="",singInLink:r={},currentLocationText:O="",addressBoxPlaceHolderForDelivery:p=""}=a,{RETAIN_ADDRESS:T}=L.gd,{SCHEDULE_ORDER_DATA:E,DISPOSITION_METHOD:D}=j.a,A=Object(b.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(s.sd)(A),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:oe={},dispositionStateData:me={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Ie]=Object(v.useState)(!1),[fe,Ne]=Object(v.useState)(!1),[Se,Te]=Object(v.useState)(!1),[xe,Ce]=Object(v.useState)({lat:28.7,lng:77.1}),[Ee,_e]=Object(v.useState)(!1),[De,ye]=Object(v.useState)(!1),[Ae,Re]=Object(v.useState)([]),[Le,we]=Object(v.useState)(""),Pe=Object(v.useRef)(null),[ke,Me]=Object(v.useState)(""),[Fe,Ue]=Object(v.useState)(""),[We,He]=Object(v.useState)(!1),[Be,Ge]=Object(v.useState)(!1),[Ve,Ye]=Object(v.useState)(!1),[ze,qe]=Object(v.useState)(""),[Ke,Qe]=Object(v.useState)(!1),{dispositionType:Je=localStorage.getItem("dispositionType")}=me,[Xe,Ze]=Object(v.useState)({}),$e=Object(b.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),et=Object(w.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:at}}},postalcodeRemoveRegex:it=null,specialCharRemoveRegex:ot=null}=Object(b.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),nt=Object(b.c)((e=>{var t,a,i,o;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(x.e)(De,Fe,h.a)}),[De,Fe]);const lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(R,{errorMsgToShow:Object(s.qd)(Fe,e),onClearTextHandler:mt,onRetryClickHandler:ct,onMapClickHandler:dt,dispositionType:Je,showMap:Se})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(x.i)(Se,Je),Te(!0),Ue(!1),t&&!pe&&st(t)},rt=e=>{var t;const a=null===(t=e.toString())||void 0===t?void 0:t.split(" "),i=null===a||void 0===a?void 0:a.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===i||void 0===i?void 0:i.join(" ")},ct=e=>{Pe.current.select(),Ie(!1),_e(!1),Ue(!1),ye(!1)},st=async function(e,t,a){var o;let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Qe(!1),qe(""),Object(s.hb)(null===t,null===a)&&(null===(o=Ae[0])||void 0===o?void 0:o.description)&&ye(!0),He(!0),_e(!0);const l=await Object(f.geocodeByAddress)(e),d=await Object(f.getLatLng)(l[0]);at&&et(Object(P.d)({key:L.se.LAT_LONG,value:d})),Ce(d),ut(e);const r=tt?ve(e,it,ot):rt(e);he(r),n||Ie(!0),i({userLat:d.lat,userLong:d.lng}),Ne(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(T);Object(x.b)(t,Re,st)}),[]),Object(v.useEffect)((()=>{let e=null===l||void 0===l?void 0:l.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==ne})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));Ke&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ye(!1),$({type:E,value:{deliveryAddress:ze,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):ze&&Ye(!0)}),[l,ze,Ke]),Object(v.useEffect)((()=>{}),[xe]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Ie(!De):(Ie(!1),ye(!1),Ue(""));let e=Object(s.d)(pe,V);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(fe){const e=rt(ke);he(e),ut(ke),Ne(!1)}}),[oe]);const ut=e=>{Object(s.ze)(e,q)},vt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(q))).includes(t);var t},mt=()=>{he(""),Ie(!1),Ue(""),Re(""),Ye(!1)},bt=async(e,t)=>{Ce({lat:t.userLat,lng:t.userLong}),Qe(!0);const a=rt(e);he(a),Ze(t),ut(e),qe(e),i(t)};return Object(_.jsxs)(m.a.Fragment,{children:[Object(_.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"login-section",children:[Object(_.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,o,r)}),Object(_.jsx)("span",{children:Object(_.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await c.b.BindLocation($e),Object(x.m)(),Re([]),c.b.coordinates){const{latitude:e,longitude:t}=c.b.coordinates;c.b.addFeedback("Check coordinates ".concat(JSON.stringify(c.b.coordinates))),c.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),c.b.addFeedback("Check address ".concat(c.b.address)),i({userLat:e,userLong:t}),Me(c.b.address);const a=rt(c.b.address);he(a),st(c.b.address),Ne(!0),Re([{description:c.b.address}])}Object(k.s)($,!c.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(_.jsx)(I.a,{"data-testid":"",srcFile:M,alt:" ",className:"location-img"}),Object(n.translateWithI18Next)(O)]})})]}),Object(_.jsxs)("div",{className:"delivery-address-section",children:[Object(_.jsx)("div",{className:"search-delivery-address",children:Object(_.jsx)("div",{className:"input-delivery-address",children:Object(_.jsx)(N.a,{value:pe,onChange:e=>{He(!1),_e(!1);const t=rt(e);he(t),((e,t,a)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))})(e,Re,Ge),Qe(!1),qe(""),Ye(!1)},onSelect:st,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:ce,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:o}=e;return Object(_.jsxs)("div",{children:[Object(_.jsx)(I.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(_.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(s.ad)(Object(s.qd)(De,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(n.translateWithI18Next)(p),ref:Pe})}),pe&&Object(_.jsx)("img",{src:W,className:"clearTextIcon",onClick:mt,alt:"Clear Text Icon"}),Object(s.hb)(Object(s.pc)(a),Be)?Object(_.jsx)("div",{className:"suggestion-list",children:a.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>z.includes(e)))){Re(a);const o=Object(s.ad)(e.active,{backgroundColor:Q,opacity:J},{backgroundColor:X});return Object(_.jsxs)(m.a.Fragment,{children:[0===t&&Object(_.jsx)("div",{className:"suggestion-items suggest-text",children:Object(n.translateWithI18Next)(Y)}),Object(_.jsx)("div",{style:o,children:Object(_.jsx)("div",{...i(e,{className:"suggestion-items"}),children:Object(_.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(_.jsx)("div",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:Object(s.ad)(vt(e.description),H,U),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(_.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(_.jsx)("form",{children:ue(ge,nt,(e=>{var t;if(e.preventDefault(),Ke)return Ve&&Ie(!1),void bt(pe,Xe);if(!(We&&se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt})||(null===(t=Ae[0])||void 0===t||!t.description)&&se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt}))){if(Ue(""),!Ee){var a,i;const e=null===(a=Ae[0])||void 0===a?void 0:a.description;return we(e),(null===(i=Ae[0])||void 0===i?void 0:i.description)&&ye(!0),Ie(!1),void st(e,null===Ae||void 0===Ae?void 0:Ae.placeId,Ae,!0)}l[0]&&(_e(!1),$({type:E,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),Ve&&!nt&&Object(_.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(_.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(_.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(ie)}),Object(_.jsxs)("div",{className:"location-error-button-section",children:[Object(_.jsx)(S.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ye(!1),children:Object(n.translateWithI18Next)(le)}),Object(_.jsx)(S.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:D,value:{dispositionType:de}})},children:Object(n.translateWithI18Next)(re)})]})]}),!Se&&Object(_.jsx)("div",{className:"my-3 store-form-separation"}),Se||G||De||Fe?null:Oe(dt),!De&&G&&!Fe&&!Se&&!Ve&&Object(_.jsx)(y,{userPositionHandler:i,startOrderFormSavedAddress:bt,allowOrderNow:Ve,onMapClickHandler:dt})]}),pe.length>0&&Object(s.hb)(De,!Fe)?Object(_.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(_.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(_.jsx)("div",{className:"location-error-message",children:Object(n.translateWithI18Next)(ee)}),Object(_.jsx)("div",{className:"location-error-address",children:Object(s.qd)(null===(t=Ae[0])||void 0===t?void 0:t.description,pe)}),Object(_.jsxs)("div",{className:"location-error-button-section",children:[Object(_.jsx)(S.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:ct,children:Object(n.translateWithI18Next)(te)}),Object(_.jsx)(S.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const a=se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt});pe.length>0&&De&&a||!l[0]&&a||(null!==(t=Ae[0])&&void 0!==t&&t.description&&$({type:E,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(s.sd)(l[0])}}),_e(!1))},children:Object(n.translateWithI18Next)(ae)})]})]}):Fe&&lt(),Se?be(De,xe,(e=>{const t=rt(e);st(t),he(t)}),Fe):null]})};function be(e,t,a,i){return Object(_.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(s.ad)(e,"pointer-disabled","")),children:Object(_.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(_.jsx)(T.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:i,locationAlert:e})})})}function Oe(e){return Object(_.jsx)("div",{className:"map-button-form",children:Object(_.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(_.jsx)("span",{className:"delivery-map-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(_.jsxs)(g.a,{className:"map-link",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(n.translateWithI18Next)("map")]})]})})}function je(e,t,a){return Object(_.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(n.translateWithI18Next)(e),Object(_.jsx)("span",{onClick:t,children:Object(_.jsx)(g.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(n.translateWithI18Next)(a.linkText)})})]})}var pe=a(144);var he=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:i,headerText:o,modalTitleId:n="",showLocationError:l}=e;return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:l,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:o,autoFocus:!0,children:i})})},ge=a(62),Ie=a(59),fe=a(35),Ne=a(113),Se=a(1131),Te=a(120),xe=a(600);const{FavoriteUnfillImage:Ce,FavoriteFillImage:Ee,GreenTickImage:_e}=E.a,De=(e,t)=>{var a,i;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(i=t.storeSearch)||void 0===i?void 0:i.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var ye=Object(ge.j)((e=>{var t,a,i,o,l;const{storeDistance:d="",addresses:r={},isOpen:c=!1,buttonData:m={},map:O={},storeName:h="",currentMarket:f,storeInfo:N={},channels:T=[],storeStatus:C={},onStoreSelectFinish:E,onClickMapHandler:D,isMapView:y,isMobile:A,isFavoriteStore:R,addToFavoriteHandler:w,removeFromFavoriteHandler:P,loggedIn:k,centerIndex:M,storeLength:F}=e,U=null===N||void 0===N||null===(t=N.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.message,{unavailibilities:W}=(null===N||void 0===N||null===(i=N.summary)||void 0===i||null===(o=i.timings)||void 0===o?void 0:o.scheduled)||{},{buttonText:H=""}=Object(s.sd)(null===m||void 0===m?void 0:m.scheduleOrderButtonData),{buttonText:B="",display:G=!1}=Object(s.sd)(null===m||void 0===m?void 0:m.orderNowButtonData),{userOrderState:V,userOrderStateDispatch:Y}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:z="",SEARCH_ORDER_DATA:q="",SELECTED_TILE_DATA:K="",SCHEDULE_ORDER_TIME_DATA:Q="",MENU_URL:J,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ae}=p.a,{mapText:ie=""}=O,oe=Object(ge.h)(),ne=T&&Object(x.g)(T),{services:le=[]}=Object(s.rd)(ne[0]),{operatingHours:de=[]}=null!==C&&void 0!==C&&null!==(l=C.timings)&&void 0!==l&&l.operatingHours?C.timings:[],re=Object(x.c)(c,de,U,W),ce=Object(b.b)(),se=Object(b.c)((e=>e.profileReducer)),ue=Object(b.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=V.dispositionStateData,{ScheduledDeliveryComponent:me={},showToastAfterLocalization:be=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:Oe}=me;let je=Object(b.c)((e=>e.appStateReducer.userStatus));const pe=Object(s.Sd)(V.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):V.dispositionNew,he=async(t,a)=>{var i,o,n,l,d,r,c,u,v;t.preventDefault(),t.stopPropagation(),Object(x.l)();const{futureDates:m,scheduled:b={},asap:O}=(null===a||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings)||{},{interval:j=0,startEndTime:p={}}=Object(s.hb)(null===b||void 0===b||null===(o=b.periods)||void 0===o?void 0:o.length,b.periods[0]),{from:h,to:g}=p,{unavailibilities:I,unavailibilityType:f}=b;Object(Te.j)(h,g,j,null===O||void 0===O?void 0:O.isAvailable,1===m.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),I,f);let N={time:"ASAP",interval:null===(n=a.summary.timings.scheduled.periods[0])||void 0===n?void 0:n.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==a.id||pe.deliveryAddress!==(null===V||void 0===V||null===(l=V.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress)){let e=await Object(s.A)(a,Object(s.Mb)(ve),se.customerId,N);ce(Object(fe.m)("")),ce(Object(fe.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),Y({type:X,value:{oldvalue:pe,newValue:{type:ve,store:a,date:N.date,time:N.time,interval:N.interval,selectedTime:N.selectedTime,deliveryAddress:null===V||void 0===V||null===(d=V.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:a,date:N.date,time:N.time,selectedTime:N.selectedTime,interval:N.interval,deliveryAddress:null===V||void 0===V||null===(r=V.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress})),Object(s.vf)();const S={storeID:null===a||void 0===a?void 0:a.id,disposition:ve,postCode:null===a||void 0===a||null===(c=a.addresses[0])||void 0===c||null===(u=c.address)||void 0===u?void 0:u.pinCode};E(S),Y({type:q,value:{showSearchStore:!1}}),Y({type:Z,value:{isLocalized:!0}}),Object(s.ce)(null===oe||void 0===oe?void 0:oe.pathname)&&Object(xe.a)(null===a||void 0===a||null===(v=a.summary)||void 0===v?void 0:v.name,ve,be),((t,a)=>{var i;let o=Object(s.ad)(t,t,null);Y({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),Y({type:$,value:o}),ce(Object(Ne.a)({...je,localized:!0})),Y({type:Q,value:{selectedDateTime:a}}),Y({type:ee,value:{selectContentTime:"ASAP"}}),Y({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP");const n=localStorage.getItem(L.gd.SET_LOCATION),l=null===oe||void 0===oe?void 0:oe.pathname;!V.fromPdpPage&&!n&&e.history.push({pathname:"".concat(J),...!Object(s.ce)(l)&&{state:{toastData:{storeName:null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.name,service:ve,showToastAfterLocalization:be}}}})})(a,N)},Ie=(e,t)=>{var a,i,o;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),Y({type:Z,value:{isLocalized:!0}}),Y({type:z,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),Y({type:q,value:{showSearchStore:!1}});const{futureDates:n,scheduled:l={},asap:d}=(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings)||{},{interval:r=0,startEndTime:c={}}=Object(s.hb)(null===l||void 0===l||null===(i=l.periods)||void 0===i?void 0:i.length,null===l||void 0===l||null===(o=l.periods)||void 0===o?void 0:o[0])||{},{from:u,to:v}=c,{unavailibilities:m,unavailibilityType:b}=l;Object(Te.j)(u,v,r,null===d||void 0===d?void 0:d.isAvailable,1===(null===n||void 0===n?void 0:n.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),m,b),Object(x.k)(),(e=>{let t=Object(s.ad)(e,e,null);Y({type:K,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),Y({type:$,value:t})})(t)},ye=Object(Se.a)(N),Ae=Object(_.jsxs)("div",{className:"store-card ".concat(Object(s.hb)(y,!A)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(y&&A)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(_.jsxs)("div",{className:"d-flex",children:[Object(_.jsxs)("div",{className:"store-dist-container ".concat(y&&"map-view"),children:[Object(_.jsx)("div",{className:"store-name-container",children:Object(_.jsx)("span",{className:"card-store-name",children:h})}),Object(_.jsx)("span",{className:"store-distance",children:De(d,ue)})]}),y&&Object(_.jsx)("span",{className:"store-index",children:"".concat(M+1," of ").concat(F)})]}),Object(_.jsxs)("div",{className:"card-content",children:[Object(_.jsx)("div",{className:"order-items",children:(Re=le,!!Object(s.Td)(Re)&&Re.map(((e,t)=>{const{PICK_UP:a,TAKE_AWAY:i}=p.a;return Object(_.jsxs)("div",{className:"store-order-options",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:_e,alt:"tick",className:"tick-image"})}),Object(_.jsx)("span",{children:e===a?Object(n.translateWithI18Next)(i):e})]},t)})))}),Object(_.jsxs)("div",{className:"w-100",children:[Object(_.jsx)("span",{className:"store-address",children:Object(s.ac)(r)}),!y&&Object(_.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>D(),children:Object(_.jsx)(g.a,{className:"card-map-link",children:ie})})]}),Object(_.jsxs)("div",{className:"info-timing ".concat(!c&&"info-timingClosed"),children:[c?"":Object(_.jsx)("span",{children:Object(n.translateWithI18Next)(ae)}),Object(_.jsx)("span",{className:"".concat(!c&&"list-circle"),children:re})]}),Object(_.jsx)("div",{className:"facilities",children:ye&&ye.map((e=>Object(_.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(_.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[k?R&&Object(_.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Ee,alt:"favorite",className:"favorite-img",onClick:()=>P()})||Object(_.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Ce,alt:"favorite",className:"favorite-img",onClick:()=>w()}):"",G&&c&&Object(_.jsx)(S.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(y&&!A?"cardMapView":null),onClickHandler:e=>he(e,N),children:B}),Oe&&Object(_.jsx)(S.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(s.hb)(y,!A)?"cardMapView":null),onClickHandler:e=>Ie(e,N),children:H})]})]});var Re;return f!==p.a.COUNTRY_CODE_INDIA||c?Ae:null})),Ae=a(12),Re=a(4);const{FavoriteUnfillImage:Le,FavoriteFillImage:we,GreenTickImage:Pe}=E.a,{BROWSE_MENU:ke,PICK_UP:Me,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:Ue,STORE_STATUS_CLOSED:We,INDIA:He}=p.a,Be=e=>e===Me?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ve=Object(ge.j)((e=>{var t,a,i,o,l,d,r,c,m,O,p,h;const{key:f="",storeName:N="",storeDistance:T="",orderTypes:E=[],addresses:D={},storeStatus:y={},onClickMapHandler:A,isMapView:R,isMobile:w,isFavoriteStore:P,addToFavoriteHandler:k,removeFromFavoriteHandler:M,map:F,loggedIn:U,storeInfo:W={},centerIndex:H,storeLength:B,onStoreSelectFinish:G}=e,V=((e,t)=>{var a,i,o,n,l;if((null===e||void 0===e||null===(a=e.timings)||void 0===a||null===(i=a.operatingHours[0])||void 0===i?void 0:i.day)===L.cc)return null===(o=e.timings)||void 0===o||null===(n=o.operatingHours[0])||void 0===n||null===(l=n.availableHours)||void 0===l?void 0:l.from;{var d;const a=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,i=Object(Ae.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let o=0,n=[],l=[];var r,c,u,v;return null===a||void 0===a||a.forEach(((e,t)=>{var a;(null===e||void 0===e||null===(a=e.day)||void 0===a?void 0:a.toLowerCase())===i&&(o=t,l.push(e))})),null!==l&&void 0!==l&&l.length&&(null===l||void 0===l||l.forEach((t=>{var a;const i=Object(s.E)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(s.lf)(null===t||void 0===t||null===(a=t.availableHours)||void 0===a?void 0:a.from)>i&&n.push(t)}))),null!==n&&void 0!==n&&n.length?null===(r=n[0])||void 0===r||null===(c=r.availableHours)||void 0===c?void 0:c.from:null===(u=a[o<(null===a||void 0===a?void 0:a.length)-1?o+1:o])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(y,L.Rf),Y=V,z=null===y||void 0===y||null===(t=y.timings)||void 0===t||null===(a=t.scheduled)||void 0===a?void 0:a.unavailibilities,q=null===y||void 0===y||null===(i=y.status)||void 0===i?void 0:i.message,{mapText:K=""}=Object(s.sd)(F),{MENU_URL:Q,SEARCH_ORDER_DATA:J,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ae,userOrderStateDispatch:ie}=Object(v.useContext)(u.a);let oe=Object(b.c)((e=>e.appStateReducer.userStatus));const ne=Object(b.c)((e=>e.tenantReducer)),le=Object(b.b)(),{futureDates:de,scheduled:re,asap:ce}=Object(s.sd)(null===W||void 0===W||null===(o=W.summary)||void 0===o?void 0:o.timings),{unavailibilities:se,unavailibilityType:ue}=Object(s.sd)(re),{interval:ve=0,startEndTime:me={}}=Object(s.sd)((null===re||void 0===re||null===(l=re.periods)||void 0===l?void 0:l.length)&&(null===re||void 0===re?void 0:re.periods[0])),{from:be,to:Oe}=Object(s.sd)(me),{dispositionType:je=localStorage.getItem("dispositionType")}=ae.dispositionStateData,pe=Object(s.Sd)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,he=()=>{var e;return Object(Te.j)(be,Oe,ve,null===ce||void 0===ce?void 0:ce.isAvailable,1===de.length&&(null===ne||void 0===ne||null===(e=ne.country)||void 0===e?void 0:e.toUpperCase())===He,se,ue)},ge=(e,t)=>{var a,i,o,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ie({type:$,value:{isLocalized:!0}}),ie({type:J,value:{showSearchStore:!1}}),ie({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:l,scheduled:d,asap:r}=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,{interval:c=0,startEndTime:s={}}=(null===d||void 0===d||null===(i=d.periods)||void 0===i?void 0:i.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=s;Object(Te.j)(u,v,c,null===r||void 0===r?void 0:r.isAvailable,1===l.length&&"INDIA"===(null===ne||void 0===ne?void 0:ne.country),se,ue),Object(x.k)(),(e=>{let t=e||null;ie({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ie({type:X,value:t})})(t);const m={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(o=t.addresses[0])||void 0===o||null===(n=o.address)||void 0===n?void 0:n.pinCode};G(m)},Ie=e=>he().length?"Today":"Tomorrow",fe=Object(Se.a)(W);return Object(_.jsxs)("div",{className:"store-card ".concat(R&&!w?"store-card-map-view":"store-card-mobile-view"),style:Ge(R,w),"data-testid":"closed-card",id:"map-store-card",children:[Object(_.jsxs)("div",{className:"d-flex",children:[Object(_.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(_.jsx)("div",{className:"store-name-container",children:Object(_.jsx)("span",{className:"card-store-name",children:N})}),Object(_.jsx)("span",{className:"store-distance",children:De(T,ne)})]}),R&&Object(_.jsx)("span",{className:"store-index",children:"".concat(H+1," of ").concat(B)})]}),Object(_.jsxs)("div",{className:"card-content",children:[Object(_.jsx)("div",{className:"order-items",children:(xe=E,xe.map(((e,t)=>Object(_.jsxs)("div",{className:"store-order-options",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:Pe,alt:"tick",className:"tick-image"})}),Object(_.jsx)("span",{children:Be(e)})]},t))))}),Object(_.jsxs)("div",{className:"w-100",children:[Object(_.jsx)("span",{className:"store-address",children:Object(s.ac)(D)}),!R&&Object(_.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>A(),children:Object(_.jsx)(g.a,{className:"card-map-link",children:K})})]}),Object(_.jsx)("div",{className:"info-timingClosed",children:Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(s.jb)((null===(d=y.status)||void 0===d?void 0:d.currentStatus)===Ue,0===(null===y||void 0===y||null===(r=y.timings)||void 0===r||null===(c=r.scheduled)||void 0===c||null===(m=c.periods)||void 0===m?void 0:m.length))?Object(_.jsx)("span",{className:"closed-text",children:We}):""}),Object(_.jsx)("li",{children:(null===z||void 0===z?void 0:z.length)>0&&Object(Ae.S)(null===(O=z[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(Ae.S)(Oe,"HH MM","HH:MM")?(()=>{var e,t,a,i,o,n;return q===L.Hc?"Open Today ".concat((null===(e=z[0])||void 0===e?void 0:e.from)&&Object(Ae.S)(null===(t=z[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):q===L.Ic?"Open ".concat(Ie(null===(a=y.timings)||void 0===a||null===(i=a.scheduled)||void 0===i||i.date)," ").concat(Y&&Object(Ae.S)(Y,"hh mm","hh:mm a")):"Open Today ".concat((null===(o=z[0])||void 0===o?void 0:o.to)&&Object(Ae.S)(null===(n=z[0])||void 0===n?void 0:n.to,"hh mm","hh:mm a"))})():"Open ".concat(Ie(null===(p=y.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(Y&&Object(Ae.S)(Y,"hh mm","hh:mm a"))})]})}),Object(_.jsx)("div",{className:"facilities",children:fe&&fe.map((e=>Object(_.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(_.jsxs)("div",{className:"w-100 d-flex mt-2",children:[U&&(P?Object(_.jsx)(I.a,{"data-testid":"favorite-img",srcFile:we,alt:"favorite",className:"favorite-img",onClick:()=>M()}):Object(_.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>k()})),0===he().length?Object(_.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,a;const i={storeID:null===W||void 0===W?void 0:W.id,disposition:null===W||void 0===W?void 0:W.service,postCode:null===W||void 0===W||null===(t=W.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(C.y)(i),Object(s.wf)(W,ie,pe,je),le(Object(Ne.a)({...oe,localized:!0})),Object(s.vf)(),ie({type:Z,value:{showDisposition:!1}}),ie({type:J,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(Q)})},children:Object(n.translateWithI18Next)(ke)}):Object(_.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,W),children:Object(n.translateWithI18Next)(Re.a.SCHEDULE_ORDER_BTN)})]})]})]},f);var xe})),Ye=a(417),ze=a(63);const{Error:qe,LocationImage:Ke,MapImage:Qe,Union:Je,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=E.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",at=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",it=e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0},ot=e=>e?Je:Qe,nt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var lt=Object(ge.j)((e=>{var t;const{formContent:a={},storeData:i=[],eligibleStoreData:o=[],favoriteStoreData:l=[],userPositionHandler:r,singInClickhandler:O,currentMarket:E,storeCardLimit:D=1/0,onStoreSelectFinish:y,handleGoBack:A,noStoresList:w,favoriteStoreHandler:P}=e,{memberText:M="",singInLink:F={},currentLocationText:U="",addressBoxPlaceHolderForSearchStore:W="",mapText:H=""}=a,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:V,ALREADY_SERACHED_LOCATIONS:Y,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:K,BRAND_BLACK:Q,STORE_STATUS_OPEN:J,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ae,CTA2_ORDER_TAKEAWAY:ie,TAKEAWAY_UNAVAILABLE_WITH_CTA:oe,DINE_IN_SERVICE:ne,DINE_IN:le,TYPE_DELIVERY:de,TAKE_AWAY:re}=p.a,{DISPOSITION_METHOD:ce}=j.a,{MENU_URL:se,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:me,DISPOSITION_DATA:be,INDIA:Oe}=j.a,{userOrderState:je}=m.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:fe=localStorage.getItem("dispositionType")}=he,[Ne,Se]=m.a.useState(""),[xe,Ce]=Object(v.useState)({}),[Ee,_e]=Object(v.useState)({}),[De,Ae]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[we,Pe]=m.a.useState([]),[ke,Me]=m.a.useState(!1),[Fe,Ue]=Object(v.useState)(null),[We,He]=Object(v.useState)(Object(s.de)(window.innerWidth));let Be=0;const[Ge,Qe]=Object(v.useState)(0),[Je,tt]=Object(v.useState)(""),[lt,ct]=m.a.useState(!1),[st,ut]=m.a.useState([]),[vt,mt]=m.a.useState([]),{userOrderStateDispatch:bt}=Object(v.useContext)(u.a);let Ot,jt=0;const pt=Object(b.b)(),ht=Object(b.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:It=!1}}},postalcodeRemoveRegex:ft=null,specialCharRemoveRegex:Nt=null}=ht||{};let St=0;const[Tt,xt]=m.a.useState(!1),Ct=Object(b.c)((e=>e.appStateReducer)),{isLoading:Et}=Object(b.c)((e=>Object(s.sd)(e.LoaderReducer))),{userStatus:_t={}}=Ct,{loggedIn:Dt=!1}=_t,[yt,At]=m.a.useState([]),[Rt,Lt]=m.a.useState(!0),{customerId:wt}=ze.a.getInstance(),[Pt,kt]=Object(v.useState)(325),[Mt,Ft]=Object(v.useState)(!1),Ut=()=>{const e=Object(s.de)(window.innerWidth);He(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)})),[We]),Object(v.useEffect)((()=>(window.addEventListener("keydown",nt),()=>{window.removeEventListener("keydown",nt)})));const Wt=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Wt&&Pt!==Wt&&kt(Wt)}),[Wt]);const Ht=async e=>{const t=await Object(f.geocodeByAddress)(e),a=await Object(f.getLatLng)(t[0]);Ce(a),_e(a),Be=0,Vt(e),Se(e),r({userLat:a.lat,userLong:a.lng}),Me(!1);const i=Boolean(Object(s.hb)(Object(s.qd)(Ne,e),Object(s.hb)(0===Be,0===jt)));ct(i)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),bt({type:me,value:null}),bt({type:be,value:{showDisposition:!1}}),bt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(se)})},Gt=(e,t,a)=>Object(_.jsx)("div",{className:"store-card",children:fe.toUpperCase()===Z?Object(_.jsxs)("div",{className:"no-store",children:[Object(_.jsx)("div",{className:"no-store-icon",children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(_.jsx)("div",{className:"no-store-text",children:e()}),Object(_.jsx)(S.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:zt,children:Object(n.translateWithI18Next)(a)})]}):Object(_.jsxs)("div",{className:"no-store",children:[Object(_.jsx)("div",{className:"no-store-icon",children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(_.jsx)("div",{className:"no-store-text",children:e()}),Object(_.jsx)(S.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:zt,children:Object(n.translateWithI18Next)(a)}),Object(_.jsx)(S.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),bt({type:ce,value:{dispositionType:re}}),Ht(Ne)})(e),children:Object(n.translateWithI18Next)(ie)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Se(e),Ht(e)}}else Ht(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Ne){let e=o.filter(it);if(e.length>0){let t=e.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===J&&(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)>0}));if(t.length>=D){let e=t.slice(0,D);Pe(e)}else if(t.length<D){let a=D-t.length,i=e.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})).slice(0,a),o=t.concat(i);Pe(o)}}else Be=0,Pe([])}else Pe([]),At([]),ut([]),ct(!1)}),[o,Ne]),Object(v.useEffect)((()=>{if(o.length>0){P({userLat:Ee.lat,userLong:Ee.lng});const e=l.sort(((e,t)=>Object(x.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));At(t)}}),[o,l.length]),Object(v.useEffect)((()=>{if(ke){const e=It?ve(Je,ft,Nt):Je;Se(e),Vt(Je),Me(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Ne&&(Pe([]),ut([]),Ue(""),At([]));let e=Object(s.d)(Ne,B);Ft(e)}),[pe,Ne,ke,Je]);const Vt=e=>{Object(s.ze)(e,Y)},Yt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(Y))).includes(t);var t},zt=()=>{Se(""),At([]),Pe([]),ut([]),ct(!1),Ue(""),Ae(!1)},qt=Object(v.useCallback)((async()=>{const e=await Promise.all(we.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[we]),Kt=Object(v.useCallback)((async()=>{const e=await Promise.all(yt.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[yt]),Qt=()=>{Object(x.i)(De,fe),Ae(!De),Le(!De)},Jt=(e,t)=>{Ue(e),Qe(t)},Xt=()=>{qt(),Le(!0),Ue(Object(s.sd)(we[Ge]))},Zt=async()=>{await Kt(),Le(!0),Ue(Object(s.sd)(yt[Ge]))};Object(v.useEffect)((()=>{((e,t,a,i)=>{let{TYPE_TAKE_WAY:o,DINE_IN:n,dispositionType:l,callSelectedStore:d,callSelectedFavStore:r}=i;e?t.length&&[o,n].indexOf(l.toUpperCase())>-1&&d():a.length&&[o,n].indexOf(l.toUpperCase())>-1&&r()})(Rt,we,yt,{TYPE_TAKE_WAY:Z,DINE_IN:le,dispositionType:fe,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=we.filter((e=>{var t,a,i,o,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})),t=we.filter((e=>{var t,a,i,o,n,l,d,r,c;const s="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:m,scheduled:b,asap:O}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=b,{interval:h=0,startEndTime:g={}}=b&&(null===b||void 0===b||null===(r=b.periods)||void 0===r?void 0:r.length)&&(null===b||void 0===b?void 0:b.periods[0]),{from:I,to:f}=g,N=Object(Te.j)(I,f,h,null===O||void 0===O?void 0:O.isAvailable,1===m.length&&(null===ht||void 0===ht||null===(c=ht.country)||void 0===c?void 0:c.toUpperCase())===Oe,j,p);return(!N||0===N.length)&&s&&(u||v)}));ut(e),mt(t)}),[we,Ge,Fe,w,le,$,Z,fe,qt,Rt,yt]);const $t=e=>{Ue("");let t=e?Ge+1:Ge-1;Qe(t),((e,t,a,i,o)=>{t(!0===e?Object(s.sd)(a[o]):null===i||void 0===i?void 0:i[o])})(Rt,Ue,we,yt,t)},ea=e=>{Lt(e)},ta=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},aa=e=>{ta(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:wt,dispatch:"dispatch"})),xt(!0)},ia=e=>{ta(),pt(Object(d.x)({tenantId:gt,customerId:wt,storeId:Object(s.sd)(e.id),dispatch:"dispatch"})),xt(!1)};Object(v.useEffect)((()=>{Tt&&Ie.b.dark(Object(_.jsxs)("div",{className:"img-text-div",children:[Object(_.jsx)(I.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ie.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[l.length]),Object(v.useEffect)((()=>{0!==Be||0!==jt||!lt||w||Et||(fe.toUpperCase()===Z?Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(oe)):Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(ae)))}),[Be,jt,lt,w,Et]);const oa=(e,t)=>{var a,o,n,l;const d=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)===J,r=e.availableServicesPerChannel&&Object(x.g)(e.availableServicesPerChannel),{services:c=[]}=r[0],u="".concat(e.name[0].value,"_").concat(t);return Object(_.jsx)(m.a.Fragment,{children:d?Object(_.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:d,isMapView:!0,onStoreSelectFinish:y,isMobile:We,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===we||void 0===we?void 0:we.length,null===yt||void 0===yt?void 0:yt.length)},t):Object(_.jsx)(Ve,{orderTypes:c,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:y,isMobile:We,isMapView:!0,storeInfo:e,mapText:H,onClick:()=>{Qt(),qt()},...i[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===we||void 0===we?void 0:we.length,null===yt||void 0===yt?void 0:yt.length)},u)})},na=yt.map(((e,t)=>{var a,o,n,l;if((null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)===J){var d,r;const a=(null===(d=e.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===J;return a&&St++,Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:a,onStoreSelectFinish:y,isMobile:We,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}if((null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)===$){St++;const a=e.availableServicesPerChannel&&Object(x.g)(e.availableServicesPerChannel),{services:o=[]}=a[0],n="".concat(e.name[0].value,"_").concat(t);return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:H,isMobile:We,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:y,storeInfo:e,...i[0]},n)})}})),la=we.map(((e,t)=>{var a,o,n,d;if(Ne||Pe([]),Be>=D||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(d=n.periods)||void 0===d?void 0:d.length))return null;{var r,c;const a=(null===(r=e.summary)||void 0===r||null===(c=r.status)||void 0===c?void 0:c.currentStatus)===J;return a&&Be++,Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(ye,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:E,isOpen:a,onStoreSelectFinish:y,isMobile:We,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Qt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}})),da=()=>{let e=-1!==fe.toLowerCase().indexOf("dine")?ne:fe;if(Ot=Object(x.a)(e,o),Ot)return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(R,{errorMsgToShow:Ot,onClearTextHandler:zt,dispositionType:fe,handleGoBack:A})})},ra=()=>{if(we.length===vt.length&&vt.length>0){let e=-1!==fe.toLowerCase().indexOf("dine")?ne:fe,t=Object(x.a)(e,o);return Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(t)),da()}if(we.length===st.length&&st.length)return ca;{let e=-1!==fe.toLowerCase().indexOf("dine")?ne:fe;return we.length&&(Ot=Object(x.a)(e,we),Ot)?da():(Be<5&&la.push(ca),la)}},ca=st.map(((e,t)=>{const a=e.availableServicesPerChannel&&Object(x.g)(e.availableServicesPerChannel),{services:o=[]}=Object(s.rd)(a[0]);if(Ne||Pe([]),jt>=D-Be)return null;{jt++;const a="".concat(e.name[0].value,"_").concat(t),n=we.findIndex((t=>t.id===e.id));return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:H,isMobile:We,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,n),Qt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:y,storeInfo:e,...i[0]},a)})}})),sa=()=>{switch(fe.split("-").join(" ").toUpperCase()){case Z:return Object(n.translateWithI18Next)(oe);case le:return Object(n.translateWithI18Next)(ae);default:return null}},ua=()=>{Qe(0),Qt(),((e,t,a)=>{!0===e?t():a()})(Rt,qt,Kt)};return Object(_.jsxs)(m.a.Fragment,{children:[Object(_.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"store-count",children:[Object(_.jsx)("span",{className:"member-signin",children:!Dt&&Object(_.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(n.translateWithI18Next)(M),Object(_.jsx)("span",{onClick:O,children:Object(_.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(n.translateWithI18Next)(F.linkText)})})]})}),Object(_.jsx)("span",{children:Object(_.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await c.b.BindLocation(),Object(x.m)(),c.b.coordinates){const{latitude:e,longitude:t}=c.b.coordinates;c.b.addFeedback("Check coordinates ".concat(JSON.stringify(c.b.coordinates))),c.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),c.b.addFeedback("Check address ".concat(c.b.address)),Be=0,Ce({lat:e,lng:t}),Ae(!1),r({userLat:e,userLong:t}),ct(!0),Se(c.b.address),tt(c.b.address),Me(!0)}Object(k.s)(bt,!c.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(_.jsx)(I.a,{"data-testid":"",srcFile:Ke,alt:"location",className:"location-img"}),Object(n.translateWithI18Next)(U)]})})]}),Object(_.jsx)("div",{className:"search-address",children:Object(_.jsx)("div",{className:"input-address",children:Object(_.jsx)(N.a,{"data-testid":"handle-select",value:Ne,onChange:e=>{e||zt(),Se(e),Object(s.pc)(e)<3&&Ft(!1)},onSelect:Ht,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:o}=e;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"".concat(Ot||0===Be&&0===jt&&lt&&w&&!we.length?"search-container-data error-border":"search-container-data"),children:[Object(_.jsx)(I.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(_.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(n.translateWithI18Next)(W)})}),Ne&&Object(_.jsx)("img",{"data-testid":"clear-text-icon",src:Ye.a,className:"clearTextIcon",onClick:()=>zt(),alt:"Clear Text Icon"})]}),!!Object(s.hb)(Object(s.pc)(a),Mt)&&Object(_.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:a.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>V.includes(e)))){const a=e.active?{backgroundColor:q,opacity:K}:{backgroundColor:Q};return Object(_.jsxs)(m.a.Fragment,{children:[0===t&&Object(_.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(n.translateWithI18Next)(G)}),Object(_.jsx)("div",{style:a,children:Object(_.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...i(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(_.jsxs)("div",{className:"suggested-address-alignment",children:[Object(_.jsx)("div",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:Yt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(_.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(_.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(Ne,De,X,Qt,qt),Object(_.jsxs)("form",{className:"form",children:[Object(_.jsxs)("div",{className:"store-count",children:[!!Be&&Object(_.jsx)("span",{"data-testid":"tab-open-store",className:at(Dt,Rt),onClick:()=>{Qe(0),ea(!0)},children:Dt?Object(_.jsxs)("span",{children:[" ","".concat(Object(n.translateWithI18Next)("nearYou"))," (",Be+jt,")"]}):Object(_.jsxs)("span",{children:[Be+jt," ","".concat(Object(n.translateWithI18Next)("nearYou"))]})}),!!jt&&we.length===st.length&&we.length!==vt.length&&Object(_.jsx)("span",{"data-testid":"tab-closed-store",className:at(Dt,Rt),onClick:()=>{Qe(0),ea(!0)},children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Be&&0===jt&&lt&&w&&Object(_.jsx)("span",{className:"store-count-title",children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(Be,")")}),rt(Be,jt,Dt,St,{firstTab:Rt,setCenterIndex:Qe,handleTabChange:ea}),(!!Be||!!jt)&&we.length!==vt.length&&Object(_.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ua()},children:Object(_.jsxs)(g.a,{className:"map-link",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(X):H]})}),0===Be&&0===jt&&lt&&w&&Object(_.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ua()},children:Object(_.jsxs)(g.a,{className:"map-link",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(X):Object(n.translateWithI18Next)(H)]})})]}),De?Object(_.jsx)("div",{className:"order-button-section",children:0===Be&&0===jt&&lt&&w&&Object(_.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(_.jsxs)("div",{className:"no-store",children:[Object(_.jsx)("div",{className:"no-store-icon",children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(_.jsx)("div",{className:"no-store-text",children:sa()}),Object(_.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(n.translateWithI18Next)(ee)})]})})}):Object(_.jsxs)(_.Fragment,{children:[Object(s.hb)(!Et,Object(s.hb)(Rt,0!==Be||0!==jt||!lt||w||we.length?ra():Gt(sa,Bt,te))),Dt&&!Rt&&Object(_.jsx)("div",{className:"order-button-section",children:na})]}),Object(_.jsx)("div",{className:"clearfix"})]})]}),De&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"".concat((null===fe||void 0===fe?void 0:fe.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(T.a,{latLongValue:xe,loadingElement:Object(_.jsx)("div",{style:{height:"100%"}}),containerElement:Object(_.jsx)("div",{style:{height:"400px"}}),mapElement:Object(_.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Se(e)},isVisible:fe.toUpperCase()===Z||fe.toUpperCase()===le,isMobile:We,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(s.ad)(Rt,(e=>{const t=we.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Xt(),Qe(t))}),(e=>{((e,t,a,i,o)=>{const n=e.findIndex((e=>e.location.latitude===i.lat()&&e.location.longitude===i.lng()));n>-1&&(o===n&&t(),a(n))})(yt,Zt,Qe,e,Ge)})),storeCardHeight:Pt}),Re&&Fe&&We?!Ot&&oa(Fe,"Selected-Card"):null]}),Re&&Fe&&!We?Object(s.hb)(we.length===st.length,Rt)&&!Ot&&((e,t)=>{const a=e.availableServicesPerChannel&&Object(x.g)(e.availableServicesPerChannel),{services:o=[]}=Object(s.rd)(a[0]),n="".concat(e.name[0].value,"_").concat(t);return Object(_.jsx)(m.a.Fragment,{children:Object(_.jsx)(Ve,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:H,isMobile:We,isMapView:!0,onStoreSelectFinish:y,onClick:()=>{Qt(),qt()},storeInfo:e,...i[0],centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===we||void 0===we?void 0:we.length,null===yt||void 0===yt?void 0:yt.length)},n)})})(Fe,"Selected-Card")||oa(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,a,i,o){return Object(_.jsx)(_.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(_.jsxs)("div",{className:"enter-your-address-section",children:[Object(_.jsx)("span",{className:"search-store-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(_.jsx)("div",{"data-testid":"show-list-map",className:Object(s.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&i(),o()},children:Object(_.jsxs)(g.a,{className:"map-link",children:[Object(_.jsx)("span",{children:Object(_.jsx)(I.a,{"data-testid":"",srcFile:ot(t),alt:"map",className:"map-img"})}),Object(s.ad)(t,Object(n.translateWithI18Next)(a),Object(n.translateWithI18Next)("map"))]})})]})})}function rt(e,t,a,i,o){let{firstTab:l,setCenterIndex:d,handleTabChange:r}=o;return Object(_.jsx)(_.Fragment,{children:(!!e||!!t)&&a&&Object(_.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(l),onClick:()=>{d(0),r(!1)},children:"".concat(Object(n.translateWithI18Next)("savedkfc")," (").concat(i,")")})})}var ct=a(1154),st=a(86),ut=a(1117),vt=a(133);const mt=e=>{var t;const{contentData:a={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:I,ANALYTICS_LOCALISATION_SIGNIN:f}=j.a,N=Object(b.b)(),{COUNTRY_CODE:S,STORE_CARD_LIMIT:T,TYPE_TAKE_WAY:C,PICK_UP:D,TENANT_ID:y,TENATNT_SESSION_ID:A,TYPE_DELIVERY:R}=p.a,{userOrderState:w,userOrderStateDispatch:P}=Object(v.useContext)(u.a),{dispositionStateData:M,searchStoreData:F,showLocationConfirmModal:U}=w,{dispositionType:W=localStorage.getItem("dispositionType")}=Object(s.ud)(M),{currentMarket:H=S,storeCardLimit:B=T,storeStatusUrl:G="".concat(Object(o.a)(i.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:V=y,tenantSessionID:Y=A}=F,{searchStoreHeaderText:z="",deliveryHeaderText:q="",searchStoreModalContent:K={}}=a,{formContent:Q={},locationsContent:{storeData:J=[]}}=K,[X,Z]=m.a.useState([]),[$,ee]=m.a.useState({}),[te,ae]=m.a.useState([]),[ie,oe]=m.a.useState([]),{storeSearch:ne={},tenantId:le,componentOptions:de}=Object(b.c)((e=>Object(s.sd)(e.tenantReducer))),{storesWithStatus:re=[],isStoreStatusLoading:ce=!1}=Object(b.c)((e=>Object(s.sd)(e.storesReducer))),{allStores:se=[]}=Object(b.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:be,maxPickupDistanceMtrs:Oe,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=ne,Ie=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),P({type:I,value:{showDisposition:!1}}),P({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ie(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const fe=e=>{e.stopPropagation(),e.preventDefault(),P({type:I,value:{showDisposition:!0}}),P({type:g,value:{showSearchStore:!1}})},Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(f,JSON.stringify(!0)),Object(x.j)(),setTimeout((()=>{Object(st.c)()}),500)},Se=Object(b.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(k.f)(P,U)}),[]),Object(v.useEffect)((()=>{Te({userLat:$.userLat,userLong:$.userLong})}),[Se.length]),Object(v.useEffect)((()=>{se.length>0&&De(se)}),[se]),Object(v.useEffect)((()=>{re.length>0&&Pe(re)}),[re]),Object(v.useEffect)((()=>{(null===W||void 0===W?void 0:W.toUpperCase())===R&&ye(ie)}),[ie]);const Te=e=>{Object(ct.a)(e.userLat,e.userLong,Se,xe)},xe=(e,t)=>{const a=Object(s.ad)((null===W||void 0===W?void 0:W.toUpperCase())===C,D,W),i=G.replace("{channel}",c.b.channel).replace("{service}",a).replace(" ","-"),o=Object(O.a)();Object(x.h)(e,i.toLowerCase(),V,Y||Object(O.a)(),o,Ce)},Ce=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:a,amenities:i,dname:o,id:n,location:l}=e.storeBasic;return{...e,id:n,location:l,name:o,amenities:i,addresses:a,additionalAttributes:t,storeBasic:{}}}));ae(t)},Ee=e=>{N(Object(l.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),_e(e.userLat,e.userLong),setTimeout((()=>{N(Object(l.a)())}),2e3)},_e=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},i=r.a.calculateGH(a);N(Object(d.v)(null===i||void 0===i?void 0:i.length))},De=e=>{const t=Object(s.Mb)(W.toUpperCase()),a=e.filter((e=>{var t,a;return Object(s.qe)(e.id)&&Object(s.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(s.qe)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),i={stores:a,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(s.ad)(W.toUpperCase()===R,be,Oe),noOfStores:Object(s.ad)(W.toUpperCase()===R,2,a.length),channel:c.b.channel},o=r.a.checkAndProceed(i);oe(o),W.toUpperCase()===R?ye(o):we(o,t)},ye=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,i;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(ct.b)(t,[{lat:$.userLat,lng:$.userLong}],Ae)},Ae=e=>{let{allStoreDistance:t,originAddressText:a}=e;const i=Object(s.Mb)(W.toUpperCase()),o={stores:Le(t,ie),numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:c.b.channel,isDriveTimeFromAdminPortal:ge},n=r.a.getSortedNearbyStores(o);(null===n||void 0===n?void 0:n.length)>0&&we(n,i)},Le=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),we=(e,t)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:c.b.channel,service:t}))),store:e,tenantId:le,setStatusFlag:!1,isFavoritePage:!1};N(Object(d.d)(a,null))},Pe=e=>{let t=e.filter((e=>{var t,a,i,o,n,l,d,r,c,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(c=r.timings)||void 0===c||null===(s=c.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const a=Object(s.Mb)(W.toUpperCase());if(ge&&W.toUpperCase()===R){const e={stores:t,numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:c.b.channel,isDriveTimeFromAdminPortal:ge},i=r.a.getSortedNearbyStores(e);t=(null===i||void 0===i?void 0:i.length)>0?i:[]}Z(t)},ke=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Me}=L.gd,{configSearchScreen:Fe=localStorage.getItem(Me)}=F,Ue="".concat(null===W||void 0===W?void 0:W.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:We}={...null===vt.d||void 0===vt.d?void 0:vt.d[Ue],...null===ke||void 0===ke?void 0:ke[Ue]},{Error_Yellow:He}=E.a||{},{LOCATION_BLOCKED_ERROR:Be,KFC_URL:Ge}=Re.a,Ve=Object(s.Je)(U,We),Ye=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ut.a,{show:Ve,errorMsg:Object(k.G)(Be,Ge),errImage:He,cssClass:"location-blocked"}),(null===W||void 0===W?void 0:W.toUpperCase())===R?Object(_.jsx)(me,{singInClickhandler:Ne,formContent:Q,storeData:J,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:B,userPositionHandler:Ee,currentMarket:H}):Object(_.jsx)(lt,{singInClickhandler:Ne,formContent:Q,storeData:J,eligibleStoreData:X,noStoresList:ce,storeCardLimit:B,userPositionHandler:Ee,currentMarket:H,onStoreSelectFinish:h,handleGoBack:fe,favoriteStoreData:te,favoriteStoreHandler:Te})]});return Object(_.jsx)(he,{handleClose:Ie,orderModeTypeItem:Ye,showLocationError:Ve,headerText:Object(s.ad)((null===W||void 0===W?void 0:W.toUpperCase())===R,Object(n.translateWithI18Next)(q),Object(n.translateWithI18Next)(z)),handleGoBack:fe,modalTitleId:"search-store"})};mt.defaultProps=h.a;t.default=mt},964:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleOrder",(function(){return m}));var i=a(3),o=a.n(i),n=a(1143),l=a(144),d=a(2);var r=e=>{const{handleClose:t,ScheduleOrderForm:a,headerText:i,modalTitleId:n="",handleGoBack:r}=e;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)(l.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:a})})},c=a(85),s=a(16),u=a(6),v=a(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:a,userOrderStateDispatch:o}=Object(i.useContext)(c.a),{SEARCH_ORDER_DATA:l,SCHEDULE_ORDER_DATA:m}=s.a,{scheduleOrderData:b}=a,{changeFlow:O=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),o({type:m,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),o({type:l,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(n.a,{onStoreSelectFinish:t});return Object(d.jsx)(r,{handleGoBack:()=>{o({type:l,value:{showSearchStore:!0}}),o({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:O?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},966:function(e,t,a){"use strict";a.r(t),a.d(t,"getCaloriesPriceTemplate",(function(){return g}));var i=a(3),o=a(85),n=a(15),l=a(46),d=a(41),r=a(61),c=a(1106),s=a(5),u=(a(1095),a(1128)),v=a(0),m=a(6),b=a(262),O=a(264),j=a(967),p=a(4),h=a(2);const g=e=>{const{calories:t,kilojoule:a,price:i,currencySymbol:o,toRenderCheckBox:n,modgrpMax:l,pricewithNumberofDecimalDigit:d}=e,r=((e,t,a,i)=>{let o=Object(s.ad)(e<0,"-".concat(t).concat(Math.abs(e).toFixed(i)," "),"+".concat(t).concat(Math.abs(e).toFixed(i)," "));return 0!==Number(e)?Object(s.ad)(a,o,"+".concat(t).concat(Math.abs(e).toFixed(i))):Object(s.ad)(a,"",Object(m.translateWithI18Next)(v.qc))})(i,o,!(!n||n&&l>1),d),c=void 0!==i&&Object(h.jsx)("span",{className:"caloricInfo",children:r}),u=Object(h.jsx)("span",{className:"caloricInfo calorificWithPrice",children:" ".concat(t," ").concat(a)}),b=Object(h.jsx)("span",{className:"caloricInfo",children:" ".concat(t," ").concat(a)}),O=t?((e,t)=>Object(s.hb)(void 0!==e,Object(s.pc)(t)>0))(i,r)&&u||b:Object(h.jsx)(h.Fragment,{});return Object(h.jsxs)("div",{children:[c,O]})};t.default=e=>{var t,a,v,I;const{onSaveProduct:f,imageContainerSize:N,defaultImagePath:S,selectedProduct:T,price:x,isMobile:C,cardData:E,modgrpData:_,kilojoule:D,isStoreClosed:y,customizeClickHandler:A,localized:R,showButton:L,currencySymbol:w,updateItemQuantity:P,itemCount:k,isModgrpMax:M,toRenderCheckBox:F,toRenderQuantityModifier:U,dispositionType:W,handleCateringModifierQuantity:H,itemCountShouldAtModifierLevel:B,savedCustomizedModifier:G,tenantData:V}=e,Y=null===V||void 0===V||null===(t=V.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(v=a.global)||void 0===v?void 0:v.pricewithNumberofDecimalDigit,{Selection_Customize:z}=n.a,{modgrpId:q,max:K,comboL2:Q=!1,modifierLength:J}=_,{id:X,dname:Z,isHidden:$,content:ee,modgrps:te,isExcluded:ae,defaultQuantity:ie}=E,oe=Object(s.pc)(Z)&&(null===(I=Z[0])||void 0===I?void 0:I.value),ne=null===ee||void 0===ee?void 0:ee.caloricValue,{userOrderState:le}=Object(i.useContext)(o.a),{pdpPayloadData:de}=le,{ITEM_QUANTITY:re}=c.a,{PEROPTIONMAX_KEY:ce,PEROPTIONMIN_KEY:se}=b.a,{QUANTITY_ACTION:ue}=r.a,ve=K>1?n.a.Multiselect_Check_Icon:n.a.Check_Icon,me=K>1?n.a.Multiselect_Uncheck_Icon:n.a.Selection_Checkbox_off,be=Object(s.qc)(ee,N,N),Oe=Object(s.j)([Object(s.Hd)(W),1===J,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("picture",{className:"sopac-modifier-card-tick",children:[Object(h.jsx)("source",{media:"(max-width: 1023px)",srcSet:T&&!ae&&ve||me,alt:T&&!ae?"checked":""}),Object(h.jsx)("img",{src:T&&!ae&&ve||me,alt:T?"checked":""})]}),je=be?Object(h.jsx)(l.a,{defaultPath:S,srcFile:be,className:"sopac-modifier-card-image"}):Object(h.jsx)(h.Fragment,{}),pe=()=>{const e=g({comboL2:Q,calories:ne,kilojoule:D,price:x,currencySymbol:w,toRenderCheckBox:F,modgrpMax:K,pricewithNumberofDecimalDigit:Y});return Object(h.jsxs)("div",{className:"sopac-modifier-card-name",tabIndex:"0",children:[Object(h.jsx)("div",{className:"title",children:oe}),ae?he():e]})},he=()=>Object(h.jsxs)("div",{className:"unavailable-container",children:[Object(h.jsx)(O.a,{src:n.a.TimerIcon,className:"unavailable-icon"}),Object(h.jsx)("div",{className:"unavailable-text",children:Object(m.translateWithI18Next)(null===p.a||void 0===p.a?void 0:p.a.CURRENTLY_UNAVAILABLE)})]}),ge=Object(s.ad)(B,Object(s.pd)(null===E||void 0===E?void 0:E.additionalProperties,ce),Object(s.pd)(null===_||void 0===_?void 0:_.additionalProperties,ce)),Ie=B?Object(s.pd)(null===E||void 0===E?void 0:E.additionalProperties,se):Object(s.pd)(null===_||void 0===_?void 0:_.additionalProperties,se),fe=C&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sopac-modifier-wrapper",children:[Object(s.j)([R,F,!y])&&Oe,pe()]}),je]}),Ne=!C&&Object(h.jsxs)(h.Fragment,{children:[Object(s.j)([R,F,!y])&&Oe,je,pe()]});return!$&&Object(h.jsxs)("div",{className:"sopac-modifier ".concat(Object(s.ad)(ae,"sopac-modifier-deactive")),children:[Object(h.jsxs)("div",{className:"sopac-modifier-card d-flex","data-testid":"click-save-product",onClick:e=>!ae&&((e,t,a,i,o)=>{Object(s.j)([t,!a,o])?i():(e.preventDefault(),e.stopPropagation())})(e,R,y,f,F),children:[fe,Ne]}),L?Object(h.jsx)("div",{className:"sopac-modifier-customizeblock",children:Object(h.jsxs)(d.a,{ariaLable:"customize","data-testid":"customize-btn",className:"deepBlack font-bold customize-btn button blackBorder",disabled:!T||ae,onClick:e=>A(e,X,q),children:[Object(u.a)(E,q,de),Object(h.jsx)(l.a,{className:"customize-icon ".concat(Object(s.ad)(!T,"disabled-icon","")),srcFile:z})]})}):null,Object(s.j)([R,U,!y,!ae])&&(Object(s.j)([Object(s.Hd)(W),1===J,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"sopac-modifier-customizeblock ".concat(Object(s.hb)(M,"modgrp-greyout")),children:Object(h.jsx)(j.default,{itemCount:k||0,itemQuantity:re,updateItemQuantity:P,quantityAction:ue,item:void 0,itemName:oe,defaultQuantity:ie,maxItemCountPerLineItem:ge,cartItemCount:1,hideChild:!0,type:"button",dispositionType:W,handleQuantityForCatering:H,inputType:"number",modgrpMax:K,savedCustomizedModifier:G,minItemCountPerLineItem:Ie})}))]})}},967:function(e,t,a){"use strict";a.r(t),a.d(t,"decreaseQtyCheck",(function(){return u})),a.d(t,"getCheckItemDefalutQtyEqualStatus",(function(){return v}));a(3);var i=a(395),o=a(404),n=a(5),l=a(1095),d=a(6),r=a(4),c=a(1123),s=a(2);const u=(e,t,a,i,o)=>e>t&&v(e,a)||"0"===i&&e>0||i!==o&&e>1,v=(e,t)=>e!==t;t.default=e=>{const{itemQuantity:t,itemCount:a,updateItemQuantity:m,quantityAction:b,item:O,itemName:j,maxItemCountPerLineItem:p,hideChild:h=!1,type:g="",dispositionType:I,handleQuantityForCatering:f,inputType:N="",onKeyPressHandler:S=c.c,defaultQuantity:T,modgrpMax:x,savedCustomizedModifier:C,minItemCountPerLineItem:E}=e,{quantityDecreseText:_,quantityIncreaseText:D,quantityUpdateText:y}=r.a;var A="".concat(Object(d.translateWithI18Next)(_)," ").concat(j),R="".concat(Object(d.translateWithI18Next)(D)," ").concat(j);const L=Object(n.Hd)(I)&&0===a?"cateringInputChangedZero":"";return Object(s.jsxs)("div",{className:"cart-food-quantity-change cart-food-quantity-change-sopac ".concat(Object(l.s)(I)),children:[u(a,t,T,E,p)?Object(s.jsx)(i.a,{className:"button quantity-decrease ".concat(0!==a&&"red-quantity-decrease"),ariaLable:A,onClickHandler:e=>m(O,b.Decrease,e),"data-testid":"quantity-minus",type:g,children:!h&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(i.a,{className:"button quantity-decrease ".concat(0!==a&&!v(a,t)&&"red-quantity-decrease"," ").concat(v(a,t)&&"quantity-decrease-disable"),disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!h&&Object(s.jsx)("span",{children:"-"})}),Object(n.Hd)(I)?Object(s.jsx)(o.a,{"aria-label":"Enter quantity",className:"quantity-input",id:"inputFocus","data-testid":"quantity-input",inputMode:"numeric",maxLength:"3",onChange:f,value:a,autocomplete:"off",inputType:N,onKeyPressHandler:S}):Object(s.jsx)("span",{className:"cart-food-quantity",children:a}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"".concat(Object(d.translateWithI18Next)(y)," ").concat(a)}),Object(s.jsx)(i.a,{className:"transparent-btn button quantity-increase ".concat(0!==a?"red-quantity-increase":"gray-quantity-increase"," ").concat((null===C||void 0===C?void 0:C.totalQuantity)===x&&0===a&&"red-quantity-increase"," ").concat(L),ariaLable:R,"data-testid":"quantity-plus",type:g,onClickHandler:e=>m(O,b.Increase,e),disabled:!!(0!==p&&a>=p),children:!h&&Object(s.jsx)("span",{children:"+"})})]})}},979:function(e,t,a){"use strict";a.r(t),a.d(t,"RECOMMENDED_CONSTANTS",(function(){return i})),a.d(t,"RESPONSIVE_CONFIG",(function(){return v}));const i={RECOMMENDED_HEADER_TITLE:"We Think You\u2019ll Love These",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,BREAKPOINT:1025,BREAKPOINT_768:768,BREAKPOINT_480:480,FADE_CARD_INDEX:3,SLIDES_TO_SCROLL_MOBILE:1,SLIDES_TO_SHOW_MOBILE_1024:3,SLIDES_TO_SHOW_MOBILE_768:2,SLIDES_TO_SHOW_MOBILE_480:1,SLIDES_TO_SCROLL_MOBILE_480:1,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},PDP_RECOMMENDATIONS:{PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5,PDP_SLIDES_TO_SHOW_1024:3}},{BREAKPOINT:o,BREAKPOINT_768:n,BREAKPOINT_480:l,SLIDES_TO_SHOW_MOBILE_1024:d,SLIDES_TO_SHOW_MOBILE_768:r,SLIDES_TO_SHOW_MOBILE_480:c,SLIDES_TO_SCROLL_MOBILE_480:s,CAROUSAL_CONFIG:{SLIDES_TO_SCROLL:u}}=i,v=[{breakpoint:o,settings:{slidesToShow:d,slidesToScroll:u,arrows:!0,swipeToSlide:!0}},{breakpoint:n,settings:{slidesToShow:r,arrows:!1,swipeToSlide:!0}},{breakpoint:l,settings:{slidesToShow:c,slidesToScroll:s}}]}}]);