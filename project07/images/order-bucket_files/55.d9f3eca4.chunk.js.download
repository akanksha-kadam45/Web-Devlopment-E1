(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[55,6,115,137],{1049:function(e,t,l){"use strict";l.r(t);var i=l(3),o=l.n(i),a=l(1);function n(){return{type:a.Uk}}var d=l(28),r=l(1129),s=l(1113),c=l(961),u=l(1119),v=l(6),m=l(72),O=l(5),b=l(144),p=l(41),f=l(106),h=l(92),j=l(122),g=l(435),C=l(107),E=l(2);const{KFC_Gift_Card:T}=c.default;var D=e=>{const{CHECKBALANCE_MODAL:t,EMAIL_REGEX:l,SHOWBALANCE_MODAL:o,ACTIVE:a,INACTIVE:n,MANDATORY_NOTE:r}=m.a,{isOpen:s,handleClose:c,tenantId:u}=e,[D,N]=Object(i.useState)(Object(O.de)(window.innerWidth)),[I,S]=Object(i.useState)(""),[A,x]=Object(i.useState)(""),[_,R]=Object(i.useState)(!0),[y,M]=Object(i.useState)(!1),[L,P]=Object(i.useState)(!1),w=Object(d.b)(),{tenantReducer:F,profileReducer:G,createBalanceReducer:k}=Object(d.c)((e=>e)),{currencySymbol:H}=F,{response:B}=k,W=()=>{const e=Object(O.de)(window.innerWidth);N(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",W)}),[D]),Object(i.useEffect)((()=>{switch(B.cardStatus){case a:x(B.cardBalance),M(!0),P(!1);break;case n:M(!1),P(!0)}}),[B]);const[U,V]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[Y,K]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[q,J]=Object(i.useState)({value:"",errorMessage:"",error:!1});Object(i.useEffect)((()=>{const e=""!==(Y.value&&q.value),t=!1===(Y.error||q.error);R(!e||!t)}),[Y,q]),Object(i.useEffect)((()=>{Object(C.a)(T,Y.error,Y.errorMessage)}),[Y.errorMessage,Y.error]),Object(i.useEffect)((()=>{Object(C.a)(T,q.error,q.errorMessage)}),[q.errorMessage,q.error]),Object(i.useEffect)((()=>{Object(C.a)(T,U.error,U.errorMessage)}),[U.errorMessage,U.error]);const X=e=>{S(e.target.value);let t={...U};var i;t.value=I,I&&(i=I,!l.test(i))?(t.error=!0,t.errorMessage=Object(v.translateWithI18Next)("invalidEmailErrMsg")):(t.error=!1,t.errorMessage=""),V({...t})},z=(e,t)=>{let l={...e};return l.value=t,t?t.length<16||isNaN(t)?(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("invalidcardNumber")):(l.error=!1,l.errorMessage=""):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)(m.a.GIFTCARD_ERROR)),l},Z=(e,t)=>{let l={...e};return l.value=t,t?6!==t.length||isNaN(t)?(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("invalidPin")):(l.error=!1,l.errorMessage=""):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)(m.a.PINNUMBER_ERROR)),l},Q=(e,t)=>{e&&t()},$=e=>{const t=e.target.value,l=e.target.name;Q("cardNumber"===l,(()=>K({...z(Y,t)}))),Q("pinNumber"===l,(()=>J({...Z(q,t)})))},ee=()=>{K({value:""}),J({value:""}),x(""),M(!1),V({value:""}),S(""),M(!1)},te=Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(E.jsxs)("div",{className:"balanceHeader",children:[Object(E.jsx)("h3",{className:"InputboxHeading",children:Object(v.translateWithI18Next)(t.GIFTCARD_HEADER)}),!D&&Object(E.jsx)("p",{className:"mandatory-note",children:Object(v.translateWithI18Next)(r)})]}),Object(E.jsx)("div",{className:"inputcardNumbox",children:Object(E.jsx)(j.a,{"data-testid":"card-no",className:Y.error?"error-text":"details",name:"cardNumber",placeholder:Object(v.translateWithI18Next)(t.GIFTCARDNUM_INPUT),value:Y.value,onChange:$,onKeyPress:e=>(e=>{/[0-9]/.test(e.key)||e.preventDefault()})(e),maxLength:16,helperTextClassName:"error-text",helperText:Y.errorMessage,error:Y.error,required:!0})}),Object(E.jsx)("div",{className:"inputpinNumbox",children:Object(E.jsx)(j.a,{"data-testid":"pin-no",className:q.error?"error-text":"details",name:"pinNumber",placeholder:Object(v.translateWithI18Next)(t.GIFTCARDPN_INPUT),value:q.value,onChange:$,maxLength:6,helperTextClassName:"error-text",helperText:q.errorMessage,error:q.error,required:!0})}),Object(E.jsx)("div",{className:"inputmailbox",children:Object(E.jsx)(j.a,{"data-testid":"email-id",className:U.error?"error-text":"details",type:"email",name:"mailId",placeholder:Object(v.translateWithI18Next)(t.EMAIL_ADDR),value:I,onChange:e=>X(e),helperTextClassName:"error-text",helperText:U.errorMessage,error:U.error,required:!0})})]})}),le=D?{role:"dialog",modalTitleId:"CheckBalancepopup",show:s,classNames:"giftcard-checkbalance-modal",showCloseBtn:!0,closeButtonHandler:c,autoFocus:!0,modalTitle:Object(v.translateWithI18Next)("giftcardCheckbalnaceTitle"),closeDataTestId:"giftcheck-balance"}:{role:"dialog",modalTitleId:"CheckBalancepopup",show:s,classNames:y?"giftcard-resbal-modal":"giftcard-checkbal-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:c,modalTitle:Object(v.translateWithI18Next)("giftcardCheckbalnaceTitle"),autoFocus:!0,closeDataTestId:"giftcheck-balance",ariaLabel:Object(v.translateWithI18Next)("closeGiftClose")};return Object(E.jsxs)("div",{className:"giftcardContainer".concat(D?" mobile":""),"data-testid":"giftcard-checkBal",children:[s&&Object(E.jsxs)(b.a,{...le,children:[Object(E.jsx)("div",{className:"checkBalModalContent",children:te}),Object(E.jsxs)("div",{className:"buttonGiftModal",children:[Object(E.jsx)(p.a,{"data-testid":"canc-button",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>(K({value:""}),J({value:""}),S(""),void V({value:""})),children:Object(v.translateWithI18Next)(t.CANCEL_BUTTONT)}),Object(E.jsx)(p.a,{"data-testid":"subm-button",className:"button blackButton blackBorder save-button",onClick:e=>(e=>{if(""!==(Y.value&&q.value)){const e={customerId:G.customerId,tenantId:u,body:{cardNumber:Y.value,cardPin:q.value}};console.log("cardNumber",Y.value),Object(O.wd)(u)&&w(Object(g.a)(e))}})(),disabled:_,children:Object(v.translateWithI18Next)(t.SUBMIT_BUTTON)})]})]}),";",y&&Object(E.jsxs)(b.a,{...le,children:[Object(E.jsxs)("div",{className:"resultBalModalContent",children:[Object(E.jsxs)("div",{className:"GiftbalanceInputArea",children:[Object(E.jsx)("div",{className:"InputboxHeading",children:Object(v.translateWithI18Next)(t.GIFTCARD_HEADER)}),Object(E.jsx)("div",{className:"inputcardNumboxup",children:Object(E.jsx)(j.a,{"data-testid":"result-cardnum",className:"details",type:"tel",placeholder:Object(v.translateWithI18Next)(o.GIFTCARDNUM_SHOW),value:Y.value})}),Object(E.jsx)("div",{className:"inputpinNumbox",children:Object(E.jsx)(j.a,{"data-testid":"result-pinnum",className:"details",type:"tel",placeholder:Object(v.translateWithI18Next)(o.GIFTCARDNUM_SHOWSHOW),value:q.value})}),Object(E.jsx)("div",{className:"inputmailbox",children:Object(E.jsx)(j.a,{"data-testid":"result-mailid",className:"details",type:"email",placeholder:Object(v.translateWithI18Next)(o.EMAIL_SHOW),value:I})})]}),Object(E.jsxs)("div",{className:"BalanceText",children:[Object(v.translateWithI18Next)("balanceText")," ",H," ",A]})]}),Object(E.jsxs)("div",{className:"addPayButton",children:[Object(E.jsx)("div",{className:"payButton",children:Object(E.jsx)(p.a,{className:"button whiteButton blackBorder ",children:Object(v.translateWithI18Next)(t.CHECKBALANCE_BUTTON)})}),Object(E.jsx)("div",{className:"resetButton",children:Object(E.jsx)(p.a,{"data-testid":"reset-button",className:"button whiteButton ",onClick:ee,children:Object(E.jsx)("u",{children:Object(v.translateWithI18Next)(t.RESET_BUTTON)})})})]})]}),";",L&&Object(E.jsx)("div",{className:"checkBal-errorModal",children:Object(E.jsx)(f.a,{CartAlertForm:Object(E.jsx)(h.a,{title:Object(v.translateWithI18Next)(t.INVALID_MODALTITLE),contentMsg:Object(v.translateWithI18Next)(t.INVALID_MODALCONTENT),cancelHandler:()=>{ee(),P(!1)},cancelButtonText:Object(v.translateWithI18Next)(t.INVALID_OKBUTTON)})})}),";"]})},N=l(297);var I=function(e){var t;const{orderId:l,tenderType:o,transactionId:a,transactionAmount:n,postUrl:d,requestMessage:r}=e.giftCardPurchaseData;return Object(i.useEffect)((()=>{var e,t,l;d&&(null===(e=document)||void 0===e||null===(t=e.giftcard)||void 0===t||t.submit()),null!==(l=document)&&void 0!==l&&l.giftcard&&localStorage.setItem("postPaymentType","giftCardPurchase")}),[document,null===(t=document)||void 0===t?void 0:t.giftcard,d]),Object(E.jsx)("div",{children:d&&Object(E.jsxs)("form",{method:"POST",action:d,name:"giftcard",children:[Object(E.jsx)("input",{type:"hidden",name:"orderId",value:l}),Object(E.jsx)("input",{type:"hidden",name:"tenderType",value:o}),Object(E.jsx)("input",{type:"hidden",name:"transactionId",value:a}),Object(E.jsx)("input",{type:"hidden",name:"transactionAmount",value:n}),Object(E.jsx)("input",{type:"hidden",name:"msg",value:r})]})})},S=l(46),A=l(20),x=l.n(A),_=l(15);var R=e=>{const{PURCHASESUCCESS_MODAL:t,PURCHASEFAILURE_MODAL:l,PAYMENT_FAILED_MESSAGE:o}=m.a,{isOpen:a,handleClose:n,purchaseStatus:d,paymentStatus:r}=e,[s,c]=Object(i.useState)(Object(O.de)(window.innerWidth)),{GiftcardSuccessImg:u,GiftCardFailureImg:p}=_.a,f=()=>{const e=Object(O.de)(window.innerWidth);c(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",f)}),[s]);const h=()=>{n()},j=s?{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:a,classNames:"giftcard-purchase-success",showCloseBtn:!0,closeButtonHandler:n,autoFocus:!0,modalTitle:" ",closeDataTestId:"purchase-success"}:{role:"dialog",modalTitleId:"PurchaseSuccesspopup",show:a,classNames:"giftcard-purchase-success",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:n,modalTitle:" ",autoFocus:!0,closeDataTestId:"purchase-success"};return Object(E.jsx)("div",{className:"giftcardContainer".concat(s?" mobile":""),"data-testid":"giftcard-success",children:a&&Object(E.jsx)(E.Fragment,{children:!x()(d)&&Object(E.jsx)(b.a,{...j,children:"success"===d?Object(E.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(E.jsx)("div",{className:"imageComp",children:Object(E.jsx)(S.a,{srcFile:u,alt:"giftcard",className:"giftcard-confirm"})}),Object(E.jsx)("div",{className:"congratsMsg",children:Object(v.translateWithI18Next)(t.CONGRATS_TEXT)}),Object(E.jsx)("div",{className:"feedbackMsg",children:Object(v.translateWithI18Next)(t.FEEDBACK_MESSAGE)}),Object(E.jsx)("div",{className:"buttonTobuy",children:Object(E.jsx)("button",{"data-testid":"buy-card",className:"button whiteButton blackBorder",onClick:h,children:Object(v.translateWithI18Next)(t.BUY_NEWGIFTCARD)})})]}):Object(E.jsxs)("div",{className:"giftCardSuccessContent",children:[Object(E.jsx)("div",{className:"imageComp",children:Object(E.jsx)(S.a,{srcFile:p,alt:"giftcardfailure",className:"giftcard-confirm"})}),Object(E.jsx)("div",{className:"congratsMsg",children:Object(v.translateWithI18Next)(l.FAILURE_TEXT)}),"Failed"===r&&Object(E.jsx)("div",{className:"feedbackMsg",children:Object(v.translateWithI18Next)(o)})||Object(E.jsx)("div",{className:"feedbackMsg",children:Object(v.translateWithI18Next)(l.FAILURE_MESSAGE)}),Object(E.jsx)("div",{className:"buttonTobuy",children:Object(E.jsx)("button",{"data-testid":"reset",className:"button whiteButton blackBorder",onClick:h,children:Object(v.translateWithI18Next)(l.RETRY)})})]})})})})},y=l(62);const{PAYMENT_FAILED_MESSAGE:M,KFC_Gift_Card:L}=c.default,P=e=>m.a.EMAIL_REGEX.test(e),w=(e,t)=>{let l=m.a.NAME_REGX,i={...e};return i.value=t,l.test(t)?(i.error=!0,i.errorMessage=Object(v.translateWithI18Next)("namevalidationmsg")):!t||t.length<2||t.length>26?(i.error=!0,i.errorMessage=Object(v.translateWithI18Next)("emptyYourNameErrMsg")):(i.error=!1,i.errorMessage=""),i},F=(e,t)=>{let l={...e};return l.value=t,t?10!==t.length||isNaN(t)?(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("invalidPhoneNumberErrText")):(l.error=!1,l.errorMessage=""):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("phonenumberEmptyHelpText")),l},G=(e,t)=>{let l={...e};return l.value=t,t?P(t)?(l.error=!1,l.errorMessage=""):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("invalidYourEmailErrText")):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("yourEmailHelpText")),l},k=(e,t)=>{let l={...e};return l.value=t,t?P(t)?(l.error=!1,l.errorMessage=""):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("invalidRecipientEmailErrText")):(l.error=!0,l.errorMessage=Object(v.translateWithI18Next)("recipientEmptyEmailHelpText")),l};var H=e=>{const[t,l]=Object(i.useState)(!1),[r,s]=Object(i.useState)(!0),{headerData:c={},desktopImage:u={},giftAmount:b={},termsncondition:f={}}=e.contentData,h=e.isMobile,{BALANCEBUTTON_TEXT:T,RECP_EMAIL_PLACEHOLDER:S,NAME_PLACEHOLDER:A,YOUR_EMAIL_PLACEHOLDER:x,PHONE_PLACEHOLDER:_,MESSAGE_PLACEHOLDER:P,CANCELBUTTON_TEXT:H,PAYMENTBUTTON_TEXT:B,FORM_VALUES:W,MESSAGE_HEADING:U,INFOMATION_HEADING:V,CUSTOM:Y,MANDATORY_NOTE:K}=m.a,q=Object(d.b)(),J=Object(y.h)(),X=Object(d.c)((e=>e.tenantReducer)),{tenantId:z,currencySymbol:Z}=X||{},Q=Object(d.c)((e=>{let{profileReducer:{customerId:t}}=e;return t})),$=Object(d.c)((e=>e.giftCardPurchaseReducer)),{giftCardPurchaseData:ee={},isPurchaseSuccess:te=!1,isPurchaseLoading:le}=$||{},ie=Object(d.c)((e=>e.paymentsGiftCardReducer)),{giftCardPurchaseStatResp:oe={}}=ie||{},ae=e=>{e.preventDefault(),l(!1)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&ae(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const[ne,de]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[re,se]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[ce,ue]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[ve,me]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[Oe,be]=Object(i.useState)(""),[pe,fe]=Object(i.useState)(""),[he,je]=Object(i.useState)(!1),[ge,Ce]=Object(i.useState)(!0),[Ee,Te]=Object(i.useState)(!1),De=()=>{var e;pe>0&&""!==(ce.value&&ve.value&&re.value&&ne.value)&&q((e={body:{RecipientEmail:ne.value,BuyerName:re.value,BuyerEmail:ce.value,BuyerMobileNumber:ve.value,Message:Oe,GiftCardAmount:pe},tenantId:z,customerId:Q},{type:a.hg,payload:e}))};Object(i.useEffect)((()=>{pe>0&&""!==(ce.value&&ve.value&&re.value&&ne.value)&&!1===(ce.error||ve.error||re.error||ne.error)?Ce(!1):Ce(!0)}),[ne,re,ce,ve,pe]),Object(i.useEffect)((()=>{Object(C.a)(L,re.error,re.errorMessage)}),[re.errorMessage,re.error]),Object(i.useEffect)((()=>{Object(C.a)(L,ve.error,ve.errorMessage)}),[ve.errorMessage,ve.error]),Object(i.useEffect)((()=>{Object(C.a)(L,ce.error,ce.errorMessage)}),[ce.errorMessage,ce.error]),Object(i.useEffect)((()=>{Object(C.a)(L,ne.error,ne.errorMessage)}),[ne.errorMessage,ne.error]),Object(i.useEffect)((()=>{te&&je(!0)}),[te]),Object(i.useEffect)((()=>{null!==J&&void 0!==J&&J.ShowFailureError&&(Te(!0),Object(O.Ob)("KFC Gift Card",M))}),[null===J||void 0===J?void 0:J.ShowFailureError]),Object(i.useEffect)((()=>{"giftCardPurchase"===localStorage.getItem("postPaymentType")&&"Success"===localStorage.getItem("paymentStatus")&&z&&q(Object(N.b)({tenantId:z,orderId:null===ee||void 0===ee?void 0:ee.orderId}))}),[localStorage.getItem("paymentStatus")]);const Ne=(e,t)=>{let l=e.target.value;t===W.USER_FULL_NAME&&se({...w(re,l)}),t===W.USER_PHONE&&me({...F(ve,l)}),t===W.USER_EMAIL&&ue({...G(ce,l)}),t===W.RECP_EMAIL&&de({...k(ne,l)}),t===W.MESSAGE&&be(l)};return Object(E.jsxs)("div",{className:"giftcard-container",children:[Object(E.jsxs)("div",{className:"giftcard-headline-container",children:[Object(E.jsx)("h1",{className:"giftcard-headline",children:c.headline}),Object(E.jsx)("button",{"data-testid":"toggle-modal",className:"button whiteButton blackBorder check-balance",onClick:()=>(l(!0),void q(Object(g.c)())),children:Object(v.translateWithI18Next)(T)}),t&&Object(E.jsx)(D,{tenantId:X.tenantId,isOpen:t,handleClose:ae})]}),Object(E.jsxs)("div",{className:"main-container",children:[Object(E.jsx)("h2",{className:"buy-card-text",children:c.subHeadline}),Object(E.jsx)("img",{src:u.url,alt:"KFC Gift Card",className:"card-image"}),Object(E.jsxs)("div",{className:"card-amount-container",children:[Object(E.jsx)("h3",{className:"card-amount-heading container-heading",children:b.title}),Object(E.jsxs)("div",{className:"amount-list",children:[b&&b.list&&b.list.map(((e,t)=>Object(E.jsx)(o.a.Fragment,{children:Object(E.jsxs)(p.a,{"data-testid":"selected-amt",id:"gift-amount",className:e===pe?"amount-block amount-block-select":"amount-block",onClick:t=>{fe(e),((e,t,l)=>{document.getElementById("gift-amount").setAttribute("aria-label",t+l+"selected")})(0,e,Z)},ariaLable:e+Z,children:[Z,e]})}))),"INDIA"!==(null===X||void 0===X?void 0:X.country)&&Object(E.jsx)("div",{className:"amount-block",children:Y})]})]}),Object(E.jsxs)("div",{className:"infomation-container",children:[Object(E.jsx)("h3",{className:"information-heading container-heading",children:V}),Object(E.jsxs)("div",{className:"infomation-input-container",children:[!h&&Object(E.jsx)("p",{className:"mandatory-note",children:Object(v.translateWithI18Next)(K)}),Object(E.jsx)(j.a,{"data-testid":"recept-email",autoComplete:"on",value:ne.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",placeholder:Object(v.translateWithI18Next)(S),"aria-required":"true",onChange:e=>Ne(e,W.RECP_EMAIL),helperText:ne.errorMessage,error:ne.error}),Object(E.jsx)(j.a,{"data-testid":"user-name",autoComplete:"on",value:re.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"26","aria-required":"true",placeholder:Object(v.translateWithI18Next)(A),onChange:e=>Ne(e,W.USER_FULL_NAME),helperText:re.errorMessage,error:re.error}),Object(E.jsx)(j.a,{"data-testid":"user-email",autoComplete:"on",value:ce.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text","aria-required":"true",placeholder:Object(v.translateWithI18Next)(x),onChange:e=>Ne(e,W.USER_EMAIL),helperText:ce.errorMessage,error:ce.error}),Object(E.jsx)(j.a,{"data-testid":"user-phone",autoComplete:"on",value:ve.value,labelClassName:"info-label",inputClassName:"info-input",helperTextClassName:"error-text",maxlength:"10","aria-required":"true",placeholder:Object(v.translateWithI18Next)(_),onChange:e=>Ne(e,W.USER_PHONE),helperText:ve.errorMessage,error:ve.error})]})]}),Object(E.jsxs)("div",{className:"msg-container",children:[Object(E.jsx)("h3",{className:"msg-heading container-heading",children:U}),Object(E.jsx)("textarea",{"data-testid":"msg-input",value:Oe,className:"msg-inputbox",placeholder:Object(v.translateWithI18Next)(P),"aria-label":Object(v.translateWithI18Next)(P),onChange:e=>Ne(e,W.MESSAGE)})]})]}),Object(E.jsxs)("div",{id:"terms-condition-button-container",children:[Object(E.jsxs)("div",{className:"terms-condition-container",children:[Object(E.jsx)("div",{className:"terms-condition-title","aria-label":f.title,children:f.title}),Object(E.jsx)("div",{className:"terms-condition-data","aria-label":f.data,children:f.data})]}),Object(E.jsxs)("div",{className:"button-container",children:[Object(E.jsx)("button",{"data-testid":"clear-input",className:"button whiteButton blackBorder cancel-button",onClick:()=>(de({value:""}),se({value:""}),ue({value:""}),me({value:""}),be(""),void fe("")),children:Object(v.translateWithI18Next)(H)}),Object(E.jsx)("button",{"data-testid":"payment-button",className:"button redButton payment-button payment-button-in",disabled:ge||le,onClick:()=>De(),children:Object(v.translateWithI18Next)(B)})]})]}),he&&Object(E.jsx)(I,{giftCardPurchaseData:ee}),r&&(Ee||"Success"===localStorage.getItem("paymentStatus"))&&Object(E.jsx)(R,{isOpen:r,handleClose:()=>(localStorage.setItem("paymentStatus",""),localStorage.setItem("postPaymentType",""),q(Object(N.c)()),q(n()),s(!1),void window.location.reload()),purchaseStatus:null===oe||void 0===oe?void 0:oe.purchaseStatus,paymentStatus:localStorage.getItem("paymentStatus")})]})},B=l(132),W=l(80),U=l(0),V=l(169),Y=l(263),K=l(278),q=l(18),J=l.n(q),X=l(12),z=l(4),Z=l(199),Q=l(412),$=l(49);const{GIFT_CARD_ITEMS:ee}=U.Oc,{YYYY_MM_DD_hh_mm:te,YYYY_MM_DD:le}=U.sb,ie=e=>{var t;const l=null===(t=e.body)||void 0===t?void 0:t.map((e=>e.fields));var i,o,a,n,d,r,s,c,u,v,b,p,f,h,j,g,C,E,T,D,N,I,S,A,_,R,y,M,L,P,w,F,G,k,H,B,W,V,Y,K,q,J,X,z;if(!x()(l)&&U.yc===e.title)return{headLine:null===(i=l[0])||void 0===i?void 0:i.headline,desktopImage:Object(O.nd)(null===(o=l[0])||void 0===o||null===(a=o.image1)||void 0===a||null===(n=a.fields)||void 0===n||null===(d=n.file)||void 0===d?void 0:d.url,ee.BANNER_WIDTH_DESKTOP,ee.BANNER_HEIGHT_DESKTOP),mobileImage:Object(O.nd)(null===(r=l[0])||void 0===r||null===(s=r.image)||void 0===s||null===(c=s.fields)||void 0===c||null===(u=c.file)||void 0===u?void 0:u.url,ee.BANNER_WIDTH_MOBILE,ee.BANNER_HEIGHT_MOBILE),phoneNumberRegex:l[1].formField[0].fields.pattern,subHeadline:null===(v=l[0])||void 0===v?void 0:v.subHeadline,description:null===(b=l[0])||void 0===b?void 0:b.description,resendCardDetailsButtonText:null===(p=l[0])||void 0===p||null===(f=p.button)||void 0===f||null===(h=f.fields)||void 0===h?void 0:h.buttonText,giftCardAmountOptions:null===(j=l[3])||void 0===j||null===(g=j.formField)||void 0===g||null===(C=g[0])||void 0===C?void 0:C.fields.values,yourInfoFormHeadline:null===(E=l[2])||void 0===E?void 0:E.headline,giftCardDetailsFormHeadline:null===(T=l[3])||void 0===T?void 0:T.headline,additionalInfoHeadline:null===(D=l[6])||void 0===D?void 0:D.headline,termsCondtionsLink:null===(N=l[6])||void 0===N?void 0:N.formField[0].fields.linkText,addAnotherGiftCard:null===(I=l[3])||void 0===I||null===(S=I.formField.find((e=>e.fields.name===m.a.ADD_ANOTHER_GIFT_CARD)))||void 0===S||null===(A=S.fields)||void 0===A?void 0:A.buttonText,goToPaymentButton:null===(_=l[4])||void 0===_?void 0:_.buttonText,faqText:null===(R=l[6])||void 0===R||null===(y=R.formField[1])||void 0===y?void 0:y.fields.headline,faqLink:null===(M=l[6])||void 0===M||null===(L=M.formField[2])||void 0===L?void 0:L.fields.linkText,faqUrl:null===(P=l[6])||void 0===P||null===(w=P.formField[2])||void 0===w?void 0:w.fields.internalurl,termsCondtionsUrl:null===(F=l[6])||void 0===F||null===(G=F.formField[0])||void 0===G?void 0:G.fields.internalurl,checkCardDetailsModalTitle:null===(k=l[1])||void 0===k?void 0:k.headline,checkCardDetailsModalContent:null===(H=l[1])||void 0===H?void 0:H.subHeadline,checkCardDetailsModalInput:null===(B=l[1])||void 0===B||null===(W=B.formField[0])||void 0===W?void 0:W.fields.label,linkImageBlack:null===(V=l[5])||void 0===V?void 0:V.image.fields.file.url,linkImageWhite:null===(Y=l[4])||void 0===Y?void 0:Y.image.fields.file.url,checkCardDetailsModalButtonText:null===(K=l[1])||void 0===K||null===(q=K.formField[1])||void 0===q?void 0:q.fields.buttonText,confirmAmountButtonText:null===(J=l[3])||void 0===J||null===(X=J.formField[1])||void 0===X||null===(z=X.fields)||void 0===z?void 0:z.buttonText,minAmount:l[3].formField[0].fields.maximumAmount,maxAmount:l[3].formField[0].fields.minimumAmount}},oe=e=>{var t;const l=null===e||void 0===e||null===(t=e.getValueFromElements)||void 0===t?void 0:t.call(e),i={...null===e||void 0===e?void 0:e.customerDetails};void 0!==l&&(i.customerName=null===l||void 0===l?void 0:l.customerName,i.customerEmail=null===l||void 0===l?void 0:l.customerEmail,i.customerId=null===l||void 0===l?void 0:l.customerId,i.lastName=null===l||void 0===l?void 0:l.customerLast,i.phone=null===l||void 0===l?void 0:l.customerPhone),i.isFormValid=null===e||void 0===e?void 0:e.isFormValid,null===e||void 0===e||e.updateGiftCardDetails({customerDetails:{...i}})},ae=e=>{var t,l,i,o,a;const n=[];return null===e||void 0===e||null===(t=e.items)||void 0===t||null===(l=t[0])||void 0===l||null===(i=l.fields.body)||void 0===i||null===(o=i[2])||void 0===o||null===(a=o.fields)||void 0===a||a.formField.forEach((e=>{var t,l,i,o,a,d,r,s;const{fields:c,sys:{id:u}}=e,m={...c,className:"formElement",key:u,rules:{required:{value:!(null===e||void 0===e||null===(t=e.fields)||void 0===t||!t.required)&&(null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.required),message:"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(e.fields.description.content[0].content[0].value.toLowerCase())},pattern:{value:null!==e&&void 0!==e&&null!==(i=e.fields)&&void 0!==i&&i.pattern?RegExp(null===e||void 0===e||null===(o=e.fields)||void 0===o?void 0:o.pattern):null,message:"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(e.fields.description.content[0].content[0].value.toLowerCase())},validate:t=>{var l;return(null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.type)!==U.Pc||(!Object(Q.b)(Z.a,t)||"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(e.fields.description.content[0].content[0].value.toLowerCase()))}},onChangeHandler:oe,onBlurHandler:oe,isMandatory:!(null===e||void 0===e||null===(a=e.fields)||void 0===a||!a.required)&&(null===e||void 0===e||null===(d=e.fields)||void 0===d?void 0:d.required),maxLength:null!==e&&void 0!==e&&null!==(r=e.fields)&&void 0!==r&&r.maxLength?null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.maxLength:"",value:""};n.push(m)})),n},ne=e=>{var t;const l=null===e||void 0===e||null===(t=e.giftCardDetails)||void 0===t?void 0:t.recipientDetails;l[null===e||void 0===e?void 0:e.name].giftCardAmountOtherDirty=!1,null===e||void 0===e||e.updateGiftCardDetails({recipientDetails:l})},de=e=>{var t;const l=null===e||void 0===e||null===(t=e.giftCardDetails)||void 0===t?void 0:t.recipientDetails;l[null===e||void 0===e?void 0:e.name].giftCardAmountOtherDirty=!0,null===e||void 0===e||e.updateGiftCardDetails({recipientDetails:l})},re=(e,t)=>{var l,i;return null!==e&&void 0!==e&&null!==(l=e.giftCardDetails)&&void 0!==l&&null!==(i=l.recipientDetails[null===e||void 0===e?void 0:e.name])&&void 0!==i&&i.customTipSelected?parseInt(null===t||void 0===t?void 0:t.value)+U.jb:null===t||void 0===t?void 0:t.value},se=e=>{var t,l;return!(null===e||void 0===e||null===(t=e.giftCardDetails)||void 0===t||null===(l=t.recipientDetails[null===e||void 0===e?void 0:e.name])||void 0===l||!l.customTipSelected)},ce=(e,t)=>{var l,i;const o=null===e||void 0===e?void 0:e.name,a=[...null===e||void 0===e||null===(l=e.giftCardDetails)||void 0===l?void 0:l.recipientDetails];t&&(a[o].isFormValid=!1,a[o].customTipSelected=!1),null===e||void 0===e||null===(i=e.updateGiftCardDetails)||void 0===i||i.call(e,{recipientDetails:a})},ue=e=>{var t,l,i,o;let{formValues:a,formElement:n,giftCardDetails:d}=e;const r=(null===a||void 0===a?void 0:a.giftCardAmount)===U.Sd?parseInt(null===a||void 0===a?void 0:a.giftCardAmountOther):parseInt(null===a||void 0===a?void 0:a.giftCardAmount);var s,c,u,m;if(null!==d&&void 0!==d&&null!==(t=d.recipientDetails)&&void 0!==t&&null!==(l=t[null===a||void 0===a?void 0:a.hiddenField])&&void 0!==l&&l.giftCardAmountOtherDirty&&(isNaN(r)||x()(null===a||void 0===a?void 0:a.giftCardAmount)||(null===a||void 0===a?void 0:a.giftCardAmount)===U.Sd&&(x()(null===a||void 0===a?void 0:a.giftCardAmountOther)||!/^\d+$/.test(null===a||void 0===a?void 0:a.giftCardAmountOther))))return"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(null===n||void 0===n||null===(s=n.fields)||void 0===s||null===(c=s.label)||void 0===c?void 0:c.toLowerCase());return 0===r?"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(null===n||void 0===n||null===(u=n.fields)||void 0===u||null===(m=u.label)||void 0===m?void 0:m.toLowerCase()):r>(null===n||void 0===n||null===(i=n.fields)||void 0===i?void 0:i.maximumAmount)?"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.MAX_AMOUNT_INAVLAID_MSG)):!(r<(null===n||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.minimumAmount))||"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.MIN_AMOUNT_INVALID_MSG))},ve=e=>{var t,l,i,o,a;const{giftCardDetails:n,giftCardContent:d}=e,r=[];return null===d||void 0===d||null===(t=d.items)||void 0===t||null===(l=t[0])||void 0===l||null===(i=l.fields.body)||void 0===i||null===(o=i[3])||void 0===o||null===(a=o.fields)||void 0===a||a.formField.forEach((e=>{var t,l,i,o;const{fields:a,sys:{id:d}}=e,s={...a,key:d,name:null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.name};if((null===e||void 0===e||null===(l=e.fields)||void 0===l?void 0:l.name)===m.a.GIFT_CARD_AMOUNT)(e=>{var t,l,i;let{dataUpdated:o,returnData:a,giftCardDetails:n,formElement:d}=e;o.push({...a,type:null===U.pc||void 0===U.pc?void 0:U.pc.TILES_BUTTON_GROUP,source:null===n||void 0===n||null===(t=n.recipientAmountPanelConfig)||void 0===t?void 0:t.tileButtonGroupSource,onClickHandler:me}),o.push({...a,name:"".concat(null===d||void 0===d||null===(l=d.fields)||void 0===l?void 0:l.name).concat(U.Sd),type:null===U.pc||void 0===U.pc?void 0:U.pc.INPUT,onChangeHandler:me,onBlurHandler:ne,onFocusHandler:de,isMandatory:null===d||void 0===d||null===(i=d.fields)||void 0===i?void 0:i.required,showClearTextInputBtn:(e,t)=>{var l,i,o,a;return(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT_OTHER&&!x()(null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l||null===(i=l.call(e))||void 0===i?void 0:i[m.a.GIFT_CARD_AMOUNT_OTHER])&&!(null!==e&&void 0!==e&&null!==(o=e.giftCardDetails)&&void 0!==o&&null!==(a=o.recipientDetails[null===e||void 0===e?void 0:e.name])&&void 0!==a&&a.customTipSelected)},showEditTextInputBtn:e=>{var t,l;return null===e||void 0===e||null===(t=e.giftCardDetails)||void 0===t||null===(l=t.recipientDetails[null===e||void 0===e?void 0:e.name])||void 0===l?void 0:l.customTipSelected},conditionalRender:(e,t)=>{var l,i,o,a,n;return(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT_OTHER&&(null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l||null===(i=l.call(e))||void 0===i||null===(o=i[m.a.GIFT_CARD_AMOUNT])||void 0===o||null===(a=o.toLowerCase)||void 0===a?void 0:a.call(o))===(null===U.Sd||void 0===U.Sd||null===(n=U.Sd.toLowerCase)||void 0===n?void 0:n.call(U.Sd))},onClearButtonClickHandler:(e,t)=>(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT_OTHER&&(null===e||void 0===e?void 0:e.setValueToFormElements(m.a.GIFT_CARD_AMOUNT_OTHER,"")),onEditButtonClickHandler:(e,t)=>ce(e,t),prefix:(e,t)=>{var l,i,o,a;return(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT_OTHER&&(!x()(null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l||null===(i=l.call(e))||void 0===i?void 0:i[m.a.GIFT_CARD_AMOUNT_OTHER])||null!==e&&void 0!==e&&null!==(o=e.giftCardDetails)&&void 0!==o&&null!==(a=o.recipientDetails[null===e||void 0===e?void 0:e.name])&&void 0!==a&&a.giftCardAmountOtherDirty)?null===n||void 0===n?void 0:n.currencySymbol:""},readonly:e=>se(e),updatedValue:(e,t)=>re(e,t),rules:{validate:(e,t)=>ue({textValue:e,formValues:t,formElement:d,giftCardDetails:n})}})})({dataUpdated:r,returnData:s,giftCardDetails:n,formElement:e});else if((null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i.name)===m.a.CONFIRM_AMOUNT_BUTTON){var c;r.push({...s,type:null===U.pc||void 0===U.pc?void 0:U.pc.BUTTON,label:null===e||void 0===e||null===(c=e.fields)||void 0===c?void 0:c.buttonText,onClickHandler:me,conditionalRender:(e,t)=>{var l,i,o,a,n,d,r;return(null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l||null===(i=l.call(e))||void 0===i||null===(o=i[m.a.GIFT_CARD_AMOUNT])||void 0===o||null===(a=o.toLowerCase)||void 0===a?void 0:a.call(o))===(null===U.Sd||void 0===U.Sd||null===(n=U.Sd.toLowerCase)||void 0===n?void 0:n.call(U.Sd))&&!(null!==e&&void 0!==e&&null!==(d=e.giftCardDetails)&&void 0!==d&&null!==(r=d.recipientDetails[null===e||void 0===e?void 0:e.name])&&void 0!==r&&r.customTipSelected)},disabled:(e,t)=>{var l,i,o;return x()(null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l||null===(i=l.call(e))||void 0===i?void 0:i[m.a.GIFT_CARD_AMOUNT_OTHER])||!x()(null===e||void 0===e||null===(o=e.errors)||void 0===o?void 0:o.giftCardAmountOther)},rules:{validate:(t,l)=>(e=>{var t,l,i,o;let{formValues:a,giftCardDetails:n}=e;return(null===n||void 0===n||null===(t=n.recipientDetails)||void 0===t||null===(l=t[null===a||void 0===a?void 0:a.hiddenField])||void 0===l?void 0:l.giftCardAmount)!==U.Sd||(null===n||void 0===n||null===(i=n.recipientDetails)||void 0===i||null===(o=i[null===a||void 0===a?void 0:a.hiddenField])||void 0===o?void 0:o.customTipSelected)})({textValue:t,formValues:l,formElement:e,giftCardDetails:n})}})}else if((null===e||void 0===e||null===(o=e.fields)||void 0===o?void 0:o.name)!==m.a.ADD_ANOTHER_GIFT_CARD){var u,O,b;if(((null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.name)===m.a.RECIPIENT_CUSTOMIZE_MESSAGE||(null===e||void 0===e||null===(O=e.fields)||void 0===O?void 0:O.name)===m.a.RECIPIENT_DATE_SELECTION||(null===e||void 0===e||null===(b=e.fields)||void 0===b?void 0:b.name)===m.a.RECIPIENT_EMAIL)&&(null===n||void 0===n||!n.enableDigitalGiftCardEnhancements))return;(e=>{var t,l,i,o,a,n,d,r;let{dataUpdated:s,returnData:c,formElement:u}=e;s.push({...c,rules:{required:{value:null===u||void 0===u||null===(t=u.fields)||void 0===t?void 0:t.required,message:"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(null===u||void 0===u||null===(l=u.fields)||void 0===l||null===(i=l.label)||void 0===i?void 0:i.toLowerCase())},pattern:{value:RegExp(null===u||void 0===u||null===(o=u.fields)||void 0===o?void 0:o.pattern),message:"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(null===u||void 0===u||null===(a=u.fields)||void 0===a||null===(n=a.label)||void 0===n?void 0:n.toLowerCase())},validate:e=>{var t,l,i;return(null===u||void 0===u||null===(t=u.fields)||void 0===t?void 0:t.type)!==U.Pc||!Object(Q.b)(Z.a,e)||"".concat(Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.INVALID_TEXT)," ").concat(null===u||void 0===u||null===(l=u.fields)||void 0===l||null===(i=l.label)||void 0===i?void 0:i.toLowerCase())}},onChangeHandler:me,onBlurHandler:me,isMandatory:null===u||void 0===u||null===(d=u.fields)||void 0===d?void 0:d.required,maxLength:null===u||void 0===u||null===(r=u.fields)||void 0===r?void 0:r.maxLength})})({dataUpdated:r,returnData:s,formElement:e})}})),r},me=(e,t)=>{var l,i,o,a,n,d,r;const s=null===e||void 0===e||null===(l=e.getValueFromElements)||void 0===l?void 0:l.call(e),c=null===e||void 0===e?void 0:e.name,u=[...null===e||void 0===e||null===(i=e.giftCardDetails)||void 0===i?void 0:i.recipientDetails];if(t){var v,O,b;const l=(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT?null===s||void 0===s||null===(v=s[null===t||void 0===t?void 0:t.name])||void 0===v||null===(O=v.detail)||void 0===O?void 0:O.value:null===s||void 0===s?void 0:s[null===t||void 0===t?void 0:t.name];var p,f,h,j,g,C;if(u[c][null===t||void 0===t?void 0:t.name]=l,(null===t||void 0===t?void 0:t.name)===m.a.CONFIRM_AMOUNT_BUTTON)u[c].customTipSelected=(null===u||void 0===u||null===(p=u[c])||void 0===p||null===(f=p.giftCardAmount)||void 0===f||null===(h=f.toLowerCase)||void 0===h?void 0:h.call(f))===(null===U.Sd||void 0===U.Sd||null===(j=U.Sd.toLowerCase)||void 0===j?void 0:j.call(U.Sd))&&!isNaN(parseInt(null===u||void 0===u||null===(g=u[c])||void 0===g||null===(C=g.giftCardAmountOther)||void 0===C?void 0:C.trim()));(null===t||void 0===t?void 0:t.name)===m.a.GIFT_CARD_AMOUNT&&(null===e||void 0===e||null===(b=e.setValueToFormElements)||void 0===b||b.call(e,m.a.GIFT_CARD_AMOUNT,l))}var E;(null===u||void 0===u||null===(o=u[c])||void 0===o||null===(a=o.giftCardAmount)||void 0===a||null===(n=a.toLowerCase)||void 0===n?void 0:n.call(a))!==(null===U.Sd||void 0===U.Sd||null===(d=U.Sd.toLowerCase)||void 0===d?void 0:d.call(U.Sd))&&(u[c].giftCardAmountOther="",u[c].customTipSelected=!1,u[c].giftCardAmountOtherDirty=!1,null===e||void 0===e||e.resetFormFieldValues(m.a.GIFT_CARD_AMOUNT_OTHER,{keepDirty:!1}),null===e||void 0===e||null===(E=e.setValueToFormElements)||void 0===E||E.call(e,m.a.GIFT_CARD_AMOUNT_OTHER,""));u[c].isFormValid=null===e||void 0===e?void 0:e.isFormValid,null===e||void 0===e||null===(r=e.updateGiftCardDetails)||void 0===r||r.call(e,{recipientDetails:u})},Oe=e=>{var t;return null===e||void 0===e||null===(t=e.recipientDetails)||void 0===t?void 0:t.every((t=>(null===t||void 0===t?void 0:t.isFormValid)&&((null===t||void 0===t?void 0:t.giftCardAmount)===U.Sd?null===t||void 0===t?void 0:t.giftCardAmountOther:null===t||void 0===t?void 0:t.giftCardAmount)&&(!(null!==e&&void 0!==e&&e.enableDigitalGiftCardEnhancements)||(null===t||void 0===t?void 0:t.recipientDateSelection)===U.Je||(null===t||void 0===t?void 0:t.selectedTime))))},be=e=>(e=>{var t;return(null===e||void 0===e||null===(t=e.customerDetails)||void 0===t?void 0:t.isFormValid)&&Oe(e)&&(!(null!==e&&void 0!==e&&e.enableDigitalGiftCardEnhancements)||(null===e||void 0===e?void 0:e.themeImageUrl))})(e)?"mt-4 goToPaymentButton":"mt-4 goToPaymentButton-disabled",pe=(e,t,l)=>{var i,o,a,n,d,r,s,c,u,v,m,O,b;sessionStorage.setItem(U.Ne.POST_PAYMENT_TYPE,U.qe.GIFT_CARD_PURCHASE);const p=(new Date).toISOString().slice(0,-5);t({isGoToPaymentButtonClicked:!0});const f=window.location.origin+U.Ce.ORDER_PROCESSING,h=null===e||void 0===e||null===(i=e.recipientDetails)||void 0===i?void 0:i.map((t=>{let l={isForNow:!0,futureDateTime:0};if(null!==t&&void 0!==t&&t.selectedTime&&null!==t&&void 0!==t&&t.selectedDate&&(null===t||void 0===t?void 0:t.recipientDateSelection)!==U.Je){const e=J()(t.selectedDate).format(le),{hours:i,minutes:o}=Object(X.U)(t.selectedTime),a="".concat(e," ").concat(i,":").concat(o);l.isForNow=!1;const n=Object(X.N)();l.futureDateTime=J()(a,te).tz(n).unix()}return{name:t.recipientName,phoneNumber:t.recipientPhoneNumber,email:null===t||void 0===t?void 0:t.recipientEmail,themeImageUrl:null===e||void 0===e?void 0:e.themeImageUrl,emailTheme:null===e||void 0===e?void 0:e.emailTheme,amount:t.giftCardAmount!==U.Sd?parseInt(t.giftCardAmount)*(null===e||void 0===e?void 0:e.currencyConversionFactor):parseInt(t.giftCardAmountOther)*(null===e||void 0===e?void 0:e.currencyConversionFactor),requestedDateTime:l,CustomizeMessage:null===t||void 0===t?void 0:t.recipientCustomizeMessage}}));l(Object(W.d)({key:"giftCardDataRecipientDetails",value:null===e||void 0===e?void 0:e.recipientDetails})),l(Object(W.d)({key:"giftCardDataCustomerDetails",value:null===e||void 0===e?void 0:e.customerDetails})),l(Object(W.d)({key:"loggedIn",value:null===e||void 0===e||null===(o=e.userParams)||void 0===o?void 0:o.loggedIn}));const j={customer:{id:null!==e&&void 0!==e&&null!==(a=e.userParams)&&void 0!==a&&a.loggedIn?null===e||void 0===e||null===(n=e.customerDetails)||void 0===n?void 0:n.customerId:"",firstName:null===e||void 0===e||null===(d=e.customerDetails)||void 0===d?void 0:d.customerName,lastName:null!==e&&void 0!==e&&null!==(r=e.userParams)&&void 0!==r&&r.loggedIn?null===e||void 0===e||null===(s=e.customerDetails)||void 0===s?void 0:s.lastName:"",email:null===e||void 0===e||null===(c=e.customerDetails)||void 0===c?void 0:c.customerEmail,phoneNumber:null!==e&&void 0!==e&&null!==(u=e.userParams)&&void 0!==u&&u.loggedIn?null===e||void 0===e||null===(v=e.customerDetails)||void 0===v?void 0:v.phone:"",isRegistered:null===e||void 0===e||null===(m=e.userParams)||void 0===m?void 0:m.loggedIn,cardId:null===e||void 0===e?void 0:e.cardId},purchaser:{name:null===e||void 0===e||null===(O=e.customerDetails)||void 0===O?void 0:O.customerName,email:null===e||void 0===e||null===(b=e.customerDetails)||void 0===b?void 0:b.customerEmail},recipients:h,transactionDate:p,lang:"en-ZA"};l(Object($.x)({tenantId:null===e||void 0===e?void 0:e.tenantId,siteOrigin:f,data:j}))},fe=e=>{var t,l,i;return null!==e&&void 0!==e&&null!==(t=e.customerDetails)&&void 0!==t&&t.isFormValid&&Oe(e)?null===e||void 0===e||null===(l=e.segmentedGiftCardData)||void 0===l?void 0:l.linkImageBlack:null===e||void 0===e||null===(i=e.segmentedGiftCardData)||void 0===i?void 0:i.linkImageWhite},he=(e,t)=>{var l,i,o,a,n,d,r,s,c,u;const v=!(null===e||void 0===e||!e.removeRecipientButtonClicked)&&(null===e||void 0===e?void 0:e.removeRecipientButtonClicked);null===t||void 0===t||t({removeRecipientButtonClicked:v});const m=[...null===e||void 0===e?void 0:e.recipientDetails],O=null===e||void 0===e||null===(l=e.recipientDetails)||void 0===l||null===(i=l[(null===m||void 0===m?void 0:m.length)-1])||void 0===i?void 0:i.giftCardAmount,b=null!==e&&void 0!==e&&null!==(o=e.recipientDetails)&&void 0!==o&&null!==(a=o[(null===m||void 0===m?void 0:m.length)-1])&&void 0!==a&&a.customTipSelected&&null!==e&&void 0!==e&&null!==(n=e.recipientDetails)&&void 0!==n&&null!==(d=n[(null===m||void 0===m?void 0:m.length)-1])&&void 0!==d&&d.giftCardAmountOther?null===e||void 0===e||null===(r=e.recipientDetails)||void 0===r||null===(s=r[(null===m||void 0===m?void 0:m.length)-1])||void 0===s?void 0:s.giftCardAmountOther:"";null===m||void 0===m||m.push({name:null===m||void 0===m?void 0:m.length,recipientName:"",recipientPhoneNumber:"",giftCardAmount:O,giftCardAmountOther:b,customTipSelected:(null===O||void 0===O||null===(c=O.toLowerCase)||void 0===c?void 0:c.call(O))===(null===U.Sd||void 0===U.Sd||null===(u=U.Sd.toLowerCase)||void 0===u?void 0:u.call(U.Sd))&&!isNaN(parseInt(b.trim())),giftCardAmountOtherDirty:!1,isFormValid:!1,isDirty:!1}),null===t||void 0===t||t({recipientDetails:[...m]})};var je=l(1096);const ge=e=>"giftcardContainer".concat(e?" mobile":""),Ce=e=>e?"text-danger-phoneNumber":" ",Ee=(e,t,l,i)=>{const o=e.target.value;e.target.name===U.Xd&&l({...Te(t,o,i)})},Te=(e,t,l)=>{let i={...e};return i.value=t,!t||t.length<10||isNaN(t)||!((e,t)=>RegExp(t).test(e))(t,l)?(i.error=!0,i.errorMessage=Object(v.translateWithI18Next)(z.a.MOBILE_ERROR_MESSAGE)):(i.error=!1,i.errorMessage=""),i};var De=e=>{const{isOpen:t,handleClose:l,tenantId:o,checkCardDetailsModalContent:a,checkCardDetailsModalTitle:n,checkCardDetailsModalButton:r,customerId:s,isMobile:c,phoneNumberRegex:u,giftCardDetails:m}=e,[f,h]=Object(i.useState)(!0),C=Object(d.b)(),T=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.createBalanceReducer)||void 0===t?void 0:t.response})),D=Object(y.g)(),[N,I]=Object(i.useState)(!1),[S,A]=Object(i.useState)({value:"",errorMessage:"",error:!1}),{Ellipse:R}=_.a;Object(i.useEffect)((()=>{C(Object(g.c)())}),[N,C]),Object(i.useEffect)((()=>{if(!x()(T)){(null===T||void 0===T?void 0:T.isSuccess)?l():(sessionStorage.setItem(U.Ne.POST_PAYMENT_TYPE,U.qe.GET_GIFT_CARD_DETAILS),Object(O.ef)({history:D}))}}),[T,N,D,l]),Object(i.useEffect)((()=>{const e=""!==S.value,t=!1===S.error;h(!e||!t)}),[S]);const M={role:"dialog",modalTitleId:"CheckBalancepopup",show:t,classNames:(L=c,L?"giftcard-checkbalance-modal":"giftcard-getCardDetails-modal"),showCloseBtn:!0,closeButtonHandler:l,autoFocus:!0,modalTitle:n,closeDataTestId:"giftcheck-balance"};var L,P,w,F;return Object(E.jsx)("div",{className:ge(c),"data-testid":"giftcard-checkBal",children:t&&Object(E.jsxs)(b.a,{...M,children:[Object(E.jsx)("div",{className:"getDetailsModalHeader",children:n}),Object(E.jsx)("div",{className:"getDetailsModalContent",children:a}),Object(E.jsxs)("div",{className:"getPhoneNumber",children:[Object(E.jsx)(j.a,{type:"number","data-testid":"phone-number-testid",className:(F=S.error,F?"formElement-error":"formElement"),name:"phoneNumber",placeholder:Object(v.translateWithI18Next)(z.a.PHONE_NUMBER_PLACEHOLDER_NOT_REQUIRED),value:S.value,onChange:e=>Ee(e,S,A,u),onKeyPress:e=>(e=>{/[0-9]/.test(e.key)||e.preventDefault()})(e),maxLength:10,readOnly:N,onBlur:e=>Ee(e,S,A,u)}),Object(E.jsxs)("div",{id:"phoneNumber",className:Ce(S.error),children:[(P=S,w=R,P.error&&Object(E.jsx)("img",{src:w,alt:"error",className:"mr-2"})),Object(E.jsx)("span",{role:"alert",children:S.errorMessage})]})]}),Object(E.jsx)("div",{className:"buttonGiftModal",children:Object(E.jsx)(p.a,{"data-testid":"subm-button",className:"button blackButton blackBorder save-button",onClick:e=>(e=>{if(C(Object(W.d)({key:"giftCardDataCustomerDetails",value:null===m||void 0===m?void 0:m.customerDetails})),h(!0),I(!0),""!==S.value){const e={customerId:s,tenantId:o,body:{phoneNumber:S.value}};C(Object(g.b)(e))}})(),disabled:f,children:r})})]})})},Ne=l(448),Ie=l(29),Se=l(438);const Ae=e=>{var t,l;let{card:i,allCardsTypesList:o,isChecked:a,onSelect:n}=e;return Object(E.jsx)("div",{className:"d-flex flex-column savedcard-option",children:Object(E.jsxs)("div",{className:"radioBtns",children:[Object(E.jsx)("input",{type:"radio","data-testid":"radio-handler-".concat(null===i||void 0===i?void 0:i.id),id:null===i||void 0===i?void 0:i.id,name:"tenderOptions",value:null===i||void 0===i?void 0:i.id,checked:a,onChange:()=>n(null===i||void 0===i?void 0:i.id)}),Object(E.jsx)("label",{htmlFor:null===i||void 0===i?void 0:i.id,children:Object(E.jsxs)("span",{className:"tender-label",tabIndex:"0",children:[Object(E.jsx)("span",{className:"payment-card-mask",children:null===i||void 0===i||null===(t=i.maskedCardNumber)||void 0===t||null===(l=t.replace)||void 0===l?void 0:l.call(t,/x/gi,"")}),Object(E.jsx)("span",{className:"tender-image",children:Object(E.jsx)("img",{src:Object(Se.c)(null===o||void 0===o?void 0:o.items,null===i||void 0===i?void 0:i.type),alt:""})})]})})]})},null===i||void 0===i?void 0:i.id)},xe=e=>{var t,l,o,a,n;let{giftCardDetails:d,updateGiftCardDetails:r,dispatch:s}=e;const c=null!==d&&void 0!==d&&null!==(t=d.savedCards)&&void 0!==t&&t.length?null===d||void 0===d||null===(l=d.savedCards[0])||void 0===l?void 0:l.id:U.Vd.CREDIT_CARD,[u,m]=Object(i.useState)(c);return Object(i.useEffect)((()=>{var e;const t=null===(e=window)||void 0===e?void 0:e.giftData;if(t&&Object(O.Id)(window.location)){const{savedCards:e}=t;var l;if(e&&e.length>0)m(null===(l=e[0])||void 0===l?void 0:l.id),r({savedCards:e});sessionStorage.setItem("giftData",JSON.stringify(t))}}),[r]),Object(i.useEffect)((()=>{u&&u!==(null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD)?r({cardId:u}):r({cardId:""})}),[u,r]),Object(E.jsxs)("div",{className:"row row-cols-12 mt-10px GiftCardLoggedInUserPaymentComponent",children:[Object(E.jsx)("div",{className:"pl-25px col-sm-2 col-12 title",children:Object(E.jsx)("span",{children:Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.PAYMENT_BY)})}),Object(E.jsxs)("div",{className:"px-25px col-sm-8 col-12 payment-section",children:[(null===d||void 0===d||null===(o=d.savedCards)||void 0===o?void 0:o.length)>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"payment-tagline-text","data-testid":"saved-card-title",children:null===v.translateWithI18Next||void 0===v.translateWithI18Next?void 0:Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.SAVED_CARD_TITLE)}),null===d||void 0===d||null===(a=d.savedCards)||void 0===a?void 0:a.map((e=>Object(E.jsx)(Ae,{card:e,allCardsTypesList:null===d||void 0===d?void 0:d.allCardsTypesList,isChecked:(null===e||void 0===e?void 0:e.id)===u,onSelect:m},null===e||void 0===e?void 0:e.id))),Object(E.jsx)("div",{className:"payment-tagline-text",children:null===v.translateWithI18Next||void 0===v.translateWithI18Next?void 0:Object(v.translateWithI18Next)(z.a.OTHER_PAYMENT_TITILE)})]}),Object(E.jsx)("div",{className:"d-flex flex-column payoption-button",children:Object(E.jsxs)("div",{className:"radioBtns",children:[Object(E.jsx)("input",{type:"radio","data-testid":"radio-handler-credit-card",id:null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD,name:"tenderOptions",value:null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD,checked:u===(null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD),onChange:()=>m(null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD)}),Object(E.jsx)("label",{htmlFor:null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD,children:Object(E.jsxs)("span",{className:"tender-label",children:[Object(Ie.p)(null===d||void 0===d?void 0:d.allCardsTypesList,null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD),Object(E.jsx)("span",{className:"tender-image",children:Object(E.jsx)("img",{src:Object(Se.c)(null===d||void 0===d||null===(n=d.allCardsTypesList)||void 0===n?void 0:n.items,null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD),alt:""})})]})})]})},null===U.Vd||void 0===U.Vd?void 0:U.Vd.CREDIT_CARD),Object(E.jsx)(p.c,{"data-testid":"go-to-payment",variant:null===p.b||void 0===p.b?void 0:p.b.primary,className:be(d),onClick:()=>{pe(d,r,s)},children:Object(v.translateWithI18Next)(z.a.PLACE_ORDER)})]})]})};const _e=e=>{var t,l,i;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&Object(E.jsxs)("div",{className:"giftcard-banner-container",children:[Object(E.jsx)("div",{className:"banner-headline",children:null===e||void 0===e||null===(t=e.segmentedGiftCardData)||void 0===t?void 0:t.headLine}),Object(E.jsx)(S.a,{className:"banner-image","data-testid":"product-image",srcFile:null!==e&&void 0!==e&&e.isMobile?null===e||void 0===e||null===(l=e.segmentedGiftCardData)||void 0===l?void 0:l.mobileImage:null===e||void 0===e||null===(i=e.segmentedGiftCardData)||void 0===i?void 0:i.desktopImage,alt:"text"})]})},Re=(e,t,l)=>{var i,o,a;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&Object(E.jsxs)("div",{className:"giftcard-already-have-card-container",children:[Object(E.jsx)("h1",{className:"giftcard-headline",children:null===e||void 0===e||null===(i=e.segmentedGiftCardData)||void 0===i?void 0:i.subHeadline}),Object(E.jsx)("div",{className:"giftcard-description",children:null===e||void 0===e||null===(o=e.segmentedGiftCardData)||void 0===o?void 0:o.description}),Object(E.jsx)("div",{className:"resend-card-button-container",children:Object(E.jsx)("button",{"data-testid":"toggle-modal",className:"button whiteButton blackBorder resendcard-details",onClick:()=>((e,t)=>{null===e||void 0===e||e({openExistingCardBalanceModal:!0}),null===t||void 0===t||t(null===g.c||void 0===g.c?void 0:Object(g.c)())})(t,l),children:null===e||void 0===e||null===(a=e.segmentedGiftCardData)||void 0===a?void 0:a.resendCardDetailsButtonText})})]})},ye=(e,t)=>{var l,i,o;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&Object(E.jsx)("div",{className:"yourInfoFormContainer",children:Object(E.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(E.jsx)("div",{className:"labelContent-addHope info-label pl-25px col-sm-2 col-12",children:Object(E.jsx)("span",{children:null===e||void 0===e||null===(l=e.segmentedGiftCardData)||void 0===l?void 0:l.yourInfoFormHeadline})}),Object(E.jsx)("div",{className:"donate-form-details px-25px col-sm-8 col-12",children:(null===e||void 0===e||null===(i=e.customerFormConfig)||void 0===i||null===(o=i.fieldsConfig)||void 0===o?void 0:o.length)&&Object(E.jsx)("div",{className:"mt-4 contactInfoContent col-12  d-flex",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)(K.a,{formConfig:{...null===e||void 0===e?void 0:e.customerFormConfig,giftCardDetails:e,updateGiftCardDetails:t,name:"customer",defaultValues:x()(e.customerDetails)?{}:e.customerDetails,onFormLoadedCompleted:e=>t({customerFormRef:e})}})})})})]})})},Me=(e,t,l,i)=>{var o;const a=null===e||void 0===e||null===(o=e.giftCardTheme)||void 0===o?void 0:o.fields;if(!a||!Array.isArray(a.list)||0===a.list.length)return null;const{headLine:n,list:d}=a;return Object(E.jsxs)("div",{className:"GC-theme-templets",children:[n&&Object(E.jsx)("div",{className:"GC-theme-templets__title",children:n}),Object(E.jsx)(je.b,{settings:t,children:d.filter((e=>{var t,l,i,o;return null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(l=t.themeImage)||void 0===l||null===(i=l.fields)||void 0===i||null===(o=i.file)||void 0===o?void 0:o.url})).map(((e,t)=>{var o,a,n,d,r;const s=null===e||void 0===e||null===(o=e.fields)||void 0===o||null===(a=o.themeImage)||void 0===a||null===(n=a.fields)||void 0===n||null===(d=n.file)||void 0===d?void 0:d.url,c=null===e||void 0===e||null===(r=e.fields)||void 0===r?void 0:r.themeName;return Object(E.jsx)("div",{className:"theme-slide ".concat(i===t?"selected":""),onClick:()=>l(t,s,c),children:Object(E.jsx)(S.a,{srcFile:s,alt:c})},t)}))})]})},Le=(e,t)=>{var l;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&(null===e||void 0===e||null===(l=e.recipientDetails)||void 0===l?void 0:l.map(((l,i)=>{var o,a;return Object(E.jsx)("div",{className:"recipientForm",children:Object(E.jsxs)("div",{className:"row row-cols-12 mt-10px",children:[Object(E.jsx)("div",{className:"labelContent-addHope info-label-recipientForm pl-25px col-sm-2 col-12",children:Object(E.jsx)("span",{children:null===e||void 0===e||null===(o=e.segmentedGiftCardData)||void 0===o?void 0:o.giftCardDetailsFormHeadline})}),Object(E.jsx)("div",{className:"donate-form-details px-25px col-sm-8 col-12",children:Object(E.jsx)("div",{className:"contactInfoContent col-12  d-flex",children:Object(E.jsxs)("div",{className:"col-12",children:[Object(E.jsx)("div",{children:(null===e||void 0===e||null===(a=e.recipientDetails)||void 0===a?void 0:a.length)>1&&0!==i&&Object(E.jsx)("div",{className:"removeSection d-flex",children:Object(E.jsx)("div",{onClick:()=>{!function(e,t){var l,i,o,a;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;-1!==n&&n<(null===e||void 0===e||null===(l=e.recipientDetails)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(i=e.recipientDetails)||void 0===i||null===(o=i.splice)||void 0===o||o.call(i,n,1)),-1!==n&&(null===t||void 0===t||t({recipientDetails:[],tempRecipientDetails:[...null===e||void 0===e||null===(a=e.recipientDetails)||void 0===a?void 0:a.map(((e,t)=>(e.name=t,e)))]})),null===t||void 0===t||t({removeRecipientButtonClicked:!0})}(e,t,i)},children:Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.REMOVE)})})}),Object(E.jsx)(K.a,{formConfig:{...null===e||void 0===e?void 0:e.recipientFormConfig,giftCardDetails:e,updateGiftCardDetails:t,name:i,defaultValues:{...l,hiddenField:i},enableHiddenFields:!0,enableDefaultDirtyFields:null===e||void 0===e?void 0:e.removeRecipientButtonClicked}})]})})})]})})})))},Pe=(e,t,l)=>{var i,o;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"add-card-buton",children:Object(E.jsx)("button",{"data-testid":"toggle-modal",className:"".concat(Object(O.ae)()||Object(O.je)()?"button whiteButton blackBorder resendcard-details resendcard-details-safari":"button whiteButton blackBorder resendcard-details"),disabled:!Oe(e),onClick:()=>he(e,t),children:null===e||void 0===e||null===(i=e.segmentedGiftCardData)||void 0===i?void 0:i.addAnotherGiftCard})}),(null===e||void 0===e||null===(o=e.recipientDetails)||void 0===o?void 0:o.some((e=>"undefined"!==typeof(null===e||void 0===e?void 0:e.giftCardAmount)&&(null===e||void 0===e?void 0:e.giftCardAmount)===U.Sd&&(null===e||void 0===e?void 0:e.customTipSelected)||"undefined"!==typeof(null===e||void 0===e?void 0:e.giftCardAmount)&&(null===e||void 0===e?void 0:e.giftCardAmount)!==U.Sd)))&&Object(E.jsx)("div",{className:Object(O.je)()||Object(O.ae)()?"gift-card-summary gift-card-summary-safari":"gift-card-summary",children:Ue(e)}),we(e,t,l),Fe(e)]})},we=(e,t,l)=>{var i,o,a,n,d;return Object(E.jsxs)(E.Fragment,{children:[(!(null!==e&&void 0!==e&&e.enableDigitalGiftCardEnhancements)||!(null!==e&&void 0!==e&&null!==(i=e.userParams)&&void 0!==i&&i.loggedIn)||!(null!==e&&void 0!==e&&e.showPaymentSectionForGuestUser))&&Object(E.jsx)("div",{className:"go-to-payment-button-container",children:Object(E.jsxs)(p.c,{"data-testid":"toggle-modal",variant:null===p.b||void 0===p.b?void 0:p.b.primary,className:be(e),onClick:()=>{var i;null!==e&&void 0!==e&&e.showPaymentSectionForGuestUser||null===e||void 0===e||null===(i=e.userParams)||void 0===i||!i.loggedIn||null===e||void 0===e||!e.enableDigitalGiftCardEnhancements?pe(e,t,l):t({showPaymentSectionForGuestUser:!0})},children:[null===e||void 0===e||null===(o=e.segmentedGiftCardData)||void 0===o?void 0:o.goToPaymentButton,(null===e||void 0===e||null===(a=e.segmentedGiftCardData)||void 0===a?void 0:a.goToPaymentButton)&&Object(E.jsx)("img",{src:fe(e),className:"footerIcon",alt:"img"})]})}),(null===e||void 0===e?void 0:e.isGoToPaymentButtonClicked)&&(null===e||void 0===e||null===(n=e.giftCardPayResponse)||void 0===n?void 0:n.redirectUri)&&Object(E.jsx)(Ne.a,{formData:null===e||void 0===e?void 0:e.giftCardPayResponse}),(null===e||void 0===e||null===(d=e.userParams)||void 0===d?void 0:d.loggedIn)&&(null===e||void 0===e?void 0:e.showPaymentSectionForGuestUser)&&Object(E.jsx)(xe,{giftCardDetails:e,updateGiftCardDetails:t,dispatch:l})]})},Fe=e=>{var t,l,i,o,a,n;return(null===e||void 0===e?void 0:e.segmentedGiftCardData)&&Object(E.jsxs)("div",{className:"additionalInfo",children:[Object(E.jsx)("div",{className:"additionalInfoHeadline",children:null===e||void 0===e||null===(t=e.segmentedGiftCardData)||void 0===t?void 0:t.additionalInfoHeadline}),Object(E.jsx)("div",{children:Object(E.jsx)(Y.a,{className:"link-terms",href:null===e||void 0===e||null===(l=e.segmentedGiftCardData)||void 0===l?void 0:l.termsCondtionsUrl,children:null===e||void 0===e||null===(i=e.segmentedGiftCardData)||void 0===i?void 0:i.termsCondtionsLink})}),Object(E.jsxs)("span",{className:"additonalText",children:[" ",null===e||void 0===e||null===(o=e.segmentedGiftCardData)||void 0===o?void 0:o.faqText,Object(E.jsx)(Y.a,{link:!0,className:"link-faq",href:null===e||void 0===e||null===(a=e.segmentedGiftCardData)||void 0===a?void 0:a.faqUrl,children:null===e||void 0===e||null===(n=e.segmentedGiftCardData)||void 0===n?void 0:n.faqLink})]})]})},Ge=(e,t)=>{const l=null===e||void 0===e?void 0:e.reduce(((e,t)=>(e[t]=e[t]+1||1,e)),{});return null===l||void 0===l?void 0:l[t]},ke=e=>isNaN(parseInt(null===e||void 0===e?void 0:e.giftCardAmount))?0:null===e||void 0===e?void 0:e.giftCardAmount,He=e=>null!==e&&void 0!==e&&e.customTipSelected?null===e||void 0===e?void 0:e.giftCardAmountOther:0,Be=e=>(null===e||void 0===e?void 0:e.giftCardAmount)===U.Sd&&null!==e&&void 0!==e&&e.customTipSelected?parseInt(null===e||void 0===e?void 0:e.giftCardAmountOther):parseInt(null===e||void 0===e?void 0:e.giftCardAmount),We=e=>(null===e||void 0===e?void 0:e.giftCardAmount)===U.Sd?null===e||void 0===e?void 0:e.giftCardAmountOther:null===e||void 0===e?void 0:e.giftCardAmount,Ue=e=>{var t,l;const i=(e=>{var t;return null===e||void 0===e||null===(t=e.recipientDetails)||void 0===t?void 0:t.map((e=>({amount:(null===e||void 0===e?void 0:e.giftCardAmount)===U.Sd?He(e):ke(e)})))})(e),o=null===i||void 0===i?void 0:i.reduce(((e,t)=>e+parseInt(null===t||void 0===t?void 0:t.amount)),0),a=(e=>null===e||void 0===e?void 0:e.recipientDetails.map((e=>{let{giftCardAmount:t,customTipSelected:l,giftCardAmountOther:i}=e;return t!==U.Sd?t:t===U.Sd&&l?i:""})))(e),n=null===e||void 0===e||null===(t=e.recipientDetails)||void 0===t?void 0:t.filter(((t,l)=>{var i;return l===(null===e||void 0===e||null===(i=e.recipientDetails)||void 0===i?void 0:i.findIndex(((e,t)=>{const l=null===t||void 0===t?void 0:t.recipientDetails.map((e=>{let{giftCardAmount:t}=e;return t}));return t=>(null===e||void 0===e?void 0:e.giftCardAmount)!==U.Sd?(null===e||void 0===e?void 0:e.giftCardAmount)===(null===t||void 0===t?void 0:t.giftCardAmount):(null===e||void 0===e?void 0:e.customTipSelected)&&!(null!==l&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e.giftCardAmountOther))&&(null===e||void 0===e?void 0:e.giftCardAmountOther)===(null===t||void 0===t?void 0:t.giftCardAmountOther)})(t,e)))})),d=a.filter(Boolean);return Object(E.jsxs)(V.a,{header:"".concat(d.length," ITEM")+(d.length>1?"S":""),className:"global-accordian-header",open:!0,children:[(null===n||void 0===n?void 0:n.length)&&n.map((t=>(!isNaN(parseInt(null===t||void 0===t?void 0:t.giftCardAmount))||!isNaN(parseInt(null===t||void 0===t?void 0:t.giftCardAmountOther)))&&Object(E.jsx)("section",{className:"",children:Object(E.jsxs)("div",{className:"giftCardDescription",children:[Object(E.jsxs)("div",{id:"foodItemContainer",children:[Object(E.jsx)("span",{className:"number",children:"".concat(Ge(a,We(t))>1?Ge(a,We(t))+" ":1)}),Object(E.jsx)("span",{id:"foodNameChild",className:"giftCardName",children:Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.GIFT_CARD)+"- "+(null===e||void 0===e?void 0:e.currencySymbol)+Be(t)+U.jb})]}),Object(E.jsx)("div",{className:"ItemPrice foodName",children:(null===e||void 0===e?void 0:e.currencySymbol)+Ge(a,We(t))*parseInt((null===t||void 0===t?void 0:t.giftCardAmount)===U.Sd?null===t||void 0===t?void 0:t.giftCardAmountOther:null===t||void 0===t?void 0:t.giftCardAmount)+U.jb})]})}))),Object(E.jsxs)("div",{className:"billDescription",children:[Object(E.jsx)("div",{id:"global-accordian-header",children:Object(E.jsx)("span",{className:"total-header",children:(null===(l=Object(v.translateWithI18Next)(null===z.a||void 0===z.a?void 0:z.a.TOTAL))||void 0===l?void 0:l.toUpperCase())+":"})}),Object(E.jsx)("div",{className:"total-amount",children:(null===e||void 0===e?void 0:e.currencySymbol)+o+U.jb})]})]})},Ve=(e,t)=>{var l;return(null===e||void 0===e?void 0:e.openExistingCardBalanceModal)&&Object(E.jsx)(De,{giftCardDetails:e,tenantId:null===e||void 0===e?void 0:e.tenantId,isOpen:null===e||void 0===e?void 0:e.openExistingCardBalanceModal,handleClose:e=>((e,t)=>{var l;null===e||void 0===e||null===(l=e.preventDefault)||void 0===l||l.call(e),null===t||void 0===t||t({openExistingCardBalanceModal:!1})})(e,t),checkCardDetailsModalContent:e.segmentedGiftCardData.checkCardDetailsModalContent,checkCardDetailsModalTitle:e.segmentedGiftCardData.checkCardDetailsModalTitle,checkCardDetailsModalInput:e.segmentedGiftCardData.checkCardDetailsModalInput,checkCardDetailsModalButton:e.segmentedGiftCardData.checkCardDetailsModalButtonText,phoneNumberRegex:e.segmentedGiftCardData.phoneNumberRegex,customerId:null===e||void 0===e||null===(l=e.customerDetails)||void 0===l?void 0:l.customerId,isMobile:null===e||void 0===e?void 0:e.isMobile})};var Ye=l(328),Ke=l(74),qe=l(171);var Je=e=>{var t,l,o,a;const{location:n}=e,r=Object(B.a)(),s=Object(B.b)(Ke.c),{tenantReducer:c,appStateReducer:u,profileReducer:v,paymentsReducer:m,paymentsContentReducer:b}=Object(d.c)((e=>e)),p=Object(B.b)(W.b),[f,h]=Object(i.useState)({dispatch:null,tenantId:null,currencySymbol:null,currencyConversionFactor:null,segmentedGiftCardData:null,customerFormRef:null,customerDetails:{},giftCardTheme:{},savedCards:{},customerFormConfig:{},recipientFormConfig:{},recipientDetails:[],tempRecipientDetails:[],isMobile:Object(O.de)(window.innerWidth),openExistingCardBalanceModal:!1,isGoToPaymentButtonClicked:!1,removeRecipientButtonClicked:!1,showPaymentSectionForGuestUser:!1,recipientAmountPanelConfig:{tileButtonGroupSource:null,buttonText:null,minimumAmount:null,maximumAmount:null,inputFiledValidErrormsg:"",customAmount:"",addDonationBtnHandler:!0,showDonationsCustomFields:!1,showNonDonationPercentage:!0,editButtonShow:!1,showCurrencyField:!1,isGiftCardFlow:!0,isAddHopeFlow:!1},giftCardPayResponse:null}),[j,g]=Object(i.useState)(null),[C,T]=Object(i.useState)(!1),D={infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,arrows:!0,dots:!0,beforeChange:()=>{T(!0)},afterChange:()=>{T(!1)},responsive:[{breakpoint:768,settings:{slidesToShow:1.5,arrows:!1,dots:!1}},{breakpoint:1024,settings:{slidesToShow:2.5,arrows:!1,dots:!1}}]},N=Object(i.useCallback)((e=>{h&&h((t=>({...t,...e})))}),[]);return Object(i.useEffect)((()=>{window.scrollTo(0,0),window.addEventListener(U.ye,(()=>{N({isMobile:Object(O.de)(window.innerWidth)})}),!0)}),[]),Object(i.useEffect)((()=>(r(Object(Ye.j)()),r(Object(Ye.o)()),r(Object($.z)()),r(Object(qe.h)()),()=>{r(Ke.a.resetReducer())})),[r]),Object(i.useEffect)((()=>{N({enableDigitalGiftCardEnhancements:null===c||void 0===c?void 0:c.enableDigitalGiftCardEnhancements})}),[null===c||void 0===c?void 0:c.enableDigitalGiftCardEnhancements]),Object(i.useEffect)((()=>{(null===c||void 0===c?void 0:c.tenantId)&&N({tenantId:null===c||void 0===c?void 0:c.tenantId,currencySymbol:null===c||void 0===c?void 0:c.currencySymbol,currencyConversionFactor:null===c||void 0===c?void 0:c.currencyConversionFactor})}),[null===c||void 0===c?void 0:c.tenantId]),Object(i.useEffect)((()=>{N({userParams:null===u||void 0===u?void 0:u.userStatus})}),[null===u||void 0===u?void 0:u.userStatus]),Object(i.useEffect)((()=>{null!==b&&void 0!==b&&b.tendersContent&&N({allCardsTypesList:null===b||void 0===b?void 0:b.tendersContent})}),[null===b||void 0===b?void 0:b.tendersContent]),Object(i.useEffect)((()=>{N({giftCardPayResponse:null===m||void 0===m?void 0:m.giftCardPayResponse})}),[null===m||void 0===m?void 0:m.giftCardPayResponse,null===f||void 0===f?void 0:f.isGoToPaymentButtonClicked]),Object(i.useEffect)((()=>{var e,t,l,i,o,a,d,r,s,c,u,m,b,p;const h={customerId:null!==(e=null===v||void 0===v?void 0:v.customerId)&&void 0!==e?e:null,customerName:null!==(t=null===v||void 0===v||null===(l=v.basic)||void 0===l?void 0:l.firstName)&&void 0!==t?t:"",customerLast:null!==(i=null===v||void 0===v||null===(o=v.basic)||void 0===o?void 0:o.lastName)&&void 0!==i?i:"",customerEmail:null!==(a=null===v||void 0===v||null===(d=v.basic)||void 0===d?void 0:d.email)&&void 0!==a?a:"",customerPhone:null!==(r=null===v||void 0===v||null===(s=v.basic)||void 0===s?void 0:s.phone)&&void 0!==r?r:""};if(Object(O.Id)(window.location)){const[e,t,l,i,o,a]=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=null,i=null,o=null,a=null,n=null,d=null;if(Object(O.Id)(null===(e=window)||void 0===e?void 0:e.location,t)){var r,s;const e=new Proxy(new URLSearchParams(null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.search),{get:(e,t)=>{var l;return null===e||void 0===e||null===(l=e.get)||void 0===l?void 0:l.call(e,t)}});l=null!==e&&void 0!==e&&e.isLoggedInUser?e.isLoggedInUser:l,i=null!==e&&void 0!==e&&e.customerName?e.customerName:i,o=null!==e&&void 0!==e&&e.customerEmail?e.customerEmail:o,n=null!==e&&void 0!==e&&e.id?e.id:n,d=null!==e&&void 0!==e&&e.phone?e.phone:d,a=null!==e&&void 0!==e&&e.lastName?e.lastName:a}return[l,i,o,n,d,a]}();if(e){h.customerName=t,h.customerEmail=l,h.customerId=i,h.customerLast=a,h.customerPhone=o,N({userParams:{loggedIn:!0}})}}else if(sessionStorage.getItem("giftData")){const e=JSON.parse(sessionStorage.getItem("giftData"));if(e){const{customerData:t,savedCards:l}=e;t&&(h.customerId=null===t||void 0===t?void 0:t.id,h.customerLast=null===t||void 0===t?void 0:t.lastName,h.customerPhone=null===t||void 0===t?void 0:t.phone,h.customerName=null===t||void 0===t?void 0:t.firstName,h.customerEmail=null===t||void 0===t?void 0:t.email),l&&N({savedCards:l})}}else N({savedCards:null===v||void 0===v?void 0:v.savedCards});null===f||void 0===f||null===(c=f.customerFormRef)||void 0===c||c.setValueToFormElements("customerName",h.customerName),null===f||void 0===f||null===(u=f.customerFormRef)||void 0===u||u.setValueToFormElements("customerEmail",h.customerEmail),null===f||void 0===f||null===(m=f.customerFormRef)||void 0===m||m.setValueToFormElements("customerId",h.customerId),null===f||void 0===f||null===(b=f.customerFormRef)||void 0===b||b.setValueToFormElements("customerLast",h.customerLast),null===f||void 0===f||null===(p=f.customerFormRef)||void 0===p||p.setValueToFormElements("customerPhone",h.customerPhone),(null===n||void 0===n||!n.ShowFailureError)&&(null===n||void 0===n||!n.ShowPaymentSuccess)&&N({customerDetails:{...h}})}),[window.location,null===v||void 0===v?void 0:v.customerId,null===f||void 0===f||null===(t=f.userParams)||void 0===t?void 0:t.loggedIn,v,null===n||void 0===n?void 0:n.ShowFailureError,null===n||void 0===n?void 0:n.ShowPaymentSuccess]),Object(i.useEffect)((()=>{var e,t,l,i,o,a,n;x()(null===s||void 0===s?void 0:s.giftCardContent)||(N({segmentedGiftCardData:ie(null===s||void 0===s||null===(e=s.giftCardContent)||void 0===e||null===(t=e.items)||void 0===t||null===(l=t[0])||void 0===l?void 0:l.fields)}),N({giftCardTheme:null===s||void 0===s||null===(i=s.giftCardContent)||void 0===i||null===(o=i.items)||void 0===o||null===(a=o[0])||void 0===a||null===(n=a.fields.body)||void 0===n?void 0:n[7]}))}),[null===s||void 0===s?void 0:s.giftCardContent]),Object(i.useEffect)((()=>{var e,t,l;x()(null===f||void 0===f||null===(e=f.segmentedGiftCardData)||void 0===e?void 0:e.giftCardAmountOptions)||N({recipientAmountPanelConfig:{...null===f||void 0===f?void 0:f.recipientAmountPanelConfig,tileButtonGroupSource:f.segmentedGiftCardData.giftCardAmountOptions.map((e=>({value:e===U.Sd?U.Sd:null===e||void 0===e?void 0:e.split(null===c||void 0===c?void 0:c.currencySymbol).join("").slice(0,-3),label:e}))),buttonText:f.segmentedGiftCardData.confirmAmountButtonText,minimumAmount:null===(t=f.segmentedGiftCardData)||void 0===t?void 0:t.minAmount,maximumAmount:null===(l=f.segmentedGiftCardData)||void 0===l?void 0:l.maxAmount}})}),[null===f||void 0===f||null===(l=f.segmentedGiftCardData)||void 0===l?void 0:l.giftCardAmountOptions]),Object(i.useEffect)((()=>{var e;x()(null===f||void 0===f||null===(e=f.recipientAmountPanelConfig)||void 0===e?void 0:e.tileButtonGroupSource)||N({customerFormConfig:{fieldsConfig:ae(null===s||void 0===s?void 0:s.giftCardContent),isFormValid:!1,onFormChangeHandler:oe},recipientFormConfig:{fieldsConfig:ve({giftCardDetails:f,updateGiftCardDetails:N,giftCardContent:null===s||void 0===s?void 0:s.giftCardContent,dispatch:r}),isFormValid:!1,onFormChangeHandler:me,name:null}})}),[null===f||void 0===f||null===(o=f.recipientAmountPanelConfig)||void 0===o?void 0:o.tileButtonGroupSource,null===f||void 0===f?void 0:f.recipientDetails,window.location,null===f||void 0===f||null===(a=f.userParams)||void 0===a?void 0:a.loggedIn,null===f||void 0===f?void 0:f.enableDigitalGiftCardEnhancements]),Object(i.useEffect)((()=>{var e;(null===f||void 0===f||null===(e=f.recipientDetails)||void 0===e||!e.length)&&(null===s||void 0===s?void 0:s.giftCardContent)&&he(f,N)}),[null===s||void 0===s?void 0:s.giftCardContent,null===f||void 0===f?void 0:f.recipientDetails]),Object(i.useEffect)((()=>{var e,t;if(null!==n&&void 0!==n&&n.ShowPaymentSuccess&&null!==p&&void 0!==p&&p.loggedIn&&(null===p||void 0===p||null===(e=p.giftCardDataRecipientDetails)||void 0===e?void 0:e.length)>0&&null!==p&&void 0!==p&&p.giftCardDataCustomerDetails){var l,i,o,a,d,r,s,c,u,v;const e={customerName:null!==(l=null===p||void 0===p||null===(i=p.giftCardDataCustomerDetails)||void 0===i?void 0:i.customerName)&&void 0!==l?l:"",customerEmail:null!==(o=null===p||void 0===p||null===(a=p.giftCardDataCustomerDetails)||void 0===a?void 0:a.customerEmail)&&void 0!==o?o:"",customerId:null!==(d=null===p||void 0===p||null===(r=p.giftCardDataCustomerDetails)||void 0===r?void 0:r.customerId)&&void 0!==d?d:"",customerLast:null!==(s=null===p||void 0===p||null===(c=p.giftCardDataCustomerDetails)||void 0===c?void 0:c.lastName)&&void 0!==s?s:"",customerPhone:null!==(u=null===p||void 0===p||null===(v=p.giftCardDataCustomerDetails)||void 0===v?void 0:v.phone)&&void 0!==u?u:""};N({customerDetails:{...e}})}if(null!==n&&void 0!==n&&n.ShowFailureError&&(null===p||void 0===p||null===(t=p.giftCardDataRecipientDetails)||void 0===t?void 0:t.length)>0&&null!==p&&void 0!==p&&p.giftCardDataCustomerDetails){var m,O,b,f,h,j,g,C,E,T,D,I;const e={customerId:null!==(m=null===p||void 0===p||null===(O=p.giftCardDataCustomerDetails)||void 0===O?void 0:O.customerId)&&void 0!==m?m:null,customerName:null!==(b=null===p||void 0===p||null===(f=p.giftCardDataCustomerDetails)||void 0===f?void 0:f.customerName)&&void 0!==b?b:"",customerLast:null!==(h=null===p||void 0===p||null===(j=p.giftCardDataCustomerDetails)||void 0===j?void 0:j.customerLast)&&void 0!==h?h:"",customerEmail:null!==(g=null===p||void 0===p||null===(C=p.giftCardDataCustomerDetails)||void 0===C?void 0:C.customerEmail)&&void 0!==g?g:"",customerPhone:null!==(E=null===p||void 0===p||null===(T=p.giftCardDataCustomerDetails)||void 0===T?void 0:T.customerPhone)&&void 0!==E?E:"",isFormValid:null!==(D=null===p||void 0===p||null===(I=p.giftCardDataCustomerDetails)||void 0===I?void 0:I.isFormValid)&&void 0!==D?D:""};N({customerDetails:{...e},recipientDetails:null===p||void 0===p?void 0:p.giftCardDataRecipientDetails})}}),[null===n||void 0===n?void 0:n.ShowFailureError,null===n||void 0===n?void 0:n.ShowPaymentSuccess]),Object(i.useEffect)((()=>{var e;(null===f||void 0===f||null===(e=f.tempRecipientDetails)||void 0===e?void 0:e.length)&&(null===N||void 0===N||N({recipientDetails:null===f||void 0===f?void 0:f.tempRecipientDetails,tempRecipientDetails:[]}))}),[null===f||void 0===f?void 0:f.tempRecipientDetails]),Object(E.jsxs)("div",{className:"giftCard-global-container ".concat(null!==f&&void 0!==f&&f.enableDigitalGiftCardEnhancements?"with-enhancments":""),children:[Object(E.jsxs)("div",{className:"giftCard-global-container-wrapper",children:[_e(f),Re(f,N,r),ye(f,N),Le(f,N)]}),(null===f||void 0===f?void 0:f.enableDigitalGiftCardEnhancements)&&Me(f,D,((e,t,l)=>{!C&&f&&(N({themeImageUrl:t,emailTheme:l}),g(e))}),j),Object(E.jsxs)("div",{className:"giftCard-global-container-wrapper",children:[Pe(f,N,r,W.d),Ve(f,N)]})]})},Xe=l(85),ze=l(1101);const Ze=()=>Object(O.de)(window.innerWidth);var Qe=e=>{const{contentData:t={},giftCardPageGlobal:l,location:o}=e,[a,n]=Object(i.useState)(Object(O.de)(window.innerWidth)),{userOrderState:d}=Object(i.useContext)(Xe.a);Object(i.useEffect)((()=>{window.addEventListener("resize",n(Ze))}),[a]);return l?Object(E.jsx)("div",{className:"giftCard-global-container",children:t&&Object(E.jsx)(Je,{giftCardPageGlobal:l,location:o})}):Object(E.jsxs)("div",{className:a?"giftCard-mobile-container":"giftCard-desktop-container",children:[t&&Object(E.jsx)(H,{contentData:t,isMobile:a}),d.showCartClearAlert?Object(E.jsx)(ze.a,{}):null]})},$e=l(71),et=l(1110);const tt=e=>{let{segmentedMarketingData:t,giftCardPageGlobal:l,allReducerData:i,userParams:o}=e;return Object(O.Td)(t)&&!l&&Object(E.jsx)(u.a,{contentData:t,tenantReducerData:i.tenantReducerContent,userParams:o})||null};t.default=e=>{var t,l,u,v,m,b,p;const[f,h]=Object(i.useState)(Object(O.de)(window.innerWidth)),j=Object(d.c)((e=>e.tenantReducer)),g=null===j||void 0===j||null===(t=j.componentOptions)||void 0===t||null===(l=t.web)||void 0===l?void 0:l.giftCardPageGlobal,C=Object(d.b)(),T=()=>{const e=Object(O.de)(window.innerWidth);h(e)};Object(i.useEffect)((()=>{window.addEventListener("resize",T)}),[f]);let D=Object(d.c)((e=>e.appStateReducer.userStatus));Object(i.useEffect)((()=>{!g&&C(Object(Ye.l)(j))}),[C,null===j||void 0===j?void 0:j.country]),Object(i.useEffect)((()=>{!g&&C(Object(Ye.c)(D))}),[C,D]),Object(i.useEffect)((()=>{var e;!g&&C((e={object:Object($e.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Gift Card",include:"5"}},{type:a.Wd,payload:e})),C(n())}),[]);let N=null,I=null,S=null,A=null;const{DISPOSITION:x}=c.default,_=Object(d.c)((e=>({homePageContent:e.contentReducer.response||null,marketPageContent:e.marketConfigReducer.response||null,tenantReducerContent:e.tenantReducer||null,giftCardContent:e.giftCardReducer||null})));if(null!==_&&void 0!==_&&null!==(u=_.marketPageContent)&&void 0!==u&&u.headerData&&null!==_&&void 0!==_&&_.tenantReducerContent&&null!==_&&void 0!==_&&_.homePageContent&&Object(O.Td)(_.giftCardContent)){N=Object(O.fc)(_.homePageContent);const{header:e={},footer:t={}}=_.marketPageContent.headerData;I=Object(O.gc)(e),S=Object(O.Wb)(t),A=Object(O.cc)(_.giftCardContent)}return Object(E.jsxs)(o.a.Fragment,{children:[tt({segmentedMarketingData:I,giftCardPageGlobal:g,allReducerData:_,userParams:D}),Object(E.jsx)(et.a,{page:U.xc}),!g&&Object(E.jsx)(r.a,{contentData:{segmentedHomePageData:null!==(v=null===(m=N)||void 0===m?void 0:m[x])&&void 0!==v?v:{},contentDispositionData:null!==(b=null===(p=N)||void 0===p?void 0:p[x])&&void 0!==b?b:{}},userParams:D}),Object(O.Td)(A)&&Object(E.jsx)(Qe,{contentData:A,giftCardPageGlobal:g,location:null===e||void 0===e?void 0:e.location}),Object(O.Td)(S)&&!g&&Object(E.jsx)(s.a,{history:e.history,contentData:S,tenantReducerData:_.tenantReducerContent})||null]})}},1096:function(e,t,l){"use strict";l.d(t,"a",(function(){return n}));l(3);var i=l(1181),o=l.n(i),a=(l(1182),l(1183),l(2));const n=e=>{const{settings:t,carousalRef:l}=e;return Object(a.jsx)(o.a,{...t,ref:l,children:e.children})};n.defaultProps={settings:null,carousalRef:null},t.b=n},1097:function(e,t,l){var i=l(327),o=l(213),a=l(330);e.exports=function(e){return function(t,l,n){var d=Object(t);if(!o(t)){var r=i(l,3);t=a(t),l=function(e){return r(d[e],e,d)}}var s=e(t,l,n);return s>-1?d[r?t[s]:s]:void 0}}},1101:function(e,t,l){"use strict";l.d(t,"a",(function(){return f}));var i=l(3),o=l(28),a=l(92),n=l(106),d=l(85);const r={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var s=l(16),c=l(6),u=l(5),v=l(35),m=l(15),O=l(0),b=l(80),p=l(2);const f=e=>{const t=Object(o.c)((e=>e.cartReducer)),{cartData:l={}}=t||{},f=Object(o.c)((e=>e.tenantReducer)),{tenantId:h=""}=f||{},{userOrderState:j,userOrderStateDispatch:g}=Object(i.useContext)(d.a),{modalToOpenOnConfirm:C,modalOpenFrom:E,confirmCallBack:T}=j,{CartError:D}=m.a,N=Object(o.b)(),{CLEAR_ALL_MSG:I,CLEAR_ALL:S,CANCEL:A,TO_CHANGE_LANGUAGE:x}=r;((e,t,l)=>{e.langSelector?t.MSGTXT3=l:t.MSGTXT3})(e,I,x);const{SHOW_CLEAR_CART_ALERT:_,DISPOSITION_DATA:R,SEARCH_ORDER_DATA:y,SCHEDULE_ORDER_DATA:M,clearCartChangeFlag:L,orderTypeAlertTitle:P,searchStoreAlertTitle:w,RESET_DELIVERY_ADDRESS_LINE:F,CLEAR_CART_CONFIRM_CANCEL_MODAL:G,ORDER_CAPACITY_DATA_UPDATED:k}=s.a,H=Object(u.Sd)(j.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):j.dispositionNew,B=()=>{g({type:G,value:{}}),g({type:O.Oe,value:{selectedLanguage:""}}),g({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),E===L&&g({type:M,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(p.jsx)(n.a,{handleClose:B,classNames:"clear-cart-modal",CartAlertForm:Object(p.jsx)(a.a,{splitTitle:I,imageSrc:D,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(S),cancelButtonText:Object(c.translateWithI18Next)(A),cancelHandler:B,confirmHandler:()=>{if(l.discountLines.length>0){let e=l.discountLines.map((e=>e.id));N(Object(v.n)({params:{basketId:l.id},tenantId:h,shouldClearCart:!0},e))}else N(Object(v.o)({basketId:l.id,tenantId:h}));N(Object(b.c)({key:O.gd.VIEW_PRODUCT})),localStorage.removeItem(O.gd.ADD_TO_ORDER),N(Object(v.u)(new Date)),g({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),T&&T(),C===P?(g({type:F}),g({type:R,value:{showDisposition:!0}}),g({type:M,value:{showScheduleOrderCatering:!1}}),g({type:y,value:{showSearchStore:!1}}),g({type:k,value:{orderCapacityDataUpdated:!1}}),g({type:G,value:{}})):C===w&&g({type:y,value:{showSearchStore:!0}})}})})}},1102:function(e,t,l){var i=l(1097)(l(405));e.exports=i},1103:function(e,t,l){"use strict";(function(e){l.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,o,a,n;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(l.bind(null,215));return null===r||void 0===r||null===(o=r.default)||void 0===o||null===(a=o[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===a?void 0:a.MENU_PLP_CONSTANTS})()})()}).call(this,l(121))},1104:function(e,t,l){"use strict";l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return a}));var i=l(1);function o(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.qk,payload:{data:e,tenantId:t},successCallback:l,errorCallback:o}}function a(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i.lk,menuPayload:e,exclusionPayload:t,successCallback:l}}},1105:function(e,t,l){var i=l(268),o=l(597);e.exports=function(e){return o(i(e).toLowerCase())}},1110:function(e,t,l){"use strict";l.d(t,"a",(function(){return m}));var i=l(3),o=l(28),a=l(172),n=l(214),d=l(20),r=l.n(d),s=l(266),c=l(0),u=l(2);const v=(e,t)=>{if(e&&t){const l={};e.replace(/%(.*?)%/g,((e,t)=>{l[e]=t})),Object.entries(l).forEach((l=>{const[i,o]=l,a=((e,t)=>{var l;return null!==(l=e[t])&&void 0!==l?l:"N/A"})(t,o);if("string"==typeof a){const t=new RegExp(i,"ig");e=e.replace(t,a)}else{let t=JSON.parse(e);for(let e in t)t[e]===i&&(t[e]=a);e=JSON.stringify(t)}}))}return e},m=e=>{let{page:t,seoObj:l,seoTemplate:d}=e;const[m,O]=Object(i.useState)(null),[b,p]=Object(i.useState)(""),{seoContent:f}=Object(o.c)((e=>{var t,l,i;return{seoContent:null!==(t=null===e||void 0===e||null===(l=e.contentReducer)||void 0===l||null===(i=l.response)||void 0===i?void 0:i.seoStructureData)&&void 0!==t?t:null}}));return Object(i.useEffect)((()=>{var e,i,o,a,u,m;const b={...l,PageURL:null!==(e=null===(i=window)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.href)&&void 0!==e?e:"",HomeURL:null!==(a=null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.origin)&&void 0!==a?a:"/"};if(!r()(f)){var h,j;const e=null!==(h=null!==d&&void 0!==d?d:null===f||void 0===f||null===(j=f.seo)||void 0===j?void 0:j.find((e=>{var l;return(null===(l=e.fields)||void 0===l?void 0:l.title)===t})))&&void 0!==h?h:{},{fields:{templateData:l={},data:i={}}={}}=e,{template:o={}}=null!==f&&void 0!==f?f:{},a=Object(s.documentToHtmlString)(o);if(!r()(a)){let e=Object(n.a)(a.replace(/<p>|<\/p>/gi,""));e=v(e,l),e=v(e,b);const t=Object(n.a)(e);p(null===t||void 0===t?void 0:t.filter((e=>{var t,l,i;return!((null===e||void 0===e?void 0:e.type)===c.tf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children)||(null===e||void 0===e?void 0:e.type)===c.sd&&(null===e||void 0===e||null===(l=e.props)||void 0===l?void 0:l.name)===c.ke&&"N/A"===(null===e||void 0===e||null===(i=e.props)||void 0===i?void 0:i.content))})))}if(!r()(i)){let e=JSON.stringify(i);e=v(e,b),O(e)}}}),[t,f,l,d]),Object(u.jsxs)(a.a,{children:[b,Object(u.jsx)("script",{type:"application/ld+json",children:m})]})};m.defaultProps={page:"",seoTemplate:null,seoObj:null}},1113:function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));var i=l(210),o=l(2);const a=e=>Object(o.jsx)(i.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},1114:function(e,t,l){"use strict";l.d(t,"a",(function(){return o}));var i=l(1);function o(e){return{type:i.he,payload:e}}},1119:function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return n}));var i=l(210),o=l(2);const a=e=>Object(o.jsx)(i.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),n=e=>Object(o.jsx)(i.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},1120:function(e,t,l){var i=l(598),o=l(596),a=l(599),n=4294967295,d=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var l=n,r=d(e,n);t=o(t),e-=n;for(var s=i(r,t);++l<e;)t(l);return s}},1121:function(e,t,l){"use strict";l.d(t,"a",(function(){return n})),l.d(t,"b",(function(){return d})),l.d(t,"c",(function(){return r}));var i=l(3);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},o.apply(this,arguments)}var a=function(e){var t=Object(i.useRef)(e);return t.current=e,t},n=function(e){var t=void 0===e?{}:e,l=t.requestOptions,n=t.debounce,d=void 0===n?200:n,r=t.cache,s=void 0===r?86400:r,c=t.cacheKey,u=t.googleMaps,v=t.callbackName,m=t.defaultValue,O=void 0===m?"":m,b=t.initOnMount,p=void 0===b||b,f=Object(i.useState)(!1),h=f[0],j=f[1],g=Object(i.useState)(O),C=g[0],E=g[1],T=Object(i.useState)({loading:!1,status:"",data:[]}),D=T[0],N=T[1],I=Object(i.useRef)(null),S=a(l),A=a(u),x=c?"upa-"+c:"upa",_=Object(i.useCallback)((function(){var e;if(!I.current){var t=window.google,l=A.current,i=(null==l?void 0:l.places)||(null==t||null==(e=t.maps)?void 0:e.places);i?(I.current=new i.AutocompleteService,j(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),R=Object(i.useCallback)((function(){N({loading:!1,status:"",data:[]})}),[]),y=Object(i.useCallback)((function(){try{sessionStorage.removeItem(x)}catch(e){}}),[]),M=Object(i.useCallback)(function(e,t){var l;return function(){for(var i=this,o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];null!==l&&(clearTimeout(l),l=null),l=setTimeout((function(){return e.apply(i,a)}),t)}}((function(e){if(e){N((function(e){return o({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(x)||"{}")}catch(l){}s&&(t=Object.keys(t).reduce((function(e,l){return t[l].maxAge-Date.now()>=0&&(e[l]=t[l]),e}),{}))[e]?N({loading:!1,status:"OK",data:t[e].data}):I.current.getPlacePredictions(o({},S.current,{input:e}),(function(i,o){if(N({loading:!1,status:o,data:i||[]}),s&&"OK"===o){t[e]={data:i,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(x,JSON.stringify(t))}catch(l){}}}))}else R()}),d),[d,R]),L=Object(i.useCallback)((function(e,t){void 0===t&&(t=!0),E(e),I.current&&t&&M(e)}),[M]);return Object(i.useEffect)((function(){if(!p)return function(){return null};var e=window.google;return A.current||null!=e&&e.maps||!v?_():window[v]=_,function(){window[v]&&delete window[v]}}),[v,_]),{ready:h,value:C,suggestions:D,setValue:L,clearSuggestions:R,clearCache:y,init:_}},d=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(l,i){t.geocode(e,(function(t,o){"OK"!==o&&i(o),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),l(t)),l(t)}))}))},r=function(e){return new Promise((function(t,l){try{var i=e.geometry.location,o=i.lat,a=i.lng;t({lat:o(),lng:a()})}catch(n){l(n)}}))}},1122:function(e,t,l){"use strict";l.d(t,"b",(function(){return B})),l.d(t,"f",(function(){return W})),l.d(t,"i",(function(){return U})),l.d(t,"c",(function(){return V})),l.d(t,"j",(function(){return Y})),l.d(t,"h",(function(){return J})),l.d(t,"d",(function(){return z})),l.d(t,"e",(function(){return Z})),l.d(t,"g",(function(){return Q})),l.d(t,"a",(function(){return $}));var i=l(16),o=l(106),a=l(92),n=l(270),d=l(6),r=l(46),s=l(24),c=l(0),u=l(5),v=l(15),m=l(2);const{Location_Error:O,errorIcon:b}=v.a,{TAKEAWAY_TITLE:p,TAKEAWAY_CONTENT:f,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:j,DINEIN_CONTENT:g,DINEIN_TOAST_MSG:C,NOSTORE_TITLE:E,NOSTORE_CONTENT:T,NOSTORE_TOAST_MSG:D,CLOSED_STORE_TITLE:N,CLOSED_STORE_CONTENT:I,LOCATION_ALERT_MSG:S,CLOSED_STORE_TOAST_MSG:A}=n.b,{DINE_IN:x,DISTANCE_20000MR:_,START_ORDER_BUTTON:R,BROWSE_MENU_BUTTON:y}=n.a,{SEARCH_ORDER_DATA:M="",SELECTED_TILE_DATA:L="",SCHEDULE_ORDER_TIME_DATA:P="",SET_DISPOSITION:w,USER_LOCALIZED:F,CURRENT_STORE_INFO:G,SCHEDULE_ORDER_TIME_PRESERVE_TIME:k,SET_FORCERELOAD:H}=i.a,B=(e,t,l,i,o,a)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?a(e):o(e,t):null!==e&&void 0!==e&&e.length||i(t,l)},W=function(e,t,l,i,o,a,n,d,r,u,v,m){var O;let b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:p,maxDriveTimeMins:f,geoLocation:h}=b;let j=e.filter((e=>{var t,l,i,o,a,n,d,r,s,c,u,v,m,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(n=a.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(r=d.menu)||void 0===r||null===(s=r.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(O=m.timings)||void 0===O?void 0:O.asap)}));if((null===(O=j)||void 0===O?void 0:O.length)>0){if(p&&a===c.yb){const e={stores:j,numberOfStores:2,disposition:a,distanceMetrics:o,driveTime:f,channel:s.b.channel,isDriveTimeFromAdminPortal:p},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(a,o);j=t}if(d){var g=JSON.parse(localStorage.getItem(c.Hb));g&&(j[0].id!==g.store.id||j[0].service!==g.type?(r(!0),l(!1),v(j[0])):l(!1))}else t(j[0])}else m(!0),u(a,o)},U=(e,t,l,i,o,a)=>{var n,d;t({type:w,value:{oldvalue:e,newValue:{type:i,store:o,date:a.date,time:a.time,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:null===l||void 0===l||null===(n=l.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:i,store:o,date:a.date,time:a.time,selectedTime:a.selectedTime,interval:a.interval,deliveryAddress:null===l||void 0===l||null===(d=l.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:M,value:{showSearchStore:!1}}),t({type:F,value:{isLocalized:!0}})},V=(e,t,l,o)=>{const{SCHEDULE_ORDER_DATA:a,DISPOSITION_METHOD:n}=i.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:r,CURRENT_STORE_INFO_STORAGE:s,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:O}=c.gd;let b={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:w,value:{oldvalue:b,newValue:b}}),localStorage.removeItem(v),localStorage.removeItem(r),e({type:P,value:{selectedDateTime:{}}}),e({type:k,value:{}}),localStorage.removeItem(m),localStorage.removeItem(O),l(t({...o,localized:!1})),e({type:F,value:{isLocalized:!1}}),e({type:a,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:n,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(s),e({type:G,value:{}})},Y=(e,t,l,i,o)=>{e({type:L,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),e({type:G,value:i}),e({type:P,value:{selectedDateTime:l}}),e({type:k,value:{selectContentTime:"ASAP"}}),e({type:H,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(o)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(l)),localStorage.setItem("savedTimeOrder","ASAP")},K=(e,t,l,i)=>{let o="";return e?o=i===x?Object(d.translateWithI18Next)(j):Object(d.translateWithI18Next)(p):l?o=Object(d.translateWithI18Next)(E):t&&(o=Object(d.translateWithI18Next)(N)),o},q=(e,t,l,i)=>{let o="";return e?o=i===x?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(f):l?o=Object(d.translateWithI18Next)(T):t&&(o=Object(d.translateWithI18Next)(I)),o},J=(e,t,l,i,o,a,n,r)=>{let s="";return e?(a(!1),s=i===x?Object(d.translateWithI18Next)(C):Object(d.translateWithI18Next)(h)):l?(n(!1),s=Object(d.translateWithI18Next)(D)):t&&(r(!1),s="".concat(Object(d.translateWithI18Next)(A)," ").concat(X(null===o||void 0===o?void 0:o.from)," to ").concat(X(null===o||void 0===o?void 0:o.to))),s},X=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function z(e,t,l,i,n,d,r,s,c,u,v){const b={HEADER_MSG:{MSGTXT1:K(l,i,n,d)},CONTENT_MSG:q(l,i,n,d)};return(l||i||n)&&Object(m.jsx)(o.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(a.a,{splitTitle:b.HEADER_MSG,contentMsg:b.CONTENT_MSG,imageSrc:O,altText:"location-error",confirmButtonText:y,cancelButtonText:l?R:null,cancelHandler:l?t:null,confirmHandler:()=>{e(i,n)}})})}const Z=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(r.a,{srcFile:b,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(S)})]})}),Q=async()=>(await s.b.BindLocation(),s.b.address&&s.b.coordinates),$=e=>e.filter((e=>{var t,l;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)}))},1129:function(e,t,l){"use strict";l.d(t,"a",(function(){return T}));var i=l(3),o=l.n(i),a=l(1130),n=l(411),d=l(16),r=l(210),s=l(2);var c=e=>Object(s.jsx)(r.a,{importPath:"CONTENT_DISPOSITION_ITEMS",...e}),u=l(1157),v=l(5),m=l(1108),O=l(85),b=l(0),p=l(62),f=l(28),h=l(133),j=l(73),g=l(1122),C=l(55),E=l(399);const T=e=>{var t,l,T,D,N,I,S,A,x;const{userParams:_,contentData:R,showHeader:y=!0,hideTimeslot:M,showCateringDisposition:L}=e,{DISPOSITION_DATA:P,SCHEDULE_ORDER_DATA:w,DISPOSITION_METHOD:F,SHOW_CLEAR_CART_ALERT:G,SEARCH_ORDER_DATA:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:H,clearCartExposedFlag:B,searchStoreAlertTitle:W,CURRENT_STORE_INFO:U,SET_FIND_A_KFC_VIEW:V,ORDER_SUMMARY_MODAL_CLOSE:Y,SCHEDULE_ORDER_CLICKED:K,SHOW_SCHEDULE_DISPOSITION:q}=d.a,{segmentedHomePageData:J=[]}=R,{headline:X=[],supportedDispositions:z=[]}=J,Z=e.contentData&&Object(n.b)(X,z)||{},Q=(null===(t=e.contentData)||void 0===t?void 0:t.contentDispositionData)&&Object(v.Td)(e.contentData.contentDispositionData)&&Object(u.c)(e.contentData.contentDispositionData)||{},{userOrderState:$,userOrderStateDispatch:ee}=Object(i.useContext)(O.a)||{},te=localStorage.getItem(b.gd.SERVICE_TYPE),le=null===te||void 0===te?void 0:te.toUpperCase();let{enableAddressLocalisation:ie=!1}=Object(f.c)((e=>Object(v.sd)(e.tenantReducer)));ie=void 0!==$.enableAddressLocalisation?$.enableAddressLocalisation:ie;const oe=null===$||void 0===$||null===(l=$.dispositionStateData)||void 0===l||null===(T=l.dispositionType)||void 0===T?void 0:T.toUpperCase(),ae=(null===$||void 0===$||null===(D=$.scheduleOrderData)||void 0===D?void 0:D.changeFlow)||!1,ne=oe&&!ae?oe===b.Lb.DELIVERY:le===b.Lb.DELIVERY,de=ie&&ne,{cartData:re={}}=Object(f.c)((e=>e.cartReducer)),[se,ce]=Object(i.useState)(y),ue=Object(E.c)(),ve=ae?JSON.parse(localStorage.getItem(b.gd.SELECTED_ADDRESS)):{},me=(null===$||void 0===$||null===(N=$.scheduleOrderData)||void 0===N?void 0:N.selectedAddress)||ve,Oe=null===me||void 0===me?void 0:me.deliverySearchType,be=Oe?ue.find((e=>e.id===Oe)):ue[0],[pe,fe]=Object(i.useState)(be),he=Object(p.h)(),je=Object(f.b)(),ge=null===(I=localStorage)||void 0===I?void 0:I.getItem("guestActiveOrders");let Ce=[];try{Ce=JSON.parse(ge)}catch(Ie){Ce=[]}Ce=Object(m.d)(Ce,null===_||void 0===_?void 0:_.loggedIn);const Ee=Object(i.useCallback)((()=>{var e;return(_.loggedIn||(null===(e=Ce)||void 0===e?void 0:e.length)>0&&!(null!==_&&void 0!==_&&_.loggedIn))&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACCOUNT||(null===he||void 0===he?void 0:he.pathname)===b.Ce.ACTIVE_ORDERS)||sessionStorage.getItem(b.Ne.PICKUP_ORDER_CANCELLED)&&((null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME||(null===he||void 0===he?void 0:he.pathname)===b.Ce.HOME_PAGE)}),[null===he||void 0===he?void 0:he.pathname,_.loggedIn]);Object(i.useEffect)((()=>{Ee()||(ce(!0),sessionStorage.removeItem(b.Ne.PICKUP_ORDER_CANCELLED))}),[_.localized,Ee()]),Object(i.useEffect)((()=>{var e;null!==$&&void 0!==$&&null!==(e=$.dispositionStateData)&&void 0!==e&&e.showDisposition&&fe(ue[0])}),[null===$||void 0===$||null===(S=$.dispositionStateData)||void 0===S?void 0:S.showDisposition]);const Te=Object(s.jsx)(r.a,{importPath:"START_ORDER_ITEMS",contentData:Z,clickHandler:()=>{Object(n.c)(),ee({type:V,value:{findAKFC:!1}}),ee({type:k,value:{showSearchStore:!1}}),ee({type:Y,orderSummaryModalClose:!0}),localStorage.setItem(b.gd.RETAIN_ADDRESS,""),L?(Object(C.o)(),ee({type:k,value:{showSearchStore:!0,configSearchScreen:h.c}}),localStorage.setItem(b.gd.CONFIG_SEARCH_SCREEN,h.a),ee({type:F,value:{dispositionType:b.Jb.CATERING}}),je(Object(j.u)())):Object(v.Wd)(null===he||void 0===he?void 0:he.pathname)?(ee({type:P,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),ee({type:k,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):ee({type:P,value:{showDisposition:!0}})}}),De=()=>{if(Ee())return Object(s.jsx)(r.a,{...e,testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:ce,isHeaderTrackOrderEnabled:Ee})},Ne=Object(s.jsx)(c,{contentData:Q,clickHandler:(e,t)=>{e.preventDefault(),e.stopPropagation(),ee({type:V,value:{findAKFC:!1}}),ee({type:k,value:{showSearchStore:!1}}),ee({type:w,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,changeFlow:!0}}),ee({type:U,value:t}),ee({type:q,value:{showSheduleDisposition:!1}}),ee({type:K,value:{scheduleModeClicked:!1}}),ee({type:d.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),ee({type:d.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}})},selectedInfo:$,hideTimeslot:M,showBlackStripeContent:se,headerTrackOrder:De,activeDisposition:le,dispositionChange:(e,t)=>{let l="";var i;if(e.stopPropagation(),e.preventDefault(),Object(u.b)(t),l=t.trim(),null!==b.Kb&&void 0!==b.Kb&&b.Kb.includes(l.toUpperCase()))if(ee({type:F,value:{dispositionType:l}}),(null===re||void 0===re||null===(i=re.foodLines)||void 0===i?void 0:i.length)>0){let e={flag:B,onConfirm:W};Object(v.Fe)(ee,e,G,H)}else ee({type:k,value:{showSearchStore:!0}})}});return Object(s.jsx)(o.a.Fragment,{children:Object(s.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[y&&(()=>{let e=Te;if(Ee()&&(e=se?Object(s.jsxs)("div",{children:[Te," ",De()]}):De()),!Object(v.le)()&&Object(v.Td)(Q)&&_.localized)e=Ne;else if(_.localized){const t=Object(v.Sd)($.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):$.dispositionNew;t&&Object(v.Td)(t.store||{})?e=Ne:Object(v.w)()}return e})(),$.showLocationBlockBanner&&Object(g.e)(),(null===$||void 0===$||null===(A=$.dispositionStateData)||void 0===A?void 0:A.showDisposition)&&Object(s.jsx)(a.a,{}),!(null!==$&&void 0!==$&&$.findAKFC)&&(null===$||void 0===$||null===(x=$.searchStoreData)||void 0===x?void 0:x.showSearchStore)&&Object(s.jsx)(r.a,{importPath:de?"DELIVERY_ADDRESS_SEARCH_FORM":"SEARCH_STORE_TEMPLATE",deliverySearchType:pe,setDeliverySearchType:fe,onStoreSelectFinish:C.y}),(null===$||void 0===$?void 0:$.scheduleOrderData.showScheduleOrderCatering)&&Object(s.jsx)(r.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:C.y})]})})}},1130:function(e,t,l){"use strict";l.d(t,"a",(function(){return L}));var i=l(3),o=l.n(i),a=l(62),n=l(28),d=l(73),r=l(5),s=l(35),c=l(6),u=l(41),v=l(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:l,setRef:i=null}=e,{contentText:a="",infoObject:n=null,orderTypes:d=[]}=t,r=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{l(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:a}),n&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:n.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:l,"data-testid":"form-component",children:r})]})})},O=l(144),b=l(55);var p=e=>{Object(i.useEffect)((()=>{Object(b.o)()}),[]);const{handleClose:t,DispositionModuleForm:l,headerText:a,modalTitleId:n=""}=e;return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsx)(O.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:n,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:l})})},f=l(21),h=l(9),j=l(0),g=l(407),C=l(16);const E=(e,t)=>{const l=[];for(const a of e){var i,o;const e=null===a||void 0===a||null===(i=a.fields)||void 0===i||null===(o=i.name)||void 0===o?void 0:o.split("-"),n=e[e.length-1].trim().toUpperCase();if(t&&null!==n&&void 0!==n&&n.includes(g.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:r=!1,name:s,showOption:c=!0,id:u="",dispositionType:v}=a.fields;l.push({buttonText:d,selectDefault:r,type:s,showOption:c,id:u,dispositionType:v})}return l},T=e=>{const{headline:t="",subHeadline:l="",subHeadlineType:i="",title:o=""}=e[0].fields||{};return{modalHeaderText:o,contentText:t,infoObject:{type:i,infoText:l}}},D=(e,t,l,i)=>{var o;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:a,SHOW_CLEAR_CART_ALERT:n}=C.a;null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length&&!i?Object(r.Fe)(t,{},n,a,l):l()};var N=l(85),I=l(24),S=l(113),A=l(92),x=l(236),_=l(1103),R=l(158),y=l(133),M=l(52);var L=e=>{const{CURRENTLY_CLOSED:t,SORRY:l}=_.a,{userOrderState:o,userOrderStateDispatch:u}=Object(i.useContext)(N.a),{contentData:O={}}=o.dispositionStateData,L=Object(n.c)((e=>e.tenantReducer)),{tenantId:P,disableOrderTypeAnalytic:w,isSpecialEventEnabled:F,enableDeliveryMenuOption:G}=L,{deeplinkSelectedStoreId:k,deepLinkStoreMode:H,isDeepLinkURL:B}=o,W=Object(r.Td)(O)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:l=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:o=[],supportedDispositions:a=[]}=i,n={modalHeaderText:"",modalContent:{}},d=l?a:a.filter((e=>{var t,l;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(l=t.dispositionType)||void 0===l?void 0:l.toUpperCase())!==j.Cf}));n.modalContent.orderTypes=E(d,t);const{modalHeaderText:r,contentText:s,infoObject:c}=T(o);return n.modalHeaderText=r,n.modalContent.contentText=s,n.modalContent.infoObject=c,n}({dispositionData:O,deepLinkStoreMode:H,isSpecialEventEnabled:F,enableDeliveryMenuOption:G});let{modalContent:U={},modalHeaderText:V=""}=W;const{SEARCH_ORDER_DATA:Y,MENU_URL:K,DISPOSITION_DATA:q,CURRENT_STORE_INFO:J,SCHEDULE_ORDER_TIME_DATA:X,SELECTED_TILE_DATA:z,DISPOSITION_METHOD:Z,ADD_TO_CART_CLICK:Q,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:le,SET_REDIRECTION_PATH:ie}=C.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:oe,TYPE_TAKE_WAY:ae,TYPE_DELIVERY:ne,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:re,INVALID_QR_TEXT:se,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:Oe}=g.a,{ENABLE_ADDRESS_LOCALISATION:be,SHOW_MAP_VIEW_BUTTON:pe}=M.a,fe=o&&o.dispositionStateData&&o.dispositionStateData.dispositionType?o.dispositionStateData.dispositionType:null;let he="";const je=Object(r.Sd)(o.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):o.dispositionNew,ge=Object(n.b)(),Ce=Object(a.g)(),[Ee,Te]=Object(i.useState)(""),[De,Ne]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ie={},qrCodeScanTime:Se}=Object(n.c)((e=>e.cartReducer)),{customerId:Ae=""}=Object(n.c)((e=>e.profileReducer));let xe=Object(n.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:_e=[],isStoreStatusLoading:Re,selectedStoreDetailsDL:ye={}}=Object(n.c)((e=>Object(r.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Me}}=g.a;Object(i.useEffect)((()=>{ge(Object(d.u)()),ge(Object(d.t)()),ge(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:j.Ce.HOME_PAGE}))})(H,Ce)}),[ge]);const Le=Object(i.useCallback)(((e,t)=>{e.stopPropagation();D(Ie,u,(()=>{Ne({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Me,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Me,u,Ie]);Object(i.useEffect)((()=>{H&&ge(Object(d.l)({storeId:k,tenantId:P},null,(()=>{Ne({showError:!0,errMsg:Object(c.translateWithI18Next)(se),errDesc:null,buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Le(e,!1)})})))}),[re,se,H,k,ge,P]);const Pe=(e,t,l,i)=>{e.stopPropagation(),e.preventDefault();const o=t.split("-");if(he=o[o.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=oe),i&&(he=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(r.h)(e.selectedDispositionType)}),await f.a.registerEvent(void 0,{data:t[0]},r.Bb)})({selectedDispositionType:he}),H){const e={data:[{storeId:k,channel:I.b.channel,service:j.fe},{storeId:k,channel:I.b.channel,service:j.Eb}],store:[{...ye,service:j.fe},{...ye,service:j.Eb}],tenantId:P,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Te(he),ge(Object(d.d)(e)),u({type:Z,value:{dispositionType:he}})};D(Ie,u,t,l)}else[oe,ae,ne,de].includes(he.toUpperCase())&&(u({type:le,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:y.a}}),localStorage.setItem(j.gd.CONFIG_SEARCH_SCREEN,y.a),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{dispositionType:he}}),u({type:be,value:void 0}),u({type:pe,value:void 0}),localStorage.removeItem(null===j.gd||void 0===j.gd?void 0:j.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:a=!1,loggedIn:n=!1}=xe,s=Object(r.od)(a,n);((e,t)=>{var l;t||Object(b.p)(null===h.a||void 0===h.a||null===(l=h.a.selectOrderType)||void 0===l?void 0:l.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(r.h)(he),"%userType%":s},w)},we=async(e,t)=>{const l=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(r.Mb)(t)));if(null!==l&&void 0!==l&&l.length){var i,a,n,d,v,m,O,p,f,h,g,C,E;const e={time:"ASAP",interval:null===l||void 0===l||null===(i=l[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(r.nb)(ge,!0,Se,null===l||void 0===l?void 0:l[0],Object(r.Mb)(t),Ae,e);ge(Object(s.f)({data:c,tenantId:P})),u({type:$,value:{oldvalue:je,newValue:{store:null===l||void 0===l?void 0:l[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(a=o.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(je)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===l||void 0===l?void 0:l[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress})),Object(r.ze)(null===l||void 0===l||null===(d=l[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(O=m.address)||void 0===O||null===(p=O.addressLines)||void 0===p?void 0:p[0],R.a.ALREADY_SERACHED_LOCATIONS),Object(r.vf)();const j={storeID:null===l||void 0===l||null===(f=l[0])||void 0===f?void 0:f.id,disposition:t,postCode:null===l||void 0===l||null===(h=l[0])||void 0===h||null===(g=h.addresses)||void 0===g||null===(C=g[0])||void 0===C||null===(E=C.address)||void 0===E?void 0:E.pinCode};Object(b.y)(j),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let l=e||null;u({value:{selectedData:{}},type:z}),localStorage.setItem("currentStoreInfo",JSON.stringify(l)),u({value:l,type:J}),ge(Object(S.a)({...xe,localized:!0})),u({value:{selectedDateTime:t},type:X}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Me,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",fe),localStorage.setItem("tenantReducer",JSON.stringify(L)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(l)),localStorage.setItem("savedTimeOrder","ASAP"),Ce.push({pathname:"".concat(K)})})(null===l||void 0===l?void 0:l[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===oe?Ne({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(me),buttonCTA:e=>Pe(e,j.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ae&&Ne({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>Pe(e,j.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(_e.length>0&&!Re&&Ee&&H){var e,i,o;((e,i)=>{null!==e&&void 0!==e&&e.length?we(e,fe):Ne({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(l)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Le(e,!0)})})(null===_e||void 0===_e?void 0:_e.filter((e=>{var t,l,i,o,a,n,d,r,s,c,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(n=a.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===_e||void 0===_e||null===(e=_e[0])||void 0===e||null===(i=e.name)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value)}}),[_e,Re,H]);const Fe=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Q,value:{addToCart:!1}}),u({type:Me,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:le,value:{findAKFC:window.location.pathname===j.Ce.FIND_STORE}}),B&&Object(r.Bd)(Ce)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Fe(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ge=Object(v.jsx)(m,{modalContent:U,onDispositionMethodSubmit:Pe}),ke=Object(v.jsx)(p,{handleClose:Fe,DispositionModuleForm:Ge,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===De||void 0===De?void 0:De.showError)&&Object(v.jsx)(x.a,{handleClose:null,CartAlertForm:Object(v.jsx)(A.a,{title:null===De||void 0===De?void 0:De.errMsg,contentMsg:null===De||void 0===De?void 0:De.errDesc,confirmButtonText:null===De||void 0===De?void 0:De.buttonText,confirmHandler:null===De||void 0===De?void 0:De.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),ke]})}},1152:function(e,t,l){"use strict";l.d(t,"b",(function(){return i})),l.d(t,"a",(function(){return o}));const i="outOfService",o="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1157:function(e,t,l){"use strict";l.d(t,"c",(function(){return c})),l.d(t,"a",(function(){return u})),l.d(t,"b",(function(){return v}));var i=l(12),o=l(1152),a=l(6),n=l(5),d=l(120),r=l(21),s=l(0);const c=e=>{var t,l,i,o,a,n,d,r;const{url:s=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(l=t.fields)||void 0===l||null===(i=l.desktopImage)||void 0===i||null===(o=i.fields)||void 0===o?void 0:o.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(a=e.headline[0])||void 0===a||null===(n=a.fields)||void 0===n||null===(d=n.desktopImage)||void 0===d?void 0:d.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(r=e.headline[1])||void 0===r?void 0:r.fields)||{},{supportedDispositions:m=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:m.map((e=>e.fields)),src:s,alt:c}},u=(e,t,l)=>{var r,s,c,u,v;const m=(null===t||void 0===t||null===(r=t.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus)||o.a,{futureDates:O,scheduled:b,asap:p}=Object(n.sd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:f}=Object(n.sd)(b),{interval:h=0,startEndTime:j={}}=Object(n.sd)((null===b||void 0===b||null===(u=b.periods)||void 0===u?void 0:u.length)&&(null===b||void 0===b?void 0:b.periods[0])),{from:g,to:C}=Object(n.sd)(j);let E=Object(d.j)(g,C,h,null===p||void 0===p?void 0:p.isAvailable,1===(null===O||void 0===O?void 0:O.length)&&"INDIA"===(null===l||void 0===l||null===(v=l.country)||void 0===v?void 0:v.toUpperCase()),f);if(m===o.a&&!E.length||null===e||void 0===e||!e.time)return Object(a.translateWithI18Next)(o.b);const T=e.time,D=e.interval,N="object"==typeof e.date?e.date:new Date(e.date),I=Object(i.R)(Object(i.h)(N,"YYYY-MM-DD")+" "+T,"YYYY-MM-DD hh:mm A"),S=Object(i.a)(I,D,"minutes"),A=Object(i.k)(S,"LT");return"ASAP"===T?"".concat(T):"".concat(T," - ").concat(A)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await r.a.registerEvent(void 0,{data:t[0]},n.Bb)},{ORDER_TYPE_STORE_INFO_FROM:m,ORDER_TYPE_STORE_INFO_TO:O,ORDER_TYPE_STORE_INFO_AT:b}=o.c,{DELIVERY:p,DINE_IN:f,PICKUP:h}=s.Jb||{}},961:function(e,t,l){"use strict";l.r(t);t.default={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card",LOGIN_ACTION:"login-actions/registration?client_id=",REDIRECT_PATH_NAME:"redirect_path_name",SIGNOUT:"/signout",OPEN_ID_CONNECT:"/openid-connect/",CODE_CHALLENGE:"code_challenge",CODE_VERIFIER:"code_verifier",REGISTRATIONS:"registrations?"}}}]);