(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[47,8,9,48,91,112],{1070:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return c}));var a=i(3),o=i.n(a),n=i(984),l=i(62),d=i(2);const c=()=>{const e=Object(l.g)();return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)(n.default,{history:e})})}},1095:function(e,t,i){"use strict";i.d(t,"j",(function(){return f})),i.d(t,"k",(function(){return T})),i.d(t,"l",(function(){return C})),i.d(t,"m",(function(){return w})),i.d(t,"e",(function(){return F})),i.d(t,"o",(function(){return U})),i.d(t,"p",(function(){return H})),i.d(t,"n",(function(){return W})),i.d(t,"q",(function(){return B})),i.d(t,"x",(function(){return G})),i.d(t,"u",(function(){return z})),i.d(t,"v",(function(){return V})),i.d(t,"w",(function(){return Y})),i.d(t,"K",(function(){return J})),i.d(t,"I",(function(){return X})),i.d(t,"J",(function(){return Z})),i.d(t,"D",(function(){return $})),i.d(t,"E",(function(){return ee})),i.d(t,"f",(function(){return te})),i.d(t,"g",(function(){return ie})),i.d(t,"G",(function(){return ae})),i.d(t,"y",(function(){return oe})),i.d(t,"z",(function(){return ne})),i.d(t,"H",(function(){return le})),i.d(t,"L",(function(){return ce})),i.d(t,"s",(function(){return re})),i.d(t,"b",(function(){return se})),i.d(t,"d",(function(){return ue})),i.d(t,"c",(function(){return ve})),i.d(t,"C",(function(){return me})),i.d(t,"a",(function(){return be})),i.d(t,"A",(function(){return Oe})),i.d(t,"B",(function(){return je})),i.d(t,"F",(function(){return pe})),i.d(t,"i",(function(){return he})),i.d(t,"h",(function(){return ge})),i.d(t,"t",(function(){return Ie})),i.d(t,"r",(function(){return Se}));var a=i(6),o=i(5),n=(i(1123),i(61)),l=i(262),d=i(0),c=i(4),r=i(1149),s=i(263),u=i(15),v=i(59),m=i(1102),b=i.n(m),O=i(12),j=i(403),p=i(55),h=i(1128),g=i(1165),I=i(1188),N=i.n(I),S=i(2);const f=(e,t,i,a,n,l)=>{let c;if(i){var r,s,u,v,m;const i=null===l||void 0===l?void 0:l[d.gd.VIEW_PRODUCT],c=[T(null===i||void 0===i||null===(r=i.priceDetails)||void 0===r||null===(s=r.find((e=>(null===e||void 0===e?void 0:e.id)===a)))||void 0===s?void 0:s.availability,n)],b=(null===c||void 0===c||null===(u=c[0])||void 0===u?void 0:u.promoPrice)<(null===c||void 0===c||null===(v=c[0])||void 0===v?void 0:v.price)?null===c||void 0===c||null===(m=c[0])||void 0===m?void 0:m.promoPrice:0,O=b?{...null===c||void 0===c?void 0:c[0],price:b}:e;return Object(o.Ec)(O,t,n)||0}return Object(o.Td)(e)&&(c=Object(o.Ec)(e,t,n)||0),c},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=0,a="",n="";if(t||(t=Object(o.Vc)()),e.length>1){const c=Object(o.E)(t),r=t&&Object(O.E)(t,d.Rf);return e.forEach((e=>{const{price:t=0,availableHours:o={},dayOfWeek:{day:l=""}}=e,{startTime:s={},endTime:u={}}=o,v=parseInt(s.time,10),m=parseInt(u.time,10),b=((e,t,i,a,o)=>e>=t&&e<=i&&a>o||i<t&&e<i)(c,v,m,t,i);a=l,n=b,l===d.cc?(v<m&&b||v>m&&(c>=v||c<=m)&&t>i)&&(i=t):l===r&&b&&(i=t)})),a===d.cc?n?e[1]:e[0]:b()(e,[l.a.DAY_OF_WEEK,{day:null===r||void 0===r?void 0:r.toUpperCase()}])}return e[0]},C=(e,t,i,a,n,d,c,r,s)=>{const{id:u,name:v,modgrps:m,availability:b=[]}=Object(o.Pb)(JSON.parse(JSON.stringify(e))),O=n?T(b,n):b[0];let j=null!==d&&void 0!==d&&d.foodLineId&&x(null===d||void 0===d?void 0:d.foodLineId,c,u)&&!a?E(null===d||void 0===d?void 0:d.foodLineId,c):Math.round(f(O,i,a,u,n,r)*i);var p;Object(o.pc)(null===e||void 0===e?void 0:e.modgrps)&&(null===d||void 0===d?void 0:d.flag)!==l.a.CUSTOMISE_FLAG_CART&&s&&(null===e||void 0===e||null===(p=e.modgrps)||void 0===p||p.map((e=>{var t;const i=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));if(Object(o.pc)(i)){var a,n,l,d;let e=null!==(a=null===(n=i[0])||void 0===n||null===(l=n.availability)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.price)&&void 0!==a?a:0;j+=e}})));return{id:u,quantity:null!==t&&void 0!==t?t:0,name:v,basePrice:j,newBasePrice:j,unitPrice:t?j*t:0,modGrps:R(m,i,u)}},x=(e,t,i)=>{var a,o;let n=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:i}=t;return i===e}));return(null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.id)===i},E=(e,t)=>{var i;let a=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((t=>{let{id:i}=t;return i===e}));if(a)return null===a||void 0===a?void 0:a.unitPrice},y=(e,t)=>{e&&null!==t&&void 0!==t&&t.custom&&(t.isDefault=!1,t.quantity=0)},D=e=>{var t;let i=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));return(null===i||void 0===i?void 0:i.length)>1},A=e=>null!==e&&void 0!==e&&e.isInitialDefault?e.isInitialDefault:e.isDefault,_=(e,t,i)=>{var a,o;let n=null===e||void 0===e?void 0:e.filter((e=>{let{id:i}=e;return i===t}));return null===n||void 0===n||null===(a=n[0])||void 0===a||null===(o=a.modifiers)||void 0===o?void 0:o.filter((e=>{let{id:t}=e;return t===i}))},R=(e,t,i)=>{let a={};return null===e||void 0===e||e.forEach(((e,o)=>a[e.id]={id:e.id,name:e.name,parentId:i,modifiers:L(e.modifiers,t,"".concat(i).concat(l.a.HASH_SYMBOL).concat(e.id)),orderIndex:o,min:e.min})),a},P=e=>null!==e&&void 0!==e&&e.quantity?null===e||void 0===e?void 0:e.quantity:null!==e&&void 0!==e&&e.isDefault?null===e||void 0===e?void 0:e.defaultQuantity:0,L=(e,t,i)=>{let a={};return e.forEach((e=>{let n=+Math.round(Object(o.Ec)(e.availability[0],t)*t);a[e.id]={id:e.id,parentId:i,name:e.name,dname:e.dname,quantity:P(e),isSelected:e.isDefault,modGrps:Object(o.pc)(e.modgrps)?R(e.modgrps,t,"".concat(i).concat(l.a.HASH_SYMBOL).concat(e.id)):{},basePrice:n,unitPrice:e.isDefault?e.defaultQuantity*n:0,newQuantity:null,newUnitPrice:null,newSelectedFlag:null,isDefault:e.isAdded?"":e.isDefault,defaultQuantity:e.defaultQuantity,isEditConfirmed:!!e.isEditConfirmed&&e.isEditConfirmed,isExcluded:e.isExcluded,isInitialDefault:null===e||void 0===e?void 0:e.isInitialDefault}})),a},w=e=>{let{id:t,quantity:i}=e;return{id:t,quantity:i,modGrps:M(e.modGrps)}},M=e=>Object.values(e).filter((e=>Object.keys(e.modifiers).length>0)).map((e=>{let{id:t,name:i,orderIndex:a}=e;return{id:t,name:i,modifiers:k(e.modifiers),orderIndex:a}})).sort(((e,t)=>+e.orderIndex-+t.orderIndex)),k=e=>Object.values(e).filter((e=>e.quantity>0&&!e.isExcluded)).map((e=>{let{id:t,name:i,quantity:a,modGrps:o}=e;return{id:t,name:i,quantity:a,modGrps:Object.keys(o).length>0?M(o):[]}})),F=(e,t,i,o)=>{var n,l;const r=e+1,s=null===o||void 0===o?void 0:o[d.gd.PROMO_PRODUCT_CART],m=(null===i||void 0===i?void 0:i.id)||(null===i||void 0===i?void 0:i.foodItemId);var b;if(r===(null!==i&&void 0!==i&&i.maxQuantity?+(null===i||void 0===i?void 0:i.maxQuantity):+(null===s||void 0===s||null===(n=s.promoParams)||void 0===n||null===(l=n.find((e=>(null===e||void 0===e?void 0:e.itemId)===m)))||void 0===l?void 0:l.maxQuantity))&&t)return Object(v.b)(Object(S.jsxs)("div",{"data-testid":"validate-toast",className:"img-text-container",children:[Object(S.jsx)("div",{className:"image",children:Object(S.jsx)(j.a,{srcFile:u.a.ErrorImage})}),Object(S.jsx)("span",{className:"text",children:Object(a.translateWithI18Next)(c.a.MAX_ORDER_PROMO)})]}),{bodyClassName:"pdp-promo-toast",className:"pdp-promo-toast-container err-toast",hideProgressBar:!0,position:null===v.b||void 0===v.b||null===(b=v.b.POSITION)||void 0===b?void 0:b.BOTTOM_CENTER,closeButton:!1,autoClose:!0})},U=(e,t,i,a)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===i)))||void 0===n?void 0:n.maxQuantity);return e||a}return a},H=(e,t,i,a)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===i)))||void 0===n?void 0:n.minQuantity);return e||a}return a},W=(e,t,i,a)=>{if(e){var o,n;const e=+(null===t||void 0===t||null===(o=t.promoParams)||void 0===o||null===(n=o.find((e=>(null===e||void 0===e?void 0:e.itemId)===i)))||void 0===n?void 0:n.quantity);return e||a}return a},B=(e,t)=>{const i=t.includes(l.a.HASH_SYMBOL)?t.split(l.a.HASH_SYMBOL):[t];if(Object(o.pc)(i)&&0!==(null===e||void 0===e?void 0:e.length)&&Object(o.pc)(Object.keys(null===e||void 0===e?void 0:e.modGrps))){let t=e;return i.forEach(((e,i)=>{var a,o;i%2===0?t=null===(a=t)||void 0===a?void 0:a.modGrps[e]:t=null===(o=t)||void 0===o?void 0:o.modifiers[e]})),t}return!1},G=(e,t)=>{let i=B(e,t);return Object(o.Td)(i)?null===i.newQuantity&&i.quantity||i.newQuantity:null},z=(e,t)=>{let i=B(e,t);return Object(o.Td)(i)?null===i.newSelectedFlag?i.isSelected:i.newSelectedFlag:null},V=(e,t)=>{let i=B(e,t);return Object(o.Td)(i)?i.isEditConfirmed:null},Y=(e,t,i)=>{let a=B(e,t);return Object(o.Td)(a)?q(a,i):0},q=(e,t)=>{let i=Q(e.modGrps,[e]);return 0===i.length?0:i.filter((t=>!0===((null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.isSelected)))).reduce(((i,a)=>{let o=(null===a||void 0===a?void 0:a.id)===(null===e||void 0===e?void 0:e.id)?t:null===e||void 0===e?void 0:e.quantity;return i+(null===a||void 0===a?void 0:a.basePrice)*o}),0)},Q=(e,t)=>{let i=[];return Object(o.Td)(e)&&(i=Object.values(e).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})),i.forEach((e=>(t.push(e),Object(o.Td)(e.modGrps)?Q(e.modGrps,t):Q({},t))))),t},K=(e,t,i,a)=>{const n=t.split(l.a.HASH_SYMBOL),{quantityKey:d,unitPriceKey:c,isSelectedKey:r}=a,s=B(e,t);if(Object(o.pc)(n)&&e&&Object(o.pc)(Object.keys(e.modGrps))){let t=null;switch(n.length){case 2:t=e.modGrps[n[0]].modifiers[n[1]];break;case 4:t=e.modGrps[n[0]].modifiers[n[1]].modGrps[n[2]].modifiers[n[3]]}t[d]=i,t[c]=i?i*s.basePrice:s.basePrice,t[r]=!!i}return e},J=(e,t,i)=>K(e,t,i,{quantityKey:"newQuantity",unitPriceKey:"newUnitPrice",isSelectedKey:"newSelectedFlag"}),X=(e,t,i)=>K(e,t,i,{quantityKey:"quantity",unitPriceKey:"unitPrice",isSelectedKey:"isSelected"}),Z=(e,t)=>{const i=t.split(l.a.HASH_SYMBOL),a=e.modGrps[i[0]].modifiers[i[1]];let n=!1;return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{let t=Object(o.ad)(e.isInitialDefault,e.defaultQuantity,0);(Object(o.j)([null!==e.newQuantity,e.newQuantity!==e.quantity,e.newQuantity!==t])||Object(o.hb)(null==e.newQuantity,e.quantity!==t)||Object(o.j)([null!==e.newQuantity,e.newQuantity===e.quantity,e.newQuantity!==t]))&&(n=!0),null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&e.newQuantity!==e.quantity&&(e.quantity=e.newQuantity,e.unitPrice=e.newUnitPrice,e.isSelected=e.newSelectedFlag)})),a.isEditConfirmed=n,e.basePrice=e.newBasePrice,e.unitPrice=e.newBasePrice*e.quantity,e},$=(e,t)=>{const i=t.split(l.a.HASH_SYMBOL),a=e.modGrps[i[0]].modifiers[i[1]];return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&(e.newQuantity=e.newUnitPrice=e.newSelectedFlag=null)})),e.newBasePrice=e.basePrice,e},ee=(e,t)=>{const i=t.split(l.a.HASH_SYMBOL),a=e.modGrps[i[0]].modifiers[i[1]];if(Object(o.pc)(Object.values(a.modGrps))){Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{e.isSelected=e.isDefault,e.quantity=e.isDefault?e.defaultQuantity:0,e.unitPrice=e.isDefault?e.defaultQuantity*e.basePrice:0})),a.isEditConfirmed=!1}return e},te=(e,t)=>{const i=t.split(l.a.HASH_SYMBOL),a=e.modGrps[i[0]].modifiers[i[1]];return Object.values(a.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).some((e=>null!==e.newQuantity&&e.newQuantity!==e.quantity))},ie=(e,t)=>{var i;const a=null===t||void 0===t||null===(i=t.modGrps)||void 0===i?void 0:i[e];if(Object(o.Td)(a)){return Object.values(a.modifiers).some((e=>e.isInitialDefault&&!e.isSelected||e.isSelected&&e.isEditConfirmed))}return!1},ae=(e,t,i)=>{let{price:a,flag:o}=t;const{BASEPRICE:d,NEWBASEPRICE:c}=l.a,{QUANTITY_ACTION:r}=n.a;let s=i?c:d,u=e[s],v=o===r.Increase?u+a:u-a,m={...e,[s]:v,unitPrice:s===d?e.quantity*v:e.unitPrice};return s===d&&(m.newBasePrice=v),m},oe=(e,t,i,n,l,r)=>{var s,v,m;const b=null===r||void 0===r||null===(s=r.componentOptions)||void 0===s||null===(v=s.web)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.showNoWordWhenModifierOutOfStock,{NO:O}=c.a;let p=B(e,t);if(p&&Object(o.pc)(Object.keys(p))){const e=Object.values(null===p||void 0===p?void 0:p.modifiers);let t=n?e:(e=>e.filter((e=>(null===(null===e||void 0===e?void 0:e.newQuantity)?null===e||void 0===e?void 0:e.quantity:null===e||void 0===e?void 0:e.newQuantity)>=1)))(e),o=[];return t.map(((e,t)=>{let{name:c,quantity:r,newQuantity:s,basePrice:v,newUnitPrice:m,isExcluded:p}=e,h=null!==s?s:r,g=null!==m?m:v*h;return h>0?null===o||void 0===o||o.push(t):o.filter((e=>e!==t)),Object(S.jsxs)("span",{children:[(null===o||void 0===o?void 0:o.length)>1&&!!h&&Object(S.jsx)("span",{children:","})," ",p&&Object(S.jsxs)("span",{children:[Object(S.jsx)(j.a,{srcFile:u.a.Error_Yellow,className:"location-alert-icon mr-1"}),b&&"".concat(Object(a.translateWithI18Next)(O))," ",c," ",b&&"(-)"]}),!p&&Object(S.jsxs)(S.Fragment,{children:[h>1&&Object(S.jsxs)("span",{children:[" ",h,"x "]}),h>0&&c,0!==g&&h>0&&Object(S.jsxs)("span",{children:[" ","(+ ",l+(g/i).toFixed(d.gg),")"]}),0===h&&!!r&&n&&Object(S.jsxs)("span",{children:[b&&"".concat(Object(a.translateWithI18Next)(O))," ",c," ",b&&"(-)"," "]})]})]})}))}},ne=function(e,t,i,n){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const{INEXTRAS:c}=l.a;let r=B(e,t);if(r&&Object(o.Td)(r)&&Object(o.Td)(null===r||void 0===r?void 0:r.modGrps)){let e=Object.values(null===r||void 0===r?void 0:r.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).filter((e=>e.quantity>0)).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.basePrice)*(null===t||void 0===t?void 0:t.quantity)}),0);return 0!==e&&" (+ ".concat(n).concat((e/i).toFixed(d)," ").concat(Object(a.translateWithI18Next)(c),")")}return 0!==r.basePrice&&"(+ ".concat(n).concat((r.basePrice*r.quantity/i).toFixed(d),")")},le=e=>{var t;let{pdpPayloadData:i,forModal:a,modgrps:l,getPayloadUpdated:d,modifierPrice:c,isL3Custom:r,getUpdatedPrice:s,userOrderState:u,flag:v}=e;const{QUANTITY_ACTION:m}=n.a;let b=null===u||void 0===u||null===(t=u.sopacPDPCustomization)||void 0===t?void 0:t.updatedPrice;return Object(o.Td)(i)&&!a&&(Object(o.pc)(l)||(d=ae(i,{price:c,flag:v},r)),r&&(s=v===m.Decrease?b-c:b+c)),{getPayloadUpdated:d,getUpdatedPrice:s}},de=(e,t)=>N()(t)?{valueToDisplay:e,valueToCount:t}:{valueToDisplay:e,valueToCount:e},ce=(e,t)=>{const{modgrpMax:i,modgrpMin:a,modifierMax:n,modifierMin:l,modgrpCount:d,itemCount:c,SET_PDP_BUTTON_DISABLED:s,userOrderStateDispatch:u,userOrderState:v,modgrpId:m,pdpCateringItemQuantityLimit:b}=t;let O=Number(e.target.value),j=e.target.value;if(!isNaN(O)&&N()(O)){if(Object(o.hb)(""===j,i))return Object(r.b)(d-c,a,s,u,v,m),de(j,l);if(""===j)return de(j);if(j=+j,j>b)return de(!1);if(void 0!==i){let e=d-c+j,t=i-e,l=n-j;if(t<0){let t=i-d+c;Object(r.b)(e,a,s,u,v,m);let l=Object(o.ad)(t<=n,t,n);return de(l)}if(t>=0)return Object(r.b)(e,a,s,u,v,m),de(l>=0?j:n)}return de(j)}return de(!1)},re=e=>Object(o.ad)(Object(o.Hd)(e),"","retail-item-qty"),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o.pc)(e)?null===e||void 0===e?void 0:e.map(((i,n)=>{var l;let c;return c=t&&i.url===d.Vd.COUPON?d.Ce.PROMOS_REWARDS_PAGE:Object(o.ad)(0===n,"/".concat(i.url),"/".concat(e[0].url,"/").concat(i.url)),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s.a,{"data-testid":"pdp-links-".concat(i.text),className:"pdp-anchor-link",href:c,children:Object(a.translateWithI18Next)(null===i||void 0===i||null===(l=i.text)||void 0===l?void 0:l.toLowerCase())}),Object(S.jsx)("span",{children:Object(o.ad)(n===e.length-1,""," > ")})]})})):Object(S.jsx)(S.Fragment,{})},ue=(e,t)=>{var i;let a=!1;const n=null===t||void 0===t||null===(i=t.modGrps)||void 0===i?void 0:i[e];if(Object(o.Td)(n)){const e=Object.values(null===n||void 0===n?void 0:n.modifiers);a=(null===n||void 0===n?void 0:n.min)>0&&(e.some((e=>e.isSelected&&(null===e||void 0===e?void 0:e.isExcluded)))||e.every((e=>!e.isSelected)))}return a},ve=e=>{let t=!1,i=null===e||void 0===e?void 0:e.modGrps;for(let l in i){var a,o;if(t=ue(null===(a=i[l])||void 0===a?void 0:a.id,e),t)return!0;let d=null===(o=i[l])||void 0===o?void 0:o.modifiers;for(let e in d){var n;if(null!==d&&void 0!==d&&null!==(n=d[e])&&void 0!==n&&n.isSelected&&(t=ve(null===d||void 0===d?void 0:d[e]),t))return!0}}return t},me=(e,t)=>{e?Object(o.Re)({history:t}):Object(o.Ze)({history:t})},be=function(e,t,i,a,o,n){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";null!==t&&void 0!==t&&t.id&&e&&Object(p.f)(i,a,null===t||void 0===t?void 0:t.totalAmount,o,l,n)},Oe=e=>{const{modgrpMax:t,selectedProduct:i,modgrpMin:a,name:n,size:l,location:d,setInitialRender:c,savedModifierHandler:r,setSelectedProduct:s,cardData:u,savedModifiers:v,userOrderState:m,userOrderStateDispatch:b,modGrpName:O,pdpPayloadData:j,objPath:p,isModal:g}=e;if(Object(o.jb)(Object(o.hb)(1===t,!i),0===a)){let e={name:n,size:l},I=Object(o.Ab)(d.pathname),N={analyticsObjectData:e,currLocationInfo:I};c(!1),Object(h.c)(e,I,N,a,t,i,r,s,u,v,m,b,O,j,p,g,!1)}},je=(e,t,i)=>{e.preventDefault();let a=ce(e,{pdpCateringItemQuantityLimit:t}).valueToCount;!1!==a&&i(a);const o=e.target.selectionStart,n=e.target;window.requestAnimationFrame((()=>{n.selectionStart=o,n.selectionEnd=o}))},pe=e=>{const{productDetails:t,currentItemObject:i,prodURL:a,product_name:n,pdpDataForUpdateFoodLine:d,cartData:c,prodName:r,prodItems:s,pdpPromoPage:u,setPdpData:v,userOrderStateDispatch:m,setMakeItAComboData:b,setRecommendationData:O,setAddOnRecommendedData:j,setCurrentPDPProduct:p,setProdQuantity:h,setRuleName:I,getPWAstorageData:N}=e,{UPSELL:S,CROSSELL:f,PDP_ITEM_CUSTOM_TYPE:T,SET_PDP_BUTTON_DISABLED:C,ADDONS:x}=l.a;if(Object(o.j)([Object(o.Td)(t),Object(o.Td)(i),a===n,(null===t||void 0===t?void 0:t.productId)===(null===i||void 0===i?void 0:i.id)])){var E,R,P;const{additionalProperties:e}=i,a=Object(o.ve)(e)||{},n=((e,t,i)=>{var a,o;let n=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:i}=t;return i===e})),l=null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.modGrps;return null===i||void 0===i||i.forEach(((e,t)=>{var a,o,n;null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.forEach(((a,o)=>{let n=_(l,e.id,a.id);var d,c;(null===n||void 0===n?void 0:n.length)>0&&((a={...a,...null===n||void 0===n?void 0:n[0]}).mdmId=a.id,i[t].modifiers[o]=a,null===(d=a)||void 0===d||null===(c=d.modgrps)||void 0===c||c.forEach(((e,l)=>{var d;null===e||void 0===e||null===(d=e.modifiers)||void 0===d||d.forEach(((e,d)=>{var c,r;let s=null===(c=n[0].modGrps[l])||void 0===c||null===(r=c.modifiers)||void 0===r?void 0:r.filter((t=>{let{id:i}=t;return i===e.id}));var u,v;(null===s||void 0===s?void 0:s.length)>0&&((e={...e,...null===s||void 0===s?void 0:s[0]}).mdmId=e.id,e.isEditConfirmed=null===(u=e)||void 0===u?void 0:u.custom,null!==(v=e)&&void 0!==v&&v.custom&&(a.isEditConfirmed=!0),i[t].modifiers[o].modgrps[l].modifiers[d]=e)}))})))}));let d=null===e||void 0===e||null===(o=e.modifiers)||void 0===o?void 0:o.some((e=>e.isAdded)),c=D(e);null===e||void 0===e||null===(n=e.modifiers)||void 0===n||n.forEach((e=>{var t;e.isInitialDefault=A(e),d&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),y(c,e),null===e||void 0===e||null===(t=e.modgrps)||void 0===t||t.forEach(((e,t)=>{var i,a;let o=null===e||void 0===e||null===(i=e.modifiers)||void 0===i?void 0:i.some((e=>e.isAdded)),n=D(e);null===e||void 0===e||null===(a=e.modifiers)||void 0===a||a.forEach((e=>{e.isInitialDefault=A(e),o&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),y(n,e)}))}))}))})),i})(null===d||void 0===d?void 0:d.foodLineId,c,null===i||void 0===i?void 0:i.modgrps);v({...i,additionalProperties:a,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:null===t||void 0===t?void 0:t.catalogName,itemId:null===t||void 0===t?void 0:t.productId,dname:r,items:s,modgrps:n}),m({type:T,value:null===i||void 0===i?void 0:i.customizable});let l=Object(g.b)(null===i||void 0===i?void 0:i.recommendationRules,S,f,x);b(l.combo),O(l.recommendation);const L=null!==(E=null===c||void 0===c||null===(R=c.foodLines)||void 0===R?void 0:R.map((e=>{let{item:t}=e;return t.id})))&&void 0!==E?E:[];j(null===l||void 0===l||null===(P=l.addOnRecommendedItems)||void 0===P?void 0:P.filter((e=>{let{id:t}=e;return!L.includes(t)}))),I(null===l||void 0===l?void 0:l.ruleName),p(i),m({type:C,value:{}}),h(Ie(u,null===i||void 0===i?void 0:i.id,d,c,N)),window.scrollTo(0,0)}},he=(e,t,i,a)=>{if(Object(o.hb)(e.quantity!==t,(null===e||void 0===e?void 0:e.id)===i)){let i=((e,t)=>({...e,quantity:null!==t&&void 0!==t?t:0,unitPrice:t?e.basePrice*t:0}))(e,t);a({type:l.a.PDP_PAYLOAD_DATA,value:i})}},ge=e=>{const{pdpData:t,prodQuantity:i,tenantData:a,PDP_PAYLOAD_DATA:n,userOrderStateDispatch:l,pdpPromoPage:d,storeTimeZone:c,pdpDataForUpdateFoodLine:r,cartData:s,getPWAstorageData:u}=e;var v,m;Object(o.j)([Object(o.Td)(t),Object(o.Td)(a)])&&Object(g.c)(t,i,a.currencyConversionFactor,n,l,d,c,r,s,u,null===a||void 0===a||null===(v=a.componentOptions)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.enableDefaultModifierCalculation)},Ie=(e,t,i,a,o)=>{const n=o[d.gd.VIEW_PRODUCT];var l,c,r;return e?+(null!==(l=null===n||void 0===n||null===(c=n.promoParams)||void 0===c||null===(r=c.find((e=>(null===e||void 0===e?void 0:e.itemId)===t)))||void 0===r?void 0:r.quantity)&&void 0!==l?l:1):Ne(i,a)},Ne=(e,t)=>{let i=1;const a=null===e||void 0===e?void 0:e.foodLineId;if(""!==a){var o;let e=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((e=>{let{id:t}=e;return t===a}));i=null===e||void 0===e?void 0:e.quantity}return i},Se=e=>{var t;const{name:i=[],recommendationType:a=""}=null!==e&&void 0!==e?e:{};return{ruleName:(null===(t=i[0])||void 0===t?void 0:t.value)||"",recommendationType:a}}},1096:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i(3);var a=i(1181),o=i.n(a),n=(i(1182),i(1183),i(2));const l=e=>{const{settings:t,carousalRef:i}=e;return Object(n.jsx)(o.a,{...t,ref:i,children:e.children})};l.defaultProps={settings:null,carousalRef:null},t.b=l},1098:function(e,t,i){"use strict";i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"h",(function(){return u})),i.d(t,"g",(function(){return v})),i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return O}));var a=i(21),o=i(9),n=i(5),l=i(398),d=i(0);const c=async(e,t)=>{var i;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(i=o.a.upsizeSelectedPwa)||void 0===i?void 0:i.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},n.Bb))},r=async e=>{var t;await a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},n.Bb)},s=async e=>{var t;await a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},n.Bb)},u=async e=>{var t,i,l,d,c;const{eventFlag:r,itemsArray:s,userType:u="",totalAmount:v="",couponCode:m="",currencyShortName:b=""}=e,O=await(null===s||void 0===s?void 0:s.length)>0&&((null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.item_name)===(null===s||void 0===s||null===(i=s[1])||void 0===i?void 0:i.item_name)?[null===s||void 0===s?void 0:s[0]]:s);await(null===s||void 0===s?void 0:s.length)>0&&a.a.registerEvent(null===o.a||void 0===o.a||null===(l=o.a[r])||void 0===l?void 0:l.name,{data:{event:r,userType:u||"",ecommerce:{items:O,currency:b||"",value:v||(null===O||void 0===O||null===(d=O[0])||void 0===d?void 0:d.price)*(null===O||void 0===O||null===(c=O[0])||void 0===c?void 0:c.quantity)||"",coupon:m||""}}},n.Bb)},v=async(e,t)=>{var i;await a.a.registerEvent(null===o.a||void 0===o.a||null===(i=o.a.viewItemList)||void 0===i?void 0:i.name,{data:{event:l.u,disposition:Object(n.h)(t),ecommerce:{items:e||[]}}},n.Bb)},m=async()=>{var e;await a.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},n.Bb)},b=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(e=o.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:i}}}}))},O=async e=>{var t,i,l;await(null===a.a||void 0===a.a?void 0:a.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_name,item_list_id:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_id,ecommerce:{items:e||[]}}},n.Bb))}},1099:function(e,t,i){"use strict";var a=i(962);i.d(t,"a",(function(){return a.default}))},1101:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i(3),o=i(28),n=i(92),l=i(106),d=i(85);const c={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var r=i(16),s=i(6),u=i(5),v=i(35),m=i(15),b=i(0),O=i(80),j=i(2);const p=e=>{const t=Object(o.c)((e=>e.cartReducer)),{cartData:i={}}=t||{},p=Object(o.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:I}=Object(a.useContext)(d.a),{modalToOpenOnConfirm:N,modalOpenFrom:S,confirmCallBack:f}=g,{CartError:T}=m.a,C=Object(o.b)(),{CLEAR_ALL_MSG:x,CLEAR_ALL:E,CANCEL:y,TO_CHANGE_LANGUAGE:D}=c;((e,t,i)=>{e.langSelector?t.MSGTXT3=i:t.MSGTXT3})(e,x,D);const{SHOW_CLEAR_CART_ALERT:A,DISPOSITION_DATA:_,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:P,clearCartChangeFlag:L,orderTypeAlertTitle:w,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:U}=r.a,H=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,W=()=>{I({type:F,value:{}}),I({type:b.Oe,value:{selectedLanguage:""}}),I({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),S===L&&I({type:P,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(j.jsx)(l.a,{handleClose:W,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(n.a,{splitTitle:x,imageSrc:T,altText:"cart-error",confirmButtonText:Object(s.translateWithI18Next)(E),cancelButtonText:Object(s.translateWithI18Next)(y),cancelHandler:W,confirmHandler:()=>{if(i.discountLines.length>0){let e=i.discountLines.map((e=>e.id));C(Object(v.n)({params:{basketId:i.id},tenantId:h,shouldClearCart:!0},e))}else C(Object(v.o)({basketId:i.id,tenantId:h}));C(Object(O.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),C(Object(v.u)(new Date)),I({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),f&&f(),N===w?(I({type:k}),I({type:_,value:{showDisposition:!0}}),I({type:P,value:{showScheduleOrderCatering:!1}}),I({type:R,value:{showSearchStore:!1}}),I({type:U,value:{orderCapacityDataUpdated:!1}}),I({type:F,value:{}})):N===M&&I({type:R,value:{showSearchStore:!0}})}})})}},1103:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a}));let a;(async()=>{a=await(async()=>{var t,a,o,n,l;const d=null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(i.bind(null,215));return null===c||void 0===c||null===(o=c.default)||void 0===o||null===(n=o[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,i(121))},1106:function(e,t,i){"use strict";t.a={MODALHEADERTEXT:"Customize Your",CUSTOMIZE_TAG:"custom",MAX_TAG:"max",MAX_ALERT_TEXT_INITIAL:"maxtextInitial",MAX_ALERT_TEXT_END:"maxtextEnd",CLOSE_ALERT_TEXT:"selectionNotSaved",ITEM_QUANTITY:0,CUSTOMIZE_BUTTON_TEXT:"customise",EDIT_BUTTON_TEXT:"edit",DISMISS_CHANGES_ALERT_TEXT:"dismissChangesAlert",DISMISS_SELECTIONS:"dismissSelections"}},1107:function(e,t,i){"use strict";var a=i(3),o=i(85),n=i(5),l=i(12);t.a=()=>{const{userOrderState:e}=Object(a.useContext)(o.a),t=Object(a.useMemo)((()=>(Object(n.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(l.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1109:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return c})),i.d(t,"e",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return u}));var a=i(21),o=i(9),n=i(5),l=i(12);i(0);const d=async function(e,t,i,l){var d;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await a.a.registerEvent(null===o.a||void 0===o.a||null===(d=o.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:c,value:i||"",coupon:l||""}}},n.Bb)},c=e=>{a.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(l.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(l.P)(e.month),", ").concat(e.day)||"NA"},n.Bb)},r=e=>{a.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},n.Bb)},s=async e=>{await a.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},n.Bb)},u=async e=>{await a.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},n.Bb)}},1110:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var a=i(3),o=i(28),n=i(172),l=i(214),d=i(20),c=i.n(d),r=i(266),s=i(0),u=i(2);const v=(e,t)=>{if(e&&t){const i={};e.replace(/%(.*?)%/g,((e,t)=>{i[e]=t})),Object.entries(i).forEach((i=>{const[a,o]=i,n=((e,t)=>{var i;return null!==(i=e[t])&&void 0!==i?i:"N/A"})(t,o);if("string"==typeof n){const t=new RegExp(a,"ig");e=e.replace(t,n)}else{let t=JSON.parse(e);for(let e in t)t[e]===a&&(t[e]=n);e=JSON.stringify(t)}}))}return e},m=e=>{let{page:t,seoObj:i,seoTemplate:d}=e;const[m,b]=Object(a.useState)(null),[O,j]=Object(a.useState)(""),{seoContent:p}=Object(o.c)((e=>{var t,i,a;return{seoContent:null!==(t=null===e||void 0===e||null===(i=e.contentReducer)||void 0===i||null===(a=i.response)||void 0===a?void 0:a.seoStructureData)&&void 0!==t?t:null}}));return Object(a.useEffect)((()=>{var e,a,o,n,u,m;const O={...i,PageURL:null!==(e=null===(a=window)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.href)&&void 0!==e?e:"",HomeURL:null!==(n=null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.origin)&&void 0!==n?n:"/"};if(!c()(p)){var h,g;const e=null!==(h=null!==d&&void 0!==d?d:null===p||void 0===p||null===(g=p.seo)||void 0===g?void 0:g.find((e=>{var i;return(null===(i=e.fields)||void 0===i?void 0:i.title)===t})))&&void 0!==h?h:{},{fields:{templateData:i={},data:a={}}={}}=e,{template:o={}}=null!==p&&void 0!==p?p:{},n=Object(r.documentToHtmlString)(o);if(!c()(n)){let e=Object(l.a)(n.replace(/<p>|<\/p>/gi,""));e=v(e,i),e=v(e,O);const t=Object(l.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t,i,a;return!((null===e||void 0===e?void 0:e.type)===s.tf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children)||(null===e||void 0===e?void 0:e.type)===s.sd&&(null===e||void 0===e||null===(i=e.props)||void 0===i?void 0:i.name)===s.ke&&"N/A"===(null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.content))})))}if(!c()(a)){let e=JSON.stringify(a);e=v(e,O),b(e)}}}),[t,p,i,d]),Object(u.jsxs)(n.a,{children:[O,Object(u.jsx)("script",{type:"application/ld+json",children:m})]})};m.defaultProps={page:"",seoTemplate:null,seoObj:null}},1112:function(e,t,i){"use strict";i.d(t,"g",(function(){return b})),i.d(t,"j",(function(){return O})),i.d(t,"l",(function(){return j})),i.d(t,"k",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return g})),i.d(t,"n",(function(){return N})),i.d(t,"e",(function(){return S})),i.d(t,"d",(function(){return f})),i.d(t,"m",(function(){return T})),i.d(t,"f",(function(){return C})),i.d(t,"h",(function(){return x})),i.d(t,"i",(function(){return E})),i.d(t,"a",(function(){return y}));var a=i(21),o=i(5),n=i(9),l=i(146),d=i(6),c=i(406),r=i(398),s=i(20),u=i.n(s),v=i(0),m=i(2);const b=async(e,t)=>{var i;await a.a.registerEvent(null===n.a||void 0===n.a||null===(i=n.a.menuNavigation)||void 0===i?void 0:i.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},o.Bb)},O=async(e,t)=>{const i=[];i.push({event:e.eventType,[t]:e.selectedData}),await a.a.registerEvent("suggestedSearchClick",{data:i[0]},o.Bb)},j=async(e,t,i)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[i]:e.selectedData[i]}),await a.a.registerEvent(e.eventType,{data:n[0]},o.Bb)},p=async(e,t,i,n)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[i]:e.selectedData[i],[n]:e.selectedData[n]}),await a.a.registerEvent(void 0,{data:l[0]},o.Bb)},h=(e,t)=>{const i=JSON.parse(JSON.stringify(e));let a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===i||void 0===i?void 0:i.find((t=>{let{isHidden:i=!1,items:a}=t;return!i&&(null===a||void 0===a?void 0:a.length)&&a[0].id===e.id}));t&&a.push(t)})),a},g=(e,t,i,a,o,n)=>{var l;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.length)&&0===Object.keys(t).length?I(e.categories[0],i,a,o):Object.keys(t).length>0?I(t,i,a,o):I(e,i,a,o),d},I=(e,t,i,a)=>{var n;let l={},d=[];return d=null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.map((e=>(e.items.forEach(((e,n)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===r.o.PRICE_WITHOUT_TAX.toLowerCase())),c=Object(o.Jc)(d.value,a).toFixed(2);c=c?parseFloat(c):"NA",l={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:c,item_category:t,item_list_name:t,item_list_id:i,index:n,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),l))),d},N=async e=>{var t,i,l;await a.a.registerEvent(null===n.a||void 0===n.a||null===(t=n.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}},o.Bb)},S=(e,t)=>{let i={},a=e.find((e=>{var i;return(null===e||void 0===e||null===(i=e.name)||void 0===i?void 0:i.trim())===t}))||{};return 0===Object.keys(a).length&&(a=e.find((e=>{var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(const o in e.categories)if(e.categories[o].id===t)return i=e.categories[o],!0;return!1}))),{selectedCategory:a,selectedSubcategory:i}},f=function(e,t,i,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return a(!1),!1;const n=(c=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:i,categories:a}=e,o=!i&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase());return o||(o=a.find((e=>{let{url:t,isHidden:i}=e;return!i&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase())}))),o})));var d,c,r;if(u()(n)){if(t&&(i("category"),a(!0)),!u()(e)){var s;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&l.scroller.scrollTo(null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-140:-100})}}else l.scroller.scrollTo(null===n||void 0===n||null===(r=n.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:o?-150:-100});return!u()(n)},T=e=>null===e||void 0===e?void 0:e.isStoreClosed,C=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:i}=c.d;let a=Object(d.translateWithI18Next)(t),o=Object(d.translateWithI18Next)(i);return null!==e&&void 0!==e&&e.isStoreClosed&&(a=o),{btnText:a}},x=(e,t)=>{0===e.length&&Object(o.Ob)(document.title,Object(d.translateWithI18Next)(r.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(r.s))},E=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let i=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:a=[]}=e;i.push(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.name)})),i},y=e=>{const{searchMode:t,filterList:i,dietaryList:a,products:o,viewUp:n,tenantData:l,getCardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:b}=e;return(t.isSearchedMode||[...i,...a].length)&&null!==o&&void 0!==o&&o.length?Object(m.jsx)("div",{className:n?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:o,cardType:n?"small":"medium",tenantData:l,cardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,categoryId:b})}):t.isSearchedMode&&u()}},1115:function(e,t,i){"use strict";i(3);var a=i(2);t.a=e=>{const{className:t,clickNextCard:i=null}=e;return Object(a.jsx)("div",{className:t,onClick:()=>{i()},onKeyPress:()=>{i()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})}},1116:function(e,t,i){"use strict";i(3);var a=i(2);t.a=e=>{const{className:t,clickPrevCard:i=null}=e;return Object(a.jsx)("div",{className:t,onClick:()=>{i()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})}},1117:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(46),l=i(2);const d=e=>{const{show:t,errorMsg:i="",cssClass:a="",errImage:o}=e;return t?Object(l.jsxs)("div",{className:"inline-error-container ".concat(a),children:[Object(l.jsx)(n.a,{srcFile:o}),Object(l.jsx)("div",{className:"error-message",children:i})]}):null},c=o.a.memo(d);t.a=c},1118:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var a=i(35),o=i(61),n=i(397),l=i(145),d=i(16),c=i(262),r=i(1098),s=i(0),u=i(1095),v=i(55),m=i(5);i(80),i(30);const{QUANTITY_ACTION:b,ANALYTICS_EVENTS:O,CART_ALERT:j,PDP_DATA_FOR_UPDATE_FOODLINE:p,CUSTOMISE_FLAG_CART:h,REMOVE_ITEM_FLAG:g}=o.a,{MINI_PDP_DATA:I,FROMFLAGEDIT:N,EDIT_CLICKED:S}=d.a,{RESET_MODGROUP_IDS_UPDATE:f,SHOW_PDP_ALERT_POPUP:T}=c.a;function C(e,t,i,d){let C=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},x=arguments.length>5?arguments[5]:void 0,E=arguments.length>6?arguments[6]:void 0,y=arguments.length>7?arguments[7]:void 0,D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",A=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],_=arguments.length>10?arguments[10]:void 0,R=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",P=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",L=arguments.length>13?arguments[13]:void 0;const w=(i,o)=>{let{foodLineId:l}=i;const{cartId:c}=e;l&&c&&t&&(x(Object(a.q)({tenantId:t,basketId:c,basketLineItemId:l})),C({type:g,value:{removeItemCart:!0}}));const s=Object(n.r)([i],d,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,D,R);o&&o(s),x(Object(a.u)(new Date));const u=null===i||void 0===i?void 0:i.cartPrice,v={eventFlag:O.REMOVE,itemsArray:s,userType:y,totalAmount:u,couponCode:R,currencyShortName:D};Object(r.h)(v)},M=e=>{C({type:j,value:{showCartAlert:e}})},k=e=>{if(localStorage.getItem(s.gd.ADD_TO_ORDER)){var t;const i=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(s.gd.ADD_TO_ORDER));null!==i&&void 0!==i&&i[e]&&delete i[e],Object.keys(i).length>0?localStorage.setItem(s.gd.ADD_TO_ORDER,JSON.stringify(i)):localStorage.removeItem(s.gd.ADD_TO_ORDER)}},F=(i,o)=>{const{cartId:n}=e,l={Id:null===o||void 0===o?void 0:o.foodItemId,categoryId:null===o||void 0===o?void 0:o.categoryId,quantity:null===o||void 0===o?void 0:o.quantity,categoryName:null===o||void 0===o?void 0:o.foodName,categoryUrl:null===o||void 0===o?void 0:o.categoryUrl};+(null===o||void 0===o?void 0:o.discountAmount)>0?x(Object(a.y)({params:{basketId:n,basketLineItemId:null===o||void 0===o?void 0:o.foodLineId},tenantId:t},{...l,isProductPromo:!1})):w(o),k(i)};return{itemQuantityHandler:(i,o)=>{var l,c;let{quantity:m,foodLineId:j,foodItemId:p}=i;const{cartId:h,discountAmounts:g=[]}=e,{unitPrice:I}=i;m&&j&&h&&t&&(o===b.Increase&&Object(u.e)(m,null===i||void 0===i?void 0:i.isProductPromo,i,_),m=o===b.Increase?m+1:o===b.Decrease&&m-1||m,x(Object(a.x)({params:{basketId:h,basketLineItemId:j},tenantId:t},{quantity:m,isBundle:Object(n.e)(p)})),x(Object(a.u)(new Date)));const N=o===b.Increase?O.ADD_TO_CART:O.REMOVE;let S=Object(n.r)([i],d,"quantityModified",g,D,R,P/L);const f=(null===S||void 0===S||null===(l=S[0])||void 0===l?void 0:l.price)*(null===S||void 0===S||null===(c=S[0])||void 0===c?void 0:c.quantity),{totalAmount:T}=e;if(o===b.Increase){var C,E;const e=null===(C=JSON.parse(null===(E=localStorage)||void 0===E?void 0:E.getItem(s.gd.DISPOSITION_NEW)))||void 0===C?void 0:C.type;Object(v.f)(y,S,+f.toFixed(2),R,D,e)}else{let e={eventFlag:N,itemsArray:S,userType:y,totalAmount:f,couponCode:R,currencyShortName:D};Object(r.h)(e)}},itemRemoveHandler:w,itemAllRemoveHandler:()=>{M(!0)},itemAllRemoveAction:i=>{const{cartId:o}=e;o&&t&&x(Object(a.o)({basketId:o,tenantId:t})),M(!1);let l=Object(n.r)(i,A,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,D,R);localStorage.removeItem(s.gd.ADD_TO_ORDER);const d=i.map((e=>e.cartPrice)).reduce(((e,t)=>e+t));let c={eventFlag:O.REMOVE,itemsArray:l,userType:y,totalAmount:d,couponCode:R,currencyShortName:D};Object(r.h)(c),x(Object(a.u)(new Date))},addMoreMenuHandler:(e,t)=>{const i=Object(m.Hd)(e)?s.Ce.CATERING_PAGE:Object(m.Jd)(e)&&t?s.Ce.DELIVERY_PAGE:s.Ce.MENU_PAGE;E.push({pathname:i}),x(Object(a.u)(new Date))},itemEditHandler:i=>{const{foodItemId:o="",foodLineId:d}=i,{catalog:c}=e;C({type:f}),C({type:S,value:{cartEditClicked:!0}}),C({type:I,value:{id:o,flag:N,foodLineId:d}}),x(Object(l.c)({tenantId:t,catalogName:c,itemId:o})),Object(n.y)(O.EDIT),x(Object(a.u)(new Date))},showCartAlert:M,itemCustomiseHandler:function(i,a,o,d,r,u,v){let m=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{foodItemId:b="",foodLineId:j}=a,{catalog:g}=e;if(null!==a&&void 0!==a&&a.isProductPromo){var I,N;const e=null===a||void 0===a||null===(I=a.discountComponents)||void 0===I||null===(N=I[0])||void 0===N?void 0:N.couponCode,t=(e=>{var t,i,a;const{applicableCoupons:o,itemId:n,couponCode:l}=e,d=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.itemDetails)&&(null===e||void 0===e?void 0:e.code)===l));return null===d||void 0===d||null===(t=d[0])||void 0===t||null===(i=t.itemDetails)||void 0===i||null===(a=i.find((e=>(null===e||void 0===e?void 0:e.id)===n)))||void 0===a?void 0:a.availability})({itemId:a.foodItemId,applicableCoupons:v,couponCode:e});r(u({key:s.gd.VIEW_PRODUCT,value:{couponCode:e,promoParams:[{itemId:a.foodItemId,quantity:a.quantity,maxQuantity:a.maxQuantity,minQuantity:a.minQuantity}],priceDetails:[{id:a.foodItemId,availability:t}]}})),r(u({key:s.gd.PROMO_PRODUCT_CART,value:{couponCode:null===a||void 0===a?void 0:a.couponCode,promoParams:[{itemId:null===a||void 0===a?void 0:a.foodItemId,quantity:null===a||void 0===a?void 0:a.quantity,maxQuantity:null===a||void 0===a?void 0:a.maxQuantity}],priceDetails:[{id:a.foodItemId}],isPromo:!0}})),C({type:c.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}})}C({type:p,value:{id:b,flag:h,foodLineId:j,isProductPromo:null===a||void 0===a?void 0:a.isProductPromo}}),C({type:c.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:null===a||void 0===a?void 0:a.isProductPromo}}),r(u({key:T,value:!1})),x(Object(l.c)({tenantId:t,catalogName:g,itemId:b})),o.push({pathname:Object(n.h)(i,a,d,m)}),Object(n.y)(O.EDIT),localStorage.setItem(s.gd.CUSTOMISE_ITEM_CART,!0),sessionStorage.setItem(s.Ne.CUSTOMISE_PDP_FLAG,!0)},navigateToPromos:e=>{E.push({pathname:null===s.Ce||void 0===s.Ce?void 0:s.Ce[null===e||void 0===e?void 0:e.toUpperCase()]}),x(Object(a.u)(new Date))},promosRemoveHandler:(i,o)=>{const{cartId:n}=e;i&&x(Object(a.p)({basketId:n,tenantId:t,couponCode:i},(()=>{o?F(i,o):k(i)})))},addToCartAnalyticsOnly:function(e,t,i,a){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,s=arguments.length>6?arguments[6]:void 0;let u={eventFlag:t===b.Increase?O.ADD_TO_CART:O.REMOVE,itemsArray:Object(n.r)([e],d,o.a.QUANTITY_MODIFIED,[],s,a,l/c),userType:i,totalAmount:(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.cartPrice),couponCode:a,currencyShortName:s};Object(r.h)(u)}}}},1122:function(e,t,i){"use strict";i.d(t,"b",(function(){return W})),i.d(t,"f",(function(){return B})),i.d(t,"i",(function(){return G})),i.d(t,"c",(function(){return z})),i.d(t,"j",(function(){return V})),i.d(t,"h",(function(){return Q})),i.d(t,"d",(function(){return J})),i.d(t,"e",(function(){return X})),i.d(t,"g",(function(){return Z})),i.d(t,"a",(function(){return $}));var a=i(16),o=i(106),n=i(92),l=i(270),d=i(6),c=i(46),r=i(24),s=i(0),u=i(5),v=i(15),m=i(2);const{Location_Error:b,errorIcon:O}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:N,NOSTORE_TITLE:S,NOSTORE_CONTENT:f,NOSTORE_TOAST_MSG:T,CLOSED_STORE_TITLE:C,CLOSED_STORE_CONTENT:x,LOCATION_ALERT_MSG:E,CLOSED_STORE_TOAST_MSG:y}=l.b,{DINE_IN:D,DISTANCE_20000MR:A,START_ORDER_BUTTON:_,BROWSE_MENU_BUTTON:R}=l.a,{SEARCH_ORDER_DATA:P="",SELECTED_TILE_DATA:L="",SCHEDULE_ORDER_TIME_DATA:w="",SET_DISPOSITION:M,USER_LOCALIZED:k,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:U,SET_FORCERELOAD:H}=a.a,W=(e,t,i,a,o,n)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?n(e):o(e,t):null!==e&&void 0!==e&&e.length||a(t,i)},B=function(e,t,i,a,o,n,l,d,c,u,v,m){var b;let O=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:j,maxDriveTimeMins:p,geoLocation:h}=O;let g=e.filter((e=>{var t,i,a,o,n,l,d,c,r,s,u,v,m,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(c=d.menu)||void 0===c||null===(r=c.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(u=s.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(b=m.timings)||void 0===b?void 0:b.asap)}));if((null===(b=g)||void 0===b?void 0:b.length)>0){if(j&&n===s.yb){const e={stores:g,numberOfStores:2,disposition:n,distanceMetrics:o,driveTime:p,channel:r.b.channel,isDriveTimeFromAdminPortal:j},t=null===h||void 0===h?void 0:h.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(n,o);g=t}if(d){var I=JSON.parse(localStorage.getItem(s.Hb));I&&(g[0].id!==I.store.id||g[0].service!==I.type?(c(!0),i(!1),v(g[0])):i(!1))}else t(g[0])}else m(!0),u(n,o)},G=(e,t,i,a,o,n)=>{var l,d;t({type:M,value:{oldvalue:e,newValue:{type:a,store:o,date:n.date,time:n.time,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:null===i||void 0===i||null===(l=i.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem(s.Ib,JSON.stringify(e)),localStorage.setItem(s.Hb,JSON.stringify({type:a,store:o,date:n.date,time:n.time,selectedTime:n.selectedTime,interval:n.interval,deliveryAddress:null===i||void 0===i||null===(d=i.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:P,value:{showSearchStore:!1}}),t({type:k,value:{isLocalized:!0}})},z=(e,t,i,o)=>{const{SCHEDULE_ORDER_DATA:n,DISPOSITION_METHOD:l}=a.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:c,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:b}=s.gd;let O={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:M,value:{oldvalue:O,newValue:O}}),localStorage.removeItem(v),localStorage.removeItem(c),e({type:w,value:{selectedDateTime:{}}}),e({type:U,value:{}}),localStorage.removeItem(m),localStorage.removeItem(b),i(t({...o,localized:!1})),e({type:k,value:{isLocalized:!1}}),e({type:n,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:l,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(r),e({type:F,value:{}})},V=(e,t,i,a,o)=>{e({type:L,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),e({type:F,value:a}),e({type:w,value:{selectedDateTime:i}}),e({type:U,value:{selectContentTime:"ASAP"}}),e({type:H,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(o)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP")},Y=(e,t,i,a)=>{let o="";return e?o=a===D?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):i?o=Object(d.translateWithI18Next)(S):t&&(o=Object(d.translateWithI18Next)(C)),o},q=(e,t,i,a)=>{let o="";return e?o=a===D?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(p):i?o=Object(d.translateWithI18Next)(f):t&&(o=Object(d.translateWithI18Next)(x)),o},Q=(e,t,i,a,o,n,l,c)=>{let r="";return e?(n(!1),r=a===D?Object(d.translateWithI18Next)(N):Object(d.translateWithI18Next)(h)):i?(l(!1),r=Object(d.translateWithI18Next)(T)):t&&(c(!1),r="".concat(Object(d.translateWithI18Next)(y)," ").concat(K(null===o||void 0===o?void 0:o.from)," to ").concat(K(null===o||void 0===o?void 0:o.to))),r},K=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function J(e,t,i,a,l,d,c,r,s,u,v){const O={HEADER_MSG:{MSGTXT1:Y(i,a,l,d)},CONTENT_MSG:q(i,a,l,d)};return(i||a||l)&&Object(m.jsx)(o.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(n.a,{splitTitle:O.HEADER_MSG,contentMsg:O.CONTENT_MSG,imageSrc:b,altText:"location-error",confirmButtonText:R,cancelButtonText:i?_:null,cancelHandler:i?t:null,confirmHandler:()=>{e(a,l)}})})}const X=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(c.a,{srcFile:O,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(E)})]})}),Z=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),$=e=>e.filter((e=>{var t,i;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)}))},1123:function(e,t,i){"use strict";i.d(t,"b",(function(){return N})),i.d(t,"c",(function(){return S}));var a=i(3),o=i(85),n=i(28),l=i(6),d=i(41),c=i(210),r=i(61),s=i(262),u=i(4),v=i(15),m=i(5),b=i(396),O=i(0),j=i(62),p=i(55),h=i(16),g=i(2);const I=(e,t,i,a)=>{let o=(Math.round(e/i*O.hg)/O.hg).toFixed(a);return"".concat(t).concat(o)},N=(e,t)=>Object(m.k)(e)?"pdp-button-disabled":t,S=e=>{const{ENTER:t,PLUS:i,MINUS:a}=O.ag.KEY_CHAR_CODE;e.charCode!==t&&e.charCode!==i&&e.charCode!==a||e.preventDefault()},f=(e,t)=>t===e,T=e=>e?null===h.a||void 0===h.a?void 0:h.a.REVIEW_ORDER_MODAL:null===h.a||void 0===h.a?void 0:h.a.PDP_UNAVAILABLE_MODAL;t.a=e=>{var t,i,h;const{prodQuantity:N,itemQuantity:C,userParams:x,quantityUpdate:E,dName:y,addtoCartClinckHandler:D,itemStatus:A,currencySymbol:_,currencyConversion:R,isMobile:P,handleProdQuantityForCatering:L,maxItemCountPerLineItem:w,modgrpMax:M,selectedItemNotAvailable:k,isItemDecreased:F,itemId:U,minItemCountPerLineItem:H,pdpPromoPage:W}=e,B=Object(n.c)((e=>e.cartReducer)),G=Object(n.c)((e=>e.tenantReducer)),{currencyConversionFactor:z}=G,{cartData:V={}}=Object(m.sd)(B),{QUANTITY_ACTION:Y}=r.a,{IS_OUT_OF_STOCK:q,OUT_OF_STOCK_TEXT:Q,IS_IN_STOCK:K,CUSTOMISE_FLAG_CART:J}=s.a,{QUANTITY_TEXT:X,SELECT_TEXT:Z,ADD_TO_YOUR_ORDER:$}=u.a,{userOrderState:ee,userOrderStateDispatch:te}=Object(a.useContext)(o.a),ie=null===ee||void 0===ee?void 0:ee.pdpDataForUpdateFoodLine,{pdpPayloadData:ae,pdpAddtoCartConfirmButtonDisabled:oe,dispositionNew:ne,pdpDataForUpdateFoodLine:le,timeBasedCetegory:de}=ee,ce=Object(m.Sd)(ne)?JSON.parse(localStorage.getItem(O.gd.DISPOSITION_NEW)):ne,re=(null===ce||void 0===ce?void 0:ce.type)&&Object(m.rf)(Object(m.Mb)(null===ce||void 0===ce?void 0:ce.type)),se=((e,t,i)=>{const{ADDTOCART:a,CUSTOMISE_FLAG_CART:o}=s.a,{SAVE_CHANGES:n,SAVE:d,ADD:c}=u.a;return(null===e||void 0===e?void 0:e.flag)===o?Object(m.Hd)(t)?Object(l.translateWithI18Next)(d):Object(l.translateWithI18Next)(n):Object(m.hb)(Object(m.Hd)(t),i)?Object(l.translateWithI18Next)(c):Object(l.translateWithI18Next)(a)})(ie,re,P),ue=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isAddItemLoading})),[ve,me]=Object(a.useState)(!1),[be,Oe]=Object(a.useState)(!1),je=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),pe=null===G||void 0===G||null===(t=G.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(h=i.global)||void 0===h?void 0:h.pricewithNumberofDecimalDigit,he=Object(j.g)(),ge=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer));Object(a.useEffect)((()=>{var e,t;const i=null===he||void 0===he||null===(e=he.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(O.Ce.CATERING_PAGE);me(i)}),[]);const Ie=()=>{return Object(g.jsx)("div",{className:(e=N,t=x,"quantityAddtocart qty-calc mg-set ".concat(e?"cardwithQuantity "+t.loggedIn:"cardwithNoquantity")),children:Object(g.jsx)(c.a,{importPath:"QUANTITY_MODIFIER_TEMPLATE",itemCount:N,itemQuantity:C,updateItemQuantity:E,quantityAction:Y,item:void 0,itemName:y,cartItemCount:1,maxItemCountPerLineItem:w,hideChild:!0,handleQuantityForCatering:L,dispositionType:re,onKeyPressHandler:S,minItemCountPerLineItem:H})});var e,t},Ne=(e,t)=>{var i;W&&Oe(!0);const{couponCode:a}=Object(m.zb)(V),{unitPrice:o,basePrice:n}=ae,l=Object(m.od)(null===x||void 0===x?void 0:x.localized,null===x||void 0===x?void 0:x.loggedIn);let{baseItemsCstmz:d,saucesCstmz:c,sidesCstmz:r,drinksCstmz:s,customizedPrice:u}=Object(m.F)(ee);d=Object(m.te)(d),c=Object(m.te)(c),r=Object(m.te)(r),s=Object(m.te)(s);const v=Object(m.lc)(je,ae,V,z,null===G||void 0===G?void 0:G.currencyShortName,d,c,r,s,u),{quantity:b=0}=(null===v||void 0===v?void 0:v[0])||{quantity:0},O={couponCode:a},j={unitPrice:o,basePrice:n,cartData:V,quantity:b,currencyConversionFactor:z},h=Object(m.Ib)(j),g=Object(m.g)(o,z),I=[{...v[0],...O}];var N;null!==(null===v||void 0===v||null===(i=v[0])||void 0===i?void 0:i.isQuantityIncrease)&&(null!==v&&void 0!==v&&null!==(N=v[0])&&void 0!==N&&N.isQuantityIncrease?(e=>{let{miniPDPDataForCart:t,CUSTOMISE_FLAG_CART:i,userType:a,saveChangesItemdetails:o,totalPrice:n,couponCode:l,tenantReducer:d,dispositionType:c}=e;if((null===t||void 0===t?void 0:t.flag)===i){const e=(null===o||void 0===o?void 0:o[0].price)*(null===o||void 0===o?void 0:o[0].quantity);Object(p.f)(a,o,e,l,null===d||void 0===d?void 0:d.currencyShortName,c)}})({miniPDPDataForCart:ie,CUSTOMISE_FLAG_CART:J,userType:l,saveChangesItemdetails:I,totalPrice:h,couponCode:a,tenantReducer:G,dispositionType:re}):Object(p.g)(l,v,+g.toFixed(2)));D(e,ae,ie,t,g,le,V)},Se=(t,i)=>{null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const a=Object(b.g)(U,je),o=Object(b.d)(U,de);Object(b.c)({categoryUrl:a,itemInCart:o,alertType:T(o),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.itemId},{...de,menuData:ge},te)||(Object(m.k)(oe)?(e=>{e.preventDefault();let t=Object(g.jsx)("img",{src:v.a.ErrorImage,alt:"Error"}),i="".concat(Object(l.translateWithI18Next)(Z)," ").concat(M," ").concat(Object(l.translateWithI18Next)($));Object(m.Df)(i,t,"err-toast",!0)})(t):Ne(t,null===i||void 0===i?void 0:i.id))},fe=()=>{return Object(g.jsx)(d.c,{tabIndex:"1",variant:d.b.primary,fullWidth:!0,hasPrices:!0,inactive:!Object(m.Vd)(null===ne||void 0===ne?void 0:ne.type)&&Object(m.jb)(f(q,A),Object(m.sb)(ue,k,!N||be)),loading:ue,"data-testid":"add-to-cart-handler",onClick:e=>Se(e,V),disabled:Object(m.sb)(f(q,A),k,!N),className:(e=oe,Object(m.k)(e)?"button-contained-disabled":""),children:Object(m.hb)(Object(m.jb)(f(q,A),k),!f(K,A))?Object(g.jsx)("span",{className:"outofstock",children:Object(l.translateWithI18Next)(Q)}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:se}),R&&Object(g.jsx)("span",{children:I(null===ae||void 0===ae?void 0:ae.unitPrice,_,R,pe)})]})});var e},Te=Object(m.hb)(P,Object(g.jsxs)("div",{className:"pdp-mobile-quantity-price-sopac fixedDiv ".concat(Object(m.hb)(ve,"catering-button")),children:[Object(g.jsx)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:Ie()}),fe()]})),Ce=Object(m.hb)(!P,Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:[Object(g.jsx)("label",{className:"qty","data-testid":"pdp-item-quantity",children:Object(l.translateWithI18Next)(X)}),Ie()]}),fe()]}));return Object(g.jsxs)(g.Fragment,{children:[Ce,Te]})}},1125:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(75),l=i.n(n),d=i(28),c=i(144),r=i(2);var s=e=>{const{handleClose:t,ProductListingModalForm:i,headerText:a,modalTitleId:n=""}=e;return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsx)(c.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:n,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:i})})},u=i(41),v=i(1144),m=i.n(v),b=i(46),O=i(5),j=i(85),p=i(400),h=i(16);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},I=i(87),N=i(62),S=i(15);const f=(e,t)=>e?t:null,T=(e,t,i,a,o)=>{const{SETFLAGCASE:n}=g,{FROMFLAGEDIT:l}=h.a;if(0===e.length){if(a&&t.minipdpData.fromFlag!==l)return n.DEFAULT;if(t.minipdpData.fromFlag===l&&((e,t)=>{if(Object(O.Td)(t))return t.filter((t=>{let{id:i}=t;return i===e})).length>0;return!1})(i,o))return n.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(i))return n.ITEMINCLUDES},C=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),x=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",E=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",y=(e,t)=>{let{analyticsObject:i,currLocation:a}=e;t||Object(I.g)(i,a)};var D=e=>{const{cardData:t,min:i,max:o,savedModifierHandler:n,savedModifiers:l,cardType:d,tenantReducer:c,modgrpId:s,modGrpName:u,updatedItems:v,getCartModifiers:m}=e,{Check_Icon:I}=S.a,{id:D,name:A,size:_,dname:R,isDefault:P,imageName:L,isHidden:w,calorificInfo:M}=t;let k=(F=R)&&F.length&&F[0].value;var F;const[U,H]=Object(a.useState)(!1),{userOrderState:W,userOrderStateDispatch:B}=Object(a.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=W,{MODGROUP_IDS_UPDATE:z,UPDATE_DEFAULT_MODGROUP:V}=p.a,{CONFIRM_UPSIZE_ANALYTICS:Y}=h.a,{SETFLAGCASE:q}=g,Q=Object(N.h)();Object(a.useEffect)((()=>{switch(T(v,W,D,P,m)){case q.DEFAULT:case q.FROMEDIT:H(!0),n(t,!0,l);break;case q.ITEMINCLUDES:H(!0);break;default:H(!1)}}),[D,v,P,m]);return!w&&Object(r.jsxs)("div",{className:C(d,U),"data-testid":"click-save-product",onClick:()=>{if(P||G.includes(s)){if(P){let e=G.filter((e=>e!==s));B({type:V,value:e})}}else B({type:z,value:s});let e={analyticsObject:{name:A,size:_},currLocation:Object(O.Ab)(Q.pathname)};1===i&&1===o?(y(e,U),!U&&H(!0),n(t,"single",l)):U&&l.length>i&&l.length<=o?(H(!1),n(t,!1,l)):!U&&l.length>=i&&l.length<o&&(y(e,U),H(!0),n(t,!0,l)),B({type:Y,value:{confirmUpsizeName:u}})},children:[Object(r.jsx)(b.a,{defaultPath:Object(O.bc)(null,c,!0),srcFile:Object(O.bc)(L,c),className:E(d)}),Object(r.jsxs)("picture",{children:[Object(r.jsx)("source",{media:"(max-width: 1023px)",srcSet:(J=U,X=I,J?X:null),alt:"",className:x(d)}),Object(r.jsx)("img",{src:f(U,I),alt:"",className:x(d)})]}),Object(r.jsxs)("div",{className:"modifier-card-content",children:[Object(r.jsx)("div",{className:"title",children:k}),(K=M,K&&Object(r.jsx)("div",{className:"caloricInfo",children:K}))]})]});var K,J,X},A=i(264),_=i(1096),R=i(21);const P=(e,t,i)=>e.map((e=>e.size&&{name:e.size,rate:Object(O.Ic)(e.availability[0],e.additionalProperties,t,i)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),L=(e,t,i,a)=>{let o=-1,n=P(t,i,a),l=P(e,i,a);return Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e)))).forEach((e=>{o="regular"!==e.name?l.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),o>=0&&l.splice(o,1),Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e))))},w=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},O.Bb)};var M=i(6);const{HamburgerDownArrow:k,filter_options_stoke:F}=S.a,U=(e,t)=>{if(e!==t)return Object(r.jsx)("span",{children:":"})},H=(e,t,i)=>e.rate&&e.name!==t?"+".concat(i).concat(e.rate):"",W=(e,t,i,a)=>e&&e.length&&L(e,t,i,a).length>0;var B=e=>{const{data:t,min:i,max:n,showSelectedModifier:l,modgrpId:c,modGrpName:s}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:m}=g,{userOrderState:b,userOrderStateDispatch:I}=Object(a.useContext)(j.a),[N,S]=Object(a.useState)([]),[f,T]=Object(a.useState)({}),[C,x]=Object(a.useState)(!1),[E,y]=Object(a.useState)([]),[R,P]=Object(a.useState)(!0),[B,G]=Object(a.useState)(Object(O.de)(window.innerWidth)),[z,V]=Object(a.useState)(t),Y=Object(d.c)((e=>e.cartReducer)),q=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:Q,currencyConversionFactor:K,componentOptions:J}=q,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==J&&void 0!==J?J:{},[Z,$]=Object(a.useState)({}),[ee,te]=Object(a.useState)({}),ie=Object(a.useRef)(null),ae=Object(a.useRef)(null),oe=Object(a.useRef)(null),ne={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(a.useEffect)((()=>{const e=Object(O.ad)(t.length,JSON.parse(JSON.stringify(t)),[]);let i=((e,t)=>Object(O.Td)(e)?t.filter((t=>t.size===e.name)):t)(f,e);V([...i])}),[t]);const le=(e,i,a)=>{let{id:o}=e;if(i===m)t.forEach((e=>{e.id===o&&y([e.id])})),S([{...e,itemId:o,modgrpId:c}]);else if(i){!a.some((t=>{let{id:i}=t;return i===e.id}))&&S([...a,{...e,itemId:o,modgrpId:c}])}else if(a.length){let e=a.filter((e=>{let{itemId:t}=e;return t!==o}));S(e)}},de=()=>{const e=Object(O.de)(window.innerWidth);G(e)};Object(a.useEffect)((()=>{let e=((e,t,i,a)=>{var o;const{FROMFLAGEDIT:n}=h.a,{MODGROUP_IDS_UPDATE:l}=p.a;if((null===t||void 0===t||null===(o=t.minipdpData)||void 0===o?void 0:o.fromFlag)===n){var d,c;let o=a.foodLines.find((e=>{let{id:i}=e;return i===t.minipdpData.foodLineId})),n=null===o||void 0===o||null===(d=o.item)||void 0===d||null===(c=d.modGrps)||void 0===c?void 0:c.find((t=>{let{id:i}=t;return i===e}));var r;return n?(!n.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(r=t.pdpScreenCommons)&&void 0!==r&&r.modGroupIdsUpdated.includes(n.id)||i({type:l,value:n.id}),n.modifiers):{}}return{}})(c,b,I,null===Y||void 0===Y?void 0:Y.cartData);te(e)}),[]),Object(a.useEffect)((()=>{l(N)}),[JSON.stringify(N)]),Object(a.useEffect)((()=>{window.addEventListener("resize",de)}),[B]),Object(a.useEffect)((()=>{C?document.addEventListener("click",ce):document.removeEventListener("click",ce)}),[C]);const ce=e=>{(Object(O.hb)(ie.current,ie.current===e.target)||ae.current&&oe.current&&ae.current!==e.target&&!oe.current.contains(e.target))&&x(!1)},re=()=>{x(!0)},se=()=>{x(!C)},ue=(e,i)=>{T(e);let a=t.filter((t=>t.size===e.name));V(a),w(i),x(!C)},ve=(e,i,a)=>{let o=((e,t,i)=>Object(O.Td)(t)?(e(t),i.filter((e=>e.size===t.name))):i)(T,e,t);V(o),w(i),P(!a),x(!1)},me=()=>{T({}),$({}),P(!0)},be=()=>{let e="",t=H(f,u,Q);return e=Object(O.ad)(t.length>0,":",""),e};return Object(O.ad)(B,Object(r.jsxs)(o.a.Fragment,{children:[W(t,N,K,X)&&Object(r.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(r.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:re,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.ad)(f.name,f.name+be(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:H(f,u,Q)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDown"})]})}),C&&Object(r.jsx)("div",{className:"mobile-modal-filter-background",ref:ie,children:Object(r.jsxs)("div",{className:"mobile-modal-filter",children:[Object(r.jsx)("div",{className:"mobile-modal-filter-container",children:Object(r.jsxs)("ul",{className:"mobile-filter-list",children:[Object(r.jsx)("li",{className:R&&0===Object.keys(f).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:me,children:Object(r.jsx)("div",{className:"mobile-rate-container",children:Object(M.translateWithI18Next)(v)})}),L(t,N,K,X).map((e=>Object(r.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{x(!0),$(e),P(!1)})(e),children:Object(r.jsxs)("div",{className:"mobile-rate-container",children:[Object(r.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),U(e.name,u),Object(r.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(Q).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(r.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,s,Z.name===f.name),children:Object(M.translateWithI18Next)("done")})]})}),Object(r.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:z&&z.length>2&&ee?Object(r.jsx)(_.b,{settings:ne,children:z&&z.length&&ee?z.map(((e,t)=>Object(r.jsx)(D,{cardType:"carousal",min:i,max:n,cardData:e,savedModifierHandler:le,savedModifiers:N,tenantReducer:q,modgrpId:c,modGrpName:s,updatedItems:E,getCartModifiers:ee},t))):null}):z&&z.length&&ee&&z.map(((e,t)=>Object(r.jsx)(D,{cardType:"regular",min:i,max:n,cardData:e,savedModifierHandler:le,savedModifiers:N,tenantReducer:q,modgrpId:c,modGrpName:s,updatedItems:E,getCartModifiers:ee},t)))||null})]}),Object(r.jsxs)(o.a.Fragment,{children:[W(t,N,K,X)&&Object(r.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(r.jsxs)("div",{className:"language-select-uplift",ref:ae,"data-testid":"desktop-dropdown-filter",onClick:se,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.ad)(f.name,f.name+be(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:H(f,u,Q)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDowm"})]}),C&&Object(r.jsx)("div",{ref:oe,children:Object(r.jsx)("ul",{className:"filter-list",children:L(t,N,K,X).map((e=>function(e,t,i,a,o,n){return Object(r.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,i),children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsxs)("div",{className:"rate-container",children:[Object(r.jsx)("span",{className:"filter-item-rate",children:e.name!==a?"+".concat(o).concat(e.rate):""}),e.name===n.name&&Object(r.jsx)(A.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,s,u,Q,f)))})})]}),Object(r.jsx)("div",{className:"modifier-list-items",children:z&&z.length&&ee?z.map(((e,t)=>Object(r.jsx)(D,{min:i,max:n,cardData:e,savedModifierHandler:le,savedModifiers:N,tenantReducer:q,modGrpName:s,modgrpId:c,updatedItems:E,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:i,selectedModifiers:n,source:l=""}=e,{PDP:d}=p.a,[c,s]=Object(a.useState)(t),[u,v]=Object(a.useState)([]),{userOrderState:m}=Object(a.useContext)(j.a),{pdpScreenCommons:{currentAccordian:b,modGroupIdsUpdated:h}}=m,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(a.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);s([...e])})()}),[JSON.stringify(t)]),Object(a.useEffect)((()=>{if(Object(O.hb)(b,l===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===b){var i;const t=(null===(i=e.modifiers)||void 0===i?void 0:i.length)>1?300:0;let a=document.getElementById("accordion-"+b).offsetTop;window.scrollTo({top:a-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));s([...e])}}),[b,JSON.stringify(t)]);const I=e=>{let t,i,a;if(e.length){t=e.map(JSON.stringify),i=new Set(t),a=Array.from(i).map(JSON.parse);let o=[];if(u.length){o=u;let e=u.findIndex((e=>e[0].modgrpId===a[0].modgrpId));e>=0?(o.splice(e,1,a),v([...o])):v([...o,a])}else v((e=>[...e,a]))}};Object(a.useEffect)((()=>{u.length&&i(u),n(u)}),[u]);const N=e=>{let t=[];for(let i of u)for(let a of i)a.modgrpId===e&&a.dname&&a.dname.length&&t.push(a.dname[0].value);return t.join(", ")};return c.map(((e,t)=>{let{id:i,name:a,modifiers:n,expanded:l,min:d,max:v}=e;const m=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(i);return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)("div",{className:"accordian-container",id:"accordion-"+i,"data-testid":"product-listing-accordion-".concat(t),children:[Object(r.jsxs)("div",{className:"accordian-header",children:[Object(r.jsxs)("div",{className:"".concat(l?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(i),onClick:e=>((e,t)=>{e&&g();let i=c.length?JSON.parse(JSON.stringify(c)):[];i.map(((e,i)=>(e.id===t&&(e.expanded=!e.expanded),e))),s([...i])})(e,i),children:[Object(r.jsx)("span",{className:"accordion-test",tabIndex:"0",children:a}),m?Object(r.jsx)("span",{className:"updatedBadge",children:Object(M.translateWithI18Next)("updated")}):null]}),Object(r.jsx)("span",{className:"selected-mod",children:u.length&&N(i)})]}),Object(r.jsx)("div",{className:"".concat(l?"panel panel-active":"panel"),children:Object(r.jsx)(B,{modgrpId:i,modGrpName:a,data:n,min:d,max:v,showSelectedModifier:I})})]})},t)}))},z=i(35),V=i(61),Y=i(235),q=i(1099),Q=i(1109),K=i(0),J=i(173),X=i(262),Z=i(396),$=i(80),ee=i(132),te=i(211);const ie=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ae=(e,t)=>{var i,a,o,n;const l=null===t||void 0===t?void 0:t[K.gd.VIEW_PRODUCT],d=null===l||void 0===l?void 0:l.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===l||void 0===l||null===(i=l.promoParams)||void 0===i||null===(a=i.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===a?void 0:a.quantity,maxPromoQuantity:null===l||void 0===l||null===(o=l.promoParams)||void 0===o||null===(n=o.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===n?void 0:n.maxQuantity}},oe=(e,t,i,a)=>{var o,n,l,d,c,r;const{setClickEvent:s,setConfirmed:u,productMapById:v,modifiersList:b,data:j,currencyConversionFactor:p,itemCount:g,minipdpData:N,FROMFLAGEDIT:S,dispatch:f,cartReducer:T,tenantId:C,id:x,modifierGrp:E,userOrderStateDispatch:y,confirmUpsizeName:D,userType:A,categoryMapById:_,addToOrderClickHandler:P,closeParentModal:L,getPwaStorageData:w,sliceDispatch:M,isAddonsAndUpsellEnabled:k}=t,{foodLines:F}=(null===T||void 0===T?void 0:T.cartData)||{},{couponCode:U,discountTotal:H}=Object(O.zb)(null===T||void 0===T?void 0:T.cartData),W=Object(O.Td)(null===T||void 0===T?void 0:T.cartData)?Object(O.nc)(null===N||void 0===N?void 0:N.foodLineId,null===T||void 0===T?void 0:T.cartData):{},B=Math.abs(g-(null===W||void 0===W?void 0:W.count));let G="";e.stopPropagation(),e.preventDefault(),s(e),u(!0);const Y=(null===x||void 0===x?void 0:x.split("_")[0])||"",{categoryId:q=""}=null!==(o=null===v||void 0===v?void 0:v[Y])&&void 0!==o?o:{},{UPDATE_MENU_UPESLL_ADDONS_CONFIGS:ee}=h.a,{ADDONS:ie}=te.MENU_PLP_CONSTANT,{id:oe="",name:le="",url:de=""}=null!==(n=null===_||void 0===_?void 0:_[q])&&void 0!==n?n:{},ce=null===t||void 0===t||null===(l=t.categoryMapById)||void 0===l||null===(d=l[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,re=Object(Z.d)(Y,i);if(Object(Z.c)({categoryUrl:ce,itemInCart:re,alertType:Object(Z.j)(null===i||void 0===i?void 0:i.timebasedItemInCart,null===K.Sb||void 0===K.Sb?void 0:K.Sb.ITEM)},i,y))return;m()(b,(e=>{G+="".concat(e[0].name,", ")}));const se=Object(O.Ic)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let ue={item_name:Object(O.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.oc)(null===j||void 0===j?void 0:j.id),item_category:le,coupon:U,discount:+(H/p).toFixed(2),price:Object(O.oc)(se),item_list_name:le,item_list_id:oe,index:Object(J.b)(F,null===j||void 0===j?void 0:j.id,0),quantity:B,currency:K.p.INR,item_variant:null!==j&&void 0!==j&&null!==(c=j.modgrps)&&void 0!==c&&c.length?null===j||void 0===j||null===(r=j.modgrps)||void 0===r?void 0:r.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const ve=ae(x,w);if(N.fromFlag!==S){var me,be,Oe,je,pe,he;f(Object(z.a)({params:{basketId:null===T||void 0===T||null===(me=T.cartData)||void 0===me?void 0:me.id},tenantId:C},[{Id:x,categoryId:oe,quantity:g,modGrps:ne(E),categoryName:le,categoryUrl:de,isProductPromo:null===ve||void 0===ve?void 0:ve.isPromoApplied}],(()=>{null!==ve&&void 0!==ve&&ve.productPromosInStorage&&(P({couponCode:ve.productPromosInStorage}),M(Object($.c)({key:K.gd.VIEW_PRODUCT})),y({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),L()),k&&y({type:ee,value:{viewType:ie}})}))),Object(Q.a)({item_name:Object(O.oc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.oc)(null===j||void 0===j?void 0:j.id),item_category:le,price:Object(O.oc)((null===j||void 0===j||null===(be=j.availability)||void 0===be||null===(Oe=be[0])||void 0===Oe?void 0:Oe.price)/p),item_variant:Object(O.oc)(null===(je=G)||void 0===je?void 0:je.trim()),item_list_name:le,item_list_id:oe,index:1,quantity:g,coupon:U||"",discount:+(H/p).toFixed(2),currency:a},A,g*Object(O.oc)((null===j||void 0===j||null===(pe=j.availability)||void 0===pe||null===(he=pe[0])||void 0===he?void 0:he.price)/p),U,a)}else{var ge;f(Object(z.y)({params:{basketId:null===T||void 0===T||null===(ge=T.cartData)||void 0===ge?void 0:ge.id,basketLineItemId:N.foodLineId},tenantId:C},{Id:x,quantity:g,modGrps:ne(E)}));const e=(null===ue||void 0===ue?void 0:ue.price)*(null===ue||void 0===ue?void 0:ue.quantity);g!==(null===W||void 0===W?void 0:W.count)&&(g>(null===W||void 0===W?void 0:W.count)?Object(I.j)(A,ue,+e,U,a):Object(I.l)(V.a.ANALYTICS_EVENTS.REMOVE,ue,A,a,e))}f(Object(z.u)(new Date)),y({type:V.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:x,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},O.Bb)})(D)};function ne(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var le=e=>{var t,i,n;const{data:l,categoryId:c,handleClose:s,showPriceContent:v=!0,source:m="",addToOrderClickHandler:b,closeParentModal:p}=e,{id:I,modgrps:N,availability:S=[],additionalProperties:f=[]}=l,{userOrderState:T,userOrderStateDispatch:C}=Object(a.useContext)(j.a),{confirmUpsizeName:x,minipdpData:E,timeBasedCetegory:y}=T,[D,A]=Object(a.useState)(N),[_,R]=Object(a.useState)([]),P=Object(d.b)(),L=Object(d.c)((e=>e.tenantReducer)),w=Object(d.c)((e=>e.cartReducer)),{cartData:k={},isAddItemLoading:F=!1}=w||{},{currencySymbol:U,tenantId:H,currencyConversionFactor:W,maxItemCountPerLineItem:B,componentOptions:{web:{global:{showPriceWithTax:z=!1}={}}={}}={}}=L,Q=null===L||void 0===L||null===(t=L.componentOptions)||void 0===t||null===(i=t.plp)||void 0===i?void 0:i.isAddonsAndUpsellEnabled,{flatResponse:{productMapById:K={},categoryMapById:J={}}={}}=null!==(n=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==n?n:{},[X,Z]=Object(a.useState)(0),te=Object(O.Ic)(S[0],f,W,z),{ADDTOCART:ne,UPDATECART:le}=g,{FROMFLAGEDIT:de,EDIT_CLICKED:ce}=h.a,[re,se]=Object(a.useState)(1),[ue,ve]=Object(a.useState)(0),{ITEM_QUANTITY:me}=Y.a,[be,Oe]=Object(a.useState)(!1),[je,pe]=Object(a.useState)(null),he=Object(d.c)((e=>e.appStateReducer.userStatus)),ge=Object(O.od)(null===he||void 0===he?void 0:he.localized,null===he||void 0===he?void 0:he.loggedIn),Ie=Object(ee.a)(),Ne=Object(ee.b)($.b),Se=ae(I,Ne),fe={setClickEvent:pe,setConfirmed:Oe,categoryId:c,modifiersList:_,data:l,itemCount:re,minipdpData:E,FROMFLAGEDIT:de,dispatch:P,cartReducer:w,tenantId:H,id:I,modifierGrp:D,userOrderStateDispatch:C,confirmUpsizeName:x,productMapById:K,currencyConversionFactor:W,userType:ge,categoryMapById:J,addToOrderClickHandler:b,closeParentModal:p,getPwaStorageData:Ne,sliceDispatch:Ie,isAddonsAndUpsellEnabled:Q};Object(a.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:D,modifiedItemPrice:X})}),[D]),Object(a.useEffect)((()=>{const e=Object(O.Td)(k)?Object(O.mc)(I,k):{},t=Object(O.Td)(e)?e.count:0;if(ve(t),E.fromFlag===de){const e=Object(O.Td)(k)?Object(O.nc)(E.foodLineId,k):{},t=Object(O.Td)(e)?e.count:1;se(t)}}),[k]),Object(a.useEffect)((()=>()=>{C({type:ce,value:{cartEditClicked:!1}})}),[C,ce]);Object(a.useEffect)((()=>{be&&!F&&s(je)}),[be,F]),Object(a.useEffect)((()=>(window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}))),Object(a.useEffect)((()=>{E.fromFlag!==de&&I&&(null===Se||void 0===Se?void 0:Se.minPromoQuantity)&&se(null===Se||void 0===Se?void 0:Se.minPromoQuantity)}),[I]);const Te=E.fromFlag===de?Object(M.translateWithI18Next)(le):Object(M.translateWithI18Next)(ne);return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(r.jsx)("form",{className:"form",children:Object(O.Td)(N)?Object(r.jsx)(G,{grouplist:N,getSelectedModifiers:e=>{let t=0,i=[];e.forEach((e=>{let a={};a.id=e[0].modgrpId,a.modifiers=[],e.forEach((e=>{let i={},o=JSON.parse(JSON.stringify(e));i.id=o.id,i.quantity=o.defaultQuantity,i.modGrps=o.modgrps,i.categoryId=c,a.modifiers.push(i);let n=Object(O.Ic)(e.availability[0],e.additionalProperties,W,z);t+=n})),i.push(a)})),Z(te+t),A(i)},selectedModifiers:R,source:m}):null})}),v&&Object(r.jsx)("div",{className:"price-content",children:Object(r.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[re?Object(r.jsx)(q.a,{itemCount:re,itemQuantity:me,updateItemQuantity:(e,t)=>{t===V.a.QUANTITY_ACTION.Increase?se((e=>+e+1)):se((e=>+e-1))},quantityAction:V.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==Se&&void 0!==Se&&Se.isPromoApplied?null===Se||void 0===Se?void 0:Se.maxPromoQuantity:B,cartItemCount:ue+1}):null,Object(r.jsxs)(u.a,{className:"button start-order-btn ".concat(F?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>oe(e,fe,y,null===L||void 0===L?void 0:L.currencyShortName),children:[Object(r.jsx)("span",{className:"title-for-button",children:"".concat(Te)}),Object(r.jsx)("span",{className:"currency-symbol",children:"".concat(U," ").concat((Ce=X,(re*Ce).toFixed(2)))})]})]})})]});var Ce},de=i(52);const ce=e=>{if(e){var t;let i=JSON.parse(JSON.stringify(e));return i.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),i}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:i=!0,callBackToPDP:o,data:n={},source:c=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=de.a,{userOrderStateDispatch:m}=Object(a.useContext)(j.a),b=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(O.Td)(n)?ce(n):ce(b),h=Object(d.b)(),I=Object(d.c)((e=>e.cartReducer)),N=e=>{e.stopPropagation(),e.preventDefault(),m({type:v,value:{fromCouponSection:!1}}),h(Object(z.v)({showProductListingModal:!1,categorySelected:""}))},S=Object(r.jsx)(le,{data:p,categoryId:I.categorySelected,handleClose:N,showPriceContent:i,callBackToPDP:o,"data-testid":"product-listing-modal-enabled",source:c,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),f=Object(r.jsx)(s,{handleClose:N,ProductListingModalForm:S,headerText:Object(M.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),T=Object(r.jsx)("div",{className:"pdp-custm",children:S});return t?l.a.createPortal(f,document.getElementById("modal-popups")):T}},1126:function(e,t,i){"use strict";var a=i(106),o=i(92),n=i(4),l=i(61),d=i(6),c=i(3),r=i(85),s=i(44),u=i(132),v=i(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:i={},setConfirmationModel:m=null,itemRemoveHandler:b=null,isRemoveItemLoading:O=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:I=null,addtoCartClinckHandler:N=null,setAddToClickParms:S=null,addToClickParms:f={},selectedStoreData:T=null,clickHandler:C=null,title:x="",confirmButtonText:E="",removeCouponHandler:y=null,couponCode:D="",couponTitle:A="",itemRemoveWrapper:_=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:P=""}=e,{userOrderStateDispatch:L}=Object(c.useContext)(r.a),w=Object(u.a)(),{REMOVE_COUPON:M}=l.a,{CONTINUE:k,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:U,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:H,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:W}=n.a;return Object(v.jsx)(a.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(o.a,{title:h===M?x:Object(d.translateWithI18Next)(U),giftCardOrVoucherErrMsg:h===M?R:Object(d.translateWithI18Next)(W),giftCardErrFirstMsg:h===M?P:Object(d.translateWithI18Next)(H),altText:"",confirmButtonText:h===M?E:Object(d.translateWithI18Next)(k),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:i,setConfirmationModel:a,itemRemoveHandler:o,isRemoveItemLoading:n,setCouponModal:d,setRemoveItem:c,flag:r,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:b,addToClickParms:O,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:I,couponTitle:N,itemRemoveWrapper:S,userOrderStateDispatch:f,sliceDispatch:T}=e;const{EDIT_ITEM:C,REMOVE_ITEM:x,QUANTITY_INCREASE_DECREASE:E,STORE_DISPOSITION_UPDATE:y,REMOVE_COUPON:D}=l.a;if(d(!1),r===x&&S({isAddedPromosCoupon:t,item:i,setConfirmationModel:a,itemRemoveHandler:o,isRemoveItemLoading:n,setRemoveItem:c,sliceDispatch:T}),r===E&&(f({type:s.p,value:{couponErrorMessage:"REMOVE"}}),v(i,u,h)),r===C){const{event:e,data:t,miniPDPData:i,totalAmount:a,cartId:o,pdpDataForUpdateFoodLine:n,cartData:l}=O;m(e,t,i,o,a,n,l),b({}),d(!1)}r===y&&p(h,j),r===D&&g(I,N)})({isAddedPromosCoupon:t,cartItem:i,setConfirmationModel:m,itemRemoveHandler:b,isRemoveItemLoading:O,itemRemoveWrapper:_,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:I,addtoCartClinckHandler:N,setAddToClickParms:S,addToClickParms:f,selectedStoreData:T,clickHandler:C,events:e,removeCouponHandler:y,couponCode:D,couponTitle:A,userOrderStateDispatch:L,sliceDispatch:w}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1127:function(e,t,i){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",AUSTRALIA:"AUSTRALIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",YUM:"Yum",PROTECTED_DISCLOSURE:"Protected Disclosure",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAL:"external",FIND_A_KFC:"Find a KFC",FIND_A_KFC_TITLE:"FindAKFCLink",HEADLINE:"headline",YOUTUBE:"Youtube",SNAPCHAT:"Snapchat",LINKEDIN:"LinkedIn",TIKTOK:"Tiktok",LINE:"Line",COOKIES_SETTINGS:"Cookie Settings"}},1128:function(e,t,i){"use strict";i.d(t,"c",(function(){return v})),i.d(t,"b",(function(){return b})),i.d(t,"d",(function(){return O})),i.d(t,"a",(function(){return p}));i(3);var a=i(5),o=(i(85),i(262)),n=i(16),l=i(1132),d=i(1098),c=(i(62),i(28),i(1095)),r=i(1106),s=i(6),u=i(61);i(210),i(0),i(2);const v=(e,t,i,n,d,r,s,v,b,O,p,h,g,I,N,S,f)=>{const{HASH_SYMBOL:T}=o.a,{QUANTITY_ACTION:C}=u.a,{SINGLE:x}=l.a;let E,y,D=Object(a.Td)(I)?Object(c.w)(I,N,1):"";if(1===n||Object(a.j)([!r,O.length>=n,O.length===d])){if(j(i,r),Object(a.j)([!r,Object(a.Td)(I),!f])){var A,_;let e=N.split(T);e.pop();let t=Object(a.ad)(O.length>1,null===(A=O[1])||void 0===A?void 0:A.itemId,null===(_=O[0])||void 0===_?void 0:_.itemId);e.push(t);let i=e.join(T),o=Object(c.w)(I,i,1);E=Object(c.G)(I,{price:D,flag:C.Increase},S),E=Object(c.G)(E,{price:o,flag:C.Decrease},S),Object(c.v)(I,i)&&(E=Object(c.E)(E,i)),S&&(y=p.sopacPDPCustomization.updatedPrice+D-o)}!r&&v(!0),s(b,x,O),m(y,E,g,h)}else if(Object(a.j)([r,O.length>n,O.length<=d])){v(!1),s(b,!1,O);let e=Object(c.H)({pdpPayloadData:I,forModal:f,modgrps:b.modgrps,getPayloadUpdated:E,modifierPrice:D,isL3Custom:S,getUpdatedPrice:y,userOrderState:p,flag:C.Decrease});E=e.getPayloadUpdated,y=e.getUpdatedPrice,m(y,E,g,h)}else if(Object(a.j)([!r,O.length>=n,O.length<d])){j(i,r),v(!0),s(b,!0,O,!0);let e=Object(c.H)({pdpPayloadData:I,forModal:f,modgrps:b.modgrps,getPayloadUpdated:E,modifierPrice:D,isL3Custom:S,getUpdatedPrice:y,userOrderState:p,flag:C.Increase});E=e.getPayloadUpdated,y=e.getUpdatedPrice,m(y,E,g,h)}},m=(e,t,i,l)=>{const{CONFIRM_UPSIZE_ANALYTICS:d}=n.a,{PDP_PAYLOAD_DATA:c,UPDATE_SHOW_PDP_CUSTOM_MODAL:r}=o.a;l({type:r,value:{updatedPrice:e}}),Object(a.Td)(t)&&l({type:c,value:t}),l({type:d,value:{confirmUpsizeName:i}})},b=(e,t,i,a,o)=>{const{SETFLAGCASE:n}=l.a;switch(e){case n.DEFAULT:case n.FROMEDIT:t(!0),i(a,!0,o);break;case n.ITEMINCLUDES:t(!0);break;default:t(!1)}},O=(e,t,i,o,d,c)=>{const{SETFLAGCASE:r}=l.a,{FROMFLAGEDIT:s}=n.a;if(0===e.length&&c){if(o&&t.minipdpData.fromFlag!==s)return r.DEFAULT;if(t.minipdpData.fromFlag===s&&d&&((e,t)=>{if(Object(a.Td)(t))return t.filter((t=>{let{id:i}=t;return i===e})).length>0;return!1})(i,d))return r.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(i))return r.ITEMINCLUDES},j=(e,t)=>{let{analyticsObjectData:i,currLocation:a}=e;t||Object(d.e)(i,o.a.ADDONS)},p=(e,t,i)=>{const{CUSTOMIZE_BUTTON_TEXT:a,EDIT_BUTTON_TEXT:n}=r.a,{id:l}=e;let d="",u="".concat(t).concat(o.a.HASH_SYMBOL).concat(l);return d=Object(c.v)(i,u)?Object(s.translateWithI18Next)(n):Object(s.translateWithI18Next)(a),d}},1130:function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var a=i(3),o=i.n(a),n=i(62),l=i(28),d=i(73),c=i(5),r=i(35),s=i(6),u=i(41),v=i(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:i,setRef:a=null}=e,{contentText:n="",infoObject:l=null,orderTypes:d=[]}=t,c=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{i(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{ref:a,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),l&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:l.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:i,"data-testid":"form-component",children:c})]})})},b=i(144),O=i(55);var j=e=>{Object(a.useEffect)((()=>{Object(O.o)()}),[]);const{handleClose:t,DispositionModuleForm:i,headerText:n,modalTitleId:l=""}=e;return Object(v.jsx)(o.a.Fragment,{children:Object(v.jsx)(b.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:l,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:i})})},p=i(21),h=i(9),g=i(0),I=i(407),N=i(16);const S=(e,t)=>{const i=[];for(const n of e){var a,o;const e=null===n||void 0===n||null===(a=n.fields)||void 0===a||null===(o=a.name)||void 0===o?void 0:o.split("-"),l=e[e.length-1].trim().toUpperCase();if(t&&null!==l&&void 0!==l&&l.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:c=!1,name:r,showOption:s=!0,id:u="",dispositionType:v}=n.fields;i.push({buttonText:d,selectDefault:c,type:r,showOption:s,id:u,dispositionType:v})}return i},f=e=>{const{headline:t="",subHeadline:i="",subHeadlineType:a="",title:o=""}=e[0].fields||{};return{modalHeaderText:o,contentText:t,infoObject:{type:a,infoText:i}}},T=(e,t,i,a)=>{var o;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:l}=N.a;null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length&&!a?Object(c.Fe)(t,{},l,n,i):i()};var C=i(85),x=i(24),E=i(113),y=i(92),D=i(236),A=i(1103),_=i(158),R=i(133),P=i(52);var L=e=>{const{CURRENTLY_CLOSED:t,SORRY:i}=A.a,{userOrderState:o,userOrderStateDispatch:u}=Object(a.useContext)(C.a),{contentData:b={}}=o.dispositionStateData,L=Object(l.c)((e=>e.tenantReducer)),{tenantId:w,disableOrderTypeAnalytic:M,isSpecialEventEnabled:k,enableDeliveryMenuOption:F}=L,{deeplinkSelectedStoreId:U,deepLinkStoreMode:H,isDeepLinkURL:W}=o,B=Object(c.Td)(b)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=e.disposition&&e.disposition.fields||{},{headline:o=[],supportedDispositions:n=[]}=a,l={modalHeaderText:"",modalContent:{}},d=i?n:n.filter((e=>{var t,i;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(i=t.dispositionType)||void 0===i?void 0:i.toUpperCase())!==g.Cf}));l.modalContent.orderTypes=S(d,t);const{modalHeaderText:c,contentText:r,infoObject:s}=f(o);return l.modalHeaderText=c,l.modalContent.contentText=r,l.modalContent.infoObject=s,l}({dispositionData:b,deepLinkStoreMode:H,isSpecialEventEnabled:k,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:z=""}=B;const{SEARCH_ORDER_DATA:V,MENU_URL:Y,DISPOSITION_DATA:q,CURRENT_STORE_INFO:Q,SCHEDULE_ORDER_TIME_DATA:K,SELECTED_TILE_DATA:J,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ie,SET_REDIRECTION_PATH:ae}=N.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:oe,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:le,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:ce,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:se,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:be}=I.a,{ENABLE_ADDRESS_LOCALISATION:Oe,SHOW_MAP_VIEW_BUTTON:je}=P.a,pe=o&&o.dispositionStateData&&o.dispositionStateData.dispositionType?o.dispositionStateData.dispositionType:null;let he="";const ge=Object(c.Sd)(o.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):o.dispositionNew,Ie=Object(l.b)(),Ne=Object(n.g)(),[Se,fe]=Object(a.useState)(""),[Te,Ce]=Object(a.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:xe={},qrCodeScanTime:Ee}=Object(l.c)((e=>e.cartReducer)),{customerId:ye=""}=Object(l.c)((e=>e.profileReducer));let De=Object(l.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:Re={}}=Object(l.c)((e=>Object(c.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Pe}}=I.a;Object(a.useEffect)((()=>{Ie(Object(d.u)()),Ie(Object(d.t)()),Ie(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(H,Ne)}),[Ie]);const Le=Object(a.useCallback)(((e,t)=>{e.stopPropagation();T(xe,u,(()=>{Ce({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Pe,u,xe]);Object(a.useEffect)((()=>{H&&Ie(Object(d.l)({storeId:U,tenantId:w},null,(()=>{Ce({showError:!0,errMsg:Object(s.translateWithI18Next)(re),errDesc:null,buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Le(e,!1)})})))}),[ce,re,H,U,Ie,w]);const we=(e,t,i,a)=>{e.stopPropagation(),e.preventDefault();const o=t.split("-");if(he=o[o.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=oe),a&&(he=a),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(c.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},c.Bb)})({selectedDispositionType:he}),H){const e={data:[{storeId:U,channel:x.b.channel,service:g.fe},{storeId:U,channel:x.b.channel,service:g.Eb}],store:[{...Re,service:g.fe},{...Re,service:g.Eb}],tenantId:w,setStatusFlag:!1,isFavoritePage:!1},t=()=>{fe(he),Ie(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};T(xe,u,t,i)}else[oe,ne,le,de].includes(he.toUpperCase())&&(u({type:ie,value:{findAKFC:!1}}),u({type:V,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:q,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:Oe,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:l=!1}=De,r=Object(c.od)(n,l);((e,t)=>{var i;t||Object(O.p)(null===h.a||void 0===h.a||null===(i=h.a.selectOrderType)||void 0===i?void 0:i.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(c.h)(he),"%userType%":r},M)},Me=async(e,t)=>{const i=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(c.Mb)(t)));if(null!==i&&void 0!==i&&i.length){var a,n,l,d,v,m,b,j,p,h,I,N,S;const e={time:"ASAP",interval:null===i||void 0===i||null===(a=i[0].summary.timings.scheduled.periods[0])||void 0===a?void 0:a.interval,date:new Date,selectedTime:"ASAP"},s=await Object(c.nb)(Ie,!0,Ee,null===i||void 0===i?void 0:i[0],Object(c.Mb)(t),ye,e);Ie(Object(r.f)({data:s,tenantId:w})),u({type:$,value:{oldvalue:ge,newValue:{store:null===i||void 0===i?void 0:i[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(n=o.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===i||void 0===i?void 0:i[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===o||void 0===o||null===(l=o.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress})),Object(c.ze)(null===i||void 0===i||null===(d=i[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(b=m.address)||void 0===b||null===(j=b.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(c.vf)();const g={storeID:null===i||void 0===i||null===(p=i[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===i||void 0===i||null===(h=i[0])||void 0===h||null===(I=h.addresses)||void 0===I||null===(N=I[0])||void 0===N||null===(S=N.address)||void 0===S?void 0:S.pinCode};Object(O.y)(g),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let i=e||null;u({value:{selectedData:{}},type:J}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),u({value:i,type:Q}),Ie(Object(E.a)({...De,localized:!0})),u({value:{selectedDateTime:t},type:K}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(L)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP"),Ne.push({pathname:"".concat(Y)})})(null===i||void 0===i?void 0:i[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===oe?Ce({showError:!0,errMsg:Object(s.translateWithI18Next)(ve),errDesc:null,buttonText:Object(s.translateWithI18Next)(me),buttonCTA:e=>we(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&Ce({showError:!0,errMsg:Object(s.translateWithI18Next)(ue),errDesc:null,buttonText:Object(s.translateWithI18Next)(be),buttonCTA:e=>we(e,g.Fb,!0)})})(t)};Object(a.useEffect)((()=>{if(Ae.length>0&&!_e&&Se&&H){var e,a,o;((e,a)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Ce({showError:!0,errMsg:"".concat(Object(s.translateWithI18Next)(i)," ").concat(a," ").concat(Object(s.translateWithI18Next)(t)),errDesc:Object(s.translateWithI18Next)(se),buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Le(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,i,a,o,n,l,d,c,r,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(a=e.name)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value)}}),[Ae,_e,H]);const ke=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ae,value:{redirectionOrder:""}}),u({type:ie,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),W&&Object(c.Bd)(Ne)};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&ke(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:G,onDispositionMethodSubmit:we}),Ue=Object(v.jsx)(j,{handleClose:ke,DispositionModuleForm:Fe,headerText:z,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Te||void 0===Te?void 0:Te.showError)&&Object(v.jsx)(D.a,{handleClose:null,CartAlertForm:Object(v.jsx)(y.a,{title:null===Te||void 0===Te?void 0:Te.errMsg,contentMsg:null===Te||void 0===Te?void 0:Te.errDesc,confirmButtonText:null===Te||void 0===Te?void 0:Te.buttonText,confirmHandler:null===Te||void 0===Te?void 0:Te.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),Ue]})}},1131:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i(17),o=i(6),n=i(15),l=i(4);const d=[{key:a.d.roundTheClock,image:n.a.RoundTheClockDark,label:Object(o.translateWithI18Next)(l.a.ROUND_THE_CLOCK)},{key:a.d.birthday,image:n.a.BirthdayDark,label:Object(o.translateWithI18Next)(l.a.BIRTHDAY)},{key:a.d.breakfast,image:n.a.BreakfastDark,label:Object(o.translateWithI18Next)(l.a.BREAKFAST)},{key:a.d.contactless,image:n.a.ContactlessDark,label:Object(o.translateWithI18Next)(l.a.CONTACTLESS)},{key:a.d.driveThru,image:n.a.DrivethruDark,label:Object(o.translateWithI18Next)(l.a.DRIVETHRU)},{key:a.d.driveThruOnly,image:n.a.DrivethruDark,label:Object(o.translateWithI18Next)(l.a.DRIVETHRU)},{key:a.d.foodCourt,image:n.a.FoodCourtDark,label:Object(o.translateWithI18Next)(l.a.FOODCOURT)},{key:a.d.wifi,image:n.a.WifiDark,label:Object(o.translateWithI18Next)(l.a.FREE_WIFI)},{key:a.d.wifiOnly,image:n.a.WifiDark,label:Object(o.translateWithI18Next)(l.a.WIFI)},{key:a.d.kiosks,image:n.a.KiosksDark,label:Object(o.translateWithI18Next)(l.a.KIOSKS)},{key:a.d.parking,image:n.a.ParkingDark,label:Object(o.translateWithI18Next)(l.a.PARKING)},{key:a.d.playground,image:n.a.PlaygroundDark,label:Object(o.translateWithI18Next)(l.a.PLAYGROUND)},{key:a.d.refill,image:n.a.RefillDark,label:Object(o.translateWithI18Next)(l.a.REFILL)},{key:a.d.terraces,image:n.a.TerracesDark,label:Object(o.translateWithI18Next)(l.a.TERRACES)},{key:a.d.phc,image:n.a.AccessibilityDark,label:Object(o.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:a.d.accessibility,image:n.a.AccessibilityDark,label:Object(o.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:a.d.restroom,image:n.a.RestRoomDark,label:Object(o.translateWithI18Next)(l.a.RESTROOM)},{key:a.d.cateringType,image:n.a.BirthdayDark,label:Object(o.translateWithI18Next)(l.a.CATERING_TEXT)}],c=(e,t)=>d.filter((t=>{var i,a;return(null===e||void 0===e||null===(i=e.amenities)||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},1132:function(e,t,i){"use strict";t.a={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelections",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"}},1133:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const a={URL:"/images/offers/lg/",PNG:".png",IMAGES:"/images/",DEFAULT_IMAGE_PATH:"/images/items/no-image.jpg",VIEW_DETAIL_IMAGE_PATH:"/images/offers/detail/",PROMOS_CARD_IMAGE_PATH:"/images/offers/card/",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,CONTENT_DATA_MAX_LENGTH_TO_SHOW:9,TIME_IN_MILLISECONDS:1e3,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},BUTTON_TEXT:{VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},OFFERS_HEADER_TEXT:{OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},FADE_CARD_INDEX:3,DEFAULT_PAGE_SIZE:6,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]}},1134:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var a=i(3),o=i(75),n=i.n(o),l=i(144),d=i(5),c=(i(0),i(1099)),r=i(61),s=i(85),u=i(16),v=i(28),m=i(145),b=i(262),O=i(35),j=i(15),p=i(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:i,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:n,isEditSelection:l}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=b.a,{userOrderState:I,userOrderStateDispatch:N}=Object(a.useContext)(s.a),{MINI_PDP_DATA:S,FROMFLAGEDIT:f,EDIT_CLICKED:T}=u.a,{QUANTITY_ACTION:C}=r.a,x=i[t],E=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[y,D]=Object(a.useState)(!1),{Single_Arrow_Edit:A}=j.a,_=(e,a)=>{x.quantity=a===C.Increase?(null===x||void 0===x?void 0:x.quantity)+1:(null===x||void 0===x?void 0:x.quantity)-1;const l=i;l[t]=x,o(l),n()};Object(a.useEffect)((()=>{var e;let t=!0;null===x||void 0===x||null===(e=x.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[x.modGrps]),Object(a.useEffect)((()=>{Object(d.tc)(E,x,I,y,h,O.v),D(!1)}),[E,y]);return Object(p.jsxs)(p.Fragment,{children:[l?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,i;N({type:S,value:{id:null===x||void 0===x||null===(e=x.foodItems)||void 0===e?void 0:e.id,flag:f,foodLineId:t}}),N({type:g}),N({type:T,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===x||void 0===x?void 0:x.tenantId,catalogName:null===x||void 0===x?void 0:x.catalog,itemId:null===x||void 0===x||null===(i=x.foodItems)||void 0===i?void 0:i.id})),D(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===x||void 0===x?void 0:x.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(x.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:A,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===x||void 0===x?void 0:x.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(x.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(c.a,{itemCount:null===x||void 0===x?void 0:x.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:C,maxItemCountPerLineItem:null===x||void 0===x?void 0:x.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var I=i(6);const N=e=>{const{addNewProductHandler:t,currencySymbol:i,updateCartHandler:a,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,totalAmount:l,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r,checkItemExpiry:s}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,m=Object.keys(o).length;return Object(p.jsxs)("div",{children:[Object.keys(o).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:o,SetCustomizableFoodItemsList:n,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r}))),c?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(I.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(I.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{s({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:a,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(I.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:i+l})]})})]})]})};var S=i(1109),f=i(397);const T=e=>{var t;const{filteredPreviousData:i,tenantData:o,dname:c,cardId:r,categoryId:s,categoryName:u,categoryUrl:m,itemCount:b,availability:j,imageName:h,itemFoodlineId:g,customizable:I,isFavouriteMenu:T=!1,cartData:C,clickHandler:x,handleClose:E,foodId:y,isEditSelection:D,headerText:A,pricewithouttax:_}=e,R=Object(v.b)(),{discountTotal:P="",couponCode:L=""}=Object(d.zb)(C)||{},w=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=Object(d.od)(null===w||void 0===w?void 0:w.localized,null===w||void 0===w?void 0:w.loggedIn),{flatResponse:{productMapById:k={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=o,[U,H]=Object(a.useState)({}),[W,B]=Object(a.useState)(0),{currencyConversionFactor:G,currencySymbol:z,componentOptions:V}=o,{web:{global:{showPriceWithTax:Y=!1}={}}={}}=null!==V&&void 0!==V?V:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:E,modalTitle:A},[Q,K]=Object(a.useState)(-1),[J,X]=Object(a.useState)([]),Z=()=>{K(-1),E&&E()},$=()=>{0===J.length&&0===Q?Z():J&&null!==J&&void 0!==J&&J.length&&Q<=J.length&&((()=>{var e,t,i,a;R(Object(O.x)({params:{basketId:null===C||void 0===C?void 0:C.id,basketLineItemId:null===(e=J[Q])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=J[Q])||void 0===t?void 0:t.quantity,isBundle:Object(f.e)((null===(i=J[Q])||void 0===i?void 0:i.foodItemId)||(null===(a=J[Q])||void 0===a?void 0:a.mdmId))}))})(),K(Q+1))};Object(a.useEffect)((()=>{$()}),[J]),Object(a.useEffect)((()=>{if(-1===Q){var e;const t={...U};null===C||void 0===C||null===(e=C.foodLines)||void 0===e||e.forEach((e=>{var i,a;if(null!==e&&void 0!==e&&null!==(i=e.item)&&void 0!==i&&i.customizable&&(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)===y){var n,l;const i=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:i,displayName:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.displayName,modGrps:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps,maxItemCountPerLineItem:null===o||void 0===o?void 0:o.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===C||void 0===C?void 0:C.catalog,categorySelected:s}}})),H(t),K(0)}else Q===J.length?(Z(),R(Object(O.u)(new Date))):$()}),[null===C||void 0===C?void 0:C.foodLines]),Object(a.useEffect)((()=>{ee()}),[U]);const ee=()=>{let e=0;Object.values(U).forEach((t=>{const i=Y?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*i})),B((e/G).toFixed(2))},te=Object(p.jsx)(l.a,{...q,children:Object(p.jsx)(N,{...e,"data-testid":"ModalTemplate",filteredPreviousData:i,addNewProductHandler:e=>{const t={id:r,itemCount:b,product:{productName:c,productImage:h,productPrice:Object(d.Fc)(j[0],_,G,Y)},itemFoodlineId:g},i={catId:s,catName:u,catUrl:m};T?x(e,t,I,i):(x(e,t,I,i),E&&E())},currencySymbol:z,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==C&&void 0!==C&&C.id&&F){var e,t;const i=Object.values(U),a=i.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(a);const n=null===i||void 0===i?void 0:i[0],{foodItems:l,unitPrice:c,quantity:r,previousQty:s}=null!==n&&void 0!==n?n:{},u=r-s;let v="".concat(Object(d.uc)(null===l||void 0===l?void 0:l.modGrps));const{categoryId:m="NA",categoryName:b="NA"}=null!==(e=null===k||void 0===k?void 0:k[null===l||void 0===l?void 0:l.id])&&void 0!==e?e:{};Object(S.a)({item_name:Object(d.oc)(null===l||void 0===l?void 0:l.name),item_id:Object(d.oc)(null===l||void 0===l?void 0:l.id),item_category:b,price:Object(d.oc)(c/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:b,item_list_id:m,index:1,quantity:u,coupon:L,discount:P/G,currency:null===o||void 0===o?void 0:o.currencyShortName},M,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(c/G))||void 0===t?void 0:t.toFixed(2)),L,null===o||void 0===o?void 0:o.currencyShortName)}},customizableFoodItemsList:U,SetCustomizableFoodItemsList:H,totalAmount:W,calculateTotalAmountHandler:ee,isEditSelection:D,handleClose:E})});return n.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(158),l=i(403),d=i(6),c=i(5),r=i(85),s=i(0),u=i(15),v=i(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:i,isMobile:m,onPositionChangeHandler:b,centerIndex:O,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=c.N,passAddress:I,storeCardHeight:N,latLongValue:S}=e,{PLACE_PIN:f}=n.a,{userOrderState:T}=o.a.useContext(r.a),{dispositionStateData:C={}}=T,{dispositionType:x=localStorage.getItem("dispositionType")}=C;let E,y,D=o.a.createRef();const[A,_]=Object(a.useState)(S),[R,P]=Object(a.useState)(!1),{RedMarker:L,RedMarkerNoText:w,BlackMarker:M,ArrowIcon:k}=u.a;Object(a.useEffect)((()=>{E=F(A),y=U(A)}),[]),Object(a.useEffect)((()=>{_(S),P(!1)}),[S]),Object(a.useEffect)((()=>{F(A),y=U(A)}),[A,O,R]);const F=e=>new window.google.maps.Map(D.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[O]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!m,gestureHandling:"greedy"}),U=e=>{const t=new window.google.maps.Geocoder;let i=e;E=F(i),j?R||(E.addListener("zoom_changed",(()=>{p(!1),P(!0)})),E.addListener("drag",(()=>{p(!1),P(!0)}))):(E.addListener("drag",(()=>{i={lat:E.getCenter().lat(),lng:E.getCenter().lng()},y.setPosition(i)})),window.google.maps.event.addListener(E,"dragend",(function(){!function(e,t,i){e.geocode({location:i},((e,t)=>{"OK"===t&&e[0]&&I(e[0].formatted_address)}))}(t,0,i)})));let a=Object(c.ad)(Array.isArray(i)&&i.length>0,i,[i]).map(((e,t)=>{let i=new window.google.maps.Marker({position:e,map:E,visible:!0,icon:Object(c.qd)(!j,!R&&j&&t===O)?(null===x||void 0===x?void 0:x.toUpperCase())===s.Df?w:L:M});return i.addListener("click",(function(e){g(e.latLng)})),i}));return Object(c.ad)(Array.isArray(i),a,a[0])};return Object(v.jsxs)(o.a.Fragment,{children:[!t&&((null===x||void 0===x?void 0:x.toUpperCase())!==s.Df||""!==i&&i?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.ad)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(f)})})),m&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(N+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.hb)(0===O,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.ad)(0===O,e.preventDefault(),b(0)),children:Object(v.jsx)(l.a,{srcFile:k,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(O===A.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>O===A.length-1?e.preventDefault():b(1),children:Object(v.jsx)(l.a,{srcFile:k,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:D})]})}},1136:function(e,t,i){"use strict";i.d(t,"b",(function(){return m})),i.d(t,"h",(function(){return g})),i.d(t,"f",(function(){return N})),i.d(t,"e",(function(){return S})),i.d(t,"d",(function(){return f})),i.d(t,"a",(function(){return T})),i.d(t,"g",(function(){return C})),i.d(t,"c",(function(){return x}));var a=i(1133),o=i(214),n=i(5),l=i(12),d=i(35),c=i(14),r=i(11);const{URL:s,PNG:u,IMAGES:v}=a.a,m=(e,t,i)=>{const a=[...t];return!t.length&&a.push({cardType:"empty"}),!e&&a.push({cardType:"login"}),a},b=e=>"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1)),O=e=>"FALSE"!==String(e).toUpperCase()&&Object(n.ue)(e),j=(e,t,i)=>{let a="";return null!==i&&void 0!==i&&i.length?i.forEach((e=>{var i;e.attribute===t&&(a=null===e||void 0===e||null===(i=e.value[0])||void 0===i?void 0:i.value)})):e.forEach((e=>{e.key===t&&(a=e.value)})),a},p=e=>{let t=Object(n.ue)(String(e));return"string"==typeof t&&(t={},t.value=null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"")),e},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null===e||void 0===e?void 0:e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>");return Object(o.a)("".concat(t))},g=e=>e.length>25?e.substring(0,22)+"...":e,I=e=>{var t;const i=null===e||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name)));return null!==i&&void 0!==i&&i.length?null===i||void 0===i?void 0:i.map((e=>{var t,i;return null===(t=Object(n.b)(null!==(i=null===e||void 0===e?void 0:e.parameter)&&void 0!==i?i:"{}"))||void 0===t?void 0:t.items})).reduce(((e,t)=>null===e||void 0===e?void 0:e.concat(t))):[]},N=(e,t)=>e.map((e=>{var i,a,o,n,l,d,c,r,v,m,g,N,S,f,T,C,x,E,y,D,A,_,R,P,L,w,M,k,F,U,H,W,B,G;return{couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i?void 0:i.title)&&(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a?void 0:a.title.length)&&h(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o||null===(n=o.title[0])||void 0===n?void 0:n.value),smallText:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.description)&&(null===e||void 0===e||null===(d=e.promotionDetails)||void 0===d?void 0:d.description.length)&&(null===e||void 0===e||null===(c=e.promotionDetails)||void 0===c||null===(r=c.description[0])||void 0===r?void 0:r.value),imageSrc:(null===e||void 0===e||null===(v=e.promotionDetails)||void 0===v?void 0:v.image)&&(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.image.length)&&s+(null===e||void 0===e||null===(g=e.promotionDetails)||void 0===g||null===(N=g.image[0])||void 0===N?void 0:N.value)+u,imageName:(null===e||void 0===e||null===(S=e.promotionDetails)||void 0===S||null===(f=S.image)||void 0===f?void 0:f.length)&&(null===e||void 0===e||null===(T=e.promotionDetails)||void 0===T||null===(C=T.image[0])||void 0===C?void 0:C.value)+(null===t||void 0===t||null===(x=t.componentOptions)||void 0===x||null===(E=x.web)||void 0===E||null===(y=E.coupons)||void 0===y?void 0:y.imageType)+"?ver="+(null===t||void 0===t?void 0:t.imageVersion),validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:(G=null===e||void 0===e||null===(D=e.promotionDetails)||void 0===D?void 0:D.conditions,null===G||void 0===G?void 0:G.map((e=>{var t;return{displayOrder:e.displayOrder,message:null===(t=e.displayMessage[0])||void 0===t?void 0:t.value,parameter:p(null===e||void 0===e?void 0:e.parameter)}})).sort(((e,t)=>+e.displayOrder-+t.displayOrder))),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,itemDetails:null===e||void 0===e?void 0:e.itemDetails,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(A=e.promotionDetails)||void 0===A?void 0:A.cardType,header:j(null===e||void 0===e||null===(_=e.promotionDetails)||void 0===_?void 0:_.customProperties,"header",null===e||void 0===e||null===(R=e.promotionDetails)||void 0===R?void 0:R.customAttributesCulture),hideEndDate:j(null===e||void 0===e||null===(P=e.promotionDetails)||void 0===P?void 0:P.customProperties,"hideEndDate",null===e||void 0===e||null===(L=e.promotionDetails)||void 0===L?void 0:L.customAttributesCulture),legalText:j(null===e||void 0===e||null===(w=e.promotionDetails)||void 0===w?void 0:w.customProperties,"legalText",null===e||void 0===e||null===(M=e.promotionDetails)||void 0===M?void 0:M.customAttributesCulture),showTimer:j(null===e||void 0===e||null===(k=e.promotionDetails)||void 0===k?void 0:k.customProperties,"showTimer",null===e||void 0===e||null===(F=e.promotionDetails)||void 0===F?void 0:F.customAttributesCulture),promoParameters:I(null===e||void 0===e?void 0:e.promotionDetails),...(B=null!==e&&void 0!==e&&null!==(U=e.promotionDetails)&&void 0!==U&&U.customAttributesCulture?null===e||void 0===e||null===(H=e.promotionDetails)||void 0===H?void 0:H.customAttributesCulture:null===e||void 0===e||null===(W=e.promotionDetails)||void 0===W?void 0:W.customProperties,(null===B||void 0===B?void 0:B.length)&&B.reduce(((e,t)=>{let{key:i,value:a}=t;return{...e,[b(i)]:"TRUE"===String(a).toUpperCase()||O(a)}}),{}))}})),S=e=>{if(e){const t=Object(l.M)(e),i=Object(l.o)(),a=Object(l.G)(t,i,"seconds"),o=String(a).includes("-");return t.isValid()&&!o}return!1},f=e=>{const t=Object(l.M)(e),i=Object(l.o)(),a=Object(l.G)(t,i,"hour"),o=i.add(a,"hours"),n=Object(l.G)(t,o,"minute"),d=o.add(n,"minutes"),c=Object(l.G)(t,d,"second");return"".concat(a,"HR : ").concat(n,"M : ").concat(c,"S")};function T(e,t,i,a){e(Object(d.b)({basketId:null===t||void 0===t?void 0:t.id,tenantId:a},{couponCode:i}))}const C=(e,t,i)=>!e&&t(i),x=e=>{let{tenantId:t,useBucketSize:i,imagePath:a,imageName:o}=e;return"".concat(Object(c.a)(r.Qb)).concat(t).concat(v).concat(((e,t)=>{const i=t+"/";if(e)return i+Object(n.wb)(window.innerWidth)+"/";return i})(i,a)).concat(o)}},1137:function(e,t,i){"use strict";i.d(t,"b",(function(){return I}));var a=i(3),o=i.n(a),n=i(144),l=i(41),d=i(28),c=i(61),r=i(6),s=i(397),u=i(5),v=i(1095),m=(i(46),i(85)),b=i(0),O=i(15),j=i(20),p=i.n(j),h=i(1168),g=i(2);const I=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"};t.a=e=>{var t,i,j,N,S,f;const{isMobile:T,openIndulgentModal:C,handleClose:x,removeItemCart:E,IndulgentData:y,modalTitle:D,continueButtonText:A,toastMassage:_,callBackMethod:R,imageContainerSize:P,addToCart:L,productId:w="",ruleNameDetails:M={},errorBackMethod:k,showSectionView:F=!0,buttonClass:U="redButton",showCaloricValue:H=!1,showServesValue:W=!1,indulgentUpsellConstants:B={},renderedFromPLP:G=!1,isRestrictedDisabled:z=!1}=e,{ruleName:V,recommendationType:Y=""}=M,{INDULGENT_ADD_ON:q}=c.a,{ADD_TO_CART:Q}=q,{userOrderState:K}=Object(a.useContext)(m.a),J=Object(d.b)(),{tickWhiteToast:X}=O.a,{cartReducer:Z,userParams:$,tenantReducer:ee,storesReducer:te,menuReducer:ie,marketConfigReducer:ae}=Object(d.c)((e=>{var t;return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response}})),oe=Object(u.fb)(ee),{couponCode:ne,discountTotal:le}=Object(u.zb)(null===Z||void 0===Z?void 0:Z.cartData),{headerData:{pdpBackgroundImage:de={}}={}}=ae,ce=Object(u.lb)(de),{flatResponse:re={}}=ie||{},se=(null===te||void 0===te||null===(t=te.storesWithStatus)||void 0===t?void 0:t.length)&&(null===te||void 0===te||null===(i=te.storesWithStatus[0])||void 0===i||null===(j=i.summary)||void 0===j?void 0:j.timeZoneIANA),{loggedIn:ue,localized:ve}=$,me=(be=K,p()(be.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):be.dispositionNew);var be;const Oe=null===me||void 0===me?void 0:me.type;var je;const pe=((e,t)=>{var i,a,o,n,l;return(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.menu)||void 0===a||null===(o=a.catalogs)||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l?void 0:l.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((je=me)?je.store:{},ee),he=null===ee||void 0===ee||null===(N=ee.componentOptions)||void 0===N||null===(S=N.web)||void 0===S||null===(f=S.global)||void 0===f?void 0:f.pricewithNumberofDecimalDigit,[ge,Ie]=Object(a.useState)(0),[Ne,Se]=Object(a.useState)(0),[fe,Te]=Object(a.useState)(1);let Ce;var xe,Ee,ye;G?Ce=F:Ce=null===ee||void 0===ee||null===(xe=ee.componentOptions)||void 0===xe||null===(Ee=xe.web)||void 0===Ee||null===(ye=Ee.cartPage)||void 0===ye?void 0:ye.showIndulgentSectionView;const De=o.a.useRef(null),Ae={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:C,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==Z&&void 0!==Z&&Z.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:x,modalTitle:Object(r.translateWithI18Next)(D),autoFocus:!0},_e=Object(s.n)(T),Re=Object(u.od)(ve,ue),Pe={INDULGENT_ADD_ON:p()(B)?q:B,IndulgentData:y,isMobile:T,recommendationType:Y,ruleName:V,productId:w,userType:Re,flatResponse:re,catalogs:pe,tenantReducer:ee,cartReducer:Z,dispatch:J,indulgentAddToCartHandler:s.u,rangeValue:ge,updateRangeValue:Ie,currentSlide:Ne,updateCurrentSlide:Se,caroselCount:fe,setCaroselCount:Te,carousal:De,setPrevArrowCSS:I,couponCode:ne,discountTotal:le,dispositionType:Oe,showServesValue:W,showCaloricValue:H};return Ce?Object(h.a)(Pe):Object(g.jsx)("div",{className:"cart-indulgent-global",children:C&&!E&&ve&&Object(g.jsx)(n.a,{...Ae,children:Object(g.jsxs)("div",{className:"indulgent-container-global",children:[Object(g.jsx)("div",{className:"indulgent-card-list-global",children:null===y||void 0===y?void 0:y.map(((e,t)=>{var i,a;const o=(null===e||void 0===e?void 0:e.isRestrictedAddon)||(null===e||void 0===e?void 0:e.isHidden);return Object(g.jsxs)("div",{style:Object(u.mb)(ce,_e.cardWidth,_e.cardHeight),className:"indulgent-card-global",children:[Object(u.jc)(null===e||void 0===e?void 0:e.content,ee,P,null===e||void 0===e?void 0:e.imageName),Object(g.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(g.jsx)("div",{className:"indulgent-card-header-global",children:null===e||void 0===e||null===(i=e.dname[0])||void 0===i?void 0:i.value}),Object(g.jsxs)("div",{className:"indulgent-card-price-global",children:[Object(g.jsxs)("div",{children:[null===ee||void 0===ee?void 0:ee.currencySymbol,Object(u.Ec)((n=null===e||void 0===e?void 0:e.availability,n.length>1?Object(v.k)(n,se):n[0]),null===ee||void 0===ee?void 0:ee.currencyConversionFactor,se).toFixed(he)]}),H&&Object(u.we)(null===e||void 0===e?void 0:e.content,ee)]}),Object(g.jsx)(l.c,{className:"btn-padding",inactive:o&&z,variant:l.b.primary,"aria-label":Object(r.translateWithI18Next)(Q)+" "+(null===e||void 0===e||null===(a=e.dname[0])||void 0===a?void 0:a.value),"data-testid":"add-to-cart-global-".concat(t),onClickHandler:i=>{Object(s.u)({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:J,cartReducer:Z,tenantReducer:ee,catalogs:pe,flatResponse:re,category_id:null===e||void 0===e?void 0:e.categoryId,userType:Re,productId:w,ruleName:V,recommendationType:Y,IndulgentData:y,callBackMethod:R,errorBackMethod:k,dispositionType:Oe,...oe?{isRestrictedAddon:o}:{}}),i.preventDefault(),i.stopPropagation()},children:Object(r.translateWithI18Next)(L)})]})]},null===e||void 0===e?void 0:e.id);var n}))}),Object(g.jsx)("div",{className:"ContinueButton",children:Object(g.jsx)(l.a,{className:"button ".concat(U," indulgent-card-button"),"data-testid":"continue-to-cart",disabled:(null===Z||void 0===Z?void 0:Z.isAddItemLoading)||(null===Z||void 0===Z?void 0:Z.isCouponLoading),onClickHandler:x,children:Object(r.translateWithI18Next)(A)})})]})})})}},1138:function(e,t,i){"use strict";i.d(t,"b",(function(){return x})),i.d(t,"c",(function(){return E}));var a=i(3),o=i(6),n=(i(46),i(264)),l=i(5),d=i(396),c=i(28),r=i(1095),s=i(4),u=i(211),v=i(0),m=i(15),b=i(85),O=i(132),j=i(80),p=i(145),h=i(35),g=i(16),I=i(262),N=i(1141),S=i(1187),f=i(1151),T=(i(1150),i(2));const{CARD_TYPE:C}=u.MENU_PLP_CONSTANT,x=(e,t,i,a,o,n,l)=>{const d=l?" product-card-deactive":"";let c="";return c=e?((e,t,i,a,o)=>e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||i||a||o)?"small-menu-product-card product-card-active":!e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,i,a,o,n):t?"medium-menu-product-card product-card-active":"medium-menu-product-card",c+d},E=e=>e?"small-menu-product-image":"medium-menu-product-image",y=(e,t,i)=>{const{Error:a}=m.a;let n="";return i&&(n=Object(T.jsx)("span",{className:"unavailable-text",children:Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.PRODUCT_UNAVAILABLE)})),e&&t&&(n=Object(T.jsx)("span",{className:"special-event-item-available-time",children:"".concat(e," ").concat(Object(o.translateWithI18Next)("availableAt"))})),Object(T.jsxs)("div",{className:"unavailable-container",children:[Object(T.jsx)("img",{src:a,className:"unavailable-icon",alt:"product-unavaliable"}),n]})};t.a=function(e){var t,i,E,D;const{allowClickOnProductCard:A,discount:_,specials:R,exclusive:P,timer:L,cardId:w,customizable:M,tenantData:k,imageName:F,onCardClickHandler:U,categoryId:H,dName:W,availability:B=[],newitem:G,topseller:z,getSpecificRibbonBanner:V,userParams:Y,item:q,productContent:Q,checkForBasePriceInMenu:K,baseprice:J,cardCat:X,displayPrice:Z,getPriceClassName:$,serves:ee,prodURL:te="",showCateringflag:ie=!1,storeTimeZone:ae,plpbackgroundImageSrc:oe,isAvailable:ne,nextAvailableTime:le,pricewithNumberofDecimalDigit:de,itemCount:ce,veg:re,customlabelfield:se,longDescription:ue,configureOptions:ve,itemFoodlineId:me,openCostomizedModal:be,setOpenCostomizedModal:Oe,cartData:je,pricewithouttax:pe,cardType:he,viewUp:ge,menuCardBtnText:Ie,storeClosedData:Ne,clickHandler:Se,shortDescription:fe,menuProductDescriptionClassName:Te,menuProductPriceClassName:Ce,getMenuProductHeader:xe,dispositionNew:Ee,isNavigating:ye}=e,De=null===k||void 0===k||null===(t=k.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(E=i.pdp)||void 0===E?void 0:E.plpUrlRedirectionWithUpsellItem,[Ae,_e]=Object(a.useState)(Object(l.de)(window.innerWidth)),[Re,Pe]=Object(a.useState)(0),{localized:Le}=Object(l.sd)(Y),{Product_Card_Icon:we,ribbonRedOutlined:Me,Error:ke}=m.a,Fe=(null===q||void 0===q?void 0:q.isExcluded)||(null===q||void 0===q?void 0:q.isNotAvailable)||le||!1===ne,{userOrderStateDispatch:Ue,userOrderState:He}=Object(a.useContext)(b.a),{timeBasedCetegory:We}=He,Be=Object(c.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{RECOMMENDED_ITEM:Ge}=v.Oc,ze=Object(O.a)(),Ve=Object(c.b)(),{RESET_MODGROUP_IDS_UPDATE:Ye}=I.a,{MINI_PDP_DATA:qe,FROMFLAGEDIT:Qe,EDIT_CLICKED:Ke}=g.a,[Je,Xe]=Object(a.useState)(!1),{allowAddToCartButton:Ze=!0,showVegOrNonVeg:$e,showDescription:et,showKJInfo:tt,showDefaultImage:it,showPriceForNonLocalized:at,showGenericMenuForNonLocalizedUsers:ot}=ve,{web:{global:{showPriceWithTax:nt=!1}={}}={}}=null!==(D=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==D?D:{},lt=Object(l.ad)(null===Y||void 0===Y?void 0:Y.loggedIn,v.cg,""),dt=Object(c.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),ct=Object(c.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),rt=te.slice(-5),st=De&&"-prod"!==rt?te+"-prod":te,{ref:ut,inView:vt}=Object(S.a)({triggerOnce:!0}),[mt,bt]=Object(a.useState)(!1);Object(a.useEffect)((()=>{Object(l.yc)().has(w)?bt(!0):!ye&&vt||mt?(bt(!0),Object(l.Ae)(w)):bt(!1)}),[vt,mt,w,ye]),Object(a.useEffect)((()=>{window.addEventListener(v.ye,Ot)}),[Ae]),Object(a.useEffect)((()=>{Ot()}),[]);const Ot=()=>{let e=Object(l.de)(window.innerWidth);const t=((e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:i,ITEM_IMAGE_WIDTH_MOBILE:a,ITEM_IMAGE_HEIGHT_DESKTOP:o,ITEM_IMAGE_WIDTH_DESKTOP:n}=e;return t?{height:i,width:a}:{height:o,width:n}})(Ge,e);Pe(t),_e(e)},jt=()=>{const e=Object(r.k)(B,ae);return nt?Object(l.Ec)(e,null===k||void 0===k?void 0:k.currencyConversionFactor,ae).toFixed(de):Object(l.Jc)(pe,null===k||void 0===k?void 0:k.currencyConversionFactor)},pt=()=>Object(T.jsxs)("div",{className:Ce(he),children:[K(J,X)&&Z(J,null===k||void 0===k?void 0:k.currencyConversionFactor),Object(T.jsxs)("span",{className:$(J,X),"data-testid":"item-price",children:[null===k||void 0===k?void 0:k.currencySymbol,jt()]}),Ae&&Object(N.h)(e,Ae),Ae&&Object(T.jsx)("span",{className:"hearticonDiv",children:Object(N.b)(Y,e,lt)})]}),ht=e=>tt&&Boolean(null===Q||void 0===Q?void 0:Q.caloricValue)&&Object(T.jsxs)("div",{className:Object(l.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[Le&&Object(T.jsx)("div",{className:"Dot"}),Object(T.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(Q.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!!Q.serves&&"".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(Q.serves," ")]})]}),gt=e=>Object(T.jsxs)("div",{className:Object(l.ad)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[(null===Q||void 0===Q?void 0:Q.caloricValue)&&Object(T.jsxs)("span",{children:[" ","".concat(null===Q||void 0===Q?void 0:Q.caloricValue," ").concat(null===k||void 0===k?void 0:k.kilojoule," ")," \xa0"," ",!(null===Q||void 0===Q||!Q.serves)&&"".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES)," ").concat(null===Q||void 0===Q?void 0:Q.serves," ")]}),ee?Object(T.jsxs)("span",{children:[" ",Object(T.jsx)("div",{className:"Dot","data-testid":"serves-template"}),It()]}):Object(T.jsx)(T.Fragment,{})]}),It=()=>Object(l.ad)(ee,Object(T.jsx)("span",{className:"product-serves",children:" ".concat(Object(o.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SERVES_TEXT)," ").concat(ee)}),Object(T.jsx)(T.Fragment,{})),Nt=e=>!e&&mt&&Object(l.mb)(oe,Re.width,Re.height)||{},St=e=>{var t;return tt?Object(l.ad)(ie,((e,t,i,a,o,n,d)=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:n,children:Object(T.jsxs)(T.Fragment,{children:[!(null!==t&&void 0!==t&&t.includes(v.pd))&&a(o),e&&i()]})}),!e&&Object(l.ad)(null===t||void 0===t?void 0:t.includes(v.pd),Object(T.jsx)(T.Fragment,{}),d())]}))(Le,null===q||void 0===q||null===(t=q.categoryUrl)||void 0===t?void 0:t[0],pt,gt,Ae,"Price-and-KJ-info-catering",It),((e,t,i,a,o)=>Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:o,children:[e&&t(),e&&i(a)]})}))(Le||ot&&at,pt,ht,Ae,e)):pt()},ft=e=>{var t,i,a,o,n,c;ze(Object(j.d)({key:u.SHOW_PDP_ALERT_POPUP,value:!1}));const{event:r,itemId:s,productInfo:m,cardId:b}=e;null===r||void 0===r||r.stopPropagation(),null===r||void 0===r||r.preventDefault();const O=Object(d.g)(b,Be),p=null===Be||void 0===Be||null===(t=Be.itemMapById)||void 0===t||null===(i=t[b])||void 0===i?void 0:i.categoryId,h=Object(d.d)(s,We);if(!Object(d.c)({categoryUrl:O,itemInCart:h,alertType:Object(d.j)(null===We||void 0===We?void 0:We.timebasedItemInCart,null===v.Sb||void 0===v.Sb?void 0:v.Sb.ITEM),categoryId:p,itemId:b},{...We,menuData:dt,foodLinesItems:(null===ct||void 0===ct||null===(a=ct.cartData)||void 0===a?void 0:a.foodLines)||[]},Ue)&&(!Object(l.Vd)(null===Ee||void 0===Ee?void 0:Ee.type)||null===r||void 0===r||null===(o=r.target)||void 0===o||null===(n=o.parentElement)||void 0===n||null===(c=n.className)||void 0===c||!c.includes("cart-food-quantity-change")))if(null!==e&&void 0!==e&&e.orderClickHandler){const t={event:r,cardId:w,customizable:M,categoryId:p,itemCount:ce,productInfo:m,itemFoodlineId:me,checkItemExpiry:ft,menuCardBtnText:Ie,storeClosedData:Ne,clickHandler:Se,dispositionNew:Ee};null===e||void 0===e||e.orderClickHandler(t)}else if(De){let e="";const t=te.slice(-5);e=De&&"-prod"!==t?te+"-prod":te,m.prodURL=e,U(r,w,M,H,m)}else U(r,w,M,H,m)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"plp-item-card ".concat(he===(null===C||void 0===C?void 0:C.CAROUSAL)?"carousal-menu-product-card":x(Ae,A,_,R,P,L,Fe)),"data-testid":"click-allow-on-product-".concat(w),id:w,onClick:e=>Object(l.hb)(A,!Fe)&&ft({event:e,cardId:w,productInfo:{productName:W,productImage:F,productPrice:Object(l.Ec)(B[0],null===k||void 0===k?void 0:k.currencyConversionFactor),prodURL:te,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}}),inactive:Fe,disabled:Fe,ref:ut,children:[!Ae&&Object(T.jsx)("div",{style:Nt(it),className:"product-image-parent-container",children:mt?Object(N.c)(e,Re,Fe,k,it,Ae):Object(T.jsx)(f.b,{height:201.4,className:"skeleton-absolute"})}),Object(T.jsx)(n.a,{className:Object(l.ad)(R,"specials-product-ribbon",Object(l.ad)(P||se,"exclusive-product-ribbon","discount-product-ribbon")),src:Object(l.ad)(R,we,Object(l.ad)(_||P||se||G||z,Me,""))}),Object(T.jsx)("span",{className:Object(l.ad)(R,"specials-ribbon-text","discount-ribbon-text"),children:L?Object(T.jsxs)("div",{children:[Object(T.jsx)("svg",{src:ke,className:"product-timer"}),Object(T.jsx)("span",{className:"product-timer-text",children:Object(o.translateWithI18Next)(u.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):V(R,_,P,G,z,se)}),Object(T.jsx)("div",{"data-testid":"menu-card-content-pdp-nav",className:"menu-card-content",inactive:Fe,disabled:Fe,onClick:e=>A&&U(e,w,M,H,{productName:W,productImage:F,productPrice:Object(l.Fc)(B[0],pe,null===k||void 0===k?void 0:k.currencyConversionFactor,nt),prodURL:st,categoryURL:null===q||void 0===q?void 0:q.categoryUrl}),children:Ae?Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:ge&&"product-columnview",children:[Object(T.jsx)("div",{className:"description-and-image product-image-parent-container",style:Nt(it),children:mt?Object(N.c)(e,Re,Fe,k,it,Ae):Object(T.jsx)(f.b,{height:324,className:"skeleton-absolute"})}),Object(T.jsxs)("div",{className:"menu-card-content-wrapper",children:[Object(T.jsx)("div",{className:xe(he,_,R,P,{timer:L,newitem:G,topseller:z,customlabelfield:se}),children:null===W||void 0===W?void 0:W[0].value}),Object(N.f)(et,e,fe),Fe?y(le,ne,Fe):St("Price-and-KJ-info")]})]})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{"data-testid":"plp-menu-card-header",className:xe(he,_,R,P,{timer:L,newitem:G,topseller:z,customlabelfield:se}),children:null===W||void 0===W?void 0:W[0].value}),Object(N.g)($e,re),Object(N.h)(e,Ae),Object(T.jsx)("div",{className:"hearticonDiv",children:Object(N.b)(Y,e,lt)}),Fe?y(le,ne,Fe):St("Price-and-KJ-info"),Object(N.f)(et,e,fe)]})}),Object(N.a)(e,Ze,k,(()=>{1===ce?(Ue({type:qe,value:{id:null===q||void 0===q?void 0:q.mdmId,flag:Qe,foodLineId:me}}),Ue({type:Ye}),Ue({type:Ke,value:{cartEditClicked:!1}}),Ve(Object(p.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===je||void 0===je?void 0:je.catalog,itemId:null===q||void 0===q?void 0:q.mdmId})),Ve(Object(h.v)({showProductListingModal:!0,categorySelected:H}))):(Xe(!0),Oe(!0))}),lt,ft,Ee)]}),Object(T.jsx)("div",{children:be&&Object(N.d)(e,Je,k,Xe,ft)})]})}},1139:function(e,t,i){"use strict";i.d(t,"b",(function(){return v}));var a=i(3),o=i(35),n=i(5),l=i(85),d=i(28),c=i(0),r=i(80),s=i(262),u=i(2);const v=(e,t,i)=>{if(e){const{code:a,promoParameters:o,itemDetails:n}=e,l=null===n||void 0===n?void 0:n.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));i(Object(r.d)({key:c.gd.VIEW_PRODUCT,value:{couponCode:a,promoParams:o,priceDetails:l}})),t({type:s.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})}},m=(e,t,i,a,l,d)=>{e(Object(o.i)({couponcode:t,catalog:i,tenantId:a},(t=>((e,t,i,a)=>{v(e,t,i),((e,t)=>{var i,a;const o=null===e||void 0===e||null===(i=e.itemDetails)||void 0===i?void 0:i[0].categoryUrl,n="".concat(null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a[0].url);t.push({pathname:"menu/".concat(o,"/").concat(n)})})(e,a)})(t,l,e,d)),(()=>Object(n.Bd)(d))))};t.a=e=>{const{genericMenuName:t,tenantId:i}=Object(d.c)((e=>e.tenantReducer)),{history:o}=e,n=Object(d.b)(),{userOrderStateDispatch:r}=Object(a.useContext)(l.a);return Object(a.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get(c.Vd.COUPON);e&&t&&m(n,e,t,i,r,o)}),[]),Object(u.jsx)(u.Fragment,{})}},1140:function(e,t,i){"use strict";var a=i(3),o=i(28),n=i(20),l=i.n(n),d=i(415),c=i(421),r=i(57),s=i(1107),u=i(12),v=i(5),m=i(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(o.b)(),{dispositionNew:i}=Object(s.a)(),n=Object(o.c)((e=>e.specialEventReducer||{})),b=Object(o.c)((e=>e.cartReducer||{})),{isLoading:O}=n,{cartData:j}=b,p=e=>(null===e||void 0===e?void 0:e.toUpperCase())===m.Ff,h=Object(a.useMemo)((()=>n.specialEventItemAvailability||[]),[n.specialEventItemAvailability]),g=Object(a.useMemo)((()=>{const{type:e}=i||{},t=Object(d.a)(p,v.Mb);return!!e&&t(e)}),[i]),I=Object(a.useCallback)((function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=h.find((t=>{let{id:i}=t;return i.includes(e)}));if(!a)return!1;const o=null===j||void 0===j||null===(t=j.foodLines)||void 0===t?void 0:t.find((t=>{var i;return(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===e})),n=(null===o||void 0===o?void 0:o.quantity)||0,{available:l,stock:d}=a;return l&&parseInt(d)>0&&i?n<=parseInt(d):n<parseInt(d)}),[h,null===j||void 0===j?void 0:j.foodLines]),N=Object(a.useCallback)((e=>{let{date:i,storeId:a,time:o}=e;if(!i||!a||!o)return!1;const n=r.a.formatValue(r.a.dayjs(o,m.sb.h_mm_A),m.sb.HHmm),l=Object(u.A)("".concat(i," ").concat(o),m.sb.YYYY_MM_DD_h_mm_A);t(Object(c.a)(a,l,n))}),[t]),S=Object(a.useCallback)((()=>{if(!g||O)return!1;const{date:e,selectedTime:t,store:a}=i;N({date:e,storeId:a.id,time:t})}),[i,N,g,O]);Object(a.useEffect)((()=>{e&&l()(h)&&S()}),[S,e,h]);return{isAllCartProductsAvailable:()=>{var e;const t=null===b||void 0===b||null===(e=b.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return I(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:h,fetchEventItemAvailability:S,fetchEventItemAvailabilityForDisposition:e=>{if(!g)return!1;N(e)},getEventItemAvailability:I,isEvent:g}}},1141:function(e,t,i){"use strict";i.d(t,"h",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"g",(function(){return g})),i.d(t,"f",(function(){return I})),i.d(t,"e",(function(){return N})),i.d(t,"a",(function(){return T})),i.d(t,"d",(function(){return C})),i.d(t,"c",(function(){return x}));var a=i(5),o=i(6),n=i(15),l=i(211),d=i(395),c=i(1099),r=i(235),s=i(61),u=i(1134),v=i(46),m=i(1138),b=i(402),O=i(397),j=i(2);const p=(e,t)=>{const{configureOptions:i,servingCount:d,getVegNonvegClassName:c,cardType:r,veg:s}=e,{showVegOrNonVeg:u}=i;return u&&Object(j.jsxs)("span",{className:c(r),children:[Object(a.hb)(t,Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(a.ad)(!s,null===n.a||void 0===n.a?void 0:n.a.Non_veg_dot_Icon,null===n.a||void 0===n.a?void 0:n.a.Veg_dot_Icon)})),Object(a.hb)(!t,Object(a.ad)(!s,Object(o.translateWithI18Next)(null===l.MENU_PLP_CONSTANT||void 0===l.MENU_PLP_CONSTANT?void 0:l.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(o.translateWithI18Next)(null===l.MENU_PLP_CONSTANT||void 0===l.MENU_PLP_CONSTANT?void 0:l.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(a.hb)(d,Object(j.jsx)("span",{className:"Dot"})),l.MENU_PLP_CONSTANT.MENU_CARD.SERVES,d]})},h=(e,t,i)=>{const{classFavouriteIconActive:o,classFavouriteIconInActive:l,favouriteItems:d,favouriteButtonClickHandler:c,cardId:r,getCardName:s,item:u,cardType:v,configureOptions:m}=t;if(null!==e&&void 0!==e&&e.loggedIn&&null!==m&&void 0!==m&&m.showAddToFav)return Object(j.jsxs)("picture",{children:[Object(j.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(a.ad)("small-menu-product-card"===s,Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),o(v),l(v)),Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===n.a||void 0===n.a?void 0:n.a.heartIcon_active_red,null===n.a||void 0===n.a?void 0:n.a.heartIcon_inactive_red)),alt:"",className:"menu-product-save ".concat(i),"data-testid":"fav-item-source",onClick:()=>c()}),Object(j.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(a.ad)(Array.isArray(d)&&d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))),null===n.a||void 0===n.a?void 0:n.a.heartIcon_active,null===n.a||void 0===n.a?void 0:n.a.FavoriteInActiveWhite),alt:"",className:"menu-product-save ".concat(i),"data-testid":"fav-item-largeScreen",onClick:()=>c()}),Object(j.jsx)("img",{src:Object(a.hb)(Array.isArray(d),null===d||void 0===d?void 0:d.find((e=>(null===e||void 0===e?void 0:e.id)===(null===u||void 0===u?void 0:u.id))))?o(v):l(v),alt:"",className:"menu-product-save ".concat(i),"data-testid":"save-product-".concat(r),onClick:()=>c()})]})},g=(e,t)=>e&&Object(j.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(a.ad)(!t,null===n.a||void 0===n.a?void 0:n.a.Non_veg_dot_Icon,null===n.a||void 0===n.a?void 0:n.a.Veg_dot_Icon)}),I=(e,t,i)=>{var a;const{productContent:o,cardType:n,menuProductDescriptionClassName:l}=t,d=null===o||void 0===o?void 0:o.shortDescription;return e&&Object(j.jsx)("div",{className:l(n),id:"longDescription",children:d||(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value)})},N=(e,t,i,a)=>{var o,n,l;const d=null===a||void 0===a?void 0:a.maxItemCountPerLineItem,u=null===a||void 0===a||null===(o=a.componentOptions)||void 0===o||null===(n=o.web)||void 0===n||null===(l=n.plp)||void 0===l?void 0:l.removeSingleItemInCartFromPLP;return Object(j.jsx)(c.a,{itemCount:e,itemQuantity:null===r.a||void 0===r.a?void 0:r.a.ITEM_QUANTITY,updateItemQuantity:t,quantityAction:null===s.a||void 0===s.a?void 0:s.a.QUANTITY_ACTION,item:void 0,itemName:i,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0,removeSingleItem:u})},S=(e,t)=>Object(a.Vd)(null===e||void 0===e?void 0:e.type)?{isStoreClosed:!1}:t,f=e=>{var t;const{event:i,cardId:a,customizable:o,categoryId:n,itemCount:l,productInfo:d,itemFoodlineId:c,checkItemExpiry:r,menuCardBtnText:s,storeClosedData:u,clickHandler:v,dispositionNew:m}=e;null!==(t=s(S(m,u)))&&void 0!==t&&t.enabled&&l<=0&&v(i,a,o,n,l,d,c,r),i.preventDefault(),i.stopPropagation()},T=(e,t,i,n,c,r,s)=>{var u,v;const{itemCount:m,updateItemQuantity:O,classesCardButton:p,classEnableAddToCart:h,enableAddToCartButton:g,cardType:I,checkLoading:T,storeClosedData:C,cardId:x,menuCardBtnText:E,customizable:y,dname:D,imageName:A,availability:_,prodURL:R,item:P}=e,L={productName:D,productImage:A,productPrice:Object(a.Ec)(null===_||void 0===_?void 0:_[0],null===i||void 0===i?void 0:i.currencyConversionFactor),prodURL:R,categoryURL:null===P||void 0===P?void 0:P.categoryUrl},w=S(s,C);return(t||(e=>Object(a.Vd)(null===e||void 0===e?void 0:e.type))(s))&&Object(j.jsxs)("div",{className:"quantityAddtocart ".concat(m?"cardwithQuantity "+c:"cardwithNoquantity"),children:[!!m&&N(m,O,null===D||void 0===D?void 0:D[0].value,i),w&&Object(j.jsx)("div",{className:p(m,c),children:m<1?Object(j.jsxs)(d.a,{tabIndex:"0",className:h(g,I,T,w),"data-testid":"add-to-cart-".concat(x),disabled:Object(b.w)(w),onClickHandler:t=>{r({event:t,cardId:x,productInfo:L,orderClickHandler:f,props:e})},"aria-label":(null===(u=E(w))||void 0===u?void 0:u.btnText)+(null===D||void 0===D?void 0:D[0].value),children:[null===(v=E(w))||void 0===v?void 0:v.btnText,Object(a.J)(w.isStoreClosed)]}):y&&Object(j.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>r({cardId:x,productInfo:L,orderClickHandler:n,props:e}),children:Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})},C=(e,t,i,n,d)=>{var c;const{setOpenCostomizedModal:r,filteredPreviousData:s,updateItemQuantity:v,dname:m,clickHandler:b,cardId:O,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,customizable:N,openCostomizedModal:S,cartData:f,setShowTopScrollBtn:T,imageName:C,itemFoodlineId:x,item:E,prodURL:y}=e,D={productName:m,productImage:C,productPrice:Object(a.Ec)(null===g||void 0===g?void 0:g[0],null===i||void 0===i?void 0:i.currencyConversionFactor),prodURL:y,categoryURL:null===E||void 0===E?void 0:E.categoryUrl};return Object(j.jsx)(u.a,{handleClose:()=>{r(!1),n(!1)},filteredPreviousData:s,updateItemQuantity:v,tenantData:i,dname:m,clickHandler:b,cardId:O,categoryId:p,itemCount:h,availability:g,pricewithouttax:I,imageName:C,itemFoodlineId:x,customizable:N,setOpenCostomizedModal:r,openCostomizedModal:S,cartData:f,setShowTopScrollBtn:T,foodId:null===(c=e.item)||void 0===c?void 0:c.mdmId,isEditSelection:t,headerText:Object(a.ad)(t,Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(o.translateWithI18Next)(l.MENU_PLP_CONSTANT.SELECT_QUANTITY)),checkItemExpiry:d,productInfo:D})},x=(e,t,i,o,n,l)=>{var d;const{productContent:c,imageName:r}=e,s=null!==c&&void 0!==c&&null!==(d=c.image)&&void 0!==d&&d.mainImage&&null!==t&&void 0!==t&&t.width&&null!==t&&void 0!==t&&t.height?Object(a.qc)(c,t.width,t.height):Object(a.bc)(r,o);return Object(j.jsx)(v.a,{"data-testid":"product-image",className:"".concat(n&&Object(O.t)(n)," ").concat(Object(m.c)(l)),srcFile:s,alt:"",inactive:i,disabled:i,defaultPath:n&&Object(a.bc)(null,o,!0)})}},1142:function(e,t,i){"use strict";var a=i(3),o=i(28),n=i(62),l=i(1146),d=i(1096),c=i(145),r=i(16),s=i(410),u=i(85),v=i(1179),m=i(35),b=i(5),O=i(400),j=i(0),p=i(61),h=i(398),g=i(20),I=i.n(g),N=i(397),S=i(2);const f={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},T=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),C=(e,t,i)=>{var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:i}};t.a=Object(n.j)((e=>{var t,i;const{productList:n=[],cardType:j="",tenantData:g={},categoryId:x,categoryName:E,categoryUrl:y,catalogs:D,storeClosedData:A,setShowTopScrollBtn:_}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:P,PLP_PDP_DETAILS:L,MINI_PDP_DATA:w,FROMFLAGPLP:M}=r.a,{PlpProductCard:k={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=O.a,[U,H]=Object(a.useState)(1),W=Object(o.b)(),B=Object(o.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:z={}}={}}=null!==(i=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==i?i:{},{cartData:V={}}=Object(b.sd)(B),Y=Object(o.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,Q]=Object(a.useState)(e.selectedCat),[K,J]=Object(a.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(a.useContext)(u.a),[$,ee]=Object(a.useState)(null),{showCartAlert:te}=Object(s.a)(void 0,void 0,void 0,void 0,Z,W,void 0);Object(a.useEffect)((()=>{J(!1)}));const{addToCartAnalyticsOnly:ie}=Object(s.a)({cartId:null===V||void 0===V?void 0:V.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,W,void 0),ae=(e,t,i,a)=>{var o;if(Y.localized&&I()(null===B||void 0===B||null===(o=B.cartData)||void 0===o?void 0:o.id)){const{id:e,itemCount:t}=a,i=[{Id:e,categoryId:x,quantity:t+1,modGrps:[]}],o=!0;Object(b.I)(W,m.f,null===g||void 0===g?void 0:g.tenantId,X,null===B||void 0===B?void 0:B.qrCodeScanTime,o,i)}else((e,t,i,a)=>{var o;const{id:n,itemCount:l,product:d,itemFoodlineId:r}=a,{catId:s}=i,{id:u="",name:v="",url:b=""}=null!==(o=null===z||void 0===z?void 0:z[s])&&void 0!==o?o:{};if(e&&e.stopPropagation(),ee(n),Y.localized){if(t)Q(s),Z({type:w,value:{id:n,flag:M,foodLineId:""}}),Z({type:F}),W(Object(c.c)({tenantId:g.tenantId,catalogName:D,itemId:n}));else if(0===l){var O;W(Object(m.a)({params:{basketId:null===B||void 0===B||null===(O=B.cartData)||void 0===O?void 0:O.id},tenantId:g.tenantId},[{Id:n,categoryId:u,quantity:l+1,modGrps:[],categoryName:v,categoryUrl:b}])),W(Object(m.u)(new Date)),ie(C(n,d,r),R.Increase,g.currencyConversionFactor)}else if(l>0){var j;W(Object(m.x)({params:{basketId:null===B||void 0===B||null===(j=B.cartData)||void 0===j?void 0:j.id,basketLineItemId:r},tenantId:g.tenantId},{quantity:l+1,isBundle:Object(N.e)(n)})),W(Object(m.u)(new Date)),ie(C(n,d,r),R.Increase)}}else J(!0),Z({type:P,value:{addToCart:!0,productItemId:n,categoryId:x,oldProduct:d,customizable:t,catalogs:D,fromPdpPage:!1}})})(e,t,i,a)},oe=Object(o.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(a.useEffect)((()=>{oe&&q&&X.minipdpData.itemId===oe.id&&W(Object(m.v)({showProductListingModal:!0,categorySelected:q}))}),[oe]);const ne=()=>{te(!0)},le={...f,beforeChange:(e,t)=>{H(Math.round(t+1))},variableWidth:!1},de=(t,i,a,o)=>{const{catId:n,catName:l,catUrl:d}=o,{productId:c,productInfo:r}=i;t.preventDefault(),t.stopPropagation();const s={productId:c,customizable:a,catId:n,catalogName:D,productInfo:r,isFromPlp:!0,categoryName:l,categoryUrl:d};Z({type:L,value:s}),localStorage.setItem(h.p,JSON.stringify(s)),e.history.push({pathname:"/pdp/".concat(x,"/").concat(c)})},ce=(e,t,i)=>{W(Object(c.a)({tenantId:e,customerId:i},t))},re=(e,t,i)=>{W(Object(c.b)({tenantId:e,customerId:t,itemId:i}))},se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,i=Object(b.ve)(t.additionalProperties);return Object(S.jsx)(l.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:k,tenantData:g,servingCount:i.servings,button:e.button,categoryId:x,categoryName:E,categoryUrl:y,clickHandler:ae,customizable:t.customizable,onCardClickHandler:de,userParams:Y,openAlertModal:ne,storeClosedData:A,addFavourite:ce,removeFavourite:re,setShowTopScrollBtn:_,"data-testid":"menu-card-component",...i,...t},t.id)};return Object(S.jsxs)("div",{className:"product-container",children:[K&&Object(S.jsx)(v.a,{}),"carousal"===j?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"individual-card-counter",children:[U,"/",n.length]}),Object(S.jsx)(d.b,{settings:le,children:T(n,se)})]}):T(n,se)]})}))},1143:function(e,t,i){"use strict";i.d(t,"b",(function(){return J}));var a=i(3),o=i.n(a),n=i(420),l=i.n(n),d=i(395),c=i(404),r=i(263),s=i(85),u=i(16),v=i(120),m=i(28),b=i(73),O=i(12),j=i(5),p=i(62),h=i(113),g=i(158),I=i(46),N=i(6),S=i(4),f=i(35),T=i(24),C=i(107),x=i(0),E=i(394),y=i(411),D=(i(1155),i(15)),A=i(55),_=i(600),R=i(2);const{ORDER_TYPE:P,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:w,EDIT:M,SCHEDULE_FOR_YOUR_ORDER_TEXT:k,DATE:F,TIME:U,CONFIRM_BTN_TEXT:H,DELIVERY_UNAVAILABLE_ERROR:W,SWITCH_TO_TAKEAWAY_TEXT:B,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:z,ERROR_MESSAGE_CLOSED:V,SCHEDULE_ORDER:Y,CHANGE_ORDER_TITLE:q,ASAP_SERVES_Warning_Message:Q}=S.a,K=(e,t,i)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(i)),J=e=>"ASAP"!==e&&"-"!==e?e:Object(O.S)(Object(O.o)(),g.a.HHMM,g.a.LT),X=(e,t)=>{let i={};return"-"!==e&&"ASAP"!==e?i={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(i={isForNow:!0,futureDateTime:0}),i},Z=(e,t,i)=>{let a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(j.Kb)(a.type):t?x.Mb.PICKUP:Object(j.Kb)(i)};function $(e,t,i){var a;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||i(null===(a=e[0])||void 0===a?void 0:a.timestr):i("-")}t.a=Object(p.j)((e=>{var t,i,n,p,S,te,ie,ae,oe,ne,le,de,ce,re,se,ue,ve;const{SingleArrow:me,Calendar:be,Error:Oe}=D.a,je=Object(a.useRef)(null),pe=Object(a.useRef)(null),{location:he,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Ie,SCHEDULE_ORDER_DATA:Ne,DISPOSITION_DATA:Se,SCHEDULE_ORDER_TIME_DATA:fe,CLOSED:Te,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Ce,MENU_URL:xe,PDP_URL:Ee,SELECTED_TILE_DATA:ye,DISPOSITION_METHOD:De,SET_DISPOSITION:Ae,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:Pe,clearCartChangeFlag:Le,orderTypeAlertTitle:we,searchStoreAlertTitle:Me,CURRENT_STORE_INFO:ke,SET_FORCERELOAD:Fe}=u.a,Ue=Object(m.c)((e=>e.profileReducer)),{userOrderState:He,userOrderStateDispatch:We}=Object(a.useContext)(s.a),{dispositionStateData:Be={},scheduleOrderData:Ge={}}=He,{changeFlow:ze=!1,isAddressFlow:Ve=!1}=Ge,Ye=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:qe=""}=Be,Qe=qe||localStorage.getItem("dispositionType"),{value:Ke=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Je=""}=Ge&&(null===(i=Ge.selectedDateTimeInfo)||void 0===i||null===(n=i.date)||void 0===n?void 0:n.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Ge&&(null===(p=Ge.selectContentData)||void 0===p||null===(S=p.savedTime)||void 0===S?void 0:S.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(ie=Ge.storeInfo)||void 0===ie||null===(ae=ie.summary)||void 0===ae?void 0:ae.timings)||{},tt=Object(j.Sd)(He.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):He.dispositionNew,{unavailibilities:it,unavailibilityType:at}=$e,{interval:ot=0,startEndTime:nt={}}=$e&&(null===$e||void 0===$e||null===(oe=$e.periods)||void 0===oe?void 0:oe.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:lt,to:dt}=nt;let ct=Object(m.c)((e=>e.appStateReducer.userStatus));const rt=Object(m.b)(),st=Object(m.c)((e=>e.tenantReducer)),ut=Object(m.c)((e=>e.storesReducer)),vt=Object(m.c)((e=>e.cartReducer)),{cartData:mt}=vt,{storesAvilableTimeSlots:bt,storesTimeSlots:Ot}=ut,[jt,pt]=Object(a.useState)(!1),[ht,gt]=Object(a.useState)({error:!1,errormessage:""}),[It,Nt]=Object(a.useState)({from:lt,to:dt,interval:ot}),[St,ft]=Object(a.useState)({error:!1,openStoreTime:""}),Tt=(null===(ne=Ge.storeInfo)||void 0===ne||null===(le=ne.summary)||void 0===le||null===(de=le.status)||void 0===de?void 0:de.currentStatus)===Te,Ct=()=>{var e;return ze?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ve&&(null===Qe||void 0===Qe?void 0:Qe.toUpperCase())===g.a.TYPE_DELIVERY},[xt,Et]=Object(a.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[yt,Dt]=Object(a.useState)(et&&et.isAvailable?"ASAP":Object(O.S)(null===nt||void 0===nt?void 0:nt.from,"hh:mm","LT")),[At,_t]=Object(a.useState)([]),[Rt,Pt]=Object(a.useState)(!1),[Lt,wt]=Object(a.useState)(!1),[Mt,kt]=Object(a.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{kt(Object(j.de)(window.innerWidth))};Object(a.useEffect)((()=>{window.addEventListener("resize",Ft)}),[Mt]),Object(a.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};rt(Object(b.c)({data:t,tenantId:st.tenantId}))}let t=Object(v.j)(lt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country),it,at);return _t(t),()=>{rt(Object(b.a)())}}),[]);const Ut=e=>{var t,i;if("INDIA"===(null===st||void 0===st?void 0:st.country))return;const a=Object(O.h)(e,"YYYY-MM-DD");if($e.date===a){let t=Object(v.j)(lt,dt,ot,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),it,at);return _t(t),Dt(t[0].timestr),Nt({from:lt,to:dt,interval:ot}),Et(e),gt({...ht,error:!1,errormessage:""}),Pt(!1),void wt(!1)}const o={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:a};if(rt(Object(b.c)({data:o,tenantId:st.tenantId})),Et(e),(null===bt||void 0===bt||null===(i=bt.periods)||void 0===i?void 0:i.length)>0){const{startEndTime:e,interval:t}=bt.periods[0],{from:i,to:a}=e;let o=Object(v.j)(i,a,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),it,at);Nt({from:i,to:a,interval:t}),_t(o)}gt({...ht,error:!1,errormessage:""})},Ht=e=>{const t=new Date,i=new Date(e.split("T")[0]);return i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()},Wt=e=>{var t;Dt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let i=Object(v.f)(lt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ht(Je)?"Today":"Tomorrow"});Et(i),Pt(!1),wt(!1),gt({...ht,error:!1,errormessage:""})};Object(a.useEffect)((()=>{const e=Xe;Je&&Ut(new Date(Je)),((e,t,i,a,o,n)=>{if(e&&t){const e=Object(O.S)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===i||void 0===i?void 0:i.split(":")[0]),Number(null===i||void 0===i?void 0:i.split(":")[1]),0)?n(o):n(t)}})(ze,e,lt,Je,Xe,Wt),((e,t,i,a,o)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var n;const e={storeid:null===t||void 0===t||null===(n=t.storeInfo)||void 0===n?void 0:n.id,channel:T.b.channel,service:Object(j.Mb)(i()).toString().toLowerCase(),date:""};a(Object(b.c)({data:e,tenantId:null===o||void 0===o?void 0:o.tenantId}))}})(Ze,Ge,$t,rt,st)}),[]),Object(a.useEffect)((()=>{let e=Object(j.ad)(ze,Object(N.translateWithI18Next)(q),Object(N.translateWithI18Next)(Y));var t;if(Object(j.Td)(Ot)&&jt)if((null===Ot||void 0===Ot||null===(t=Ot.status)||void 0===t?void 0:t.currentStatus)===Te)gt({...ht,error:!0,errormessage:Object(N.translateWithI18Next)(V)}),Object(j.Ob)(e,Object(N.translateWithI18Next)(V));else{let t=new Date;if(new Date(xt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(O.o)().add(et.promiseTime,"minutes").format("LT");Object(O.c)(t,yt,"h:mm A")?(gt({...ht,error:!0,errormessage:Object(N.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(N.translateWithI18Next)(G))):K(he,xe,Ee)?Bt():Gt()}else K(he,xe,Ee)?Bt():Gt()}}),[Ot,Ue]);const Bt=()=>{var t,i;We({type:ye,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(st)),localStorage.setItem("selectedTile",JSON.stringify({}));const a=null===he||void 0===he?void 0:he.pathname,o=null===Ye||void 0===Ye||null===(t=Ye.summary)||void 0===t?void 0:t.name,n=null===st||void 0===st||null===(i=st.componentOptions)||void 0===i?void 0:i.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(xe),...!Object(j.ce)(a)&&{state:{toastData:{storeName:o,service:Qe,showToastAfterLocalization:n}}}})},Gt=async()=>{We({type:Ne,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),We({type:De,value:{dispositionType:Qe}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),We({type:ke,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),We({type:Ie,value:{showSearchStore:!1}});let e="",t="";"ASAP"===yt||"-"===yt?(e="ASAP",t="ASAP"):(e=yt,t=yt),We({type:Fe,value:{forceReload:!0}});let i=J(yt);const a=Object(O.A)(Object(O.h)(xt,"YYYY-MM-DD")+" "+i,"YYYY-MM-DD hh:mm A");let o={time:e,interval:It.interval,date:xt,epochTime:a,selectedTime:yt},n=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==Ye.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(Ye,Object(j.Mb)(Qe),null===Ue||void 0===Ue?void 0:Ue.customerId,o,n,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);rt(Object(f.m)("")),rt(Object(f.f)({data:e,tenantId:st.tenantId}))}rt(Object(h.a)({...ct,localized:!0})),We({type:Ae,value:{oldvalue:tt,newValue:{type:$t(),store:Ye,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:Ye,date:o.date,time:o.time,epochTime:o.epochTime,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:n})),Object(j.vf)(),We({type:fe,value:{selectedDateTime:o}}),We({type:Ce,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder",t)};Object(a.useEffect)((()=>{var e;let t,i={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(bt||{}).length){var a,o,n;const{startEndTime:e,interval:d}=Object(j.qd)(null===(a=bt[0])||void 0===a?void 0:a.periods[0],i),{startEndTime:c}=Object(j.qd)(null===(o=bt[1])||void 0===o?void 0:o.periods[0],i),{from:r}=e,{to:s}=c;var l;if(t=Object(v.j)(r,s,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(n=bt[0])||void 0===n?void 0:n.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===st||void 0===st?void 0:st.country),it,at),Nt({from:r,to:s,interval:d}),_t(t),$(t,Xe,Wt),!bt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(l=bt[0])||void 0===l?void 0:l.date))}else if(Object.keys(bt||{}).length){var d,c;const{startEndTime:e,interval:a}=Object(j.qd)(null===(d=bt[0])||void 0===d?void 0:d.periods[0],i),{from:o,to:n}=e;var r;if(t=Object(v.j)(o,n,a,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===st||void 0===st?void 0:st.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(c=bt[0])||void 0===c?void 0:c.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),it,at),Nt({from:o,to:n,interval:a}),_t(t),$(t,Xe,Wt),!bt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(r=bt[0])||void 0===r?void 0:r.date))}const s=localStorage.getItem("modalSource");var u;null!==st&&void 0!==st&&st.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Tt&&"fromChangeStoreButton"!==s&&(null===(e=t)||void 0===e?void 0:e.length)>0&&ft({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(bt)]);const zt=e=>{var t,i;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==pe&&void 0!==pe&&null!==(i=pe.current)&&void 0!==i&&i.contains(e.target)||(Pt(!1),wt(!1))};Object(a.useEffect)((()=>(document.addEventListener("mousedown",zt),()=>{document.removeEventListener("mousedown",zt)})),[]);const Vt=()=>{We({type:Ie,value:{showSearchStore:!0}}),We({type:Ne,value:{showDisposition:!1}}),We({type:De,value:{dispositionType:"Pickup"}})},Yt=null===Ge||void 0===Ge||null===(ce=Ge.storeInfo)||void 0===ce||null===(re=ce.availableServicesPerChannel)||void 0===re||null===(se=re.find((e=>"web"===e.channel)))||void 0===se?void 0:se.services,qt=null===Yt||void 0===Yt?void 0:Yt.includes("delivery"),Qt=Object(j.hb)(Ct(),!qt),Kt=()=>{let e=Object(N.translateWithI18Next)(z),t=!1;return qt&&(e=Object(N.translateWithI18Next)(W),t=!0),{showTakeWayButton:t,message:e}},{message:Jt}=Kt();Object(a.useEffect)((()=>{Object(C.g)(ze,Jt)}),[Jt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Kt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(I.a,{srcFile:Oe,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Vt,children:Object(N.translateWithI18Next)(B)})})]})},Zt=e=>{var t;let{orderType:i}=e,a=Object(N.translateWithI18Next)(Q),o=null===a||void 0===a?void 0:a.replace("%time%",St.openStoreTime);return o=null===(t=o)||void 0===t?void 0:t.replace("%servesName%",i),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),o]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return ze&&e?e.type:Ve?"Pickup":Qe},ei=ze?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(N.translateWithI18Next)(P)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(c.a,{value:Z(ze,Ve,Qe),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:we};Object(j.Fe)(We,e,Re,Pe)}else We({type:Se,value:{showDisposition:!0}});We({type:Ne,value:{showScheduleOrderCatering:!1}}),We({type:Ie,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(N.translateWithI18Next)(M)})})]}),ht&&ht.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),ht.errormessage]}),Mt&&Qt&&Object(R.jsx)(Xt,{}),Object(R.jsx)("h3",{className:"order-type",children:Ct()?Object(N.translateWithI18Next)(w):Object(N.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(c.a,{value:Ct()?ei:Ke||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Ct()?Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(We({type:De,value:{dispositionType:ze?JSON.parse(localStorage.getItem("dispositionNew")).type:Qe}}),mt&&(null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(We,e,Re,Pe)}else We({type:Ie,value:{showSearchStore:!0}});We({type:Ne,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(N.translateWithI18Next)(M)}):Object(R.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===mt||void 0===mt||null===(e=mt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(We,e,Re,Pe)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ve)We({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];We({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}We({type:Ne,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(ze)}}),We({type:De,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(N.translateWithI18Next)(M)})})]}),!Mt&&Qt&&Object(R.jsx)(Xt,{}),(null===St||void 0===St?void 0:St.error)&&Object(R.jsx)(Zt,{orderType:Z(ze,Ve,Qe)}),Object(R.jsx)("h3",{className:"order-type",children:Object(N.translateWithI18Next)(k)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(N.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===st||void 0===st?void 0:st.country)?Object(R.jsxs)(o.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>wt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(l.a,{selected:xt,showPopperArrow:!1,onChange:e=>Ut(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(R.jsx)("img",{src:be,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(o.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(O.h)(xt,"YYYYMMDD")===Object(O.e)("YYYYMMDD")&&Object(N.translateWithI18Next)("today")||Object(N.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(N.translateWithI18Next)(U)}),Object(R.jsxs)("div",{className:ee(At),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&Pt(!Rt),onClick:()=>0!==$e.periods.length&&Pt(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:yt}),Object(R.jsx)("img",{src:me,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:pe,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===At||void 0===At||!At.length)&&(null===At||void 0===At?void 0:At.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{ft((e=>({...e,error:!1}))),Wt(e)},onKeyPress:()=>Wt(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(N.translateWithI18Next)(H),onClickHandler:e=>{var t,i,a,o,n;Object(A.D)(),e.stopPropagation(),e.preventDefault();const l={storeID:null===Ye||void 0===Ye?void 0:Ye.id,disposition:Qe,postCode:null===Ye||void 0===Ye||null===(t=Ye.addresses[0])||void 0===t||null===(i=t.address)||void 0===i?void 0:i.pinCode};ge(l),Object(E.J)(l,yt),Object(y.a)(Ge),pt(!0);let d=J(yt);const c=Object(O.A)(Object(O.h)(xt,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),r={storeid:null===Ge||void 0===Ge||null===(a=Ge.storeInfo)||void 0===a?void 0:a.id,channel:T.b.channel,service:null===(o=Object(j.Mb)($t()))||void 0===o||null===(n=o.toString())||void 0===n?void 0:n.toLowerCase(),futureDateTimeInEpochFormat:c,asap:yt===x.s};rt(Object(b.n)({data:r,tenantId:st.tenantId},(()=>{if(Object(j.ce)(null===he||void 0===he?void 0:he.pathname)){var e,t;const i=null===Ye||void 0===Ye||null===(e=Ye.summary)||void 0===e?void 0:e.name,a=null===st||void 0===st||null===(t=st.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(_.a)(i,Qe,a)}}))),null!==mt&&void 0!==mt&&mt.id&&rt(Object(b.q)({params:{basketId:null===mt||void 0===mt?void 0:mt.id},tenantId:st.tenantId,postBody:X(yt,c)})),We({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(N.translateWithI18Next)(H)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1146:function(e,t,i){"use strict";i.d(t,"a",(function(){return U}));var a=i(3),o=i(28),n=i(398),l=i(5),d=i(235),c=i(61),r=i(410),s=i(6),u=i(35),v=i(395),m=i(46),b=i(264),O=i(1099),j=i(1112),p=i(1134),h=i(0),g=i(15),I=i(145),N=i(85),S=i(16),f=i(262),T=i(2);const C=(e,t,i,a,o)=>Object(l.ad)(e||t||i||a||o,g.a.ribbonRedOutlined,null);var x=function(e){var t,i,r;const{getCardTypeName:x,cardType:E,allowClickOnProductCard:y,discount:D,specials:A,exclusive:_,timer:R,cardId:P,customizable:L,getProductImageClassName:w,tenantData:M,imageName:k,onCardClickHandler:F,categoryId:U,categoryName:H,categoryUrl:W,dname:B,availability:G=[],newitem:z,topseller:V,customlabelfield:Y,getSpecificRibbonBanner:q,userParams:Q,favouriteItems:K,item:J,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ie,veg:ae,servingCount:oe,getVegNonvegClassName:ne,menuProductPriceClassName:le,checkForBasePriceInMenu:de,baseprice:ce,cardCat:re,displayPrice:se,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:be,configureOptions:Oe,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Ie,menuCardBtnText:Ne,clickHandler:Se,itemFoodlineId:fe,openCostomizedModal:Te,setOpenCostomizedModal:Ce,filteredPreviousData:xe,cartData:Ee,CARD_TYPE:ye,setShowTopScrollBtn:De,pricewithouttax:Ae}=e,_e=Object(o.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=f.a,{MINI_PDP_DATA:Pe,FROMFLAGEDIT:Le,EDIT_CLICKED:we}=S.a,{userOrderStateDispatch:Me}=Object(a.useContext)(N.a),[ke,Fe]=Object(a.useState)(!1),[Ue,He]=Object(a.useState)(Object(l.de)(window.innerWidth)),{ITEM_QUANTITY:We}=d.a,{QUANTITY_ACTION:Be}=c.a,Ge=Object(l.ad)(null===Q||void 0===Q?void 0:Q.loggedIn,h.cg,""),{allowAddToCartButton:ze=!0}=Oe,{web:{global:{showPriceWithTax:Ve=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Ye,Veg_dot_Icon:qe,Product_Card_Icon:Qe,TimerIcon:Ke,FavoriteInActiveWhite:Je,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(a.useEffect)((()=>{window.addEventListener(h.ye,et)}),[Ue]);const et=()=>{He(Object(l.de)(window.innerWidth))},tt=()=>Object(T.jsxs)("div",{className:le(E),children:[Object(l.hb)(de(ce,re),se(ce,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(T.jsxs)("span",{className:ue(ce,re),children:[n.o.MENU_CARD.CURRENCY,Object(l.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve).toFixed(2)]})]}),it=()=>Object(T.jsxs)("div",{className:ne(E),children:[Object(l.hb)(Ue,Object(T.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ae,Ye,qe)})),Object(l.hb)(!Ue,Object(l.ad)(!ae,Object(s.translateWithI18Next)(n.o.MENU_CARD.NON_VEG),Object(s.translateWithI18Next)(n.o.MENU_CARD.VEG))),Object(l.hb)(oe,Object(T.jsx)("div",{className:"Dot"})),n.o.MENU_CARD.SERVES,oe]}),at=()=>{if(null!==Q&&void 0!==Q&&Q.loggedIn)return Object(T.jsxs)("picture",{children:[Object(T.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(l.ad)("small-menu-product-card"===Z,Object(l.ad)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),X(E),te(E)),Object(l.ad)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(T.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(l.ad)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Xe,Je),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(T.jsx)("img",{src:Object(l.hb)(Array.isArray(K),null===K||void 0===K?void 0:K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))))?Xe:Je,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(P),onClick:()=>$()})]})},ot=()=>Object(T.jsx)(m.a,{"data-testid":"product-image",className:w(E),defaultPath:Object(l.bc)(null,M,!0),srcFile:Object(l.bc)(k,M),onClick:e=>Object(l.Nf)(y,F,[e,P,L,U,{productName:B,productImage:k,productPrice:Object(l.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}]),alt:""}),nt={productId:P,productInfo:{productName:B,productImage:k,productPrice:Object(l.Fc)(G[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}},lt={catId:U,catName:H,catUrl:W},dt={id:P,itemCount:ee,product:{productName:B,productImage:k,productPrice:Object(l.Ec)(G[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:fe};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:x(E,y,D,A,_,R),"data-testid":"click-allow-on-product-".concat(P),id:P,children:[Object(l.Zd)()&&L&&Object(T.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),E!==ye.SMALL&&ot(),Object(T.jsx)(b.a,{src:Object(l.ad)(A,Qe,C(Y,D,_,z,V)),className:Object(l.ad)(A,"specials-product-ribbon",Object(l.ad)(Object(l.jb)(_,Y),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(T.jsx)("span",{className:Object(l.ad)(A,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(T.jsxs)("div",{children:[Object(T.jsx)(b.a,{src:Ke,className:"product-timer"}),Object(T.jsx)("span",{className:"product-timer-text",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TIMER)})]}):q(A,D,_,z,V,Y)}),Object(l.hb)(!Ue,at()),Object(T.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{y&&F(e,nt,L,lt)},children:[Object(T.jsx)("div",{className:ie(E,D,A,_,{timer:R,newitem:z,topseller:V,customlabelfield:Y}),children:null===B||void 0===B?void 0:B[0].value}),Ue?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"description-and-image",children:[Object(T.jsx)("div",{className:ve(E),id:"longDescription",children:me[0].value}),E===ye.SMALL&&ot()]}),Object(T.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),it(),Object(T.jsx)("div",{className:"hearticonDiv",children:at()})]})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.ad)(!ae,Ye,qe)}),it(),tt(),Object(T.jsx)("div",{className:ve(E),id:"longDescription",children:me[0].value})]})]}),Object(T.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(ct=ee,rt=be,st=null===B||void 0===B?void 0:B[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(T.jsx)(O.a,{itemCount:ct,itemQuantity:We,updateItemQuantity:rt,quantityAction:Be,item:void 0,itemName:st,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),ze&&je&&Object(T.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(T.jsxs)(v.a,{tabIndex:"0",className:he(ge,E,Ie,je),"data-testid":"add-to-cart-".concat(P),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Ne(je))&&void 0!==t&&t.enabled&&ee<=0&&Se(e,L,lt,dt)},"aria-label":(null===(i=Ne(je))||void 0===i?void 0:i.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(r=Ne(je))||void 0===r?void 0:r.btnText,Object(l.J)(je.isStoreClosed)]}):L&&Object(T.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Pe,value:{id:null===J||void 0===J?void 0:J.mdmId,flag:Le,foodLineId:fe}}),Me({type:Re}),Me({type:we,value:{cartEditClicked:!1}}),_e(Object(I.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===Ee||void 0===Ee?void 0:Ee.catalog,itemId:null===J||void 0===J?void 0:J.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:U}))):(Fe(!0),Ce(!0))},children:Object(s.translateWithI18Next)(n.o.EDIT_SELECTIONS)})})]})]}),Object(T.jsx)("div",{children:Te&&(()=>{var t;return Object(T.jsx)(p.a,{handleClose:()=>{Ce(!1),Fe(!1)},filteredPreviousData:xe,updateItemQuantity:be,tenantData:M,dname:B,clickHandler:Se,cardId:P,categoryId:U,categoryName:H,categoryUrl:W,itemCount:ee,availability:G,pricewithouttax:Ae,imageName:k,itemFoodlineId:fe,customizable:L,setOpenCostomizedModal:Ce,openCostomizedModal:Te,cartData:Ee,setShowTopScrollBtn:De,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:ke,headerText:Object(l.ad)(ke,Object(s.translateWithI18Next)(n.o.EDIT_QUANTITY),Object(s.translateWithI18Next)(n.o.SELECT_QUANTITY))})})()})]});var ct,rt,st,ut};const{CARD_TYPE:E}=n.o,{FavoriteInActiveWhite:y,heartIcon_active:D,heartIcon_activeFavourite:A,heartIcon_inactive_red:_}=g.a,R=(e,t,i,a,o,n)=>e===E.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===E.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===E.SMALL?((e,t,i,a,o)=>e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||i||a||o)?"small-menu-product-card product-card-active":!e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,i,a,o,n):e===E.CAROUSAL?"carousal-menu-product-card":void 0,P=e=>e===E.LARGE?"menu-product-image":e===E.MEDIUM?"medium-menu-product-image":e===E.SMALL?"small-menu-product-image":e===E.CAROUSAL?"carousal-menu-product-image":void 0,L=(e,t,i,a,o)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:c}=o;return e===E.LARGE?"menu-product-header":e===E.MEDIUM?"medium-menu-product-header":e===E.SMALL?t||i||a||n||l||d||c?"small-menu-product-header-shift":"small-menu-product-header":e===E.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===E.LARGE?"menu-vegOrNonVeg":e===E.MEDIUM?"medium-menu-vegOrNonVeg":e===E.SMALL?"small-menu-vegOrNonVeg":e===E.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===E.LARGE?"menu-product-price":e===E.MEDIUM?"medium-menu-product-price":e===E.SMALL?"small-menu-product-price":e===E.CAROUSAL?"carousal-menu-product-price":"",k=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===E.LARGE?"menu-product-description":e===E.MEDIUM?"medium-menu-product-description":e===E.SMALL?"small-menu-product-description":e===E.CAROUSAL?"carousal-menu-product-description":"",U=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=d.a;let i=Object(s.translateWithI18Next)(t),a="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(i="Store Closed",a="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(i="Store Closed",a="store-closed",o=!1),{btnText:i,className:a,enabled:o}},W=(e,t,i,a)=>e?"".concat(((e,t)=>{let i,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case E.LARGE:i="menu-cart-button";break;case E.MEDIUM:i="medium-menu-cart-button";break;case E.SMALL:i="small-menu-cart-button";break;case E.CAROUSAL:i="carousal-menu-cart-button";break;default:i=""}return"".concat(a," ").concat(i)})(t,i)," ").concat(H(a).className):"button btn-black medium-menu-cart-button",B=(e,t,i,a,o,d)=>{let c;return c=d?Object(T.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(i?Object(T.jsx)("span",{"data-testid":"exclusive-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(T.jsx)("span",{"data-testid":"new-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.NEW)}):Object(l.ad)(o,Object(T.jsx)("span",{"data-testid":"topseller-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TOP_SELLER)}),null))),c},G=e=>e===E.CAROUSAL?D:A,z=e=>e===E.CAROUSAL?y:_,V=(e,t)=>Boolean(e)&&"recommended"!==t,Y=(e,t)=>{let i;return i=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"price-display",children:"old price"}),Object(T.jsxs)("span",{className:"base-price-menu",children:[n.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),i};t.b=e=>{var t,i;const{cardId:n,cardType:d,discount:s,specials:v,exclusive:m,timer:b,availability:O=[],tenantData:p,customizable:h,categoryId:g,activeId:I,addFavourite:N,removeFavourite:S,item:f,isHidden:C,cardFor:y,setShowTopScrollBtn:D,userParams:A}=e,{QUANTITY_ACTION:_}=c.a,q=Object(o.b)(),Q=null===p||void 0===p?void 0:p.tenantId,{componentOptions:K={}}=p,{PlpProductCard:J={}}=K,{allowClickOnProductCard:X=!1}=J,Z=Object(o.c)((e=>e.cartReducer)),$=Object(o.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(l.sd)(Z),[ie,ae]=Object(a.useState)(0),[oe,ne]=Object(a.useState)(null),[le,de]=Object(a.useState)(0),ce=null===$||void 0===$?void 0:$.id,re=Object(o.c)((e=>{var t;return Object(l.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[se,ue]=Object(a.useState)(!0),[ve,me]=Object(a.useState)("product"),{flatResponse:{productMapById:be={}}={}}=null!==(t=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Oe,je]=Object(a.useState)(""),[pe,he]=Object(a.useState)(0),[ge,Ie]=Object(a.useState)([]),[Ne,Se]=Object(a.useState)(!1),[fe,Te]=Object(a.useState)(""),{couponCode:Ce="",amount:xe=0}=(null===ee||void 0===ee||null===(i=ee.discountLines)||void 0===i?void 0:i[0])||{},{foodLines:Ee,total:ye}=ee,De=Number((ye/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:Ce,amount:Number((xe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(a.useEffect)((()=>{y&&me(y)}),[y]),Object(a.useEffect)((()=>{const e=Object(l.Td)(ee)?Object(l.mc)(n,ee):{},t=Object(l.ad)(Object(l.Td)(e),e.count,0),i=Object(l.ad)(Object(l.Td)(e),e.matchedItemFoodLineId,""),a=Object(l.ad)(Object(l.Td)(e),e.entriesCount,0),o=Object(l.ad)(Object(l.Td)(e),e.itemUnitPrice,"");ae(t),ne(i),de(a),he(o)}),[ee,n]);const _e=Object(a.useCallback)((()=>{je(R(d,X,s,v,m,b))}));Object(a.useEffect)((()=>{_e()}),[_e]);Object(a.useEffect)((()=>{ue(!0)}),[ie]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var i;return(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===e}));Ie(t)}Te(e),Se(!0)},Pe=Object(l.hb)(te,I===n);return!C&&Object(T.jsx)(x,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:P,getSpecificRibbonBanner:B,favouriteItems:re,classFavouriteIconActive:G,getCardName:Oe,favouriteButtonClickHandler:()=>{Object(l.hb)(Array.isArray(re),null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.id)===(null===f||void 0===f?void 0:f.id))))?S(Q,ce,f.id):((e,t,i,a)=>{var o;const n=Object(l.td)(null===(o=i[0])||void 0===o?void 0:o.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};N(e,d,a),q(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(Q,f,O,ce)},itemCount:ie,classFavouriteIconInActive:z,getMenuProductHeader:L,getVegNonvegClassName:w,menuProductPriceClassName:M,checkForBasePriceInMenu:V,cardCat:ve,displayPrice:Y,getPriceClassName:k,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let i={foodName:null===f||void 0===f?void 0:f.name,foodItemId:null===f||void 0===f?void 0:f.mdmId,cartPrice:e,modifiers:Object(j.i)(f),customizable:null===f||void 0===f?void 0:f.customizable,quantity:ie,foodLineId:oe};const{itemQuantityHandler:a}=Object(r.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:Ee,totalAmount:De},null===p||void 0===p?void 0:p.tenantId,void 0,be,void 0,q,void 0);t===_.Increase?h&&ie>=1?Re(null===i||void 0===i?void 0:i.foodItemId):(!h&&ue(!1),a(i,_.Increase)):le>1?Re(null===i||void 0===i?void 0:i.foodItemId):(ue(!1),a(i,_.Decrease))}},classesCardButton:U,classEnableAddToCart:W,enableAddToCartButton:se,checkLoading:Pe,menuCardBtnText:H,itemFoodlineId:oe,openCostomizedModal:Ne,filteredPreviousData:ge,setOpenCostomizedModal:Se,cartData:ee,CARD_TYPE:E,setShowTopScrollBtn:D,FoodId:fe})}},1149:function(e,t,i){"use strict";i.d(t,"b",(function(){return I}));var a=i(3),o=i(85),n=i(966),l=i(5),d=i(61),c=i(59),r=i(46),s=i(15),u=i(1106),v=i(6),m=i(1128),b=i(62),O=i(1095),j=i(262),p=i(0),h=i(2);const g=(e,t,i,a,o,n)=>{let l;l=e?Object(O.K)(t,i,a):Object(O.I)(t,i,a),o({type:n,value:l})},I=(e,t,i,a,o,n)=>{let{pdpAddtoCartConfirmButtonDisabled:l}=o,d=e<t;l[n]=d,a({type:i,value:l})};t.a=e=>{var t,i,N,S,f,T,C,x,E,y;const[D,A]=Object(a.useState)(),[_,R]=Object(a.useState)(!1),{QUANTITY_ACTION:P}=d.a,{MAX_ALERT_TEXT_INITIAL:L,MAX_ALERT_TEXT_END:w}=u.a,{PDP_PAYLOAD_DATA:M,UPDATE_SHOW_PDP_CUSTOM_MODAL:k,SET_PDP_BUTTON_DISABLED:F,PEROPTIONMAX_KEY:U,PEROPTIONMIN_KEY:H,SHOW_PDP_CUSTOM_MODAL:W}=j.a,[B,G]=Object(a.useState)(),[z,V]=Object(a.useState)(),{userOrderState:Y,userOrderStateDispatch:q}=Object(a.useContext)(o.a),{tenantData:Q,cardData:K,savedCustomizedModifier:J,saveCustomizedItemCount:X,savedModifierHandler:Z,savedModifiers:$,updatedItems:ee,toRenderCheckBox:te,toRenderQuantityModifier:ie,modgrpData:ae,isModal:oe,isStoreClosed:ne,initialRender:le,setInitialRender:de,catalog:ce,localized:re}=e,{modgrpId:se,max:ue,min:ve,modGrpName:me,additionalProperties:be}=ae,{id:Oe="",isDefault:je,defaultQuantity:pe,name:he,size:ge,isHidden:Ie,quantity:Ne,isExcluded:Se}=K,{pdpPayloadData:fe,sopacPDPCustomization:Te,pdpDataForUpdateFoodLine:Ce}=Y,xe=null===Q||void 0===Q||null===(t=Q.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(N=i.pdp)||void 0===N?void 0:N.pdpToastShowDuration,Ee=null===Q||void 0===Q||null===(S=Q.componentOptions)||void 0===S||null===(f=S.web)||void 0===f||null===(T=f.pdp)||void 0===T?void 0:T.pdpCateringItemQuantityLimit,ye=null===Q||void 0===Q||null===(C=Q.componentOptions)||void 0===C||null===(x=C.web)||void 0===x||null===(E=x.pdp)||void 0===E?void 0:E.itemCountShouldAtModifierLevel,De=Object(b.h)(),Ae=((e,t,i,a)=>{const{showCustomizationModId:o="",showCustomizationModGrpId:n=""}=a;return e?"".concat(n).concat(j.a.HASH_SYMBOL).concat(o).concat(j.a.HASH_SYMBOL).concat(i).concat(j.a.HASH_SYMBOL).concat(t):"".concat(i).concat(j.a.HASH_SYMBOL).concat(t)})(oe,Oe,se,Te),_e=Object(l.Sd)(Y.dispositionNew)?JSON.parse(localStorage.getItem(p.gd.DISPOSITION_NEW)):Y.dispositionNew,Re=(null===_e||void 0===_e?void 0:_e.type)&&Object(l.rf)(Object(l.Mb)(null===_e||void 0===_e?void 0:_e.type)),Pe=()=>Object(l.Td)(J)?J.totalQuantity:0;Object(a.useEffect)((()=>{if(void 0!==D){let e=Object(O.x)(fe,Ae);Object(l.hb)(e!==D,null!==e)&&g(oe,fe,Ae,D,q,M)}}),[D]),Object(a.useEffect)((()=>{if(void 0!==B){let e=Object(O.u)(fe,Ae);if(Object(l.hb)(e!==B,null!==e)){g(oe,fe,Ae,B?1:0,q,M)}}}),[B]),Object(a.useEffect)((()=>{if(ie){var e;let t=null===J||void 0===J||null===(e=J[se])||void 0===e?void 0:e[Oe];if(t)A(t.quantity),V(t.quantityDisplay),(null===t||void 0===t?void 0:t.quantity)>0?G(!0):G(!1);else{let e=Object(l.ad)(je,pe,0),t=Object(l.ad)(le&&!oe,e,Object(O.x)(fe,Ae));t=((e,t)=>{const{isExcluded:i,quantity:a,isModal:o,qty:n}=e;return i?0:null!==t&&void 0!==t&&t.foodLineId&&a&&!o?a:n})({isExcluded:Se,qty:t,isModal:oe,quantity:Ne},Ce),X(Oe,se,"",t)}if(Object(l.Td)(J)){I(Pe(),ve,F,q,Y,se);let e=Pe();R(e===ue)}}}),[Oe,J]);Object(a.useEffect)((()=>{if(te){let e=Object(l.ad)($.length>0,Object(O.u)(fe,Ae),je),t=Object(l.ad)(oe,Object(O.u)(fe,Ae),e),i=Object(m.d)(ee,Y,Oe,t,void 0,le);Object(m.b)(i,G,Z,K,$)}}),[Oe,ee,je,$,Z,B]);return Object(h.jsx)(n.default,{...e,isHidden:Ie,selectedProduct:B,updateItemQuantity:(e,t,i)=>{let a=Pe();if(t===P.Decrease||ue>a){let e=Object(l.ad)(t===P.Decrease,a-1,a+1);I(e,ve,F,q,Y,se),X(Oe,se,t);let i=Object(O.w)(fe,Ae,1),o=Object(O.G)(fe,{price:i,flag:t},oe);q({type:M,value:o});let n=t===P.Decrease?Te.updatedPrice-i:Te.updatedPrice+i;q({type:k,value:{updatedPrice:n}})}else{let e=Object(h.jsx)(r.a,{srcFile:s.a.ErrorImage}),t="".concat(Object(v.translateWithI18Next)(L)).concat(ue," ").concat(Object(v.translateWithI18Next)(w));Object(l.Df)(t,e,"err-toast",!0),xe&&setTimeout((()=>{c.b.dismiss()}),xe)}},itemCount:z,isModgrpMax:_,onSaveProduct:()=>{let e={modgrpMax:ue,selectedProduct:B,modgrpMin:ve,name:he,size:ge,location:De,setInitialRender:de,savedModifierHandler:Z,setSelectedProduct:G,cardData:K,savedModifiers:$,userOrderState:Y,userOrderStateDispatch:q,modGrpName:me,pdpPayloadData:fe,objPath:Ae,isModal:oe};Object(O.A)(e)},isStoreClosed:ne,handleCateringModifierQuantity:e=>{e.preventDefault();let t=Pe(),i=+Object(l.pd)(be,U),a=+Object(l.pd)(be,H),o={modgrpMax:ue,modgrpMin:ve,modifierMax:i,modifierMin:a,modgrpCount:t,itemCount:D,SET_PDP_BUTTON_DISABLED:F,userOrderStateDispatch:q,userOrderState:Y,modgrpId:se,pdpCateringItemQuantityLimit:Ee},n=Object(O.L)(e,o),d=n.valueToCount,c=n.valueToDisplay;if(!1!==d){X(Oe,se,null,d,c);let e=Object(O.w)(fe,Ae,1),t=e*d-e*D,i=Object(O.G)(fe,{price:t,flag:P.Increase},oe);q({type:M,value:i});let a=Te.updatedPrice+t;q({type:k,value:{updatedPrice:a}})}},dispositionType:Re,kilojoule:Q.kilojoule,defaultImagePath:Object(l.bc)(null,Q,!0),itemCountShouldAtModifierLevel:ye,customizeClickHandler:e=>(e=>{const{event:t,id:i,modgrpId:a,userOrderStateDispatch:o,SHOW_PDP_CUSTOM_MODAL:n,modGrpName:l}=e;t.preventDefault(),t.stopPropagation(),o({type:n,value:{showPDPCustomization:!0,modifierId:i,modgrpId:a,modgrpName:l,updatedPrice:0}})})({event:e,id:Oe,modgrpId:se,userOrderStateDispatch:q,SHOW_PDP_CUSTOM_MODAL:W,modGrpName:me}),localized:re,showButton:(null===K||void 0===K||null===(y=K.modgrps)||void 0===y?void 0:y.length)>0&&re&&!ne&&!oe,catalog:ce,savedCustomizedModifier:J})}},1153:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(6),i(106),i(92);var a=i(5),o=(i(1175),i(1142),i(20),i(398)),n=(i(41),i(146),i(15));i(2);const{CARD_TYPE:{CAROUSAL:l,MEDIUM:d}}=o.o,{CartError:c}=n.a,r=e=>Object(a.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return v}));var a=i(158);let o,n,l,d,c=[],r="";const s=(e,t,i,a)=>{if(o=e,n=t,c=i,d=a,c.length>0){let i=c.map((e=>{const{latitude:t,longitude:i}=e&&e.storeBasic.location;return{lat:t,lng:i}})),a=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...a].slice(0,24),destinations:[...i].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let i=[],a=[];a=e&&e.rows&&e.rows[0].elements.map((e=>e));let o=e&&e.originAddresses&&e.originAddresses[0]||"";i=c.map(((e,t)=>({...e,...a[t]}))),d(i,o)},v=(e,t,i)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},m),l=i},m=(e,t)=>{if(t===a.a.OK_STATUS){let t=[],i=e&&e.rows&&e.rows.map((e=>e));t=null===i||void 0===i?void 0:i.map((e=>e.elements[0])),r=e&&e.originAddresses||[],l({allStoreDistance:t,originAddressText:r})}}},1159:function(e,t,i){"use strict";var a=i(964);i.d(t,"a",(function(){return a.default}))},1160:function(e,t,i){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1162:function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return S}));var a=i(1127),o=i(42),n=i.n(o),l=(i(21),i(5),i(20)),d=i.n(l),c=i(112),r=i(55),s=i(2);const u=e=>{const{FOOTER_LOGO:t,FOOTER_SECTION:i,FIND_A_KFC_SECTION:o,APP_LINKS:l,SOCIAL_SECTION:d,COPYRIGHT:c,HEADLINE:r}=a.a,s={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},u={languageDropdown:{},copyrightContentData:{},socialMediaContent:[],copyrightNavLinks:[]};for(const a of e){const e=n()(a,"sys.contentType.sys.id"),N=n()(a,"fields.category");if(e===t){const{url:e,altText:t}=O(a.fields);s.kfcLogo={src:e,alt:t}}else if(N===o){var m,j,h;const e=null===a||void 0===a||null===(m=a.fields)||void 0===m||null===(j=m.links)||void 0===j||null===(h=j[0].fields)||void 0===h?void 0:h.linkText;s.kfcStoreSearch={...g(a.fields.links[0].fields),name:e}}else if(N===l)s.downloadAppButtons=v(a.fields.links);else if(N===d)u.socialMediaContent=b(a.fields.links);else if(N===c){var I;null===a||void 0===a||null===(I=a.fields)||void 0===I||I.links.forEach((e=>{var t,i,a;if((null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(i=t.contentType)||void 0===i||null===(a=i.sys)||void 0===a?void 0:a.id)===r){const{headline:t}=e.fields;u.copyrightContentData={name:t}}else{const{linkText:t,title:i,internalurl:a,externalurl:o}=e.fields;u.copyrightNavLinks=[...u.copyrightNavLinks,{linkText:t,title:i,internalurl:a,externalurl:o}]}}))}else e===i&&s.categories.push(p(a.fields))}return{bodyContent:s,footerContent:u}},v=e=>e.map((e=>({...m(e.fields),name:e.fields.title})))||[],m=e=>{const{url:t,desktopImage:i={fields:{}}}=e,{file:a={}}=i.fields,{url:o=""}=a;return{linkTo:t,url:o}},b=e=>e.map((e=>{const{externalurl:t,icon:i={}}=e.fields,{url:a}=O(i.fields);return{...{linkTo:t,url:a},name:e.fields.title}}))||[],O=e=>{const{desktopImage:t}=e;return t&&j(t)||{}},j=e=>{var t;const{url:i="",altText:a=""}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.file)||{};return{url:i,altText:a}},p=e=>{let t=[];const{category:i,links:a=[]}=e;return a.forEach((e=>{t.push(h(e.fields))})),{categoryHeaderText:i,subCategories:t}},h=e=>{var t,i,a,o,n,l,d,c,r,s;const{linkText:u,internalurl:v,externalurl:m}=e;return{name:u,linkTo:e.url||e.internalurl,internalurl:v,externalurl:m,icon:{desktopImage:null===e||void 0===e||null===(t=e.icon)||void 0===t||null===(i=t.fields)||void 0===i||null===(a=i.desktopImage)||void 0===a||null===(o=a.fields)||void 0===o||null===(n=o.file)||void 0===n?void 0:n.url,mobileImage:null===e||void 0===e||null===(l=e.icon)||void 0===l||null===(d=l.fields)||void 0===d||null===(c=d.mobileImage)||void 0===c||null===(r=c.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url}}},g=e=>{const{linkTo:t,icon:i={},title:a,externalurl:o}=e,{url:n}=O(i.fields);return{linkTo:t,url:n,title:a,externalurl:o}},I=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},N=e=>(null===e||void 0===e?void 0:e.title)===(null===a.a||void 0===a.a?void 0:a.a.COOKIES_SETTINGS)?Object(s.jsx)("span",{onClick:I,children:null===e||void 0===e?void 0:e.linkText}):null===e||void 0===e?void 0:e.linkText,S=e=>null===e||void 0===e?void 0:e.map((e=>{const t=e.internalurl,i=d()(t)?e.externalurl:null;return Object(s.jsxs)("li",{id:e.title,children:[(!d()(t)||(null===e||void 0===e?void 0:e.title)===(null===a.a||void 0===a.a?void 0:a.a.COOKIES_SETTINGS))&&Object(s.jsx)(c.b,{to:t,onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:N(e)}),!d()(i)&&Object(s.jsx)("a",{href:i,target:"",onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:e.linkText})]})}))},1163:function(e,t,i){"use strict";var a=i(3),o=i(62),n=i(28),l=i(211),d=i(5),c=i(132),r=i(80),s=i(235),u=i(61),v=i(1118),m=i(6),b=i(35),O=i(1138),j=i(402),p=i(15),h=i(396),g=i(85),I=i(0),N=i(409),S=i(2);const{CARD_TYPE:f}=l.MENU_PLP_CONSTANT,{heartIcon_active:T,heartIcon_activeFavourite:C,FavoriteInActiveWhite:x,heartIcon_inactive_red:E}=p.a,y=(e,t,i,a,o,n)=>e===f.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===f.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===f.SMALL?((e,t,i,a,o)=>e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||i||a||o)?"small-menu-product-card product-card-active":!e&&(t||i||a||o)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,i,a,o,n):e===f.CAROUSAL?"carousal-menu-product-card":void 0,D=e=>e===f.LARGE?"menu-product-image":e===f.MEDIUM?"medium-menu-product-image":e===f.SMALL?"small-menu-product-image":e===f.CAROUSAL?"carousal-menu-product-image":void 0,A=(e,t,i,a,o)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:c}=o;return e===f.LARGE?"menu-product-header":e===f.MEDIUM?"medium-menu-product-header":e===f.SMALL?t||i||a||n||l||d||c?"small-menu-product-header-shift small-menu-product-header":"small-menu-product-header":e===f.CAROUSAL?"carousal-menu-product-header":void 0},_=e=>e===f.LARGE?"menu-vegOrNonVeg":e===f.MEDIUM?"medium-menu-vegOrNonVeg":e===f.SMALL?"small-menu-vegOrNonVeg":e===f.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,R=e=>e===f.LARGE?"menu-product-price":e===f.MEDIUM?"medium-menu-product-price":e===f.SMALL?"small-menu-product-price":e===f.CAROUSAL?"carousal-menu-product-price":"",P=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",L=e=>e===f.LARGE?"menu-product-description":e===f.MEDIUM?"medium-menu-product-description":e===f.SMALL?"small-menu-product-description":e===f.CAROUSAL?"carousal-menu-product-description":"",w=(e,t)=>e?"cardButton "+t:"cardButtonOnly "+t,M=e=>{const{ADD_TO_CART:t}=s.a;let i=Object(m.translateWithI18Next)(t),a="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(i="Store Closed",a="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(i="Store Closed",a="store-closed",o=!1),{btnText:i,className:a,enabled:o}},k=(e,t,i,a)=>e?"".concat(((e,t)=>{let i,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case f.LARGE:i="menu-cart-button";break;case f.MEDIUM:i="medium-menu-cart-button";break;case f.SMALL:i="small-menu-cart-button";break;case f.CAROUSAL:i="carousal-menu-cart-button";break;default:i=""}return"".concat(a," ").concat(i)})(t,i)," ").concat(M(a).className):"button btn-black medium-menu-cart-button",F=(e,t,i,a,o,n)=>{let c;return c=n?Object(S.jsx)("span",{"data-testid":"exclusive-id",children:n}):e||(t||(i?Object(S.jsx)("span",{"data-testid":"exclusive-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(S.jsx)("span",{"data-testid":"new-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(d.ad)(o,Object(S.jsx)("span",{"data-testid":"topseller-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null))),c},U=e=>e===f.CAROUSAL?T:C,H=e=>e===f.CAROUSAL?x:E,W=(e,t)=>Boolean(e)&&"recommended"!==t,B=(e,t)=>{let i;return i=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{className:"price-display",children:"old price"}),Object(S.jsxs)("span",{className:"base-price-menu",children:[l.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),i};t.a=e=>{var t,i,l,s,m,p,T,C;const{cardId:x,cardType:E,discount:G,specials:z,exclusive:V,timer:Y,availability:q=[],nextAvailableTime:Q,isAvailable:K,tenantData:J,customizable:X,categoryId:Z,activeId:$,addFavourite:ee,removeFavourite:te,item:ie,isHidden:ae,cardFor:oe,setShowTopScrollBtn:ne,userParams:le,productContent:de,plpbackgroundImageData:ce,viewUp:re}=e,se=Object(d.od)(null===le||void 0===le?void 0:le.localized,null===le||void 0===le?void 0:le.loggedIn),ue=Object(c.b)(r.b),{QUANTITY_ACTION:ve}=u.a,me=Object(n.b)(),be=null===J||void 0===J?void 0:J.tenantId,{componentOptions:Oe={}}=J,{PlpProductCard:je={}}=Oe,{allowClickOnProductCard:pe=!1}=je,he=Object(n.c)((e=>e.cartReducer)),ge=Object(n.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:Ie={},isAddItemLoading:Ne=!1}=Object(d.sd)(he),{discountTotal:Se,couponCode:fe}=Object(d.zb)(Ie),[Te,Ce]=Object(a.useState)(0),[xe,Ee]=Object(a.useState)(null),[ye,De]=Object(a.useState)(0),Ae=null===ge||void 0===ge?void 0:ge.id,_e=Object(n.c)((e=>{var t;return Object(d.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[Re,Pe]=Object(a.useState)(!0),[Le,we]=Object(a.useState)("product"),{flatResponse:{productMapByItemId:Me={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[ke,Fe]=Object(a.useState)(""),[Ue,He]=Object(a.useState)(0),[We,Be]=Object(a.useState)([]),[Ge,ze]=Object(a.useState)(!1),[Ve,Ye]=Object(a.useState)(""),[qe,Qe]=Object(a.useState)(!1),Ke=Object(o.h)(),Je=Object(n.c)((e=>e.storesReducer)),Xe=(null===Je||void 0===Je||null===(i=Je.storesWithStatus)||void 0===i?void 0:i.length)&&(null===Je||void 0===Je||null===(l=Je.storesWithStatus[0])||void 0===l||null===(s=l.summary)||void 0===s?void 0:s.timeZoneIANA),Ze=null===Oe||void 0===Oe||null===(m=Oe.web)||void 0===m||null===(p=m.global)||void 0===p?void 0:p.pricewithNumberofDecimalDigit,{userOrderStateDispatch:$e,userOrderState:et}=Object(a.useContext)(g.a),{timeBasedCetegory:tt,timeBasedAlertModalData:it}=et,at=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),ot=Object(n.c)((e=>Object(d.sd)(e.storesReducer))),nt=null===Oe||void 0===Oe||null===(T=Oe.web)||void 0===T||null===(C=T.plp)||void 0===C?void 0:C.removeSingleItemInCartFromPLP,lt=(null===ot||void 0===ot?void 0:ot.storesWithStatus)&&Object(N.b)(null===ot||void 0===ot?void 0:ot.storesWithStatus[0]);Object(a.useEffect)((()=>{oe&&we(oe)}),[oe]),Object(a.useEffect)((()=>{const e=Object(d.Td)(Ie)?Object(d.mc)(x,Ie):{},t=Object(d.ad)(Object(d.Td)(e),e.count,0),i=Object(d.ad)(Object(d.Td)(e),e.matchedItemFoodLineId,""),a=Object(d.ad)(Object(d.Td)(e),e.entriesCount,0),o=Object(d.ad)(Object(d.Td)(e),e.itemUnitPrice,"");Ce(t),Ee(i),De(a),He(o)}),[Ie,x]);const dt=Object(a.useCallback)((()=>{Fe(y(E,pe,G,z,V,Y))}));Object(a.useEffect)((()=>{dt()}),[dt]);const ct=Object(a.useMemo)((()=>Object(d.ad)(ce,ce,{})),[ce]);Object(a.useEffect)((()=>{Pe(!0)}),[Te]),Object(a.useEffect)((()=>{let e=Object(j.j)(null===Ke||void 0===Ke?void 0:Ke.pathname);Qe(e.showCateringflag)}),[null===Ke||void 0===Ke?void 0:Ke.pathname]);const rt=e=>{if(null!==Ie&&void 0!==Ie&&Ie.id){let t=null===Ie||void 0===Ie?void 0:Ie.foodLines.filter((t=>{var i;return(null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.id)===e}));Be(t)}Ye(e),ze(!0)},st=Object(d.hb)(Ne,$===x);return!ae&&!((e,t,i,a)=>((null===e||void 0===e?void 0:e.isReviewOrderClick)||(null===e||void 0===e?void 0:e.isCloseButtonClicked))&&Object(h.b)(t,i,a))(it,at,lt,null===e||void 0===e?void 0:e.id)&&Object(S.jsx)(O.a,{...e,getCardTypeName:y,"data-testid":"MenuPlpTestId",allowClickOnProductCard:pe,getProductImageClassName:D,getSpecificRibbonBanner:F,favouriteItems:_e,classFavouriteIconActive:U,getCardName:ke,favouriteButtonClickHandler:()=>{Object(d.hb)(Array.isArray(_e),null===_e||void 0===_e?void 0:_e.find((e=>(null===e||void 0===e?void 0:e.id)===(null===ie||void 0===ie?void 0:ie.id))))?te(be,Ae,ie.id):(async(e,t,i,a)=>{var o;const n=Object(d.td)(null===(o=i[0])||void 0===o?void 0:o.price),l={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===J||void 0===J?void 0:J.currencyConversionFactor),additionalProperties:t.additionalProperties};await ee(e,l,a),await me(Object(b.v)({showProductListingModal:!1,categorySelected:Z}))})(be,ie,q,Ae)},itemCount:Te,classFavouriteIconInActive:H,getMenuProductHeader:A,getVegNonvegClassName:_,menuProductPriceClassName:R,checkForBasePriceInMenu:W,cardCat:Le,displayPrice:B,getPriceClassName:P,menuProductDescriptionClassName:L,updateItemQuantity:(t,i)=>{var a;null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const o=Object(h.g)(null===e||void 0===e?void 0:e.cardId,null===at||void 0===at?void 0:at.flatResponse),n=Object(h.d)(x,tt);if(!Object(h.c)({categoryUrl:o,itemInCart:n,alertType:Object(h.j)(null===tt||void 0===tt?void 0:tt.timebasedItemInCart,null===I.Sb||void 0===I.Sb?void 0:I.Sb.ITEM),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.cardId},{...tt,menuData:at,foodLinesItems:(null===he||void 0===he||null===(a=he.cartData)||void 0===a?void 0:a.foodLines)||[]},$e)&&le.localized){const e=Number((Ue/(null===J||void 0===J?void 0:J.currencyConversionFactor)).toFixed(2));let t={foodName:null===ie||void 0===ie?void 0:ie.name,foodItemId:null===ie||void 0===ie?void 0:ie.mdmId,cartPrice:e,modifiers:[],quantity:Te,foodLineId:xe};const{itemQuantityHandler:a,itemRemoveHandler:o}=Object(v.a)({cartId:null===Ie||void 0===Ie?void 0:Ie.id},null===J||void 0===J?void 0:J.tenantId,void 0,Me,void 0,me,void 0,se,null===J||void 0===J?void 0:J.currencyShortName,void 0,ue,fe,Se,null===J||void 0===J?void 0:J.currencyConversionFactor);i===ve.Increase?X&&Te>=1?rt(null===t||void 0===t?void 0:t.foodItemId):(!X&&Pe(!1),a(t,ve.Increase)):ye>1?rt(null===t||void 0===t?void 0:t.foodItemId):(Pe(!1),nt&&1===(null===t||void 0===t?void 0:t.quantity)?o(t):a(t,ve.Decrease))}},classesCardButton:w,classEnableAddToCart:k,enableAddToCartButton:Re,checkLoading:st,menuCardBtnText:M,itemFoodlineId:xe,openCostomizedModal:Ge,filteredPreviousData:We,setOpenCostomizedModal:ze,cartData:Ie,CARD_TYPE:f,setShowTopScrollBtn:ne,FoodId:Ve,plpbackgroundImageSrc:ct,storeTimeZone:Xe,showCateringflag:qe,serves:null===de||void 0===de?void 0:de.serves,imageurl:null!==de&&void 0!==de?de:null===ie||void 0===ie?void 0:ie.content,nextAvailableTime:Q,isAvailable:K,pricewithNumberofDecimalDigit:Ze,viewUp:re})}},1165:function(e,t,i){"use strict";i.d(t,"b",(function(){return te})),i.d(t,"c",(function(){return ae}));var a=i(3),o=i.n(a),n=i(210),l=i(28),d=i(6),c=i(146),r=i(395),s=i(5),u=i(80),v=i(263),m=i(46),b=i(15),O=i(1098),j=i(262),p=i(2);const h=e=>{let{upsizeInfo:t,upSizeHandler:i,itemSelected:a,customizable:o}=e;const n=e=>o?Object(p.jsx)("span",{className:"size-desc",children:e.itemDesc}):Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"size-desc size-desc-price",children:e.price}),e.calories&&Object(p.jsx)("span",{className:"size-desc size-desc-cal",children:e.calories})]});let l=(e,t,o,l)=>Object(p.jsxs)("div",{className:"modifier-size",children:[Object(p.jsxs)("div",{className:"size-info",children:[Object(p.jsx)("span",{className:"size-title",children:t}),n(o)]}),Object(p.jsxs)("picture",{onClick:()=>e!==a&&((e,t)=>{var a;i(e);const o={name:null===t||void 0===t?void 0:t.itemDesc,size:null===t||void 0===t||null===(a=t.itemDesc)||void 0===a?void 0:a.split(" ")[0]};Object(O.e)(o,j.a.ADDONS)})(e,o),"data-testid":"upsize-handler-id-".concat(l),children:[Object(p.jsx)("source",{media:"(max-width: 1023px)",srcSet:e===a?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===a?"checked":""}),Object(p.jsx)("img",{src:e===a?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===a?"checked":""})]})]},l);return Object(p.jsx)("div",{className:"sopac-upsize",children:Object(s.pc)(t)&&t.map(((e,t)=>{let{id:i,title:a,desc:o}=e;return l(i,a,o,t)}))})};var g=o.a.memo(h),I=i(0),N=i(4),S=i(85),f=i(1095),T=i(1167),C=i(1162);const x=()=>{const{headerData:{footer:e={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),t=Object(s.Wb)(e),{bodyContent:i={}}=Object(C.b)(t)||{},{categories:a=[]}=i,o=(e=>e.flatMap((e=>e.subCategories.filter((e=>e.internalurl===I.pc.NUTRITION_ALLERGEN_GUIDE_LINK)).map((e=>e.internalurl)))))(a),n=o[0],{ALLERGY_NUTRITION_TEXT:c}=j.a;return Object(p.jsx)("a",{className:"non-ala-carte-alert-link","data-testid":"nutritionAllergenLink1",href:n,type:"external",rel:"noreferrer",children:Object(d.translateWithI18Next)(c)})};var E=o.a.memo(x),y=i(1139),D=i(264),A=i(1123);const _=e=>!!e&&"".concat(Object(d.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.SERVES)," ").concat(e),R=e=>{var t,i,o,n,c,r,O,h,C,x,R,L,w;const{cardId:M,calories:k,customizable:F,price:U,upsizeInfo:H,upSizeHandler:W,showAddToCartButton:B,availability:G,isStoreClosed:z,kilojoule:V,pdpCardObject:Y,pdpPromoPage:q,storeTimeZone:Q,modgrps:K,servesCount:J,imageName:X}=e,Z=Object(l.b)(),$=Object(l.c)((e=>e.tenantReducer)),ee=Object(l.c)(u.b),{hiddenCouponDetails:te}=Object(l.c)((e=>e.cartReducer)),{storesWithStatus:ie}=Object(l.c)((e=>e.storesReducer)),[ae,oe]=Object(a.useState)({}),{userOrderState:ne,userOrderStateDispatch:le}=Object(a.useContext)(S.a),de=null===(t=null===X||void 0===X?void 0:X.hideAllergenInformation)||void 0===t||t,ce=null===(i=null===X||void 0===X?void 0:X.hideNutritionInformation)||void 0===i||i,re=(null===(o=ie[0])||void 0===o||null===(n=o.summary)||void 0===n?void 0:n.timeZoneIANA)||Object(s.Vc)(),se=null===$||void 0===$||null===(c=$.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(O=r.pdp)||void 0===O?void 0:O.showAllergyNutrition,ue=null===$||void 0===$||null===(h=$.componentOptions)||void 0===h||null===(C=h.web)||void 0===C||null===(x=C.pdp)||void 0===x?void 0:x.showPriceNonLocalized,{currencyConversionFactor:ve,currencySymbol:me}=$,be=null===$||void 0===$||null===(R=$.componentOptions)||void 0===R||null===(L=R.pdp)||void 0===L?void 0:L.redirectAllergyNutritionInfo,{userParams:Oe}=Y,{nutritionAllergenHandler:je,showNutritionAllergenModal:pe}=(null===(he=e)||void 0===he?void 0:he.nutritionDetails)||{};var he;const{ALLERGY_NUTRITION_TEXT:ge,PDP_CHOOSE_STORE:Ie,MODGROUPMAX:Ne,SELECTED_ITEM_NOT_AVAILABLE:Se,OUT_OF_STOCK_ITEM_TEXT:fe}=j.a,Te=e,{pdpPayloadData:Ce}=ne;Y[Ne]=null===K||void 0===K||null===(w=K[0])||void 0===w?void 0:w.max,Y[Se]=Object(s.jb)(null===Te||void 0===Te?void 0:Te.isExcluded,Object(f.c)(Ce)),Y.itemId=M,Object(a.useEffect)((()=>{te&&Object(y.b)(null===te||void 0===te?void 0:te[0],le,Z)}),[]),Object(a.useEffect)((()=>{oe(((e,t)=>e&&t&&Object(f.k)(e,t))(G,re))}),[G,re]);const xe=(e,t)=>{var i,a,o,n,l;const c=ee[I.gd.VIEW_PRODUCT],r=[Object(f.k)(null===c||void 0===c||null===(i=c.priceDetails)||void 0===i||null===(a=i.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===a?void 0:a.availability,re)],s=(null===r||void 0===r||null===(o=r[0])||void 0===o?void 0:o.promoPrice)<(null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.price)?null===r||void 0===r||null===(l=r[0])||void 0===l?void 0:l.promoPrice:0,u=s?{...null===r||void 0===r?void 0:r[0],price:s}:t;return s&&q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{"data-testid":"pdp-promos-with-price",className:"pdp-promos-container with-price",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img"}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(d.translateWithI18Next)(N.a.PROMO_TEXT)}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(p.jsx)("del",{children:U(F,null===r||void 0===r?void 0:r[0],!1,Q)})})]}),Object(p.jsx)("span",{className:"price-info",children:U(F,u,!1,Q)})]}):q?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(N.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price",children:U(F,t,!1,Q)})]}):Object(p.jsx)("span",{className:"price-info","data-testid":"pdp-item-price",children:U(F,t,!1,Q)})},Ee=Object(p.jsx)("div",{className:"allergy-info",children:be?Object(p.jsx)(E,{}):Object(p.jsx)(v.a,{onClickHandler:je,className:"allergy-info-link","data-testid":"allergy-info",children:Object(d.translateWithI18Next)(ge)})}),ye=Object(s.j)([null===Oe||void 0===Oe?void 0:Oe.localized,!z,H.length>0])?Object(p.jsx)(g,{upsizeInfo:H,upSizeHandler:W,itemSelected:M,customizable:F}):null,De=Object(s.Cd)(null===Te||void 0===Te?void 0:Te.modgrps)?Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(fe)})]}):null,Ae=Object(s.jb)(!(null!==Oe&&void 0!==Oe&&Oe.localized),z)&&Object(p.jsxs)("div",{className:"pdp-summary-cart-notification",children:[!!te.length&&Object(p.jsx)(P,{hiddenCouponDetails:te,currencySymbol:me,currencyConversionFactor:ve}),Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(Ie)})]})]}),_e=Object(s.hb)(ue,!z)&&Object(p.jsx)("div",{className:"price-kj-info",children:xe(M,ae)}),Re=Object(s.hb)(null===Oe||void 0===Oe?void 0:Oe.localized,!z)&&Object(p.jsxs)("div",{className:"price-kj-info",children:[xe(M,ae),Object(p.jsx)("span",{className:"kj-css",children:k&&Object(p.jsxs)("span",{className:"kj-info","data-testid":"pdp-kj-value",children:["".concat(k," ").concat(V)," \xa0 ",_(J)]})})]}),Pe=Object(s.j)([B,null===Oe||void 0===Oe?void 0:Oe.localized,!z])&&Object(p.jsx)(A.a,{...Y,pdpPromoPage:q}),Le=Object(p.jsx)(T.a,{isMobile:Y.isMobile,summaryData:Te});return Object(p.jsxs)(p.Fragment,{children:[ue?_e:Re,se&&(!de||!ce)&&Ee,ye,Ae,De,Pe,pe&&Le]})},P=e=>{var t,i;let{hiddenCouponDetails:a,currencySymbol:o,currencyConversionFactor:n}=e;const l=null===a||void 0===a||null===(t=a[0].itemDetails)||void 0===t||null===(i=t[0].availability)||void 0===i?void 0:i[0],c=Object(s.Xc)(l,n);return Object(p.jsxs)("div",{className:"price-kj-info",children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(D.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(N.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price","data-testid":"price-container",children:"".concat(o).concat(c)})]})},L=e=>{let{summaryData:t,pdpPromoPage:i,storeTimeZone:a,nutritionAllergenHandler:o,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}=e;const{pdpCardObject:v,comboData:m,customizable:b,makeItComboHandler:O,showMakeItComboButton:j}=t,h=Object(s.j)([!b,m>0,j])&&Object(p.jsx)(c.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(p.jsx)(r.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:O,children:Object(p.jsx)("span",{children:Object(d.translateWithI18Next)("makeItACombo")})})});return Object(p.jsx)("div",{className:"pdp-receipt-card",children:Object(p.jsxs)("form",{className:"pdp-receipt-form",onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[Object(p.jsx)("h1",{className:"pdp-receipt-header","data-testid":"pdp-item-name",children:null===v||void 0===v?void 0:v.dName}),Object(p.jsx)(R,{...t,pdpPromoPage:i,storeTimeZone:a,nutritionDetails:{nutritionAllergenHandler:o,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}}),h]})})};var w=o.a.memo(L),M=i(145),k=i(1103),F=i(235),U=i(132),H=i(1140);const W=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name",B=(e,t,i,a,o,n,l)=>{const{REGULAR_SIZE_TITLE:c,REGULAR_SIZE_DESC:r,UPSIZE_TITLE:u,UPSIZE_DESC:v}=j.a;var m;n||null!==l&&void 0!==l&&l.isProductPromo||(t=null===(m=t)||void 0===m?void 0:m.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))));let b=[];if(e){var O,p;let e=((e,t)=>Object(s.Ec)(e[1].availability[0],t).toFixed(I.gg)-Object(s.Ec)(e[0].availability[0],t).toFixed(I.gg))(t,a);b=[{id:null===(O=t[0])||void 0===O?void 0:O.id,title:"".concat(Object(d.translateWithI18Next)(c)),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(r))}},{id:null===(p=t[1])||void 0===p?void 0:p.id,title:"".concat(Object(d.translateWithI18Next)(u)," (+").concat(i).concat((+e).toFixed(2),")"),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(v))}}]}else{let e={};t.forEach((t=>{let n=Object(s.Ec)(t.availability[0],a).toFixed(I.gg),l=Object(s.pd)(t.additionalProperties,I.F);e={id:t.id,title:W(t),desc:{price:n>0?"".concat(i).concat(n):"",calories:0===l?"":" ".concat(l," ").concat(o)}},b.push(e)}))}return b};var G=e=>{var t,i,o,n,c,r,v,m,b;const O=Object(l.b)(),[h,g]=Object(a.useState)(""),[N,T]=Object(a.useState)([]),[C,x]=Object(a.useState)({}),[E,y]=Object(a.useState)(!1),[D,A]=Object(a.useState)(!1),_=Object(l.c)((e=>e.tenantReducer)),{cartData:R}=Object(l.c)((e=>e.cartReducer))||{},P=Object(l.c)((e=>e.appStateReducer.userStatus)),L=Object(U.b)(u.b),{pdpData:G,customModGrps:z={},isIpad:V,isMobile:Y,comboData:q,isStoreClosed:Q,isItemDecreased:K,quantityRemovedObject:J,itemStatus:X,prodQuantity:Z,quantityUpdate:$,addtoCartClinckHandler:ee,setItemStatus:te,setProdQuantity:ie,storeTimeZone:ae,imageContainerSize:oe,pdpbackgroundImageData:ne}=e,{dname:le,additionalProperties:de={},availability:ce,modgrps:re,catalogName:se,customizable:ue,items:ve=[]}=G||{},{EXPAND_ACCORDIAN:me,IS_IN_STOCK:be,IS_OUT_OF_STOCK:Oe,OUT_OF_STOCK_TEXT:je,PDP_ITEM_UPSIZE_ID:pe}=j.a,he=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(o=i.pdp)||void 0===o?void 0:o.pdpCateringItemQuantityLimit,{TURNED_NO_RESULTS_TEXT:ge}=k.a,{veg:Ie}=de,Ne=null===_||void 0===_||null===(n=_.componentOptions)||void 0===n||null===(c=n.web)||void 0===c||null===(r=c.global)||void 0===r?void 0:r.pricewithNumberofDecimalDigit,Se=null===_||void 0===_||null===(v=_.componentOptions)||void 0===v||null===(m=v.web)||void 0===m||null===(b=m.pdp)||void 0===b?void 0:b.skipZeroPriceCheck,{userOrderState:fe,userOrderStateDispatch:Te}=Object(a.useContext)(S.a),{eventAvailabilities:Ce,fetchEventItemAvailability:xe,getEventItemAvailability:Ee,isEvent:ye}=(Object(s.Sd)(null===fe||void 0===fe?void 0:fe.dispositionNew)?JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW)):null===fe||void 0===fe||fe.dispositionNew,Object(H.a)()),{pdpScreenCommons:{currentAccordian:De},pdpPromoPage:Ae,pdpDataForUpdateFoodLine:_e}=fe;Object(a.useEffect)((()=>{((e,t,i)=>{var a;Object(s.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)&&i(null===(a=Object(s.Ub)(t))||void 0===a?void 0:a.id)})(z,re,g)}),[z,re]);const Re=()=>{if(X===Oe)return!1},Pe=(e,t)=>{if(X===Oe)return!1;e&&(e.preventDefault(),e.stopPropagation()),Te({type:me,value:t});const i=document.getElementById("accordion-"+t);null===i||void 0===i||i.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),g(t)};Object(a.useEffect)((()=>(xe(),()=>{Te({type:me,value:""})})),[]),Object(a.useEffect)((()=>{Object(s.ad)(De,Pe(null,De),"")}),[De]);const Le=e=>{Object(s.ad)(Re()?"":Re()),e.preventDefault()},we=e=>{Object(f.B)(e,he,ie)},Me=e=>{fe.pdpItemUpsizeId!==e&&(Te({type:pe,value:{pdpItemUpsizeId:e}}),O(Object(M.c)({tenantId:null===_||void 0===_?void 0:_.tenantId,catalogName:null===G||void 0===G?void 0:G.catalogName,itemId:e})))};Object(a.useEffect)((()=>{if(Object(s.Td)(G)){let e=ve.length>1?B(ue,ve,_.currencySymbol,_.currencyConversionFactor,_.kilojoule,Ae,_e):[];T(e)}}),[G]),Object(a.useEffect)((()=>{if(ye){Ee(null===G||void 0===G?void 0:G.id)?X===Oe&&te(be):te(Oe)}}),[Ce,Ee,ye,null===G||void 0===G?void 0:G.id,R]);const ke=(e,t,i,a)=>{let o=Object(f.j)(t,null===_||void 0===_?void 0:_.currencyConversionFactor,i,null===G||void 0===G?void 0:G.id,a,L);if(!Se&&!e&&0===o)return te(Oe),Object(d.translateWithI18Next)(je);let n=(Math.round(o*I.hg)/I.hg).toFixed(Ne);return"".concat(null===_||void 0===_?void 0:_.currencySymbol).concat(n)};return Object(a.useEffect)((()=>{let t=void 0!==Q,i=void 0!==h,a=[Object(s.Td)(G),Object(s.pc)(ve)>0,i,Array.isArray(N),(null===se||void 0===se?void 0:se.length)>0,Object(s.Td)(_),t];if(Object(s.j)(a)){var o,n,l,d,c,r,u,v,m,b,O;const t=L[I.gd.VIEW_PRODUCT],{ITEM_QUANTITY:i}=F.a;let a={servesCount:null===G||void 0===G||null===(o=G.content)||void 0===o?void 0:o.serves,cardId:G.id,veg:Ie,calories:null===G||void 0===G||null===(n=G.content)||void 0===n?void 0:n.caloricValue,modgrps:re,customizable:ue,isActive:h,setAsActiveLink:Pe,isIpad:V,makeItComboHandler:Le,comboData:q,price:ke,catalogs:se,upsizeInfo:N,upSizeHandler:Me,showAddToCartButton:null===_||void 0===_||null===(l=_.componentOptions)||void 0===l||null===(d=l.web)||void 0===d||null===(c=d.pdp)||void 0===c?void 0:c.addToCartButton,showMakeItComboButton:null===_||void 0===_||null===(r=_.componentOptions)||void 0===r||null===(u=r.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.makeItComboButton,pdpCardObject:{prodQuantity:Z,userParams:P,quantityUpdate:$,dName:W(G),maxItemCountPerLineItem:Object(f.o)(Ae,t,G.id,he),minItemCountPerLineItem:Object(f.p)(Ae,t,G.id,he),addtoCartClinckHandler:ee,itemStatus:X,currencySymbol:null===_||void 0===_?void 0:_.currencySymbol,currencyConversion:null===_||void 0===_?void 0:_.currencyConversionFactor,isMobile:Y,itemQuantity:Object(f.n)(Ae,t,G.id,i),handleProdQuantityForCatering:we,defaultdisposition:null===_||void 0===_||null===(m=_.authoredContent)||void 0===m?void 0:m.defaultdisposition,isItemDecreased:K,quantityRemovedObject:J,categoryId:null===e||void 0===e?void 0:e.categoryId},availability:G.availability,isStoreClosed:Q,isItemDecreased:K,kilojoule:null===_||void 0===_?void 0:_.kilojoule,allergenDetails:null===G||void 0===G||null===(b=G.content)||void 0===b?void 0:b.allergenInformation,nutritionalDetails:null===G||void 0===G||null===(O=G.content)||void 0===O?void 0:O.nutritionalInformation,imageName:null===G||void 0===G?void 0:G.content,imageContainerSize:oe,pdpbackgroundImageData:ne,isExcluded:null===G||void 0===G?void 0:G.isExcluded};x(a),y(!0)}}),[le,ce,Ie,se,h,re,X,Y,V,q,P,N,null===_||void 0===_?void 0:_.maxItemCountPerLineItem,Z,Q,ve]),Object(s.ad)(E,Object(s.Td)(C)?Object(p.jsx)(w,{"data-testid":"pdp-summary-view",summaryData:C,pdpPromoPage:Ae,storeTimeZone:ae,nutritionAllergenHandler:()=>{A(!0)},showNutritionAllergenModal:D,handleCloseModal:()=>{A(!1)},setNutritionAllergenModalOpen:A}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.translateWithI18Next)(ge)}),"")};var z=e=>{const{longDescription:t,isMobile:i,dispositionType:o,currentPDPProduct:n}=e,{SHORT:l,READ_MORE:c,READ_LESS:r,LONG:u,MAX_LENGTH_READ:v,OUT_OF_STOCK_ITEM_TEXT:O}=j.a,[h,g]=Object(a.useState)(""),[I,N]=Object(a.useState)(l);Object(a.useEffect)((()=>{t&&g(t)}),[t]);const S=()=>{N(I===l?u:l)};return Object(p.jsxs)("div",{className:"pdp-desc",children:[Object(p.jsx)("div",{className:"d-flex mb-4 mobile-desc",children:Object(p.jsx)(m.a,{srcFile:i?b.a.StripsIconMobile:b.a.StripesIcon,className:"stripes-img"})}),Object(p.jsxs)("h2",{className:"pdp-desc-header mobile-desc","data-testid":"meal-menu-header",children:[" ",V(d.translateWithI18Next,o)," "]}),Object(s.Cd)(null===n||void 0===n?void 0:n.modgrps)&&!i&&Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(O)})]}),i?Object(p.jsxs)("div",{className:"desc-box mobile-desc-text",children:[I===l?Object(s.Hf)(h,v,!1):h,(null===h||void 0===h?void 0:h.length)>v?Object(p.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:S,children:I===l&&Object(d.translateWithI18Next)(c)||Object(d.translateWithI18Next)(r)}):Object(p.jsx)(p.Fragment,{})]}):Object(p.jsx)("div",{className:"desc-box",children:h})]})};function V(e,t){return e(Object(s.ad)(Object(s.Hd)(t),j.a.BUNDLE_OPTIONS,j.a.MEAL_OPTIONS))}var Y=i(16),q=i(1170),Q=i(61),K=i(1126),J=i(35);var X=e=>{let{showLegalInfo:t,isMobile:i}=e;const{LEGALINFOTEXT1:a,LEGALINFOTEXT2:o}=N.a;return t?Object(p.jsx)("div",{className:"".concat(i?"pdp-mobile-legal-info-container":"pdp-legal-info-container"),"data-testid":"pdp-legal-info",children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"legal-info-desc",children:[Object(d.translateWithI18Next)(a),Object(p.jsx)("br",{}),Object(d.translateWithI18Next)(o)]})})}):Object(p.jsx)(p.Fragment,{})},Z=i(62),$=i(159),ee=i(1137);const te=(e,t,i,a)=>{let o={combo:[],recommendation:[],addOnRecommendedItems:[],ruleName:{}};if(Object(s.pc)(e)){var n,l;let d=e.find((e=>{let{recommendationType:i}=e;return i===t})),c=e.find((e=>{let{recommendationType:t}=e;return t===i}));o.combo=Object(s.ad)(Object(s.Td)(d),null===d||void 0===d?void 0:d.recommendedItems,[]),o.recommendation=Object(s.ad)(Object(s.Td)(c),null===c||void 0===c?void 0:c.recommendedItems,[]);let r=e.find((e=>{let{recommendationType:t}=e;return t===a}));o.ruleName=Object(f.r)(r);const u=null!==(n=null===r||void 0===r?void 0:r.recommendedItems)&&void 0!==n?n:[],v=null!==(l=null===r||void 0===r?void 0:r.restrictedItems)&&void 0!==l?l:[];o.addOnRecommendedItems=Object(s.ad)(Object(s.Td)(r),[...u,...v],[])}return o},ie=(e,t,i,a)=>{var o,n;const{PDP_PRODUCT_MOBILE_IMG:l,PDP_PRODUCT_IMG:d}=j.a,c=Object(s.qc)(null===e||void 0===e?void 0:e.content,i.containerWidth,i.containerHeight);return null!==e&&void 0!==e&&null!==(o=e.content)&&void 0!==o&&null!==(n=o.image)&&void 0!==n&&n.mainImage?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(m.a,{srcFile:c,className:"".concat(Object(s.ad)(t,l,d))})}):Object(p.jsx)(p.Fragment,{})},ae=(e,t,i,a,o,n,l,d,c,r,s)=>{o({type:a,value:Object(f.l)(e,t,i,n,l,d,c,r,s)})},oe=()=>Object(s.Cf)(Object(d.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.PREFERENCES_ERROR_MSG)),ne=()=>Object(p.jsx)("div",{className:"pdp-custm-sopac",children:Object(p.jsx)("div",{className:"modal-body-row product-listing-component",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})}),Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})})]})})}),le=(e,t)=>{const{PDP_CUSTOMIZATION_PAGE:i,PDP_NON_CUSTOMIZATION_PAGE:a}=j.a,o=Object(s.hb)(Object(s.Hd)(e),!t)||t;return Object(s.ad)(o,i,a)},de=(e,t,i,a,o,n)=>Object(s.pc)(t)?Object(p.jsx)(q.a,{products:t,country:null===a||void 0===a?void 0:a.country,cssClass:"pdp-combo",header:i,subHeader:"",recommendedRule:e,source:o,categoryId:n.categoryId}):null,ce=(e,t,i,a,o,n,l,d)=>{const{event:c,data:r,miniPDPData:u,totalAmount:v,cartId:m,pdpDataForUpdateFoodLine:b,cartData:O,storesWithStatus:j}=e;if(m&&c){const{paymentDiscountLines:i=[]}=O;null!==i&&void 0!==i&&i.length?(e=>{let{setCouponModal:t,parms:i,setAddToClickParms:a}=e;t(!0),a(i)})({setCouponModal:l,parms:e,setAddToClickParms:n}):(t(c,r,u,m,v,b,O),n({}))}else!m&&c&&(n(e),Object(s.B)(i,null===a||void 0===a?void 0:a.tenantId,o,j))},re=function(e,t,i,a,o){var n;let l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?o.length>=0:0===o.length;if((null===e||void 0===e||null===(n=e.discountLines)||void 0===n?void 0:n.length)>0&&(d||l))return t&&(null===e||void 0===e?void 0:e.discountLines.some((e=>e.couponCode===i)))&&Object(s.Bd)(a)},se=(e,t)=>{const{pdpData:i,isMobile:a,imageContainerSize:o,isPdpDataLoading:n,pdpbackgroundImageData:l,displayBreadcrumbPDP:d,currentPDPProduct:c,pdpSummaryView:r}=e;return Object(p.jsxs)("div",{className:"".concat(a?"pdp-mobile-image-container-sopac":"d-flex"),children:[Object(p.jsx)("div",{className:"".concat(a?"mobile-background-image-container":"image-container"),style:Object(s.mb)(l,o.containerWidth,o.containerHeight),children:ie(i,a,o)}),a&&Object(p.jsx)("div",{className:"pdp-mobile-navigation",children:Object(f.b)(d,null===t||void 0===t?void 0:t.allowHiddenMenuViaExternalUrl,c.isHidden)}),c.modgrps&&r()]})};t.a=e=>{var t,i,o,c,r,v,O,h,g,T,C,x,E,y,D,A,_,R;let{menuPDPItemData:P}=e;const{productDetails:L,tenantData:w,isMobile:k,displayBreadcrumbPDP:F,isIpad:H,product_name:W,isStoreClosed:B,prodName:V="",prodItems:te=[],showLegalInfo:ie,dispositionType:ue,prodURL:ve,imageContainerSize:me,indulgentImageContainerSize:be,storeTimeZone:Oe,categoryName:je,categoryUrl:pe,catalogs:he,updatedFetchMenuPayload:ge}=P,{ADD_TO_CART_CLICK:Ie,DISPOSITION_DATA:Ne}=Y.a,{CUSTM_EXPAND_TYPE:Se,CROSSELL:fe,PDP:Te,IS_IN_STOCK:Ce,PDP_PAYLOAD_DATA:xe,RESET_MODGROUP_IDS_UPDATE:Ee,RESET_CUSTOMIZATION:ye,CUSTOMISE_FLAG_CART:De,SET_PDP_BUTTON_DISABLED:Ae,SHOW_PDP_ALERT_POPUP:_e}=j.a,{RECOMMENDED_HEADER_TITLE:Re,RECOMMENDED_HEADER_TITLE_CATERING:Pe,ADD_TO_CART:Le,INDULDENT_ADD_ON_MSG:we,INDULDENT_ADD_ONS_HEADING:Me,CONTINUE:ke}=N.a,[Fe,Ue]=Object(a.useState)({}),[He,We]=Object(a.useState)(),[Be,Ge]=Object(a.useState)([]),[ze,Ve]=Object(a.useState)([]),Ye=Object(l.c)((e=>e.tenantReducer)),{allowMultipleCoupon:qe}=Ye,[Qe,Ke]=Object(a.useState)({}),{userOrderState:Je,userOrderStateDispatch:Xe}=Object(a.useContext)(S.a),{headerData:{pdpBackgroundImage:Ze={},pdpEventBackgroundImage:$e={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),et=Object(U.b)(u.b),{dispositionNew:tt}=et,it=Object(s.Vd)(null===tt||void 0===tt?void 0:tt.type)?$e:Ze,at=Object(s.lb)(it),{pdpPayloadData:ot,isFromRecommendedSectionItemClick:nt,pdpPromoPage:lt,pdpDataForUpdateFoodLine:dt}=Je,ct=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),rt=Object(l.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),[st,ut]=Object(a.useState)({}),[vt,mt]=Object(a.useState)(0),[bt,Ot]=Object(a.useState)(Ce),[jt,pt]=Object(a.useState)({}),ht=Object(l.c)((e=>e.appStateReducer.userStatus)),{QUANTITY_ACTION:gt,EDIT_ITEM:It}=Q.a,Nt=Object(l.c)((e=>e.cartReducer)),{cartData:St={},isItemAdded:ft=!1}=Object(s.sd)(Nt),{storesWithStatus:Tt}=Object(l.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},Ct=Object(l.b)(),xt=Object(Z.g)(),Et=null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(o=i.pdp)||void 0===o?void 0:o.showCrossSellSection,yt=null===w||void 0===w||null===(c=w.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(v=r.pdp)||void 0===v?void 0:v.plpRedirectionPromoItem,Dt=null===w||void 0===w||null===(O=w.componentOptions)||void 0===O||null===(h=O.web)||void 0===h||null===(g=h.pdp)||void 0===g?void 0:g.plpRedirectionWithaddOnItem,At=null===St||void 0===St||null===(T=St.foodLines)||void 0===T?void 0:T.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id})),_t=(null===St||void 0===St||null===(C=St.foodLines)||void 0===C?void 0:C.length)>0&&(null===ze||void 0===ze?void 0:ze.filter((e=>!At.includes(e.id)))),Rt=(null===w||void 0===w||null===(x=w.componentOptions)||void 0===x||null===(E=x.web)||void 0===E||null===(y=E.pdp)||void 0===y?void 0:y.shouldFilterRecommendationListWithCartData)&&(null===St||void 0===St||null===(D=St.foodLines)||void 0===D?void 0:D.length)>0?_t:ze,Pt=Object(a.useMemo)((()=>{var e;return Object($.b)(null===xt||void 0===xt||null===(e=xt.location)||void 0===e?void 0:e.pathname)?Pe:Re}),[null===xt||void 0===xt||null===(A=xt.location)||void 0===A?void 0:A.pathname]),Lt=Object(s.od)(null===ht||void 0===ht?void 0:ht.localized,null===ht||void 0===ht?void 0:ht.loggedIn),{couponCode:wt="",discountTotal:Mt=""}=Object(s.zb)(St),[kt,Ft]=Object(a.useState)([]),[Ut,Ht]=Object(a.useState)(!1),Wt=Object(l.c)((e=>{var t;return null===(t=e.menuReducer)||void 0===t?void 0:t.isItemDetailsLoading})),[Bt,Gt]=Object(a.useState)({}),[zt,Vt]=Object(a.useState)(!1),[Yt,qt]=Object(a.useState)({}),[Qt,Kt]=Object(a.useState)(!1),Jt=JSON.parse(sessionStorage.getItem(I.Ne.INDULGENT_ADDONS_CART_CLICK)),Xt=Object(U.a)(),Zt=Object(U.b)(u.b),[$t,ei]=Object(a.useState)(""),[ti,ii]=Object(a.useState)([]),ai=Object(s.fb)(Ye),oi=null===(_=Object(s.Jf)(St,ai))||void 0===_?void 0:_[null===L||void 0===L?void 0:L.productId];Object(a.useEffect)((()=>(Xe({type:Se,value:"single"}),()=>{Ue({}),Xe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!1})})),[]),Object(a.useEffect)((()=>{re(St,yt,$t,xt,kt)}),[null===St||void 0===St?void 0:St.discountLines,kt]),Object(a.useEffect)((()=>{let e={productDetails:L,currentItemObject:ct,prodURL:ve,product_name:W,pdpDataForUpdateFoodLine:dt,cartData:St,prodName:V,prodItems:te,pdpPromoPage:lt,setPdpData:Ue,userOrderStateDispatch:Xe,setMakeItAComboData:Ge,setRecommendationData:Ve,setAddOnRecommendedData:Ft,setCurrentPDPProduct:Ke,setProdQuantity:mt,setRuleName:qt,getPWAstorageData:Zt};Object(f.F)(e)}),[null===ct||void 0===ct?void 0:ct.id,L,lt]);const ni=(e,t,i)=>{i.preventDefault(),i.stopPropagation(),t===gt.Decrease&&vt>1&&(mt(vt-1),Vt(!0)),t===gt.Increase&&(mt(vt+1),Object(f.e)(vt,lt,Fe,et))},li=(e,t,i,a,o,n,l)=>{e.stopPropagation(),e.preventDefault();ce({event:e,data:t,miniPDPData:i,cartId:a,totalAmount:o,pdpDataForUpdateFoodLine:n,cartData:l,storesWithStatus:Tt},di,Ct,w,Je,Gt,Kt)},di=async(e,t,i,a,o,n,l)=>{var d,c,r,v;e.preventDefault();const m=(null===Tt||void 0===Tt||null===(d=Tt[0])||void 0===d||null===(c=d.summary)||void 0===c||null===(r=c.menu)||void 0===r||null===(v=r.catalogs)||void 0===v?void 0:v[0])||he;if(Ct(Object(M.d)({tenantId:null===w||void 0===w?void 0:w.tenantId,catalogName:m},ge)),sessionStorage.removeItem(I.Ne.INDULGENT_ADDONS_CART_CLICK,!0),ht.localized){let e=Object(f.m)(t),{id:d,modGrps:c,quantity:r}=e;if(pt({id:d,itemCount:r,totalAmount:o}),(null===i||void 0===i?void 0:i.flag)!==De){const t=et[I.gd.VIEW_PRODUCT],i=null===t||void 0===t?void 0:t.couponCode;ei(i),i?(Ct(Object(J.a)({params:{basketId:null===l||void 0===l?void 0:l.id},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,isProductPromo:lt,categoryName:je,categoryUrl:pe}],(()=>{Ct(Object(J.b)({basketId:null===l||void 0===l?void 0:l.id,tenantId:null===w||void 0===w?void 0:w.tenantId},{couponCode:i}));let e={};e[i]=i,localStorage.setItem(I.gd.ADD_TO_ORDER,JSON.stringify(e)),Xe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),mt(Object(f.t)(lt,null===Fe||void 0===Fe?void 0:Fe.id,n,l,et)),!qe&&Object(s.uf)({key:_e,value:!0},Xt)}))),mt(Object(f.t)(lt,null===Fe||void 0===Fe?void 0:Fe.id,n,l,et))):(ii(Je),await Ct(Object(J.a)({params:{basketId:a},tenantId:null===w||void 0===w?void 0:w.tenantId},[{...e,categoryName:je,categoryUrl:pe}])),mt(1)),Ht(!0)}else Ct(Object(J.y)({params:{basketId:a,basketLineItemId:null===i||void 0===i?void 0:i.foodLineId},tenantId:null===w||void 0===w?void 0:w.tenantId},{Id:d,quantity:r,modGrps:c,isProductPromo:null===i||void 0===i?void 0:i.isProductPromo,categoryName:je,categoryUrl:pe},(()=>{Xt(Object(u.d)({key:I.gd.CUSTOMISE_ITEM_CART,value:!0})),null===xt||void 0===xt||xt.push({pathname:I.Ce.CART})})));window.scrollTo(0,0)}else Xe({type:Ne,value:{showDisposition:!0}}),Xe({type:Ie,value:{addToCart:!0,productItemId:null===L||void 0===L?void 0:L.productId,categoryId:null===L||void 0===L?void 0:L.categoryId,oldProduct:null===L||void 0===L?void 0:L.productInfo,customizable:null===L||void 0===L?void 0:L.customizable,catalogs:null===L||void 0===L?void 0:L.catalogName,fromPdpPage:!0}})};Object(a.useEffect)((()=>{!Jt&&(e=>{var t,i;const{flatResponseData:a,analyticObjectData:o,tenantData:n,couponCode:l,discountTotal:d,isFromRecommendedSectionItemClick:c,isItemAdded:r,userType:u,modifierData:v}=e,m=null===v||void 0===v||null===(t=v.dispositionStateData)||void 0===t?void 0:t.dispositionType,b=null===a||void 0===a||null===(i=a.itemMapById)||void 0===i?void 0:i[null===o||void 0===o?void 0:o.id],{name:O="",availability:j,id:p,categoryName:h,categoryId:g}=Object(s.sd)(b),N=Object(s.Ub)(j);if(r){let{baseItemsCstmz:e,saucesCstmz:t,sidesCstmz:i,drinksCstmz:a,customizedPrice:b}=Object(s.F)(v);e=Object(s.te)(e),t=Object(s.te)(t),i=Object(s.te)(i),a=Object(s.te)(a);const j=[{item_name:O,item_id:p,price:Object(s.Z)(null===N||void 0===N?void 0:N.price,b,null===n||void 0===n?void 0:n.currencyConversionFactor),coupon:l,currency:null===n||void 0===n?void 0:n.currencyShortName,discount:Object(s.g)(d,null===n||void 0===n?void 0:n.currencyConversionFactor),item_category:h,item_list_name:Object(s.ad)(c,I.p.PDP_UPSELL,h),item_list_id:g,index:0,quantity:null===o||void 0===o?void 0:o.itemCount,originalPrice:Object(s.Ec)(N,null===n||void 0===n?void 0:n.currencyConversionFactor).toString(),baseItemsCustomisation:e,saucesCustomisation:t,sidesCustomisation:i,drinksCustomisation:a}];Object(s.sb)(c,Object(s.Hd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)),Object(s.Jd)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.ge)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.Vd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)))&&Object(f.a)(r,o,u,j,l,m,null===n||void 0===n?void 0:n.currencyShortName)}})({flatResponseData:rt,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:nt,isItemAdded:ft,userType:Lt,modifierData:ti})}),[rt,jt,w,wt,Mt,nt,ft,Lt,Jt]),Object(a.useEffect)((()=>{ut({flatResponseData:rt,analyticObjectData:jt,tenantData:w,couponCode:wt,discountTotal:Mt,isFromRecommendedSectionItemClick:nt,isItemAdded:ft,userType:Lt})}),[zt]);const ci=e=>{let t=Object(p.jsx)(m.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.tickWhiteToast});Object(s.Df)(Object(d.translateWithI18Next)(we),t,"pdp-indulgent-toast pdp-modal-toast");let i=kt.filter((t=>!e.includes(null===t||void 0===t?void 0:t.id)));Ft(i),(null===kt||void 0===kt?void 0:kt.length)<=0&&Ht(!1)},ri=()=>{Ht(!1),re(St,yt,$t,xt,kt,Dt,!0)};Object(a.useEffect)((()=>{let e={pdpData:Fe,prodQuantity:vt,tenantData:w,PDP_PAYLOAD_DATA:xe,userOrderStateDispatch:Xe,pdpPromoPage:lt,storeTimeZone:Oe,pdpDataForUpdateFoodLine:dt,cartData:St,getPWAstorageData:Zt};Object(f.h)(e)}),[JSON.stringify(Fe),w.currencyConversionFactor,lt,vt,Oe]),Object(a.useEffect)((()=>{Object(f.i)(ot,vt,null===Fe||void 0===Fe?void 0:Fe.id,Xe),Xe({type:j.a.CART_MODIFIED_DATA,value:ot})}),[vt,ot]),Object(a.useEffect)((()=>{var e,t;ft&&(Xe({type:ye}),Xe({type:Ee}),ae(Fe,1,w.currencyConversionFactor,xe,Xe,lt,Oe,dt,St,Zt,null===w||void 0===w||null===(e=w.componentOptions)||void 0===e||null===(t=e.pdp)||void 0===t?void 0:t.enableDefaultModifierCalculation));Xe({type:Ae,value:{}})}),[ft,null===Fe||void 0===Fe?void 0:Fe.catalogName]),Object(a.useEffect)((()=>{ce({...Bt,cartId:null===St||void 0===St?void 0:St.id,cartData:St,pdpDataForUpdateFoodLine:dt,storesWithStatus:Tt},di,Ct,w,Je,Gt)}),[null===St||void 0===St?void 0:St.id]);const si={pdpData:Fe,isMobile:k,imageContainerSize:me,isPdpDataLoading:Wt,pdpbackgroundImageData:at,displayBreadcrumbPDP:F,currentPDPProduct:Qe,pdpSummaryView:()=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(G,{pdpData:Fe,storeTimeZone:Oe,isMobile:k,isIpad:H,addtoCartClinckHandler:li,customModGrps:He,categoryId:L.categoryId,comboData:null===Be||void 0===Be?void 0:Be.length,itemStatus:bt,prodQuantity:vt,setProdQuantity:mt,quantityUpdate:ni,setItemStatus:Ot,isItemDecreased:zt,quantityRemovedObject:st,isStoreClosed:B,imageContainerSize:me,pdpbackgroundImageData:at,"data-testid":"add-to-cart-handler"})})};return Object(s.Td)(Fe)&&Object(s.Td)(Qe)&&Object(s.Td)(w)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"grid-container",children:[!k&&Object(p.jsx)("div",{className:"pdp-navigation pdp-navigation-sopac",id:"pdp-navigation-sopac",children:Object(f.b)(F,null===w||void 0===w?void 0:w.allowHiddenMenuViaExternalUrl,Qe.isHidden)}),Object(p.jsx)("div",{className:"".concat(Object(s.ad)(k,"pdp-mobile-container ","pdp-details-container-sopac")),children:se(si,w)})]}),Object(p.jsx)("div",{style:{backgroundColor:"white"},children:Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{"data-testid":"pdp-desc-container",className:"pdp-desc-container-sopac ".concat(Object(s.ad)(k,"mobile","")),children:!!Object(s.Td)(Qe)&&Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsx)(z,{longDescription:null===Qe||void 0===Qe||null===(R=Qe.content)||void 0===R?void 0:R.longDescription,isMobile:k,dispositionType:ue,currentPDPProduct:Qe})})}),Object(s.hb)(Object.prototype.hasOwnProperty.call(ot,"id"),void 0!==B)&&Object(p.jsx)("div",{className:"".concat(j.a.PDP_CUSTOM_CONTAINER," ").concat(Object(s.hb)(k,I.Ye)),children:Object(p.jsx)("div",{className:"d-flex",children:Wt&&Object(p.jsx)(ne,{})||Object(p.jsx)(n.a,{testId:"menu-pdp-customization-container-test",data:Qe,isModal:!1,showPriceContent:!1,isMobile:k,customizable:Fe.customizable,localized:ht.localized,isStoreClosed:B,callBackToPDP:e=>{const{modifierGrp:t={}}=e;We(t)},catalog:Fe.catalogName,categoryId:L.categoryId,importPath:le(ue,Fe.customizable)})})}),Object(p.jsx)(X,{showLegalInfo:ie,isMobile:k}),Object(s.hb)(Et,(null===Rt||void 0===Rt?void 0:Rt.length)>0)&&(ui=Rt,vi=Pt,mi="",bi="pdp-recommendations",Object(p.jsx)(q.a,{products:ui,country:null===w||void 0===w?void 0:w.country,cssClass:bi,header:vi,subHeader:mi,recommendedRule:fe,source:Te,categoryId:L.categoryId})),(null===kt||void 0===kt?void 0:kt.length)>0&&Object(p.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:Object(p.jsx)(ee.a,{isMobile:k,openIndulgentModal:Ut,handleClose:ri,removeItemCart:!1,IndulgentData:kt,imageContainerSize:be,modalTitle:Me,continueButtonText:ke,toastMassage:we,callBackMethod:ci,productId:null===L||void 0===L?void 0:L.productId,ruleNameDetails:Yt,"data-testid":"indulgetAddon-modal",addToCart:Le,errorBackMethod:oe,isRestrictedDisabled:null===oi||void 0===oi?void 0:oi.isAddonsNotAddable})})]})}),de(fe,Be,Object(d.translateWithI18Next)(Pt),w,Te,L),Qt&&Object(p.jsx)(K.a,{addtoCartClinckHandler:di,setCouponModal:Kt,setAddToClickParms:Gt,addToClickParms:Bt,flag:It})]}):Object(p.jsx)("div",{className:"d-flex justify-content-center no-results-section"});var ui,vi,mi,bi}},1166:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i(3),o=i(62),n=i(28),l=i(2);var d=e=>{const{className:t,clickNextCard:i=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{i()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler-sopac"})};var c=e=>{const{className:t,clickPrevCard:i=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{i()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler-sopac"})},r=i(1163),s=i(35),u=i(85),v=i(16),m=i(5),b=i(24),O=i(0),j=i(262),p=i(1096),h=i(1125);var g=e=>{var t,i,a;const{cardRenderer:o,productList:n,carousal:d,header:c="",subHeader:r="",settings:s,maxLengthToScroll:u,slidesToShow:v,rangeValue:b,onUpdateRange:O,showProductListingModal:j,isMobile:g,recommendedRule:I,flagUpsellCrossell:N,tenantData:S}=e,f=null===S||void 0===S||null===(t=S.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(a=i.pdp)||void 0===a?void 0:a.shouldShowRecommendationCardCount;return Object(l.jsxs)(l.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(l.jsxs)("div",{className:Object(m.c)(),"data-testid":"recommendedCard-container-test",children:[Object(l.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(l.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(l.jsx)("span",{className:"main-header",children:c}),r&&Object(l.jsx)("span",{className:"sub-header",children:r})]}),f&&Object(l.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(l.jsxs)("div",{className:"recommendedCard-list",children:[Object(l.jsx)("div",{className:"recommendedCarousal-list",children:Object(l.jsx)(p.b,{settings:s,carousalRef:d,children:o()})}),n.length>u&&Object(l.jsx)("div",{className:"recommended-slideContainer",children:Object(l.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-v,value:b,id:"myRange","data-testid":"myRange",onChange:O})})]})]}),Object(m.hb)(j,I===N)&&Object(l.jsx)("div",{className:"pdp-custm-container ".concat(g?"mobile":""),children:Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)(h.a,{})})})]})},I=i(1137),N=i(1098),S=i(1118),f=i(1177),T=i(80),C=i(132);const{PLP_PDP_DETAILS:x}=v.a,{PDP:E}=j.a,y=(e,t,i)=>{let a="recommended-card recommended-card-sopac";return e===t+i&&(a+=" recommendedCard-fade"),a};t.b=e=>{var t,i,v,p,h;const{PDP_RECOMMENDATIONS:D,CAROUSAL_CONFIG:A,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:_,FADE_CARD_INDEX:R}=f.a,{SPEED:P,SLIDES_TO_SHOW:L,SLIDES_TO_SCROLL:w}=A,{PDP_SLIDES_TO_SHOW:M,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:k,PDP_SLIDES_TO_SHOW_1024:F}=D,{products:U,storeClosedData:H,header:W="",subHeader:B="",cssClass:G="",recommendedRule:z,source:V=""}=e,[Y,q]=Object(a.useState)(0),[Q,K]=Object(a.useState)(0),J=Object(a.useRef)(null),[X,Z]=Object(a.useState)(Object(m.de)(window.innerWidth)),[$,ee]=Object(a.useState)(Object(m.be)()),{userOrderState:te,userOrderStateDispatch:ie}=Object(a.useContext)(u.a),ae=Object(n.b)(),oe=Object(C.a)(),{maxLengthToScroll:ne,slidesToShow:le}=((e,t,i,a,o,n,l)=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?n:i,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?t&&l||a:o}))(G,$,_,M,L,k,F),{dispositionStateData:de=O.eg}=te,{dispositionType:ce=localStorage.getItem("dispositionType")}=de,[re]=Object(a.useState)(),se=Object(o.g)(),{tenantReducer:ue,cartReducer:ve,userParams:me}=Object(n.c)((e=>({tenantReducer:Object(m.sd)(e.tenantReducer),cartReducer:Object(m.sd)(e.cartReducer),userParams:Object(m.sd)(e.appStateReducer.userStatus)}))),{cartData:be={}}=Object(m.sd)(ve),{showProductListingModal:Oe=!1}=Object(m.sd)(ve),je=Object(o.h)(),{PlpProductCard:pe=O.eg}=(null===ue||void 0===ue?void 0:ue.componentOptions)||O.eg,he=Object(m.Sd)(te.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):te.dispositionNew,ge=he?he.store:O.eg,Ie=(null===ge||void 0===ge||null===(t=ge.summary)||void 0===t||null===(i=t.menu)||void 0===i||null===(v=i.catalogs)||void 0===v?void 0:v.length)&&(null===ge||void 0===ge||null===(p=ge.summary)||void 0===p||null===(h=p.menu)||void 0===h?void 0:h.catalogs[0])||(null===ue||void 0===ue?void 0:ue.genericMenuName)||"",Ne=null===U||void 0===U?void 0:U.filter((e=>!e.isHidden)),Se=V===E?Ne:null===Ne||void 0===Ne?void 0:Ne.filter((e=>{let t=b.b.channel,i=(e=>{let t=O.fe;return e===O.Bb&&(t=O.yb),e===O.Fb&&(t=O.Eb),t})(ce);return e.channel===t&&e.service===i})),{headerData:{pdpBackgroundImage:fe={}}={}}=Object(n.c)((e=>{var t;return Object(m.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),Te=Object(m.lb)(fe),{showCartAlert:Ce}=Object(S.a)(void 0,void 0,void 0,void 0,ie,ae,void 0),xe=()=>{Ce(!0)},Ee={dots:!1,infinite:!1,speed:P,slidesToShow:le,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:f.b},ye=()=>{const e=Object(m.de)(window.innerWidth),t=Object(m.be)();Z(e),ee(t)};Object(a.useEffect)((()=>{window.addEventListener("resize",ye)}),[X]);const De={...Ee,nextArrow:Object(l.jsx)(d,{clickNextCard:()=>{if(Q<Se.length-1){let e=0;e=Q+w>Se.length-le-1?Se.length-le:Q+w,Object(I.b)(e),K(e),J.current.slickGoTo(e)}}}),prevArrow:Object(l.jsx)(c,{clickPrevCard:()=>{Q>0&&(K(Q-w),J.current.slickGoTo(Q-w)),Object(I.b)(Q-w)}}),beforeChange:(e,t)=>q(t),afterChange:(e,t)=>K(e)},Ae=Object(n.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(a.useEffect)((()=>{let e=Object(m.dd)(Ae,te);Object(m.hb)(e,re===z)&&ae(Object(s.v)({showProductListingModal:!0,categorySelected:""}))}),[Ae,te.minipdpData.itemId,te.cartEditClicked]),Object(a.useEffect)((()=>{Oe&&ae(Object(s.v)({showProductListingModal:!1,categorySelected:""}))}),[je]);const _e=(e,t,i,a,o)=>{var n,l,d;e.preventDefault(),e.stopPropagation(),null===(n=window)||void 0===n||n.scrollTo(0,0);let c={productId:t,customizable:i,categoryId:a,catalogName:Ie,productInfo:o,isFromPlp:!0};const r=Se.map((e=>e.id)).indexOf(t),{categoryURL:s,productPrice:u,productName:v}=o;ie({type:x,value:c}),ie({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}});const{localized:b=!1,loggedIn:p=!1}=Object(m.sd)(me),h=Object(m.od)(b,p),g=Object(m.Hb)(be),{couponCode:I="",amount:S=""}=Object(m.sd)(g),f=[{item_name:null===(l=v[0])||void 0===l?void 0:l.value,item_id:t,price:u,coupon:I,discount:S,currency:O.p.AUD,item_category:s&&s[0],item_list_name:O.p.PDP_UPSELL,item_list_id:O.p.SR_VALUE,index:r,quantity:1}];Object(N.b)(h,f),localStorage.setItem(O.gd.PRODUCT_DETAILS,JSON.stringify(c)),ie({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),ie({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),oe(Object(T.c)({key:O.gd.VIEW_PRODUCT})),se.push({pathname:Object(m.xc)(o.categoryURL,o.prodURL,null===se||void 0===se||null===(d=se.location)||void 0===d?void 0:d.pathname)})},Re=((e,t)=>{var i,a;const o=null===e||void 0===e||null===(i=e.foodLines)||void 0===i?void 0:i.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id}));return(null===e||void 0===e||null===(a=e.foodLines)||void 0===a?void 0:a.length)>0?null===t||void 0===t?void 0:t.filter((e=>!o.includes(e.id))):t})(be,Se),Pe=e=>"False"!==e&&e;return Boolean(null===Se||void 0===Se?void 0:Se.length)&&Object(l.jsx)(g,{cardRenderer:()=>null===Re||void 0===Re?void 0:Re.map(((e,t)=>{var i;const a=Object(m.rd)(e.additionalProperties),o=a.length&&a.reduce(((e,t)=>{let{key:i,value:a}=t;return{...e,[i]:"True"===a||Pe(a)}}),O.eg);return Object(l.jsx)("div",{className:y(t,Q,R),children:Object(l.jsx)(r.a,{item:e,cardId:e.id,cardType:"medium",RecommendationCardItem:!0,cardFor:"recommended",configureOptions:pe,tenantData:ue,servingCount:null===o||void 0===o?void 0:o.servings,button:e.button,categoryId:e.categoryUrl,customizable:e.customizable,onCardClickHandler:_e,userParams:me,dName:e.dname,prodURL:e.url,storeClosedData:H,"data-testid":"menu-card-component",openAlertModal:xe,serves:null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.serves,recommImageSizeFlag:!0,plpbackgroundImageData:Te,...o,...e,productContent:null===e||void 0===e?void 0:e.content},e.id)})})),productList:[...Re],carousal:J,header:W,subHeader:B,settings:De,maxLengthToScroll:ne,slidesToShow:le,rangeValue:Y,onUpdateRange:e=>{q(e.target.value),J.current.slickGoTo(e.target.value),Object(I.b)(e.target.value)},showProductListingModal:Oe,isMobile:X,tenantData:ue,flagUpsellCrossell:re,...e})}},1167:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(28),l=i(75),d=i.n(l),c=i(1218),r=i.n(c),s=i(266),u=i(5),v=i(6),m=i(4),b=i(170),O=i(144),j=i(46),p=i(71),h=i(1161),g=i(15),I=i(418),N=i(216),S=i(0),f=i(20),T=i.n(f),C=i(2);var x=e=>{const{nutritionalDetails:t,onClickServehandler:i,onClickGramHandler:a,showPerGram:l,showPerServe:d}=e,c=localStorage.getItem(null===S.gd||void 0===S.gd?void 0:S.gd.USER_LANGUAGE),r=Object(n.c)((e=>e.tenantReducer)),s=null===r||void 0===r?void 0:r.showPer100gTab;return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsxs)("div",{className:"nutrition-header-global",children:[Object(C.jsx)("div",{className:"nutrition-name-global",children:Object(v.translateWithI18Next)(m.a.NUTRITION)}),Object(C.jsxs)("div",{className:"nutrition-value",children:[Object(C.jsx)("div",{className:"nutrition-value-serve",children:Object(C.jsx)("button",{"data-testid":"per_serve_handler",type:"button",className:"per-serve"+(d&&!l?" activeServe":""),onClick:i,children:Object(v.translateWithI18Next)(m.a.PER_SERVE)})}),s&&Object(C.jsx)("div",{className:"nutrition-value-gram",children:Object(C.jsx)("button",{"data-testid":"per_gram_handler",type:"button",className:"per-gram"+(l&&!d?" activeGram":""),onClick:a,children:Object(v.translateWithI18Next)(m.a.PER_GRAM)})}),Object(C.jsx)("div",{})]})]}),Object(C.jsx)("div",{className:"nutrition-details-global",children:null===t||void 0===t?void 0:t.map((e=>Object(C.jsx)(C.Fragment,{children:((null===e||void 0===e?void 0:e.nutritionComponent)!==N.a&&l||d)&&(null===e||void 0===e?void 0:e.isActive)&&Object(C.jsxs)("div",{className:"nutrition-name-amoumt-details",children:[l&&Object(C.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.gramWiseValue)}),d&&Object(C.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.serveWiseValue)}),Object(C.jsxs)("div",{className:"nutrition-name-unit-global",children:[Object(C.jsx)("div",{className:"nutrition-name-global",children:"en"===(null===c||void 0===c?void 0:c.slice(0,2))||T()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.nutritionComponent:null===e||void 0===e?void 0:e.translationValue}),Object(C.jsxs)("div",{className:"nutrition-unit-global",children:["(",(null===e||void 0===e?void 0:e.nutritionUnit)===b.a.KJ_TEXT?Object(v.translateWithI18Next)(m.a.KJ):null===e||void 0===e?void 0:e.nutritionUnit,")"]})]})]})})))})]})},E=i(263),y=i(62);const D=e=>{const{allergenDetails:t,customizable:i,handleCloseModal:a,source:n}=e,l=localStorage.getItem(null===S.gd||void 0===S.gd?void 0:S.gd.USER_LANGUAGE);let d=Object(y.g)();const c=Object(C.jsx)("div",{className:"non-ala-carte-notification",children:Object(C.jsxs)("div",{className:"notification-alert",children:[Object(C.jsx)(j.a,{srcFile:g.a.Error_Yellow,className:"non-ala-carte-alert-icon"}),Object(C.jsxs)("div",{className:"non-ala-carte-alert-text","data-testid":"navigation-click-testId",onClick:()=>(n===b.a.SOURCE&&a(),void Object(u.af)(d)),children:[Object(C.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_TEXT)}),Object(C.jsx)("span",{className:"non-ala-carte-alert-link-text",children:Object(C.jsx)(E.a,{className:"non-ala-carte-alert-link","data-testid":"non-ala-carte-alert-link-info",children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_LINK)})})]})]})}),r=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"allergen-information",children:[Object(C.jsxs)("div",{className:"allergen-notify-present",children:[Object(C.jsx)(j.a,{srcFile:g.a.Error_Red,className:"alert-icon"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_TEXT)}),"\xa0",Object(C.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_DETAILS)})]})]}),Object(C.jsxs)("div",{className:"allergen-notify-trace",children:[Object(C.jsx)(j.a,{srcFile:g.a.Error_Black,className:"alert-icon-trace"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_TEXT)}),"\xa0",Object(C.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_DETAILS)})]})]})]}),Object(C.jsx)("div",{className:"allergen-details-global",children:Object(C.jsx)("table",{children:null===t||void 0===t?void 0:t.map((e=>Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"allergen-component",children:"en"===(null===l||void 0===l?void 0:l.slice(0,2))||T()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.allergenComponent:null===e||void 0===e?void 0:e.translationValue}),(null===e||void 0===e?void 0:e.isPresent)&&Object(C.jsx)("td",{className:"allergen-icon",children:Object(C.jsx)(j.a,{srcFile:g.a.Error_Red})}),(null===e||void 0===e?void 0:e.isTrace)&&Object(C.jsx)("td",{className:"allergen-icon-trace",children:Object(C.jsx)(j.a,{srcFile:g.a.Error_Black})}),!(null!==e&&void 0!==e&&e.isTrace)&&!(null!==e&&void 0!==e&&e.isPresent)&&Object(C.jsx)("td",{className:"allergen-icon-text",children:Object(v.translateWithI18Next)(m.a.NOT_APPLICABLE)})]})})))})})]});return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)("div",{className:"allergen-header-global",children:Object(C.jsx)("div",{className:"allergen-name-global",children:Object(v.translateWithI18Next)(m.a.ALLERGEN)})}),i?c:r]})};var A=o.a.memo(D),_=i(42),R=i.n(_);t.a=e=>{var t;const{isMobile:i,summaryData:o,source:l}=e,{nutritionalDetails:c,allergenDetails:I,customizable:N,pdpCardObject:S,calories:f,nutritionDetails:T,servesCount:E,kilojoule:y,imageName:{hideAllergenInformation:D,hideNutritionInformation:_}}=o,{dName:P}=S,{showNutritionAllergenModal:L,handleCloseModal:w}=T,{imageName:M,imageContainerSize:k,pdpbackgroundImageData:F}=o,U=Object(n.b)();Object(a.useEffect)((()=>{U(Object(h.a)({object:Object(p.a)(),contentFull:{content_type:"supportContent",include:"5","fields.title":"NutritionAllergenDisclaimer"}}))}),[U]);let H=null;const W=Object(n.c)((e=>({nutritionAllergenDisclaimerContent:R()(e,b.a.NUTRITION_ALLERGEN_ACTION_RESPONSE,null)})));var B,G,z,V,Y,q;Object(u.Td)(null===W||void 0===W?void 0:W.nutritionAllergenDisclaimerContent)&&(H=null===W||void 0===W||null===(B=W.nutritionAllergenDisclaimerContent)||void 0===B||null===(G=B.nutritionAllergenDisclaimerResp)||void 0===G||null===(z=G.items[0])||void 0===z||null===(V=z.fields.content[0])||void 0===V||null===(Y=V.fields)||void 0===Y||null===(q=Y.richText)||void 0===q?void 0:q.content);const[Q,K]=Object(a.useState)(!0),[J,X]=Object(a.useState)(!1),[Z,$]=Object(a.useState)(!1),{tenantReducer:ee}=Object(n.c)((e=>({tenantReducer:e.tenantReducer||{}}))),te={id:"NutritionAllergenModal",role:"dialog",modalTitleId:"NutritionAllergen-Modal-id",show:L,classNames:"Base-modal  NutritionAllergen-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:w,modalTitle:Object(v.translateWithI18Next)(m.a.NUTRITION_ALLERGEN_INFORMATION),modalTitleRequired:!0,closeDataTestId:"close-modal",autoFocus:!0};return d.a.createPortal(Object(C.jsx)(O.a,{...te,children:Object(C.jsxs)("div",{className:"nutrition-allergen-container-global",children:[Object(C.jsx)("div",{className:"nutrion-allergen-image-container",style:Object(u.mb)(F,k.containerWidth,k.containerHeight),children:Object(C.jsx)(j.a,{"data-testid":"",className:"nutrition-allergen-card-image-global",defaultPath:Object(u.bc)(null,ee,!0),srcFile:Object(u.qc)(M,k.containerWidth,k.containerHeight)})}),Object(C.jsxs)("div",{className:"nutrition-allergen-details-section",children:[Object(C.jsxs)("div",{className:"product-details-header",children:[Object(C.jsx)("div",{className:"d-flex strips-icon",children:Object(C.jsx)(j.a,{srcFile:i?g.a.StripsIconMobile:g.a.StripesIcon,className:"stripes-img"})}),Object(C.jsx)("div",{className:"product-name",children:P}),Object(C.jsx)("div",{className:"kj-info-details",children:f&&Object(C.jsxs)("span",{className:"kj-info",children:["".concat(f," ").concat(y)," \xa0 ",(e=>!!e&&"".concat(Object(v.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.SERVES)," ").concat(e))(E)]})})]}),Object(C.jsxs)("div",{className:"nutrition-allergen-list-global",children:[!_&&Object(C.jsx)(x,{nutritionalDetails:c,onClickServehandler:function(e){e.preventDefault(),K(!0),X(!1)},onClickGramHandler:function(e){e.preventDefault(),X(!0),K(!1)},showPerGram:J,showPerServe:Q}),!D&&Object(C.jsx)(A,{allergenDetails:I,customizable:N,handleCloseModal:w,source:l}),Object(C.jsx)("div",{className:"disclaimer-section ".concat(Z?"disclaimer-section-open":""),children:Object(C.jsxs)("div",{className:"global-accordian-container","data-testid":"global-accordian",children:[Object(C.jsx)("div",{className:"global-accordian-header-container ".concat(Z?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!Z)},"data-testid":"disclaimer-handle",children:Object(C.jsx)("span",{className:"global-accordian-header",children:Object(v.translateWithI18Next)(m.a.DISCLAIMER)})}),Z&&Object(C.jsx)("div",{className:"global-accordian-content",children:Object(C.jsx)("div",{className:"disclaimer-content",children:null===(t=H)||void 0===t?void 0:t.map((e=>Object(C.jsx)("ul",{dangerouslySetInnerHTML:{__html:r.a.sanitize(Object(s.documentToHtmlString)(e))},className:"protected-accordian-answer"})))})})]})})]})]})]})}),document.getElementById("modal-popups"))}},1168:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i(3),o=i(1096),n=i(1115),l=i(1116),d=i(6),c=i(0),r=i(85),s=i(61),u=i(1118),v=i(28),m=i(132),b=i(80),O=i(46),j=i(1141),p=i(396),h=i(41),g=i(425),I=i(5),N=i(2);var S=e=>{var t,i,o,n,l,S;const{ruleName:f,recommendationType:T,IndulgentData:C,catalogs:x,flatResponse:E,index:y,indulgentAddToCartHandler:D,showServesValue:A,showCaloricValue:_,item:R,INDULGENT_ADD_ON:P,productId:L}=e,w=Object(v.c)((e=>e.cartReducer)),M=Object(v.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),k=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=Object(v.c)((e=>e.tenantReducer)),U=null===F||void 0===F||null===(t=F.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(o=i.plp)||void 0===o?void 0:o.removeSingleItemInCartFromPLP,{flatResponse:{productMapByItemId:H={}}={}}=null!==(n=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==n?n:{},{currencyConversionFactor:W,componentOptions:{web:{global:{showPriceWithTax:B=!1}={}}={}}={}}=F,{ADD_TO_CART:G}=P,z=Object(v.c)((e=>e.tenantReducer)),{cartData:V={}}=Object(I.sd)(w),{userOrderStateDispatch:Y,userOrderState:q}=Object(a.useContext)(r.a),{timeBasedCetegory:Q}=q,[K,J]=Object(a.useState)(0),[X,Z]=Object(a.useState)(null),[$,ee]=Object(a.useState)(0),te=Object(I.fb)(z),ie=(null===R||void 0===R?void 0:R.isRestrictedAddon)||(null===R||void 0===R?void 0:R.isHidden);Object(a.useEffect)((()=>{const e=Object(I.Td)(V)?Object(I.mc)(null===R||void 0===R?void 0:R.id,V):{},t=Object(I.ad)(Object(I.Td)(e),e.count,0),i=Object(I.ad)(Object(I.Td)(e),e.matchedItemFoodLineId,""),a=Object(I.ad)(Object(I.Td)(e),e.itemUnitPrice,"");J(t),Z(i),ee(a)}),[V,null===R||void 0===R?void 0:R.id]);const{discountTotal:ae,couponCode:oe}=Object(I.zb)(V),{QUANTITY_ACTION:ne}=s.a,le=Object(v.b)(),de=Object(m.b)(b.b),ce=Object(I.od)(null===k||void 0===k?void 0:k.localized,null===k||void 0===k?void 0:k.loggedIn);return Object(N.jsxs)("div",{className:"indulgent-card",children:[Object(N.jsx)(O.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(I.bc)(null,F,!0),srcFile:Object(I.bc)(null===R||void 0===R?void 0:R.imageName,F)}),Object(N.jsxs)("div",{className:"indulgent-card-content",children:[Object(N.jsx)("div",{className:"indulgent-card-header",children:R.dname[0].value}),Object(N.jsxs)("div",{className:"indulgent-card-price",children:[F.currencySymbol,Object(I.Ic)(null===R||void 0===R||null===(l=R.availability)||void 0===l?void 0:l[0],null===R||void 0===R?void 0:R.additionalProperties,null===F||void 0===F?void 0:F.currencyConversionFactor,B),_&&Object(I.we)(null===R||void 0===R?void 0:R.content,F,A)]}),K>0?Object(N.jsx)("div",{className:"quantityAddtocart",children:Object(j.e)(K,((e,t)=>{var i;null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault();const a=Object(p.g)(null===R||void 0===R?void 0:R.itemId,null===M||void 0===M?void 0:M.flatResponse),o=Object(p.d)(null===R||void 0===R?void 0:R.itemId,Q);if(!Object(p.c)({categoryUrl:a,itemInCart:o,alertType:Object(p.j)(null===Q||void 0===Q?void 0:Q.timebasedItemInCart,null===c.Sb||void 0===c.Sb?void 0:c.Sb.ITEM),categoryId:null===R||void 0===R?void 0:R.itemId,itemId:null===R||void 0===R?void 0:R.itemId},{...Q,menuData:M,foodLinesItems:(null===w||void 0===w||null===(i=w.cartData)||void 0===i?void 0:i.foodLines)||[]},Y)&&k.localized){const e=Number(($/W).toFixed(2));let i={foodName:null===R||void 0===R?void 0:R.name,foodItemId:null===R||void 0===R?void 0:R.mdmId,cartPrice:e,modifiers:[],quantity:K,foodLineId:X};const{itemQuantityHandler:a,itemRemoveHandler:o}=Object(u.a)({cartId:null===V||void 0===V?void 0:V.id},null===F||void 0===F?void 0:F.tenantId,void 0,H,void 0,le,void 0,ce,null===F||void 0===F?void 0:F.currencyShortName,void 0,de,oe,ae,W);t===ne.Increase?a(i,ne.Increase):U&&1===(null===i||void 0===i?void 0:i.quantity)?o(i):a(i,ne.Decrease)}}),null===R||void 0===R||null===(S=R.dname)||void 0===S?void 0:S[0].value,F)}):Object(N.jsxs)(h.a,{className:"button redButton indulgent-card-button","aria-label":Object(d.translateWithI18Next)(G)+" "+R.dname[0].value,"data-testid":"add-to-cart",onClickHandler:e=>{e.preventDefault(),e.stopPropagation(),D({index:y,id:null===R||void 0===R?void 0:R.id,customizable:!1,dispatch:le,cartReducer:w,tenantReducer:F,catalogs:x,flatResponse:E,category_id:null===R||void 0===R?void 0:R.categoryId,userType:ce,productId:L,ruleName:f,recommendationType:T,IndulgentData:C,couponCode:oe,discountTotal:ae,...te?{isRestrictedAddon:ie}:{}})},children:[Object(d.translateWithI18Next)(G),Object(N.jsx)(O.a,{className:"add-to-cart-Icon",srcFile:g.a})]})]})]})};const f=e=>{const{INDULGENT_ADD_ON:t,IndulgentData:i,isMobile:a,tenantReducer:c,rangeValue:r,updateRangeValue:s,currentSlide:u,updateCurrentSlide:v,caroselCount:m,setCaroselCount:b,carousal:O,setPrevArrowCSS:j}=e,{ADD_TO_CART:p,HEADER:h,SLIDES_TO_SCROLL:g,SLIDES_TO_SHOW:I,RESPONSIVE_SETTINGS:f}=t,T={dots:!1,infinite:!1,speed:500,slidesToShow:I,slidesToScroll:g,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(N.jsx)(n.a,{clickNextCard:()=>{if(u<i.length-1){let e=0;e=u+g>i.length-I-1?i.length-I:u+g,j(e),v(e),O.current.slickGoTo(e)}}}),prevArrow:Object(N.jsx)(l.a,{clickPrevCard:()=>{u>0&&(v(u-g),O.current.slickGoTo(u-g)),j(u-g)}}),beforeChange:(e,t)=>s(t),afterChange:(e,t)=>v(e),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:(e,t)=>{b(Math.round(t+1))}}}]},{currencyConversionFactor:C,componentOptions:{web:{global:{showPriceWithTax:x=!1}={}}={}}={}}=c;return Object(N.jsxs)("div",{className:"indulgent-container",children:[Object(N.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(N.jsx)("span",{className:"indulgent-header",children:Object(d.translateWithI18Next)(h)}),a&&Object(N.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[m,"/",i&&i.length]})]}),Object(N.jsx)("div",{className:"indulgent-card-list",children:Object(N.jsx)(o.b,{settings:T,carousalRef:O,children:i.map(((t,i)=>Object(N.jsx)(S,{index:i,item:t,...e},i)))})}),!a&&i.length>3&&Object(N.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(N.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:i.length-(e=>{const t=window.innerWidth;return t>1350&&t<1650?4:t>1650&&t<=1920?5:e})(I),value:r,id:"myRange",onChange:e=>{s(e.target.value),O.current.slickGoTo(e.target.value)}})})]})}},1170:function(e,t,i){"use strict";var a=i(3),o=i(1166),n=i(120),l=i(85),d=i(1103),c=i(5),r=i(262),s=i(2);t.a=e=>{var t,i;const{products:u,country:v,cssClass:m="",categoryId:b,recommendedRule:O,componentOptions:j}=e,{userOrderState:p}=Object(a.useContext)(l.a),{UPSELL:h}=r.a,{INDIA:g}=d.a,[I,N]=Object(a.useState)(!1),S=Object(a.useMemo)((()=>Object(c.Sd)(p.currentStoreInfo)?Object(c.b)(localStorage.getItem("currentStoreInfo")):p.currentStoreInfo),[p.currentStoreInfo]),{futureDates:f,scheduled:T,asap:C}=Object(c.sd)(null===S||void 0===S||null===(t=S.summary)||void 0===t?void 0:t.timings),{unavailibilities:x}=Object(c.sd)(T),{interval:E=0,startEndTime:y={}}=Object(c.sd)((null===T||void 0===T||null===(i=T.periods)||void 0===i?void 0:i.length)&&(null===T||void 0===T?void 0:T.periods[0])),{from:D,to:A}=y,_=Object(a.useCallback)((()=>{if(Object(c.Td)(S)){var e,t;let i=null===(e=S.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,a=Object(n.j)(D,A,E,null===C||void 0===C?void 0:C.isAvailable,1===(null===f||void 0===f?void 0:f.length)&&(null===v||void 0===v?void 0:v.toUpperCase())===g,x);"CLOSED"!==i||a.length?N(!1):N(!0)}else N(!1)}),[S]);return Object(a.useEffect)((()=>{_()}),[_]),((e,t,i)=>{var a,o;return e!==t||(null===i||void 0===i||null===(a=i.web)||void 0===a||null===(o=a.pdp)||void 0===o?void 0:o.makeItComboButton)})(O,h,j)?Object(s.jsx)("div",{className:"recommended-container ".concat(m),"data-testid":"recommended-container",children:Object(s.jsx)(o.b,{"data-testid":"recommended-items",categoryId:b,products:u,storeClosedData:{isStoreClosed:I},...e})}):Object(s.jsx)(s.Fragment,{})}},1175:function(e,t,i){"use strict";i(3);var a=i(1142),o=i(5),n=i(2);t.a=e=>Object(o.T)(e.subCategory).map(((t,i)=>{let{categories:o="",products:l=[],id:d="",dname:c}=t;return Object(n.jsxs)("div",{id:d,children:[Object(n.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(n.jsx)("div",{children:c[0].value}),o]}),Object(n.jsx)(a.a,{productList:l,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},i)}))},1177:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));let a,o;(async()=>{let t=await(async()=>{var t,a,o,n,l;const d=null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(i.bind(null,215));return null===c||void 0===c||null===(o=c.default)||void 0===o||null===(n=o[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.RECOMMENDED_CONSTANTS})();a=null===t||void 0===t?void 0:t.RECOMMENDED_CONSTANTS,o=null===t||void 0===t?void 0:t.RESPONSIVE_CONFIG})()}).call(this,i(121))},1179:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(28),l=i(1130),d=i(963),c=i(55),r=i(16),s=i(85),u=i(1159),v=i(2);var m=e=>{const{DISPOSITION_DATA:t=""}=r.a,{userOrderState:i,userOrderStateDispatch:n}=Object(a.useContext)(s.a)||{};return Object(a.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(o.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===i||void 0===i?void 0:i.dispositionStateData.showDisposition)&&Object(v.jsx)(l.a,{}),(null===i||void 0===i?void 0:i.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:c.y}),(null===i||void 0===i?void 0:i.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:c.y})]})})},b=i(5),O=i(1160);t.a=()=>{var e,t,i,a;const{DISPOSITION:o}=O.a;let l=null,d=null,c=Object(n.c)((e=>e.appStateReducer.userStatus));const r=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};l=Object(b.fc)(r.homePageContent)||null,d=Object(b.Yc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[o])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(i=null===(a=l)||void 0===a?void 0:a[o])&&void 0!==i?i:{}},userParams:c,tenantReducerData:r.tenantReducerContent})}},1190:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(28),l=i(6),d=i(4),c=i(16),r=i(0),s=i(5),u=i(85),v=i(46),m=i(144),b=i(262),O=i(1095),j=i(132),p=i(80),h=i(1125),g=i(35),I=i(145),N=i(395),S=i(235),f=i(15),T=i(2);const{CHOOSE_ANY_PRODUCT:C}=d.a;t.a=e=>{var t,i,x,E,y;const{PLP_PDP_DETAILS:D,SET_MULTI_PRODUCT_VIEW_MODAL:A}=c.a,{userOrderStateDispatch:_,userOrderState:R}=Object(a.useContext)(u.a),P=Object(n.c)((e=>e.storesReducer)),L=Object(n.c)((e=>e.cartReducer)),w=Object(n.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{isDealModalOpen:M,handleClose:k,viewProductCardData:F,imageContainerSize:U,tenantId:H,addToOrderClickHandler:W}=Object(s.sd)(e),{item:B,titleValue:G,promoParams:z,priceDetails:V}=Object(s.sd)(F),{itemDetails:Y}=Object(s.sd)(B),q=Object(n.c)((e=>e.tenantReducer)),{data:{categories:Q=[]}={}}=Object(n.c)((e=>{let{menuReducer:t}=e;return t||{}})),K=Object(j.a)(),J=(null===P||void 0===P||null===(t=P.storesWithStatus)||void 0===t?void 0:t.length)&&(null===P||void 0===P||null===(i=P.storesWithStatus[0])||void 0===i||null===(x=i.summary)||void 0===x?void 0:x.timeZoneIANA),X={id:"productDetailsPopUp",role:"dialog",modalTitleId:"productDetailsPopUp",show:{isProductModalOpen:M},classNames:"multi-product-wrapper-modal",showCloseBtn:!0,closeButtonHandler:k,modalTitle:G,autoFocus:!0},{headerData:{plpBackgroundImage:Z={}}={}}=Object(n.c)((e=>{var t;return Object(s.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),$=Object(s.lb)(Z),ee=Object(s.Sd)(R.dispositionNew)?JSON.parse(localStorage.getItem(r.Hb)):R.dispositionNew,te=Object(a.useMemo)((()=>({storeInfo:ee?ee.store:{}})),[ee,R,q]),ie=Object(n.b)(),[ae,oe]=Object(a.useState)(""),[ne,le]=Object(a.useState)(!1),{ADD_TO_CART:de}=S.a,ce=null===q||void 0===q||null===(E=q.componentOptions)||void 0===E||null===(y=E.PlpProductCard)||void 0===y?void 0:y.allowClickOnProductCard,re=(t,i,a,o,n,l,d,c,u)=>{var v,m,O,j,h;let g={productId:t,customizable:i,categoryId:a,catalogName:n,productInfo:o,isFromPlp:!0,categoryName:c,categoryUrl:l,url:u};const{url:I}=null!==(v=null===w||void 0===w||null===(m=w.productMapByItemId)||void 0===m?void 0:m[d])&&void 0!==v?v:{};_({type:D,value:g}),_({type:A,isFromMultiProductViewModal:!0}),localStorage.setItem(r.gd.PRODUCT_DETAILS,JSON.stringify(g)),null===e||void 0===e||null===(O=e.history)||void 0===O||O.push({pathname:Object(s.xc)(l,I||u,null===e||void 0===e||null===(j=e.history)||void 0===j||null===(h=j.location)||void 0===h?void 0:h.pathname)}),K(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:z,priceDetails:V}})),K(Object(p.d)({key:r.gd.PROMO_PRODUCT_CART,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:z,priceDetails:V,isPromo:!0}})),_({type:b.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})},se=t=>{var i,a,o,n,l,d;const c=null!==(i=null===w||void 0===w||null===(a=w.productMapByItemId)||void 0===a?void 0:a[t])&&void 0!==i?i:{},u=null!==(o=null===w||void 0===w||null===(n=w.productMapByItemId)||void 0===n||null===(l=n[t])||void 0===l||null===(d=l.itemMapByItemId)||void 0===d?void 0:d[t])&&void 0!==o?o:{},v=null===w||void 0===w?void 0:w.catalogName,m=null===c||void 0===c?void 0:c.customizable;oe(c),K(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===B||void 0===B?void 0:B.couponCode,promoParams:z,priceDetails:V}})),le(null===c||void 0===c?void 0:c.customizable),ie(Object(I.c)({tenantId:H,catalogName:v,itemId:t})),m?ie(Object(g.v)({showProductListingModal:!0,categorySelected:null===ae||void 0===ae?void 0:ae.categoryId})):((t,i)=>{var a,o;const{id:n,categoryId:l,categoryName:d,url:c}=t;ie(Object(g.a)({params:{basketId:null===L||void 0===L||null===(a=L.cartData)||void 0===a?void 0:a.id},tenantId:H},[{Id:n,categoryId:l,quantity:(null===z||void 0===z||null===(o=z.find((e=>(null===e||void 0===e?void 0:e.itemId)===n)))||void 0===o?void 0:o.quantity)||1,modGrps:[],categoryName:d,categoryUrl:c,isProductPromo:!0}],(()=>{W({couponCode:null===B||void 0===B?void 0:B.couponCode}),k(),!i&&1===(null===Y||void 0===Y?void 0:Y.length)&&Object(s.Qe)(e)})))})(u,m)},ue=()=>{const{Error:e}=f.a;return Object(T.jsxs)("div",{className:"unavailable-container",children:[Object(T.jsx)("img",{src:e,className:"unavailable-icon",alt:"product-unavaliable"}),Object(T.jsx)("span",{className:"unavailable-text",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PRODUCT_UNAVAILABLE)})]})},ve=e=>{var t,i,a,o,n,d,c,u;let{item:m,params:b}=e;const{dname:j=[],imageName:p,content:h,availability:g=[],customizable:I,id:S,categoryUrl:f,url:C,isNotAvailable:x}=Object(s.sd)(m),E=Object(O.k)(g,J),{caloricValue:y}=Object(s.sd)(h),D=y,{storeInfo:A}=Object(s.sd)(b);let _=f&&f[0];_=null===(t=_)||void 0===t||null===(i=t.split("-").join(" "))||void 0===i?void 0:i.toUpperCase();let R=null===Q||void 0===Q?void 0:Q.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===_}));const P=R&&R[0],L=null===P||void 0===P?void 0:P.name,w=S,M=null===P||void 0===P?void 0:P.id,k={productName:j,productImage:p,productPrice:Object(s.Ec)(E,null===q||void 0===q?void 0:q.currencyConversionFactor,J)},F=A&&(null===A||void 0===A||null===(a=A.summary)||void 0===a||null===(o=a.menu)||void 0===o||null===(n=o.catalogs)||void 0===n?void 0:n.length)&&(null===A||void 0===A||null===(d=A.summary)||void 0===d||null===(c=d.menu)||void 0===c?void 0:c.catalogs[0])||(null===q||void 0===q?void 0:q.genericMenuName)||"",H=(e=>null===e||void 0===e?void 0:e.map((e=>({...e,price:null!==e&&void 0!==e&&e.promoPrice&&(null===e||void 0===e?void 0:e.promoPrice)<(null===e||void 0===e?void 0:e.price)?null===e||void 0===e?void 0:e.promoPrice:null===e||void 0===e?void 0:e.price}))))(g),W=Object(O.k)(H,J);return Object(T.jsx)("div",{class:"container","data-testid":"container-test",children:Object(T.jsx)("main",{class:"grid ".concat(x?"product-card-deactive":""),"data-testid":"card-box-test",onClick:()=>ce?re(w,I,M,k,F,f,S,L,C):se(S),children:Object(T.jsxs)("article",{children:[Object(T.jsx)("div",{className:"product-image-parent-container",style:Object(s.mb)($,U,U),children:Object(T.jsx)(v.a,{"data-testid":"multi-product-image",className:"multi-product-image",defaultPath:Object(s.bc)(null,q,!0),srcFile:Object(s.qc)(h,U,U),alt:""})}),Object(T.jsxs)("div",{class:"description-txt",children:[Object(T.jsx)("span",{className:"desc",children:null===(u=j[0])||void 0===u?void 0:u.value}),x?ue():Object(T.jsxs)("div",{className:"".concat(ce?"":"align-button"),children:[Object(T.jsxs)("span",{className:"price-value",children:[null===q||void 0===q?void 0:q.currencySymbol,Object(s.Ec)(W,null===q||void 0===q?void 0:q.currencyConversionFactor,J).toFixed(r.gg)]}),Object(T.jsx)("span",{children:D&&Object(T.jsx)("span",{className:"kj-info",children:" ".concat(D," ").concat(null===q||void 0===q?void 0:q.kilojoule)})}),!ce&&Object(T.jsxs)(N.a,{tabIndex:"0",className:"button redButton model-cart-button",children:[" ",Object(l.translateWithI18Next)(de)]})]})]})]})})})};return Object(a.useEffect)((()=>{(null===w||void 0===w?void 0:w.productMapByItemId)&&1===(null===Y||void 0===Y?void 0:Y.length)&&(e=>{var t,i,a,o,n,l,d,c,r;const{storeInfo:u,tenantReducer:v}=te,{imageName:m,dname:b,availability:j,customizable:p,id:h,categoryUrl:g}=null!==(t=(null===e||void 0===e||null===(i=e.itemDetails)||void 0===i?void 0:i.length)&&(null===e||void 0===e?void 0:e.itemDetails[0]))&&void 0!==t?t:{};if(!ce)return void se(h);let I=g&&g[0];I=null===(a=I)||void 0===a||null===(o=a.split("-").join(" "))||void 0===o?void 0:o.toUpperCase();const N=Object(O.k)(j,J);let S=null===Q||void 0===Q?void 0:Q.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===I}));const f=S&&S[0],T=null===f||void 0===f?void 0:f.name,C=h,x=null===f||void 0===f?void 0:f.id,E={productName:b,productImage:m,productPrice:Object(s.Ec)(N,null===v||void 0===v?void 0:v.currencyConversionFactor,J)},y=u&&(null===u||void 0===u||null===(n=u.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===u||void 0===u||null===(c=u.summary)||void 0===c||null===(r=c.menu)||void 0===r?void 0:r.catalogs[0])||(null===v||void 0===v?void 0:v.genericMenuName)||"";re(C,p,x,E,y,g,h,T)})(B)}),[]),Object(T.jsxs)(o.a.Fragment,{children:[Y&&(null===Y||void 0===Y?void 0:Y.length)>1&&Object(T.jsx)(m.a,{...X,"data-testid":"offers-deals-modal-testid",children:Object(T.jsxs)("div",{className:"multi-product-wrapper",children:[Object(T.jsx)("div",{className:"content",children:Object(T.jsx)("h4",{children:Object(l.translateWithI18Next)(C)})}),Object(T.jsx)("div",{className:"grid-container card-items container",children:null===Y||void 0===Y?void 0:Y.map(((e,t)=>Object(T.jsx)(ve,{item:e,params:te},"card-item-".concat(t))))})]})}),(null===L||void 0===L?void 0:L.showProductListingModal)&&ne&&Object(T.jsx)(h.a,{addToOrderClickHandler:W,closeParentModal:k})]})}},1202:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i(3),o=i(28),n=i(42),l=i.n(n),d=i(46),c=i(41),r=i(0),s=i(85),u=i(5),v=i(73),m=i(192),b=i(24),O=i(1122),j=i(35),p=i(113),h=i(16);const g=(e,t,i,a)=>{const o={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:b.b.channel,service:t}))),store:e,tenantId:a,setStatusFlag:!1,isFavoritePage:!1};i(Object(v.d)(o))},I=e=>{const{storesWithStatus:t,dispositionNew:i,setAutoDetectFlow:a,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,SetLocationClickHandler:b}=e,g=null===v||void 0===v?void 0:v.localized,I=null===t||void 0===t?void 0:t.filter((e=>{var t,i,a,o,n,l,d,c,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)===r.Od&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(s=c.timings)||void 0===s||null===(u=s.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.summary)||void 0===v||null===(m=v.timings)||void 0===m?void 0:m.asap)}));(null===I||void 0===I?void 0:I.length)>0?g?i&&a(!1):((async e=>{var t;let{finalStore:i,dispositionNew:a,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:b}=e,h={time:r.s,interval:null===(t=i.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:r.s},g=await Object(u.A)(i,Object(u.Mb)(o),null===l||void 0===l?void 0:l.customerId,h);d(Object(j.f)({data:g,tenantId:c})),Object(O.i)(a,s,n,o,i,h);let I=i||null;d(Object(p.a)({...v,localized:!0})),Object(O.j)(s,o,h,I,m),b(!1),Object(u.vf)()})({finalStore:I[0],dispositionNew:i,activeDisposition:o,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:a}),s({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(a(!1),b())};var N=i(43),S=i(4),f=i(6),T=i(55),C=i(133),x=i(270),E=i(2);const y=e=>{var t,i,n,j,p;const{setLocationdata:y=[]}=e,{srcFile:D,locationMap:A,buttonText:_,textDescription:R}=y,{userOrderState:P,userOrderStateDispatch:L}=Object(a.useContext)(s.a),[w,M]=Object(a.useState)(Object(u.ee)(window.innerWidth)),k=Object(o.b)(),[F,U]=Object(a.useState)(""),[H,W]=Object(a.useState)(!1),[B,G]=Object(a.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:z,PICK_UP:V,GRANTED:Y}=x.a,{profileReducer:q,tenantReducer:Q,storesReducer:K,appStateReducer:J}=Object(o.c)((e=>e)),{storesWithStatus:X,storesSatusError:Z,count:$}=K,{allStores:ee=[],currentCount:te=0}=Object(o.c)((e=>e.allStoresReducer))||{},{storeSearch:ie={},tenantId:ae}=Q,oe=null===Q||void 0===Q||null===(t=Q.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(n=i.dispositionConfig)||void 0===n?void 0:n.enableAutoSetLocation;let ne=J.userStatus;const{maxDriveTimeMins:le,distanceMetrics:de,geohashprecision:ce,boundingBoxSizeMeters:re,boundingBoxSizeDivider:se}=ie;let ue=null===P||void 0===P?void 0:P.dispositionNew;if(!ue){const e=localStorage.getItem(r.Hb);ue=JSON.parse(e)}const ve=Object(o.c)((e=>({marketPageContent:l()(e,"marketConfigReducer.response",null)}))),me=null===ve||void 0===ve||null===(j=ve.marketPageContent)||void 0===j||null===(p=j.headerData)||void 0===p?void 0:p.autodetectDistance,be=()=>{k(Object(v.u)()),Object(T.o)(),L({type:h.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),L({type:h.a.SEARCH_ORDER_DATA,value:{showSearchStore:B}}),L({type:h.a.DISPOSITION_DATA,value:{showDisposition:!0}}),L({type:h.a.DISPOSITION_METHOD,value:{dispositionType:r.Jb.PICKUP}}),L({type:N.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,C.a)};Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.ee)(window.innerWidth);M(e)}))}),[w]);const Oe=Object(a.useCallback)((async()=>{if(await Object(O.g)()){const{longitude:e=0,latitude:t=0}=null===b.b||void 0===b.b?void 0:b.b.coordinates;((e,t,i,a,o,n)=>{const l={lat:e,lon:t,distanceFromCurrentLoc:i/a,geohashprecision:o},d=null===m.a||void 0===m.a?void 0:m.a.calculateGH(l);n(Object(v.v)(null===d||void 0===d?void 0:d.length))})(t,e,re,se,ce,k),Object(u.ze)(null===b.b||void 0===b.b?void 0:b.b.address,N.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(a.useEffect)((()=>{if(H&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:i,dispositionType:a,setActiveDisposition:o,distanceMetrics:n,maxDriveTimeMins:l,dispatch:d,tenantId:c,SetLocationClickHandler:r}=e;o(a);const s=Object(O.a)(t),u={stores:s,disposition:a,distanceMetrics:n,driveTime:l,distanceInMtrs:i,noOfStores:s.length,channel:b.b.channel},v=null===m.a||void 0===m.a?void 0:m.a.checkAndProceed(u);null!==v&&void 0!==v&&v.length?g(v,a,d,c):r()})({allStores:ee,maxDistance:me,dispositionType:V,setActiveDisposition:U,distanceMetrics:de,maxDriveTimeMins:le,dispatch:k,tenantId:ae,SetLocationClickHandler:be})}}),[ee,te]),Object(a.useEffect)((()=>{const e={storesWithStatus:X,dispositionNew:ue,setAutoDetectFlow:W,activeDisposition:F,userOrderState:P,profileReducer:q,dispatch:k,tenantId:ae,userOrderStateDispatch:L,userParams:ne,tenantReducer:Q,SetLocationClickHandler:be};H&&(null===X||void 0===X?void 0:X.length)>0&&I(e)}),[X,Z]),Object(E.jsx)(E.Fragment,{children:Object(u.Td)(y)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===r.Ce.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(E.jsx)(d.a,{"data-testid":"",srcFile:D,alt:A,className:"google-location-img"}),Object(E.jsx)("div",{className:"setLocationText",children:R}),Object(E.jsx)(c.c,{variant:c.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:oe?()=>{var e,t,i;k(Object(v.u)()),Object(T.o)(),G(!0),L({type:z,value:{autoDetectionClicked:!0}}),L({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,C.a),W(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(i=t.geolocation)||void 0===i||i.getCurrentPosition((()=>{k(Object(v.p)(Y)),(async()=>{await Oe()})()}))}:be,children:w&&window.location.pathname===r.Ce.NUTRITION_ALLERGEN?Object(f.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.SET_YOUR_LOCATION):_}),w&&window.location.pathname===r.Ce.NUTRITION_ALLERGEN?Object(E.jsx)("span",{className:"arrow_white"}):""]}),Object(E.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}},1214:function(e,t,i){"use strict";var a=i(3),o=i(1136),n=i(2);t.a=e=>{const{endTime:t=new Date}=e,[i,l]=Object(a.useState)(Object(o.d)(t));return Object(a.useEffect)((()=>{let e;return Object(o.e)(t)?e=setTimeout((()=>{l(Object(o.d)(t))}),1e3):l("00HR : 00M : 00S"),()=>{clearTimeout(e)}})),Object(n.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:i})}},1215:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(46),l=i(264),d=i(28),c=i(41),r=i(6),s=i(15),u=i(11),v=i(14),m=i(1133),b=i(83),O=i(0),j=i(4),p=i(5),h=i(1136),g=i(1098),I=i(2);t.a=e=>{var t,i,a;const{smallText:N,titleValue:S,imageName:f,item:T,tenantId:C,setConfirmationModal:x,setViewDetailsHandler:E,showMultiProductModal:y,dispositionType:D,addToOrderClickHandler:A,startOrderClickHandler:_,promosApplied:R,basketData:P,setViewCartHandler:L,setDispositionHandler:w,createSignInURL:M,page:k,loggedIn:F,localized:U,setLocationClickHandler:H}=e,{ITEM_IN_CART:W,ONE_PROMO_APPLIED:B,DELIVERY_PROMOTION:G,PICKUP_PROMOTION:z,VIEW_MENU:V,START_ORDER:Y,VIEW_PRODUCT:q,PROMO_ADD_TO_CART:Q,VIEW_DETAILS:K,CHANGE_PICKUP:J,CHANGE_DELIVERY:X,VIEW_CART:Z,GUEST_USER_SINGIN_TEXT:$,SIGNIN_TEXT:ee,CHECK_BACK_AGAIN:te,THATS_ALL_FOR_NOW:ie,CATERING_PROMO_ERROR:ae,NO_IMAGE:oe}=j.a,{SignInCard:ne,Error_Yellow:le,GreenCheck:de,Applied_CouponIcon:ce}=s.a,{DEFAULT_IMAGE_PATH:re}=m.a,se=(null===P||void 0===P||null===(t=P.foodLines)||void 0===t?void 0:t.length)||0,ue=Object(d.c)((e=>e.tenantReducer)),ve={userType:Object(p.od)(U,F),couponCode:e.couponCode,dispositionType:e.dispositionType,titleValue:null===T||void 0===T?void 0:T.titleValue},{componentOptions:{web:{plp:{promosRewardsImage:me}={},coupons:be={}}={}}={}}=null!==ue&&void 0!==ue?ue:{},{cardImagePath:Oe,useBucketSize:je}=be,pe=null===ue||void 0===ue||null===(i=ue.componentOptions)||void 0===i||null===(a=i.coupons)||void 0===a?void 0:a.noAvailableCouponsLongText,he=t=>{if(null!==t&&void 0!==t&&t.isApplied&&se&&null!==t&&void 0!==t&&t.itemDetails)return Object(I.jsx)("div",{onClick:t=>L(e),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(Z)})});if(null!==t&&void 0!==t&&t.isApplied||!R){let e=D===O.fe?Object(r.translateWithI18Next)(X):Object(r.translateWithI18Next)(J),t=D===O.fe?O.yb:O.fe;return Object(I.jsx)("div",{onClick:e=>w(t),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:e})})}return""},ge=()=>{return Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(k===O.he&&"plp-toast-item"),children:Object(I.jsxs)("div",{className:"promos-tost-container ".concat((null===T||void 0===T?void 0:T.isApplied)&&"greenbg"),children:[Object(I.jsxs)("div",{className:"promos-tost-icon ",children:[(null===T||void 0===T?void 0:T.isApplied)&&se&&(null===T||void 0===T?void 0:T.itemDetails)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:de,className:"promos-store-image green-icon",alt:""})}),!(null!==T&&void 0!==T&&T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:le,className:"promos-store-image ".concat(k===O.he&&"plp-promos-store-image"),alt:""})})]}),Object(I.jsxs)("div",{className:"promos-tost-text-container",children:[Object(I.jsx)("div",{className:"promos-tost-text",children:Object(p.Hd)(D)?Object(r.translateWithI18Next)(ae):(e=T,null!==e&&void 0!==e&&e.isApplied&&se&&null!==e&&void 0!==e&&e.itemDetails?Object(r.translateWithI18Next)(W)+".":null!==e&&void 0!==e&&e.isApplied||!R?D===O.fe?Object(r.translateWithI18Next)(G):Object(r.translateWithI18Next)(z):Object(r.translateWithI18Next)(B))}),Object(p.Hd)(D)?null:he(T)]})]})})});var e},Ie=t=>{var i,a,n,d,s;if(Object(p.hb)(Object(p.Hd)(D),!(null!==t&&void 0!==t&&t.employeePromotion)))return ge();let u=null===t||void 0===t||null===(i=t.termsAndConditions[0])||void 0===i?void 0:i.parameter;return null===t||void 0===t||null===(a=t.termsAndConditions)||void 0===a||a.forEach((e=>{var t,i;Object(p.jb)(null===e||void 0===e||null===(t=e.parameter)||void 0===t?void 0:t.includes(O.yb),null===e||void 0===e||null===(i=e.parameter)||void 0===i?void 0:i.includes(O.fe))&&(u=null===e||void 0===e?void 0:e.parameter)})),R&&Object(p.hb)(!(null!==t&&void 0!==t&&t.isApplied),!(null!==t&&void 0!==t&&t.employeePromotion))?ge():Object(p.jb)(null===(n=u)||void 0===n?void 0:n.includes(D),Object(p.hb)(!(null!==(d=u)&&void 0!==d&&d.includes(O.yb)),!(null!==(s=u)&&void 0!==s&&s.includes(O.fe))))?null!==t&&void 0!==t&&t.itemDetails?(Ne(),null!==t&&void 0!==t&&t.isApplied?ge():Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===O.he,"plp-promosButton-item")),"data-testid":"promos-product-button",children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>U?y(e,t):H(e),disabled:null===T||void 0===T?void 0:T.isApplied,"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(K)," ").concat(S),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(q)})})})):Object(I.jsxs)(o.a.Fragment,{children:[(null===T||void 0===T?void 0:T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===O.he,"plp-promosButton-item")),children:[Object(I.jsx)("div",{className:"promos-checked-icon ".concat(k===O.he&&"plp-promos-checked-icon"),onClick:t=>x(e,t),"data-testid":"greentick-button",children:Object(I.jsx)(l.a,{src:ce,className:"promos-appled-icon ".concat(Object(p.hb)(k===O.he,"plp-promos-appled-icon")),alt:""})}),Object(I.jsx)(c.c,{variant:null!==T&&void 0!==T&&T.isApplied&&!se?c.b.primary:c.b.tertiary,onClick:t=>_(e,t),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(K)," ").concat(S),children:se?Object(r.translateWithI18Next)(V):Object(r.translateWithI18Next)(Y)})]})}),!(null!==T&&void 0!==T&&T.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.hb)(k===O.he,"plp-promosButton-item")),children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>U?A(e,t):H(e),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(K)," ").concat(S),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(Q)})})})]}):ge()},Ne=()=>{Object(p.hb)(!se,localStorage.getItem(O.gd.ADD_TO_ORDER))&&localStorage.removeItem(O.gd.ADD_TO_ORDER)},Se=()=>Object(I.jsx)("div",{className:"slick-slide medium-card-offers-deals",children:Object(I.jsxs)("div",{className:"promosCard-content ".concat(Object(p.hb)(pe,"alignCenter")),children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title small-text ".concat(Object(p.hb)(k===O.he,"plp-empty-card-title")," ").concat(Object(p.hb)(pe,"longText")),children:Object(I.jsxs)("span",{className:"promosCard-ellipsis-text  ".concat(Object(p.hb)(pe,"longTextLines")),children:[" ",Object(r.translateWithI18Next)(ie)]})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text small-text emptycard",children:Object(r.translateWithI18Next)(te)})]})}),fe=()=>Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{src:ne,className:"offers-store-image",alt:""}),Object(I.jsx)("h3",{className:"offer-login-text ".concat(Object(p.hb)(k===O.he,"plp-offer-login-text")),children:Object(r.translateWithI18Next)(ee)}),Object(I.jsx)("div",{className:"offer-store-btn-container ".concat(Object(p.hb)(k===O.he,"plp-offer-store-btn-container")," "),children:Object(I.jsx)(c.a,{"data-testid":"sign-in-btnid",onClick:()=>M(),className:"store-btn signin-offers-btn",children:Object(r.translateWithI18Next)($)})})]});return Object(I.jsx)(o.a.Fragment,{children:(()=>{if(me&&k===O.he)switch(null===T||void 0===T?void 0:T.cardType){case"empty":return Se();case"login":return fe();default:return Object(I.jsxs)("div",{className:"plp-promosCard-content promosCard-content",children:[Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-title promosOnlyTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-text promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"plp-view-all-text view-all-text",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"plp-offersViewAll-link offersViewAll-link","data-testid":"plp-view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(K)})})}),Ie(T)]})}switch(null===T||void 0===T?void 0:T.cardType){case"image-text":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"promosImageText-background",children:Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:C,useBucketSize:je,imagePath:Oe,imageName:f}),alt:Object(r.translateWithI18Next)(oe),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(C).concat(re),className:"promosImageText-background-img"})}),Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosImageTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text","data-testid":"promos-card-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"promosCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:()=>{Object(g.f)(ve),E(e)},className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{"data-testid":"view-details-link",children:Object(r.translateWithI18Next)(K)})})}),Ie(T)]})]});case"image":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:C,useBucketSize:je,imagePath:Oe,imageName:f}),alt:Object(r.translateWithI18Next)(oe),defaultPath:"".concat(Object(v.a)(u.Qb)).concat(C).concat(re),className:"promosOnlyImage-background"}),Object(I.jsxs)("div",{className:"promosCard-content promosFullImageCard-content ".concat(Object(p.hb)(R,"promos-applied")),children:[Object(I.jsx)("div",{className:"view-all-text fullImageText-item",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(K)})})}),Ie(T)]})]});case"text":return Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title ".concat(k),children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(N)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:t=>E(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(K)})})}),Ie(T)]});case"empty":return Se();case"login":return fe()}})()})}},1216:function(e,t,i){"use strict";i(3);var a=i(28),o=i(6),n=i(4),l=i(0),d=i(5),c=i(41),r=i(1202),s=i(2);t.a=e=>{var t,i,u;const{setLocationClickHandler:v,page:m}=e,{SEE_PROMOS_FOR_YOU:b,SET_LOCATION:O}=n.a,j={buttonText:Object(o.translateWithI18Next)(O)},{tenantReducer:p}=Object(a.c)((e=>e)),h=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(u=i.dispositionConfig)||void 0===u?void 0:u.enableAutoSetLocation;return Object(s.jsx)("div",{id:"startorder-container","data-testid":"set-locaton-component",children:Object(s.jsx)("div",{"data-testid":"start-order-items",className:"sc-dlnjwi redBg headerBottom ".concat(Object(d.hb)(m===l.he,"plp-headBottom")),id:"start-order-component",children:Object(s.jsxs)("div",{className:"headBottomParent",children:[Object(s.jsx)("div",{className:"headBottomTxt ".concat(Object(d.hb)(m===l.he,"plp-headBottomTxt")),children:Object(o.translateWithI18Next)(b)}),h?Object(s.jsx)(r.a,{setLocationdata:j}):Object(s.jsx)(c.c,{onClick:()=>v(),variant:c.b.secondary,inverted:!0,role:"button","aria-label":"Start Order","data-testid":"set-location-buttonId",id:"startOrderItemButton",type:"button",children:Object(s.jsx)("span",{children:Object(o.translateWithI18Next)(O)})})]})})})}},1217:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(6),l=i(15),d=i(11),c=i(14),r=i(144),s=i(41),u=i(5),v=i(83),m=i(1133),b=i(4),O=i(403),j=i(1136),p=i(28),h=i(2);const{Error_Yellow:g}=l.a,{DEFAULT_IMAGE_PATH:I}=m.a,{VIEW_DETAILS:N,VALID_TO:S,REVEIW_CONDITION:f,GOT_IT_BUTTON:T,NO_IMAGE:C,EXPIRE_DATE:x}=b.a;t.a=e=>{var t,i,a,l;const{isDealModalOpen:m,handleClose:b,viewDetailsData:E,tenantId:y}=Object(u.sd)(e),{description:D}=Object(u.sd)(E),A=null===D||void 0===D?void 0:D.replace(/\n/g,"<br />"),{item:_}=Object(u.sd)(E),{imageName:R,validityEndTime:P,titleValue:L,termsAndConditions:w,legalText:M,hideEndDate:k}=Object(u.sd)(_),F=()=>null===w||void 0===w?void 0:w.map(((e,t)=>Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.message})},t))),{componentOptions:U}=null!==(t=Object(p.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)))&&void 0!==t?t:{},{detailsImagePath:H,useBucketSize:W}=(null===U||void 0===U||null===(i=U.web)||void 0===i?void 0:i.coupons)||{},B={id:"viewDetailsPopUp",role:"dialog",modalTitleId:"viewDetailsPopUp",show:{isProductModalOpen:m},classNames:"view-details-wrapper-modal white-background",showCloseBtn:!0,closeButtonHandler:b,modalTitle:Object(n.translateWithI18Next)(N),autoFocus:!0};return Object(h.jsx)(o.a.Fragment,{children:Object(h.jsx)(r.a,{...B,"data-testid":"offers-deals-modal-testid",children:Object(h.jsxs)("div",{className:"view-details-wrapper",children:[_&&Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)("div",{className:"view-details-img",children:Object(h.jsx)(O.a,{srcFile:Object(j.c)({tenantId:y,useBucketSize:W,imagePath:H,imageName:R}),alt:Object(n.translateWithI18Next)(C),defaultPath:"".concat(Object(c.a)(d.Qb)).concat(y).concat(I),className:"veiw-detail-img-section"})}),Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("h5",{className:"delivery-content",children:L}),Object(h.jsxs)("div",{className:"view-details-small-text",children:[Object(h.jsx)("div",{children:!k&&"".concat(Object(n.translateWithI18Next)(null!==U&&void 0!==U&&null!==(a=U.coupons)&&void 0!==a&&a.YYYYMMDDWithSlash?x:S)," ").concat(Object(v.b)(P,null===U||void 0===U||null===(l=U.coupons)||void 0===l?void 0:l.YYYYMMDDWithSlash))}),Object(h.jsx)("div",{children:M})]}),(null===w||void 0===w?void 0:w.length)&&Object(h.jsx)("div",{className:"review-condition",children:Object(h.jsxs)("div",{className:"condition-wrapper",children:[Object(h.jsx)(O.a,{srcFile:g,className:"location-alert-icon"}),Object(h.jsx)("div",{className:"review-text",children:Object(n.translateWithI18Next)(f)})]})}),Object(h.jsx)("div",{className:"list-item",children:Object(h.jsx)(F,{})}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(T)})})})]})]}),D&&Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:A}}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(T)})})})]})]})})})}},1258:function(e,t,i){"use strict";var a=i(3),o=i.n(a),n=i(41),l=i(46),d=i(5),c=i(85),r=i(28),s=i(16),u=i(0),v=i(4),m=i(2);t.a=e=>{var t,i,b,O,j;const{contentData:p={}}=e,{headline:h,description:g,desktopImage:I,mobileImage:N,button:S}=p,[f,T]=Object(a.useState)(Object(d.de)(window.innerWidth)),{userOrderStateDispatch:C}=Object(a.useContext)(c.a),x=Object(r.c)((e=>e.tenantReducer)),{SELECTED_TILE_DATA:E="",UPDATE_CATERING_RETAIL_MENU_ALERT:y}=s.a,{CATERING_NAVALERT_TITLE:D,CATERING_NAVALERT_SUBTITLE:A}=v.a,_=()=>{const e=Object(d.de)(window.innerWidth);T(e)};Object(a.useEffect)((()=>{window.addEventListener("resize",_)}),[f]);return Object(m.jsx)(o.a.Fragment,{children:Object(m.jsx)("div",{className:"lto-banner-container",children:Object(m.jsxs)("div",{className:"grid-container",children:[Object(m.jsxs)("div",{className:"lto-text-section",children:[h&&Object(m.jsx)("p",{className:"smallTxtLTO",children:h}),g&&Object(m.jsx)("h1",{className:" largeTextLTO",children:g}),S&&Object(m.jsx)(n.c,{variant:n.b.primary,"data-testid":"view-offer-button",onClickHandler:()=>(()=>{var t,i;if(Object(d.Hd)(localStorage.getItem(u.gd.DISPOSITION_TYPE)))return void C({type:y,value:{flag:!0,pathname:"",title:D,contentMsg:A}});e.history.push({pathname:null===S||void 0===S||null===(t=S.fields)||void 0===t?void 0:t.url});let a={name:null===S||void 0===S||null===(i=S.fields)||void 0===i?void 0:i.name};C({type:E,value:{selectedData:a}}),localStorage.setItem(u.gd.SELECTED_TILE,JSON.stringify(a)),localStorage.setItem(u.gd.TENANT_REDUCER,JSON.stringify(x))})(),children:Object(m.jsx)("span",{"data-testid":"more-details-button",children:null===S||void 0===S||null===(t=S.fields)||void 0===t?void 0:t.buttonText})})]}),Object(m.jsx)(l.a,{"data-testid":"lto-image-component",srcFile:f?null===N||void 0===N||null===(i=N.fields)||void 0===i||null===(b=i.file)||void 0===b?void 0:b.url:null===I||void 0===I||null===(O=I.fields)||void 0===O||null===(j=O.file)||void 0===j?void 0:j.url,alt:"",className:"lto-image"})]})})})}},962:function(e,t,i){"use strict";i.r(t),i.d(t,"removeCouponHandler",(function(){return u})),i.d(t,"quantityModifierOnClickHandler",(function(){return v}));var a=i(3),o=i(395),n=i(28),l=i(61),d=i(1126),c=i(6),r=i(4),s=i(2);const u=e=>{let{setCartItem:t,item:i,setCouponModal:a,setQuantityActionData:o,quantityAction:n}=e;a(!0),t(i),o(n)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:i,item:a,setCouponModal:o,setQuantityActionData:n,quantityAction:l,event:d,updateItemQuantity:c}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:i,item:a,setCouponModal:o,setQuantityActionData:n,quantityAction:l}):c(a,l,d)};t.default=e=>{var t,i;const{itemQuantity:u,itemCount:m,updateItemQuantity:b,quantityAction:O,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:I=!1,type:N="",paymentDiscountAmounts:S=[],removeSingleItem:f=!1,isAddonsNotAddable:T=!1}=e,{QUANTITY_INCREASE_DECREASE:C}=l.a;var x="".concat(Object(c.translateWithI18Next)(r.a.DECREASE_QUANTITY_BY)," ").concat(p),E="".concat(Object(c.translateWithI18Next)(r.a.INCREASE_QUANTITY_BY),"  ").concat(p);const y=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[D,A]=Object(a.useState)(!1),[_,R]=Object(a.useState)({}),[P,L]=Object(a.useState)(""),w=Object(n.c)((e=>{var t,i,a,o,n,l;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isUpdateQuantityLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isValidateBasketLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isCreateOrderLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isPlaceOrder)}));return Object(s.jsxs)("div",{className:"cart-food-quantity-change",children:[!f&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(s.jsx)(o.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!I&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(o.a,{className:"button quantity-decrease",ariaLable:x,disabled:y||w,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:L,quantityAction:O.Decrease,event:e,updateItemQuantity:b}),"data-testid":"quantity-minus",type:N,children:!I&&Object(s.jsx)("span",{children:"-"})}),Object(s.jsx)("span",{className:"cart-food-quantity",children:m}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(s.jsx)(o.a,{className:".transparent-btn button quantity-increase",ariaLable:E,"data-testid":"quantity-plus",type:N,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:R,item:j,setCouponModal:A,setQuantityActionData:L,quantityAction:O.Increase,event:e,updateItemQuantity:b}),disabled:!!(0!==g&&h+m>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&i.isDiscounteditem||T)||(y||w),children:!I&&Object(s.jsx)("span",{children:"+"})}),D&&Object(s.jsx)(d.a,{cartItem:_,setCouponModal:A,quantityAction:P,updateItemQuantity:b,flag:C})]})}},963:function(e,t,i){"use strict";i.r(t),i.d(t,"SearchStoreModule",(function(){return mt}));var a=i(11),o=i(14),n=i(6),l=i(331),d=i(73),c=i(192),r=i(24),s=i(5),u=i(85),v=i(3),m=i.n(v),b=i(28),O=i(957),j=i(16),p=i(158),h=i(408),g=i(263),I=i(46),N=i(329),S=i.n(N),f=i(41),T=i(1135),C=i(401),x=i(55),E=i(15),y=i(2);const D=e=>!0===e.includes(",")?e.replace(",",", "):e;var A=e=>{var t,i;const{onMapClickHandler:a,startOrderFormSavedAddress:o}=e,{MapImage:l}=E.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:c,START_ORDER_TEXT:r}=p.a,{savedAddresses:s}=Object(b.c)((e=>e.profileReducer)),u=null===(t=s.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i.join(" ");return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"savedAddress-store-count",children:[Object(y.jsxs)("span",{className:"saved-address-count-title",children:[s.length>1?"".concat(Object(n.translateWithI18Next)(c)," "):"".concat(Object(n.translateWithI18Next)(d))," ","(",s.length,")"," "]}),Object(y.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>a(e,"",u),children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:l,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((e=>Object(y.jsx)("div",{className:"savedAddress-module-card",children:Object(y.jsxs)("div",{className:"inside-card",children:[Object(y.jsxs)("div",{className:"address-section",children:[Object(y.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(y.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(f.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var i;const{latitude:a,longitude:n}=t.location,l={userLat:a,userLong:n},d=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);o(d,l)})(0,e),"data-testid":"savedaddress-click-test",children:Object(n.translateWithI18Next)(r)})})]})})))]})})},_=i(147);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:i,dispositionType:a,onRetryClickHandler:o,onMapClickHandler:l,showMap:d}=e,{userOrderStateDispatch:c}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:r}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:s,TAKE_AWAY:b,TYPE_TAKE_WAY:O,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:N,CTA2_VIEW_MAP_BUTTON_TEXT:S}=p.a,{Error:T}=E.a,C=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?C:"error-alert-location-popup error-adjust",children:[Object(y.jsx)(I.a,{srcFile:T,className:"location-alert-icon"}),t!==s&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(f.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),i()})(e),children:Object(n.translateWithI18Next)(g)}),a.toLowerCase()!==b.toLowerCase()&&Object(y.jsx)(f.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),c({type:r,value:{dispositionType:O}})})(e),children:Object(n.translateWithI18Next)(N)})]})]}),t===s&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(f.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>o(e),children:Object(n.translateWithI18Next)(h)}),a!==b&&Object(y.jsx)(f.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>l(e),children:Object(n.translateWithI18Next)(S)})]})]})]})})},P=i(0),L=i(132),w=i(80),M=i(394);const{LocationImage:k,GoogleMapLocationImage:F,SuggestionItemSearchPin:U,clearTextIcon:H,Time_Clock:W,Error:B,MapImage:G}=E.a,{MIN_SEARCH_CHARACTER_LIMIT:z,SUUGESTED_ITEMS_TEXT:V,ALLOWED_SUGGESTION_LIST:Y,ALREADY_SERACHED_LOCATIONS:q,COUNTRY_CODE:Q,SUGGESTION_ACTIVE_COLOR:K,SUGGESTION_ACTIVE_OPACITY:J,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ie,DELIVERY_UNAVAILABLE:ae,DELIVERY_UNAVAILABLE_WITH_CTA:oe,NOTAVAILABLE:ne,CTA1_SEARCH_DIFF_ADDRESS:le,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:ce}=p.a,re=(e,t)=>{t()},se=e=>{var t;let{eligibleStoreData:i,suggestedAddress:a,setNegativeScenarioAlert:o,getNegativeView:l}=e,d=null===i||void 0===i?void 0:i.filter((e=>{var t,i,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)>0})),c=d.filter((e=>{var t,i,a,o,n,l;const d="CLOSED"===e.summary.status.currentStatus,c=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),r=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN"));return d&&(c||r)})),r=Object(C.a)("delivery",d);var u;return Object(s.qd)(r,Object(s.qd)(!(null!==(t=a[0])&&void 0!==t&&t.description),(null===c||void 0===c?void 0:c.length)===d.length))?(Object(s.hb)((null===c||void 0===c?void 0:c.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?r=ae:null!==(u=a[0])&&void 0!==u&&u.description||(r=oe),o(r),Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(n.translateWithI18Next)(r)),l(r)):void 0},ue=(e,t,i)=>Object(y.jsx)(f.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:i,"data-loading":t,children:Object(n.translateWithI18Next)($)}),ve=(e,t,i)=>{var a,o,n,l,d;return null===e||void 0===e||null===(a=e.toString())||void 0===a||null===(o=a.replace)||void 0===o||null===(n=o.call(a,t,""))||void 0===n||null===(l=n.trim())||void 0===l||null===(d=l.replace)||void 0===d?void 0:d.call(l,i,"")};var me=e=>{var t;const{formContent:i={},userPositionHandler:a,singInClickhandler:o,eligibleStoreData:l}=e,{memberText:d="",singInLink:c={},currentLocationText:O="",addressBoxPlaceHolderForDelivery:p=""}=i,{RETAIN_ADDRESS:T}=P.gd,{SCHEDULE_ORDER_DATA:E,DISPOSITION_METHOD:D}=j.a,_=Object(b.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(s.sd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:oe={},dispositionStateData:me={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Ie]=Object(v.useState)(!1),[Ne,Se]=Object(v.useState)(!1),[fe,Te]=Object(v.useState)(!1),[Ce,xe]=Object(v.useState)({lat:28.7,lng:77.1}),[Ee,ye]=Object(v.useState)(!1),[De,Ae]=Object(v.useState)(!1),[_e,Re]=Object(v.useState)([]),[Pe,Le]=Object(v.useState)(""),we=Object(v.useRef)(null),[Me,ke]=Object(v.useState)(""),[Fe,Ue]=Object(v.useState)(""),[He,We]=Object(v.useState)(!1),[Be,Ge]=Object(v.useState)(!1),[ze,Ve]=Object(v.useState)(!1),[Ye,qe]=Object(v.useState)(""),[Qe,Ke]=Object(v.useState)(!1),{dispositionType:Je=localStorage.getItem("dispositionType")}=me,[Xe,Ze]=Object(v.useState)({}),$e=Object(b.c)((e=>{var t,i;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(i=t.savedAddressPage)||void 0===i?void 0:i.showStateCityAddAddress})),et=Object(L.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:it}}},postalcodeRemoveRegex:at=null,specialCharRemoveRegex:ot=null}=Object(b.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),nt=Object(b.c)((e=>{var t,i,a,o;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(C.e)(De,Fe,h.a)}),[De,Fe]);const lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(R,{errorMsgToShow:Object(s.qd)(Fe,e),onClearTextHandler:mt,onRetryClickHandler:rt,onMapClickHandler:dt,dispositionType:Je,showMap:fe})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(C.i)(fe,Je),Te(!0),Ue(!1),t&&!pe&&st(t)},ct=e=>{var t;const i=null===(t=e.toString())||void 0===t?void 0:t.split(" "),a=null===i||void 0===i?void 0:i.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===a||void 0===a?void 0:a.join(" ")},rt=e=>{we.current.select(),Ie(!1),ye(!1),Ue(!1),Ae(!1)},st=async function(e,t,i){var o;let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ke(!1),qe(""),Object(s.hb)(null===t,null===i)&&(null===(o=_e[0])||void 0===o?void 0:o.description)&&Ae(!0),We(!0),ye(!0);const l=await Object(N.geocodeByAddress)(e),d=await Object(N.getLatLng)(l[0]);it&&et(Object(w.d)({key:P.se.LAT_LONG,value:d})),xe(d),ut(e);const c=tt?ve(e,at,ot):ct(e);he(c),n||Ie(!0),a({userLat:d.lat,userLong:d.lng}),Se(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(T);Object(C.b)(t,Re,st)}),[]),Object(v.useEffect)((()=>{let e=null===l||void 0===l?void 0:l.filter((e=>{var t,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i?void 0:i.catalogs[0])!==ne})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,i;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)}));Qe&&Ye&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),$({type:E,value:{deliveryAddress:Ye,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):Ye&&Ve(!0)}),[l,Ye,Qe]),Object(v.useEffect)((()=>{}),[Ce]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Ie(!De):(Ie(!1),Ae(!1),Ue(""));let e=Object(s.d)(pe,z);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(Ne){const e=ct(Me);he(e),ut(Me),Se(!1)}}),[oe]);const ut=e=>{Object(s.ze)(e,q)},vt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(q))).includes(t);var t},mt=()=>{he(""),Ie(!1),Ue(""),Re(""),Ve(!1)},bt=async(e,t)=>{xe({lat:t.userLat,lng:t.userLong}),Ke(!0);const i=ct(e);he(i),Ze(t),ut(e),qe(e),a(t)};return Object(y.jsxs)(m.a.Fragment,{children:[Object(y.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"login-section",children:[Object(y.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,o,c)}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(x.o)(),await r.b.BindLocation($e),Object(C.m)(),Re([]),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),a({userLat:e,userLong:t}),ke(r.b.address);const i=ct(r.b.address);he(i),st(r.b.address),Se(!0),Re([{description:r.b.address}])}Object(M.s)($,!r.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(y.jsx)(I.a,{"data-testid":"",srcFile:k,alt:" ",className:"location-img"}),Object(n.translateWithI18Next)(O)]})})]}),Object(y.jsxs)("div",{className:"delivery-address-section",children:[Object(y.jsx)("div",{className:"search-delivery-address",children:Object(y.jsx)("div",{className:"input-delivery-address",children:Object(y.jsx)(S.a,{value:pe,onChange:e=>{We(!1),ye(!1);const t=ct(e);he(t),((e,t,i)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),i(!1))})(e,Re,Ge),Ke(!1),qe(""),Ve(!1)},onSelect:st,searchOptions:{componentRestrictions:{country:Q}},shouldFetchSuggestions:!0,onError:re,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:a,loading:o}=e;return Object(y.jsxs)("div",{children:[Object(y.jsx)(I.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(s.ad)(Object(s.qd)(De,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(n.translateWithI18Next)(p),ref:we})}),pe&&Object(y.jsx)("img",{src:H,className:"clearTextIcon",onClick:mt,alt:"Clear Text Icon"}),Object(s.hb)(Object(s.pc)(i),Be)?Object(y.jsx)("div",{className:"suggestion-list",children:i.map(((e,t)=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((e=>Y.includes(e)))){Re(i);const o=Object(s.ad)(e.active,{backgroundColor:K,opacity:J},{backgroundColor:X});return Object(y.jsxs)(m.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",children:Object(n.translateWithI18Next)(V)}),Object(y.jsx)("div",{style:o,children:Object(y.jsx)("div",{...a(e,{className:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(y.jsx)("div",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:Object(s.ad)(vt(e.description),W,U),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(y.jsx)("form",{children:ue(ge,nt,(e=>{var t;if(e.preventDefault(),Qe)return ze&&Ie(!1),void bt(pe,Xe);if(!(He&&se({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:lt})||(null===(t=_e[0])||void 0===t||!t.description)&&se({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:lt}))){if(Ue(""),!Ee){var i,a;const e=null===(i=_e[0])||void 0===i?void 0:i.description;return Le(e),(null===(a=_e[0])||void 0===a?void 0:a.description)&&Ae(!0),Ie(!1),void st(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}l[0]&&(ye(!1),$({type:E,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),ze&&!nt&&Object(y.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(y.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(ae)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(f.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ve(!1),children:Object(n.translateWithI18Next)(le)}),Object(y.jsx)(f.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:D,value:{dispositionType:de}})},children:Object(n.translateWithI18Next)(ce)})]})]}),!fe&&Object(y.jsx)("div",{className:"my-3 store-form-separation"}),fe||G||De||Fe?null:Oe(dt),!De&&G&&!Fe&&!fe&&!ze&&Object(y.jsx)(A,{userPositionHandler:a,startOrderFormSavedAddress:bt,allowOrderNow:ze,onMapClickHandler:dt})]}),pe.length>0&&Object(s.hb)(De,!Fe)?Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(y.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-message",children:Object(n.translateWithI18Next)(ee)}),Object(y.jsx)("div",{className:"location-error-address",children:Object(s.qd)(null===(t=_e[0])||void 0===t?void 0:t.description,pe)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(f.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:rt,children:Object(n.translateWithI18Next)(te)}),Object(y.jsx)(f.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const i=se({eligibleStoreData:l,suggestedAddress:_e,setNegativeScenarioAlert:Ue,getNegativeView:lt});pe.length>0&&De&&i||!l[0]&&i||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:E,value:{deliveryAddress:Pe,showScheduleOrderCatering:!0,selectedStoreInfo:Object(s.sd)(l[0])}}),ye(!1))},children:Object(n.translateWithI18Next)(ie)})]})]}):Fe&&lt(),fe?be(De,Ce,(e=>{const t=ct(e);st(t),he(t)}),Fe):null]})};function be(e,t,i,a){return Object(y.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(s.ad)(e,"pointer-disabled","")),children:Object(y.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(y.jsx)(T.a,{"data-testid":"map-comp",latLongValue:t,passAddress:i,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function Oe(e){return Object(y.jsx)("div",{className:"map-button-form",children:Object(y.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(y.jsx)("span",{className:"delivery-map-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(n.translateWithI18Next)("map")]})]})})}function je(e,t,i){return Object(y.jsxs)("div",{"data-id":P.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(n.translateWithI18Next)(e),Object(y.jsx)("span",{onClick:t,children:Object(y.jsx)(g.a,{targetType:i.targetType,href:i.linkUrl,className:"delivery-signin-link",children:Object(n.translateWithI18Next)(i.linkText)})})]})}var pe=i(144);var he=e=>{const{handleClose:t,handleGoBack:i,orderModeTypeItem:a,headerText:o,modalTitleId:n="",showLocationError:l}=e;return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:l,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:i,modalTitle:o,autoFocus:!0,children:a})})},ge=i(62),Ie=i(59),Ne=i(35),Se=i(113),fe=i(1131),Te=i(120),Ce=i(600);const{FavoriteUnfillImage:xe,FavoriteFillImage:Ee,GreenTickImage:ye}=E.a,De=(e,t)=>{var i,a;return"INDIA"===(null===t||void 0===t||null===(i=t.country)||void 0===i?void 0:i.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var Ae=Object(ge.j)((e=>{var t,i,a,o,l;const{storeDistance:d="",addresses:c={},isOpen:r=!1,buttonData:m={},map:O={},storeName:h="",currentMarket:N,storeInfo:S={},channels:T=[],storeStatus:x={},onStoreSelectFinish:E,onClickMapHandler:D,isMapView:A,isMobile:_,isFavoriteStore:R,addToFavoriteHandler:L,removeFromFavoriteHandler:w,loggedIn:M,centerIndex:k,storeLength:F}=e,U=null===S||void 0===S||null===(t=S.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.message,{unavailibilities:H}=(null===S||void 0===S||null===(a=S.summary)||void 0===a||null===(o=a.timings)||void 0===o?void 0:o.scheduled)||{},{buttonText:W=""}=Object(s.sd)(null===m||void 0===m?void 0:m.scheduleOrderButtonData),{buttonText:B="",display:G=!1}=Object(s.sd)(null===m||void 0===m?void 0:m.orderNowButtonData),{userOrderState:z,userOrderStateDispatch:V}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:Y="",SEARCH_ORDER_DATA:q="",SELECTED_TILE_DATA:Q="",SCHEDULE_ORDER_TIME_DATA:K="",MENU_URL:J,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ie}=p.a,{mapText:ae=""}=O,oe=Object(ge.h)(),ne=T&&Object(C.g)(T),{services:le=[]}=Object(s.rd)(ne[0]),{operatingHours:de=[]}=null!==x&&void 0!==x&&null!==(l=x.timings)&&void 0!==l&&l.operatingHours?x.timings:[],ce=Object(C.c)(r,de,U,H),re=Object(b.b)(),se=Object(b.c)((e=>e.profileReducer)),ue=Object(b.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=z.dispositionStateData,{ScheduledDeliveryComponent:me={},showToastAfterLocalization:be=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:Oe}=me;let je=Object(b.c)((e=>e.appStateReducer.userStatus));const pe=Object(s.Sd)(z.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):z.dispositionNew,he=async(t,i)=>{var a,o,n,l,d,c,r,u,v;t.preventDefault(),t.stopPropagation(),Object(C.l)();const{futureDates:m,scheduled:b={},asap:O}=(null===i||void 0===i||null===(a=i.summary)||void 0===a?void 0:a.timings)||{},{interval:j=0,startEndTime:p={}}=Object(s.hb)(null===b||void 0===b||null===(o=b.periods)||void 0===o?void 0:o.length,b.periods[0]),{from:h,to:g}=p,{unavailibilities:I,unavailibilityType:N}=b;Object(Te.j)(h,g,j,null===O||void 0===O?void 0:O.isAvailable,1===m.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),I,N);let S={time:"ASAP",interval:null===(n=i.summary.timings.scheduled.periods[0])||void 0===n?void 0:n.interval,date:new Date,selectedTime:"ASAP"};if(null===pe||pe.type!==ve||pe.store.id!==i.id||pe.deliveryAddress!==(null===z||void 0===z||null===(l=z.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress)){let e=await Object(s.A)(i,Object(s.Mb)(ve),se.customerId,S);re(Object(Ne.m)("")),re(Object(Ne.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),V({type:X,value:{oldvalue:pe,newValue:{type:ve,store:i,date:S.date,time:S.time,interval:S.interval,selectedTime:S.selectedTime,deliveryAddress:null===z||void 0===z||null===(d=z.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(pe)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:i,date:S.date,time:S.time,selectedTime:S.selectedTime,interval:S.interval,deliveryAddress:null===z||void 0===z||null===(c=z.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),Object(s.vf)();const f={storeID:null===i||void 0===i?void 0:i.id,disposition:ve,postCode:null===i||void 0===i||null===(r=i.addresses[0])||void 0===r||null===(u=r.address)||void 0===u?void 0:u.pinCode};E(f),V({type:q,value:{showSearchStore:!1}}),V({type:Z,value:{isLocalized:!0}}),Object(s.ce)(null===oe||void 0===oe?void 0:oe.pathname)&&Object(Ce.a)(null===i||void 0===i||null===(v=i.summary)||void 0===v?void 0:v.name,ve,be),((t,i)=>{var a;let o=Object(s.ad)(t,t,null);V({type:Q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),V({type:$,value:o}),re(Object(Se.a)({...je,localized:!0})),V({type:K,value:{selectedDateTime:i}}),V({type:ee,value:{selectContentTime:"ASAP"}}),V({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder","ASAP");const n=localStorage.getItem(P.gd.SET_LOCATION),l=null===oe||void 0===oe?void 0:oe.pathname;!z.fromPdpPage&&!n&&e.history.push({pathname:"".concat(J),...!Object(s.ce)(l)&&{state:{toastData:{storeName:null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.name,service:ve,showToastAfterLocalization:be}}}})})(i,S)},Ie=(e,t)=>{var i,a,o;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),V({type:Z,value:{isLocalized:!0}}),V({type:Y,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),V({type:q,value:{showSearchStore:!1}});const{futureDates:n,scheduled:l={},asap:d}=(null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.timings)||{},{interval:c=0,startEndTime:r={}}=Object(s.hb)(null===l||void 0===l||null===(a=l.periods)||void 0===a?void 0:a.length,null===l||void 0===l||null===(o=l.periods)||void 0===o?void 0:o[0])||{},{from:u,to:v}=r,{unavailibilities:m,unavailibilityType:b}=l;Object(Te.j)(u,v,c,null===d||void 0===d?void 0:d.isAvailable,1===(null===n||void 0===n?void 0:n.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),m,b),Object(C.k)(),(e=>{let t=Object(s.ad)(e,e,null);V({type:Q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),V({type:$,value:t})})(t)},Ae=Object(fe.a)(S),_e=Object(y.jsxs)("div",{className:"store-card ".concat(Object(s.hb)(A,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(A&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(A&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:h})}),Object(y.jsx)("span",{className:"store-distance",children:De(d,ue)})]}),A&&Object(y.jsx)("span",{className:"store-index",children:"".concat(k+1," of ").concat(F)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(Re=le,!!Object(s.Td)(Re)&&Re.map(((e,t)=>{const{PICK_UP:i,TAKE_AWAY:a}=p.a;return Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:ye,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:e===i?Object(n.translateWithI18Next)(a):e})]},t)})))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(s.ac)(c)}),!A&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>D(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:ae})})]}),Object(y.jsxs)("div",{className:"info-timing ".concat(!r&&"info-timingClosed"),children:[r?"":Object(y.jsx)("span",{children:Object(n.translateWithI18Next)(ie)}),Object(y.jsx)("span",{className:"".concat(!r&&"list-circle"),children:ce})]}),Object(y.jsx)("div",{className:"facilities",children:Ae&&Ae.map((e=>Object(y.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?R&&Object(y.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Ee,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(y.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:xe,alt:"favorite",className:"favorite-img",onClick:()=>L()}):"",G&&r&&Object(y.jsx)(f.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(A&&!_?"cardMapView":null),onClickHandler:e=>he(e,S),children:B}),Oe&&Object(y.jsx)(f.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(s.hb)(A,!_)?"cardMapView":null),onClickHandler:e=>Ie(e,S),children:W})]})]});var Re;return N!==p.a.COUNTRY_CODE_INDIA||r?_e:null})),_e=i(12),Re=i(4);const{FavoriteUnfillImage:Pe,FavoriteFillImage:Le,GreenTickImage:we}=E.a,{BROWSE_MENU:Me,PICK_UP:ke,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:Ue,STORE_STATUS_CLOSED:He,INDIA:We}=p.a,Be=e=>e===ke?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var ze=Object(ge.j)((e=>{var t,i,a,o,l,d,c,r,m,O,p,h;const{key:N="",storeName:S="",storeDistance:T="",orderTypes:E=[],addresses:D={},storeStatus:A={},onClickMapHandler:_,isMapView:R,isMobile:L,isFavoriteStore:w,addToFavoriteHandler:M,removeFromFavoriteHandler:k,map:F,loggedIn:U,storeInfo:H={},centerIndex:W,storeLength:B,onStoreSelectFinish:G}=e,z=((e,t)=>{var i,a,o,n,l;if((null===e||void 0===e||null===(i=e.timings)||void 0===i||null===(a=i.operatingHours[0])||void 0===a?void 0:a.day)===P.cc)return null===(o=e.timings)||void 0===o||null===(n=o.operatingHours[0])||void 0===n||null===(l=n.availableHours)||void 0===l?void 0:l.from;{var d;const i=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,a=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let o=0,n=[],l=[];var c,r,u,v;return null===i||void 0===i||i.forEach(((e,t)=>{var i;(null===e||void 0===e||null===(i=e.day)||void 0===i?void 0:i.toLowerCase())===a&&(o=t,l.push(e))})),null!==l&&void 0!==l&&l.length&&(null===l||void 0===l||l.forEach((t=>{var i;const a=Object(s.E)(null===e||void 0===e?void 0:e.timeZone,P.sb.HHmm);Object(s.lf)(null===t||void 0===t||null===(i=t.availableHours)||void 0===i?void 0:i.from)>a&&n.push(t)}))),null!==n&&void 0!==n&&n.length?null===(c=n[0])||void 0===c||null===(r=c.availableHours)||void 0===r?void 0:r.from:null===(u=i[o<(null===i||void 0===i?void 0:i.length)-1?o+1:o])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(A,P.Rf),V=z,Y=null===A||void 0===A||null===(t=A.timings)||void 0===t||null===(i=t.scheduled)||void 0===i?void 0:i.unavailibilities,q=null===A||void 0===A||null===(a=A.status)||void 0===a?void 0:a.message,{mapText:Q=""}=Object(s.sd)(F),{MENU_URL:K,SEARCH_ORDER_DATA:J,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ie,userOrderStateDispatch:ae}=Object(v.useContext)(u.a);let oe=Object(b.c)((e=>e.appStateReducer.userStatus));const ne=Object(b.c)((e=>e.tenantReducer)),le=Object(b.b)(),{futureDates:de,scheduled:ce,asap:re}=Object(s.sd)(null===H||void 0===H||null===(o=H.summary)||void 0===o?void 0:o.timings),{unavailibilities:se,unavailibilityType:ue}=Object(s.sd)(ce),{interval:ve=0,startEndTime:me={}}=Object(s.sd)((null===ce||void 0===ce||null===(l=ce.periods)||void 0===l?void 0:l.length)&&(null===ce||void 0===ce?void 0:ce.periods[0])),{from:be,to:Oe}=Object(s.sd)(me),{dispositionType:je=localStorage.getItem("dispositionType")}=ie.dispositionStateData,pe=Object(s.Sd)(ie.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ie.dispositionNew,he=()=>{var e;return Object(Te.j)(be,Oe,ve,null===re||void 0===re?void 0:re.isAvailable,1===de.length&&(null===ne||void 0===ne||null===(e=ne.country)||void 0===e?void 0:e.toUpperCase())===We,se,ue)},ge=(e,t)=>{var i,a,o,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ae({type:$,value:{isLocalized:!0}}),ae({type:J,value:{showSearchStore:!1}}),ae({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:l,scheduled:d,asap:c}=null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.timings,{interval:r=0,startEndTime:s={}}=(null===d||void 0===d||null===(a=d.periods)||void 0===a?void 0:a.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=s;Object(Te.j)(u,v,r,null===c||void 0===c?void 0:c.isAvailable,1===l.length&&"INDIA"===(null===ne||void 0===ne?void 0:ne.country),se,ue),Object(C.k)(),(e=>{let t=e||null;ae({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ae({type:X,value:t})})(t);const m={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(o=t.addresses[0])||void 0===o||null===(n=o.address)||void 0===n?void 0:n.pinCode};G(m)},Ie=e=>he().length?"Today":"Tomorrow",Ne=Object(fe.a)(H);return Object(y.jsxs)("div",{className:"store-card ".concat(R&&!L?"store-card-map-view":"store-card-mobile-view"),style:Ge(R,L),"data-testid":"closed-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:S})}),Object(y.jsx)("span",{className:"store-distance",children:De(T,ne)})]}),R&&Object(y.jsx)("span",{className:"store-index",children:"".concat(W+1," of ").concat(B)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(Ce=E,Ce.map(((e,t)=>Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:we,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:Be(e)})]},t))))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(s.ac)(D)}),!R&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:Q})})]}),Object(y.jsx)("div",{className:"info-timingClosed",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(s.jb)((null===(d=A.status)||void 0===d?void 0:d.currentStatus)===Ue,0===(null===A||void 0===A||null===(c=A.timings)||void 0===c||null===(r=c.scheduled)||void 0===r||null===(m=r.periods)||void 0===m?void 0:m.length))?Object(y.jsx)("span",{className:"closed-text",children:He}):""}),Object(y.jsx)("li",{children:(null===Y||void 0===Y?void 0:Y.length)>0&&Object(_e.S)(null===(O=Y[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(_e.S)(Oe,"HH MM","HH:MM")?(()=>{var e,t,i,a,o,n;return q===P.Hc?"Open Today ".concat((null===(e=Y[0])||void 0===e?void 0:e.from)&&Object(_e.S)(null===(t=Y[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):q===P.Ic?"Open ".concat(Ie(null===(i=A.timings)||void 0===i||null===(a=i.scheduled)||void 0===a||a.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a")):"Open Today ".concat((null===(o=Y[0])||void 0===o?void 0:o.to)&&Object(_e.S)(null===(n=Y[0])||void 0===n?void 0:n.to,"hh mm","hh:mm a"))})():"Open ".concat(Ie(null===(p=A.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(V&&Object(_e.S)(V,"hh mm","hh:mm a"))})]})}),Object(y.jsx)("div",{className:"facilities",children:Ne&&Ne.map((e=>Object(y.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2",children:[U&&(w?Object(y.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>k()}):Object(y.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Pe,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===he().length?Object(y.jsx)(f.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,i;const a={storeID:null===H||void 0===H?void 0:H.id,disposition:null===H||void 0===H?void 0:H.service,postCode:null===H||void 0===H||null===(t=H.addresses[0])||void 0===t||null===(i=t.address)||void 0===i?void 0:i.pinCode};Object(x.y)(a),Object(s.wf)(H,ae,pe,je),le(Object(Se.a)({...oe,localized:!0})),Object(s.vf)(),ae({type:Z,value:{showDisposition:!1}}),ae({type:J,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(K)})},children:Object(n.translateWithI18Next)(Me)}):Object(y.jsx)(f.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,H),children:Object(n.translateWithI18Next)(Re.a.SCHEDULE_ORDER_BTN)})]})]})]},N);var Ce})),Ve=i(417),Ye=i(63);const{Error:qe,LocationImage:Qe,MapImage:Ke,Union:Je,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=E.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",it=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",at=e=>{var t,i,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.menu)||void 0===i||null===(a=i.catalogs)||void 0===a?void 0:a.length)>0},ot=e=>e?Je:Ke,nt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var lt=Object(ge.j)((e=>{var t;const{formContent:i={},storeData:a=[],eligibleStoreData:o=[],favoriteStoreData:l=[],userPositionHandler:c,singInClickhandler:O,currentMarket:E,storeCardLimit:D=1/0,onStoreSelectFinish:A,handleGoBack:_,noStoresList:L,favoriteStoreHandler:w}=e,{memberText:k="",singInLink:F={},currentLocationText:U="",addressBoxPlaceHolderForSearchStore:H="",mapText:W=""}=i,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:z,ALREADY_SERACHED_LOCATIONS:V,COUNTRY_CODE:Y,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:Q,BRAND_BLACK:K,STORE_STATUS_OPEN:J,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ie,CTA2_ORDER_TAKEAWAY:ae,TAKEAWAY_UNAVAILABLE_WITH_CTA:oe,DINE_IN_SERVICE:ne,DINE_IN:le,TYPE_DELIVERY:de,TAKE_AWAY:ce}=p.a,{DISPOSITION_METHOD:re}=j.a,{MENU_URL:se,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:me,DISPOSITION_DATA:be,INDIA:Oe}=j.a,{userOrderState:je}=m.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Ne=localStorage.getItem("dispositionType")}=he,[Se,fe]=m.a.useState(""),[Ce,xe]=Object(v.useState)({}),[Ee,ye]=Object(v.useState)({}),[De,_e]=Object(v.useState)(!1),[Re,Pe]=Object(v.useState)(!1),[Le,we]=m.a.useState([]),[Me,ke]=m.a.useState(!1),[Fe,Ue]=Object(v.useState)(null),[He,We]=Object(v.useState)(Object(s.de)(window.innerWidth));let Be=0;const[Ge,Ke]=Object(v.useState)(0),[Je,tt]=Object(v.useState)(""),[lt,rt]=m.a.useState(!1),[st,ut]=m.a.useState([]),[vt,mt]=m.a.useState([]),{userOrderStateDispatch:bt}=Object(v.useContext)(u.a);let Ot,jt=0;const pt=Object(b.b)(),ht=Object(b.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:It=!1}}},postalcodeRemoveRegex:Nt=null,specialCharRemoveRegex:St=null}=ht||{};let ft=0;const[Tt,Ct]=m.a.useState(!1),xt=Object(b.c)((e=>e.appStateReducer)),{isLoading:Et}=Object(b.c)((e=>Object(s.sd)(e.LoaderReducer))),{userStatus:yt={}}=xt,{loggedIn:Dt=!1}=yt,[At,_t]=m.a.useState([]),[Rt,Pt]=m.a.useState(!0),{customerId:Lt}=Ye.a.getInstance(),[wt,Mt]=Object(v.useState)(325),[kt,Ft]=Object(v.useState)(!1),Ut=()=>{const e=Object(s.de)(window.innerWidth);We(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)})),[He]),Object(v.useEffect)((()=>(window.addEventListener("keydown",nt),()=>{window.removeEventListener("keydown",nt)})));const Ht=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ht&&wt!==Ht&&Mt(Ht)}),[Ht]);const Wt=async e=>{const t=await Object(N.geocodeByAddress)(e),i=await Object(N.getLatLng)(t[0]);xe(i),ye(i),Be=0,zt(e),fe(e),c({userLat:i.lat,userLong:i.lng}),ke(!1);const a=Boolean(Object(s.hb)(Object(s.qd)(Se,e),Object(s.hb)(0===Be,0===jt)));rt(a)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),bt({type:me,value:null}),bt({type:be,value:{showDisposition:!1}}),bt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(se)})},Gt=(e,t,i)=>Object(y.jsx)("div",{className:"store-card",children:Ne.toUpperCase()===Z?Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(f.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Yt,children:Object(n.translateWithI18Next)(i)})]}):Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(f.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Yt,children:Object(n.translateWithI18Next)(i)}),Object(y.jsx)(f.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),bt({type:re,value:{dispositionType:ce}}),Wt(Se)})(e),children:Object(n.translateWithI18Next)(ae)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");fe(e),Wt(e)}}else Wt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Se){let e=o.filter(at);if(e.length>0){let t=e.filter((e=>{var t,i,a,o,n,l;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===J&&(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)>0}));if(t.length>=D){let e=t.slice(0,D);we(e)}else if(t.length<D){let i=D-t.length,a=e.filter((e=>{var t,i,a,o,n,l;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})).slice(0,i),o=t.concat(a);we(o)}}else Be=0,we([])}else we([]),_t([]),ut([]),rt(!1)}),[o,Se]),Object(v.useEffect)((()=>{if(o.length>0){w({userLat:Ee.lat,userLong:Ee.lng});const e=l.sort(((e,t)=>Object(C.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,i;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus}));_t(t)}}),[o,l.length]),Object(v.useEffect)((()=>{if(Me){const e=It?ve(Je,Nt,St):Je;fe(e),zt(Je),ke(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Se&&(we([]),ut([]),Ue(""),_t([]));let e=Object(s.d)(Se,B);Ft(e)}),[pe,Se,Me,Je]);const zt=e=>{Object(s.ze)(e,V)},Vt=e=>{return t=e,Object(s.rd)(JSON.parse(localStorage.getItem(V))).includes(t);var t},Yt=()=>{fe(""),_t([]),we([]),ut([]),rt(!1),Ue(""),_e(!1)},qt=Object(v.useCallback)((async()=>{const e=await Promise.all(Le.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));xe(e)}),[Le]),Qt=Object(v.useCallback)((async()=>{const e=await Promise.all(At.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));xe(e)}),[At]),Kt=()=>{Object(C.i)(De,Ne),_e(!De),Pe(!De)},Jt=(e,t)=>{Ue(e),Ke(t)},Xt=()=>{qt(),Pe(!0),Ue(Object(s.sd)(Le[Ge]))},Zt=async()=>{await Qt(),Pe(!0),Ue(Object(s.sd)(At[Ge]))};Object(v.useEffect)((()=>{((e,t,i,a)=>{let{TYPE_TAKE_WAY:o,DINE_IN:n,dispositionType:l,callSelectedStore:d,callSelectedFavStore:c}=a;e?t.length&&[o,n].indexOf(l.toUpperCase())>-1&&d():i.length&&[o,n].indexOf(l.toUpperCase())>-1&&c()})(Rt,Le,At,{TYPE_TAKE_WAY:Z,DINE_IN:le,dispositionType:Ne,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=Le.filter((e=>{var t,i,a,o,n,l;return(null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i?void 0:i.currentStatus)===$||0===(null===(a=e.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})),t=Le.filter((e=>{var t,i,a,o,n,l,d,c,r;const s="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(i=t.status)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:m,scheduled:b,asap:O}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=b,{interval:h=0,startEndTime:g={}}=b&&(null===b||void 0===b||null===(c=b.periods)||void 0===c?void 0:c.length)&&(null===b||void 0===b?void 0:b.periods[0]),{from:I,to:N}=g,S=Object(Te.j)(I,N,h,null===O||void 0===O?void 0:O.isAvailable,1===m.length&&(null===ht||void 0===ht||null===(r=ht.country)||void 0===r?void 0:r.toUpperCase())===Oe,j,p);return(!S||0===S.length)&&s&&(u||v)}));ut(e),mt(t)}),[Le,Ge,Fe,L,le,$,Z,Ne,qt,Rt,At]);const $t=e=>{Ue("");let t=e?Ge+1:Ge-1;Ke(t),((e,t,i,a,o)=>{t(!0===e?Object(s.sd)(i[o]):null===a||void 0===a?void 0:a[o])})(Rt,Ue,Le,At,t)},ei=e=>{Pt(e)},ti=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},ii=e=>{ti(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Lt,dispatch:"dispatch"})),Ct(!0)},ai=e=>{ti(),pt(Object(d.x)({tenantId:gt,customerId:Lt,storeId:Object(s.sd)(e.id),dispatch:"dispatch"})),Ct(!1)};Object(v.useEffect)((()=>{Tt&&Ie.b.dark(Object(y.jsxs)("div",{className:"img-text-div",children:[Object(y.jsx)(I.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ie.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[l.length]),Object(v.useEffect)((()=>{0!==Be||0!==jt||!lt||L||Et||(Ne.toUpperCase()===Z?Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(oe)):Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(ie)))}),[Be,jt,lt,L,Et]);const oi=(e,t)=>{var i,o,n,l;const d=(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)===J,c=e.availableServicesPerChannel&&Object(C.g)(e.availableServicesPerChannel),{services:r=[]}=c[0],u="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(m.a.Fragment,{children:d?Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:E,isOpen:d,isMapView:!0,onStoreSelectFinish:A,isMobile:He,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},t):Object(y.jsx)(ze,{orderTypes:r,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.qd)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:A,isMobile:He,isMapView:!0,storeInfo:e,mapText:W,onClick:()=>{Kt(),qt()},...a[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},u)})},ni=At.map(((e,t)=>{var i,o,n,l;if((null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o?void 0:o.currentStatus)===J){var d,c;const i=(null===(d=e.summary)||void 0===d||null===(c=d.status)||void 0===c?void 0:c.currentStatus)===J;return i&&ft++,Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:E,isOpen:i,onStoreSelectFinish:A,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Kt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)}},t)})}if((null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)===$){ft++;const i=e.availableServicesPerChannel&&Object(C.g)(e.availableServicesPerChannel),{services:o=[]}=i[0],n="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(ze,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance.value),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Kt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)},onStoreSelectFinish:A,storeInfo:e,...a[0]},n)})}})),li=Le.map(((e,t)=>{var i,o,n,d;if(Se||we([]),Be>=D||0===(null===(i=e.summary)||void 0===i||null===(o=i.timings)||void 0===o||null===(n=o.scheduled)||void 0===n||null===(d=n.periods)||void 0===d?void 0:d.length))return null;{var c,r;const i=(null===(c=e.summary)||void 0===c||null===(r=c.status)||void 0===r?void 0:r.currentStatus)===J;return i&&Be++,Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...a[0],storeInfo:e,currentMarket:E,isOpen:i,onStoreSelectFinish:A,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,t),Kt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)}},t)})}})),di=()=>{let e=-1!==Ne.toLowerCase().indexOf("dine")?ne:Ne;if(Ot=Object(C.a)(e,o),Ot)return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(R,{errorMsgToShow:Ot,onClearTextHandler:Yt,dispositionType:Ne,handleGoBack:_})})},ci=()=>{if(Le.length===vt.length&&vt.length>0){let e=-1!==Ne.toLowerCase().indexOf("dine")?ne:Ne,t=Object(C.a)(e,o);return Object(s.Ob)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(t)),di()}if(Le.length===st.length&&st.length)return ri;{let e=-1!==Ne.toLowerCase().indexOf("dine")?ne:Ne;return Le.length&&(Ot=Object(C.a)(e,Le),Ot)?di():(Be<5&&li.push(ri),li)}},ri=st.map(((e,t)=>{const i=e.availableServicesPerChannel&&Object(C.g)(e.availableServicesPerChannel),{services:o=[]}=Object(s.rd)(i[0]);if(Se||we([]),jt>=D-Be)return null;{jt++;const i="".concat(e.name[0].value,"_").concat(t),n=Le.findIndex((t=>t.id===e.id));return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(ze,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Jt(e,n),Kt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{ii(e)},removeFromFavoriteHandler:()=>{ai(e)},onStoreSelectFinish:A,storeInfo:e,...a[0]},i)})}})),si=()=>{switch(Ne.split("-").join(" ").toUpperCase()){case Z:return Object(n.translateWithI18Next)(oe);case le:return Object(n.translateWithI18Next)(ie);default:return null}},ui=()=>{Ke(0),Kt(),((e,t,i)=>{!0===e?t():i()})(Rt,qt,Qt)};return Object(y.jsxs)(m.a.Fragment,{children:[Object(y.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"store-count",children:[Object(y.jsx)("span",{className:"member-signin",children:!Dt&&Object(y.jsxs)("div",{"data-id":P.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(n.translateWithI18Next)(k),Object(y.jsx)("span",{onClick:O,children:Object(y.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(n.translateWithI18Next)(F.linkText)})})]})}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(x.o)(),await r.b.BindLocation(),Object(C.m)(),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),Be=0,xe({lat:e,lng:t}),_e(!1),c({userLat:e,userLong:t}),rt(!0),fe(r.b.address),tt(r.b.address),ke(!0)}Object(M.s)(bt,!r.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(y.jsx)(I.a,{"data-testid":"",srcFile:Qe,alt:"location",className:"location-img"}),Object(n.translateWithI18Next)(U)]})})]}),Object(y.jsx)("div",{className:"search-address",children:Object(y.jsx)("div",{className:"input-address",children:Object(y.jsx)(S.a,{"data-testid":"handle-select",value:Se,onChange:e=>{e||Yt(),fe(e),Object(s.pc)(e)<3&&Ft(!1)},onSelect:Wt,searchOptions:{componentRestrictions:{country:Y}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:a,loading:o}=e;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"".concat(Ot||0===Be&&0===jt&&lt&&L&&!Le.length?"search-container-data error-border":"search-container-data"),children:[Object(y.jsx)(I.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(n.translateWithI18Next)(H)})}),Se&&Object(y.jsx)("img",{"data-testid":"clear-text-icon",src:Ve.a,className:"clearTextIcon",onClick:()=>Yt(),alt:"Clear Text Icon"})]}),!!Object(s.hb)(Object(s.pc)(i),kt)&&Object(y.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map(((e,t)=>{var i;if(null!==e&&void 0!==e&&null!==(i=e.types)&&void 0!==i&&i.some((e=>z.includes(e)))){const i=e.active?{backgroundColor:q,opacity:Q}:{backgroundColor:K};return Object(y.jsxs)(m.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(n.translateWithI18Next)(G)}),Object(y.jsx)("div",{style:i,children:Object(y.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...a(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment",children:[Object(y.jsx)("div",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:Vt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(y.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(Se,De,X,Kt,qt),Object(y.jsxs)("form",{className:"form",children:[Object(y.jsxs)("div",{className:"store-count",children:[!!Be&&Object(y.jsx)("span",{"data-testid":"tab-open-store",className:it(Dt,Rt),onClick:()=>{Ke(0),ei(!0)},children:Dt?Object(y.jsxs)("span",{children:[" ","".concat(Object(n.translateWithI18Next)("nearYou"))," (",Be+jt,")"]}):Object(y.jsxs)("span",{children:[Be+jt," ","".concat(Object(n.translateWithI18Next)("nearYou"))]})}),!!jt&&Le.length===st.length&&Le.length!==vt.length&&Object(y.jsx)("span",{"data-testid":"tab-closed-store",className:it(Dt,Rt),onClick:()=>{Ke(0),ei(!0)},children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Be&&0===jt&&lt&&L&&Object(y.jsx)("span",{className:"store-count-title",children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(Be,")")}),ct(Be,jt,Dt,ft,{firstTab:Rt,setCenterIndex:Ke,handleTabChange:ei}),(!!Be||!!jt)&&Le.length!==vt.length&&Object(y.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ui()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(X):W]})}),0===Be&&0===jt&&lt&&L&&Object(y.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ui()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:ot(De),alt:"map",className:"map-img"})}),De?Object(n.translateWithI18Next)(X):Object(n.translateWithI18Next)(W)]})})]}),De?Object(y.jsx)("div",{className:"order-button-section",children:0===Be&&0===jt&&lt&&L&&Object(y.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:si()}),Object(y.jsx)(f.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(n.translateWithI18Next)(ee)})]})})}):Object(y.jsxs)(y.Fragment,{children:[Object(s.hb)(!Et,Object(s.hb)(Rt,0!==Be||0!==jt||!lt||L||Le.length?ci():Gt(si,Bt,te))),Dt&&!Rt&&Object(y.jsx)("div",{className:"order-button-section",children:ni})]}),Object(y.jsx)("div",{className:"clearfix"})]})]}),De&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"".concat((null===Ne||void 0===Ne?void 0:Ne.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T.a,{latLongValue:Ce,loadingElement:Object(y.jsx)("div",{style:{height:"100%"}}),containerElement:Object(y.jsx)("div",{style:{height:"400px"}}),mapElement:Object(y.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{fe(e)},isVisible:Ne.toUpperCase()===Z||Ne.toUpperCase()===le,isMobile:He,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:Pe,setStoreMarker:Object(s.ad)(Rt,(e=>{const t=Le.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Xt(),Ke(t))}),(e=>{((e,t,i,a,o)=>{const n=e.findIndex((e=>e.location.latitude===a.lat()&&e.location.longitude===a.lng()));n>-1&&(o===n&&t(),i(n))})(At,Zt,Ke,e,Ge)})),storeCardHeight:wt}),Re&&Fe&&He?!Ot&&oi(Fe,"Selected-Card"):null]}),Re&&Fe&&!He?Object(s.hb)(Le.length===st.length,Rt)&&!Ot&&((e,t)=>{const i=e.availableServicesPerChannel&&Object(C.g)(e.availableServicesPerChannel),{services:o=[]}=Object(s.rd)(i[0]),n="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(m.a.Fragment,{children:Object(y.jsx)(ze,{storeName:Object(s.ud)(e.name[0].value),storeDistance:Object(s.ud)(e.distance),orderTypes:o,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,isMapView:!0,onStoreSelectFinish:A,onClick:()=>{Kt(),qt()},storeInfo:e,...a[0],centerIndex:Ge,storeLength:Object(s.ad)(Rt,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},n)})})(Fe,"Selected-Card")||oi(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,i,a,o){return Object(y.jsx)(y.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(y.jsxs)("div",{className:"enter-your-address-section",children:[Object(y.jsx)("span",{className:"search-store-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsx)("div",{"data-testid":"show-list-map",className:Object(s.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&a(),o()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(I.a,{"data-testid":"",srcFile:ot(t),alt:"map",className:"map-img"})}),Object(s.ad)(t,Object(n.translateWithI18Next)(i),Object(n.translateWithI18Next)("map"))]})})]})})}function ct(e,t,i,a,o){let{firstTab:l,setCenterIndex:d,handleTabChange:c}=o;return Object(y.jsx)(y.Fragment,{children:(!!e||!!t)&&i&&Object(y.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(l),onClick:()=>{d(0),c(!1)},children:"".concat(Object(n.translateWithI18Next)("savedkfc")," (").concat(a,")")})})}var rt=i(1154),st=i(86),ut=i(1117),vt=i(133);const mt=e=>{var t;const{contentData:i={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:I,ANALYTICS_LOCALISATION_SIGNIN:N}=j.a,S=Object(b.b)(),{COUNTRY_CODE:f,STORE_CARD_LIMIT:T,TYPE_TAKE_WAY:x,PICK_UP:D,TENANT_ID:A,TENATNT_SESSION_ID:_,TYPE_DELIVERY:R}=p.a,{userOrderState:L,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:k,searchStoreData:F,showLocationConfirmModal:U}=L,{dispositionType:H=localStorage.getItem("dispositionType")}=Object(s.ud)(k),{currentMarket:W=f,storeCardLimit:B=T,storeStatusUrl:G="".concat(Object(o.a)(a.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:z=A,tenantSessionID:V=_}=F,{searchStoreHeaderText:Y="",deliveryHeaderText:q="",searchStoreModalContent:Q={}}=i,{formContent:K={},locationsContent:{storeData:J=[]}}=Q,[X,Z]=m.a.useState([]),[$,ee]=m.a.useState({}),[te,ie]=m.a.useState([]),[ae,oe]=m.a.useState([]),{storeSearch:ne={},tenantId:le,componentOptions:de}=Object(b.c)((e=>Object(s.sd)(e.tenantReducer))),{storesWithStatus:ce=[],isStoreStatusLoading:re=!1}=Object(b.c)((e=>Object(s.sd)(e.storesReducer))),{allStores:se=[]}=Object(b.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:be,maxPickupDistanceMtrs:Oe,geohashprecision:je,boundingBoxSizeMeters:pe,isDriveTimeFromAdminPortal:ge}=ne,Ie=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:I,value:{showDisposition:!1}}),w({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ie(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ne=e=>{e.stopPropagation(),e.preventDefault(),w({type:I,value:{showDisposition:!0}}),w({type:g,value:{showSearchStore:!1}})},Se=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(N,JSON.stringify(!0)),Object(C.j)(),setTimeout((()=>{Object(st.c)()}),500)},fe=Object(b.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(w,U)}),[]),Object(v.useEffect)((()=>{Te({userLat:$.userLat,userLong:$.userLong})}),[fe.length]),Object(v.useEffect)((()=>{se.length>0&&De(se)}),[se]),Object(v.useEffect)((()=>{ce.length>0&&we(ce)}),[ce]),Object(v.useEffect)((()=>{(null===H||void 0===H?void 0:H.toUpperCase())===R&&Ae(ae)}),[ae]);const Te=e=>{Object(rt.a)(e.userLat,e.userLong,fe,Ce)},Ce=(e,t)=>{const i=Object(s.ad)((null===H||void 0===H?void 0:H.toUpperCase())===x,D,H),a=G.replace("{channel}",r.b.channel).replace("{service}",i).replace(" ","-"),o=Object(O.a)();Object(C.h)(e,a.toLowerCase(),z,V||Object(O.a)(),o,xe)},xe=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:i,amenities:a,dname:o,id:n,location:l}=e.storeBasic;return{...e,id:n,location:l,name:o,amenities:a,addresses:i,additionalAttributes:t,storeBasic:{}}}));ie(t)},Ee=e=>{S(Object(l.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),ye(e.userLat,e.userLong),setTimeout((()=>{S(Object(l.a)())}),2e3)},ye=(e,t)=>{const i={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},a=c.a.calculateGH(i);S(Object(d.v)(null===a||void 0===a?void 0:a.length))},De=e=>{const t=Object(s.Mb)(H.toUpperCase()),i=e.filter((e=>{var t,i;return Object(s.qe)(e.id)&&Object(s.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(s.qe)(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)})),a={stores:i,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(s.ad)(H.toUpperCase()===R,be,Oe),noOfStores:Object(s.ad)(H.toUpperCase()===R,2,i.length),channel:r.b.channel},o=c.a.checkAndProceed(a);oe(o),H.toUpperCase()===R?Ae(o):Le(o,t)},Ae=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var i,a;t.push({lat:null===(i=e.location)||void 0===i?void 0:i.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),Object(rt.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:i}=e;const a=Object(s.Mb)(H.toUpperCase()),o={stores:Pe(t,ae),numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},n=c.a.getSortedNearbyStores(o);(null===n||void 0===n?void 0:n.length)>0&&Le(n,a)},Pe=(e,t)=>null===t||void 0===t?void 0:t.map(((t,i)=>({...t,distance:e[i]}))),Le=(e,t)=>{const i={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:r.b.channel,service:t}))),store:e,tenantId:le,setStatusFlag:!1,isFavoritePage:!1};S(Object(d.d)(i,null))},we=e=>{let t=e.filter((e=>{var t,i,a,o,n,l,d,c,r,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const i=Object(s.Mb)(H.toUpperCase());if(ge&&H.toUpperCase()===R){const e={stores:t,numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:r.b.channel,isDriveTimeFromAdminPortal:ge},a=c.a.getSortedNearbyStores(e);t=(null===a||void 0===a?void 0:a.length)>0?a:[]}Z(t)},Me=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:ke}=P.gd,{configSearchScreen:Fe=localStorage.getItem(ke)}=F,Ue="".concat(null===H||void 0===H?void 0:H.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:He}={...null===vt.d||void 0===vt.d?void 0:vt.d[Ue],...null===Me||void 0===Me?void 0:Me[Ue]},{Error_Yellow:We}=E.a||{},{LOCATION_BLOCKED_ERROR:Be,KFC_URL:Ge}=Re.a,ze=Object(s.Je)(U,He),Ve=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ut.a,{show:ze,errorMsg:Object(M.G)(Be,Ge),errImage:We,cssClass:"location-blocked"}),(null===H||void 0===H?void 0:H.toUpperCase())===R?Object(y.jsx)(me,{singInClickhandler:Se,formContent:K,storeData:J,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W}):Object(y.jsx)(lt,{singInClickhandler:Se,formContent:K,storeData:J,eligibleStoreData:X,noStoresList:re,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W,onStoreSelectFinish:h,handleGoBack:Ne,favoriteStoreData:te,favoriteStoreHandler:Te})]});return Object(y.jsx)(he,{handleClose:Ie,orderModeTypeItem:Ve,showLocationError:ze,headerText:Object(s.ad)((null===H||void 0===H?void 0:H.toUpperCase())===R,Object(n.translateWithI18Next)(q),Object(n.translateWithI18Next)(Y)),handleGoBack:Ne,modalTitleId:"search-store"})};mt.defaultProps=h.a;t.default=mt},964:function(e,t,i){"use strict";i.r(t),i.d(t,"ScheduleOrder",(function(){return m}));var a=i(3),o=i.n(a),n=i(1143),l=i(144),d=i(2);var c=e=>{const{handleClose:t,ScheduleOrderForm:i,headerText:a,modalTitleId:n="",handleGoBack:c}=e;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)(l.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:c,children:i})})},r=i(85),s=i(16),u=i(6),v=i(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:i,userOrderStateDispatch:o}=Object(a.useContext)(r.a),{SEARCH_ORDER_DATA:l,SCHEDULE_ORDER_DATA:m}=s.a,{scheduleOrderData:b}=i,{changeFlow:O=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),o({type:m,value:{selectedStoreInfo:i.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),o({type:l,value:{showSearchStore:!1}})};Object(a.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(n.a,{onStoreSelectFinish:t});return Object(d.jsx)(c,{handleGoBack:()=>{o({type:l,value:{showSearchStore:!0}}),o({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:O?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},966:function(e,t,i){"use strict";i.r(t),i.d(t,"getCaloriesPriceTemplate",(function(){return g}));var a=i(3),o=i(85),n=i(15),l=i(46),d=i(41),c=i(61),r=i(1106),s=i(5),u=(i(1095),i(1128)),v=i(0),m=i(6),b=i(262),O=i(264),j=i(967),p=i(4),h=i(2);const g=e=>{const{calories:t,kilojoule:i,price:a,currencySymbol:o,toRenderCheckBox:n,modgrpMax:l,pricewithNumberofDecimalDigit:d}=e,c=((e,t,i,a)=>{let o=Object(s.ad)(e<0,"-".concat(t).concat(Math.abs(e).toFixed(a)," "),"+".concat(t).concat(Math.abs(e).toFixed(a)," "));return 0!==Number(e)?Object(s.ad)(i,o,"+".concat(t).concat(Math.abs(e).toFixed(a))):Object(s.ad)(i,"",Object(m.translateWithI18Next)(v.qc))})(a,o,!(!n||n&&l>1),d),r=void 0!==a&&Object(h.jsx)("span",{className:"caloricInfo",children:c}),u=Object(h.jsx)("span",{className:"caloricInfo calorificWithPrice",children:" ".concat(t," ").concat(i)}),b=Object(h.jsx)("span",{className:"caloricInfo",children:" ".concat(t," ").concat(i)}),O=t?((e,t)=>Object(s.hb)(void 0!==e,Object(s.pc)(t)>0))(a,c)&&u||b:Object(h.jsx)(h.Fragment,{});return Object(h.jsxs)("div",{children:[r,O]})};t.default=e=>{var t,i,v,I;const{onSaveProduct:N,imageContainerSize:S,defaultImagePath:f,selectedProduct:T,price:C,isMobile:x,cardData:E,modgrpData:y,kilojoule:D,isStoreClosed:A,customizeClickHandler:_,localized:R,showButton:P,currencySymbol:L,updateItemQuantity:w,itemCount:M,isModgrpMax:k,toRenderCheckBox:F,toRenderQuantityModifier:U,dispositionType:H,handleCateringModifierQuantity:W,itemCountShouldAtModifierLevel:B,savedCustomizedModifier:G,tenantData:z}=e,V=null===z||void 0===z||null===(t=z.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(v=i.global)||void 0===v?void 0:v.pricewithNumberofDecimalDigit,{Selection_Customize:Y}=n.a,{modgrpId:q,max:Q,comboL2:K=!1,modifierLength:J}=y,{id:X,dname:Z,isHidden:$,content:ee,modgrps:te,isExcluded:ie,defaultQuantity:ae}=E,oe=Object(s.pc)(Z)&&(null===(I=Z[0])||void 0===I?void 0:I.value),ne=null===ee||void 0===ee?void 0:ee.caloricValue,{userOrderState:le}=Object(a.useContext)(o.a),{pdpPayloadData:de}=le,{ITEM_QUANTITY:ce}=r.a,{PEROPTIONMAX_KEY:re,PEROPTIONMIN_KEY:se}=b.a,{QUANTITY_ACTION:ue}=c.a,ve=Q>1?n.a.Multiselect_Check_Icon:n.a.Check_Icon,me=Q>1?n.a.Multiselect_Uncheck_Icon:n.a.Selection_Checkbox_off,be=Object(s.qc)(ee,S,S),Oe=Object(s.j)([Object(s.Hd)(H),1===J,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("picture",{className:"sopac-modifier-card-tick",children:[Object(h.jsx)("source",{media:"(max-width: 1023px)",srcSet:T&&!ie&&ve||me,alt:T&&!ie?"checked":""}),Object(h.jsx)("img",{src:T&&!ie&&ve||me,alt:T?"checked":""})]}),je=be?Object(h.jsx)(l.a,{defaultPath:f,srcFile:be,className:"sopac-modifier-card-image"}):Object(h.jsx)(h.Fragment,{}),pe=()=>{const e=g({comboL2:K,calories:ne,kilojoule:D,price:C,currencySymbol:L,toRenderCheckBox:F,modgrpMax:Q,pricewithNumberofDecimalDigit:V});return Object(h.jsxs)("div",{className:"sopac-modifier-card-name",tabIndex:"0",children:[Object(h.jsx)("div",{className:"title",children:oe}),ie?he():e]})},he=()=>Object(h.jsxs)("div",{className:"unavailable-container",children:[Object(h.jsx)(O.a,{src:n.a.TimerIcon,className:"unavailable-icon"}),Object(h.jsx)("div",{className:"unavailable-text",children:Object(m.translateWithI18Next)(null===p.a||void 0===p.a?void 0:p.a.CURRENTLY_UNAVAILABLE)})]}),ge=Object(s.ad)(B,Object(s.pd)(null===E||void 0===E?void 0:E.additionalProperties,re),Object(s.pd)(null===y||void 0===y?void 0:y.additionalProperties,re)),Ie=B?Object(s.pd)(null===E||void 0===E?void 0:E.additionalProperties,se):Object(s.pd)(null===y||void 0===y?void 0:y.additionalProperties,se),Ne=x&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sopac-modifier-wrapper",children:[Object(s.j)([R,F,!A])&&Oe,pe()]}),je]}),Se=!x&&Object(h.jsxs)(h.Fragment,{children:[Object(s.j)([R,F,!A])&&Oe,je,pe()]});return!$&&Object(h.jsxs)("div",{className:"sopac-modifier ".concat(Object(s.ad)(ie,"sopac-modifier-deactive")),children:[Object(h.jsxs)("div",{className:"sopac-modifier-card d-flex","data-testid":"click-save-product",onClick:e=>!ie&&((e,t,i,a,o)=>{Object(s.j)([t,!i,o])?a():(e.preventDefault(),e.stopPropagation())})(e,R,A,N,F),children:[Ne,Se]}),P?Object(h.jsx)("div",{className:"sopac-modifier-customizeblock",children:Object(h.jsxs)(d.a,{ariaLable:"customize","data-testid":"customize-btn",className:"deepBlack font-bold customize-btn button blackBorder",disabled:!T||ie,onClick:e=>_(e,X,q),children:[Object(u.a)(E,q,de),Object(h.jsx)(l.a,{className:"customize-icon ".concat(Object(s.ad)(!T,"disabled-icon","")),srcFile:Y})]})}):null,Object(s.j)([R,U,!A,!ie])&&(Object(s.j)([Object(s.Hd)(H),1===J,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"sopac-modifier-customizeblock ".concat(Object(s.hb)(k,"modgrp-greyout")),children:Object(h.jsx)(j.default,{itemCount:M||0,itemQuantity:ce,updateItemQuantity:w,quantityAction:ue,item:void 0,itemName:oe,defaultQuantity:ae,maxItemCountPerLineItem:ge,cartItemCount:1,hideChild:!0,type:"button",dispositionType:H,handleQuantityForCatering:W,inputType:"number",modgrpMax:Q,savedCustomizedModifier:G,minItemCountPerLineItem:Ie})}))]})}},967:function(e,t,i){"use strict";i.r(t),i.d(t,"decreaseQtyCheck",(function(){return u})),i.d(t,"getCheckItemDefalutQtyEqualStatus",(function(){return v}));i(3);var a=i(395),o=i(404),n=i(5),l=i(1095),d=i(6),c=i(4),r=i(1123),s=i(2);const u=(e,t,i,a,o)=>e>t&&v(e,i)||"0"===a&&e>0||a!==o&&e>1,v=(e,t)=>e!==t;t.default=e=>{const{itemQuantity:t,itemCount:i,updateItemQuantity:m,quantityAction:b,item:O,itemName:j,maxItemCountPerLineItem:p,hideChild:h=!1,type:g="",dispositionType:I,handleQuantityForCatering:N,inputType:S="",onKeyPressHandler:f=r.c,defaultQuantity:T,modgrpMax:C,savedCustomizedModifier:x,minItemCountPerLineItem:E}=e,{quantityDecreseText:y,quantityIncreaseText:D,quantityUpdateText:A}=c.a;var _="".concat(Object(d.translateWithI18Next)(y)," ").concat(j),R="".concat(Object(d.translateWithI18Next)(D)," ").concat(j);const P=Object(n.Hd)(I)&&0===i?"cateringInputChangedZero":"";return Object(s.jsxs)("div",{className:"cart-food-quantity-change cart-food-quantity-change-sopac ".concat(Object(l.s)(I)),children:[u(i,t,T,E,p)?Object(s.jsx)(a.a,{className:"button quantity-decrease ".concat(0!==i&&"red-quantity-decrease"),ariaLable:_,onClickHandler:e=>m(O,b.Decrease,e),"data-testid":"quantity-minus",type:g,children:!h&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(a.a,{className:"button quantity-decrease ".concat(0!==i&&!v(i,t)&&"red-quantity-decrease"," ").concat(v(i,t)&&"quantity-decrease-disable"),disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!h&&Object(s.jsx)("span",{children:"-"})}),Object(n.Hd)(I)?Object(s.jsx)(o.a,{"aria-label":"Enter quantity",className:"quantity-input",id:"inputFocus","data-testid":"quantity-input",inputMode:"numeric",maxLength:"3",onChange:N,value:i,autocomplete:"off",inputType:S,onKeyPressHandler:f}):Object(s.jsx)("span",{className:"cart-food-quantity",children:i}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"".concat(Object(d.translateWithI18Next)(A)," ").concat(i)}),Object(s.jsx)(a.a,{className:"transparent-btn button quantity-increase ".concat(0!==i?"red-quantity-increase":"gray-quantity-increase"," ").concat((null===x||void 0===x?void 0:x.totalQuantity)===C&&0===i&&"red-quantity-increase"," ").concat(P),ariaLable:R,"data-testid":"quantity-plus",type:g,onClickHandler:e=>m(O,b.Increase,e),disabled:!!(0!==p&&i>=p),children:!h&&Object(s.jsx)("span",{children:"+"})})]})}},984:function(e,t,i){"use strict";i.r(t);var a=i(3),o=i(28),n=i(264),l=i(1101),d=i(6),c=i(42),r=i.n(c),s=i(5),u=i(73),v=i(35),m=i(236),b=i(92),O=i(15),j=i(85),p=i(41),h=i(1136),g=i(86),I=i(1153),N=i(4),S=i(1214),f=i(1215),T=i(1216),C=i(0),x=i(16),E=i(1133),y=i(1217),D=i(1190),A=i(1156),_=i(74),R=i(132),P=i(328),L=i(2);var w=()=>{var e,t;const i=Object(R.a)();Object(a.useEffect)((()=>(i(Object(P.m)()),()=>{i(_.a.resetReducer())})),[i]);const o=Object(A.c)();return Object(L.jsx)("div",{className:"offline-login-view",children:Object(L.jsxs)("div",{className:"offline-login-view-content",children:[Object(L.jsx)("div",{className:"offline-login-view-banner-text desktop-view",dangerouslySetInnerHTML:{__html:null===o||void 0===o||null===(e=o.bannerHeaderTextDesktop)||void 0===e?void 0:e.replace(/\n/g,"<br />")}}),Object(L.jsx)("div",{className:"offline-login-view-banner-text mobile-view",dangerouslySetInnerHTML:{__html:null===o||void 0===o||null===(t=o.bannerHeaderTextMobile)||void 0===t?void 0:t.replace(/\n/g,"<br />")}}),Object(L.jsx)("button",{"data-type":"primary",className:"button-contained",onClick:()=>Object(g.c)(),children:null===o||void 0===o?void 0:o.bannerButtonText})]})})},M=i(1258),k=i(336),F=i(115),U=i(71),H=i(24),W=i(46),B=i(335),G=i(63),z=i(428),V=i(61),Y=i(1);function q(){return{type:Y.De}}function Q(e){return{type:Y.Ml,selectedCouponId:e}}function K(e){return{type:Y.Ln,payload:e}}var J=i(403),X=i(55);const Z=e=>{const{key:t,coupon:i,timeObj:a,deleteOfflineCouponHandler:o}=e,{minutes:n,seconds:l}=a,{PROMO_CART_CODE:c,SHOW_BARCODE:r,PROMO_MINUTES:s,PROMO_SECONDS:u,DELETE:v}=N.a;return Object(L.jsxs)("div",{className:"promoscart-item",children:[Object(L.jsx)("div",{className:"promoscart-item-code",children:null!==i&&void 0!==i&&i.sbgCoupon?Object(L.jsx)("a",{href:null===i||void 0===i?void 0:i.url,className:"promoscart-couponcode url-link",children:Object(d.translateWithI18Next)(r)}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h5",{children:Object(d.translateWithI18Next)(c)}),Object(L.jsx)("div",{className:"promoscart-couponcode code",children:null===i||void 0===i?void 0:i.couponCode})]})}),Object(L.jsxs)("div",{className:"promoscart-item-text",children:[Object(L.jsx)("h4",{children:null===i||void 0===i?void 0:i.name}),"NaN"!==n&&"NaN"!==l&&Object(L.jsxs)("div",{className:"promoscart-item-countdown",children:[Object(L.jsx)("span",{className:"cp-minutes",children:n}),"\xa0",Object(d.translateWithI18Next)(s),"\xa0",Object(L.jsx)("span",{className:"cp-seconds",children:l}),"\xa0",Object(d.translateWithI18Next)(u),"\xa0"]})]}),!(null===i||void 0===i||!i.couponCode)&&!(-1!==i.maxUsage)&&Object(L.jsx)("button",{type:"button","aria-label":v,"aria-expanded":"false","data-type":"secondary","data-testid":"remove-offline-coupon",className:"button-contained closebtn-cls promo-close-button",onClick:()=>o(i),children:Object(L.jsx)(J.a,{srcFile:O.a.BannerCloseButton,alt:v})})]},t)};Z.defaultProps={key:"",coupon:{},timeObj:{}};const $=e=>{const{PROMO_CART_HEADER:t}=N.a,{AccordianUpArrow:i,AccordianArrow:n}=O.a,{itemsList:l,setCartContent:c,showCartContent:r}=e,[s,u]=Object(a.useState)([]),v=Object(o.b)(),m=e=>{var t;v((t={couponId:e.couponCode},{type:Y.bc,payload:t})),Object(X.w)(e)};return Object(a.useEffect)((()=>{const e=null===l||void 0===l?void 0:l.map(((e,t)=>{if(null!==e&&void 0!==e&&e.timestamp){var i,a,o;const t=null===e||void 0===e||null===(i=e.timestamp)||void 0===i?void 0:i.split(":"),n=60*(59-parseInt(null===(a=t[1])||void 0===a?void 0:a.trim()))+(60-parseInt(null===(o=t[2])||void 0===o?void 0:o.trim()));return{id:e.couponCode,value:n}}return!0}));u((t=>e));const t=setInterval((()=>{u((e=>e.map((e=>{const i=e.value-1;return i<=0&&(clearInterval(t),v(q())),{...e,value:i}}))))}),1e3);return()=>{clearInterval(t)}}),[l.length]),Object(L.jsx)("div",{id:"promo-cart","data-testid":"promo-cart",className:!r&&"promocart-open",children:Object(L.jsxs)("div",{className:"grid-container",children:[Object(L.jsx)("div",{className:"promoscart-item-header","data-testid":"promoscart-item-header",onClick:()=>{c(!r)},children:Object(L.jsxs)("h3",{children:[Object(L.jsxs)("span",{className:"promoscart-title",children:[Object(d.translateWithI18Next)(t)," "]}),Object(L.jsx)("span",{className:"promoscart-item-count",children:null===l||void 0===l?void 0:l.length}),Object(L.jsx)("img",{src:r?i:n,className:"global-accordian-arrow",alt:"arrow"})]})}),Object(L.jsx)("div",{className:"promoscart-items",children:null===l||void 0===l?void 0:l.map((e=>{const t=s.find((t=>t.id===(null===e||void 0===e?void 0:e.couponCode))),i=Math.floor((null===t||void 0===t?void 0:t.value)%3600/60).toString().padStart(2,"0"),a=((null===t||void 0===t?void 0:t.value)%60).toString().padStart(2,"0");return Object(L.jsx)(Z,{deleteOfflineCouponHandler:m,coupon:e,timeObj:{minutes:i,seconds:a}},"cartItem-".concat(null===e||void 0===e?void 0:e.couponCode))}))})]})})};$.defaultProps={itemsList:[],setCartContent:null,showCartContent:null};var ee=i(331);var te=()=>Object(L.jsxs)("div",{className:"redumptionCoupon-card-container skeleton",children:[Object(L.jsx)("div",{className:"redumption-coupon-img gradient-component"}),Object(L.jsxs)("div",{className:"redumptionCoupon-card-content",children:[Object(L.jsx)("div",{className:"redumptionCoupon-Card-title gradient-component"}),Object(L.jsx)("div",{className:"redumptionCoupon-Card-description gradient-component"}),Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid",className:"coupon-redeemid gradient-component",variant:p.b.secondary,disabled:!0})]})]});const ie=e=>{var t,i;const{key:a,coupon:n,showConfirmationModal:l,setViewDetailsHandler:c,setCartContent:r}=e,{VIEW_DETAILS:u,LOGIN_TO_USE_COUPON:v,USE_COUPON:m}=N.a,{StripesLoader:b}=O.a,j=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.offlineCouponsReducer)||void 0===t?void 0:t.selectedCouponId})),h=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),I=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:S}=Object(s.sd)(I),f=null===h||void 0===h||null===(t=h.componentOptions)||void 0===t||null===(i=t.coupons)||void 0===i?void 0:i.enableGuestGeneralCoupon,T=f?S?Object(d.translateWithI18Next)(m):Object(d.translateWithI18Next)(v):null===n||void 0===n?void 0:n.button,C=Object(o.b)();return Object(L.jsxs)("div",{className:"offlineCoupon-card-container ".concat((!(null===n||void 0===n||!n.timestamp)||!(null===n||void 0===n||!n.redeemed))&&-1!==n.maxUsage&&"greyedOut"," ").concat(!!f&&"general-guest-coupon"),children:[!(null===n||void 0===n||!n.label)&&Object(L.jsxs)("div",{className:"couponRibbon-container",children:[Object(L.jsx)("div",{className:"angle-down"}),Object(L.jsx)("span",{className:"ribbon-text-svg",children:null===n||void 0===n?void 0:n.label})]}),Object(L.jsx)("div",{className:"offline-coupon-img",children:Object(L.jsx)(W.a,{className:"offline-coupon-img-item",srcFile:null===n||void 0===n?void 0:n.image,alt:"coupon image"})}),Object(L.jsxs)("div",{className:"offlineCoupon-card-content",children:[Object(L.jsx)("div",{className:"offlineCoupon-Card-title",children:Object(L.jsx)("span",{className:"couponCard-ellipsis-text",children:null===n||void 0===n?void 0:n.name})}),Object(L.jsx)("div",{className:"offlineCoupon-Card-description",children:Object(L.jsx)("button",{onClick:e=>c({description:null===n||void 0===n?void 0:n.description}),className:"view-details-btn","data-testid":"view-all-deals-handler",children:Object(L.jsx)("span",{children:Object(d.translateWithI18Next)(u)})})}),(!(null!==n&&void 0!==n&&n.timestamp)||-1===n.maxUsage)&&Object(L.jsxs)("div",{className:"offlineCoupon-redeem-button",children:[(j!==(null===n||void 0===n?void 0:n.couponCode)&&!(null!==n&&void 0!==n&&n.redeemed)||-1===n.maxUsage)&&Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid",onClickHandler:()=>{return f&&!S?Object(g.c)():(-1===(null===(e=n)||void 0===e?void 0:e.maxUsage)?(C(K({couponId:null===e||void 0===e?void 0:e.couponCode})),r(!0)):(C(Q(null===e||void 0===e?void 0:e.couponCode)),l(!0)),void Object(X.s)(e));var e},className:"coupon-redeemid",variant:p.b.secondary,children:T}),j===(null===n||void 0===n?void 0:n.couponCode)&&Object(L.jsx)("img",{src:b,className:"reload-icon",alt:"Loading"})]})]})]},a)};ie.defaultProps={key:"",coupon:{},showConfirmationModal:null,setViewDetailsHandler:null,setCartContent:null};let ae={addToCartList:null};const oe=e=>{const{showConfirmationModal:t,setViewDetailsHandler:i,setCartContent:n,showCartContent:l}=e,{NO_COUPONS_AVAILABLE_MESSAGE:c}=N.a,r=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.offlineCouponsReducer)||void 0===t?void 0:t.couponsList})),s=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.offlineCouponsReducer)||void 0===t?void 0:t.isLoading})),u=[],v=Object(o.b)();return Object(a.useEffect)((()=>{v(q())}),[]),Object(a.useEffect)((()=>{v(s?Object(ee.b)():Object(ee.a)())}),[s]),ae.addToCartList=e=>{u.push(e)},Object(L.jsx)("div",{id:"offlineCoupon",className:"offlineCoupon-cards-container",children:s?[...Array(3)].map((e=>Object(L.jsx)(te,{},e))):Object(L.jsxs)(L.Fragment,{children:[(null===r||void 0===r?void 0:r.length)>0&&Array.isArray(r)?null===r||void 0===r?void 0:r.map((e=>((null!==e&&void 0!==e&&e.timestamp||null!==e&&void 0!==e&&e.redeemed)&&ae.addToCartList(e),Object(L.jsx)(ie,{coupon:e,showConfirmationModal:t,setViewDetailsHandler:i,setCartContent:n},"couponCard-".concat(null===e||void 0===e?void 0:e.couponCode))))):Object(L.jsx)("div",{className:"no-coupons-available",children:Object(d.translateWithI18Next)(c)}),!(null===u||void 0===u||!u.length)&&Object(L.jsx)($,{itemsList:u,setCartContent:n,showCartContent:l})]})})};oe.defaultProps={showConfirmationModal:null,setViewDetailsHandler:null,setCartContent:null,showCartContent:null};var ne=i(144);const le=e=>{const{showConfirmationModal:t,handleRedeemBtn:i,handleCloseBtn:a,confirmText:o,cancelText:n,confirmationMsg:l,showCancelText:c}=e,{CONFIRM_REDEEM:r,CANCEL_REDEEM:s,REDEEM_CONFIRMATION_MESSAGE:u}=N.a;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(ne.a,{id:"redeemConfirmationModal",show:!0,role:"dialog",modalTitleId:"redeemConfirmationModal",classNames:"redeem-confirmation-modal white-background",showCloseBtn:!1,autoFocus:!0,"data-testid":"offers-deals-modal-testid",children:Object(L.jsxs)("div",{className:"redeem-confirmation-wrapper",children:[Object(L.jsx)("p",{className:"redeem-confirmation-message",children:Object(d.translateWithI18Next)(l||u)}),Object(L.jsx)(p.c,{"data-testid":"redeem-confirmationId",onClickHandler:()=>{i()},className:"redeem-confirmation",variant:p.b.secondary,children:Object(d.translateWithI18Next)(o||r)}),c&&Object(L.jsx)(p.c,{"data-testid":"redeem-cancelId",onClickHandler:()=>{t&&t(!1),a&&a()},className:"redeem-cancel",variant:p.b.secondary,children:Object(d.translateWithI18Next)(n||s)})]})})})};le.defaultProps={cancelText:"",confirmText:"",confirmationMsg:"",showCancelText:!0,showConfirmationModal:null,handleRedeemBtn:null,handleCloseBtn:null};var de=le;const ce="redeemOnline",re="redeemInStore",se=e=>{var t,i,a,n,l,c,r,u,v,m,b,O;const{coupon:j,handleRedeemClick:h,couponIndex:I,selectedRedemption:S}=e,{REDEEM_ONLINE:f,REDEEM_IN_STORE:T,DISTRIBUTION_ENDED:C,REGISTER_TO_GET_COUPON:x,EXPIRE_DATE:E}=N.a,y=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:D}=Object(s.sd)(y),A=(new Date).getTime(),_=Math.floor(A/1e3),{componentOptions:R}=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer));return Object(L.jsxs)("div",{className:"redumptionCoupon-card-container",children:[!(null===j||void 0===j||null===(t=j.extras)||void 0===t||!t.couponName)&&Object(L.jsxs)("div",{className:"couponRibbon-container",children:[Object(L.jsx)("div",{className:"angle-down"}),Object(L.jsx)("span",{className:"ribbon-text-svg",children:null===j||void 0===j||null===(i=j.extras)||void 0===i?void 0:i.couponName})]}),Object(L.jsx)(W.a,{srcFile:null===j||void 0===j||null===(a=j.extras)||void 0===a?void 0:a.imageUrl,className:"redumption-coupon-img",alt:"coupon image"}),Object(L.jsxs)("div",{className:"redumptionCoupon-card-content",children:[Object(L.jsx)("div",{className:"redumptionCoupon-Card-title",children:Object(L.jsx)("span",{className:"couponCard-ellipsis-text",children:null===j||void 0===j?void 0:j.description})}),Object(L.jsx)("div",{className:"redumptionCoupon-Card-description",children:Object(L.jsx)("p",{className:"couponCard-ellipsis-text",children:null!==R&&void 0!==R&&null!==(n=R.coupons)&&void 0!==n&&n.YYYYMMDDWithSlash?Object(d.translateWithI18Next)(E)+" "+(null===j||void 0===j||null===(l=j.extras)||void 0===l||null===(c=l.expiryDate)||void 0===c?void 0:c.replace(/-/g,"/")):(null===j||void 0===j||null===(r=j.extras)||void 0===r||null===(u=r.expiryDate)||void 0===u?void 0:u.replace(/-/g,"/"))+Object(d.translateWithI18Next)("validTo")})}),!D&&Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid-login",onClickHandler:()=>Object(g.c)(),className:"coupon-redeem-secondary",variant:p.b.secondary,disabled:null===(v=Object.keys(S))||void 0===v?void 0:v.length,children:Object(d.translateWithI18Next)(x)}),D&&_<(null===j||void 0===j||null===(m=j.extras)||void 0===m?void 0:m.expiredDate)?Object(L.jsxs)("div",{className:"redumptionCoupon-redeem-buttons",children:[Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid",onClickHandler:()=>h(I,ce),className:"coupon-redeemid",variant:p.b.secondary,disabled:null===(b=Object.keys(S))||void 0===b?void 0:b.length,children:Object(d.translateWithI18Next)(f)}),Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid",onClickHandler:()=>h(I,re),className:"coupon-redeemid",variant:p.b.secondary,disabled:null===(O=Object.keys(S))||void 0===O?void 0:O.length,children:Object(d.translateWithI18Next)(T)})]}):D&&Object(L.jsx)(p.c,{"data-testid":"coupon-redeemid-distribution-ended",className:"coupon-redeem-secondary",variant:p.b.secondary,disabled:!0,children:Object(d.translateWithI18Next)(C)})]})]},null===j||void 0===j?void 0:j.id)};se.defaultProps={coupon:{},selectedRedemption:{}};var ue=se,ve=i(9);var me=e=>{const{setSelectedPromoTab:t}=e,{NO_COUPONS_AVAILABLE_MESSAGE:i,CONFIRM_ONLINE_REDUMPTION:n,CONFIRM_OFFLINE_REDUMPTION:l,NOT_REDEEMED_YET:c,SHOW_COUPON:r,CONFIRM_BTN_TEXT:s,ONLINE_REDUMPTION_CONFIRMATION_TXT:u,OFFLINE_REDUMPTION_CONFIRMATION_TXT:m,PROMO_OFFLINE_COUPON:b,PROMO_ONLINE_ORDERING:O}=N.a,[j,p]=Object(a.useState)([]),[h,g]=Object(a.useState)(!1),[I,S]=Object(a.useState)(!1),[f,T]=Object(a.useState)({}),[C,x]=Object(a.useState)(!1),[E,y]=Object(a.useState)(""),D=Object(o.b)(),A=Object(o.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),_=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{cartData:R={}}=null!==A&&void 0!==A?A:{},P=(e,t)=>{T({selectedCard:j[e],selectedAction:t}),t===ce&&y(n),t===re&&y(l),S(!0)},w=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(""),T({}),x(!1),e&&p([])},M=()=>{S(!1),w()};return Object(a.useEffect)((()=>{D(h?Object(ee.b)():Object(ee.a)())}),[h]),Object(a.useEffect)((()=>(g(!0),(()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.appboy)||void 0===t||t.requestContentCardsRefresh((()=>{var e,t,i;const a=null===(e=window)||void 0===e||null===(t=e.appboy)||void 0===t||null===(i=t.getCachedContentCards())||void 0===i?void 0:i.cards,o=(null===a||void 0===a?void 0:a.length)&&(null===a||void 0===a?void 0:a.filter((e=>"coupon"===e.extras.contentCardCategory)));p(o),g(!1)}))})(),()=>{w(!0)})),[]),Object(L.jsx)("div",{id:"redumptionCoupon",className:"redumptionCoupon-cards-container",children:h?[...Array(3)].map((e=>Object(L.jsx)(te,{},e))):Object(L.jsxs)(L.Fragment,{children:[null!==j&&void 0!==j&&j.length&&Array.isArray(j)?j.map(((e,t)=>Object(L.jsx)(ue,{coupon:e,couponIndex:t,handleRedeemClick:P,selectedRedemption:f},e.id))):!(null!==j&&void 0!==j&&j.length)&&Object(L.jsx)("div",{className:"no-coupons-available",children:Object(d.translateWithI18Next)(i)}),I&&Object(L.jsx)(de,{handleRedeemBtn:C?()=>{const{selectedAction:e}=f;e===ce&&(t(O),setTimeout((()=>{D(Object(v.h)({basketId:null===R||void 0===R?void 0:R.id,tenantId:null===_||void 0===_?void 0:_.tenantId}))}),4e4)),e===re&&t(b),M()}:()=>{const{selectedCard:e,selectedAction:t}=f;var i,a;t===ce&&(Object(X.p)(null===ve.a||void 0===ve.a||null===(i=ve.a.eventForOnline)||void 0===i?void 0:i.name,{"%couponType%":e.extras.couponType,"%validForDays%":e.extras.validForDays,"%promotionId%":e.extras.promotionId,"%startDateTime%":e.extras.startDateTime,"%endDateTime%":e.extras.endDateTime,"%maxUsage%":e.extras.maxUsage}),y(u));t===re&&(Object(X.p)(null===ve.a||void 0===ve.a||null===(a=ve.a.eventForOffline)||void 0===a?void 0:a.name,{"%couponType%":e.extras.couponType,"%validForDays%":e.extras.validForDays,"%couponCode%":e.extras.couponCode,"%expiryDate%":e.extras.expiryDate}),y(m));window.appboy.requestImmediateDataFlush(),p(j.filter((t=>t.id!==e.id))),x(!0)},handleCloseBtn:M,confirmationMsg:E,confirmText:C?r:s,cancelText:c,showCancelText:!C})]})})},be=i(1110);const{ANALYTICS_EVENTS:Oe}=V.a,{DEFAULT_PAGE_SIZE:je}=E.a,{LTO_BANNER:pe}=k.default;t.default=e=>{var t,i,c,E,A,_,R,P,k,V,q,J,X,Z,$;const{GUEST_USER_SINGIN_TEXT:ee,THATS_ALL_FOR_NOW:te,CHECK_BACK_AGAIN:ie,PROMOS_AND_REWARDS:ae,FOR_MEMBERS_ONLY:ne,KFC_SIGN_IN_EXCLUSIVE_PROMOS:le,CANCEL:ce,YES_REMOVE:re,VIEWING:se,PROMO_REMOVE_CONFIRMATION:ue,PROMO_SUCCESS_TOAST_MESSAGE:ve,PROMO_REMOVE_TOAST_MESSAGE:he,PROMO_ONLINE_ORDERING:ge,PROMO_OFFLINE_COUPON:Ie,REDEMPTION_COUPONS:Ne}=N.a,Se=[Ie,ge,Ne],{Strips:fe,SignInCard:Te,offer_deals_banner:Ce,tickWhiteToast:xe}=O.a,Ee=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:ye,localized:De}=Object(s.sd)(Ee),[Ae,_e]=Object(a.useState)([]),[Re,Pe]=Object(a.useState)(je),[Le,we]=Object(a.useState)([]),[Me,ke]=Object(a.useState)(!1),[Fe,Ue]=Object(a.useState)(!1),[He,We]=Object(a.useState)({}),[Be,Ge]=Object(a.useState)(null),[ze,Ve]=Object(a.useState)({}),[Ye,qe]=Object(a.useState)(!1),[Qe,Ke]=Object(a.useState)(!1),[Je,Xe]=Object(a.useState)("null"),{DISPOSITION_DATA:Ze,MENU_URL:$e,SHOW_CLEAR_CART_ALERT:et,CLEAR_CART_CONFIRM_CANCEL_MODAL:tt,clearCartChangeFlag:it,orderTypeAlertTitle:at}=x.a,ot=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),nt=null===ot||void 0===ot||null===(t=ot.componentOptions)||void 0===t||null===(i=t.web)||void 0===i||null===(c=i.cartPage)||void 0===c?void 0:c.showPromoRewardsMessage,{tenantId:lt="",componentOptions:dt,allowMultipleCoupon:ct,showPublicCouponForNonLocalizedUsers:rt,showOnlineCouponsNonLocalizedUsers:st}=ot,ut=Object(s.ud)(null===dt||void 0===dt||null===(E=dt.web)||void 0===E||null===(A=E.coupons)||void 0===A?void 0:A.sendViewAllDealsEvent),{enableGuestGeneralCoupon:vt,loginToDisplayCouponBannerStyle:mt}=dt&&(null===dt||void 0===dt?void 0:dt.coupons)||{},bt=null===dt||void 0===dt||null===(_=dt.offlineCoupons)||void 0===_?void 0:_.showOfflineCoupons,Ot=Object(o.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{applicableCoupons:jt=[],cartData:pt={}}=Ot,{discountLines:ht=[]}=Object(s.sd)(pt),{userOrderState:gt,userOrderStateDispatch:It}=Object(a.useContext)(j.a),[Nt,St]=Object(a.useState)(!1),ft=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.offlineCouponsReducer)||void 0===t?void 0:t.selectedCouponId})),Tt=bt?Ie:ge,[Ct,xt]=Object(a.useState)(Tt),[Et,yt]=Object(a.useState)(!1),Dt=Object(o.b)(),At=Object(I.a)(gt),_t=Object(a.useMemo)((()=>{var e;return{dispositionType:null!==At&&void 0!==At&&At.type?Object(s.Mb)(At.type):Object(s.Mb)(null===ot||void 0===ot||null===(e=ot.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[At,ot]),{dispositionType:Rt}=_t,Pt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Math.ceil(t.length/e)},{TimerRibbonRedOutlined:Lt,TimerIcon:wt}=O.a,[Mt,kt]=Object(a.useState)(""),[Ft,Ut]=Object(a.useState)(0);let Ht=null,Wt={};const[Bt,Gt]=Object(a.useState)(0),zt=Object(o.c)((e=>({homePageContent:r()(e,"contentReducer.response",null)}))),Vt=Object(o.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.getCouponLoading})),[Yt,qt]=Object(a.useState)(!0),Qt=null===dt||void 0===dt||null===(R=dt.routes)||void 0===R||null===(P=R.Home)||void 0===P||null===(k=P.offersAndDeals)||void 0===k?void 0:k.shouldCheckLocalization,Kt=null===dt||void 0===dt||null===(V=dt.web)||void 0===V||null===(q=V.global)||void 0===q?void 0:q.enableOffersContentCall,Jt=Object(o.c)((e=>e.profileReducer)),Xt=ye&&bt||!ye&&bt&&!vt,Zt=()=>{Ue(!1)},$t=(e,t)=>{We({item:null===e||void 0===e?void 0:e.item,titleValue:null===e||void 0===e?void 0:e.titleValue,promoParams:null===e||void 0===e?void 0:e.promoParameters,priceDetails:null===e||void 0===e?void 0:e.priceDetails}),Ge(t),qe(!0)},ei=e=>{const t=null!==e&&void 0!==e&&e.item?{item:null===e||void 0===e?void 0:e.item}:{description:null===e||void 0===e?void 0:e.description};Ve(t),ke(!0)},ti=e=>{const t=(null===e||void 0===e?void 0:e.couponCode)||"";Ue(!0),kt(t)};Object(a.useLayoutEffect)((()=>{const e=()=>{Gt(window.innerWidth)};return window.addEventListener(C.ye,e),e(),()=>window.removeEventListener(C.ye,e)}),[]),Object(a.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(a.useEffect)((()=>{if(jt.length>0){const e=Object(h.b)(ye,Object(h.f)(jt,ot));ii(e,Je),Ut(Pt(1,Ae))}else{if(!Ae.length){const e=Object(h.b)(ye,[],Vt);_e(e)}qt(Object(s.ad)(Object(s.jb)(Ae.length,jt.length),!1,!0)),Ut(0)}}),[jt]),Object(a.useEffect)((()=>{we([...Ae].splice(0,Re)),Ut(Pt(1,Ae))}),[Ae,Re]),Object(a.useEffect)((()=>{De&&lt&&(null===At||void 0===At?void 0:At.basketId)!==(null===pt||void 0===pt?void 0:pt.id)?(kt(""),Xe("null"),ni()):(!De&&!Qt||st)&&(ye?(null===Jt||void 0===Jt?void 0:Jt.customerId)&&Dt(Object(v.j)({tenantId:lt,userId:null===Jt||void 0===Jt?void 0:Jt.customerId})):Dt(Object(v.k)({tenantId:lt}))),Ut(((e,t)=>e?t:0)(De,Ft))}),[De,ye,null===pt||void 0===pt?void 0:pt.id,null===pt||void 0===pt||null===(J=pt.customer)||void 0===J?void 0:J.id,lt,null===At||void 0===At||null===(X=At.store)||void 0===X?void 0:X.id,null===At||void 0===At?void 0:At.type]),Object(a.useEffect)((()=>{var e,t;null!==pt&&void 0!==pt&&null!==(e=pt.foodLines)&&void 0!==e&&e.length||null!==pt&&void 0!==pt&&null!==(t=pt.discountLines)&&void 0!==t&&t.length||(localStorage.removeItem(C.gd.ADD_TO_ORDER),kt(""),Xe("null"))}),[null===pt||void 0===pt||null===(Z=pt.foodLines)||void 0===Z?void 0:Z.length,null===pt||void 0===pt||null===($=pt.discountLines)||void 0===$?void 0:$.length]),Object(a.useEffect)((()=>{if("null"!==Je){var e;ni();let t=Je?Object(d.translateWithI18Next)(ve):Object(d.translateWithI18Next)(he);(null===gt||void 0===gt||null===(e=gt.searchStoreData)||void 0===e||!e.showSearchStore)&&ai(t)}if((null===ht||void 0===ht?void 0:ht.length)>0&&!Mt){var t;let e=null===ht||void 0===ht||null===(t=ht[0])||void 0===t?void 0:t.couponCode;kt(e)}}),[null===ht||void 0===ht?void 0:ht.length]);const ii=(e,t)=>{Wt={};for(let o=0;o<(null===ht||void 0===ht?void 0:ht.length);o++){var i;let e=null===(i=ht[o])||void 0===i?void 0:i.couponCode;Wt[e]=e}Object.keys(Wt).length>0?localStorage.setItem(C.gd.ADD_TO_ORDER,JSON.stringify(Wt)):localStorage.removeItem(C.gd.ADD_TO_ORDER);for(let o in Wt){let t=Wt[o];e=e.map((e=>e.couponCode===t?{...e,isApplied:!0}:e))}_e(e);const a=e.some((e=>e.isApplied&&!e.employeePromotion));Object(h.g)(ct,Ke,a),qt(Object(s.ad)(Object(s.jb)(Ae.length,jt.length),!1,!0))},ai=e=>{let t=Object(L.jsx)(W.a,{srcFile:xe});Object(s.Df)(e,t,"promos-rewards-toast",1e3)};Object(a.useEffect)((()=>{Kt&&Dt(Object(F.c)({object:Object(U.a)(),contentFull:{content_type:"landingPage","fields.channel":H.b.channel,include:"5"},userParams:{loggedIn:!0,localized:De}}))}),[Dt,gt]),null!==zt&&void 0!==zt&&zt.homePageContent&&(Ht=Object(s.wd)(Object(s.fc)(null===zt||void 0===zt?void 0:zt.homePageContent)));const oi=Object(s.Td)(Ht)&&Ht[pe]&&Object(L.jsx)(M.a,{contentData:Object(s.sd)(Ht[pe]),history:e.history})||null,ni=()=>{var e;const{customerId:t}=G.a.getInstance();De&&null!==pt&&void 0!==pt&&pt.id&&t===(null===pt||void 0===pt||null===(e=pt.customer)||void 0===e?void 0:e.id)&&Dt(Object(v.h)({basketId:null===pt||void 0===pt?void 0:pt.id,tenantId:lt}))},li=()=>{Dt(Object(u.u)()),It({type:Ze,value:{showDisposition:!0}}),localStorage.setItem(C.gd.RETAIN_ADDRESS,""),localStorage.setItem(C.gd.SET_LOCATION,!0),kt(null===e||void 0===e?void 0:e.couponCode)},di=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(h.e)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(L.jsxs)("span",{"data-testid":"promos-time-block",className:"promos-time-block",children:[Object(L.jsx)("img",{className:"promos-time-icon",src:wt,alt:"Timer Icon"}),Object(L.jsx)(S.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(L.jsxs)("div",{className:"promosRibbon-container",children:[Object(L.jsx)(n.a,{src:Lt,className:"promos-ribbon timer"}),Object(L.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(L.jsxs)("div",{className:"promosRibbon-container",children:[Object(L.jsx)("div",{className:"angle-down"}),Object(L.jsx)("span",{className:"ribbon-text-svg",children:Object(h.h)(t)})]})}},ci=(e,t,i)=>Object(L.jsxs)("div",{className:"slick-slide medium-card-offers-deals store-card ".concat(e===t+i-1&&"offersCard-fade lastOffersCard-fade"," ").concat(Ct===Ie&&" offline-coupon-signin"),children:[Object(L.jsx)("img",{src:Te,className:"offers-store-image",alt:""}),Object(L.jsx)("h3",{className:"offer-login-text",children:Object(d.translateWithI18Next)(le)}),Object(L.jsx)("div",{className:"offer-store-btn-container",children:Object(L.jsx)(p.a,{"data-testid":"sign-in-btnid",onClick:()=>Object(g.c)(),className:"store-btn signin-offers-btn",children:Object(d.translateWithI18Next)(ee)})})]}),ri=(e,t)=>{const i=null===e||void 0===e?void 0:e.couponCode;Object(h.a)(Dt,pt,i,lt),Xe(!0),kt(i)},si=(t,i)=>{const a=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:Object(s.ad)(Object(s.Hd)(Rt),null===C.Ce||void 0===C.Ce?void 0:C.Ce.CATERING_PAGE,"".concat($e)),isStartOrderClick:!0}),ut&&Object(z.d)({event:Oe.REDEEM_OFFER,offerTitle:a})},ui=t=>{const i=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:C.Ce.CART}),ut&&Object(z.d)({event:Oe.REDEEM_OFFER,offerTitle:i})},vi=e=>{var t;if((null===pt||void 0===pt||null===(t=pt.foodLines)||void 0===t?void 0:t.length)>0){let e={flag:it,onConfirm:at};Object(s.Fe)(It,e,et,tt)}else It({type:Ze,value:{showDisposition:!0}})},mi=e=>{St(e),e||Dt(Q(null))};return Object(a.useEffect)((()=>()=>{var e;Dt((e=!1,{type:Y.em,showOfflineContent:e}))}),[]),nt?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(be.a,{page:C.oe}),Object(L.jsxs)("div",{id:"promosRewards",className:"promos-container promos-landingPage-container","data-testid":"promos-container-test",children:[!vt&&Object(L.jsx)("div",{style:{backgroundImage:"url(".concat(Ce,")")},className:"deals-header-image",children:Object(L.jsx)("h2",{className:"deals-image-text",children:Object(d.translateWithI18Next)(ae)})}),Object(L.jsxs)("div",{className:"promosCard-container grid-container",children:[Object(L.jsxs)("div",{className:"promosContainerHeader-items",children:[Object(L.jsx)(W.a,{srcFile:fe,className:"stripes-img",alt:""}),Object(L.jsx)("h1",{className:"promosContainer-header","data-testid":"plp-coupon-heading",children:Object(d.translateWithI18Next)(ae)}),De&&!ye&&!vt&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"promosHeader-text",children:Object(d.translateWithI18Next)(ne)}),Object(L.jsx)("div",{className:"view-all-text",children:Object(L.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Object(g.c)(),"data-testid":"view-all-deals-handler",children:Object(d.translateWithI18Next)(le)})})]})]}),mt&&!ye&&Object(L.jsx)(w,{}),Xt&&Object(L.jsx)("div",{className:"promo-toggle-container",children:Se.map((e=>{let t;switch(e){case ge:t="online-ordering-btnid";break;case Ie:t="offline-coupon-btnid";break;case Ne:t="redemption_coupon_btnid";break;default:t=""}return Object(L.jsx)(p.c,{"data-testid":t,className:"toggle-btn online-ordering-btn ".concat(Ct===e?"selected":"unselected"),onClickHandler:()=>{xt(e)},variant:p.b.secondary,children:Object(d.translateWithI18Next)(e)},e)}))}),Ct===ge&&Object(L.jsxs)("div",{className:"online-ordering",children:[(De||!Qt||st)&&Object(L.jsxs)(L.Fragment,{children:[Yt&&Object(L.jsx)("div",{className:"placeholder",children:Array(3).fill().map((()=>Object(L.jsxs)("div",{className:"table store-card-container",children:[Object(L.jsx)("div",{className:"loading card-title shorter-s"}),Object(L.jsx)("div",{className:"loading table-content"}),Object(L.jsx)("div",{className:"loading table-content"})]})))}),Object(s.hb)(Ae.length,!Yt)&&Object(L.jsx)("div",{className:"promos-reward-page-container",children:(bi=null!==Le&&void 0!==Le&&Le.length?Le:Ae,null===bi||void 0===bi?void 0:bi.map(((e,t)=>{const{couponCode:i,smallText:a,titleValue:o,imageName:n,validityEndTime:l,promoParameters:d,itemDetails:c}=Object(s.sd)(e),r=null===c||void 0===c?void 0:c.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));return Object(L.jsx)("div",{className:"promos-reward-cards-container",children:Object(L.jsxs)("div",{className:"promos-reward-card-container",children:[di(e),Object(L.jsx)(f.a,{"data-testid":"promos-rewards-card",loggedIn:ye,localized:De,couponCode:i,smallText:a,titleValue:o,imageName:n,item:e,promoParameters:d,priceDetails:r,validityEndTime:l,tenantId:lt,setModal:ke,setViewDetailsHandler:ei,setConfirmationModal:ti,showMultiProductModal:$t,dispositionType:Rt,addToOrderClickHandler:ri,startOrderClickHandler:si,promosApplied:Qe,basketData:pt,setViewCartHandler:ui,setDispositionHandler:vi,setAlertPopupCouponCode:kt,setIsAppliedInApplicableCoupon:ii,createSignInURL:g.c,setLocationClickHandler:li})]})},t)})))})]}),De&&!(null!==Ae&&void 0!==Ae&&Ae.length)&&Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:"promos-reward-nil-container",children:Object(L.jsxs)("div",{className:"nil-card-container",children:[Object(L.jsxs)("div",{className:"nilCard-main-container",children:[Object(L.jsx)("div",{className:"thats-all-text",children:Object(d.translateWithI18Next)(te)}),Object(L.jsx)("div",{className:"back-again-text",children:Object(d.translateWithI18Next)(ie)})]}),!ye&&ci()]})})}),Re<(null===Ae||void 0===Ae?void 0:Ae.length)&&Ft>1&&(De||st)&&Object(L.jsx)("div",{className:"promos-load-more-footer",children:Object(L.jsxs)("div",{className:"load-more-container",children:[Object(L.jsx)(p.a,{"data-testid":"load-more-btn",className:"button whiteButton blackBorder load-btn",onClick:()=>Pe(Re+je),children:Object(d.translateWithI18Next)(B.b)}),Object(L.jsx)("span",{className:"page-desc",children:"".concat(Object(d.translateWithI18Next)(se)," ").concat(Re," ").concat(Object(d.translateWithI18Next)(B.e)," ").concat(null===Ae||void 0===Ae?void 0:Ae.length)})]})}),!De&&Qt&&Object(L.jsx)(T.a,{"data-testid":"promos-banner-id",setLocationClickHandler:li}),Object(L.jsx)("div",{className:"lto-banner-promos-rewards-page",children:oi})]}),bt&&Ct===Ie&&(ye||rt?Object(L.jsx)(oe,{showConfirmationModal:mi,setViewDetailsHandler:ei,setCartContent:yt,showCartContent:Et}):!mt&&ci()),bt&&Ct===Ne&&Object(L.jsx)(me,{setSelectedPromoTab:xt})]}),Nt&&Object(L.jsx)(de,{"data-testid":"redeem-confirmation-modalId",handleRedeemBtn:()=>{Dt(K({couponId:ft})),mi(!1),yt(!0)},showConfirmationModal:mi}),Me&&Object(L.jsx)(y.a,{history:e.history,"data-testid":"view-details-modalId",tenantId:lt,viewDetailsData:ze,handleClose:()=>{ke(!1)}}),Ye&&Object(L.jsx)(D.a,{"data-testid":"multi-product-modalId",viewProductEvent:Be,history:e.history,tenantId:lt,viewProductCardData:He,handleClose:()=>{qe(!1)},imageContainerSize:Bt,addToOrderClickHandler:ri}),Fe&&Object(L.jsx)(m.a,{"data-testid":"remove-promo-modal",handleClose:Zt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(L.jsx)(b.a,{splitTitle:{MSGTXT1:"".concat(Object(d.translateWithI18Next)(ue))},imageSrc:O.a.CartError,confirmButtonText:Object(d.translateWithI18Next)(re),cancelButtonText:Object(d.translateWithI18Next)(ce),confirmHandler:(e,t)=>{Mt&&(Dt(Object(v.p)({basketId:null===pt||void 0===pt?void 0:pt.id,tenantId:lt,couponCode:Mt})),Zt(),Xe(!1))},cancelHandler:Zt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})}),null!==gt&&void 0!==gt&&gt.showCartClearAlert?Object(L.jsx)(l.a,{}):null]})]}):Object(L.jsx)(L.Fragment,{});var bi}}}]);