(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[99],{1107:function(e,t,o){"use strict";var i=o(3),a=o(85),n=o(5),l=o(12);t.a=()=>{const{userOrderState:e}=Object(i.useContext)(a.a),t=Object(i.useMemo)((()=>(Object(n.Sd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(l.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},1169:function(e,t,o){"use strict";var i=o(113),a=o(35),n=o(0),l=o(4),d=o(85),s=o(133),c=o(16),r=o(3),u=o(62),v=o(1107),p=o(5),O=o(28);t.a=()=>{var e,t,o;const{MENU_NAVALERT_TITLE:S,MENU_NAVALERT_SUBTITLE:m}=l.a,{userOrderStateDispatch:b}=Object(r.useContext)(d.a),I=Object(O.b)(),{dispositionNew:g}=Object(v.a)(),N=Object(u.g)(),E=Object(O.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),T=Object(O.c)((e=>e.tenantReducer)),{tenantId:h}=T,j=null===T||void 0===T||null===(e=T.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(o=t.dispositionConfig)||void 0===o?void 0:o.hideCartDeletionAlert,{cartData:_={}}=Object(O.c)((e=>e.cartReducer)),{DISPOSITION_TYPE:D}=n.gd;let y={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};const A=e=>{b({type:c.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:e,title:S,contentMsg:m}})},R=e=>{b({type:c.a.SET_DISPOSITION,value:{oldvalue:e||y,newValue:e||y}}),b({type:c.a.DISPOSITION_METHOD,value:{dispositionType:e?null===e||void 0===e?void 0:e.type:""}}),localStorage.removeItem(n.gd.DISPOSITION_TYPE),localStorage.removeItem(n.gd.DISPOSITION_OLD),localStorage.removeItem(n.gd.DISPOSITION_NEW)},f=()=>{E&&I(Object(i.a)({...E,localized:!1})),b({type:c.a.USER_LOCALIZED,value:{isLocalized:!1}}),null!==_&&void 0!==_&&_.id&&I(Object(a.g)({basketId:null===_||void 0===_?void 0:_.id},!1,{data:{},tenantId:h}))};return{handleMenuNavigation:e=>{j?N.push({pathname:e}):Object(p.Wd)(e)&&!Object(p.Vd)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?A(e):Object(p.Wd)(e)&&Object(p.Vd)(null===g||void 0===g?void 0:g.type)?N.push({pathname:n.Ce.EVENT_PAGE}):!Object(p.Wd)(e)||null!==g&&void 0!==g&&g.type?!Object(p.Wd)(e)&&Object(p.Vd)(null===g||void 0===g?void 0:g.type)&&A(e):(N.push({pathname:n.Ce.EVENT_PAGE}),localStorage.setItem(n.gd.TO_EVENT_PAGE_USING_BUTTON,!0))},handleDeliveryMenuNavigation:e=>{j?N.push({pathname:e}):Object(p.Nd)(e)&&!Object(p.Jd)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?A(e):Object(p.Nd)(e)&&Object(p.Jd)(null===g||void 0===g?void 0:g.type)?N.push({pathname:n.Ce.DELIVERY_PAGE}):!Object(p.Nd)(e)||null!==g&&void 0!==g&&g.type?(Object(p.Wd)(e)||Object(p.ce)(e))&&Object(p.Jd)(null===g||void 0===g?void 0:g.type)?A(e):N.push({pathname:e}):N.push({pathname:n.Ce.DELIVERY_PAGE})},reset:()=>{R(),f()},navigateToEvent:()=>{N.push({pathname:n.Ce.EVENT_PAGE}),R({...y,type:n.Jb.CHRISTMAS_ORDERING}),localStorage.setItem(D,n.Jb.CHRISTMAS_ORDERING),f(),b({type:c.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:s.c}})}}}},1253:function(e,t,o){"use strict";var i=o(3),a=o(62),n=o(145),l=o(85),d=o(28),s=o(5),c=o(338),r=o(20),u=o.n(r),v=o(16),p=o(423),O=o(159),S=o(402),m=o(73),b=o(35),I=o(0),g=o(80),N=o(132),E=o(1169),T=o(12),h=o(2);t.a=function(e){const{SET_FORCERELOAD:t,STATUS_API_CALLED:o}=v.a,{DISPOSITION_DATA:r,SEARCH_ORDER_DATA:j,EVENT:_,DELIVERY:D}=p.a;return function(v){var p,y,A,R,f,C,P,w,M,L,G,V;let{...U}=v;const{flatResponse:Y={},searchResults:{id:F=null,categories:J=[]}={},isMenuReset:W,isLoading:x}=null!==(p=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==p?p:{},{userOrderState:{dispositionNew:k=JSON.parse(localStorage.getItem("dispositionNew")),forceReload:H,isMenuPageScrolling:z}={},userOrderStateDispatch:B}=Object(i.useContext)(l.a),[q,Z]=Object(i.useState)(!1),K=Object(s.Sd)(k)?JSON.parse(localStorage.getItem("dispositionNew")):k,Q=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{storesWithStatus:X}=Object(d.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},$=Object(N.b)(g.b),ee=Object(N.a)(),te=null===Q||void 0===Q||null===(y=Q.cartData)||void 0===y||null===(A=y.requestedDateTime)||void 0===A?void 0:A.isForNow,{tenantId:oe,authoredContent:{defaultdisposition:ie,defaultcateringdisposition:ae}={},genericMenuName:ne,genericMenuNameChristmas:le,genericCateringName:de,componentOptions:se,enableDeliveryMenuOption:ce}=Object(d.c)((e=>e.tenantReducer||{})),re=Object(a.h)(),ue=(Object(s.Wd)(re.pathname),null===se||void 0===se||null===(R=se.web)||void 0===R?void 0:R.dispositionConfig),{enableScheduleOrder:ve=!1,enableClickCollectScheduleOrder:pe=!1}=ue,Oe=null!==(f=null===se||void 0===se||null===(C=se.web)||void 0===C||null===(P=C.scheduledDelivery)||void 0===P?void 0:P.allowScheduleOrderForDispositions)&&void 0!==f?f:[],Se=ve||pe,me=Object(O.c)({path:null===U||void 0===U||null===(w=U.location)||void 0===w?void 0:w.pathname,genericMenuName:ne,genericCateringName:de,defaultdisposition:ie,defaultcateringdisposition:ae,genericMenuNameChristmas:le}),be=null!==(M=null===Q||void 0===Q||null===(L=Q.cartData)||void 0===L||null===(G=L.requestedDateTime)||void 0===G?void 0:G.futureDateTime)&&void 0!==M?M:"",{SERVICE_CHANNEL:Ie}=c.a,ge=Object(i.useMemo)((()=>{var e,t;const o=((e,t)=>null!==e&&void 0!==e?e:t)(null===K||void 0===K?void 0:K.type,me.defaultdispostitionType),i=Object(T.h)(null===K||void 0===K?void 0:K.date,I.sb.YYYY_MM_DD);return{storeInfo:null!==(e=null===K||void 0===K?void 0:K.store)&&void 0!==e?e:{},dispositionType:Object(s.Mb)(o),time:null!==(t=Object(S.l)(K,i))&&void 0!==t?t:be}}),[K,ie,null===U||void 0===U?void 0:U.location]),{storeInfo:Ne,dispositionType:Ee,time:Te}=ge,he=Ee,je=((e,t,o,i)=>{var a,n,l,d,s,c,r;const u=null===e||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.service)===o));return(null===u||void 0===u||null===(a=u[0])||void 0===a||null===(n=a.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d[0])||(null===i||void 0===i||null===(s=i.summary)||void 0===s||null===(c=s.menu)||void 0===c||null===(r=c.catalogs)||void 0===r?void 0:r[0])||t.defaultMenuName})(X,me,he,Ne),_e=(null===Ne||void 0===Ne?void 0:Ne.id)||(null===Ne||void 0===Ne?void 0:Ne.storeId);let De={storeId:_e,channel:Ie,service:he};const ye={enableScheduleOrderFlag:Se,showOrderNow:te,allowScheduleOrderForDispositions:Oe},{handleMenuNavigation:Ae,handleDeliveryMenuNavigation:Re}=Object(E.a)(),fe=Object(S.r)(De,he,ye,Te),Ce=Object(d.b)(),Pe=()=>{const e=isNaN(Te)?"":Te,t={storeid:_e,service:he,channel:Ie},i=e?{...t,futureDateTimeInEpochFormat:e}:t;Ce(Object(m.n)({data:i,tenantId:oe},(()=>{B({type:o,value:{statusAPICalled:!0}}),Ce(Object(n.d)({tenantId:oe,catalogName:je},fe,(()=>{var e;null!==$&&void 0!==$&&$.LanguageChanged&&null!==Q&&void 0!==Q&&null!==(e=Q.cartData)&&void 0!==e&&e.id&&((async()=>{var e;const t=await Object(s.A)(X[0]);Ce(Object(b.f)({data:t,tenantId:oe}));const o=JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW));o.store.summary=null===X||void 0===X||null===(e=X[0])||void 0===e?void 0:e.summary,localStorage.setItem(I.gd.DISPOSITION_NEW,JSON.stringify(o))})(),setTimeout((()=>ee(Object(g.c)({key:I.Zc}))),3e3))})))}),null))};Object(i.useEffect)((()=>{var e;if(z)return;const o=!_e&&Object(S.i)(null===U||void 0===U||null===(e=U.location)||void 0===e?void 0:e.pathname,J),i=localStorage.getItem(I.gd.GET_STORE_STATUS_FOR_TIME_SAGA_CALLING),a=function(e,o,i,a,n){let l=u()(e)||a;if(a&&n({type:t,value:{forceReload:!1}}),!l&&o){const e=localStorage.getItem("storeId");e&&o===e||(localStorage.setItem("storeId",o),l=!0)}if(!l&&i){const e=localStorage.getItem("serviceType");e&&i===e||(localStorage.setItem("serviceType",i),l=!0)}return l}(Y,_e,he,H,B);o&&Ce(Object(n.f)()),we(o,a)&&"true"!==i&&(localStorage.removeItem("loadedPLPImages"),Z(!1),_e&&he?Pe():Ce(Object(n.d)({tenantId:oe,catalogName:je},fe)))}),[Ie,je,Ce,Y,he,_e,oe,H,q,Te]),Object(i.useEffect)((()=>{const e=Object(s.Wd)(re.pathname),t=localStorage.getItem(I.gd.TO_EVENT_PAGE_USING_BUTTON);e&&ge.dispositionType!==_&&"true"!==t?(Ae(I.Ce.EVENT_PAGE),B({type:r,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})),1500)):Object(s.Nd)(re.pathname)&&ge.dispositionType!==D&&"true"!==t&&ce?(localStorage.setItem(I.gd.RETAIN_ADDRESS,""),Re(I.Ce.DELIVERY),B({type:r,value:{showDisposition:!1,dispositionType:"delivery"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",showSearchStore:!0}})),1500)):Object(s.ce)(re.pathname)&&ge.dispositionType===D&&ce&&(B({type:r,value:{showDisposition:!1,dispositionType:"pickup"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0}})),1500)),localStorage.setItem(I.gd.TO_EVENT_PAGE_USING_BUTTON,!1)}),[]);const we=(e,t)=>(!x||F&&F!==je||_e)&&(e||(t||q)&&!W);return Object(i.useEffect)((()=>{Z(!0),B({type:o,value:{statusAPICalled:!1}})}),[null===U||void 0===U||null===(V=U.location)||void 0===V?void 0:V.pathname]),u()(Y)?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(e,{...U})}}},996:function(e,t,o){"use strict";o.r(t);var i=o(210),a=o(1253),n=o(424),l=o(28),d=o(2);t.default=Object(a.a)((e=>{const{componentOptions:t={web:{pdp:{}}}}=Object(l.c)((e=>e.tenantReducer)),{web:{global:o}}=t;return null!==o&&void 0!==o&&o.cateringNavigationAllowed||null===e||void 0===e||!e.isCateringPage?Object(d.jsx)(i.a,{testId:null===e||void 0===e?void 0:e.testId,importPath:"MENU_PLP_LANDING_PAGE",...e}):Object(d.jsx)(n.a,{})}))}}]);