(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[1],{1147:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(41),l=o(46),r=o(15),n=o(28),s=o(0),c=o(2);const{Error:u}=r.a,v=e=>{const{show:t,errorObj:o,isInProgress:i,comingFrom:r}=e,{firstBtnCTA:v,secondBtnCTA:O,firstBtnText:b,secondBtnText:m,errMsg:j,firstBtnClassName:h=""}=o,g=Object(n.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:i}));return Object(c.jsx)(a.a.Fragment,{children:!g&&(t?Object(c.jsx)("div",{className:"err-container",children:Object(c.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(c.jsx)(l.a,{srcFile:u,className:"location-alert-icon"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"location-error-message",children:j}),Object(c.jsxs)("div",{className:"location-error-button-section",children:[r!==s.a&&v&&Object(c.jsx)(d.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(h),onClickHandler:e=>v(e),children:b}),O&&Object(c.jsx)(d.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>O(e),children:m})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const O=a.a.memo(v);t.a=O},1172:function(e,t,o){"use strict";o.d(t,"a",(function(){return S}));var i=o(3),a=o.n(i),d=o(6),l=o(329),r=o.n(l),n=o(46),s=o(43),c=o(5),u=o(15),v=o(269),O=o(2);const{GoogleMapLocationImage:b,SuggestionItemSearchPin:m,clearTextIcon:j,Time_Clock:h}=u.a,{SUUGESTED_ITEMS_TEXT:g,ALLOWED_SUGGESTION_LIST:p,SUGGESTION_ACTIVE_COLOR:E,SUGGESTION_ACTIVE_OPACITY:I,BRAND_BLACK:N}=s.a,x=e=>{const{currentMarket:t,placeholder:o,storeSelection:i={},address:l,inputOnChange:s,handleSelectAddress:u,onSearchError:p,locationAlert:E,negativeScenarioAlert:I,inputRef:N,keyPress:x,onClearTextHandler:S,showAutoSuggestion:f,alreadySearched:T,setSuggestedAddress:D,filteredTypes:A,maxLength:C,filterConditions:R,isAddressNotChangable:_}=e,{placesSearchInput:y=!0}=i;return Object(O.jsx)("div",{className:"search-delivery-address",children:Object(O.jsx)("div",{className:"input-delivery-address",children:Object(O.jsx)(r.a,{value:l,onChange:s,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:A},shouldFetchSuggestions:!0,onError:p,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:r,loading:s}=e;return Object(O.jsx)("div",{children:y&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n.a,{"data-testid":"",srcFile:b,alt:" ",className:"google-location-img"}),Object(O.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:C,className:"".concat(Object(c.ad)(Object(c.qd)(E,I),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:o,ref:N}),onKeyUp:x,disabled:_}),l&&!_&&Object(O.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:S}),Object(c.hb)(Object(c.pc)(i),f)?Object(O.jsx)("div",{className:"suggestion-list",children:Object(v.d)(i,R).map(((e,t)=>(null===D||void 0===D||D(i),Object(O.jsxs)(a.a.Fragment,{children:[0===t&&Object(O.jsx)("div",{className:"suggestion-items suggest-text",children:Object(d.translateWithI18Next)(g)}),Object(O.jsx)("div",{className:"suggestion-item-container",children:Object(O.jsx)("div",{...r(e,{className:"suggestion-items"}),children:Object(O.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(O.jsx)("div",{children:Object(O.jsx)(n.a,{"data-testid":"",srcFile:Object(c.ad)(T(e.description),h,m),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(O.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},S=a.a.memo(x)},1184:function(e,t,o){"use strict";var i=o(3),a=o(28),d=o(59),l=o(66),r=o(332),n=o(6),s=o(4),c=o(144),u=o(46),v=o(15),O=o(55),b=o(5),m=o(41),j=o(2);var h=e=>{const{onCancel:t,setOccasionNameHandler:o,updateFavouriteOrder:i,occasionName:a,isNameExist:d,isInValid:l,isEditOrderName:r=!1,onClearTextHandler:c,disaableButton:O,editFavHeading:b=!1,isAddFavOrderBox:h=!1,errorMessage:g}=e,{CANCEL:p,SAVE:E,OCCASSION_ADD_HEADING:I,OCCASSION_EDIT_HEADING:N,ORDER_PLACEHOLDER:x,NAME_EXIST:S,OCCASION_NAME_VALIDATION:f,EDIT_FAVOURITE_HEADING:T,SAVE_FAV_ORDER:D,PLEASE_FILL_OUT_THIS_FIELD:A}=s.a,C=r?b?T:N:I,R=l?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(n.translateWithI18Next)(h?D:C)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:a,type:"text","data-testid":"occasion-input",className:d||l?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>o(e,r),title:Object(n.translateWithI18Next)(A)}),Object(j.jsx)("label",{children:Object(n.translateWithI18Next)(x)}),l&&Object(j.jsxs)("div",{className:"error-text-container ".concat(R),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(n.translateWithI18Next)(g)})]}),""!==a?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>c()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(m.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(n.translateWithI18Next)(p)}),Object(j.jsx)(m.a,{disabled:O,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>i(),children:Object(n.translateWithI18Next)(E)})]})]})};t.a=e=>{const{isMobile:t,editItemId:o,setEditItemId:m,showOccassionModal:g,setOccassionModalOpen:p,cardInfo:E,toastmessage:I,hasEdit:N=!1,occasionName:x,setOccasionName:S,isAddFavOrderBox:f,updateSetOrderDetails:T,userParams:D,currencyShortName:A,currencyConversionFactor:C,orderDetail:R,productMapById:_}=e,y=Object(a.b)(),[L,w]=Object(i.useState)(""),[F,M]=Object(i.useState)(""),[k,B]=Object(i.useState)(!0),[P,H]=Object(i.useState)([]),U=Object(a.c)((e=>{var t;return Object(b.rd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:W,phone:V}=Object(a.c)((e=>{var t;return Object(b.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:G,favouriteNameMinLength:Y}=Object(a.c)((e=>Object(b.rd)(e.tenantReducer))),{tenantId:q}=Object(a.c)((e=>Object(b.sd)(e.tenantReducer))),[z,J]=Object(i.useState)(!1),[K,X]=Object(i.useState)(!1),[$,Z]=Object(i.useState)(""),{FavoriteActiveWhite:Q}=v.a,ee=Object(j.jsx)(u.a,{srcFile:Q}),te=Object(n.translateWithI18Next)(s.a.FAVORITE_ORDER_NAME_EDITED),oe=Object(b.ad)(N,"occassion-modal","OccassionModal"),ie=Object(b.ad)(N,"edit-modal",""),{NAME_EXIST:ae,OCCASION_NAME_VALIDATION:de,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:le,OCCASION_NAME_LENGTH_ERROR:re}=s.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{M(x),w(x)}),[g]),Object(i.useEffect)((()=>{L&&Object(b.hb)(!z,!K)&&(null===L||void 0===L?void 0:L.length)>=Y?B(!1):B(!0)}),[L,z,K]);const ne=Object(b.ad)(N,(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===P||void 0===P?void 0:P.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),i=null===G||void 0===G?void 0:G.test(L);let a=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.jb)(!i,0===a))J(!0);else if(i&&t>=0&&F!==L)X(!0),J(!1);else{const e={tenantId:q,customerId:W,phoneNumber:Object(b.Pc)(V)},t={orderId:o,name:L};y(Object(r.a)(e,t)),m(""),ce(),Object(b.Df)(te,ee,"favorites-added-toast"),setTimeout((()=>{d.b.dismiss()}),3e3)}}),(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===P||void 0===P?void 0:P.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=null===G||void 0===G?void 0:G.test(L);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.jb)(!o,0===i))J(!0);else if(o&&t>=0)X(!0),J(!1);else{const{id:e}=E;y(Object(r.a)({customerId:W,tenantId:q,phoneNumber:Object(b.Pc)(V)},{orderId:e,name:L})),Object(b.hb)(g,T)&&T({saveFavoriteSummarySucess:!0}),ce(),Object(b.Df)(I,ee,"favorites-added-toast"),setTimeout((()=>{d.b.dismiss()}),3e3);const t=[],o={userType:Object(b.od)(null===D||void 0===D?void 0:D.localized,null===D||void 0===D?void 0:D.loggedIn),coupon:(null===R||void 0===R?void 0:R.discountLines)||"NA",value:((null===R||void 0===R?void 0:R.total)/C).toFixed(2),currency:A},i=(null===R||void 0===R?void 0:R.orderedItemDetails)||(null===R||void 0===R?void 0:R.filteredFoodLines);null===i||void 0===i||i.forEach(((e,o)=>{var a,d,l,r,n,s,c,u,v,O,b,m;const{categoryId:j="NA",categoryName:h="NA"}=null!==(a=null===_||void 0===_?void 0:_[null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id])&&void 0!==a?a:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.name)||"NA",item_id:void 0!==(null===R||void 0===R?void 0:R.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,price:Number(((null===e||void 0===e?void 0:e.amount)/C).toFixed(2))||0,item_category:""!==h?(null===(n=i[o])||void 0===n?void 0:n.categoryUrl)||(null===(s=i[o])||void 0===s||null===(c=s.item)||void 0===c?void 0:c.categoryUrl):h,item_list_name:""!==h?(null===(u=i[o])||void 0===u?void 0:u.categoryUrl)||(null===(v=i[o])||void 0===v||null===(O=v.item)||void 0===O?void 0:O.categoryUrl):h,item_list_id:void 0!==(null===R||void 0===R?void 0:R.orderedItemDetails)?""!==j?null===(b=i[o])||void 0===b?void 0:b.id:j:null===e||void 0===e||null===(m=e.item)||void 0===m?void 0:m.id,index:o,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(O.i)(t,o)}}));Object(i.useEffect)((()=>{const e=[];null===U||void 0===U||U.map((t=>{var o,i;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(o=t.name)||void 0===o||null===(i=o.toUpperCase())||void 0===i?void 0:i.trim())})),H(e),o&&(J(!1),X(!1))}),[o]);const se={id:"occassion-modal",role:"dialog",modalTitleId:oe,show:g,classNames:"Base-modal ".concat(Object(b.ad)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>ce(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ce=Object(b.ad)(N,(()=>{X(!1),J(!1),p(!1)}),(()=>{p(!1)}));return Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(b.Pc)(o),updateUserData:!0};i(Object(l.d)(a))}})(q,W,V,y)}),[y,q,W,V]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(c.a,{...se,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(h,{onCancel:ce,setOccasionNameHandler:(e,t)=>{var o;const i=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,a=null===P||void 0===P?void 0:P.includes(null===i||void 0===i?void 0:i.toUpperCase()),d=null===G||void 0===G?void 0:G.test(i),l=(null===i||void 0===i?void 0:i.length)<3;let r="";""!==i&&(l&&!d?r=le:l?r=re:d?a&&(r=ae):r=de),B(!!r),J(!!r),X(r===ae),Z(r),S(i),w(i)},updateFavouriteOrder:ne,occasionName:L,isNameExist:K,isInValid:z,onClearTextHandler:()=>{S(""),w(""),X(!1),J(!1)},disaableButton:k,isEditOrderName:N,editFavHeading:N,"data-testid":ie,isAddFavOrderBox:f,errorMessage:$})})})})})})}},1186:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(28),l=o(41),r=o(6),n=o(4),s=o(394),c=o(85),u=o(43),v=o(80),O=o(132),b=o(2);const{SAVED_ADDRESS:m,START_ORDER:j,SAVED_ADDRESSES:h}=n.a,{SAVED_ADDRESS_LIMIT:g}=u.a,p=e=>{var t;const o=Object(O.a)(),{handleSelectAddress:a,savedAddresses:n=[],show:u,scheduleOrderDateFormat:p}=e,E=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),I=null===E||void 0===E||null===(t=E.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:N}=Object(i.useContext)(c.a),x=null===n||void 0===n?void 0:n.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,g),S=(null===n||void 0===n?void 0:n.length)>1?Object(r.translateWithI18Next)(h):Object(r.translateWithI18Next)(m),f=(null===n||void 0===n?void 0:n.length)>g?g:n.length;return u&&Object(b.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(b.jsx)("div",{className:"savedAddress-store-count",children:Object(b.jsx)("span",{className:"saved-address-count-title",children:"".concat(S," (").concat(f,")")})}),null===x||void 0===x?void 0:x.map(((e,t)=>{var i,d;return Object(b.jsx)("div",{className:"savedAddress-module-card",children:Object(b.jsxs)("div",{className:"inside-card",children:[Object(b.jsxs)("div",{className:"address-section",children:[Object(b.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),I&&Object(b.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e||null===(i=e.addressLines)||void 0===i||null===(d=i.filter(Boolean))||void 0===d?void 0:d.join(" ")," "]})}),!I&&Object(b.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(s.U)(e,N,a,o,v.d,p),"data-testid":"saved-start-order-click-test",children:Object(r.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},E=a.a.memo(p);t.a=E},1193:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var i=o(3),a=o.n(i),d=o(6),l=o(41),r=o(1172),n=o(4),s=o(46),c=o(15),u=(o(1227),o(2));const{Error:v}=c.a,O=e=>{const{showConfirmBtn:t=!1,onClickHandler:o}=e,{CONFIRM_BTN_TEXT:i}=n.a;return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(r.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(l.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:o,children:Object(d.translateWithI18Next)(i)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(s.a,{srcFile:v,className:"location-alert-icon"})})]})},b=a.a.memo(O)},1194:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(6),l=o(263),r=o(46),n=o(15),s=o(5),c=o(4),u=o(2);const v=e=>{const{isAlert:t,show:o,sectionHeader:i,subSectionValue:a,orderTypeChange:v,onClickHandler:O,description:b,storeUnavailableError:m,showChangeButton:j=!0,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",cssSubsection:p,specialNote:E="",dataTestid:I="",elementUniqueLocator:N}=e;return o?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(d.translateWithI18Next)(i)}),Boolean(m)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(r.a,{srcFile:t&&n.a.Error_Yellow||n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(d.translateWithI18Next)(m)}})]}),Boolean(h)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(r.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(p),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:a}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),E&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(d.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",E]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(l.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":N?I:"dynamic-click-test",children:Object(d.translateWithI18Next)(v)})})]})]}):null},O=a.a.memo(v);t.a=O},1195:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(6),l=o(15),r=o(430),n=o(4),s=o(120),c=o(1117),u=o(46),v=o(16),O=o(2);const b=e=>{const{show:t,sectionHeader:o,selectedDate:i,selectedTime:a,changeDateValue:b,changeTimeValue:m,dateTimeArr:j,showCateringWarning:h=!1,scheduleTimeWarning:g=!1,scheduleErrMsg:p="",scheduleErrorType:E="",scheduleWarningMsg:I="",changeTimeObj:N={},changeDateObj:x={},placeholderText:S,disableDateOption:f=!1,disableTimeOption:T=!1,enableScheduleOrderFlag:D=!1,enableOrderCapacityManagement:A=!1,orderCapacity:C={},storeId:R="",elementUniqueLocator:_,isUberStore:y=!1}=e,{SingleArrow:L}=l.a,{DATE:w,TIME:F,UBER_TIME:M}=n.a,k=D?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",B=A?Object(s.n)(C,R,i,j):[],P=A?B:null===i||void 0===i?void 0:i.timeSlots;return t?Object(O.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(O.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(d.translateWithI18Next)(o)}),Object(O.jsx)(c.a,{show:null===h||void 0===h?void 0:h.show,errorMsg:null===h||void 0===h?void 0:h.warning,errImage:null===h||void 0===h?void 0:h.image,cssClass:null===h||void 0===h?void 0:h.cssClass}),g&&Object(O.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(O.jsx)(u.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(O.jsx)("div",{className:"storeErrorMessage",children:p})]}),Object(O.jsxs)("div",{className:k,children:[Object(O.jsx)(r.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(d.translateWithI18Next)(w),setSelectedItem:b,changeDateObj:x,changeTimeObj:N,dateTimeArr:j,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:L,options:Object(s.o)(j),dropdownId:"date-id",disableOptions:f,enableOrderCapacityManagement:A,shouldDisplayDropdownError:g&&I&&E===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:I,dataTestid:"schedule-date",elementUniqueLocator:_}),Object(O.jsx)(r.a,{cssClass:"date-time-dropdown ".concat(A?"date-time-dropdown--order-capacity":""),dropdownTitle:y?Object(d.translateWithI18Next)(M):Object(d.translateWithI18Next)(F),setSelectedItem:m,changeDateObj:x,changeTimeObj:N,dateTimeArr:j,selectedItem:a,imgSrc:L,options:P,dropdownId:"time-id",placeholderText:S,disableOptions:T,enableOrderCapacityManagement:A,shouldDisplayDropdownError:g&&I&&E===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:I,dataTestid:"schedule-time",elementUniqueLocator:_})]})]}):null},m=a.a.memo(b);t.a=m},1196:function(e,t,o){"use strict";var i=o(5),a=o(3),d=o(1221),l=o(46),r=o(1206),n=o(133),s=o(15),c=o(0),u=o(28),v=o(2);const{UseLocationIcon:O}=s.a,b=e=>{var t,o,s,b,m;const{eligibleStores:j,loggedIn:h,defaultStoreId:g,selectedCoords:p,passAddress:E,configSearchKey:I,useCurrentLocation:N,showLocationConfirmModal:x,findAKFC:S,favouriteStores:f,useLatLngForReverseGeocode:T,disableMapSelection:D=!1,disableUseLocationIcon:A=!1,markerDragValue:C=!1,zoomLevel:R=12}=e,_=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:y,countryCode:L}=_,w=null===_||void 0===_||null===(t=_.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(s=o.dispositionConfig)||void 0===s?void 0:s.showLabelOnMapPin,F=null===y||void 0===y||null===(b=y.web)||void 0===b?void 0:b.dispositionConfig,{shouldShowStoresLocation:M,shouldShowStoreCardsMap:k,shouldShowMarkerWithText:B,shouldIgnoreStoreList:P,storeOpenBtnText:H}={...null===n.d||void 0===n.d?void 0:n.d[I],...null===F||void 0===F?void 0:F[I]},[U,W]=Object(a.useState)(Object(i.de)(window.innerWidth)),[V,G]=Object(a.useState)(g),[Y,q]=Object(a.useState)({storeDetails:{},storeIndex:0}),[z,J]=Object(a.useState)([]),[K,X]=Object(a.useState)(!0),[$,Z]=Object(a.useState)(200),[Q,ee]=Object(a.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,q({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),X(Boolean(null===j||void 0===j?void 0:j.length))},oe=()=>{var e,t;const o=Object(i.de)(window.innerWidth);W(o);const a=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,d=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let l=.9*(d-a);if(o){var r,n;l=d-a-(null===(r=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(n=Y.storeDetails)||void 0===n?void 0:n.id)))||void 0===r?void 0:r.clientHeight)}ee(l)};Object(a.useEffect)((()=>(window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)})),[U]),Object(a.useEffect)((()=>{te(V)}),[V,f]),Object(a.useEffect)((()=>{j.length>0&&te(V)}),[j,V]),Object(a.useEffect)((()=>{const e=c.cd[L]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let o=null!==p&&void 0!==p&&p.lat?p:e;null!==t&&void 0!==t&&t.length?J(t):J(o)}),[f,V,j]),Object(a.useEffect)((()=>{var e,t;const o=null===(e=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(t=Y.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;o&&Z(o)}),[null===Y||void 0===Y||null===(m=Y.storeDetails)||void 0===m?void 0:m.id]),Object(a.useEffect)((()=>{oe()}),[]);const ie=Object(i.Je)(K,k);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(D&&"block-map"),children:[Object(v.jsxs)("div",{className:S?"".concat(Object(i.ad)(ie,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(d.a,{latLongValue:z,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:E,isVisible:M,isMobile:U,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===Y||void 0===Y?void 0:Y.storeIndex)-1])||void 0===t?void 0:t.id;te(e),G(e)}else if(1===e){var o;const e=null===j||void 0===j||null===(o=j[(null===Y||void 0===Y?void 0:Y.storeIndex)+1])||void 0===o?void 0:o.id;te(e),G(e)}},setShowCard:X,setStoreMarker:e=>{const t=Object(i.X)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),G(null===t||void 0===t?void 0:t.id))},storeCardHeight:$,isMarkerVisible:P||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:B,locationAlertProp:B,style:{height:"".concat(Q,"px")},defaultZoom:R,useLatLngForReverseGeocode:T,markerDragValue:C,showLabelOnMapPin:w}),!A&&Object(v.jsx)("div",{className:"use-location-icon ".concat(x?"disable-location-icon":""),children:Object(v.jsx)(l.a,{srcFile:O,alt:"",onClick:N,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:S?"".concat(Object(i.ad)(ie,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:ie&&(null===Y||void 0===Y?void 0:Y.storeDetails)&&Object(v.jsx)(r.a,{store:null===Y||void 0===Y?void 0:Y.storeDetails,isMapView:!0,loggedIn:h,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:S,storeOpenBtnText:H})})]})};b.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=b},1197:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var i=o(3),a=o.n(i),d=o(6),l=o(263),r=o(46),n=o(269),s=o(394),c=o(15),u=o(2);const{LocationImage:v}=c.a,O=e=>{const{loggedIn:t=!1,formContent:o={},useCurrentLocation:i,storeSelection:a,hideLocationLink:c,showLocationConfirmModal:O}=e,{signInLink:b,useMyLocation:m}=a,{memberText:j="",singInLink:h={},currentLocationText:g=""}=o;return Object(u.jsxs)("div",{className:"login-section",children:[b&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(n.f)(j,s.R,h)}),m&&!c&&Object(u.jsx)("span",{className:"".concat(O?"disable-location-link":""),children:Object(u.jsxs)(l.a,{onClickHandler:i,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(r.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(d.translateWithI18Next)(g)]})})]})},b=a.a.memo(O)},1210:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(20),l=o.n(d),r=o(28),n=o(419),s=o.n(n),c=o(42),u=o.n(c),v=o(1102),O=o.n(v),b=o(62),m=o(171),j=o(113),h=o(1104),g=o(73),p=o(35),E=o(6),I=o(144),N=o(1194),x=o(4),S=o(5),f=o(0),T=o(46),D=o(1117),A=o(15),C=o(169),R=o(2);var _=e=>{var t,o;const{currencySymbol:i,currencyConversionFactor:a,unavailableItem:d,orderDetails:l}=e,{YOUR_ORDER:r,TOTAL:n,ITEM_NOT_UNAVAILABLE:s,ITEM_CURRENLTY_UNAVAILABLE:c,CART_ITEM:u,REORDER_COUPON_ERROR_MESSAGE:v}=x.a,{foodLines:O=[],id:b,total:m}=Object(S.sd)(l),j=Object(E.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.ADD_HOPE),h=Object(E.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.LARGE_CARRY_BAG),g=Object(S.Tb)(O,j,h),p=null===g||void 0===g?void 0:g.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0),I=(d.length||(null===l||void 0===l||null===(t=l.discountLines)||void 0===t?void 0:t.length))>0;return Object(R.jsxs)("div",{className:"reorder-item-section",children:[Object(R.jsx)("span",{className:"reorder-section-heading",children:Object(E.translateWithI18Next)(r)}),Object(R.jsx)("div",{className:"".concat(Object(S.ad)(I,"error-can-not-deliver","hide-error-container")),children:Object(R.jsx)(D.a,{show:I,errorMsg:Object(E.translateWithI18Next)(null!==l&&void 0!==l&&null!==(o=l.discountLines)&&void 0!==o&&o.length?v:s),errImage:A.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(R.jsx)("section",{className:"reorder-accordian",children:Object(R.jsxs)(C.a,{header:"".concat(p," ").concat(Object(E.translateWithI18Next)(u)).concat(p>1?"s":""),open:!0,children:[null===g||void 0===g?void 0:g.map((e=>{var t,o,l,r,n;return Object(R.jsx)("section",{className:"",children:Object(R.jsxs)("div",{className:"reorder-order-item",children:[Object(R.jsx)("div",{className:"reorder-item-details",children:Object(R.jsx)("div",{className:"item-count-box mr",children:Object(R.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(R.jsxs)("div",{className:"item-desc-section",children:[Object(R.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(t=e.item)||void 0===t||null===(o=t.dname)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.value}),d.length>0&&d.find((t=>{var o;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)}))&&Object(R.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(R.jsx)(T.a,{srcFile:A.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(E.translateWithI18Next)(c)]})]}),!Object(S.le)()&&Object(R.jsxs)("span",{className:"item-amount item-desc-bold",children:[i,Object(S.g)((null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.quantity)*(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.unitPrice),a)," "]})]})})})),!Object(S.le)()&&Object(R.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(R.jsx)("span",{className:"payment-total",children:Object(E.translateWithI18Next)(n)}),Object(R.jsxs)("span",{className:"payment-total-amount",children:[i,Object(S.g)(m,a)]})]})]},"orderItem-".concat(b))})]})},y=o(41),L=o(1195),w=o(85);const{CURRENT_STORE_INFO_STORAGE:F}=f.gd||{},M=e=>{const{isGenericError:t,isPastOrderValidationLoading:o,isAddItemLoading:i,enableButton:a,enableScheduleOrder:d,isFutureDateTimeOrder:r,scheduleOrderFlag:n,selectedTime:s,hasError:c,unavailableItem:u,totalItemsLength:v}=e;return t||o||i||!a||c.error||(null===u||void 0===u?void 0:u.length)===v||d&&r&&n&&l()(s)};var k=e=>{var t,o,d,l,n,s;const{closeButtonHandler:c,onChangeDisposition:u,editDeliveryLocation:v,enableButton:O,onChangeRestaurant:b,currentOrderInfo:m,onClickOrderAgain:j,orderTypeDifferentError:h,storeError:g,locationDifferentError:p,isLocationError:T,isGenericError:D,isPastOrderValidationLoading:A,isAddItemLoading:C,storeChanged:F,currentStoreInfo:k,enableScheduleOrderFlag:B,selectedDate:P,selectedTime:H,scheduleOrderFlag:U,hasError:W,changeDateValue:V,changeTimeValue:G,orderNowFlag:Y,enableSceduleCA:q,enableScheduleMode:z,dateTimeArr:J,orderSchedulingMode:K,changeScheduleOrder:X,isFutureDateTimeOrder:$,isStoreClosed:Z,storeClosedError:Q,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:oe}=Object(i.useContext)(w.a),ie=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(B,J),ae=((e,t)=>{var o;return!!e&&!(null!==t&&void 0!==t&&null!==(o=t.timeSlots)&&void 0!==o&&o.length)})(B,P),de=Object(r.c)((e=>e.tenantReducer)),le=null===de||void 0===de||null===(t=de.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:re,disableChangeCTAForAddressChange:ne,disableChangeCTAForStoreChange:se}=null===de||void 0===de||null===(o=de.componentOptions)||void 0===o||null===(d=o.web)||void 0===d?void 0:d.quickReorder,{modifiedStoreData:ce,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(S.md)(F,k,m,oe),Oe=F?Object(S.ac)(null===m||void 0===m?void 0:m.deliveryAddress,le):Object(S.ac)(ve,le),{REVIEW_ORDER:be,ORDER_TYPE:me,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:he,YOUR_LOCATION:ge,ORDER_AGAIN:pe,PICK_UP_TIME:Ee,DELIVERY_TIME:Ie}=x.a,{DELIVERY:Ne}=f.Jb,xe=((e,t)=>{const{DELIVERY:o}=f.Jb||{},i=(null===t||void 0===t?void 0:t.toUpperCase())===o?Object(E.translateWithI18Next)(x.a.SELECT_DELIVERY_TIME):Object(E.translateWithI18Next)(x.a.SELECT_PICKUP_TIME);return e?i:Object(E.translateWithI18Next)(x.a.ASAP)})(X,ue),Se=Y||U&&!X,fe=U&&X,Te={isGenericError:D,isPastOrderValidationLoading:A,isAddItemLoading:C,enableButton:O,enableScheduleOrder:B,isFutureDateTimeOrder:$,scheduleOrderFlag:U,selectedTime:H,hasError:W,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(l=e.orderDetails)||void 0===l||null===(n=l.foodLines)||void 0===n?void 0:n.length};return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsxs)(I.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:c,backButtonHandler:c,modalTitle:Object(E.translateWithI18Next)(be),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:y.b.secondary,footerBtnText:Object(E.translateWithI18Next)(pe),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:M(Te),loadingBtn:C,children:[Object(R.jsx)(N.a,{show:!0,sectionHeader:me,subSectionValue:Object(E.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:h,isAlert:!0,showChangeButton:!re,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(R.jsx)(N.a,{show:Object(S.Jd)(ue),sectionHeader:ge,subSectionValue:Oe,showChangeButton:!Object(S.Jd)(ue)||!ne,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(s=ve.addressLines)||void 0===s?void 0:s[0]:null===oe||void 0===oe?void 0:oe.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(Oe)}),Object(R.jsx)(N.a,{show:!0,sectionHeader:he,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,onClickHandler:b,showChangeButton:!se,isAlert:Z||!D,storeUnavailableError:D&&g||T&&p||Z&&Q,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(R.jsx)(N.a,{show:Boolean(B&&Se),sectionHeader:Object(S.Jd)(ue)?Ie:Ee,subSectionValue:K,orderTypeChange:je,onClickHandler:z,showChangeButton:q,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(R.jsx)(L.a,{show:Boolean(B&&fe),sectionHeader:Object(S.Jd)(ue)?Ie:Ee,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,changeDateValue:V,changeTimeValue:G,dateTimeArr:J,selectedDate:P,selectedTime:H,placeholderText:xe,disableDateOption:ie,disableTimeOption:ae,scheduleTimeWarning:B&&W&&(null===W||void 0===W?void 0:W.error),scheduleErrMsg:B&&W&&(null===W||void 0===W?void 0:W.errormessage),enableScheduleOrderFlag:B,elementUniqueLocator:te}),Object(R.jsx)(_,{...e})]})})},B=o(16),P=o(43),H=o(133),U=o(120),W=o(24),V=o(12),G=o(412),Y=o(329),q=o(145),z=o(394),J=o(80),K=o(132);const X=e=>{var t;const{enableScheduleOrder:o,isFutureTimeOrderAvailable:i,updateReorderDetails:a,storename:d,service:l}=e,{STORE_CLOSED_ERROR:r,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:n,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:s}=x.a;a(o&&i?{storeError:null,storeClosedError:Object(S.rf)(l)===f.Lb.PICKUP?Object(E.translateWithI18Next)(n):Object(E.translateWithI18Next)(s)}:{storeClosedError:null,storeError:null===(t=Object(E.translateWithI18Next)(r))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})},$=e=>{var t;const{timings:o={},orderingAttribute:i={}}=Object(S.sd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:a={}}=o||{},{isAsapOrder:d=!1}=i||{},l=!(null!==a&&void 0!==a&&a.isAvailable);return Boolean(!l&&d)},Z=(e,t)=>Boolean(e&&t),Q=e=>{var t;return e?Object(E.translateWithI18Next)(x.a.TODAY_ASAP):null===(t=Object(E.translateWithI18Next)(x.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,o,d,n,c,v,I,N,T,D;const{currentOrderInfo:A,reorderModalOpen:C,closeButtonHandler:_,source:y}=e,{service:L,id:F,store:M,name:ee}=Object(S.sd)(A),{storeId:te}=Object(S.sd)(M),oe=Object(r.b)(),ie=Object(b.g)(),{RESET_DELIVERY_ADDRESS_LINE:ae,DISPOSITION_DATA:de,SCHEDULE_ORDER_DATA:le,SEARCH_ORDER_DATA:re,DISPOSITION_METHOD:ne,USER_LOCALIZED:se,CURRENT_STORE_INFO:ce,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:Oe,SET_ASAP_SCHEDULING:be,SCHEDULE_ORDER_CLICKED:me}=B.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:he,DISPOSITION_TYPE:ge,DATE_TIME_ORDER:pe,SELECTED_TILE:Ee,CONFIG_SEARCH_SCREEN:Ie,CURRENT_STORE_INFO_STORAGE:Ne,STORE_INFO:xe}=f.gd,{LOCATION_DIFFERENT_ERROR:Se,STORE_CLOSED_ERROR:fe}=x.a,{userOrderState:Te,userOrderStateDispatch:De}=Object(i.useContext)(w.a);let{dispositionNew:Ae,reorderFlag:{storeChanged:Ce=!1},currentStoreInfo:Re={},scheduleOrderData:_e={},showOrderNowReorder:ye=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:we=!1}=Te;const{changeFlow:Fe=!1,isAddressFlow:Me=!1}=_e;Ae=Object(S.ad)(Object(S.Sd)(Ae),JSON.parse(localStorage.getItem(je)),Ae);const ke=Object(r.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Be=!1,loggedIn:Pe=!1}=Object(S.sd)(ke),He=Object(S.od)(Be,Pe),Ue=Object(r.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:We,currencyConversionFactor:Ve,currencySymbol:Ge,componentOptions:Ye}=Object(S.sd)(Ue),qe=null===Ue||void 0===Ue||null===(t=Ue.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,ze=null===Ue||void 0===Ue||null===(o=Ue.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress,Je=null===Ue||void 0===Ue||null===(d=Ue.componentOptions)||void 0===d?void 0:d.showComma,{web:Ke={}}=Ye,{shouldCheckDropOffAddress:Xe=!1}=Ke,$e=Object(r.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(S.sd)($e),{elementUniqueLocator:Qe,timeFormat:et}=Object(r.c)((e=>e.tenantReducer||{})),tt=Object(r.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:ot={}}=Object(S.sd)(tt),{addHope:it,carryBag:at}=Ue,dt=a.a.useRef(null),lt=Object(r.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:rt}=Object(S.sd)(lt),{items:nt=[]}=Object(S.sd)(rt),st=Object(r.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),ct=Object(r.c)((e=>{var t,o,i;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreDetailsLoading)||(null===(i=e.LoaderReducer)||void 0===i?void 0:i.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:Ot}=Object(S.sd)(st),{discountLines:bt=[],foodLines:mt=[]}=ot,jt=Object(S.hb)(bt,(null===bt||void 0===bt?void 0:bt.length)-1),ht=Object(S.hb)(bt,bt[jt]),{couponCode:gt="",amount:pt=""}=Object(S.sd)(ht),Et=Object(S.g)(pt,Ve),It=null===Ye||void 0===Ye||null===(n=Ye.web)||void 0===n?void 0:n.dispositionConfig,Nt=null===Ye||void 0===Ye||null===(c=Ye.web)||void 0===c||null===(v=c.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:xt=!1}=It,{modifiedService:St}=Object(S.md)(Ce,Re,A),ft=((e,t,o)=>e&&(null===t||void 0===t?void 0:t.includes(o)))(null===Ye||void 0===Ye||null===(I=Ye.web)||void 0===I||null===(N=I.dispositionConfig)||void 0===N?void 0:N.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(T=Ye.web)||void 0===T||null===(D=T.scheduledDelivery)||void 0===D?void 0:D.allowScheduleOrderForDispositions,St),Tt=((e,t)=>e||t)(xt,ft),Dt={unavailableItem:[],showModal:C,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:Q(ft),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[At,Ct]=Object(i.useState)(Dt),[Rt,_t]=Object(i.useState)(!1),yt=Object(i.useCallback)((e=>{Ct&&Ct((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=f.sb,wt=Tt?Ce:Fe,Ft=Object(K.b)(J.b);Object(i.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(f.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(i.useEffect)((()=>{dt.current=At}),[At]),Object(i.useEffect)((()=>{if(Z(Tt,At.storeDetail)&&At.isFutureDateTimeOrder&&!At.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=At.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:Tt,enableClickCollectScheduleOrderFlag:ft,fromReorder:!0,scheduleModeClicked:we,timeFormat:et},o=Object(U.h)(t);yt({dateTimeArr:o})}}),[xt,At.storeDetail,L,Ce,At.isFutureDateTimeOrder,At.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Tt,At.storeDetail)&&At.isFutureDateTimeOrder&&At.scheduleOrderFlag&&At.changeScheduleOrder){const e={shouldShowScheduleOrder:At.scheduleOrderFlag,store:At.storeDetail,updateReorderDetails:yt,changeFlow:Fe,enableScheduleOrder:Tt,selectedDate:At.selectedDate,selectedTime:At.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:we,enableClickCollectScheduleOrderFlag:ft};Object(U.c)(e)}}),[Tt,At.scheduleOrderFlag,Ce,At.storeDetail,At.isFutureDateTimeOrder,At.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Tt,At.storeDetail)){var e,t,o;const i=$(null===At||void 0===At?void 0:At.storeDetail),a=null===(e=At.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),d=!l()(At.selectedDate)&&!l()(At.selectedTime),r=u()(null===At||void 0===At||null===(t=At.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),n=((e,t)=>Boolean(e&&!t))(null===At||void 0===At?void 0:At.storeClosedError,a);((e,t,o,i)=>{var a;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&o({orderSchedulingMode:i?Object(E.translateWithI18Next)(x.a.TODAY_ASAP):null===(a=Object(E.translateWithI18Next)(x.a.ASAP))||void 0===a?void 0:a.toUpperCase()})})(At,i,yt,ft);const s=(e=>{const{storeClosedError:t,asapOrderFlag:o,isFutureDateTimeOrder:i,changeScheduleOrder:a,enabledDate:d,isDateTimeSelected:l}=e;return Boolean((t||!o)&&i&&!a&&d&&!l)})({storeClosedError:null===At||void 0===At?void 0:At.storeClosedError,asapOrderFlag:i,isFutureDateTimeOrder:null===At||void 0===At?void 0:At.isFutureDateTimeOrder,changeScheduleOrder:At.changeScheduleOrder,enabledDate:a,isDateTimeSelected:d});s&&yt({scheduleOrderFlag:!0,selectedDate:a,selectedTime:null===a||void 0===a?void 0:a.timeSlots[0],orderNowFlag:!1});const c=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:o,scheduleOrderFlag:i,changeScheduleOrder:a,enabledDate:d}=e;return Boolean(!t&&o&&i&&a&&d)})({storeClosedError:At.storeClosedError,isFutureDateTimeOrder:At.isFutureDateTimeOrder,scheduleOrderFlag:At.scheduleOrderFlag,changeScheduleOrder:At.changeScheduleOrder,enabledDate:a});c&&l()(At.selectedDate)&&yt({selectedDate:a}),n&&yt({storeClosedError:null,storeError:null===(o=Object(E.translateWithI18Next)(fe))||void 0===o?void 0:o.replace("$storeName",'<b class="item-desc-bold">'.concat(r,"</b>"))})}}),[Tt,At.orderNowFlag,At.scheduleOrderFlag,At.storeClosedError,At.changeScheduleOrder,At.storeDetail,At.isFutureDateTimeOrder,Ce,At.dateTimeArr]),Object(i.useEffect)((()=>{if(Tt&&!l()(At.selectedDate)&&!l()(At.selectedTime)){const e=At.selectedDate.date.value,t=At.selectedTime.value,o=Je?",":"",i=" ".concat(e).concat(o," ").concat(t);yt({orderSchedulingMode:i})}}),[At.selectedDate,At.selectedTime,Tt]),Object(i.useEffect)((()=>{if(Z(Tt,At.storeDetail)){var e,t,o;const i=null===(e=At.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=Object(S.Yd)(null===(t=At.storeDetail)||void 0===t?void 0:t[0])||Object(S.Xd)(null===(o=At.storeDetail)||void 0===o?void 0:o[0]),d=((e,t,o)=>Boolean(e&&!t&&o))(a,At.changeScheduleOrder,i);yt({isFutureDateTimeOrder:a,enableSceduleCA:d})}}),[Tt,At.storeDetail,Ce,At.dateTimeArr]),Object(i.useEffect)((()=>{null!==At&&void 0!==At&&At.showModal&&Tt&&!Ce&&De({type:me,value:{scheduleModeClicked:!1}})}),[null===At||void 0===At?void 0:At.showModal,Tt,Ce]),Object(i.useEffect)((()=>{if(Z(Tt,At.storeDetail)&&At.showModal&&Ce&&!At.isFlowChangedLoadingFinish){var e,t,o;const i=null===(e=At.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=((e,t,o)=>Boolean(e&&t&&o))($(null===At||void 0===At?void 0:At.storeDetail),At.isFutureDateTimeOrder,i);a&&yt({orderNowFlag:ye,changeScheduleOrder:!ye||Le&&(null===(t=At.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!ye||Le&&(null===(o=At.dateTimeArr)||void 0===o?void 0:o.length),isFlowChangedLoadingFinish:!0})}}),[Tt,ye,Le,Ce,At.showModal,At.storeDetail,At.dateTimeArr,At.isFlowChangedLoadingFinish,At.isFutureDateTimeOrder]);Object(i.useEffect)((()=>{Object(S.hb)(At.confirmed,Ot)&&(yt({confirmed:!1}),ie.push(f.Ce.CART))}),[At.confirmed,Ot]);const Mt=Object(S.g)(null===ot||void 0===ot?void 0:ot.total,Ve),kt=Object(i.useCallback)((()=>{var e,t;const o=null===(e=At.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,i=Object(S.ac)(o);localStorage.setItem(f.gd.RETAIN_ADDRESS,i),yt({showModal:!1}),De({type:ae}),De({type:de,value:{showDisposition:!0}}),De({type:le,value:{showScheduleOrder:!1}}),De({type:re,value:{showSearchStore:!1}}),De({type:Oe,value:{reorderModalOpen:!1}})}),[De,At.storeDetail]),Bt=Object(i.useCallback)((e=>{const t=s()(At.storeDetail,{});t&&(De({type:ne,value:{dispositionType:t.service}}),Object(U.a)(Me,t,H.a,wt,!0,e,De),De({type:Oe,value:{reorderModalOpen:!1}}))}),[De,wt,Me,At.storeDetail]),Pt=Object(i.useCallback)((e=>{if(!Object(S.Sd)(e)){var t;const{summary:o}=e,{futureDates:i,scheduled:a,asap:d}=Object(S.sd)(null===o||void 0===o?void 0:o.timings),{interval:l=0,startEndTime:r={}}=a&&a.periods.length&&a.periods[0],{from:n,to:s}=r;return Object(U.j)(n,s,l,null===d||void 0===d?void 0:d.isAvailable,Object(S.hb)(1===i.length,Object(S.le)())),{time:f.t,interval:null===o||void 0===o||null===(t=o.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:f.t}}})),Ht=(e,t,o)=>{const i=[];let a=0,d=[],l=Object(S.Tb)(e,it,at);return null===l||void 0===l||l.forEach((e=>{var l,r,n;const s=(e=>{const t=e;return e.forEach(((t,o)=>{var i;e[o].modifiers=null===(i=t.modifiers)||void 0===i?void 0:i.filter((e=>!0===e.isAdded))})),t})(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps),c=null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,u=Object(S.Of)(nt,s,c),{isAvailable:v,product:O}=((e,t,o)=>{var i,a,d,l,r,n;const s=o&&"ASAP"!==o?Object(V.C)(o,f.sb.lll):Object(V.e)(f.sb.lll),c=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(i=c[0])||void 0===i||null===(a=i.availability[0])||void 0===a?void 0:a.availableHours,v=null===u||void 0===u||null===(d=u.startTime)||void 0===d?void 0:d.time,O=null===u||void 0===u||null===(l=u.endTime)||void 0===l?void 0:l.time,b=Object(z.j)(Object(S.z)(v),f.sb.lll,1e3*o),m=Object(z.j)(Object(S.z)(O),f.sb.lll,1e3*o),j=null===(r=c[0])||void 0===r?void 0:r.isNotAvailable,h=Object(V.f)(s,b,m)&&!j;return(null===(n=c[0])||void 0===n?void 0:n.isHidden)?{isAvailable:"hidden",product:c}:{isAvailable:h,product:c}})(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id,t,o);var b,m,j,h;v&&u?i.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===O||void 0===O||null===(b=O[0])||void 0===b||null===(m=b.categoryUrl)||void 0===m?void 0:m[0],categoryName:null===O||void 0===O||null===(j=O[0])||void 0===j?void 0:j.categoryName,categoryId:null===O||void 0===O||null===(h=O[0])||void 0===h?void 0:h.categoryId,modGrps:s}):(a+=1,d.push(e.item))})),yt({unavailableItem:d}),{unAval:a,itemArr:i}},Ut=(e,t,o)=>{const i=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===f.Ne||void 0===f.Ne?void 0:f.Ne.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:W.b.channel,service:o});Object(q.g)(),oe(Tt?Object(h.b)({tenantId:We,catalogName:e},i,(()=>yt({isMenuFetched:!0}))):Object(h.b)({tenantId:We,catalogName:e},{storeId:t,channel:W.b.channel,service:o},(()=>yt({isMenuFetched:!0}))))};Object(i.useEffect)((()=>{if(Object(S.j)([mt.length>0,nt.length>0,At.isMenuFetched])){var e;const{id:t}=Object(S.sd)(ut),o=Object(S.Tb)(mt,f.i),i=Ht(o,nt,null===(e=At.selectedTime)||void 0===e?void 0:e.key),a={dispatch:oe,response:i,foodLineInfo:mt,basketId:t,tenantId:We,updateReorderDetails:yt,setupLocalization:Vt,storeDetail:At.storeDetail,orderinfoData:At.orderinfoData,closeButtonHandler:_};Rt||((e=>{const{dispatch:t,response:o,foodLineInfo:i,basketId:a,tenantId:d,updateReorderDetails:l,setupLocalization:r,storeDetail:n,orderinfoData:s,closeButtonHandler:c}=e;o.unAval!==i.length&&t(Object(p.a)({params:{basketId:a},tenantId:d,isFromReorder:!0},o.itemArr,(e=>{localStorage.removeItem(f.gd.ADD_TO_ORDER),r(n,s),l({confirmed:!0}),c()})))})(a),yt({isMenuFetched:!1})),_t(!1)}}),[mt,nt,At.isMenuFetched]);const Wt=async function(){var e,t,o,i,a,d,l,r,n,s,c,u,v,b,m,j,h,g,I,N,T,D,A,C;let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_||_t(!1);const{lang:y,catalog:w,storeId:F,deliveryAddress:M,storename:k,service:B}=Object(S.ld)(_?R:At.storeDetail),H=Ce?M:null===(e=At.orderinfoData)||void 0===e?void 0:e.deliveryAddress,U={date:null!==(t=null===(o=At.selectedDate)||void 0===o||null===(i=o.date)||void 0===i?void 0:i.key)&&void 0!==t?t:Object(V.h)(new Date,Lt),time:null!==(a=null===(d=At.selectedTime)||void 0===d?void 0:d.value)&&void 0!==a?a:f.t,selectedTime:null!==(l=null===(r=At.selectedTime)||void 0===r?void 0:r.value)&&void 0!==l?l:f.t,epochTime:null!==(n=At.selectedTime)&&void 0!==n&&n.key&&(null===(s=At.selectedTime)||void 0===s?void 0:s.key)!==f.t?null===(c=At.selectedTime)||void 0===c?void 0:c.key:f.t},W={time:f.t,date:new Date,selectedTime:f.t,epochTime:f.t},G=Tt?U:W;let Y={id:F,summary:{menu:{catalogs:[w]}},addresses:[{lang:y}]};const{addressLines:q=[],customProperties:z}=(null===At||void 0===At||null===(u=At.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[K,$,Z,Q,ee,te,ie,ae]=q,de=null===At||void 0===At||null===(v=At.orderinfoData)||void 0===v||null===(b=v.deliveryAddress)||void 0===b?void 0:b.name,le=null===At||void 0===At||null===(m=At.orderinfoData)||void 0===m||null===(j=m.deliveryAddress)||void 0===j?void 0:j.pinCode,re=null===(h=O()(z,{key:f.V}))||void 0===h?void 0:h.value,ne=null===(g=O()(z,{key:f.S}))||void 0===g?void 0:g.value,se=(null===At||void 0===At||null===(I=At.orderinfoData)||void 0===I||null===(N=I.customProperties)||void 0===N||null===(T=N[0])||void 0===T?void 0:T.value)||{},ce=qe&&null!==q&&void 0!==q&&q.length?{addressName:de,apartmentName:ee,chome:Z,chomeId:ne,cityId:re,cityTown:$,companyName:ie,postalCode:le,prefecture:K,roomNumber:te,specialNote:ae,streetDetailAddress:Q}:{},ue=await Object(S.A)(Y,Object(S.Mb)(B),Ze,G,Object(S.ac)(H,ze),null,ce,null===At||void 0===At||null===(D=At.orderinfoData)||void 0===D||null===(A=D.deliveryAddress)||void 0===A?void 0:A.addressLines);let ve=Object(V.p)();if(Tt&&(null===(C=At.selectedTime)||void 0===C?void 0:C.key)<ve)yt({hasError:{...At.hasError,error:!0,errormessage:Object(E.translateWithI18Next)(x.a.SCHEDULE_ORDER_CA)}});else{const e=Object(S.Td)(At.selectedTime)?At.selectedTime.key:"";Tt&&sessionStorage.setItem(f.Ne.SCHEDULE_DATE_EPOCH,e),oe(Object(p.f)({data:ue,tenantId:We,successCallback:()=>Ut(w,F,B),errorCallback:()=>{var e,t;const o=dt.current,i=Object(S.Yd)(null===o||void 0===o||null===(e=o.storeDetail)||void 0===e?void 0:e[0])||Object(S.Xd)(null===o||void 0===o||null===(t=o.storeDetail)||void 0===t?void 0:t[0]);X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:i,updateReorderDetails:yt,storename:k,service:L})}}))}oe(Object(J.d)({key:f.gd.ADD_HOPE_TRIGGER,value:!0})),oe(Object(J.d)({key:null===f.se||void 0===f.se?void 0:f.se.REORDER_FLAG,value:{isReorderFlow:!0}})),oe(Object(J.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SELECTED_NOT_NOW,value:!1})),oe(Object(J.d)({key:null===f.gd||void 0===f.gd?void 0:f.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),oe(Object(J.d)({key:null===P.a||void 0===P.a?void 0:P.a.STREET_NUMBER,value:se}))},Vt=(e,t)=>{var o,i,a,d,l,r,n,c,u,v,O,b;const m=s()(e,{});let{deliveryAddress:h,service:g}=Ce?Object(S.ld)(e):t;De({type:ne,value:{dispositionType:g}});const E=qe?Object(V.S)(null===(o=At.selectedTime)||void 0===o?void 0:o.value,f.sb.HH_mm,f.sb.hh_mm_A):null===(i=At.selectedTime)||void 0===i?void 0:i.value,I={date:null!==(a=null===(d=At.selectedDate)||void 0===d||null===(l=d.date)||void 0===l?void 0:l.key)&&void 0!==a?a:Object(V.h)(new Date,Lt),time:null!==E&&void 0!==E?E:f.t,selectedTime:null!==E&&void 0!==E?E:f.t,epochTime:null!==(r=At.selectedTime)&&void 0!==r&&r.key&&(null===(n=At.selectedTime)||void 0===n?void 0:n.key)!==f.t?null===(c=At.selectedTime)||void 0===c?void 0:c.key:f.t},N=Tt?I:Pt(m),x=Boolean((null===N||void 0===N?void 0:N.key)===f.t),T={type:g,store:m,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,epochTime:null===N||void 0===N?void 0:N.epochTime,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,deliveryAddress:Object(S.ac)(h,ze),deliveryAddressLine:(null===h||void 0===h||null===(u=h.addressLines)||void 0===u?void 0:u.length)>=1?null===h||void 0===h||null===(v=h.addressLines)||void 0===v?void 0:v[0]:""};De({type:ue,value:{oldvalue:Ae,newValue:T}}),localStorage.setItem(he,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(T)),localStorage.setItem(je,JSON.stringify({type:g,store:m,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,epochTime:null===N||void 0===N?void 0:N.epochTime,deliveryAddress:Object(S.ac)(h,ze),deliveryAddressLine:(null===h||void 0===h||null===(O=h.addressLines)||void 0===O?void 0:O.length)>=1?null===h||void 0===h||null===(b=h.addressLines)||void 0===b?void 0:b[0]:""})),De({type:re,value:{showSearchStore:!1}}),De({type:se,value:{isLocalized:!0}}),De({type:ce,value:m}),oe(Object(j.a)({...ke,localized:!0})),localStorage.setItem(Ne,JSON.stringify(m)),localStorage.setItem(xe,JSON.stringify(m)),Tt&&(De({type:B.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),De({type:B.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),De({type:be,value:{enableASAPScheduling:x}})),De({type:ve,value:{selectedDateTime:N}}),localStorage.setItem(Ee,JSON.stringify({})),localStorage.setItem(Ie,H.a),localStorage.setItem(ge,g),localStorage.setItem(pe,JSON.stringify(N)),De({type:B.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),De({type:B.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(S.ld)(At.storeDetail);if(Object(S.Td)(e)){const o=Object(S.ac)(e),i=await Object(Y.geocodeByAddress)(o),a=await Object(Y.getLatLng)(null===i||void 0===i?void 0:i[0]);Object(S.tf)(t,i),Nt&&oe(Object(J.d)({key:f.se.LAT_LONG,value:a}))}localStorage.setItem(f.gd.SERVICE_TYPE,Object(S.Mb)(t));const o=f.p.AUD;let i=[];null===mt||void 0===mt||mt.forEach(((e,t)=>{var a,d,l,r;let n=Object(S.g)(null===e||void 0===e?void 0:e.unitPrice,Ve);i.push({item_name:Object(S.jb)(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(d=a.dname[0])||void 0===d?void 0:d.value,"NA"),item_id:Object(S.jb)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,"NA"),price:Object(S.jb)(parseFloat(n),"NA"),coupon:gt,currency:o,discount:Et,item_category:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.categoryName)||"NA",item_list_name:y,item_list_id:"",index:t+0,quantity:Object(S.jb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(G.o)(i,He,o,Mt,t),mt.length>0&&oe(Object(p.r)()),Object(G.p)(He,ee)})()},Gt=(e,t)=>{const{modifiedStoreData:o}=Object(S.md)(Ce,Re,A);if(yt({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=s()(e,{}),l=u()(t,"summary",{}),{currentStatus:r}=u()(l,"status",{}),n=u()(l,"name",{}),c=Object(S.Yd)(t)||Object(S.Xd)(t);if(r===f.Y){X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:c,updateReorderDetails:yt,storename:n,service:L})}var i,a,d;if(ke.localized)((e,t,o)=>{var i,a;Object(S.rf)(null===e||void 0===e?void 0:e.type)!==Object(S.rf)(t)&&o({orderTypeDifferentError:null===(i=Object(E.translateWithI18Next)(x.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===i?void 0:i.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(E.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(E.translateWithI18Next)(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toLowerCase()),"</b>"))})})(Ae,St,yt),te!==(null===(i=Ae)||void 0===i||null===(a=i.store)||void 0===a?void 0:a.id)&&yt({locationDifferentError:null===(d=Object(E.translateWithI18Next)(Se))||void 0===d?void 0:d.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))});_t(!0),Wt(e,!0)}else{var l;yt({storeClosedError:null,storeError:null===(l=Object(E.translateWithI18Next)(fe))||void 0===l?void 0:l.replace("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))})}};return Object(i.useEffect)((()=>{const e=null===A||void 0===A?void 0:A.service,{modifiedStoreId:t,modifiedStoreData:o,modifiedService:i,modifiedDeliveryAddress:a}=Object(S.md)(Ce,Re,A);oe(Object(g.l)({storeId:t,tenantId:We},(t=>{const d={data:Object(S.C)([o],i,a,Xe,null===Ft||void 0===Ft?void 0:Ft.latLong),store:[{...t,service:i}],tenantId:We,setStatusFlag:!1,isFavoritePage:!1};oe(Object(g.d)(d,(t=>{yt({storeDetail:t}),oe(Object(m.f)({tenantId:We,orderId:F,customerId:Ze,CTO:!!Object(S.Jd)(e)&&void 0},(e=>Gt(t,e))))})))})))}),[]),Object(R.jsx)(R.Fragment,{children:At.showModal?Object(R.jsx)(k,{...e,onChangeDisposition:kt,editDeliveryLocation:Bt,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(S.md)(Ce,Re,A),o=s()(At.storeDetail,{});var i;o?(yt({showModal:!1}),De({type:ne,value:{dispositionType:o.service}}),Object(S.Gf)(De,null===(i=o.summary)||void 0===i?void 0:i.name),De({type:Oe,value:{reorderModalOpen:!1}})):(yt({showModal:!1}),De({type:ne,value:{dispositionType:t}}),Object(S.Gf)(De,null===e||void 0===e?void 0:e.name),De({type:Oe,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Wt,storeError:At.storeError,locationDifferentError:At.locationDifferentError,currencySymbol:Ge,currencyConversionFactor:Ve,orderDetails:ot,isPastOrderValidationLoading:ct,isAddItemLoading:vt,storeChanged:Ce,currentStoreInfo:Re,enableScheduleOrderFlag:Tt,changeDateValue:e=>{var t,o;const i=null===(t=At.dateTimeArr)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.date)||void 0===o?void 0:o.key)===(null===e||void 0===e?void 0:e.key)}));yt({hasError:{...At.hasError,error:!1,errormessage:""},selectedDate:i,storeError:null,storeClosedError:null,selectedTime:{...null===i||void 0===i||null===(o=i.timeSlots)||void 0===o?void 0:o[0]}})},changeTimeValue:e=>{yt({hasError:{...At.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{yt({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(At.storeClosedError),isGenericError:Boolean(At.storeError),isLocationError:Boolean(At.locationDifferentError),...At,elementUniqueLocator:Qe}):null})}},1221:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(43),l=o(403),r=o(6),n=o(5),s=o(85),c=o(0),u=o(15),v=o(2);t.a=e=>{const{userOrderState:t}=a.a.useContext(s.a),{dispositionStateData:o={}}=t,{DISPOSITION_TYPE:O}=c.gd,{dispositionType:b=localStorage.getItem(O)}=o,{locationAlertProp:m,negativeScenarioAlertProp:j,isMobile:h,onPositionChangeHandler:g,centerIndex:p,isVisible:E,setShowCard:I,locationAlert:N,setStoreMarker:x=n.N,passAddress:S,storeCardHeight:f,latLongValue:T,isMarkerVisible:D=!0,style:A,defaultZoom:C=10,shouldShowMarkerWithText:R=b!==c.Df,useLatLngForReverseGeocode:_=!1,markerDragValue:y=!1,showLabelOnMapPin:L}=e,{PLACE_PIN:w}=d.a,{RedMarker:F,RedMarkerNoText:M,BlackMarker:k,ArrowIcon:B}=u.a,P=Object(i.useRef)(null),H=Object(i.useRef)(null),U=Object(i.useRef)([]),[W,V]=Object(i.useState)(!1),[G,Y]=Object(i.useState)(C),[q,z]=Object(i.useState)(T),[J,K]=Object(i.useState)(!1),[X,$]=Object(i.useState)(p),Z=e=>Object(n.qd)(!E,E&&e===X);Object(i.useEffect)((()=>{H.current=Q(q),U.current=te(q)}),[X]),Object(i.useEffect)((()=>{W||z(T)}),[T]),Object(i.useEffect)((()=>{if(U.current&&H.current){const e=H.current,t=U.current;q.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),U.current=te(q)),Array.isArray(q)&&q.length>0?(q.forEach(((e,o)=>{t[o]&&!Z(o)&&t[o].setPosition(e)})),e.setCenter(q[p])):(t[0]&&t[0].setPosition(q),e.setCenter(q))}}),[q,p]),Object(i.useEffect)((()=>{if(U.current&&H.current){U.current.forEach(((e,t)=>{t===X?e.setIcon(ee()):e.setIcon(k)}))}}),[X]);const Q=e=>new window.google.maps.Map(P.current,{zoom:G,center:Array.isArray(e)&&e.length>0?e[p]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!h,gestureHandling:"greedy"}),ee=()=>R&&L?F:M,te=e=>{const t=new window.google.maps.Geocoder;let o=e;const i=H.current;E?(i.addListener("zoom_changed",(()=>{const e=U.current[p];e&&(x(e.internalPosition),I(!0)),K(!0)})),i.addListener("drag",(()=>{K(!0)}))):(i.addListener("drag",(()=>{y||(Y(null===i||void 0===i?void 0:i.getZoom()),o={lat:i.getCenter().lat(),lng:i.getCenter().lng()},U.current[0]&&U.current[0].setPosition(o))})),i.addListener("dragend",(function(){y||(Y(null===i||void 0===i?void 0:i.getZoom()),oe(t,i,o),V(!0))})));let a=(Array.isArray(o)&&o.length>0?o:[o]).map(((e,o)=>{const a=Z(o);let d=new window.google.maps.Marker({position:e,map:i,draggable:a&&y,visible:D,icon:a?ee():k});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){x(e.latLng),$(t),I(!0)}))})(d,o),y&&a&&((e,t,o)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var i,a;let d={lat:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lat(),lng:null===e||void 0===e||null===(a=e.latLng)||void 0===a?void 0:a.lng()};oe(o,t,d),V(!0)}))})(d,i,t),d}));return a};function oe(e,t,o){e.geocode({location:o},((e,t)=>{if(t===c.Ld){let t=((e,t)=>{let o=[];return e&&(o=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(c.ie)}))),Object(n.Rd)(o)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(c.ie))})):o})(_,e);var i;if(t[0])S(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.formatted_address,o)}}))}const ie=Object(n.Je)(h,!J,D,R);return Object(v.jsxs)(a.a.Fragment,{children:[!m&&((null===b||void 0===b?void 0:b.toUpperCase())!==c.Df||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(n.ad)(N,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(r.translateWithI18Next)(w)})})),ie&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(n.hb)(0===p,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(n.ad)(0===p,e.preventDefault(),g(0)),children:Object(v.jsx)(l.a,{srcFile:B,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(p===q.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>p===q.length-1?e.preventDefault():g(1),children:Object(v.jsx)(l.a,{srcFile:B,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:P,style:{height:"240px",...A}})]})}},1227:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(28),l=o(62),r=o(66),n=o(6),s=o(4),c=o(41),u=o(15),v=o(5),O=o(2);const b=a.a.createRef();var m=e=>{var t;const{onClickHandler:o,currencyConversionFactor:i,isDarkMode:a=!1,dataTestId:l,title:r,onEditOccasionName:c,itemId:m,itemName:j,showContent:h,setCurrentIndex:g,currentIndex:p,index:E}=e,{AccordianArrow:I,AccordianUpArrow:N,AccordianDownDark:x,AccordianUpDark:S}=u.a,f=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:T={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},D=e=>{g(Object(v.ad)(p!==E,E,null)),!h&&(null===o||void 0===o||o(m,f,T,b.current,i))};return Object(O.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(h?"account-accordian-open":""),ref:b,children:[Object(O.jsxs)("div",{className:"global-accordian-header-container",children:[Object(O.jsx)("span",{className:"global-accordian-header",children:r&&Object(O.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(O.jsx)("span",{className:"order-accordian-heading",children:r}),Object(O.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{c(m,j)},children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.EDIT_FAVORITE_NAME)})]})}),Object(O.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:a?Object(O.jsx)("img",{src:h&&S||x,onClick:D,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(O.jsx)("img",{src:h&&N||I,onClick:D,className:"global-accordian-arrow","data-testid":l,alt:""})})]}),h&&Object(O.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=o(46),h=o(412);o(414);var g=e=>{const{occassionOrder:t,tenantReducer:o,imageContainerSize:i,plpbackgroundImageData:d}=e,{currencySymbol:l,addHope:r,carryBag:n,currencyConversionFactor:s,taxAmountRoundOff:c}=o,{items:u}=t;let b=Object(h.k)(u,r,n);return Object(O.jsx)(a.a.Fragment,{children:null===b||void 0===b?void 0:b.map((e=>{var t;return Object(O.jsx)("div",{className:"account-accordian-details-section",children:Object(O.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(O.jsx)("div",{style:Object(v.mb)(d,i.width,i.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(O.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.qc)(e.content,i.width,i.height),alt:"No-Image",defaultPath:Object(v.bc)(e.imageName,o,!0)})}),Object(O.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(O.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(O.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.K)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:l,currencyConversionFactor:s},"",c)})]})]})})}))})},p=o(332),E=o(144);var I=e=>{const{onCancelHandler:t,onRemoveHandler:o}=e,{REMOVE:i,CANCEL:a,REMOVE_FROM_FAVMODAL_MSG:d}=s.a;return Object(O.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(O.jsx)("div",{className:"remove-message-section",children:Object(O.jsx)("p",{className:"remove-message",children:Object(n.translateWithI18Next)(d)})}),Object(O.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(O.jsx)(c.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(n.translateWithI18Next)(a)}),Object(O.jsx)(c.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:o,children:Object(n.translateWithI18Next)(i)})]})]})};var N=e=>{const{item:t,setIsModalOpen:o,tenantId:i,customerId:a,currentItemId:l}=e,r=Object(d.b)(),c=Object(O.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),b=Object(n.translateWithI18Next)(s.a.REMOVED_FROM_FAVORDERS),m=()=>{o(!1)},h={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:m,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{...h,children:Object(O.jsx)(I,{onCancelHandler:m,setIsModalOpen:o,onRemoveHandler:e=>{var t,d,n;const s=null===(t=e.target)||void 0===t||null===(d=t.parentElement)||void 0===d||null===(n=d.parentElement)||void 0===n?void 0:n.parentElement;null!==s&&void 0!==s&&s.classList.contains("account-accordian-open")&&(null===s||void 0===s||s.classList.remove("account-accordian-open")),o(!1),(async(e,t,o)=>{await r(Object(p.b)({tenantId:e,customerId:t,itemId:o}))})(i,a,l),Object(v.Df)(b,c,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},x=o(1210),S=o(0),f=o(1184),T=o(85),D=o(16),A=o(9),C=o(55);var R=o(406);const _=(e,t,o,i,a)=>{var d,l,r,n;const{ACCOUNT_FAV_PAGE:s}=R.d;null!==i&&void 0!==i&&null!==(d=i.classList)&&void 0!==d&&d.contains("account-accordian-open")?null===i||void 0===i||null===(l=i.classList)||void 0===l||l.remove("account-accordian-open"):null===i||void 0===i||null===(r=i.classList)||void 0===r||r.add("account-accordian-open");const c=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===c||void 0===c?void 0:c.service;((e,t)=>{var o,i,a;Object(C.p)(null===A.a||void 0===A.a||null===(o=A.a.accountViewFavItemList)||void 0===o?void 0:o.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,items:e}}})})(null===c||void 0===c||null===(n=c.items)||void 0===n?void 0:n.map(((e,t)=>{var i;const{categoryId:d="NA",categoryName:l="NA"}=null!==(i=null===o||void 0===o?void 0:o[e.id])&&void 0!==i?i:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.jb)(Number(((null===e||void 0===e?void 0:e.price)/a).toFixed(S.gg)),0),item_category:l,item_list_name:s,item_list_id:d,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.jb)(null===c||void 0===c?void 0:c.couponCode,"NA"),discount:Object(v.jb)((null===c||void 0===c?void 0:c.discountTotal)/a,0),currency:S.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:o}=e,a=Object(d.b)(),b=Object(l.g)(),{userOrderState:j,userOrderStateDispatch:h}=Object(i.useContext)(T.a),[p,E]=Object(i.useState)(""),[I,A]=Object(i.useState)(""),R=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:y,phone:L}=Object(d.c)((e=>{var t;return Object(v.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:w,currencyConversionFactor:F}=Object(d.c)((e=>e.tenantReducer||{})),M=Object(d.c)((e=>e.tenantReducer)),{cartData:k}=Object(d.c)((e=>e.cartReducer||{})),[B,P]=Object(i.useState)(!1),[H,U]=Object(i.useState)(!1),[W,V]=Object(i.useState)(!1),[G,Y]=Object(i.useState)(!1),[q,z]=Object(i.useState)(null),{SingleArrowback:J,FavouriteActiveBlack:K}=u.a,{reorderFlag:{reorderModalOpen:X=!1}}=j,[$,Z]=Object(i.useState)({}),{headerData:{plpBackgroundImage:Q={}}={}}=Object(d.c)((e=>{var t;return Object(v.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.lb)(Q),{REORDER_MODAL_OPEN:oe,FROM_REORDER_MODAL_OPEN:ie,REORDER_STORE_CHANGED:ae}=D.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const de=()=>{h({type:oe,value:{reorderModalOpen:!1}}),h({type:ie,value:{fromReorderFlag:!1}}),h({type:ae,value:{storeChanged:!1}})};Object(i.useEffect)((()=>()=>de()),[]);const le=(e,t)=>{P(!0),e&&(E(e),A(t),U(!1),V(!1))};Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(v.Pc)(o),updateUserData:!0};i(Object(r.d)(a))}})(w,y,L,a)}),[a,w,y,L]);const[re,ne]=Object(i.useState)(null);return Object(O.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(O.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(O.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:J,alt:"back button"}),Object(O.jsx)("span",{className:"account-setting-text-header",children:Object(n.translateWithI18Next)(s.a.FAVOURITES)})]}),Object(O.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(O.jsx)("img",{src:K,className:"account-icon mr-2",alt:""}),Object(O.jsx)("span",{className:"page-heading",children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})]}),!(null!==R&&void 0!==R&&R.length)&&Object(O.jsx)("div",{className:"no-occasion-container",children:Object(O.jsx)("p",{children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),R&&(null===R||void 0===R?void 0:R.map(((t,i)=>Object(O.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("section",{className:"account-accordian",children:Object(O.jsxs)(m,{onClickHandler:_,currencyConversionFactor:F,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:le,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:P,currentIndex:re,setCurrentIndex:ne,index:i,showContent:re===i,children:[Object(O.jsx)(g,{occassionOrder:t,tenantReducer:M,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:o}),Object(O.jsx)("section",{className:"fav-menu-event",children:Object(O.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(O.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(O.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{Y(!0),z(null===t||void 0===t?void 0:t.id)},children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.REMOVE_FAVOURITES)})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"global-accordian-right",children:Object(O.jsx)(c.a,{className:"button re-order-btn ".concat(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var o;Object(v.Hd)(null===t||void 0===t?void 0:t.service)?(o={...e,history:b},Object(v.Hd)(null===k||void 0===k?void 0:k.service)?Object(v.Re)(o):h({type:null===S.Qe||void 0===S.Qe?void 0:S.Qe.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===S.Ce||void 0===S.Ce?void 0:S.Ce.CATERING_PAGE,title:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_TITLE,contentMsg:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(C.o)(),Z(e),h({type:oe,value:{reorderModalOpen:!0}}),h({type:ie,value:{fromReorderFlag:!0}}),sessionStorage.setItem(S.gd.REORDER_CLICK,!0)})(t)},children:Object(O.jsx)("span",{children:Object(n.translateWithI18Next)(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?null===s.a||void 0===s.a?void 0:s.a.EXPLORE_CATERING:null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})})})]})})]},i)}),G&&Object(O.jsx)(N,{item:t,setIsModalOpen:Y,isModalOpen:G,tenantId:w,customerId:y,itemId:null===t||void 0===t?void 0:t.id,currentItemId:q}),B&&Object(O.jsx)(f.a,{showOccassionModal:B,setOccassionModalOpen:P,occasionName:I,setOccasionName:A,editItemId:p,setEditItemId:E,hasEdit:!0})]})})))),X&&Object(O.jsx)(x.a,{currentOrderInfo:$,reorderModalOpen:X,closeButtonHandler:de,source:S.xe.ACCOUNT_FAVOURITES})]})}}}]);