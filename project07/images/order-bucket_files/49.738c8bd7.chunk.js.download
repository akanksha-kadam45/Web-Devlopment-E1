(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[49,1,2,8,94,112,145],{1047:function(e,t,a){"use strict";a.r(t);var i=a(3),l=a.n(i),o=a(5),n=a(28),d=a(73),r=a(6),s=a(15),c=a(46),u=a(190),v=a(59),O=a(85),b=a(43),m=a(62),j=a(263),h=a(133),p=a(1221),g=a(394),N=a(120),S=a(55),I=a(16),x=a(1131),f=a(41),E=(a(1105),a(4)),C=a(1234),T=a(2);const{MORE_INFO:y,SCHEDULE_ORDER:D,ORDER_NOW:A}=E.a,R=(e,t,a,i)=>(e=>Boolean(Object(o.Yd)(e)||Object(o.Xd)(e)))(e)&&((e,t,a)=>e||t&&a)(t,a,i),_=(e,t,a,i)=>Object(T.jsx)(f.a,{"data-testid":"schedule-order",variant:f.b.tertiary,className:"padding-set wdth-set order-pad ml2 button search-store-card-btn schedule-order",onClickHandler:l=>a?i(l,t,D):e(l,t,D),disabled:!a&&!(null!==t&&void 0!==t&&t.isOpen),children:Object(T.jsxs)("span",{children:[" ",Object(r.translateWithI18Next)(D)]})});var w=e=>{var t,a,i,l,d,u,v,O,j,h,p,N,S,I,D,w,L,M,k,P;const F=Object(n.c)((e=>e.tenantReducer)),W=null===F||void 0===F||null===(t=F.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{componentOptions:{web:{dispositionConfig:{enableScheduleOrder:H,enableClickCollectScheduleOrder:B,enableAsapOrder:U}={}}={}}={},is24HoursFormatEnabled:G,isViewMenuDisabled:V}=null!==F&&void 0!==F?F:{},Y=null===F||void 0===F||null===(a=F.storeSearch)||void 0===a?void 0:a.shouldNavigateToPickupDisposition,K=null===F||void 0===F||null===(i=F.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(d=l.storeSearch)||void 0===d?void 0:d.enableDateHighlight,{item:q,index:z,classname:J,setStoreInfo:X,showMap:Q,removeFromFavoriteHandler:Z,orderNowButtonClickHandler:$,cardHeading:ee,showAvailableService:te,isMobile:ae,showMoreInfo:ie,setShowCard:le,showDistance:oe,dispositionType:ne,handleOrderNowButtonHandle:de}=e,{ORDER_NOW_CTA_TEXT:re}=b.a,se=localStorage.getItem("serviceType"),ce=Object(m.g)(),ue=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:ve=!1}=Object(o.sd)(ue);return Object(T.jsxs)("div",{className:"bgv-set store-card flex-dir ".concat(J),children:[Object(T.jsx)("div",{className:"address-block",children:Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"card-store-container",children:[Object(T.jsx)("span",{className:"card-store-name card-store-global",children:null===q||void 0===q||null===(u=q.storeBasic)||void 0===u||null===(v=u.dname[0])||void 0===v?void 0:v.value}),oe&&(null===q||void 0===q?void 0:q.distance)&&Object(T.jsx)("span",{className:"store-distance",children:Object(g.r)(null===q||void 0===q||null===(O=q.distance)||void 0===O?void 0:O.value)}),Q&&!ie&&Object(T.jsx)("span",{className:"store-index fl-rgt",children:ee}),!ae&&Q&&ie&&Object(T.jsx)(c.a,{"data-testid":"favorite-img",srcFile:s.a.PopupCloseBtn,alt:"close-btn",className:"close-cross-btn",onClick:()=>le(!1)}),ae&&Object(T.jsx)(c.a,{"data-testid":"favorite-img",srcFile:s.a.FavoriteFillImage,alt:"favorite",className:"favorite-img fav-img-mobile",onClick:()=>{var e;return Z(null===q||void 0===q||null===(e=q.storeBasic)||void 0===e?void 0:e.id)}})]}),Object(T.jsxs)("div",{className:"card-content",children:[Object(T.jsx)("div",{className:"order-items",children:te(null===q||void 0===q?void 0:q.availableServicesPerChannel)}),Object(T.jsxs)("div",{className:"w-100",children:[Object(T.jsx)("span",{className:"store-address",children:Object(o.ac)(null===q||void 0===q||null===(j=q.storeBasic)||void 0===j?void 0:j.address,W)}),Object(T.jsxs)("div",{className:"info-timing ".concat(!(null!==q&&void 0!==q&&q.isOpen)&&!Object(o.s)(q)&&"info-timingClosed"),children:[Object(T.jsx)("span",{children:null===(h=Object(g.w)(q,null,null,ne))||void 0===h?void 0:h.storeTimeMessage}),Object(T.jsx)("span",{className:"ml-2 caretIcon store-timing-msg","data-testid":"toggle-hours",onClick:()=>{var e;return Object(g.V)(null===q||void 0===q||null===(e=q.storeBasic)||void 0===e?void 0:e.id)},id:"hours-".concat(null===q||void 0===q||null===(p=q.storeBasic)||void 0===p?void 0:p.id),children:Object(T.jsx)(c.a,{id:"caret-".concat(null===q||void 0===q||null===(N=q.storeBasic)||void 0===N?void 0:N.id),srcFile:s.a.AccordianArrow,alt:"caretIcon"})})]})]}),Object(T.jsxs)("div",{id:"view-".concat(null===q||void 0===q||null===(S=q.storeBasic)||void 0===S?void 0:S.id),className:"hours-view hoursHidden",children:[!(null===(I=Object(g.A)(se,null===q||void 0===q||null===(w=q.summary)||void 0===w?void 0:w.timings))||void 0===I||null===(D=I.storeTimingData)||void 0===D||!D.length)&&Object(T.jsx)("div",{className:"dispotion-hours-text",children:Object(g.B)(se)}),null===(L=Object(g.A)(se,null===q||void 0===q||null===(k=q.summary)||void 0===k?void 0:k.timings))||void 0===L||null===(M=L.storeTimingData)||void 0===M?void 0:M.map((e=>Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"hours-text",children:[Object(T.jsx)("span",{className:"day-detail",children:Object(C.c)(e,K)}),Object(T.jsxs)("span",{className:"time-details",children:[Object(C.d)(e,K,G)," "]})]})},null===e||void 0===e?void 0:e.day)))]}),Object(T.jsxs)("div",{className:"more-info-details",children:[Object(T.jsx)("span",{children:Object(T.jsx)(f.a,{variant:f.b.tertiary,"data-testid":"more-info",className:"more-info-link",onClick:()=>Object(o.De)(null===e||void 0===e?void 0:e.item,ce),children:Object(r.translateWithI18Next)(y)})}),!Q&&Object(T.jsxs)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>X(q,z),children:[Object(T.jsx)("img",{src:s.a.Direction,alt:"direction",className:"KfcDirectionIcon"}),Object(T.jsx)("span",{className:"card-map-link",children:Object(r.translateWithI18Next)(E.a.GET_DIRECTION)})]})]}),Object(T.jsx)("div",{className:"facilities",children:(null===(P=Object(x.a)(null===q||void 0===q?void 0:q.storeBasic))||void 0===P?void 0:P.length)>0&&Object(x.a)(null===q||void 0===q?void 0:q.storeBasic).map((e=>Object(T.jsx)(c.a,{"data-testid":"",srcFile:e.image,alt:Object(o.qd)(e.label,""),className:"facility-img",title:e.label},e.key)))})]})]})}),Object(T.jsxs)("div",{className:"button-block fullWidth align-center mt-2 ".concat(Q&&ie?"fav-store-block":""),children:[!Q&&!ae&&Object(T.jsx)("span",{className:"flex-dir flex-dir-pos",children:Object(T.jsx)(c.a,{"data-testid":"favorite-img",srcFile:s.a.FavoriteFillImage,alt:"favorite",className:"favorite-img",onClick:()=>{var e;return Z(null===q||void 0===q||null===(e=q.storeBasic)||void 0===e?void 0:e.id)}})}),Object(T.jsxs)(T.Fragment,{children:[!V&&(U?(null===ne||void 0===ne?void 0:ne.toLowerCase())!==b.a.DELIVERY_SERVICE&&Object(T.jsx)(f.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml2 button redButton search-store-card-btn",onClickHandler:e=>Y?de(e,q,A):$(e,q,A),disabled:!(null!==q&&void 0!==q&&q.isOpen),children:Object(r.translateWithI18Next)(re)}):Object(T.jsx)(f.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml2 button redButton search-store-card-btn",onClickHandler:e=>Y?de(e,q,A):$(e,q,A),disabled:!(null!==q&&void 0!==q&&q.isOpen),children:Object(r.translateWithI18Next)(re)})),R(q,H,B,ve)&&_($,q,Y,de)]})]})]})},L=a(0),M=a(1153),k=a(269),P=a(106),F=a(92),W=a(52),H=a(1206),B=a(80),U=a(132);const{SET_ORDER_NOW:G,SET_SCHEDULE_ORDER:V,CHANGE_SCHEDULE_MODE:Y,SCHEDULE_ORDER_CLICKED:K,SHOW_SCHEDULE_DISPOSITION:q,SET_SCHEDULE_PAGE:z,SET_CURRENT_DISPOSITION:J}=W.a;var X=e=>{var t,a,l,v,x,C,y,D,A,R,_,W,X,Q,Z;const{favouriteStores:$,removeFromFavoriteHandler:ee,showMoreInfo:te,isMobile:ae,savedAddresses:ie}=e,[le,oe]=Object(i.useState)(),[ne,de]=Object(i.useState)({}),[re,se]=Object(i.useState)(!1),[ce,ue]=Object(i.useState)(!1),[ve,Oe]=Object(i.useState)(!1),[be,me]=Object(i.useState)({}),[je,he]=Object(i.useState)(0),[pe,ge]=Object(i.useState)(null),{userOrderState:Ne,userOrderStateDispatch:Se}=Object(i.useContext)(O.a);let Ie=Object(n.c)((e=>e.appStateReducer.userStatus));const xe=Object(n.c)((e=>e.profileReducer)),fe=Object(n.c)((e=>e.tenantReducer)),Ee=null===fe||void 0===fe||null===(t=fe.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(l=a.dispositionConfig)||void 0===l?void 0:l.showLabelOnMapPin,{componentOptions:Ce={}}=Object(o.sd)(null===fe||void 0===fe?void 0:fe.componentOptions),Te=null===fe||void 0===fe?void 0:fe.tenantId,{shouldCheckDropOffAddress:ye=!0}=Object(o.sd)(null===Ce||void 0===Ce||null===(v=Ce.web)||void 0===v?void 0:v.shouldCheckDropOffAddress),De=null===fe||void 0===fe||null===(x=fe.componentOptions)||void 0===x||null===(C=x.web)||void 0===C||null===(y=C.dispositionConfig)||void 0===y?void 0:y.enableClickCollectScheduleOrder,Ae=null===fe||void 0===fe||null===(D=fe.componentOptions)||void 0===D||null===(A=D.web)||void 0===A||null===(R=A.dispositionConfig)||void 0===R?void 0:R.enableScheduleOrder,Re=null===fe||void 0===fe||null===(_=fe.componentOptions)||void 0===_||null===(W=_.web)||void 0===W||null===(X=W.scheduledDelivery)||void 0===X?void 0:X.allowScheduleOrderForDispositions,_e=null===fe||void 0===fe||null===(Q=fe.storeSearch)||void 0===Q?void 0:Q.shouldNavigateToPickupDisposition,{localized:we}=Ie,Le=Object(M.a)(Ne),Me=De&&(null===Re||void 0===Re?void 0:Re.includes(null===Le||void 0===Le||null===(Z=Le.type)||void 0===Z?void 0:Z.toLowerCase())),{allowedServices:ke=[]}=Object(o.sd)(null===fe||void 0===fe?void 0:fe.basic),{pastOrders:Pe=[],favouriteOrders:Fe=[]}=Object(o.sd)(xe),{SEARCH_ORDER_DATA:We,SELECTED_TILE_DATA:He,SCHEDULE_ORDER_TIME_DATA:Be,CURRENT_STORE_INFO:Ue,DISPOSITION_DATA:Ge,SCHEDULE_ORDER_DATA:Ve,FAV_STORE_NOT_IN_RADIUS:Ye,DISPOSITION_METHOD:Ke,SET_DISPOSITION:qe}=I.a,{MY_FAV_STORES:ze}=u.b,Je=Object(n.b)(),Xe={history:Object(m.g)(),dispatch:Je,tenantId:Te,userParams:Ie},Qe=Object(U.b)(B.b);Object(i.useEffect)((()=>{const e=[...Pe,...Fe].find((e=>Object(o.Hd)(null===e||void 0===e?void 0:e.service)));((e,t,a)=>{Object(o.Hd)(null===e||void 0===e?void 0:e.type)&&a(t)})(Le,e,oe)}),[Pe.length,Fe.length]);const Ze=(e,t,a)=>{let i=e;et(),localStorage.setItem(L.gd.CURRENT_STORE_INFO_STORAGE,JSON.stringify(i)),(e=>{Se({type:Ue,value:e})})(i),Object(k.e)(Object(o.Sc)(null===i||void 0===i?void 0:i.name)),Se({type:Be,value:{selectedDateTime:t}}),Se({type:J,value:{currentDisposition:a}}),a=((e,t)=>e?L.de:t)(_e,a),localStorage.setItem(L.gd.TENANT_REDUCER,JSON.stringify(fe)),localStorage.setItem(L.gd.SELECTED_TILE,JSON.stringify({})),localStorage.setItem(L.gd.DISPOSITION_TYPE,a),localStorage.setItem(L.gd.STORE_INFO,JSON.stringify(i)),localStorage.setItem(L.gd.DATE_TIME_ORDER,JSON.stringify(t))},$e=localStorage.getItem(L.gd.DISPOSITION_TYPE),et=()=>{Se({type:He,value:{selectedData:{}}})},tt=async(e,t,a)=>{localStorage.setItem(L.gd.SET_CART_CLEAR,!0),de(t),e.preventDefault(),e.stopPropagation(),Object(g.P)();const i="FORM";localStorage.setItem(L.kb,JSON.stringify(t)),localStorage.setItem(L.gd.CONFIG_SEARCH_SCREEN,i),Se({type:z,value:{comingFromFavouriteStoreCard:!0}}),localStorage.setItem(L.gd.CONFIG_SEARCH_SCREEN,i),it(t,void 0,a)},at=(e,t,a)=>{var i,l,n,d,r,s;const c=(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l?void 0:l.currentStatus)===L.Od,u=Object(o.Fd)(e),v=Object(H.c)(Me,Ae,c,u);var O;if(((e,t,a)=>{const{enableClickCollectScheduleOrderFlag:i,userOrderState:l,store:o,enableScheduleOrder:n,goToMenuObj:d,isSetASAPOrderStorageData:r}=a;if(e===b.a.ORDER_NOW){const a=n||i;r?(t({type:I.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),t({type:I.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),t({type:I.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}}),Boolean(i||n&&e===b.a.BROWSE_MENU)&&Object(H.b)(t,d,l,o,a,i)):(t({type:G,value:{showOrderNow:!0,isFavoriteStoreCard:!0}}),t({type:V,value:{showScheduleOrder:!1}}),t({type:K,value:{scheduleModeClicked:!1}}))}e===b.a.ORDER_SCHEDULE&&(t({type:Y,value:{changeScheduleModeFlag:!1}}),t({type:K,value:{scheduleModeClicked:!0}}),t({type:G,value:{showOrderNow:!1}}),t({type:V,value:{showScheduleOrder:!0}}),t({type:q,value:{showSheduleDisposition:!0}}))})(a,Se,{enableClickCollectScheduleOrderFlag:Me,userOrderState:Ne,store:e,enableScheduleOrder:Ae,goToMenuObj:Xe,isSetASAPOrderStorageData:v}),t===L.ff){if(!we||we&&(null===Le||void 0===Le?void 0:Le.type)===L.M.toUpperCase())return Se({type:Ge,value:{showDisposition:!0}}),void localStorage.setItem(L.gd.RETAIN_ADDRESS,[null===e||void 0===e||null===(O=e.name)||void 0===O?void 0:O[0].value])}else t===L.M&&(Se({type:Ke,value:{dispositionType:L.M}}),Se({type:We,value:{configSearchScreen:h.c}}),localStorage.setItem(L.gd.SERVICE_TYPE,L.M));Se({type:qe,value:{oldvalue:Le}});let m={time:L.t,interval:null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(d=n.timings.scheduled.periods[0])||void 0===d?void 0:d.interval,date:new Date,selectedTime:L.t};const j={storeID:null===e||void 0===e?void 0:e.id,disposition:null===Le||void 0===Le?void 0:Le.type,postCode:null===e||void 0===e||null===(r=e.addresses[0])||void 0===r||null===(s=r.address)||void 0===s?void 0:s.pinCode},p=Object(M.a)(Ne);Ze(e,m,null===p||void 0===p?void 0:p.type),Object(S.y)(j),Se({type:We,value:{showSearchStore:!1}}),v&&a!==b.a.ORDER_SCHEDULE||Se({type:Ve,value:{showScheduleOrderCatering:!0,changeFlow:Object(o.ad)(Object(o.hb)(t,t===L.M),!1,!0)}})},it=async(e,t,a)=>{var i;const l=((e,t,a,i)=>{var l,n;return e?Object(o.Mb)(null===i||void 0===i||null===(l=i.authoredContent)||void 0===l?void 0:l.defaultdisposition):Object(o.ad)(t===L.M,Object(o.Mb)(L.M),Object(o.hb)(a,null===a||void 0===a?void 0:a.type)?Object(o.Mb)(null===a||void 0===a?void 0:a.type):Object(o.Mb)(null===i||void 0===i||null===(n=i.authoredContent)||void 0===n?void 0:n.defaultdisposition))})(_e,t,Le,fe);Je(Object(d.l)({storeId:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.id,tenantId:null===fe||void 0===fe?void 0:fe.tenantId},(i=>{var n;const r={data:Object(o.C)([{id:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.id}],l,null,ye,null===Qe||void 0===Qe?void 0:Qe.latLong),store:[{...i,service:l}],tenantId:null===fe||void 0===fe?void 0:fe.tenantId};Je(Object(d.d)(r,(e=>{de(e[0]),at(e[0],t,a)})))})))},lt=async(e,t,a)=>{localStorage.setItem(L.gd.SET_CART_CLEAR,!0),de(t),e.preventDefault(),e.stopPropagation(),Object(g.P)();const{unavailableServiceinfo:i}=ct(null===t||void 0===t?void 0:t.availableServicesPerChannel,!0);if(Object(o.hb)(le,!i.includes(L.M)))return void se(!0);let l;var n;(null===Le||void 0===Le?void 0:Le.type)===L.yb.toUpperCase()&&(l=null===Ne||void 0===Ne||null===(n=Ne.eligibleStore)||void 0===n?void 0:n.find((e=>{var a;return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t||null===(a=t.storeBasic)||void 0===a?void 0:a.id)})));if(we){var d;if(!l&&(null===Le||void 0===Le?void 0:Le.type)===L.yb.toUpperCase())return Se({type:We,value:{showSearchStore:!0,searchedPlaceNonLocalized:localStorage.getItem(L.gd.RETAIN_ADDRESS),configSearchScreen:h.c}}),void Se({type:Ye,value:{showNotInRadiusError:!0,notInRadiusRestaurant:Object(o.Sc)(null===t||void 0===t||null===(d=t.storeBasic)||void 0===d?void 0:d.dname)}});it(t,void 0,a)}else{var r;Se({type:Ge,value:{showDisposition:!0}}),localStorage.setItem(L.gd.RETAIN_ADDRESS,[Object(o.Sc)(null===t||void 0===t||null===(r=t.storeBasic)||void 0===r?void 0:r.dname)])}},ot=()=>{ue(!ce),Oe(!ce)};Object(i.useEffect)((()=>{Oe(!0),nt()}),[je,pe]);const nt=()=>{const e=$.map((e=>({lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude})));me(e)},dt=(e,t)=>{nt(),ge(e),he(t),ot()},rt=e=>{const t=(e=>{var t,a;const{futureDates:i,scheduled:l,asap:n}=Object(o.sd)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),{interval:d=0,startEndTime:r={}}=Object(o.sd)((null===l||void 0===l||null===(a=l.periods)||void 0===a?void 0:a.length)&&l.periods[0]),{from:s,to:c}=Object(o.sd)(r),{unavailibilities:u}=Object(o.sd)(l);return Object(N.j)(s,c,d,null===n||void 0===n?void 0:n.isAvailable,Object(o.hb)(1===(null===i||void 0===i?void 0:i.length),Object(o.le)()),u)})(e).length;return Object(o.ad)(t,Object(r.translateWithI18Next)(E.a.TODAY),Object(r.translateWithI18Next)(E.a.TOMORROW))},st=e=>{var t;const a=e.summary,{operatingHours:i=[]}=Object(o.ad)(null===a||void 0===a||null===(t=a.timings)||void 0===t?void 0:t.operatingHours,null===a||void 0===a?void 0:a.timings,[]);return Object(g.g)(e.isOpen,i)},ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=e&&Object(g.p)(e),{services:i=[]}=Object(o.qd)(null===a||void 0===a?void 0:a[0],[]),l=i.filter((e=>Object(o.Mb)(e))),n=null===ke||void 0===ke?void 0:ke.filter((e=>!l.includes(e)));if(t)return{availableServiceinfo:l,unavailableServiceinfo:n};return[...i.map(((e,t)=>Object(T.jsxs)("div",{className:"store-order-options",children:[Object(T.jsx)("span",{children:Object(T.jsx)(c.a,{"data-testid":"",srcFile:s.a.GreenTickImage,alt:"tick",className:"tick-image"})}),Object(T.jsx)("span",{children:Object(o.ad)(e===L.fe,Object(r.translateWithI18Next)(b.a.PICK_UP),Object(r.translateWithI18Next)(e))})]},t))),...null===n||void 0===n?void 0:n.map(((e,t)=>Object(T.jsxs)("div",{className:"store-order-options",children:[Object(T.jsx)("span",{children:Object(T.jsx)(c.a,{"data-testid":"",srcFile:s.a.WhiteExclamatry,alt:"tick",className:"unavail-tick-image tick-image"})}),Object(o.ad)(e===L.fe,Object(r.translateWithI18Next)(b.a.PICK_UP),Object(r.translateWithI18Next)(e))]},t)))]},ut=(e,t,a)=>Object(T.jsx)(w,{item:e,isMobile:ae,index:t,classname:a,setStoreInfo:dt,timimgMsg:st,dispositionType:$e,checkToday:rt,showAvailableService:ct,showMap:ce,removeFromFavoriteHandler:ee,orderNowButtonClickHandler:lt,handleOrderNowButtonHandle:tt,cardHeading:"".concat(je+1," of ").concat($.length),showMoreInfo:te,setShowCard:Oe,showDistance:!we&&ie.length>0||we},t),vt=(Ot=$,Ot.sort((function(e,t){var a,i,l,n;return Object(o.Sc)(null===(a=e.storeBasic)||void 0===a?void 0:a.dname)<Object(o.Sc)(null===(i=t.storeBasic)||void 0===i?void 0:i.dname)?-1:Object(o.Sc)(null===(l=e.storeBasic)||void 0===l?void 0:l.dname)>Object(o.Sc)(null===(n=t.storeBasic)||void 0===n?void 0:n.dname)?1:0}))).map(((e,t)=>ut(e,t)));var Ot;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"favorite-stores-section",children:[$.length>0&&Object(T.jsxs)("div",{className:"header-text",children:[Object(r.translateWithI18Next)(ze)," (",$.length,")",ce&&Object(T.jsx)("span",{"data-testid":"list-handler",onClick:()=>{ot(),nt()},children:Object(T.jsxs)(j.a,{className:"map-link-list",children:[Object(T.jsx)("span",{children:Object(T.jsx)(c.a,{"data-testid":"",srcFile:s.a.Union,alt:"map",className:"map-img"})}),Object(r.translateWithI18Next)(b.a.LIST_TEXT)]})})]}),$.length>0&&!ce>0&&vt,ce&&Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(p.a,{"data-testid":"mymap-id",latLongValue:be,loadingElement:Object(T.jsx)("div",{style:{height:"100%"}}),containerElement:Object(T.jsx)("div",{style:{height:"400px"}}),mapElement:Object(T.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:ae,centerIndex:je,onPositionChangeHandler:e=>{let t=e?je+1:je-1;he(t),ge(Object(o.sd)($[t]))},setShowCard:Oe,setStoreMarker:e=>{const t=$.findIndex((t=>t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()));t>-1&&(he(t),ge(Object(o.sd)($[t])))},storeCardHeight:325,showLabelOnMapPin:Ee}),ve&&pe&&ae?ut(pe,"","Selected-mobile-Card"):null]}),ve&&pe&&!ae?ut(pe,"","Selected-desktop-Card"):null]})})]}),re&&Object(T.jsx)(P.a,{handleClose:()=>{se(!1),localStorage.removeItem(L.gd.SET_CART_CLEAR)},classNames:"clear-cart-modal item-unavailable",CartAlertForm:Object(T.jsx)(F.a,{title:Object(r.translateWithI18Next)(E.a.WHICH_MENU),imageSrc:null===s.a||void 0===s.a?void 0:s.a.TakeawayCompleted,altText:"",confirmButtonText:Object(r.translateWithI18Next)(E.a.CATERTING_MENU),confirmHandler:()=>{it(ne,L.M),se(!1)},cancelButtonText:Object(r.translateWithI18Next)(E.a.STORE_MENU),cancelHandler:()=>{it(ne,L.ff),se(!1)},secondaryButtonType:f.b.tertiary})})]})};var Q=e=>{const{savedAddresses:t,addOrEditClickHandler:a,deleteAddressHandler:i,prefectureAddressScreen:n,showDefaultLabelOnNewLine:d}=e,{EDIT:s,DELETE:c,ADD_NEW_ADDRESS:v,ADD:O,DEFAULT:b}=u.b,{APT_SUITE_FLOOR:m,DELIVERY_OPTIONS:j,DELIVERY:h,INSTRUCTIONS:p}=E.a;let g=d?"delivery-store-name-new-line":"delivery-store-name",N=d?"address-mode-global-new-line":"address-mode-global";const S=(I=t,I.sort(((e,t)=>t.isPrimary-e.isPrimary))).map((e=>{var t,d,u,v;const{addressLines:O,city:S,state:I,pinCode:x,country:f,name:E,isPrimary:C,id:y,deliveryOptions:D,deliveryInstructions:A}=e;return Object(T.jsx)(l.a.Fragment,{children:Object(T.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(T.jsxs)("div",{className:"address-description d-flex",children:[Object(T.jsxs)("p",{className:"address-mode ".concat(N),children:[Object(T.jsx)("span",{className:"text-transform-capitalize ".concat(g),children:Object(T.jsx)("strong",{children:E})})," ",C?Object(T.jsx)("span",{children:"(".concat(Object(r.translateWithI18Next)(b),")")}):""]}),n&&Object(T.jsx)("div",{className:"delivery-details",children:Object(T.jsx)("span",{className:"address-street-text",children:null===O||void 0===O||null===(t=O.filter(Boolean))||void 0===t?void 0:t.join(" ")})}),!n&&Object(T.jsxs)("div",{className:"delivery-details",children:[Object(T.jsxs)("span",{className:"address-street-text",children:[Object(o.wd)(O[1])," ",Object(o.wd)(S)]}),Object(T.jsx)("span",{children:"".concat(Object(o.wd)(I),", ").concat(Object(o.wd)(x),", ").concat(Object(o.wd)(f))}),O[0]&&Object(T.jsxs)("span",{className:"address-heading",children:[Object(r.translateWithI18Next)(m),Object(T.jsxs)("strong",{children:[": ",O[0]]})]}),D&&Object(T.jsxs)("span",{className:"address-heading",children:[null===(d=Object(r.translateWithI18Next)(j))||void 0===d?void 0:d.toLowerCase(),Object(T.jsxs)("strong",{children:[": ",Object(T.jsx)("span",{className:"address-text",children:Object(r.translateWithI18Next)(D)})]})]}),A&&Object(T.jsxs)("span",{className:"address-heading",children:[null===(u=Object(r.translateWithI18Next)(h))||void 0===u?void 0:u.toLowerCase()," ",null===(v=Object(r.translateWithI18Next)(p))||void 0===v?void 0:v.toLowerCase(),Object(T.jsxs)("strong",{children:[": ",Object(T.jsx)("span",{className:"address-text-Instructions",children:A})]})]})]})]}),Object(T.jsxs)("div",{className:"action-btn d-flex",children:[Object(T.jsx)("div",{onClick:()=>a(s,e),"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:Object(r.translateWithI18Next)(s)}),Object(T.jsx)("div",{onClick:()=>i(y),"data-testid":"delete-testid",className:"anchor-info del-adjust",children:Object(r.translateWithI18Next)(c)})]})]},y)})}));var I;return Object(T.jsxs)("div",{className:"address-section",children:[(null===t||void 0===t?void 0:t.length)>0&&S,Object(T.jsx)("div",{className:"add-address",children:Object(T.jsx)(f.a,{"data-testid":"add-testid",onClickHandler:()=>a(O),className:"mt-10 button font-bold whiteButton blackBorder",children:Object(r.translateWithI18Next)(v)})})]})},Z=a(66),$=a(236),ee=a(1205),te=a(63),ae=a(968),ie=a(399);var le=e=>{var t,a,l;const d=Object(n.b)(),{userOrderState:c,userOrderStateDispatch:u}=Object(i.useContext)(O.a)||{},{DISPOSITION_METHOD:v,TYPE_DELIVERY:b,DISPOSITION_DATA:m}=I.a,{tenantId:j}=e,{savedAddresses:h}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{NO_ADDRESS:p,DELETE_CONFIRM_MSG:g,CANCEL:N,YES_DELETE:S,MYDELIVERYADDRESSES:x,DELIVERY_ADD_DELETE:f}=E.a,C=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),y=null===C||void 0===C||null===(t=C.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,D=null===C||void 0===C||null===(a=C.savedAddressPage)||void 0===a?void 0:a.showDefaultLabelOnNewLine,[A,R]=Object(i.useState)(!1),[_,w]=Object(i.useState)(!1),[L,M]=Object(i.useState)({}),[k,P]=Object(i.useState)(!1),[W,H]=Object(i.useState)(null),B=Object(ie.c)(),[U,G]=Object(i.useState)(B[0]);Object(i.useEffect)((()=>{var e;null!==c&&void 0!==c&&null!==(e=c.dispositionStateData)&&void 0!==e&&e.showDisposition&&G(B[null!==L&&void 0!==L&&L.pinCode?0:1])}),[null===c||void 0===c||null===(l=c.dispositionStateData)||void 0===l?void 0:l.showDisposition,L]);return Object(T.jsxs)("div",{className:"delivery-address-section",style:{marginTop:"70px"},children:[Object(T.jsxs)("div",{className:"header-text",children:[Object(r.translateWithI18Next)(x)," ","(".concat(h.length,")")]}),0===h.length&&Object(T.jsx)("div",{className:"no-fav-store",children:Object(T.jsx)("p",{children:Object(r.translateWithI18Next)(p)})}),Object(T.jsx)(Q,{prefectureAddressScreen:y,savedAddresses:h,addOrEditClickHandler:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u({type:v,value:{dispositionType:b}}),y&&u({type:m,value:{showDisposition:!0}});const a="edit"===e;M(a?t:{}),R(!0),w(a)},deleteAddressHandler:e=>{P(!0),H(e)},showDefaultLabelOnNewLine:D}),A&&y&&Object(T.jsx)(ae.default,{deliverySearchType:U,setDeliverySearchType:G,prefectureAddressScreen:y,closeModal:()=>{R(!1),u({type:m,value:{showDisposition:!1}})},modalType:_,address:L}),A&&!y&&Object(T.jsx)(ee.a,{"data-testid":"address-modal",modalType:_,address:L,isOpen:A,toggleModal:R}),k&&Object(T.jsx)($.a,{handleClose:()=>P(!1),classNames:"plp-warning-msg addr-container",CartAlertForm:Object(T.jsx)(F.a,{title:"".concat(Object(r.translateWithI18Next)(g)),imageSrc:s.a.CartError,confirmButtonText:Object(r.translateWithI18Next)(S),confirmHandler:()=>{H(null);const{customerId:e,phoneNumber:t}=te.a.getInstance();d(Object(Z.b)({customerId:e,phoneNumber:t,tenantId:j,addressId:W})),P(!1),Object(o.Cf)(Object(r.translateWithI18Next)(f),"","favorites-added-toast")},cancelHandler:()=>P(!1),cancelButtonText:Object(r.translateWithI18Next)(N),buttonContainerClass:"deeplink-alert-btn-container"})})]})},oe=a(192),ne=a(329);var de=e=>{const{MY_FAV_STORES:t,UNDEFINED:a}=u.b,{STORE_STATUS_OPEN:l}=b.a,{NO_FAVOURITE_STORE:m,REMOVED_MSG:j}=E.a,h=Object(n.b)(),{userOrderState:p}=Object(i.useContext)(O.a),{storesWithStatus:g}=Object(n.c)((e=>e.storesReducer)),{allStores:N=[]}=Object(n.c)((e=>e.allStoresReducer))||{},{favouriteStores:S,savedAddresses:I}=Object(n.c)((e=>e.profileReducer)),{localized:x=!1}=Object(n.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),f=Object(n.c)((e=>e.cartReducer)),C=Object(n.c)((e=>e.tenantReducer)),{tenantId:y="",storeSearch:D={},driveTime:A,componentOptions:R}=C,{web:_={}}=R||{},{shouldCheckDropOffAddress:w=!1}=_,[k,P]=Object(i.useState)([]),[F,W]=Object(i.useState)([]),[H,G]=Object(i.useState)(!1),{showScheduleOrderCatering:V}=p.scheduleOrderData,Y=Object(U.b)(B.b),K=Object(M.a)(p),q=Object(i.useMemo)((()=>{var e;return{dispositionType:null!==K&&void 0!==K&&K.type?Object(o.Mb)(K.type):Object(o.Mb)(null===C||void 0===C||null===(e=C.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[K,C]),{dispositionType:z}=q,J=JSON.stringify(I),Q=localStorage.getItem(L.gd.STORE_INFO),Z=Q&&Q!==a&&JSON.parse(Q),$=null!==I&&void 0!==I&&I.length?I.filter((e=>e.isPrimary)):[],ee=Z&&x?Z:(null===$||void 0===$?void 0:$.length)&&$[0],ae=S.map((e=>{var t;const{latitude:a,longitude:i}=(null===(t=e.storeBasic)||void 0===t?void 0:t.location)||{};return{lat:a,lng:i}}));Object(i.useEffect)((()=>{(async()=>{const e=await(async e=>{var t,a,i,l,n;const{cartReducer:d,originInfo:r,allStoreLocations:s,dispositionNew:c,pwaStorageData:u}=e,v=(null===r||void 0===r||null===(t=r.location)||void 0===t?void 0:t.latitude)||(null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.lat),O=(null===r||void 0===r||null===(i=r.location)||void 0===i?void 0:i.longitude)||(null===s||void 0===s||null===(l=s[0])||void 0===l?void 0:l.lng);if(Object(o.ge)(null===d||void 0===d||null===(n=d.cartData)||void 0===n?void 0:n.service)){var b,m,j,h;if(null!==u&&void 0!==u&&null!==(b=u.latLong)&&void 0!==b&&b.lat&&null!==u&&void 0!==u&&null!==(m=u.latLong)&&void 0!==m&&m.lng)return[{lat:null===u||void 0===u||null===(j=u.latLong)||void 0===j?void 0:j.lat,lng:null===u||void 0===u||null===(h=u.latLong)||void 0===h?void 0:h.lng}];const e=await Object(ne.geocodeByAddress)(null===c||void 0===c?void 0:c.deliveryAddress),{lat:t,lng:a}=await Object(ne.getLatLng)(e[0]);return[{lat:t,lng:a}]}var p,g,N,S,I,x;return[{lat:parseFloat(null===d||void 0===d||null===(p=d.cartData)||void 0===p||null===(g=p.deliveryAddress)||void 0===g||null===(N=g.location)||void 0===N?void 0:N.latitude)||v,lng:parseFloat(null===d||void 0===d||null===(S=d.cartData)||void 0===S||null===(I=S.deliveryAddress)||void 0===I||null===(x=I.location)||void 0===x?void 0:x.longitude)||O}]})({cartReducer:f,originInfo:ee,allStoreLocations:ae,dispositionNew:K,getPWAStorageData:Y});W(e)})()}),[null===K||void 0===K?void 0:K.deliveryAddress,z]);const ie=Object(i.useMemo)((()=>null!==D&&void 0!==D&&D.shouldCallGoogleDistanceApi?[]:null===k||void 0===k?void 0:k.map((e=>{var t,a,i,l,o,n;const d=oe.a.calculateDistanceAlgo(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.latitude,null===e||void 0===e||null===(i=e.storeBasic)||void 0===i||null===(l=i.location)||void 0===l?void 0:l.longitude,null===F||void 0===F||null===(o=F[0])||void 0===o?void 0:o.lat,null===F||void 0===F||null===(n=F[0])||void 0===n?void 0:n.lng);return{...e,distance:{value:d}}}))),[k,F]);Object(i.useEffect)((()=>{if(null!==S&&void 0!==S&&S.length&&y&&!V){const e=Object(o.C)(S,z,null,w,null===Y||void 0===Y?void 0:Y.latLong),t=!0;localStorage.getItem(L.gd.SET_FAV)||h(Object(d.d)({data:e,tenantId:y,isFavoritePage:t}))}}),[y,null===S||void 0===S?void 0:S.length,null===I||void 0===I?void 0:I.length,V,J]),Object(i.useEffect)((()=>(window.scrollTo(0,0),h(Object(d.u)()),()=>{h(Object(d.u)())})),[]),Object(i.useEffect)((()=>{h(Object(d.u)())}),[S.length,I.length]),Object(i.useEffect)((()=>{null!==k&&void 0!==k&&k.length&&null!==g&&void 0!==g&&g.length&&de()}),[null===g||void 0===g?void 0:g.length,k.length]);const de=()=>{const e=k.map((e=>{let t={...e};const a=g.find((t=>t.storeId===e.storeBasic.id||t.id===e.storeBasic.id));return a&&(t.summary=a.summary,t.isOpen=a.summary.status.currentStatus===l),t}));P(e.filter((e=>e.summary)))};Object(i.useEffect)((()=>{localStorage.getItem(L.gd.RENDER_COMP)&&localStorage.getItem(L.gd.SET_FAV)&&(localStorage.removeItem(L.gd.RENDER_COMP),localStorage.removeItem(L.gd.SET_FAV),h(Object(d.u)()),re())})),Object(i.useEffect)((()=>{re()}),[S.length,H]),Object(i.useEffect)((()=>{if(H){const e=Object(T.jsx)(c.a,{srcFile:s.a.heartIcon_active});Object(o.Df)(Object(r.translateWithI18Next)(j),e),setTimeout((()=>{v.b.dismiss()}),3e3)}return()=>G(!1)}),[H]),Object(i.useEffect)((()=>{re()}),[I.length,JSON.stringify(I)]);const re=()=>{if(null!==D&&void 0!==D&&D.shouldCallGoogleDistanceApi)if(ee){let e=null===D||void 0===D?void 0:D.distanceMetrics;e=e!==(null===u.b||void 0===u.b?void 0:u.b.KM)?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC,null!==S&&void 0!==S&&S.length?se(F,ae,e):(P([]),G(!1))}else null!==k&&void 0!==k&&k.length&&null!==g&&void 0!==g&&g.length?de():(P(S),G(!1))};Object(i.useEffect)((()=>{P(S)}),[S.length]);const se=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:a,avoidHighways:!1,avoidTolls:!1},ce)},ce=(e,t)=>{let a=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e)),a=S.map(((e,t)=>({...e,...i[t]}))),P(a),G(!1)};return Object(T.jsxs)("div",{className:"addresses-and-stores-container",id:"addresses-global",children:[Object(T.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(T.jsx)(c.a,{srcFile:s.a.SingleArrowback,className:"backArrow-account-setting","data-testid":"backArrow-account-setting",onClick:()=>e.updateMenu("")}),Object(T.jsx)("span",{className:"account-setting-text-header",children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.STOREADDRESS)})]}),(null===k||void 0===k?void 0:k.length)>0&&Object(T.jsx)(X,{"data-testid":"favStore-list",removeFromFavoriteHandler:e=>{const{customerId:t}=te.a.getInstance();h(Object(d.x)({tenantId:y,customerId:t,storeId:e,dispatch:"dispatch"})),G(!0)},localized:x,history:e.history,storesReducer:g,favouriteStores:null!==D&&void 0!==D&&D.shouldCallGoogleDistanceApi?k:ie,isMobile:e.isMobile,showMoreInfo:!0,savedAddresses:I}),0===(null===k||void 0===k?void 0:k.length)&&Object(T.jsxs)("div",{className:"favorite-stores-section",children:[Object(T.jsxs)("div",{className:"header-text",children:[Object(r.translateWithI18Next)(t)," (",S.length,")"]}),Object(T.jsx)("div",{className:"no-fav-store",children:Object(T.jsx)("p",{children:Object(r.translateWithI18Next)(m)})})]}),Object(T.jsx)(le,{storeSearch:D,savedAddresses:I,isMobile:e.isMobile,tenantId:y,driveTime:A,allStores:N})]})},re=a(1101),se=a(412);const ce=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!==a&&void 0!==a&&a.showMrMiss?Object(T.jsxs)(T.Fragment,{children:[Object(r.translateWithI18Next)("".concat(Object(r.translateWithI18Next)(e)," ").concat(Object(o.ec)())),Object(T.jsx)("p",{children:Object(r.translateWithI18Next)("".concat(t.firstName+Object(r.translateWithI18Next)(E.a.MRMISS)||t.phone,"!"))})]}):Object(T.jsx)(T.Fragment,{children:Object(r.translateWithI18Next)("".concat(Object(r.translateWithI18Next)(e)," ").concat(Object(o.ec)(),"  ").concat(t.firstName||t.phone,"!"))})},ue=e=>{const{basicData:t}=e;return Object(T.jsx)("span",{className:"user-name-greeting",children:Object(r.translateWithI18Next)("".concat((null===t||void 0===t?void 0:t.firstName)+Object(r.translateWithI18Next)(E.a.MRMISS)||Object(r.translateWithI18Next)(E.a.KFC_LOVER)))})},ve=e=>{let{handleClose:t,signOutAccount:a}=e;const{SIGN_OUT:i,CANCEL:o,SIGN_OUT_ACCOUNT_MESSAGE:n}=u.a,d={CONFIRM_SIGN_OUT_TEXT:{MSGTXT1:Object(r.translateWithI18Next)(n)}};return Object(T.jsx)(l.a.Fragment,{children:Object(T.jsx)(P.a,{handleClose:t,classNames:"delete-account-modal",CartAlertForm:Object(T.jsx)(F.a,{splitTitle:d.CONFIRM_SIGN_OUT_TEXT,imageSrc:s.a.CartError,altText:"delete-account",cancelButtonText:Object(r.translateWithI18Next)(o),confirmButtonText:Object(r.translateWithI18Next)(i),confirmHandler:a,cancelHandler:t})})})};var Oe=e=>{var t,a,l,d,c;let{currentMenu:u,updateMenu:v,signOutAccount:O,isMobile:b,basicData:m}=e;const[j,h]=Object(i.useState)(!1),[p,g]=Object(i.useState)(0),{ADDRESS:N,ADDRESS_PLACEHOLDER:S,SIGN_OUT:I,GREETING_GOOD:x,KFC_LOVER:C,ORDER_HISTORY_TAG:y,FAVORITE_ORDERS:D,ACCOUNT_SETTING:A,PREFERENCES:R,MESSAGE_TAG:_,MY_PAYMENT_METHODS:w,CHICKEN_MILES:M}=E.a,{greeting:k={}}=Object(n.c)((e=>{var t,a,i;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i?void 0:i.homePage)&&void 0!==t?t:""})),{showContentCards:P=!1}=Object(n.c)((e=>{var t,a,i;return null===(t=e.tenantReducer)||void 0===t||null===(a=t.componentOptions)||void 0===a||null===(i=a.web)||void 0===i?void 0:i.global})),F=Object(n.c)((e=>{var t,a,i,l,o;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(o=l.accountPage)||void 0===o?void 0:o.showMyPaymentMethods)&&void 0!==t?t:""})),W=Object(n.c)((e=>{var t,a,i,l,o;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(o=l.accountPage)||void 0===o?void 0:o.showChickenMiles)&&void 0!==t?t:""})),H=Object(n.c)((e=>{var t,a,i,l,o;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(o=l.accountPage)||void 0===o?void 0:o.showPreferenceCenter)&&void 0!==t&&t})),G=Object(n.c)((e=>{var t,a,i;return null===(t=e.tenantReducer)||void 0===t||null===(a=t.componentOptions)||void 0===a||null===(i=a.accountSettings)||void 0===i?void 0:i.communicationPreferenceComponent})),V=Object(U.b)(B.b),Y=(null===V||void 0===V?void 0:V.brazeInitialized)&&(null===(t=window)||void 0===t||null===(a=t.appboy)||void 0===a||null===(l=a.getCachedContentCards())||void 0===l||null===(d=l.cards)||void 0===d||null===(c=d.filter((e=>!e.isControl&&!e.viewed)))||void 0===c?void 0:c.length),K=Object(n.c)((e=>{var t,a,i,l;return null===(t=e.tenantReducer)||void 0===t||null===(a=t.componentOptions)||void 0===a||null===(i=a.web)||void 0===i||null===(l=i.accountPage)||void 0===l?void 0:l.showFavoriteSection})),q=()=>{h(!1)};Object(i.useEffect)((()=>{Y&&g(Y)}),[Y]);return b?Object(T.jsxs)("div",{className:"account-mobile-container",children:[Object(T.jsx)("div",{className:"account-mobile-header",children:Object(T.jsxs)("div",{className:"account-header-container",children:[Object(T.jsx)("img",{alt:"arrow",src:s.a.Strips,className:"account-icon"}),Object(T.jsx)("h4",{className:"account-header account-user-name-mobile",children:ce(x,m,k)}),Object(T.jsx)(f.a,{"data-testid":"signout-button1-testid",className:"button transparent-btn white-border sign-out-btn sign-out-btn-au","aria-label":"",onClick:()=>{h(!0)},type:"submit",children:Object(T.jsx)("span",{children:Object(r.translateWithI18Next)(I)})}),j&&Object(T.jsx)(ve,{handleClose:q,signOutAccount:O})]})}),Object(T.jsxs)("div",{className:"account-mobile-menu-option",children:[W&&Object(T.jsx)("section",{"data-testid":"chicken-miles-mobile-testid",onClick:()=>v(M),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(M)}),Object(T.jsx)("img",{alt:"arrow",src:s.a.Arrow,className:"account-icon"})]})})}),P&&Object(T.jsx)("section",{"data-testid":"account-messages-mobile-testid",onClick:()=>v(_),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(_)}),!!p&&Object(T.jsx)("span",{className:"msg-badge",children:p}),Object(T.jsx)("img",{alt:"arrow",src:s.a.Arrow,className:"account-icon"})]})})}),Object(T.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:()=>v(L.Ce.ORDER_HISTORY),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(y)}),Object(T.jsx)("img",{alt:"arrow",src:s.a.Arrow,className:"account-icon"})]})})}),K&&Object(T.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:()=>v(D),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(D)}),Object(T.jsx)("img",{src:s.a.Arrow,className:"account-icon",alt:"Account Icon"})]})})}),F&&Object(T.jsx)("section",{"data-testid":"my-payment-methods-mobile-testid",onClick:()=>v(w),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(w)}),Object(T.jsx)("img",{src:s.a.Arrow,className:"account-icon",alt:"arrow-icon"})]})})}),Object(T.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:()=>v(N),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(S)}),Object(T.jsx)("img",{alt:"arrow",src:s.a.Arrow,className:"account-icon"})]})})}),Object(T.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:()=>v(A),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(A)}),Object(T.jsx)("img",{src:s.a.Arrow,className:"account-icon",alt:""})]})})}),H&&Object(T.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:()=>v(R),className:"account-accordian",children:Object(T.jsx)("div",{className:"global-accordian-container",children:Object(T.jsxs)("div",{className:"global-accordian-header-container",children:[Object(T.jsx)("span",{className:"global-accordian-header",children:Object(r.translateWithI18Next)(R)}),Object(T.jsx)("img",{src:s.a.Arrow,className:"account-icon",alt:""})]})})})]})]}):Object(T.jsxs)("div",{className:"account-header-container ".concat(Object(o.ec)()===L.l&&"account-header-noon"),children:[Object(T.jsx)("img",{alt:"stripes",src:s.a.Strips,className:"account-icon"}),Object(T.jsx)("h4",{className:"account-header",children:Object(r.translateWithI18Next)("".concat(Object(r.translateWithI18Next)(x)," ").concat(Object(o.ec)()))}),Object(T.jsx)("h4",{className:"account-user-name",children:null!==k&&void 0!==k&&k.showMrMiss?ue({basicData:m}):Object(T.jsx)("span",{className:"user-name-greeting",children:Object(r.translateWithI18Next)("".concat((null===m||void 0===m?void 0:m.firstName)||Object(r.translateWithI18Next)(C)))})}),Object(T.jsxs)("div",{className:"account-menu-container",children:[W&&Object(T.jsx)("div",{"data-testid":"chicken-miles-testid",className:Object(o.ad)(u===M,"activeMenu account-menu","account-menu"),onClick:()=>v(M),children:Object(r.translateWithI18Next)(M)}),P&&Object(T.jsxs)("div",{"data-testid":"account-messages-testid",className:Object(o.ad)(u===_,"activeMenu account-menu","account-menu"),onClick:()=>v(_),children:[Object(r.translateWithI18Next)(_),!!p&&Object(T.jsx)("span",{className:"msg-badge",children:p})]}),Object(T.jsx)("div",{"data-testid":"order-history-testid",className:Object(o.ad)(u===L.Ce.ORDER_HISTORY,"activeMenu account-menu","account-menu"),onClick:()=>v(L.Ce.ORDER_HISTORY),children:Object(r.translateWithI18Next)(y)}),K&&Object(T.jsx)("div",{className:Object(o.ad)(u===D,"activeMenu account-menu","account-menu"),onClick:()=>v(D),"data-testid":"fav-menu-link",children:Object(r.translateWithI18Next)(D)}),F&&Object(T.jsx)("div",{"data-testid":"my-payment-methods-testid",className:Object(o.ad)(u===w,"activeMenu account-menu","account-menu"),onClick:()=>v(w),children:Object(r.translateWithI18Next)(w)}),Object(T.jsx)("div",{"data-testid":"saved-address-testid",className:Object(o.ad)(u===N,"activeMenu account-menu","account-menu"),onClick:()=>v(N),children:Object(r.translateWithI18Next)(S)}),Object(T.jsx)("div",{"data-testid":"account-settings-testid",className:Object(o.ad)(u===A,"activeMenu account-menu ".concat(!G&&"showAtLast"),"".concat(!G&&"showAtLast"," account-menu")),onClick:()=>v(A),children:Object(r.translateWithI18Next)(A)}),H&&Object(T.jsx)("div",{"data-testid":"header-preferences-testid",className:Object(o.ad)(u===R,"activeMenu account-menu","account-menu"),onClick:()=>v(R),children:Object(r.translateWithI18Next)(R)})]}),Object(T.jsx)(f.c,{"data-testId":"signout-button1-testid",className:"sign-out-btn ","data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,variant:f.b.tertiary,inverted:!0,small:!0,"aria-label":"",type:"submit",onClick:()=>{h(!0)},children:Object(T.jsx)("span",{"data-testid":"signout-button-testid",children:Object(r.translateWithI18Next)(I)})}),j&&Object(T.jsx)(ve,{handleClose:q,signOutAccount:O})]})},be=a(159);var me=e=>{const t=Object(n.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),a=Object(n.b)(),{tenantReducer:{useDeviceDefaultLanguage:l,basic:{allowedLanguages:d=[],defaultLanguage:r}={}}={}}=Object(n.c)((e=>e)),s=l?Object(o.Fb)(d,r):r,c=(null===d||void 0===d?void 0:d.length)>1&&localStorage.getItem(L.gd.USER_LANGUAGE)!==(null===s||void 0===s?void 0:s.key),{userOrderState:u,userOrderStateDispatch:v}=Object(i.useContext)(O.a),b=Object(o.ad)(Object(o.Sd)(u.dispositionNew),JSON.parse(localStorage.getItem(L.gd.DISPOSITION_NEW)),u.dispositionNew),m=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));return Object(T.jsx)(Oe,{...e,signOutAccount:()=>{((e,t,a,i,l,o,n)=>{Object(se.t)(null===t||void 0===t?void 0:t.id),Object(be.a)(null,null,e,a,i,null,l,!0),localStorage.removeItem(L.gd.ADD_TO_ORDER),o&&n&&localStorage.setItem(L.gd.USER_LANGUAGE,o),te.a.getInstance().logout()})(m,t,a,v,b,null===s||void 0===s?void 0:s.key,c)},basicData:t})},je=a(981);const{MESSAGES_TAG:he,ZERO_MESSAGE_COUNT_TEXT:pe}=E.a;var ge=e=>{var t,a,l,o,d,c,u;const{isMobile:v}=e,[O,b]=Object(i.useState)(0),m=Object(n.c)((e=>e.tenantReducer||null)),{loadBrazeData:j=!1,showContentCards:h=!1}=(null===m||void 0===m||null===(t=m.componentOptions)||void 0===t||null===(a=t.web)||void 0===a?void 0:a.global)||{},p=Object(U.b)(B.b),{SingleArrowback:g}=s.a,N=(null===p||void 0===p?void 0:p.brazeInitialized)&&(null===(l=window)||void 0===l||null===(o=l.appboy)||void 0===o||null===(d=o.getCachedContentCards())||void 0===d||null===(c=d.cards)||void 0===c||null===(u=c.filter((e=>!e.isControl)))||void 0===u?void 0:u.length);return Object(i.useEffect)((()=>{(async(e,t,a,i,l)=>{await Object(S.n)();const o=document.getElementById("message-wrapper");N&&b(N),j?(null===p||void 0===p?void 0:p.brazeInitialized)&&(null===(e=window)||void 0===e||null===(t=e.appboy)||void 0===t||t.showContentCards(o)):(null===p||void 0===p?void 0:p.brazeInitialized)&&(null===(a=window)||void 0===a||null===(i=a.appboy)||void 0===i||null===(l=i.display)||void 0===l||l.showContentCards(o))})()}),[null===p||void 0===p?void 0:p.brazeInitialized,N]),Object(T.jsxs)("div",{"data-testid":"account-message-wrapper",className:"account-message-wrapper",children:[v&&Object(T.jsxs)("div",{className:"account-message-header-mobile",children:[Object(T.jsx)("img",{className:"backArrow-account-setting","data-testid":"message-backArrow",onClick:()=>e.updateMenu(""),src:g,alt:"back button"}),Object(T.jsx)("span",{className:"account-message-text-header",children:Object(r.translateWithI18Next)(he)})]}),Object(T.jsxs)("span",{className:"account-message-text-heading",children:[Object(r.translateWithI18Next)(he)," ","(".concat(O,")")]}),h&&Object(T.jsx)("div",{id:"message-wrapper"})]})},Ne=a(1227),Se=a(1303),Ie=(a(20),a(87)),xe=a(57),fe=a(122),Ee=a(275),Ce=a(199),Te=a(1109);var ye=e=>{var t,a,l,d,v,O,b,m,j,h,p,g,N,S,I,x;const{isMobile:C,firstName:y,lastName:D,email:A,phone:R,postalCode:_,day:w,month:M,year:k,phonePattern:P,splitPattern:F}=e,W=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.profileReducer)||void 0===t?void 0:t.customerId})),H=Object(n.c)((e=>e.tenantReducer)),B=null===H||void 0===H||null===(t=H.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(l=a.accountPage)||void 0===l?void 0:l.isEmailDisabled,U=null===H||void 0===H||null===(d=H.componentOptions)||void 0===d||null===(v=d.web)||void 0===v||null===(O=v.accountPage)||void 0===O?void 0:O.showDateOfBirthInReverseOrder;let G=(e=>e?"email-border":"email-editable")(B);const V=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response})),{headerData:Y={}}=V||{},{minAgeRequirement:K}=Y,{isPostalCodeMandtoryField:q,postalCodesLength:z,allowOtpPopup:J,maxLengthPhoneNumber:X,dateOfBirth:Q,editAccountInfoModal:Z,updateCustomerData:$,isEnablePostalCodeSignUp:ee,postalCodeRegex:te,phoneNumberRegex:ae,postalCodeFormatNumber:ie,validateNameRegex:le,validateEmailRegex:oe,isEmailMandatoryField:ne,isDOBMandatoryField:de,dob:re,validateLastNameRegex:ce,errorMessageForPhoneNumberInUse:ue,setErrorMessageForPhoneNumberInUse:ve,displayErrorForPhoneNumberInUse:Oe,postalCodeSeparator:be}=e,[me,je]=Object(i.useState)({isValidDOB:!0,dobErrorMsg:""}),[he,pe]=Object(i.useState)({firstName:y,lastName:D,email:A,phone:Object(se.g)(R,P,F),dateOfBirth:Q,postalCode:_,day:w,month:M,year:k,allowOtpPopup:J,user_id:W}),[ge,Ne]=Object(i.useState)(!1),[Se,Ie]=Object(i.useState)(!1),[xe,ye]=Object(i.useState)(""),[De,Ae]=Object(i.useState)(""),[Re]=Object(i.useState)(Object(se.e)()),{PERSONAL_INFO_TEXT:_e,SAVE:we,CANCEL:Le,FIRST_NAME_ERROR_TEXT:Me,FIRST_NAME:ke,LAST_NAME:Pe,LAST_NAME_ERROR_TEXT:Fe,EMAIL_ADDRESS:We,EMAIL_ERROR_TEXT:He,MOBILE_NUMBER:Be,MOBILE_NUMBER_ERROR_TEXT:Ue,POSTAL_CODE:Ge,POSTAL_CODE_ERROR_TEXT:Ve,DATE_OF_BIRTH:Ye,PHONE_TOOLTIP_TITLE:Ke,DOB_TOOLTIP_TITLE:qe,EVENT_NAME_POSTAL_CODE:ze,EVENT_NAME_PHONE:Je}=u.a;Object(i.useEffect)((()=>{let e,t=Object(o.sb)(he.day,he.month,he.year);Object(o.hb)(he,t)?(e=Object(se.d)(he.day,he.month,he.year,K),je({...e})):je({isValidDOB:!0,dobErrorMsg:""})}),[he]),Object(i.useEffect)((()=>(window.addEventListener(L.Fe,Xe),()=>{window.removeEventListener(L.Fe,Xe)}))),Object(i.useEffect)((()=>(window.addEventListener(L.W,Xe),()=>{window.removeEventListener(L.W,Xe)}))),Object(i.useEffect)((()=>{ue&&Ie(!0)}),[ue]);const Xe=e=>{e.preventDefault(),Ae(e.target.id),e.target.className&&(-1!==e.target.className.indexOf("did-floating-select")?xe&&""!==xe?e.target.id!==De?Object(o.ad)(1==xe,ye(!1),ye(!0)):ye(!1):ye(!0):ye(!1))},Qe=e=>{let t=e.target.value;var a;e.target.name===Je&&(Ie(!1),t=null===(a=e.target.value)||void 0===a?void 0:a.replace(L.Be,""));pe({...he,[e.target.name]:t}),ue&&ve(!1)},Ze=e=>{let{className:t,props:a}=e;const{label:i,optionList:l,flag1:n,flag2:d}=a;return Object(T.jsx)("div",{className:t,children:Object(T.jsxs)("div",{className:"did-floating-label-content did-error-input",children:[Object(T.jsxs)("select",{required:!0,"data-testid":"".concat(null===i||void 0===i?void 0:i.toLowerCase(),"-testid"),id:"".concat(null===i||void 0===i?void 0:i.toLowerCase(),"-list"),className:"did-floating-select ".concat(Object(o.hb)(!(null!==me&&void 0!==me&&me.isValidDOB)&&(n||(null===me||void 0===me?void 0:me.isDateNotInRange)),"error-color")," ").concat(Object(o.hb)(d,"error-color-disable")," ").concat(Object(o.ad)(De==="".concat(null===i||void 0===i?void 0:i.toLowerCase(),"-list"),Object(o.ad)(Object(o.jb)(!xe,""===xe),"dropdown-notfocus","dropdown-focus"),"")),value:he[null===i||void 0===i?void 0:i.toLowerCase()],onClick:e=>{e.preventDefault(),e.stopPropagation(),window.addEventListener("click",Xe)},onChange:e=>{let{target:{value:t}}=e;return pe({...he,[null===i||void 0===i?void 0:i.toLowerCase()]:t})},title:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.PLEASE_SELECT),children:[Object(T.jsx)("option",{value:""},""),null===l||void 0===l?void 0:l.map((e=>Object(T.jsx)("option",{value:e,children:"month"===(null===i||void 0===i?void 0:i.toLowerCase())?Object(r.translateWithI18Next)(e):e},e)))]}),Object(T.jsx)("label",{id:"date-of-birth-label-text",className:"did-floating-label ".concat(Object(o.hb)(!(null!==me&&void 0!==me&&me.isValidDOB),"error-color")).concat("year"===i?Object(o.hb)(null===me||void 0===me?void 0:me.isDayNotValid,"error-color-disable"):""),children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a[null===i||void 0===i?void 0:i.toUpperCase()])})]})})};return Object(T.jsxs)(T.Fragment,{children:[ue&&Oe&&Object(T.jsxs)("div",{className:"personal-card-phone_number_in_use",children:[Object(T.jsx)(c.a,{srcFile:s.a.Error,className:"alert-icon"}),Object(T.jsx)("span",{children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.EXISTING_PHONE_NUMBER_ERROR_MESSAGE)})]}),Object(T.jsxs)("div",{className:"personal-info-card personal-info-card-au",children:[Object(T.jsx)("div",{className:"personal-card-left-side",children:Object(r.translateWithI18Next)(_e)}),Object(T.jsx)("div",{className:"personal-card-right-side",children:Object(T.jsxs)("div",{className:"personal-information-card",children:[Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(o.hb)(!C,Object(T.jsxs)("div",{className:"left-side-lables",children:[Object(r.translateWithI18Next)(ke),Object(T.jsx)("span",{children:"*"})]})),Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)(fe.a,{"data-testid":"firstname-testid",name:"firstName",placeholder:Object(o.ad)(C,"".concat(Object(r.translateWithI18Next)(ke),"*"),""),value:null===he||void 0===he?void 0:he.firstName,inputClassName:"edit-info-input-class",onChange:Qe,onKeyPress:e=>Object(se.q)(e,le),error:(null===he||void 0===he||null===(b=he.firstName)||void 0===b?void 0:b.length)<=0||Object(o.hb)((null===he||void 0===he||null===(m=he.firstName)||void 0===m?void 0:m.length)>0,Object(o.jb)(!Object(se.x)(null===he||void 0===he?void 0:he.firstName,le),Object(se.b)(Ce.a,null===he||void 0===he?void 0:he.firstName))),helperText:Object(r.translateWithI18Next)(Me),helperTextClassName:"error-text",maxLength:"100",autoComplete:"first-name",errorIcon:s.a.Error,errorIconClassName:"flex-div"})})]}),Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(o.hb)(!C,Object(T.jsxs)("div",{className:"left-side-lables",children:[Object(r.translateWithI18Next)(Pe),Object(T.jsx)("span",{children:"*"})]})),Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)(fe.a,{"data-testid":"lastname-testid",name:"lastName",placeholder:Object(o.ad)(C,"".concat(Object(r.translateWithI18Next)(Pe),"*"),""),value:null===he||void 0===he?void 0:he.lastName,inputClassName:"edit-info-input-class",onChange:Qe,onKeyPress:e=>Object(se.q)(e,le),error:(null===he||void 0===he||null===(j=he.lastName)||void 0===j?void 0:j.length)<=0||Object(o.hb)((null===he||void 0===he||null===(h=he.lastName)||void 0===h?void 0:h.length)>0,Object(o.jb)(!Object(se.w)(null===he||void 0===he?void 0:he.lastName,ce),Object(se.b)(Ce.a,null===he||void 0===he?void 0:he.lastName))),helperText:Object(r.translateWithI18Next)(Fe),helperTextClassName:"error-text",maxLength:"100",autoComplete:"last-name",errorIcon:s.a.Error,errorIconClassName:"flex-div"})})]}),Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(o.hb)(!C,Object(T.jsxs)("div",{className:"left-side-lables",children:[Object(r.translateWithI18Next)(We),Object(T.jsx)("span",{children:Object(o.rc)(ne)})]})),Object(T.jsx)("div",{className:"right-side-form ".concat(G),"data-testid":"email-testid",children:Object(T.jsx)(fe.a,{name:"email",placeholder:Object(o.ad)(C,"".concat(Object(r.translateWithI18Next)(We)," ").concat(Object(o.rc)(ne)),""),"data-testid":"email-input-testid",value:null===he||void 0===he?void 0:he.email,inputClassName:"edit-info-input-class",onChange:Qe,error:(null===he||void 0===he||null===(p=he.email)||void 0===p?void 0:p.length)<=0||Object(o.hb)((null===he||void 0===he||null===(g=he.email)||void 0===g?void 0:g.length)>0,Object(o.jb)(!Object(se.v)(null===he||void 0===he?void 0:he.email,oe),Object(se.b)(Ce.a,null===he||void 0===he?void 0:he.email))),errorIcon:s.a.Error,helperText:Object(r.translateWithI18Next)(He),helperTextClassName:"error-text",maxLength:"100",autoComplete:"off",readOnly:B,errorIconClassName:"flex-div"})})]}),Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(o.hb)(!C,Object(T.jsxs)("div",{className:"left-side-lables",children:[Object(r.translateWithI18Next)(Be),Object(T.jsx)("span",{children:"*"})]})),Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)(fe.a,{"data-testid":"phone-testid",name:"phone",placeholder:Object(o.ad)(C,"".concat(Object(r.translateWithI18Next)(Be),"*"),""),value:null===he||void 0===he?void 0:he.phone,inputClassName:"edit-info-input-class",onChange:Qe,error:(null===he||void 0===he||null===(N=he.phone)||void 0===N?void 0:N.length)<=0||Object(o.hb)((null===he||void 0===he||null===(S=he.phone)||void 0===S?void 0:S.length)>0,!Object(se.y)(null===he||void 0===he?void 0:he.phone,ae))||Oe&&ue,helperText:ue&&Oe?Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.PHONE_NUMBER_MAYBE_IN_USE):Object(r.translateWithI18Next)(Ue),helperTextClassName:"error-text",autoComplete:"mobile-number",toolTipText:Object(r.translateWithI18Next)(Ke),toolTipSrc:s.a.Tooltip,errorIcon:s.a.Error,errorIconClassName:"flex-div",onBlur:e=>{const t=Object(se.g)(e.target.value,P,F);pe({...he,phone:t})},onFocus:e=>{let t=e.target.value.replace(L.Be,"");pe({...he,phone:t})},type:"tel",maxLength:X})})]}),ee&&Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(o.hb)(!C,Object(T.jsxs)("div",{className:"left-side-lables",children:[" ",Object(r.translateWithI18Next)(Ge),Object(T.jsx)("span",{children:Object(o.rc)(q)})]})),Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)(fe.a,{type:"text","data-testid":"postalcode-testid",name:"postalCode",placeholder:Object(o.ad)(C,"".concat(Object(r.translateWithI18Next)(Ge)).concat(Object(o.rc)(q)),""),value:null===he||void 0===he?void 0:he.postalCode,inputClassName:"edit-info-input-class",onChange:e=>{if(e.target.name===ze&&e.target.value.length<=z){var t,a;const i=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(a=t.value)||void 0===a?void 0:a.replace(L.Ae,"");pe({...he,[e.target.name]:i})}},error:(null===he||void 0===he||null===(I=he.postalCode)||void 0===I?void 0:I.length)<=0||Object(o.j)([ge,(null===he||void 0===he||null===(x=he.postalCode)||void 0===x?void 0:x.length)>0,!Object(se.z)(null===he||void 0===he?void 0:he.postalCode,te)]),onBlur:e=>{const t=Object(se.h)(e.target.value,ie,z,be);pe({...he,postalCode:t}),Ne(!0)},onFocus:e=>{const t=e.target.value.replace(L.we,"");pe({...he,postalCode:t}),Ne(!0)},helperText:Object(r.translateWithI18Next)(Ve),helperTextClassName:"error-text",autoComplete:"postal-code",toolTipSrc:s.a.Tooltip,errorIcon:s.a.Error,errorIconClassName:"flex-div"})})]}),Object(T.jsxs)("div",{className:"edit-personal-data-view",children:[Object(T.jsxs)("div",{className:"left-side-lables",children:[Object(r.translateWithI18Next)(Ye),Object(o.hb)(C,Object(T.jsx)("div",{children:Object(T.jsx)(Ee.a,{placement:"top",title:Object(r.translateWithI18Next)(qe),children:Object(T.jsx)("img",{class:"",src:s.a.Tooltip,alt:"tooltip"})})})),Object(o.hb)(!C,Object(T.jsx)("span",{className:"tool-tip-position tool-tip-desktop",children:Object(T.jsx)(Ee.a,{placement:"top",title:Object(r.translateWithI18Next)(qe),children:Object(T.jsx)("img",{class:"tooltip-view-desktop",src:s.a.Tooltip,alt:"tooltip"})})}))]}),Object(o.ad)(Q,Object(T.jsx)("div",{className:"dob-present",children:re}),Object(T.jsx)("div",{className:"right-side-form",children:(e=>{const t={label:"year",optionList:Object(se.f)(K),flag1:!(null!==me&&void 0!==me&&me.isYearSelected),flag2:null===me||void 0===me?void 0:me.isDayNotValid},a={label:"day",optionList:Re,flag1:!(null!==me&&void 0!==me&&me.isDaySelected),flag2:null===me||void 0===me?void 0:me.isDayFromLeapYearMonth};return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"dis-flex",children:[Object(T.jsx)(Ze,{className:"input-container1",props:e?t:a}),Object(T.jsx)(Ze,{className:"input-container2",props:{label:"month",optionList:se.m,flag1:!(null!==me&&void 0!==me&&me.isMonthSelected),flag2:null===me||void 0===me?void 0:me.isDayFromLeapYearMonth}}),Object(T.jsx)(Ze,{className:"input-container3",props:e?a:t}),Object(o.hb)(!C,Object(T.jsx)("span",{className:"tool-tip-position tool-tip-desktop",children:Object(T.jsx)(Ee.a,{placement:"top",title:Object(r.translateWithI18Next)(qe),children:Object(T.jsx)("img",{class:"tooltip-view",src:s.a.Tooltip,alt:"tooltip"})})}))]}),Object(o.hb)(!(null!==me&&void 0!==me&&me.isValidDOB),Object(T.jsxs)("div",{className:"dob-error-show flex-div",children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:s.a.Error,alt:"Error visible"})}),Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(null===me||void 0===me?void 0:me.dobErrorMsg)})]}))]})})(U)}))]}),Object(T.jsxs)("div",{className:"global-buttons-container",children:[Object(T.jsx)(f.a,{"data-testid":"edit-account-btn-testid",className:"buttons-group cancel",onClickHandler:()=>Z("fromCancel"),children:Object(r.translateWithI18Next)(Le)}),Object(T.jsx)(f.a,{className:"buttons-group \n                ".concat(!Object(se.l)({firstNameText:he.firstName,lastNameText:he.lastName,phoneNoText:he.phone,postalCode:he.postalCode,isValidDOB:null===me||void 0===me?void 0:me.isValidDOB,email:he.email,phoneNumberRegex:ae,postalCodeRegex:te,isEnablePostalCodeSignUp:ee,postalCodeFormatNumber:ie,validateNameRegex:le,isPostalCodeMandtoryField:q,validateEmailRegex:oe,isEmailDisabled:B,isDOBMandatoryField:de,customerInfo:he,validateLastNameRegex:ce})||Se?"save-disabled":"save","\n                "),disabled:!Object(se.l)({firstNameText:he.firstName,lastNameText:he.lastName,phoneNoText:he.phone,postalCode:he.postalCode,isValidDOB:null===me||void 0===me?void 0:me.isValidDOB,email:he.email,phoneNumberRegex:ae,postalCodeRegex:te,isEnablePostalCodeSignUp:ee,postalCodeFormatNumber:ie,validateNameRegex:le,isPostalCodeMandtoryField:q,validateEmailRegex:oe,isEmailDisabled:B,isDOBMandatoryField:de,customerInfo:he,validateLastNameRegex:ce})||Se,"data-testid":"update-account-button-testid-1",onClickHandler:()=>{Object(Te.c)(he),$(he)},children:Object(r.translateWithI18Next)(we)})]})]})})]})]})},De=a(12);var Ae=e=>{var t;let{profileReducer:a,authReducer:i,tenantReducer:l,editAccountInfoModal:n,updateCustomerData:d,isMobile:s,openEditInfoFlag:c,errorMessageForPhoneNumberInUse:v,setErrorMessageForPhoneNumberInUse:O}=e;const{basic:b={}}=a||{},{firstName:m,lastName:h,email:p,phone:g,dateOfBirth:N,postalCode:S}=b,{PERSONAL_INFO_TEXT:I,EDIT:x,NAME:f,EMAIL_ADDRESS:E,MOBILE_NUMBER:C,POSTAL_CODE:y,DATE_OF_BIRTH_PERSONALINFOCARD:D}=u.a,{isPostalCodeMandtoryField:A,postalCodesLength:R,scheduleOrderDateFormat:_,dateFormat:w}=l,{web:{global:{allowOtpPopup:M=!1,isEnablePostalCodeSignUp:k=!1,maxLengthPhoneNumber:P="",postalCodeRegex:F="",postalCodeFormatNumber:W,postalCodeSeparator:H=" ",minLengthPhoneNumber:B=""}={},accountPage:{validateNameRegex:U="",validateEmailRegex:G="",isEmailMandatoryField:V="",isDOBMandatoryField:Y="",validateLastNameRegex:K="",showErrorForPhoneNumberInUse:q=""}={}}={},checkout:{phoneNumberRegExp:z=""}={}}=null!==(t=null===l||void 0===l?void 0:l.componentOptions)&&void 0!==t?t:{},J=null===N||void 0===N?void 0:N.split("-"),X=Object(r.translateWithI18Next)(null===J||void 0===J?void 0:J[2]),Q=Object(r.translateWithI18Next)(null===J||void 0===J?void 0:J[0]),Z=N?xe.a.format({date:null===J||void 0===J?void 0:J[1],outPutFormat:Object(r.translateWithI18Next)(null===L.sb||void 0===L.sb?void 0:L.sb.MMMM)}):"",$="".concat(X," ").concat(Object(r.translateWithI18Next)(Z),"  ").concat(Q),ee=_?Object(De.h)(N,w):$,te=()=>Object(T.jsx)("div",{className:"edit-input edit-info-link",children:Object(T.jsx)(j.a,{"data-testid":"edit-account-button-testid",onClickHandler:()=>n("fromEditClick"),children:Object(r.translateWithI18Next)(x)})});return c?(()=>{var e,t,a,i;return Object(T.jsx)(ye,{isMobile:s,firstName:m,lastName:h,email:p,phone:g,postalCode:S,dateOfBirth:N,day:X,year:Q,month:Z,dob:ee,editAccountInfoModal:n,updateCustomerData:d,isEnablePostalCodeSignUp:k,phoneNumberRegex:z,postalCodeRegex:F,phonePattern:null===l||void 0===l||null===(e=l.componentOptions)||void 0===e||null===(t=e.phoneNumberConstants)||void 0===t?void 0:t.phoneRegexPattern,splitPattern:null===l||void 0===l||null===(a=l.componentOptions)||void 0===a||null===(i=a.phoneNumberConstants)||void 0===i?void 0:i.splitPattern,postalCodeFormatNumber:W,maxLengthPhoneNumber:P,validateNameRegex:U,validateEmailRegex:G,isEmailMandatoryField:V,isDOBMandatoryField:Y,allowOtpPopup:M,postalCodesLength:R,isPostalCodeMandtoryField:A,validateLastNameRegex:K,errorMessageForPhoneNumberInUse:v,displayErrorForPhoneNumberInUse:q,setErrorMessageForPhoneNumberInUse:O,postalCodeSeparator:H})})():(()=>{var e,t,a,i;return Object(T.jsxs)("div",{className:"personal-info-card",children:[Object(T.jsxs)("div",{className:"personal-card-left-side",children:[Object(r.translateWithI18Next)(I),s&&te()]}),Object(T.jsxs)("div",{className:"personal-card-right-side",children:[!s&&te(),Object(T.jsxs)("div",{className:"personal-info-section",children:[Object(T.jsxs)("div",{className:"personal-data-view",children:[Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(f)}),Object(T.jsxs)("div",{children:[" ",m," ",h]})]}),p&&Object(T.jsxs)("div",{className:"personal-data-view",children:[Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(E)}),Object(T.jsxs)("div",{children:[" ",p]})]}),Object(T.jsxs)("div",{className:"personal-data-view",children:[Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(C)}),Object(T.jsxs)("div",{children:[" ",Object(o.bb)(g,null===l||void 0===l||null===(e=l.componentOptions)||void 0===e||null===(t=e.phoneNumberConstants)||void 0===t?void 0:t.phoneRegexPattern,null===l||void 0===l||null===(a=l.componentOptions)||void 0===a||null===(i=a.phoneNumberConstants)||void 0===i?void 0:i.splitPattern,P,B)]})]}),k&&S&&Object(T.jsxs)("div",{className:"personal-data-view","data-testid":"postal-code-view",children:[Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(y)}),Object(T.jsxs)("div",{children:[" ",S]})]}),N&&Object(T.jsxs)("div",{className:"personal-data-view","data-testid":"dob-view",children:[Object(T.jsx)("div",{children:Object(r.translateWithI18Next)(D)}),Object(T.jsx)("div",{children:ee})]})]})]})]})})()};const Re=e=>{var t,a;let{handleSubscriptionStatus:i,brazeSubscriptionStatus:l,loading:n,tenantReducer:d,brazeCookiesAccperted:s,handleOneTrustBanner:c}=e;const{UNSUBSCRIBE:v,SUBSCRIBE:O,MARKETING_EMAIL:b,MARKETING_SMS:m}=u.c;return Object(T.jsxs)("div",{className:"preferences-card",children:[Object(T.jsx)("div",{className:"preferences-card-left-side preferences-card-left-side-au",children:Object(r.translateWithI18Next)(E.a.PREFERENCES_COMMUNICATION_PREFERENCES)}),Object(T.jsx)("div",{className:"preferences-card-right-side",children:Object(T.jsxs)("div",{className:"preferences-container",children:[Object(T.jsxs)("div",{className:"preferences-item ".concat(s?"":"no-cookies-list"),children:[Object(T.jsxs)("div",{className:"preferences-item-list preferences-item-list-au",children:[Object(T.jsx)("div",{className:"preferences-text",children:Object(T.jsx)("label",{htmlFor:Object(r.translateWithI18Next)(E.a.EMAIL_MARKETING),children:Object(r.translateWithI18Next)(E.a.EMAIL_MARKETING)})}),Object(T.jsx)("div",{children:Object(T.jsx)(j.a,{"data-testid":"handleSubscriptionStatus-testid",onClickHandler:()=>i(l,b),className:"".concat(s?"":"no-cookies-list"),children:!n&&(null!==l&&void 0!==l&&null!==(t=l.email)&&void 0!==t&&t.subscribed?Object(r.translateWithI18Next)(v):Object(r.translateWithI18Next)(O))})})]}),(null===d||void 0===d?void 0:d.brazeSMSMarketingOption)&&!(null!==d&&void 0!==d&&d.brazeSMSAndEmailCommon)&&Object(T.jsxs)("div",{className:"preferences-item-list preferences-item-list-au",children:[Object(o.Be)(),Object(T.jsx)("div",{children:Object(T.jsx)(j.a,{"data-testid":"handleSubscriptionStatus-smstestid",onClickHandler:()=>i(l,m),className:"".concat(s?"":"no-cookies-list"),children:!n&&(null!==l&&void 0!==l&&null!==(a=l.sms)&&void 0!==a&&a.subscribed?Object(r.translateWithI18Next)(v):Object(r.translateWithI18Next)(O))})})]})]}),!s&&Object(T.jsxs)("p",{className:"cookies-text",children:[Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.PLEASE_MODIFY)," ",Object(T.jsx)("span",{className:"cookieslink-text",onClick:c,children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.COOKIES_SETTINGS)})," ",Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.PREFERENCE_TEXT)]})]})})]})};Re.defaultProps={};var _e=Re,we=a(1273);const Le=(e,t,a,i,l)=>{let o=JSON.parse(JSON.stringify(i));o[t][a]=e.target.value,l(o)},Me=e=>{var t,a;const{index:i,anniversaryData:l,setAnniversaryData:o}=e;let n=null===l||void 0===l||null===(t=l[i])||void 0===t?void 0:t.anniversaryMonth;const d=(""!==n?Object(se.i)(n-1):[]).map(Number),{ANNIVERSARY_NAME:s,ANNIVERSARY_NAME_ERROR_TEXT:c,ANNIVERSARY_DATE:v,ANNIVERSARY_DAY:O,ANNIVERSARY_MONTH:b}=u.a;return Object(T.jsxs)("div",{className:"personal-information-card",children:[Object(T.jsx)("div",{className:"edit-personal-data-view edit-anniversary-view",children:Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)(fe.a,{"data-testid":"anniversaryName-testid",name:"anniversaryName",onChange:e=>Le(e,i,s,l,o),value:null===l||void 0===l||null===(a=l[i])||void 0===a?void 0:a.anniversaryName,placeholder:Object(r.translateWithI18Next)(s),helperText:Object(r.translateWithI18Next)(c),helperTextClassName:"error-text",inputClassName:"edit-info-input-class",maxLength:"100",autoComplete:"anniversaryName",errorIconClassName:"flex-div"})})}),Object(T.jsxs)("div",{className:"anniversary-date-edit",children:[Object(T.jsx)("div",{className:"anniversary-date-title",children:Object(r.translateWithI18Next)(v)}),Object(T.jsx)("div",{className:"right-side-form",children:Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"dis-flex",children:[Object(T.jsx)("div",{className:"month-container",children:Object(T.jsx)("div",{className:"did-floating-label-content did-error-input",children:Object(T.jsxs)("select",{required:!0,"data-testid":"anniversary-month-testid",id:"month-list",className:"did-floating-select",value:l[i].anniversaryMonth,onClick:e=>{e.preventDefault()},onChange:e=>Le(e,i,b,l,o),children:[Object(T.jsx)("option",{value:"",disabled:!0,selected:!0,children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.MONTH)},""),se.m.map(((e,t)=>Object(T.jsx)("option",{value:t+1,children:Object(r.translateWithI18Next)(e)},e)))]})})}),Object(T.jsx)("div",{className:"day-container",children:Object(T.jsx)("div",{className:"did-floating-label-content did-error-input",children:Object(T.jsxs)("select",{required:!0,"data-testid":"anniversary-day-testid",id:"day-list",name:"day",className:"did-floating-select",value:l[i].anniversaryDay,onClick:e=>{e.preventDefault()},onChange:e=>Le(e,i,O,l,o),children:[Object(T.jsx)("option",{value:"",disabled:!0,selected:!0,children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.DAY)},""),null===d||void 0===d?void 0:d.map((e=>Object(T.jsxs)("option",{value:e,children:[e,Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.DAY)]},e)))]})})})]})})})]})]})};var ke=l.a.memo(Me);const Pe=(e,t)=>{for(let a of e)for(let e in a)if(e===t){if(!a[e].trim())return!0}else if(!a[e])return!0;return!1},Fe=e=>{const{isMobile:t,firstName:a,lastName:l,email:o,phone:n,postalCode:d,updateCustomerData:c,anniversaryDates:v,setAnniversaryEditFlag:O}=e,{editAnniversaryInfoModal:b}=e,[m,j]=Object(i.useState)([]),{SAVE:h,CANCEL:p,ANNIVERSARY_DETAILS:g,ADD_ANNIVERSARY_BTN:N,ANNIVERSARY_NAME:S}=u.a,I={firstName:a,lastName:l,email:o,phone:n,postalCode:d,allowOtpPopup:!1},x=()=>{j((e=>[...e,{anniversaryName:"",anniversaryDay:"",anniversaryMonth:""}]))},E=null===m||void 0===m?void 0:m.map((e=>({anniversaryName:null===e||void 0===e?void 0:e.anniversaryName,anniversaryMonth:null===e||void 0===e?void 0:e.anniversaryMonth,anniversaryDay:parseInt(null===e||void 0===e?void 0:e.anniversaryDay)})));return Object(i.useEffect)((()=>{(null===v||void 0===v?void 0:v.length)>0?j(v):x()}),[]),Object(T.jsxs)("div",{className:"personal-info-card anniversary-detail-card",children:[Object(T.jsx)("div",{className:"personal-card-left-side",children:Object(r.translateWithI18Next)(g)}),Object(T.jsxs)("div",{className:"personal-card-right-side",children:[null===m||void 0===m?void 0:m.map(((e,t)=>Object(T.jsx)("div",{children:Object(T.jsx)(ke,{index:t,anniversaryData:m,setAnniversaryData:j})},t))),Object(T.jsxs)(f.a,{"data-testid":"edit-account-btn-testid",className:"add-anniversary",disabled:3===m.length,onClickHandler:x,children:[Object(T.jsx)("span",{className:"add-image",children:3===m.length?Object(T.jsx)("img",{class:"add-icon",src:s.a.addDisable,alt:"addDisable"}):Object(T.jsx)("img",{class:"add-icon",src:s.a.addEnable,alt:"addEnable"})}),Object(r.translateWithI18Next)(N)]}),Object(T.jsxs)("div",{className:"global-buttons-container",children:[Object(T.jsx)(f.a,{"data-testid":"cancel-anniversary-btn-testid",className:"buttons-group cancel",onClickHandler:()=>b("fromCancel",O),children:Object(r.translateWithI18Next)(p)}),Object(T.jsx)(f.a,{className:"buttons-group save save-button","data-testid":"update-anniversary-btn-testid",disabled:Pe(m,S),onClickHandler:()=>{I.anniversaryDates=[...E],c(I)},children:Object(r.translateWithI18Next)(h)})]})]})]})};var We=l.a.memo(Fe);const He=e=>{let{profileReducer:t,editAnniversaryInfoModal:a,updateCustomerData:i,isMobile:l,anniversaryEditFlag:o,setAnniversaryEditFlag:n}=e;const{basic:d={}}=t||{},{firstName:s,lastName:c,email:v,phone:O,dateOfBirth:b,postalCode:m,anniversaryDates:h}=d,{EDIT:p,ANNIVERSARY_DETAILS:g}=u.a,N=()=>Object(T.jsx)("div",{className:"edit-input edit-info-link",children:Object(T.jsx)(j.a,{"data-testid":"edit-account-button-testid",onClickHandler:()=>a("EditClick",n),children:Object(r.translateWithI18Next)(p)})});return o?Object(T.jsx)(We,{isMobile:l,firstName:s,lastName:c,email:v,phone:O,postalCode:m,dateOfBirth:b,editAnniversaryInfoModal:a,updateCustomerData:i,anniversaryDates:h,setAnniversaryEditFlag:n}):Object(T.jsxs)("div",{className:"personal-info-card anniversary-detail-card",children:[Object(T.jsxs)("div",{className:"personal-card-left-side",children:[Object(r.translateWithI18Next)(g),l&&N()]}),Object(T.jsxs)("div",{className:"personal-card-right-side",children:[!l&&N(),Object(T.jsx)("div",{className:"personal-info-section",children:null===h||void 0===h?void 0:h.map(((e,t)=>{var a,i,l;return Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"personal-data-view",children:[Object(T.jsx)("div",{children:null===(a=h[t])||void 0===a?void 0:a.anniversaryName}),Object(T.jsxs)("div",{className:"display-anniversary-dates",children:[Object(T.jsx)("span",{children:Object(r.translateWithI18Next)(Object(se.n)(null===(i=h[t])||void 0===i?void 0:i.anniversaryMonth))}),Object(T.jsxs)("span",{children:[null===(l=h[t])||void 0===l?void 0:l.anniversaryDay,Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.DAY)]})]})]})},t)}))})]})]})};var Be=l.a.memo(He),Ue=a(224),Ge=a(505),Ve=a.n(Ge),Ye=a(42),Ke=a.n(Ye);const qe=e=>{let{handleClose:t,deleteAccountCallback:a,CartError:i}=e;const{DELETE_ACCOUNT_MESSAGE:o,CANCEL:n,DELETE_ACCOUNT_BTN:d}=u.a,s={CONFIRM_DELETE_MSG:{MSGTXT1:Object(r.translateWithI18Next)(o)}};return Object(T.jsx)(l.a.Fragment,{children:Object(T.jsx)(P.a,{handleClose:t,classNames:"delete-account-modal",CartAlertForm:Object(T.jsx)(F.a,{splitTitle:s.CONFIRM_DELETE_MSG,imageSrc:i,altText:"delete-account",cancelButtonText:Object(r.translateWithI18Next)(n),confirmButtonText:Object(r.translateWithI18Next)(d),confirmHandler:a,cancelHandler:t})})})},ze=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},Je=(e,t)=>{t("EditClick"===e)},Xe=e=>{var t,a;let{firstName:i,middleName:l,lastName:n,email:d,phone:r,profileInfo:s,otpValidationRequired:c,otp:u,screen:v,successCallBackNotNeeded:O,dispatch:b,callSignInApi:m,errorCallBackOTP:j,basicInfoObj:h,tenantReducer:p,profileReducer:g,anniversaryDates:N}=e;const S={email:d,firstName:i,lastName:n,phone:r,anniversaryDates:N},I={screen:v,otp:u,fName:i,lName:n,email:d,phoneNo:r,profileInfo:s,successCallBackNotNeeded:O,updatedFlag:Object(se.c)(S,h,s),anniversaryDates:N};b(Object(Z.i)({sucessCallback:()=>m(I),errorCallBack:j,tenantId:null===p||void 0===p?void 0:p.tenantId,customerId:null===g||void 0===g||null===(t=g.basic)||void 0===t?void 0:t.id,body:{firstName:i.trim(),middleName:l,lastName:n.trim(),emailId:(null===d||void 0===d||null===(a=d.trim())||void 0===a?void 0:a.length)>0?d:"",phoneNumber:r.replace(/ /g,""),attributes:s,otpValidationRequired:c,otp:u,isSopac:Object(o.le)(),anniversaryDates:N}}))};var Qe=e=>{var t,a,l,d,c,v,O,b,j,h,p,g,N,S,I,x;let{updateMenu:C,isMobile:y}=e;const{ACCOUNT_SETTINGS_TEXT:D,DELETE_ACCOUNT_TEXT:A,SUBSCRIBTION_MSG_TEXT:R,UNSUBSCRIBTION_MSG_TEXT:_,EXCEEDED_VERIFICATION_ATTEMPTS:w,YOUR_INFO_SAVED:M,EDIT_WITH_OLD_PHONE:k,FROM_OTP_SCREEN:P}=u.a,{MARKETING_EMAIL:F,MARKETING_SMS:W}=u.c,{SingleArrowback:H}=s.a,G=Object(n.b)(),V=Object(m.g)(),[Y,K]=Object(i.useState)(!1),[q,z]=Object(i.useState)(!1),[J,X]=Object(i.useState)(""),Q=Object(n.c)((e=>e.profileReducer||null)),$=Object(n.c)((e=>e.tenantReducer||null)),ee=Object(n.c)((e=>e.authReducer||null)),ae=Object(n.c)((e=>e.brazeSubscriptionReducerV2||null)),[ie,le]=Object(i.useState)(!1),[oe,ne]=Object(i.useState)(),[de,re]=Object(i.useState)(),[ce,ue]=Object(i.useState)(!0),[ve,Oe]=Object(i.useState)(0),{subscriptions:be={}}=Object(U.b)(Ue.c),[me,je]=Object(i.useState)(be),[he,pe]=Object(i.useState)(!1),[ge,Ne]=Object(i.useState)("default"),[Se,xe]=Object(i.useState)(!1),{basic:{email:fe,firstName:Ee,lastName:Ce,phone:ye}={}}=null!==Q&&void 0!==Q?Q:{},De={email:fe,firstName:Ee,lastName:Ce,phone:ye},[Re,Le]=Object(i.useState)(!0),Me=null===(t=window)||void 0===t||null===(a=t.appboy)||void 0===a||null===(l=a.User)||void 0===l?void 0:l.NotificationSubscriptionTypes,[ke,Pe]=Object(i.useState)(!1),Fe=null===$||void 0===$||null===(d=$.componentOptions)||void 0===d||null===(c=d.accountSettings)||void 0===c||null===(v=c.anniversaryDetails)||void 0===v?void 0:v.showAnniversarySection,We=null===$||void 0===$||null===(O=$.componentOptions)||void 0===O||null===(b=O.checkout)||void 0===b?void 0:b.numberOfDigitsTobeMasked,He=null===$||void 0===$||null===(j=$.componentOptions)||void 0===j||null===(h=j.checkout)||void 0===h?void 0:h.maskedNumberOfDigit,Ge=null===$||void 0===$||null===(p=$.componentOptions)||void 0===p||null===(g=p.web)||void 0===g||null===(N=g.global)||void 0===N?void 0:N.allowOtpPopup,Ye=Object(U.b)(B.b),[Qe,Ze]=Object(i.useState)(!1);Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>(null!==Ye&&void 0!==Ye&&Ye.accoundSetting&&z(!0),()=>{(null===Ye||void 0===Ye?void 0:Ye.accoundSetting)&&G(Object(B.c)({key:null===E.a||void 0===E.a?void 0:E.a.ACCOUNT_SETTING}))})),[]),Object(i.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e?void 0:e.OnetrustActiveGroups)&&Le(JSON.stringify(null===(t=window)||void 0===t?void 0:t.OnetrustActiveGroups).includes(L.A))}),[null===(S=window)||void 0===S?void 0:S.OnetrustActiveGroups]),Object(i.useEffect)((()=>{var e,t,a;const i=null!==$&&void 0!==$&&$.brazeMparticle?null===(e=window)||void 0===e||null===(t=e.mParticle)||void 0===t||null===(a=t.Store)||void 0===a?void 0:a.mpid:null===Q||void 0===Q?void 0:Q.customerId;(fe||ye)&&G(Ue.a.fetch({customerId:i}))}),[G,fe,null===Q||void 0===Q?void 0:Q.customerId,null===$||void 0===$?void 0:$.brazeMparticle]),Object(i.useEffect)((()=>{var e,t;if(null!==V&&void 0!==V&&null!==(e=V.location)&&void 0!==e&&null!==(t=e.hash)&&void 0!==t&&t.includes(L.Ce.ACCOUNT_SETTINGS)){var a,i,l;const e=null===(a=window)||void 0===a||null===(i=a.location)||void 0===i||null===(l=i.hash)||void 0===l?void 0:l.split("?")[1],t=new URLSearchParams(e),o=Object.fromEntries(t.entries());e&&u.f.includes(null===o||void 0===o?void 0:o.field)&&z(!0)}}),[V,Q]);const $e=e=>{var t;const{firstName:a,middleName:i="",lastName:l,email:o,phone:n,postalCode:d=null,day:r,month:s,year:c,allowOtpPopup:u,anniversaryDates:v}=e;Ze(!1),u||ne(n),z(!0);const O=null===Q||void 0===Q||null===(t=Q.basic)||void 0===t?void 0:t.phone,b="0"!==String(r).charAt(0)?"0".concat(r):String(r);let m=se.m.indexOf(s)+1;const j={birthYear:c?String(c):null,birthDay:r?String(r<10&&b||r):null,birthMonth:m?String(m<10&&"0".concat(m)||m):null,postalCode:d||null};let h={...e,profileInfo:j};re(h),n.replace(/ /g,"")===O||!0===u?(Xe({firstName:a.trim(),middleName:i,lastName:l.trim(),email:o,phone:n,profileInfo:j,otpValidationRequired:!1,otp:"",screen:"fromEditWithOldPhone",successCallBackNotNeeded:void 0,dispatch:G,callSignInApi:tt,errorCallBackOTP:et,basicInfoObj:De,tenantReducer:$,profileReducer:Q,anniversaryDates:v}),z(!1),X(L.sc),Pe(!1),u||Oe(0)):(Xe({firstName:null===a||void 0===a?void 0:a.trim(),middleName:i,lastName:null===l||void 0===l?void 0:l.trim(),email:o,phone:n,profileInfo:j,otpValidationRequired:!0,otp:"",screen:"fromResendOtpScreen",successCallBackNotNeeded:!0,dispatch:G,callSignInApi:tt,errorCallBackOTP:et,basicInfoObj:De,tenantReducer:$,profileReducer:Q,anniversaryDates:v}),at(),xe(!0),Oe(0),Pe(!1))},et=()=>{ge===L.ae?(le(!1),pe(!0)):(ue(!1),Oe(ve+1),ve>=2&&le(!1))},tt=e=>{const{screen:t,otp:a,fName:i,lName:l,email:n,phoneNo:d,profileInfo:s,successCallBackNotNeeded:c,updatedFlag:u,anniversaryDates:v}=e;if(c)return;const O={firstName:null===i||void 0===i?void 0:i.trim(),lastName:null===l||void 0===l?void 0:l.trim(),emailId:n,phoneNumber:d.replace(/ /g,""),attributes:s,isUpdated:u,anniversaryDates:v};G(Object(Z.d)(O)),(t===k||a)&&(Ze(!0),Object(o.Cf)(Object(r.translateWithI18Next)(M))),t===P&&(le(!1),z(!1))},at=()=>{ue(!0)};Object(i.useEffect)((()=>{je(be)}),[null===ae||void 0===ae?void 0:ae.loading]),Object(i.useEffect)((()=>{if(Se){var e,t,a,i;if(Ne("default"),null!==Q&&void 0!==Q&&Q.isLoading)return;if((null===Q||void 0===Q||null===(e=Q.response)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.errorMessage)===L.ae)Ne(null===Q||void 0===Q||null===(a=Q.response)||void 0===a||null===(i=a.response)||void 0===i?void 0:i.errorMessage),le(!1),pe(!0);else pe(!1),J===k||Qe||le(!0)}}),[null===Q||void 0===Q?void 0:Q.response,null===de||void 0===de?void 0:de.phone,J,null===Q||void 0===Q?void 0:Q.isLoading,Qe]);const it=e=>{var t,a,i,l;return null!==(t=null===(a=window)||void 0===a||null===(i=a.appboy)||void 0===i||null===(l=i.getUser())||void 0===l?void 0:l.setEmailNotificationSubscriptionType(e))&&void 0!==t&&t};return Object(T.jsxs)("div",{className:"account-settings-container",children:[Object(T.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(T.jsx)("img",{className:"backArrow-account-setting",onClick:()=>C(""),src:H,alt:"back btn"}),Object(T.jsx)("span",{className:"account-setting-text-header",children:Object(r.translateWithI18Next)(D)})]}),Object(T.jsx)("p",{className:"account-setting-text-heading",children:Object(r.translateWithI18Next)(D)}),q&&3===ve&&Object(T.jsxs)("div",{class:"verification-faild-container",children:[Object(T.jsxs)("div",{children:[" ",Object(T.jsx)("img",{src:s.a.Error,alt:"Error visible"})," "]}),Object(T.jsx)("div",{children:Object(T.jsxs)("span",{children:[" ",Object(r.translateWithI18Next)(w)]})})]}),Object(T.jsx)(Ae,{profileReducer:Q,authReducer:ee,tenantReducer:$,updateCustomerData:$e,editAccountInfoModal:e=>{ue(!0),le(!1),"fromEditClick"===e?z(!0):(z(!1),Oe(0)),he&&pe(!1)},isMobile:y,openEditInfoFlag:q,updatedCustomerData:de,errorMessageForPhoneNumberInUse:he,setErrorMessageForPhoneNumberInUse:pe}),Fe&&Object(T.jsx)(Be,{profileReducer:Q,authReducer:ee,tenantReducer:$,updateCustomerData:$e,editAnniversaryInfoModal:Je,isMobile:y,anniversaryEditFlag:ke,setAnniversaryEditFlag:Pe}),(null===$||void 0===$||null===(I=$.componentOptions)||void 0===I||null===(x=I.accountSettings)||void 0===x?void 0:x.communicationPreferenceComponent)&&Object(T.jsx)(_e,{brazeSubscriptionStatus:me,handleSubscriptionStatus:(e,t)=>{var a,i,l;const n=((e,t,a)=>{const i=JSON.parse(JSON.stringify(e)),l="".concat(t,".subscribed"),o=Ke()(a,t,{});return Ve()(i,l,(()=>!o.subscribed))})(me,t,e);je(n);const d=Ke()(n,t,{}),s=null!==e&&void 0!==e&&null!==(a=e.email)&&void 0!==a&&a.subscribed?Me.UNSUBSCRIBED:Me.SUBSCRIBED;if(null!==$&&void 0!==$&&$.brazeSMSMarketingOption){const e=t===F?$.brazeEmailGroupId:$.brazeSMSGroupId;(e=>{var t,a,i,l,o,n;let{tenantReducer:d,selectedPrefStatus:r,subscriptionGroupId:s,subscriptionStatus:c,setEmailNotification:u}=e;const v=r.subscribed?null===(t=window)||void 0===t||null===(a=t.appboy)||void 0===a||null===(i=a.getUser())||void 0===i?void 0:i.addToSubscriptionGroup:null===(l=window)||void 0===l||null===(o=l.appboy)||void 0===o||null===(n=o.getUser())||void 0===n?void 0:n.removeFromSubscriptionGroup;null!==d&&void 0!==d&&d.brazeSMSAndEmailCommon?(u(c),v(null===d||void 0===d?void 0:d.brazeEmailGroupId),v(null===d||void 0===d?void 0:d.brazeSMSGroupId)):v(s)})({tenantReducer:$,selectedPrefStatus:d,subscriptionGroupId:e,subscriptionStatus:s,setEmailNotification:it})}else it(s);const c=[{subscribe:null===n||void 0===n||null===(i=n.email)||void 0===i?void 0:i.subscribed,key:F},{subscribe:null===n||void 0===n||null===(l=n.sms)||void 0===l?void 0:l.subscribed,key:W}].reduce(((e,t)=>(t.subscribe&&e.push(t.key),e)),[]);Object(se.u)(c);const u=null!==d&&void 0!==d&&d.subscribed?R:_;Object(o.Cf)(Object(r.translateWithI18Next)(u))},loading:null===ae||void 0===ae?void 0:ae.loading,tenantReducer:$,brazeCookiesAccperted:Re,handleOneTrustBanner:ze}),Object(T.jsx)(f.a,{"data-testid":"delete-button-testid",className:"delete-account-button delete-account-button-au",onClickHandler:()=>{K(!0),Object(Ie.c)({popupTitle:Object(r.translateWithI18Next)(A)})},children:Object(r.translateWithI18Next)(A)}),Y&&Object(T.jsx)(qe,{handleClose:()=>{K(!1)},deleteAccountCallback:()=>{Object(Te.b)(null===Q||void 0===Q?void 0:Q.customerId),te.a.getInstance().deleteAccount(),K(!1)},CartError:s.a.CartError}),!Ge&&ie&&ve<=2&&Object(T.jsx)(we.a,{closeOtpModalHandler:()=>{le(!1)},otpSendTo:oe,profileReducer:Q,tenantReducer:$,callValidateOtpAPI:e=>{const{firstName:t,middleName:a,lastName:i,email:l,phone:o,profileInfo:n}=de;Xe({firstName:t.trim(),middleName:a,lastName:i.trim(),email:l,phone:o,profileInfo:n,otpValidationRequired:!0,otp:e,screen:"fromOtpScreen",successCallBackNotNeeded:void 0,dispatch:G,callSignInApi:tt,errorCallBackOTP:et,basicInfoObj:De,tenantReducer:$,profileReducer:Q})},callResendOtpAPI:()=>{const{firstName:e,middleName:t,lastName:a,email:i,phone:l,profileInfo:o}=de;Xe({firstName:null===e||void 0===e?void 0:e.trim(),middleName:null===t||void 0===t?void 0:t.trim(),lastName:a,email:i,phone:l,profileInfo:o,otpValidationRequired:!0,otp:"",screen:"fromResendOtpScreen",successCallBackNotNeeded:!0,dispatch:G,callSignInApi:tt,errorCallBackOTP:et,basicInfoObj:De,tenantReducer:$,profileReducer:Q}),at(),Oe(0)},isOtpMatch:ce,hideError:at,invalidOtpCount:ve,numberOfDigitsTobeMasked:We,maskedNumberOfDigit:He})]})},Ze=a(1304),$e=a(328),et=a(531),tt=a(438);const at=e=>{const{updateMenu:t,saveCardsList:a,paymentProvider:l,allCardsTypesList:n,addNewCreditOrDebitCard:d,customerId:c,tenantId:u,dispatch:v,setSaveCardsList:O}=e,[b,m]=Object(i.useState)(!1),[j,h]=Object(i.useState)(""),p=()=>{m(!1)},g={dispatch:v,tenantId:u,customerId:c,paymentProvider:l,cardId:j,setSaveCardsList:O};return Object(T.jsxs)("div",{className:"payment-methods col-12 au",children:[Object(T.jsxs)("div",{className:"my-payment-methods-header-mobile",children:[Object(T.jsx)("img",{className:"backArrow-account-setting","data-testid":"message-backArrow",onClick:()=>t(""),src:s.a.SingleArrowback,alt:"back button"}),Object(T.jsx)("span",{className:"account-setting-text-header",children:Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.MY_PAYMENT_METHODS)})]}),Object(T.jsx)("div",{className:"payment-methods-header col-12","data-testid":"saved-cards-title",children:Object(T.jsxs)("span",{className:"payment-methods-heading",children:[Object(r.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.SAVED_CARDS)," (",null===a||void 0===a?void 0:a.length,")"]})}),Object(o.ad)((null===a||void 0===a?void 0:a.length)>0,Object(et.b)(a,(e=>{m(!0),h(e)}),n,l),Object(et.d)()),d&&Object(et.c)(e),b&&Object(T.jsx)(et.a,{handleClose:p,deleteCardHandler:()=>{p(),Object(tt.a)(g)},"data-testid":"delete-card-confirm-modal"})]})};var it=l.a.memo(at);var lt=e=>{var t,a,l,o;const d=Object(n.b)();Object(i.useEffect)((()=>{window.scrollTo(0,0),d(Object($e.o)())}),[]);const{profileReducer:r,paymentsContentReducer:s,tenantReducer:c}=Object(n.c)((e=>e)),{customerId:u,savedCards:v}=r,O=s,{tenantId:b,componentOptions:m}=c,j=null===m||void 0===m||null===(t=m.payment)||void 0===t?void 0:t.paymentProvider,{accountPage:{addNewCreditOrDebitCard:h,maxSavedCardLimit:p}={}}=null!==(a=null===c||void 0===c||null===(l=c.componentOptions)||void 0===l?void 0:l.web)&&void 0!==a?a:{},[g,N]=Object(i.useState)(v),S=null===O||void 0===O||null===(o=O.tendersContent)||void 0===o?void 0:o.items,I={saveCardsList:g,paymentProvider:j,tenantId:b,customerId:u,allCardsTypesList:S,addNewCreditOrDebitCard:h,maxSavedCardLimit:p,dispatch:d,setSaveCardsList:N};return Object(i.useEffect)((()=>{if(0===(null===v||void 0===v?void 0:v.length)&&j===(null===L.Td||void 0===L.Td?void 0:L.Td.THAILAND_PAYMENTS)){const e={dispatch:d,tenantId:b,customerId:u,paymentProvider:j,setSaveCardsList:N};Object(tt.b)(e)}}),[]),Object(i.useEffect)((()=>{N(v)}),[v]),Object(T.jsx)(it,{...e,...I})},ot=a(212);const nt=(e,t)=>e===E.a.CHICKEN_MILES&&t?Object(r.translateWithI18Next)(ot.a.LOGGEDIN_USER_SIGNIN_TEXT):"",dt=e=>e.showCartClearAlert?Object(T.jsx)(re.a,{}):null,rt=e=>{let{isMobile:t,currentMenuName:a,setMenuName:i,history:l}=e;return Object(T.jsx)("div",{className:"account-section-left",children:Object(T.jsx)(me,{isMobile:t,currentMenu:a,updateMenu:e=>i(e),history:l})})};var st=e=>{var t,a,l,d,r;let{history:s,setShowKfcHeader:c}=e;const{web:u,more:v}=Object(n.c)((e=>{var t,a;return null!==(t=null===(a=e.tenantReducer)||void 0===a?void 0:a.componentOptions)&&void 0!==t?t:{}})),{showContentCards:b=!1}=null!==(t=null===u||void 0===u?void 0:u.global)&&void 0!==t?t:{},m=(null===v||void 0===v?void 0:v.showMorePageUIV2Changes)||!1,{ADDRESS:j,FAVORITE_ORDERS:h,ACCOUNT_SETTING:p,MESSAGE_TAG:g,MY_PAYMENT_METHODS:N,PREFERENCES:S,CHICKEN_MILES:I}=E.a,{FAV_ORDER_ITEM:x}=L.Oc,{ITEM_IMAGE_HEIGHT_MOBILE:f,ITEM_IMAGE_WIDTH_MOBILE:C,ITEM_IMAGE_HEIGHT_DESKTOP:y,ITEM_IMAGE_WIDTH_DESKTOP:D}=x,A=null===u||void 0===u||null===(a=u.accountPage)||void 0===a?void 0:a.showFavoriteSection,[R,_]=Object(i.useState)(Object(o.de)(window.innerWidth)),w=b?g:A?h:p,M=(null===s||void 0===s||null===(l=s.location)||void 0===l||null===(d=l.state)||void 0===d?void 0:d.defaultTab)||w,[k,P]=Object(i.useState)(Object(o.ad)(R,M===I?M:"",M)),F=Object(U.b)(B.b),[W,H]=Object(i.useState)({width:0,height:0}),{userOrderState:G}=Object(i.useContext)(O.a),V=()=>{const e=Object(o.de)(window.innerWidth);_(e);H(e?{height:f,width:C}:{height:y,width:D})};Object(i.useEffect)((()=>{null!==F&&void 0!==F&&F.accoundSetting&&P(p)}),[]),Object(i.useEffect)((()=>{var e,t;null!==s&&void 0!==s&&null!==(e=s.location)&&void 0!==e&&null!==(t=e.hash)&&void 0!==t&&t.includes(L.Ce.ACCOUNT_SETTINGS)&&P(p)}),[s]),Object(i.useEffect)((()=>{var e,t,a;(null===s||void 0===s||null===(e=s.location)||void 0===e||null===(t=e.hash)||void 0===t||null===(a=t.includes)||void 0===a?void 0:a.call(t,h))&&A&&P(h)}),[s]),Object(i.useEffect)((()=>{var e,t;(null===s||void 0===s||null===(e=s.location)||void 0===e?void 0:e.selectOption)&&P(null===s||void 0===s||null===(t=s.location)||void 0===t?void 0:t.selectOption)}),[null===s||void 0===s||null===(r=s.location)||void 0===r?void 0:r.selectOption]),Object(i.useEffect)((()=>{window.addEventListener(L.ye,V),Object(se.s)(R)}),[R]),Object(i.useEffect)((()=>{Object(se.s)(R)}),[k]),Object(i.useEffect)((()=>{V();const e=localStorage.getItem(L.gd.LOAD_MORE_ORDER_HISTORY);var t,a;return t=s,a=P,e!==L.zc&&!0!==t.location.isNavigatingFromReorder&&t.location.selectedMenu!==L.zc||a(L.Ce.ORDER_HISTORY),()=>{localStorage.removeItem(L.gd.LOAD_MORE_ORDER_HISTORY),Object(se.s)(R)}}),[]);const Y=e=>{switch(e){case I:return c(!1),Object(T.jsx)(Se.a,{hideTitle:m,isNewVersionStyle:m,isMobile:R,pageTitle:nt(e,m)});case g:return c(!1),Object(T.jsx)(ge,{history:s,isMobile:R,updateMenu:e=>P(e)});case p:return c(!1),Object(T.jsx)(Qe,{updateMenu:e=>P(e),isMobile:R});case S:return c(!1),Object(T.jsx)(Ze.a,{updateMenu:e=>P(e),isMobile:R});case j:return Object(T.jsx)(de,{history:s,isMobile:R,updateMenu:e=>P(e)});case L.Ce.ORDER_HISTORY:return c(!1),Object(T.jsx)(je.default,{history:s,isMobile:R,updateMenu:e=>P(e)});case N:return c(!1),Object(T.jsx)(lt,{history:s,isMobile:R,updateMenu:e=>P(e)});case h:return c(!1),Object(T.jsx)(Ne.a,{isMobile:R,renderSwitch:Y,updateMenu:e=>P(e),imageContainerSize:W});default:return c(!0),R?Object(T.jsx)(me,{isMobile:R,currentMenu:k,updateMenu:e=>P(e),history:s}):null}};return R?Object(T.jsxs)("div",{className:"mobile-order-history",id:"mob-view-account-section",children:[Y(k),dt(G)]}):Object(T.jsxs)("div",{className:"account-desktop-container account-gloabal-container grid-container ".concat(m?"account-desktop-container-v2":"mt-5"),children:[nt(k,m)?Object(T.jsxs)("div",{className:"account-desktop-left-container",children:[Object(T.jsx)("div",{className:"my-page-title",children:nt(k,m)}),Object(T.jsx)(rt,{isMobile:R,currentMenu:k,setMenuName:P,history:s})]}):Object(T.jsx)(rt,{isMobile:R,currentMenu:k,setMenuName:P,history:s}),Object(T.jsx)("div",{className:"account-section-right account-section-right-au",children:Y(k)}),dt(G)]})};t.default=e=>{const[t,a]=Object(i.useState)(!0),{userOrderState:o,userOrderStateDispatch:n}=Object(i.useContext)(O.a),{dispositionStateData:d={},scheduleOrderData:r={},searchStoreData:s={}}=o;return Object(i.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{const e=Boolean((null===d||void 0===d?void 0:d.showDisposition)||(null===s||void 0===s?void 0:s.showSearchStore)||r.showScheduleOrderCatering);n({type:ot.a.SET_HIDE_NAV_BARS,value:{flag:!t&&!e}})}),[t,null===d||void 0===d?void 0:d.showDisposition,null===s||void 0===s?void 0:s.showSearchStore,r.showScheduleOrderCatering,n]),Object(i.useEffect)((()=>()=>{n({type:ot.a.SET_HIDE_NAV_BARS,value:{flag:!1}})}),[]),Object(T.jsx)(l.a.Fragment,{children:Object(T.jsx)(st,{history:e.history,setShowKfcHeader:e=>a(e)})})}},1096:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(3);var i=a(1181),l=a.n(i),o=(a(1182),a(1183),a(2));const n=e=>{const{settings:t,carousalRef:a}=e;return Object(o.jsx)(l.a,{...t,ref:a,children:e.children})};n.defaultProps={settings:null,carousalRef:null},t.b=n},1098:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return m}));var i=a(21),l=a(9),o=a(5),n=a(398),d=a(0);const r=async(e,t)=>{var a;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===l.a||void 0===l.a||null===(a=l.a.upsizeSelectedPwa)||void 0===a?void 0:a.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},o.Bb))},s=async e=>{var t;await i.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},o.Bb)},c=async e=>{var t;await i.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},o.Bb)},u=async e=>{var t,a,n,d,r;const{eventFlag:s,itemsArray:c,userType:u="",totalAmount:v="",couponCode:O="",currencyShortName:b=""}=e,m=await(null===c||void 0===c?void 0:c.length)>0&&((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.item_name)===(null===c||void 0===c||null===(a=c[1])||void 0===a?void 0:a.item_name)?[null===c||void 0===c?void 0:c[0]]:c);await(null===c||void 0===c?void 0:c.length)>0&&i.a.registerEvent(null===l.a||void 0===l.a||null===(n=l.a[s])||void 0===n?void 0:n.name,{data:{event:s,userType:u||"",ecommerce:{items:m,currency:b||"",value:v||(null===m||void 0===m||null===(d=m[0])||void 0===d?void 0:d.price)*(null===m||void 0===m||null===(r=m[0])||void 0===r?void 0:r.quantity)||"",coupon:O||""}}},o.Bb)},v=async(e,t)=>{var a;await i.a.registerEvent(null===l.a||void 0===l.a||null===(a=l.a.viewItemList)||void 0===a?void 0:a.name,{data:{event:n.u,disposition:Object(o.h)(t),ecommerce:{items:e||[]}}},o.Bb)},O=async()=>{var e;await i.a.registerEvent(null===l.a||void 0===l.a||null===(e=l.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},o.Bb)},b=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===l.a||void 0===l.a||null===(e=l.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:a}}}}))},m=async e=>{var t,a,n;await(null===i.a||void 0===i.a?void 0:i.a.registerEvent(null===l.a||void 0===l.a||null===(t=l.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,item_list_id:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_id,ecommerce:{items:e||[]}}},o.Bb))}},1099:function(e,t,a){"use strict";var i=a(962);a.d(t,"a",(function(){return i.default}))},1101:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var i=a(3),l=a(28),o=a(92),n=a(106),d=a(85);const r={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var s=a(16),c=a(6),u=a(5),v=a(35),O=a(15),b=a(0),m=a(80),j=a(2);const h=e=>{const t=Object(l.c)((e=>e.cartReducer)),{cartData:a={}}=t||{},h=Object(l.c)((e=>e.tenantReducer)),{tenantId:p=""}=h||{},{userOrderState:g,userOrderStateDispatch:N}=Object(i.useContext)(d.a),{modalToOpenOnConfirm:S,modalOpenFrom:I,confirmCallBack:x}=g,{CartError:f}=O.a,E=Object(l.b)(),{CLEAR_ALL_MSG:C,CLEAR_ALL:T,CANCEL:y,TO_CHANGE_LANGUAGE:D}=r;((e,t,a)=>{e.langSelector?t.MSGTXT3=a:t.MSGTXT3})(e,C,D);const{SHOW_CLEAR_CART_ALERT:A,DISPOSITION_DATA:R,SEARCH_ORDER_DATA:_,SCHEDULE_ORDER_DATA:w,clearCartChangeFlag:L,orderTypeAlertTitle:M,searchStoreAlertTitle:k,RESET_DELIVERY_ADDRESS_LINE:P,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:W}=s.a,H=Object(u.Sd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,B=()=>{N({type:F,value:{}}),N({type:b.Oe,value:{selectedLanguage:""}}),N({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),I===L&&N({type:w,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(j.jsx)(n.a,{handleClose:B,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(o.a,{splitTitle:C,imageSrc:f,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(T),cancelButtonText:Object(c.translateWithI18Next)(y),cancelHandler:B,confirmHandler:()=>{if(a.discountLines.length>0){let e=a.discountLines.map((e=>e.id));E(Object(v.n)({params:{basketId:a.id},tenantId:p,shouldClearCart:!0},e))}else E(Object(v.o)({basketId:a.id,tenantId:p}));E(Object(m.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),E(Object(v.u)(new Date)),N({type:A,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),x&&x(),S===M?(N({type:P}),N({type:R,value:{showDisposition:!0}}),N({type:w,value:{showScheduleOrderCatering:!1}}),N({type:_,value:{showSearchStore:!1}}),N({type:W,value:{orderCapacityDataUpdated:!1}}),N({type:F,value:{}})):S===k&&N({type:_,value:{showSearchStore:!0}})}})})}},1103:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,l,o,n;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(a.bind(null,215));return null===r||void 0===r||null===(l=r.default)||void 0===l||null===(o=l[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===o?void 0:o.MENU_PLP_CONSTANTS})()})()}).call(this,a(121))},1108:function(e,t,a){"use strict";a.d(t,"o",(function(){return m})),a.d(t,"f",(function(){return j})),a.d(t,"r",(function(){return p})),a.d(t,"d",(function(){return g})),a.d(t,"g",(function(){return x})),a.d(t,"y",(function(){return f})),a.d(t,"v",(function(){return E})),a.d(t,"s",(function(){return C})),a.d(t,"w",(function(){return T})),a.d(t,"n",(function(){return y})),a.d(t,"x",(function(){return D})),a.d(t,"u",(function(){return A})),a.d(t,"k",(function(){return R})),a.d(t,"p",(function(){return k})),a.d(t,"h",(function(){return P})),a.d(t,"i",(function(){return F})),a.d(t,"j",(function(){return W})),a.d(t,"q",(function(){return H})),a.d(t,"e",(function(){return G})),a.d(t,"l",(function(){return V})),a.d(t,"m",(function(){return Y})),a.d(t,"a",(function(){return K})),a.d(t,"b",(function(){return q})),a.d(t,"c",(function(){return z})),a.d(t,"t",(function(){return J}));var i=a(0),l=a(274),o=a(5),n=a(12),d=a(265),r=a(20),s=a.n(r),c=a(6),u=a(57),v=a(4),O=a(1111),b=a(1180);const m={tenantId:null,currencyCode:null,currencySymbol:null,currencyShortName:null,showCarryBagInLineItem:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,favouriteOrderRegex:"",hideCancelOrderPanel:null,enableCancelOrderCallsupportModal:null,hidePickupCheckin:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,miscPaymentReferenceId:null,wiCodePurchaseId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},enableOrderNoteForCheckout:!1,deliveryOrEstimatedOrCollectAtTime:null,pickupOrderEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(o.de)(window.innerWidth),discountLines:[],paymentDiscountLines:[],paymentDiscountTotal:0,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayOrderProcessingPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,deliverySearchType:"",savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,isShowStoreClosePickupOrderCancelModal:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0,orderSummarycontentData:{},openCallSupportModal:!1,showGiftCardOrVoucherSummary:!1,showPromosSummary:!1,showOrderingTime:"",isPostorderStoreShutdownPopupModal:!1,showOrderSummaryOnSentToPosFailed:!1,isUberServiceableEnabled:!1},j=e=>null!==e&&void 0!==e&&e.enableGlobalOrderTracking?0===parseInt(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber:0===parseInt(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId,h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(o.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((e=>{var l,o,n,d,r,s,c,u,v,O,b,m,j,h,p,g,N,S,I;return(null===a||void 0===a?void 0:a.length)>0&&(null===i.Vd||void 0===i.Vd||null===(l=i.Vd.CREDIT_CARD)||void 0===l?void 0:l.toLowerCase())===(null===t||void 0===t||null===(o=t[0])||void 0===o||null===(n=o.type)||void 0===n?void 0:n.toLowerCase())?(null===e||void 0===e||null===(d=e.fields)||void 0===d||null===(r=d.title)||void 0===r?void 0:r.toLowerCase())===(null===a||void 0===a||null===(s=a[0])||void 0===s||null===(c=s.paymentInstrumentType)||void 0===c?void 0:c.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===a||void 0===a||null===(O=a[0])||void 0===O||null===(b=O.paymentInstrumentType)||void 0===b?void 0:b.toLowerCase()):(null===e||void 0===e||null===(m=e.fields)||void 0===m||null===(j=m.title)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(h=t[0])||void 0===h||null===(p=h.type)||void 0===p?void 0:p.toLowerCase())||(null===e||void 0===e||null===(g=e.fields)||void 0===g||null===(N=g.orderServName)||void 0===N?void 0:N.toLowerCase())===(null===t||void 0===t||null===(S=t[0])||void 0===S||null===(I=S.type)||void 0===I?void 0:I.toLowerCase())})):{}};function p(e){var t,a,l,o;if((null===e||void 0===e?void 0:e.status)===(null===i.Rd||void 0===i.Rd||null===(t=i.Rd.SENT_TO_POS_FAILED)||void 0===t?void 0:t.toLowerCase()))return;let n=[];const d=localStorage.getItem("guestActiveOrders");if(d)try{const e=JSON.parse(d);n=null!==Array&&void 0!==Array&&Array.isArray(e)?e:[]}catch(T){console.error("Error parsing stored orders:",T)}const r=null===(a=n)||void 0===a?void 0:a.some((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))),s=(null===e||void 0===e?void 0:e.displayOrderId)||(null===e||void 0===e?void 0:e.posOrderId);if(!r&&(null===e||void 0===e?void 0:e.status)!==(null===i.Rd||void 0===i.Rd||null===(l=i.Rd.SENT_TO_POS_FAILED)||void 0===l?void 0:l.toLowerCase())&&(null===e||void 0===e?void 0:e.status)!==(null===i.Rd||void 0===i.Rd||null===(o=i.Rd.ACCEPTED)||void 0===o?void 0:o.toLowerCase())){var c,u,v,O,b,m,j,h,p,g,N,S,I,x,f,E,C;const t={id:null===e||void 0===e?void 0:e.orderId,email:(null===e||void 0===e||null===(c=e.customer)||void 0===c?void 0:c.email)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.customer)||void 0===v?void 0:v.email)||(null===e||void 0===e?void 0:e.userEmail),phone:(null===e||void 0===e||null===(O=e.customer)||void 0===O?void 0:O.phoneNumber)||(null===e||void 0===e||null===(b=e.postOrderDetails)||void 0===b||null===(m=b.customer)||void 0===m?void 0:m.phoneNumber)||(null===e||void 0===e?void 0:e.userPhone),service:null===e||void 0===e?void 0:e.service,referenceNumber:s,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.fulfillmentDateTime),store:{timeZoneIANA:(null===e||void 0===e||null===(h=e.store)||void 0===h?void 0:h.timeZoneIANA)||(null===e||void 0===e||null===(p=e.postOrderDetails)||void 0===p||null===(g=p.store)||void 0===g?void 0:g.timeZoneIANA),storeId:(null===e||void 0===e||null===(N=e.store)||void 0===N?void 0:N.storeId)||(null===e||void 0===e||null===(S=e.postOrderDetails)||void 0===S||null===(I=S.store)||void 0===I?void 0:I.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(x=e.postOrderDetails)||void 0===x?void 0:x.requestedDateTime),deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(f=e.postOrderDetails)||void 0===f?void 0:f.deliveryDetails),status:null===e||void 0===e?void 0:e.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(E=e.postOrderDetails)||void 0===E?void 0:E.otu),isActiveGuestTracking:!0};null===(C=n)||void 0===C||C.unshift(t),localStorage.setItem("guestActiveOrders",JSON.stringify(n))}if(r){let t=!1;const a=n.map((a=>{var i;if((null===a||void 0===a?void 0:a.id)===(null===e||void 0===e?void 0:e.orderId)&&(null==(null===a||void 0===a?void 0:a.referenceNumber)||null==(null===a||void 0===a?void 0:a.fulfillmentDateTime)||null==(null===a||void 0===a?void 0:a.requestedDateTime)||null==(null===a||void 0===a||null===(i=a.store)||void 0===i?void 0:i.id)||null==(null===a||void 0===a?void 0:a.otu))){var l,o,n,d,r,c,u,v,O,b,m,j;t=!0;return{...a,referenceNumber:s||a.referenceNumber,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(l=e.postOrderDetails)||void 0===l?void 0:l.fulfillmentDateTime)||a.fulfillmentDateTime,store:{timeZoneIANA:(null===e||void 0===e||null===(o=e.store)||void 0===o?void 0:o.timeZoneIANA)||(null===e||void 0===e||null===(n=e.postOrderDetails)||void 0===n||null===(d=n.store)||void 0===d?void 0:d.timeZoneIANA)||(null===(r=a.store)||void 0===r?void 0:r.timeZoneIANA),storeId:(null===e||void 0===e||null===(c=e.store)||void 0===c?void 0:c.storeId)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.store)||void 0===v?void 0:v.storeId)||(null===(O=a.store)||void 0===O?void 0:O.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(b=e.postOrderDetails)||void 0===b?void 0:b.requestedDateTime)||a.requestedDateTime,deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(m=e.postOrderDetails)||void 0===m?void 0:m.deliveryDetails)||a.deliveryDetails,status:(null===e||void 0===e?void 0:e.status)||a.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j?void 0:j.otu)}}return a}));t&&localStorage.setItem("guestActiveOrders",JSON.stringify(a))}}const g=(e,t)=>{var a;let i=null===e||void 0===e?void 0:e.filter((e=>!Object(o.q)(e,!0)));return i=null===(a=i)||void 0===a?void 0:a.filter((e=>!(e=>{var t;let a=!1;const i=Object(d.k)(e)||Object(d.k)(null===e||void 0===e||null===(t=e.deliveryDetails)||void 0===t?void 0:t.riderStatus),l=Object(d.K)(e)||Object(d.hb)(e);return(i||l)&&(a=!0),a})(e))),(null===e||void 0===e?void 0:e.length)>0&&localStorage.setItem("guestActiveOrders",JSON.stringify(i)),t?(localStorage.removeItem("guestActiveOrders"),[]):i},N=e=>{var t,a;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(o.qe)(null===e||void 0===e||null===(a=e.orderAccepted)||void 0===a?void 0:a.id)},S=e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(a=e.pastOrderResponse)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.id)},I=e=>{var t;return(e=>{var t,a,i,l,o;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(a=Object.keys(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.order))||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(o=l.order)||void 0===o?void 0:o.id)})(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},x=e=>{const{postOrderReducer:t={},orderReducer:a={},orderDetails:i={},isCheckOrderDetails:l=!0}=e;let o=(e=>N(e)?null===e||void 0===e?void 0:e.orderAccepted:null)(t);var n;null===o&&(o=(e=>{var t;return S(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null})(a),null===o&&(o=I(a),l&&null===o&&(o=null!==i&&void 0!==i&&i.postOrderDetails&&null!==(n=Object.keys(null===i||void 0===i?void 0:i.postOrderDetails))&&void 0!==n&&n.length?null===i||void 0===i?void 0:i.postOrderDetails:{})));return o||{}},f=e=>{var t,a,i,l,o,n,d,r,s,c,u,v,O,b,m,j,h,p,g,N,S,I,x,f,E,C,T,y,D,A,R,_,w,L,M,k,P,F,W,H,B,U,G,V,Y,K,q,z,J,X,Q,Z,$,ee,te,ae,ie,le,oe,ne,de,re,se,ce,ue,ve,Oe,be,me,je,he,pe,ge,Ne,Se,Ie,xe,fe,Ee,Ce,Te,ye,De;const{props:Ae,dispatch:Re,tenantReducer:_e={},isExternalTrackOrder:we=!1,dispositionPaymentPage:Le,updateSetOrderDetails:Me}=e,{tenantId:ke,currencyCode:Pe,currencySymbol:Fe,currencyShortName:We,showCarryBagInLineItem:He,addHope:Be,carryBag:Ue,currencyConversionFactor:Ge,pastOrderDateformat:Ve,pastOrderTimeFormat:Ye,storeSearch:Ke={},driveTime:qe,buffertimepmpickup:ze,buffertimepmdelivery:Je,favouriteOrderRegex:Xe,componentOptions:Qe,enablePickupMethodChangePostOrder:Ze,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,postorderStoreShutdownPopup:at}=_e;Me({props:Ae,dispatch:Re,tenantId:ke,enablePickupMethodChangePostOrder:Ze,postorderStoreShutdownPopup:at,currencyCode:Pe,currencySymbol:Fe,currencyShortName:We,showCarryBagInLineItem:He,addHope:Be,carryBag:Ue,currencyConversionFactor:Ge,pastOrderDateformat:Ve,pastOrderTimeFormat:Ye,isExternalTrackOrder:we,storeSearch:Ke,driveTime:qe,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,buffertimepmpickup:ze,buffertimepmdelivery:Je,favouriteOrderRegex:Xe,operatingTime:null===Le||void 0===Le||null===(t=Le.store)||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,hideCancelOrderPanel:null===Qe||void 0===Qe||null===(i=Qe.web)||void 0===i||null===(l=i.orderPages)||void 0===l?void 0:l.hideCancelOrderPanel,enableOrderNoteForCheckout:null===Qe||void 0===Qe||null===(o=Qe.checkout)||void 0===o?void 0:o.enableOrderNoteForCheckout,hidePickupCheckin:null===Qe||void 0===Qe||null===(n=Qe.web)||void 0===n||null===(d=n.orderPages)||void 0===d?void 0:d.orderSummaryShowPickupOrderCollectionMethodPanel,showTaxLines:null===Qe||void 0===Qe||null===(r=Qe.web)||void 0===r||null===(s=r.cartPage)||void 0===s?void 0:s.showTaxLines,showTaxExcluded:null===Qe||void 0===Qe||null===(c=Qe.web)||void 0===c||null===(u=c.checkout)||void 0===u?void 0:u.showTaxExcluded,enableGlobalOrderTracking:null===Qe||void 0===Qe||null===(v=Qe.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===Qe||void 0===Qe||null===(b=Qe.web)||void 0===b||null===(m=b.orderPages)||void 0===m?void 0:m.enableRetryCountForPickupOrderTracking,enableCancelOrderCallsupportModal:null===Qe||void 0===Qe||null===(j=Qe.web)||void 0===j||null===(h=j.orderPages)||void 0===h?void 0:h.enableCancelOrderCallsupportModal,showOrderTrackingIFrame:null===Qe||void 0===Qe||null===(p=Qe.web)||void 0===p||null===(g=p.orderPages)||void 0===g?void 0:g.showOrderTrackingIFrame,orderTrackingProgressBarCount:null===Qe||void 0===Qe||null===(N=Qe.web)||void 0===N||null===(S=N.orderPages)||void 0===S?void 0:S.orderTrackingProgressBarCount,showDeliveryDriverDetails:null===Qe||void 0===Qe||null===(I=Qe.web)||void 0===I||null===(x=I.orderPages)||void 0===x?void 0:x.showDeliveryDriverDetails,showDeliveryTrackingMap:null===Qe||void 0===Qe||null===(f=Qe.web)||void 0===f||null===(E=f.orderPages)||void 0===E?void 0:E.showDeliveryTrackingMap,orderTrackingProgressBarScheduleOrdersCount:null===Qe||void 0===Qe||null===(C=Qe.web)||void 0===C||null===(T=C.orderPages)||void 0===T?void 0:T.orderTrackingProgressBarScheduleOrdersCount,showOrderSummaryInfoDetails:null===Qe||void 0===Qe||null===(y=Qe.web)||void 0===y||null===(D=y.orderPages)||void 0===D?void 0:D.showOrderSummaryInfoDetails,deliveryProgressBarAsapOrder:null===Qe||void 0===Qe||null===(A=Qe.web)||void 0===A||null===(R=A.orderPages)||void 0===R?void 0:R.deliveryProgressBarAsapOrder,deliveryProgressBarScheduleOrders:null===Qe||void 0===Qe||null===(_=Qe.web)||void 0===_||null===(w=_.orderPages)||void 0===w?void 0:w.deliveryProgressBarScheduleOrders,hideEstimatedDeliveryTime:null===Qe||void 0===Qe||null===(L=Qe.web)||void 0===L||null===(M=L.orderPages)||void 0===M?void 0:M.hideEstimatedDeliveryTime,getDeliveryActualPickupTime:null===Qe||void 0===Qe||null===(k=Qe.web)||void 0===k||null===(P=k.orderPages)||void 0===P?void 0:P.getDeliveryActualPickupTime,hideProgressBar:null===Qe||void 0===Qe||null===(F=Qe.web)||void 0===F||null===(W=F.orderPages)||void 0===W?void 0:W.hideProgressBar,enableScheduleOrder:null===Qe||void 0===Qe||null===(H=Qe.web)||void 0===H||null===(B=H.dispositionConfig)||void 0===B?void 0:B.enableScheduleOrder,enableClickCollectScheduleOrder:null===Qe||void 0===Qe||null===(U=Qe.web)||void 0===U||null===(G=U.dispositionConfig)||void 0===G?void 0:G.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===Qe||void 0===Qe||null===(V=Qe.web)||void 0===V||null===(Y=V.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===_e||void 0===_e||null===(K=_e.componentOptions)||void 0===K||null===(q=K.web)||void 0===q||null===(z=q.orderPages)||void 0===z?void 0:z.showGiftCardOrVoucherSummary,showPromosSummary:null===_e||void 0===_e||null===(J=_e.componentOptions)||void 0===J||null===(X=J.web)||void 0===X||null===(Q=X.orderPages)||void 0===Q?void 0:Q.showPromosSummary,showStoreRegistrationNumber:null===Qe||void 0===Qe||null===(Z=Qe.web)||void 0===Z||null===($=Z.orderPages)||void 0===$?void 0:$.showStoreRegistrationNumber,showStoreOrderNumber:null===Qe||void 0===Qe||null===(ee=Qe.web)||void 0===ee||null===(te=ee.orderPages)||void 0===te?void 0:te.showStoreOrderNumber,showOrderDateTime:null===Qe||void 0===Qe||null===(ae=Qe.web)||void 0===ae||null===(ie=ae.orderPages)||void 0===ie?void 0:ie.showOrderDateTime,showOrderMode:null===Qe||void 0===Qe||null===(le=Qe.web)||void 0===le||null===(oe=le.orderPages)||void 0===oe?void 0:oe.showOrderMode,showOrderStatus:null===Qe||void 0===Qe||null===(ne=Qe.web)||void 0===ne||null===(de=ne.orderPages)||void 0===de?void 0:de.showOrderStatus,showPickupOrDeliveryTime:null===Qe||void 0===Qe||null===(re=Qe.web)||void 0===re||null===(se=re.orderPages)||void 0===se?void 0:se.showPickupOrDeliveryTime,hidePostOrderCollectionForAsap:null===Qe||void 0===Qe||null===(ce=Qe.web)||void 0===ce||null===(ue=ce.orderPages)||void 0===ue?void 0:ue.hidePostOrderCollectionForAsap,allowedPickupCollectionMethods:null===Qe||void 0===Qe||null===(ve=Qe.checkout)||void 0===ve?void 0:ve.allowedPickupCollectionMethods,geoLocationCheckForCheckin:null===Qe||void 0===Qe||null===(Oe=Qe.web)||void 0===Oe||null===(be=Oe.orderPages)||void 0===be?void 0:be.geoLocationCheckForCheckin,orderStatusFlag:null===_e||void 0===_e||null===(me=_e.componentOptions)||void 0===me||null===(je=me.web)||void 0===je||null===(he=je.orderPages)||void 0===he?void 0:he.getDeliveryOrderStatusMessageFlag,tenantSpecificDateFormat:null===_e||void 0===_e||null===(pe=_e.componentOptions)||void 0===pe||null===(ge=pe.web)||void 0===ge||null===(Ne=ge.orderPages)||void 0===Ne?void 0:Ne.displayOrderDeliveryDateFormat,showCancelOrderNumber:null===Qe||void 0===Qe||null===(Se=Qe.web)||void 0===Se||null===(Ie=Se.dispositionConfig)||void 0===Ie?void 0:Ie.showCancelOrderNumber,showStateCityAddAddress:null===_e||void 0===_e||null===(xe=_e.savedAddressPage)||void 0===xe?void 0:xe.showStateCityAddAddress,hideCustomerName:null===Qe||void 0===Qe||null===(fe=Qe.web)||void 0===fe||null===(Ee=fe.orderPages)||void 0===Ee?void 0:Ee.hideCustomerName,hideCreateAccountPanel:null===Qe||void 0===Qe||null===(Ce=Qe.web)||void 0===Ce||null===(Te=Ce.orderPages)||void 0===Te?void 0:Te.hideCreateAccountPanel,showPinCode:null===Qe||void 0===Qe||null===(ye=Qe.web)||void 0===ye||null===(De=ye.orderPages)||void 0===De?void 0:De.showOrderPinCode,showOrderSummaryOnSentToPosFailed:null===_e||void 0===_e?void 0:_e.showOrderSummaryOnSentToPosFailed,isUberServiceableEnabled:null===_e||void 0===_e?void 0:_e.isUberServiceableEnabled,useTradingHoursForStoreCloseCalculation:null===_e||void 0===_e?void 0:_e.useTradingHoursForStoreCloseCalculation})},E=e=>{const{helpReducer:t,updateSetOrderDetails:a}=e;a({helpContantData:Object(o.ic)((null===t||void 0===t?void 0:t.helpResponse)||null)})},C=e=>{const{appStateReducer:t,updateSetOrderDetails:a}=e;a({userStatus:null===t||void 0===t?void 0:t.userStatus})},T=e=>{const{profileReducer:t,orderDetails:a,updateSetOrderDetails:i}=e;i({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:y(a,null===t||void 0===t?void 0:t.favouriteOrders)})},y=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=a||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===i||void 0===i?void 0:i.findIndex((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))))},D=e=>{var t,a,i,l,o,n,d,r;const{storesReducer:s={},updateSetOrderDetails:c}=e,u=null!==s&&void 0!==s&&null!==(t=s.storesWithStatus)&&void 0!==t&&t.length?null===s||void 0===s||null===(a=s.storesWithStatus)||void 0===a?void 0:a[0]:{};c({allStoresDetails:null!==s&&void 0!==s&&null!==(i=s.allStores)&&void 0!==i&&i.length?null===s||void 0===s?void 0:s.allStores:[],currentStoresDetails:u,operatingTimeFromStoreReducer:null!==(l=Object.keys(u))&&void 0!==l&&l.length?null===u||void 0===u||null===(o=u.summary)||void 0===o||null===(n=o.timings)||void 0===n?void 0:n.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(d=Object.keys(u))&&void 0!==d&&d.length?null===u||void 0===u||null===(r=u.summary)||void 0===r?void 0:r.availableCollectionPoints:null})},A=e=>{var t;const{orderReducer:a={},paymentsContentReducer:i={},orderDetails:l,updateSetOrderDetails:o,tenantReducer:n}=e,d=null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.order;o({...R({orderReducerCreateOrderResponse:d,paymentsContentReducer:i,orderDetails:l,tenantReducer:n})})},R=e=>{var t;const{postOrPastOrderDetails:a={},orderReducerCreateOrderResponse:i={},paymentsContentReducer:l={},orderDetails:n,tenantReducer:d}=e,r=Object(o.pe)(a)?a:i,s=L({orderDetailsFromReducer:r,orderDetails:n,tenantReducer:d});return s.postOrderDetails=a,s.paymentType=h(null===l||void 0===l||null===(t=l.tendersContent)||void 0===t?void 0:t.items,null===r||void 0===r?void 0:r.tenders,null===r||void 0===r?void 0:r.paymentReferences),s},_=e=>{const{storeTimeZoneIANA:t,estimatedDeliveryTime:a,orderTime:l,format:o=(null===i.sb||void 0===i.sb?void 0:i.sb.H_MM_A)}=e;return t?Object(n.D)(a||l,t,o):Object(n.C)(a||l,o)},w=e=>{const{storeTimeZoneIANA:t,statusUpdatedDate:a,pastOrderDateformat:i}=e;return t?Object(n.D)(a,t,i):Object(n.C)(a,i)},L=e=>{var t,a,l,r,s,c,v,O,b,m,h,p,g,N,S,I,x,f,E,C,T,y,D,A,R,L,k,P;const{orderDetailsFromReducer:F,orderDetails:W={},tenantReducer:H}=e,B={additionalChargeLines:null===F||void 0===F?void 0:F.additionalChargeLines,customerId:null===F||void 0===F||null===(t=F.customer)||void 0===t?void 0:t.id,customer:null===F||void 0===F?void 0:F.customer,deliveryAddress:null===F||void 0===F?void 0:F.deliveryAddress,deliveryDetails:null===F||void 0===F?void 0:F.deliveryDetails,deliveryPartner:null===F||void 0===F?void 0:F.deliveryPartner,otu:(null===W||void 0===W?void 0:W.otu)||(null===F||void 0===F?void 0:F.otu),isActiveGuestTracking:(null===W||void 0===W?void 0:W.isActiveGuestTracking)||(null===F||void 0===F?void 0:F.isActiveGuestTracking),foodLines:null===F||void 0===F?void 0:F.foodLines,orderId:null===F||void 0===F?void 0:F.id,displayOrderId:j({...W,...F}),fulfillmentDateTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.fulfillmentDateTime,null===F||void 0===F||null===(a=F.store)||void 0===a?void 0:a.timeZoneIANA),orderTime:Object(n.M)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayOrderTime:Object(o.bd)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayFormatOrderTime:u.a.formatValue(u.a.tz(Object(n.L)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===F||void 0===F||null===(l=F.store)||void 0===l?void 0:l.timeZoneIANA)," h:mma"),displayTodayDate:Object(n.h)(new Date,null===W||void 0===W?void 0:W.pastOrderDateformat),posOrderId:null===F||void 0===F?void 0:F.posOrderId,userEmail:null===F||void 0===F||null===(r=F.customer)||void 0===r?void 0:r.email,userPhone:(null===F||void 0===F||null===(s=F.customer)||void 0===s?void 0:s.phoneNumber)||(null===F||void 0===F||null===(c=F.customer)||void 0===c?void 0:c.phone),service:null===F||void 0===F?void 0:F.service,status:null===F||void 0===F?void 0:F.status,orderStatus:Object(d.c)({...W,...F}),orderStatusChangedAt:Object(d.b)({orderDetails:W,orderDetailsFromReducer:F}),sameOrderStatusMaintainLast30Mins:Object(d.q)({orderDetails:W,orderDetailsFromReducer:F}),store:null===F||void 0===F?void 0:F.store,storeName:null===F||void 0===F||null===(v=F.store)||void 0===v?void 0:v.name,phoneNumber:null===F||void 0===F||null===(O=F.store)||void 0===O?void 0:O.phoneNumber,phoneNumberFormat:Object(o.bb)(null===F||void 0===F||null===(b=F.store)||void 0===b?void 0:b.phoneNumber),storeTimeZoneIANA:null===F||void 0===F||null===(m=F.store)||void 0===m?void 0:m.timeZoneIANA,storeOperatingTime:null===F||void 0===F||null===(h=F.store)||void 0===h?void 0:h.timings,deliveryOrEstimatedOrCollectAtMonthDate:_({estimatedDeliveryTime:null===F||void 0===F||null===(p=F.deliveryDetails)||void 0===p?void 0:p.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(g=F.store)||void 0===g?void 0:g.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd:i.sb.MMMM_D}),deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(N=F.deliveryDetails)||void 0===N?void 0:N.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(S=F.store)||void 0===S?void 0:S.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd_AA:i.sb.D_MMMM_AA}),deliveryOrEstimatedOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(I=F.deliveryDetails)||void 0===I?void 0:I.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(x=F.store)||void 0===x?void 0:x.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),deliveryOrActualOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(f=F.deliveryDetails)||void 0===f?void 0:f.actualDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(E=F.store)||void 0===E?void 0:E.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(C=F.deliveryDetails)||void 0===C?void 0:C.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(T=F.store)||void 0===T?void 0:T.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.HH_mm:i.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(y=F.deliveryDetails)||void 0===y?void 0:y.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(D=F.store)||void 0===D?void 0:D.timeZoneIANA,format:null!==W&&void 0!==W&&W.scheduleOrderDateFormat?null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_dd_AA:i.sb.H_MM_A}),orderDateOn:w({statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,storeTimeZoneIANA:null===F||void 0===F||null===(A=F.store)||void 0===A?void 0:A.timeZoneIANA,pastOrderDateformat:null===W||void 0===W?void 0:W.pastOrderDateformat}),statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,isContactless:null===F||void 0===F?void 0:F.isContactless,filteredFoodLines:Object(o.Tb)(null===F||void 0===F?void 0:F.foodLines,null===W||void 0===W?void 0:W.addHope,null===W||void 0===W?void 0:W.carryBag,null===H||void 0===H?void 0:H.showCarryBagInLineItem),orderedItemDetails:null===F||void 0===F?void 0:F.orderedItemDetails,orderingDateTime:null===F||void 0===F?void 0:F.orderingDateTime,orderingDateTimeFormatted:Object(n.D)(null===F||void 0===F?void 0:F.orderingDateTime,null===F||void 0===F||null===(R=F.store)||void 0===R?void 0:R.timeZoneIANA),orderingDate:Object(o.Cb)(null===F||void 0===F?void 0:F.orderingDateTime),orderingDayAndMonthName:Object(o.Db)(null===F||void 0===F?void 0:F.orderingDateTime,null===W||void 0===W?void 0:W.dateFormat),orderingTime:Object(o.bd)(null===F||void 0===F?void 0:F.orderingDateTime,null===W||void 0===W?void 0:W.timeFormat),fullAddressDetails:M(null===F||void 0===F?void 0:F.deliveryAddress,null===H||void 0===H||null===(L=H.savedAddressPage)||void 0===L?void 0:L.showStateCityAddAddress,null===H||void 0===H?void 0:H.isUberServiceableEnabled),instruction:null===F||void 0===F?void 0:F.instruction,addressLines:null===F||void 0===F||null===(k=F.store)||void 0===k||null===(P=k.address)||void 0===P?void 0:P.addressLines,taxLines:null===F||void 0===F?void 0:F.taxLines,additionalCharges:null===F||void 0===F?void 0:F.additionalChargeLines,checkInSummary:null===F||void 0===F?void 0:F.checkInSummary,subTotal:null===F||void 0===F?void 0:F.subTotal,discountLines:null===F||void 0===F?void 0:F.discountLines,paymentDiscountLines:(null===F||void 0===F?void 0:F.paymentDiscountLines)||[],paymentDiscountTotal:(null===F||void 0===F?void 0:F.paymentDiscountTotal)||0,discountTotal:null===F||void 0===F?void 0:F.discountTotal,total:(null===F||void 0===F?void 0:F.total)||(null===F||void 0===F?void 0:F.amount),inclusiveTaxTotal:null===F||void 0===F?void 0:F.inclusiveTaxTotal,tenders:null===F||void 0===F?void 0:F.tenders,paymentReferences:null===F||void 0===F?void 0:F.paymentReferences,taxTotal:null===F||void 0===F?void 0:F.taxTotal,orderAcceptedLoading:(null===F||void 0===F?void 0:F.orderAcceptedLoading)||!1,requestedTimeStamp:null===F||void 0===F?void 0:F.requestedTimeStamp,requestedDateTime:null===F||void 0===F?void 0:F.requestedDateTime,orderDateTimeInEpoch:null===F||void 0===F?void 0:F.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null,bottleDepositChargeTotal:(null===F||void 0===F?void 0:F.bottleDepositChargeTotal)||0,tipCharge:null===F||void 0===F?void 0:F.driverTippingCharge,tipChargeType:null===F||void 0===F?void 0:F.driverTippingChargeType,driverTippingChargeOption:null===F||void 0===F?void 0:F.driverTippingChargeOption,showOrderingTime:Object(n.h)(Object(n.M)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===W||void 0===W?void 0:W.pastOrderTimeFormat),deliveryPinDetails:null===F||void 0===F?void 0:F.deliveryPinDetails};return null!==(null===W||void 0===W?void 0:W.orderId)&&null!==(null===F||void 0===F?void 0:F.id)&&(null===W||void 0===W?void 0:W.orderId)!==(null===F||void 0===F?void 0:F.id)&&(B.oldOrderId=null===F||void 0===F?void 0:F.id),B},M=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(o.pe)(e)){var i,l;let{addressLines:s}=e;const{city:c,state:u,country:v,pinCode:O,customProperties:b=[]}=e,m=Object(o.vd)(O),j=Object(o.vd)(c),h=Object(o.vd)(u),p=Object(o.vd)(v),g=null!==(i=null===(l=b[2])||void 0===l?void 0:l.value)&&void 0!==i?i:"";var n,d,r;if(a)s[1]=null===(n=s[1])||void 0===n||null===(d=n.split(","))||void 0===d||null===(r=d.join)||void 0===r?void 0:r.call(d,"");const N=null===s||void 0===s?void 0:s.filter((e=>e)).join(", ");if(t){const e=u&&"".concat(u)||"",t=c&&"".concat(c)||"";return"".concat(e).concat(t).concat(null===s||void 0===s?void 0:s.filter((e=>e)).join(" ")," ").concat(g)}return"".concat(N).concat(j).concat(h).concat(m).concat(p)}return null},k=(e,t,a,i)=>{var l,o;!s()(e)&&((null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)||i)&&a({orderSummarycontentData:B(null===(l=e.items)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.fields,t)})},P=e=>{var t,a;const{orderSummarycontentData:l}=e;return null===l||void 0===l||null===(t=l.headline)||void 0===t?void 0:t.replace(i.nb,null===e||void 0===e||null===(a=e.customer)||void 0===a?void 0:a.firstName.replace(/(.{7})..+/,"$1..."))},F=e=>{const{orderSummarycontentData:t,enableClickCollectScheduleOrder:a,allowScheduleOrderForDispositions:l,service:o}=e,n=a&&(null===l||void 0===l?void 0:l.includes(o));var r;return Object(d.x)(e)||Object(d.B)(e)?(null===e||void 0===e||null===(r=e.paymentReferences[0])||void 0===r?void 0:r.paymentType)===(null===i.Vd||void 0===i.Vd?void 0:i.Vd.PAY_BY_CASH)&&null!==t&&void 0!==t&&t.payOnArrival?Object(b.a)(e):null===t||void 0===t?void 0:t.subHeadline:null!==t&&void 0!==t&&t.scheduleOrders||n?H(t,e):null===t||void 0===t?void 0:t.subHeadline},W=e=>{(e=>Object(o.Jd)(null===e||void 0===e?void 0:e.service)?Object(d.sb)(e)||Object(d.rb)(e):Object(d.t)(e)||Object(d.s)(e))(e)&&Object(l.a)(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ORDER_UPDATE_TEXT),4e3)},H=(e,t)=>{var a,l,r,s,u,O,b;const{enableClickCollectScheduleOrder:m,allowScheduleOrderForDispositions:j,service:h}=t,p=m&&(null===j||void 0===j?void 0:j.includes(h)),g=null===e||void 0===e||null===(a=e.subHeadline)||void 0===a?void 0:a.includes(i.tb),N=null===t||void 0===t?void 0:t.fulfillmentDateTime,S=Object(n.D)(N,null===t||void 0===t||null===(l=t.store)||void 0===l?void 0:l.timeZoneIANA,g?null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_D_MMMM_A:null===i.sb||void 0===i.sb?void 0:i.sb.hh_mm_A),I=Object(n.D)(N,null===t||void 0===t||null===(r=t.store)||void 0===r?void 0:r.timeZoneIANA,null===i.sb||void 0===i.sb?void 0:i.sb.MMMM_D),x=Object(n.D)(N,null===t||void 0===t||null===(s=t.store)||void 0===s?void 0:s.timeZoneIANA,null===i.sb||void 0===i.sb?void 0:i.sb.YYYY_MM_DD),f=p&&g?S.replace(/^\w+/,Object(o.ed)(I,null===t||void 0===t||null===(u=t.store)||void 0===u?void 0:u.timeZoneIANA)):S,E=null===f||void 0===f?void 0:f.split(" "),C=Object(o.ed)(x,null===t||void 0===t||null===(O=t.store)||void 0===O?void 0:O.timeZoneIANA),T=null===e||void 0===e||null===(b=e.subHeadline)||void 0===b?void 0:b.replace(g?i.tb:i.Md,'<span class="red">'.concat((e=>{const{timeStamp:t,dayInAWeek:a,dateTimeArray:l,orderReadyDateTime:o,orderDetails:n}=e;if(!t)return o;switch(null===n||void 0===n?void 0:n.tenantSpecificDateFormat){case null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_MMMM_D_HH_MM_A:return(a===i.uf?Object(c.translateWithI18Next)(v.a.TODAY):'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ON),"</span> ")+Object(c.translateWithI18Next)(l[0]))+" "+Object(c.translateWithI18Next)(l[2])+" "+l[1]+" "+'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.AT),"</span> ")+" "+(Object(d.A)(n)?null===n||void 0===n?void 0:n.deliveryOrActualOrCollectAtTime:l[4]+l[5]);case null===i.sb||void 0===i.sb?void 0:i.sb.D_MMMM_A:return Object(c.translateWithI18Next)(l[0])+" "+l[1]+" "+Object(c.translateWithI18Next)(l[2])+" "+l[3]+" "+l[4]+" "+l[5];default:return o}})({timeStamp:g,dayInAWeek:C,dateTimeArray:E,orderReadyDateTime:S,orderDetails:t}),"</span>"));return T?"<div class='subheadline-content ".concat(((e,t)=>(null===e||void 0===e?void 0:e.tenantSpecificDateFormat)===(null===i.sb||void 0===i.sb?void 0:i.sb.DDDD_MMMM_D_HH_MM_A)&&t?"subheadline-content-two":"")(t,g),"'>").concat(T,"</div>"):""},B=(e,t)=>{var a;const{showOrderSummaryOnSentToPosFailed:i}=t,l=null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.find((e=>{var a,l,n,r,s,c,u,v,O,b,m,j,h,p,g,N;return null!==t&&void 0!==t&&null!==(a=t.requestedDateTime)&&void 0!==a&&a.isForNow||!(Object(d.ob)(t)||Object(d.v)(t)||Object(d.C)(t)||Object(d.Q)(t)||Object(d.nb)(t))?i&&!Object(o.Jd)(null===t||void 0===t?void 0:t.service)?!(null!==e&&void 0!==e&&null!==(l=e.fields)&&void 0!==l&&l.scheduleOrders)&&(null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.orderStatus.toLowerCase())===(null===t||void 0===t||null===(r=t.orderStatus)||void 0===r?void 0:r.toLowerCase()):(null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.orderStatus.toLowerCase())===(null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.toLowerCase()):(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.scheduleOrders)&&(!(null!==t&&void 0!==t&&t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(O=v.orderStatus)||void 0===O?void 0:O.toLowerCase())===(null===t||void 0===t||null===(b=t.orderStatus)||void 0===b?void 0:b.toLowerCase())||(null===t||void 0===t?void 0:t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(m=e.fields)||void 0===m||null===(j=m.collectionPoint)||void 0===j?void 0:j.toLowerCase())===(null===t||void 0===t||null===(h=t.selectedPickupOrderCollectionMethod)||void 0===h?void 0:h.toLowerCase())&&(null===e||void 0===e||null===(p=e.fields)||void 0===p||null===(g=p.orderStatus)||void 0===g?void 0:g.toLowerCase())===(null===t||void 0===t||null===(N=t.orderStatus)||void 0===N?void 0:N.toLowerCase()))}));return null===l||void 0===l?void 0:l.fields},U=(e,t)=>{var a,i,l;return null===Object||void 0===Object||null===(a=Object.keys)||void 0===a||null===(i=a.call(Object,e))||void 0===i||null===(l=i.filter)||void 0===l?void 0:l.call(i,(e=>{var a,i;return null===d.ub||void 0===d.ub||null===(a=Object(d.ub)())||void 0===a||null===(i=a[e])||void 0===i?void 0:i.call(a,t)}))},G=e=>{var t;const a=null!==e&&void 0!==e&&e.enableClickCollectScheduleOrder||null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t||!t.isForNow?null===e||void 0===e?void 0:e.deliveryProgressBarScheduleOrders:null===e||void 0===e?void 0:e.deliveryProgressBarAsapOrder;if(a){let t=U(a,e);if(Array.isArray(t)&&t.length>0){var i,l;if(1===t.length)return null!==(l=null===a||void 0===a?void 0:a[t[0]])&&void 0!==l?l:void 0;const e=null===(i=t.map((e=>null===a||void 0===a?void 0:a[e])))||void 0===i?void 0:i.filter((e=>void 0!==e));return e.length>0?Math.max(...e):void 0}}else;},V=e=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.hideEstimatedDeliveryTime)||void 0===a?void 0:a[U(null===e||void 0===e?void 0:e.hideEstimatedDeliveryTime,e)])&&void 0!==t&&t},Y=e=>{var t,a,i;return null!==(t=null===e||void 0===e||null===(a=e.hideProgressBar)||void 0===a?void 0:a[U(null===e||void 0===e?void 0:e.hideProgressBar,e)])&&void 0!==t&&t&&!(null!==e&&void 0!==e&&null!==(i=e.requestedDateTime)&&void 0!==i&&i.isForNow)},K=e=>{let{orderDetails:t,orderReducer:a,postOrderReducer:l,paymentsContentReducer:o,updateSetOrderDetails:n,dispatch:r,tenantReducer:s,userOrderState:c}=e;if(null!==t&&void 0!==t&&t.tenantId){!sessionStorage.getItem(i.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&(e=>{let{orderReducer:t,postOrderReducer:a}=e;return N(a)||S(t)})({orderReducer:a,postOrderReducer:l})&&((e=>{const{postOrderReducer:t={},orderReducer:a={},paymentsContentReducer:i={},isCheckOrderDetails:l=!0,orderDetails:o,updateSetOrderDetails:n,tenantReducer:r}=e,s=x({postOrderReducer:t,orderReducer:a,isCheckOrderDetails:l}),{orderStatus:c,retryCountForGetOrderTrackingStatus:u,tenders:v,paymentReferences:O,displayOrderId:b}=o;if(Object(d.c)({...o,...s})!==c||j({...o,...s})!==b)n({...R({postOrPastOrderDetails:s,paymentsContentReducer:i,orderDetails:o,tenantReducer:r})});else if(Object(d.p)(o,s)){var m;n({deliveryPartner:null===s||void 0===s?void 0:s.deliveryPartner,deliveryDetails:null===s||void 0===s?void 0:s.deliveryDetails,retryCountForGetOrderTrackingStatus:u+1,fullAddressDetails:M(null===s||void 0===s?void 0:s.deliveryAddress,null===r||void 0===r||null===(m=r.savedAddressPage)||void 0===m?void 0:m.showStateCityAddAddress,null===r||void 0===r?void 0:r.isUberServiceableEnabled)})}var p;v===(null===s||void 0===s?void 0:s.tenders)&&O===(null===s||void 0===s?void 0:s.paymentReferences)||n({tenders:null===s||void 0===s?void 0:s.tenders,paymentReferences:null===s||void 0===s?void 0:s.paymentReferences,paymentType:h(null===i||void 0===i||null===(p=i.tendersContent)||void 0===p?void 0:p.items,null===s||void 0===s?void 0:s.tenders,null===s||void 0===s?void 0:s.paymentReferences)})})({postOrderReducer:l,orderReducer:a,paymentsContentReducer:o,isCheckOrderDetails:!1,orderDetails:t,updateSetOrderDetails:n,tenantReducer:s}),null!==t&&void 0!==t&&t.tenantId&&Object(O.r)({dispatch:r,orderDetails:t,updateSetOrderDetails:n,userOrderState:c}))}Object(d.f)()&&(e=>{const{postOrderReducer:t,orderDetails:a,updateSetOrderDetails:i}=e;if((null===t||void 0===t||!t.addHopeOrderLoading)&&Object(d.j)()){const{miscPaymentReferenceId:e,status:l}=null===t||void 0===t?void 0:t.addHopeOrderResponse,o={status:l,orderStatus:l};(null===a||void 0===a?void 0:a.miscPaymentReferenceId)!==e&&(o.miscPaymentReferenceId=e),i(o)}if((null===t||void 0===t||!t.giftCardPurchaseLoading)&&Object(d.Y)()){const{miscPaymentReferenceId:e,status:l}=null===t||void 0===t?void 0:t.giftCardPurchaseResponse,o={status:l,orderStatus:l};(null===a||void 0===a?void 0:a.wiCodePurchaseId)!==e&&(o.wiCodePurchaseId=e),i(o)}})({postOrderReducer:l,orderDetails:t,updateSetOrderDetails:n})},q=e=>{const{enableClickCollectScheduleOrder:t,allowScheduleOrderForDispositions:a,service:i,orderStatusFlag:l}=e,n=t&&(null===a||void 0===a?void 0:a.includes(i));return Object(o.Jd)(i)?!(Object(d.K)(e)&&!l||Object(d.sb)(e)||Object(d.Q)(e)||Object(d.rb)(e))&&(Object(d.O)(e)||Object(d.C)(e)||Object(d.B)(e),!0):n?Boolean(Object(d.mb)(e)||Object(d.u)(e)||Object(d.w)(e)):Object(d.mb)(e)||Object(d.nb)(e)},z=e=>{var t;return(null===e||void 0===e||null===(t=e.paymentReferences[0])||void 0===t?void 0:t.paymentType)!==(null===i.Vd||void 0===i.Vd?void 0:i.Vd.PAY_BY_CASH)?F(e):""},J=e=>{const{contentReducer:t,updateSetOrderDetails:a}=e;a({StoreRegistrationNumber:Object(o.Uc)(t),...Object(o.Tc)(t)})}},1109:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u}));var i=a(21),l=a(9),o=a(5),n=a(12);a(0);const d=async function(e,t,a,n){var d;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await i.a.registerEvent(null===l.a||void 0===l.a||null===(d=l.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:r,value:a||"",coupon:n||""}}},o.Bb)},r=e=>{i.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(n.P)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(n.P)(e.month),", ").concat(e.day)||"NA"},o.Bb)},s=e=>{i.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},o.Bb)},c=async e=>{await i.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},o.Bb)},u=async e=>{await i.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},o.Bb)}},1111:function(e,t,a){"use strict";a.d(t,"r",(function(){return f})),a.d(t,"b",(function(){return E})),a.d(t,"t",(function(){return C})),a.d(t,"k",(function(){return T})),a.d(t,"p",(function(){return D})),a.d(t,"e",(function(){return R})),a.d(t,"l",(function(){return w})),a.d(t,"i",(function(){return L})),a.d(t,"j",(function(){return M})),a.d(t,"f",(function(){return P})),a.d(t,"d",(function(){return F})),a.d(t,"c",(function(){return W})),a.d(t,"n",(function(){return H})),a.d(t,"m",(function(){return B})),a.d(t,"o",(function(){return U})),a.d(t,"s",(function(){return G})),a.d(t,"g",(function(){return V})),a.d(t,"h",(function(){return Y})),a.d(t,"a",(function(){return K})),a.d(t,"u",(function(){return q})),a.d(t,"q",(function(){return z}));var i=a(35),l=a(123),o=a(49),n=a(171),d=a(73),r=a(271),s=a(1114),c=a(11),u=a(14),v=a(0),O=a(24),b=a(55),m=a(71),j=a(5),h=a(265),p=a(1108),g=a(16),N=a(12);const S=(e,t,a)=>{null!==e&&void 0!==e&&e.isExternalTrackOrder||t||y(a)},I=e=>{let{displayOrderProcessingPage:t,orderDetails:a,service:i,updateSetOrderDetails:l,showOrderSummaryOnSentToPosFailed:o=!1}=e;(o||t&&(!Object(h.pb)(a)&&!Object(h.j)()&&!Object(h.Y)()||Object(h.i)(a)||Object(h.X)(a)||Object(h.W)(a)||Object(j.Hd)(i)&&!Object(h.qb)(a)))&&l({displayOrderProcessingPage:!1})},x=(e,t,a)=>{Object(h.p)(e)&&t({retryCountForGetOrderTrackingStatus:a+1})},f=e=>{var t,a;const{orderDetails:i,updateSetOrderDetails:l,userOrderState:o}=e;(null===i||void 0===i||null===(t=i.userStatus)||void 0===t?void 0:t.loggedIn)&&(null===JSON||void 0===JSON?void 0:JSON.parse(null===(a=sessionStorage)||void 0===a?void 0:a.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))||(Object(h.l)(i)&&Object(b.B)({orderDetails:i,userOrderState:o}),!Object(h.jb)(i)&&!Object(h.J)(i)||null!==i&&void 0!==i&&i.isAnalyticsUpdated||(Object(b.B)({orderDetails:i,userOrderState:o}),l({isAnalyticsUpdated:!0})))},E=e=>{localStorage.getItem(v.gd.POST_PAYMENT_TYPE)===v.qe.GIFT_CARD_PURCHASE&&(localStorage.setItem(v.gd.PAYMENT_STATUS,v.Ud.SUCCESS),Object(j.We)(e))},C=e=>{var t,a;const i=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING));if(i&&null!==Object&&void 0!==Object&&null!==(a=Object.keys(i))&&void 0!==a&&a.length){const{dispatch:t,updateSetOrderDetails:a,tenantReducer:l,userParams:o}=e;null!==i&&void 0!==i&&i.postOrderDetails&&0===Object.keys(null===i||void 0===i?void 0:i.postOrderDetails).length&&A({dispatch:t,orderDetails:i,updateSetOrderDetails:a,tenantReducer:l,userParams:o})}else D(e)},T=e=>{const{dispatch:t,orderDetails:a,updateSetOrderDetails:i,miscPaymentReferenceId:l,tenantReducer:o}=e;if((null===a||void 0===a?void 0:a.tenantId)&&Object(h.p)(a)&&i({displayOrderProcessingPage:!1}),null!==a&&void 0!==a&&a.orderId&&Object(h.eb)(a)){const e=setTimeout((()=>{const n=JSON.parse(sessionStorage.getItem(v.gd.ORDER_TRACKING)||"{}").orderId;null!==a&&void 0!==a&&a.orderId&&n&&n!==(null===a||void 0===a?void 0:a.orderId)?clearTimeout(null===a||void 0===a?void 0:a.dispatchDeliveryOrderTrackerTimer):((null===a||void 0===a?void 0:a.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===a||void 0===a?void 0:a.dispatchDeliveryOrderTrackerTimer),i({dispatchDeliveryOrderTrackerTimer:e}),A({dispatch:t,orderDetails:a,updateSetOrderDetails:i,miscPaymentReferenceId:l,tenantReducer:o}))}),Object(u.a)(c.K))}},y=e=>{const{dispatch:t,orderDetails:a,cartReducer:l,userOrderState:o,appStateReducer:n,updateSetOrderDetails:d}=e,{service:r}=a,s=(null===O.b||void 0===O.b?void 0:O.b.shouldGoogleSpotIgnoreOloFailure)||Object(h.ob)(a)||Object(h.l)(a);if(Object(j.Md)(r)&&s){var c;const e=null===n||void 0===n?void 0:n.userStatus;Object(j.l)(s,!(null!==l&&void 0!==l&&l.isBasketLoading),null===l||void 0===l||null===(c=l.cartData)||void 0===c?void 0:c.id,null===e||void 0===e?void 0:e.localized,null===a||void 0===a?void 0:a.tenantId)&&(d({isBasketsCreated:!0}),Object(j.I)(t,i.f,null===a||void 0===a?void 0:a.tenantId,o,null,null,null,null,null===a||void 0===a?void 0:a.deliveryAddress),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SELECTED_NOT_NOW,value:!1},t),Object(j.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1},t))}},D=e=>{var t;const{dispatch:a,postOrderReducer:i={},orderReducer:l={},orderDetails:o,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:r}=e,s=Object(p.g)({postOrderReducer:i,orderReducer:l,orderDetails:o,isCheckOrderDetails:!1}),{props:O,orderId:b,retryCountForGetOrderStatus:m,miscPaymentReferenceId:g,wiCodePurchaseId:N,orderTrackingID:S}=o;S||o&&(b||g||N)&&Object(h.tb)(o)?0===m||(Object(h.pb)(s)||Object(h.h)(o)||Object(h.V)(o))&&m<Object(u.a)(c.J)?A({dispatch:a,orderDetails:o,updateSetOrderDetails:n,userOrderStateDispatch:d,tenantReducer:r}):(Object(h.pb)(s)||Object(h.h)(o)||Object(h.V)(o))&&m>=Object(u.a)(c.J)&&(localStorage.setItem(v.Ud.STATUS_TEXT,v.Ud.FAILED),Object(j.ef)(O)):null!==e&&void 0!==e&&null!==(t=e.orderDetails)&&void 0!==t&&t.orderId&&Object(j.Ye)(O)},A=e=>{const{dispatch:t,orderDetails:a,updateSetOrderDetails:i=null,userOrderStateDispatch:l,tenantReducer:o,appStateReducer:n}=e;null!==a&&void 0!==a&&a.isExternalTrackOrder?R({dispatch:t,orderDetails:a,updateSetOrderDetails:i}):Object(h.j)()?L({dispatch:t,orderDetails:a,updateSetOrderDetails:i}):Object(h.Y)()?M({dispatch:t,orderDetails:a,updateSetOrderDetails:i}):_({dispatch:t,orderDetails:a,updateSetOrderDetails:i,userOrderStateDispatch:l,tenantReducer:o,appStateReducer:n})},R=e=>{const{dispatch:t,orderDetails:a,updateSetOrderDetails:i=null}=e,o={emailId:null===a||void 0===a?void 0:a.userEmail,phoneNo:null===a||void 0===a?void 0:a.userPhone,orderNo:null===a||void 0===a?void 0:a.posOrderId,tenantId:null===a||void 0===a?void 0:a.tenantId},n=(null===a||void 0===a?void 0:a.retryCountForGetOrderStatus)+1;t(Object(l.d)(o,(()=>k({count:n,updateSetOrderDetails:i}))))},_=e=>{var t,a,i;const{dispatch:l,orderDetails:o,updateSetOrderDetails:d=null,userOrderStateDispatch:r,tenantReducer:s,appStateReducer:c}=e,u=w(o),O=null===s||void 0===s||null===(t=s.componentOptions)||void 0===t||null===(a=t.homePage)||void 0===a?void 0:a.enableGuestOrderTracking,b=null===o||void 0===o?void 0:o.isActiveGuestTracking,m=localStorage.getItem(v.gd.FROM_ORDERTRACING_BUTTON);if(null!==o&&void 0!==o&&o.orderTrackingID||(b||u)&&O&&(null!==o&&void 0!==o&&o.otu||null!==o&&void 0!==o&&null!==(i=o.postOrderDetails)&&void 0!==i&&i.otu)&&m){let e;try{const t=new URL(null===o||void 0===o?void 0:o.otu);e=new URLSearchParams(t.search).get("PhoneNo")}catch(h){console.error("Error extracting phone number:",h),e="0"}const t={orderId:(null===o||void 0===o?void 0:o.orderTrackingID)||(null===o||void 0===o?void 0:o.id)||(null===o||void 0===o?void 0:o.orderId),tenantId:null===o||void 0===o?void 0:o.tenantId,Email:e},a=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;l(Object(n.g)(t,(e=>{var t;let i=!1;e.errors&&e.errors.length>0&&(i=!0),d({selectedPickupOrderCollectionMethod:null===e||void 0===e||null===(t=e.collectionPoint)||void 0===t?void 0:t.name});let l=localStorage.getItem(v.gd.USER_LANGUAGE);if("true"!==localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED)&&l!==(null===e||void 0===e?void 0:e.lang)){let t=null===e||void 0===e?void 0:e.lang,a={key:t,short_value:null===t||void 0===t?void 0:t.split("-")[1]};localStorage.setItem(v.gd.DEFAULT_LANGUAGE,JSON.stringify(a)),Object(j.id)({defaultLanguage:t,language:t},r),localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED,!0),setTimeout((()=>window.location.reload()),500)}k({count:a,orderDetails:o,hasError:i,updateSetOrderDetails:d})})))}else{const e={orderId:null===o||void 0===o?void 0:o.orderId,tenantId:null===o||void 0===o?void 0:o.tenantId,customerId:(null===o||void 0===o?void 0:o.customerId)||null},t=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;l(Object(n.f)(e,(()=>k({count:t,orderDetails:o,updateSetOrderDetails:d}))))}},w=e=>{var t;const a=localStorage.getItem("guestActiveOrders");let i;try{i=JSON.parse(a)}catch(l){i=[]}return null===(t=i)||void 0===t?void 0:t.some((t=>t.id===(null===e||void 0===e?void 0:e.orderId)))},L=e=>{if(Object(h.j)()){const{dispatch:t,orderDetails:a,updateSetOrderDetails:i}=e,l={tenantId:null===a||void 0===a?void 0:a.tenantId,miscPaymentReferenceId:null===a||void 0===a?void 0:a.miscPaymentReferenceId},o=(null===a||void 0===a?void 0:a.retryCountForGetOrderStatus)+1;t(Object(n.d)(l,(()=>k({count:o,orderDetails:a,updateSetOrderDetails:i}))))}},M=e=>{if(Object(h.Y)()){const{dispatch:t,orderDetails:a,updateSetOrderDetails:i}=e,l={tenantId:null===a||void 0===a?void 0:a.tenantId,wiCodePurchaseId:null===a||void 0===a?void 0:a.wiCodePurchaseId},o=(null===a||void 0===a?void 0:a.retryCountForGetOrderStatus)+1;t(Object(n.e)(l,(()=>k({count:o,orderDetails:a,updateSetOrderDetails:i}))))}},k=e=>{const{count:t,orderDetails:a,hasError:i,updateSetOrderDetails:l}=e;if(l){const e=setTimeout((()=>{(null===a||void 0===a?void 0:a.dispatchGetOrderStatusTimer)&&clearTimeout(null===a||void 0===a?void 0:a.dispatchGetOrderStatusTimer),l({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:e,hasError:i})}),Object(u.a)(c.L))}},P=e=>{e(Object(r.a)({object:Object(m.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},F=e=>{e(Object(s.a)({object:Object(m.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},W=e=>{var t,a,i,l,o;const{service:n,store:r,tenantId:s,deliveryAddress:c}=null===e||void 0===e?void 0:e.orderDetails;let u=(null===n||void 0===n?void 0:n.toUpperCase())===v.Jb.DELIVERY;const b=[{storeId:null===r||void 0===r?void 0:r.storeId,channel:O.b.channel,service:n,dropoffAddress:{city:null===c||void 0===c?void 0:c.city,state:null===c||void 0===c?void 0:c.state,zipCode:null===c||void 0===c?void 0:c.pinCode,street:null===c||void 0===c||null===(t=c.addressLines)||void 0===t?void 0:t.join(","),...u&&(null===e||void 0===e||null===(a=e.latLong)||void 0===a?void 0:a.lat)&&{latitude:null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.lat},...u&&(null===e||void 0===e||null===(l=e.latLong)||void 0===l?void 0:l.lng)&&{longitude:null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.lng}}}];null===e||void 0===e||e.dispatch(Object(d.d)({data:b,tenantId:s,isFavoritePage:!1}))},H=e=>{var t,a,i,d,r,s,c,u,O;const{dispatch:b,beforeUnload:m=!1,orderDetails:j={}}=e,{userStatus:p={}}=j,g=sessionStorage.getItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var N;m&&((null===(t=window)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||(null===(i=window)||void 0===i||null===(d=i.location)||void 0===d?void 0:d.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.CHECKOUT))||g||(b(Object(o.z)()),(null===(r=localStorage)||void 0===r?void 0:r.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.PAYMENT_STATUS))!==(null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED)&&(b(Object(n.h)()),b(Object(l.e)())),b(Object(l.a)({value:[]})),((null===(s=window)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||null!==p&&void 0!==p&&p.loggedIn||(null===p||void 0===p||!p.loggedIn)&&(null===(u=window)||void 0===u||null===(O=u.location)||void 0===O?void 0:O.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)&&Object(h.cb)(j))&&(null===(N=sessionStorage)||void 0===N||N.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))},B=e=>{var t,a;const{orderDetails:i,updateSetOrderDetails:l,tenantReducer:o}=e,n=null===o||void 0===o||null===(t=o.componentOptions)||void 0===t||null===(a=t.homePage)||void 0===a?void 0:a.enableGuestOrderTracking,{props:d,service:r,displayOrderProcessingPage:s,retryCountForGetOrderTrackingStatus:c,orderAcceptedLoading:u,isBasketsCreated:O,customer:b,tenantId:m,userStatus:p}=i;if(Object(h.tb)(i)&&!u){if((e=>Object(h.gb)(e)&&!(null!==e&&void 0!==e&&e.enableRetryCountForPickupOrderTracking))(i))sessionStorage.setItem(v.Ne.PICKUP_ORDER_CANCELLED,i.orderId),Object(j.Ye)(d);else if((e=>Object(h.S)(e)||Object(h.g)(e)||Object(h.U)(e))(i)){var g;null===(g=localStorage)||void 0===g||g.setItem(null===v.Ud||void 0===v.Ud?void 0:v.Ud.STATUS_TEXT,null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED);const t=null===i||void 0===i?void 0:i.showOrderSummaryOnSentToPosFailed;t&&Object(h.nb)(i)?(S(i,O,e),I({displayOrderProcessingPage:s,orderDetails:i,service:r,updateSetOrderDetails:l,showOrderSummaryOnSentToPosFailed:t}),x(i,l,c)):Object(j.ef)(d)}else S(i,O,e),I({displayOrderProcessingPage:s,orderDetails:i,service:r,updateSetOrderDetails:l}),x(i,l,c);!n&&(e=>{let{userStatus:t,customer:a,tenantId:i,orderDetails:l}=e;null!==t&&void 0!==t&&t.loggedIn||Object(h.j)()||Object(h.Y)()||G({trackDetails:{customer:a,tenantId:i},orderDetails:l})})({userStatus:p,customer:b,tenantId:m,orderDetails:i})}},U=e=>{var t,a;const{orderDetails:i,dispositionPaymentPage:l,userOrderStateDispatch:o}=e,n={deliveryAddress:Object(j.ac)(null===i||void 0===i?void 0:i.deliveryAddress,null===i||void 0===i?void 0:i.showStateCityAddAddress),store:null===i||void 0===i?void 0:i.store,type:null===i||void 0===i?void 0:i.service},d=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(v.gd.DISPOSITION_NEW)))||{};d.orderDetails=n,null===(a=localStorage)||void 0===a||a.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(d)),o({type:null===g.a||void 0===g.a?void 0:g.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...l,orderDetails:n}}})},G=e=>{const{trackDetails:t,orderDetails:a,redirectTo:i,props:l}=e,{customer:o,tenantId:n}=t;if(null!==a&&void 0!==a&&a.id||null!==a&&void 0!==a&&a.orderId){const e=null!==a&&void 0!==a&&a.orderId?{...a,tenantId:n}:{...Object(p.k)({postOrPastOrderDetails:{...a},customer:o}),tenantId:n};e.postOrderDetails={},e.dispatch=null,e.storesReducer=null,e.additionalChargeLines=null,e.additionalCharges=null,e.filteredFoodLines=null,e.foodLines=null,e.operatingTime=null,e.operatingTimeFromStoreReducer=null,e.props=null,sessionStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING,JSON.stringify(e)),i&&i(l)}else console.error(JSON.stringify(a)),Object(j.ef)(l)},V=e=>{const{dispatch:t,orderDetails:a,updateSetOrderDetails:i}=e,{orderId:l,customerId:o,tenantId:d}=a,r={orderId:l,tenantId:d,customerId:o,paramData:{reason:"default",channel:"web",isRefundable:!1}};t(Object(n.a)(r,(()=>{var e;null===(e=sessionStorage)||void 0===e||e.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING),A({dispatch:t,orderDetails:a,updateSetOrderDetails:i})}))),i({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowStoreClosePickupOrderCancelModal:!1})},Y=e=>{const{dispatch:t,orderDetails:a,updateSetOrderDetails:i}=e,{orderId:l,customerId:o,tenantId:d,selectedPickupOrderCollectionMethod:r,collectionPoint:{carNumber:s=null}={}}=a,c={orderId:l,tenantId:d,customerId:o,paramData:{name:r,bayNumber:0,checkInSummary:"",carNumber:s}};t(Object(n.b)(c,(e=>((e,t)=>{var a;null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e||null===(a=e.errors)||void 0===a?void 0:a.length)>0&&t({isShowStoreClosePickupOrderCancelModal:!0})})(e,i))))},K=e=>{var t,a;const{orderReducer:i,paymentsContentReducer:l,orderDetails:o,updateSetOrderDetails:n,props:d,tenantReducer:r}=e;var s,c,u;null!==i&&void 0!==i&&null!==(t=i.response)&&void 0!==t&&null!==(a=t.order)&&void 0!==a&&a.id&&(0===(null===i||void 0===i||null===(s=i.response)||void 0===s||null===(c=s.order)||void 0===c||null===(u=c.tenders)||void 0===u?void 0:u.length)?Object(j.Qe)(d):Object(p.u)({orderReducer:i,paymentsContentReducer:l,orderDetails:o,updateSetOrderDetails:n,tenantReducer:r}))},q=(e,t,a)=>{var i,l,o;const n=null!==e&&void 0!==e&&null!==(i=e.storesWithStatus)&&void 0!==i&&i.length?null===e||void 0===e||null===(l=e.storesWithStatus)||void 0===l?void 0:l[0]:{};(null===t||void 0===t||null===(o=t.store)||void 0===o?void 0:o.timings)&&a({store:{...null===t||void 0===t?void 0:t.store,...null===n||void 0===n?void 0:n.summary}})},z=e=>{var t,a,i,l,o,n,d,r,s,c;Object(b.z)({userType:null!==e&&void 0!==e&&null!==(t=e.userStatus)&&void 0!==t&&t.loggedIn?"lo-member":"lo-guest",tip_amount:null===e||void 0===e?void 0:e.tipCharge,bottle_deposit:null===e||void 0===e?void 0:e.bottleDepositChargeTotal,storeID:null===e||void 0===e||null===(a=e.postOrderDetails)||void 0===a||null===(i=a.store)||void 0===i?void 0:i.storeId,payment_type:null===e||void 0===e||null===(l=e.paymentReferences)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.paymentType,state:null===e||void 0===e||null===(n=e.store)||void 0===n||null===(d=n.address)||void 0===d?void 0:d.state,orderTime:Object(N.S)(null===e||void 0===e?void 0:e.displayFormatOrderTime,v.sb.H_MM_A,v.sb.HH_mm),CheckInTime:Object(N.e)(v.sb.HH_mm),checkInlocation:null===e||void 0===e||null===(r=e.collectionPoint)||void 0===r?void 0:r.name,eventType:2,disposition:null===e||void 0===e?void 0:e.service,purchase_day:Object(N.e)(v.sb.DDDD),transaction_id:null===e||void 0===e||null===(s=e.paymentReferences)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.transactionId})}},1112:function(e,t,a){"use strict";a.d(t,"g",(function(){return b})),a.d(t,"j",(function(){return m})),a.d(t,"l",(function(){return j})),a.d(t,"k",(function(){return h})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return g})),a.d(t,"n",(function(){return S})),a.d(t,"e",(function(){return I})),a.d(t,"d",(function(){return x})),a.d(t,"m",(function(){return f})),a.d(t,"f",(function(){return E})),a.d(t,"h",(function(){return C})),a.d(t,"i",(function(){return T})),a.d(t,"a",(function(){return y}));var i=a(21),l=a(5),o=a(9),n=a(146),d=a(6),r=a(406),s=a(398),c=a(20),u=a.n(c),v=a(0),O=a(2);const b=async(e,t)=>{var a;await i.a.registerEvent(null===o.a||void 0===o.a||null===(a=o.a.menuNavigation)||void 0===a?void 0:a.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},l.Bb)},m=async(e,t)=>{const a=[];a.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:a[0]},l.Bb)},j=async(e,t,a)=>{const o=[];o.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a]}),await i.a.registerEvent(e.eventType,{data:o[0]},l.Bb)},h=async(e,t,a,o)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a],[o]:e.selectedData[o]}),await i.a.registerEvent(void 0,{data:n[0]},l.Bb)},p=(e,t)=>{const a=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===a||void 0===a?void 0:a.find((t=>{let{isHidden:a=!1,items:i}=t;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},g=(e,t,a,i,l,o)=>{var n;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.length)&&0===Object.keys(t).length?N(e.categories[0],a,i,l):Object.keys(t).length>0?N(t,a,i,l):N(e,a,i,l),d},N=(e,t,a,i)=>{var o;let n={},d=[];return d=null===e||void 0===e||null===(o=e.products)||void 0===o?void 0:o.map((e=>(e.items.forEach(((e,o)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===s.o.PRICE_WITHOUT_TAX.toLowerCase())),r=Object(l.Jc)(d.value,i).toFixed(2);r=r?parseFloat(r):"NA",n={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:r,item_category:t,item_list_name:t,item_list_id:a,index:o,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),n))),d},S=async e=>{var t,a,n;await i.a.registerEvent(null===o.a||void 0===o.a||null===(t=o.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.item_list_name,items:e}}},l.Bb)},I=(e,t)=>{let a={},i=e.find((e=>{var a;return(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const l in e.categories)if(e.categories[l].id===t)return a=e.categories[l],!0;return!1}))),{selectedCategory:i,selectedSubcategory:a}},x=function(e,t,a,i){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const o=(r=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:a,categories:i}=e,l=!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase());return l||(l=i.find((e=>{let{url:t,isHidden:a}=e;return!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())}))),l})));var d,r,s;if(u()(o)){if(t&&(a("category"),i(!0)),!u()(e)){var c;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&n.scroller.scrollTo(null===t||void 0===t||null===(c=t.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:l?-140:-100})}}else n.scroller.scrollTo(null===o||void 0===o||null===(s=o.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:l?-150:-100});return!u()(o)},f=e=>null===e||void 0===e?void 0:e.isStoreClosed,E=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:a}=r.d;let i=Object(d.translateWithI18Next)(t),l=Object(d.translateWithI18Next)(a);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=l),{btnText:i}},C=(e,t)=>{0===e.length&&Object(l.Ob)(document.title,Object(d.translateWithI18Next)(s.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(s.s))},T=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let a=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;a.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),a},y=e=>{const{searchMode:t,filterList:a,dietaryList:i,products:l,viewUp:o,tenantData:n,getCardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:b}=e;return(t.isSearchedMode||[...a,...i].length)&&null!==l&&void 0!==l&&l.length?Object(O.jsx)("div",{className:o?"small-menu-container":"medium-menu-container",children:Object(O.jsx)(v,{productList:l,cardType:o?"small":"medium",tenantData:n,cardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,categoryId:b})}):t.isSearchedMode&&u()}},1126:function(e,t,a){"use strict";var i=a(106),l=a(92),o=a(4),n=a(61),d=a(6),r=a(3),s=a(85),c=a(44),u=a(132),v=a(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:a={},setConfirmationModel:O=null,itemRemoveHandler:b=null,isRemoveItemLoading:m=!1,setCouponModal:j=null,setRemoveItem:h=null,flag:p="",quantityAction:g="",updateItemQuantity:N=null,addtoCartClinckHandler:S=null,setAddToClickParms:I=null,addToClickParms:x={},selectedStoreData:f=null,clickHandler:E=null,title:C="",confirmButtonText:T="",removeCouponHandler:y=null,couponCode:D="",couponTitle:A="",itemRemoveWrapper:R=null,giftCardOrVoucherErrMsg:_="",giftCardErrFirstMsg:w=""}=e,{userOrderStateDispatch:L}=Object(r.useContext)(s.a),M=Object(u.a)(),{REMOVE_COUPON:k}=n.a,{CONTINUE:P,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:W,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:H,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:B}=o.a;return Object(v.jsx)(i.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(l.a,{title:p===k?C:Object(d.translateWithI18Next)(W),giftCardOrVoucherErrMsg:p===k?_:Object(d.translateWithI18Next)(B),giftCardErrFirstMsg:p===k?w:Object(d.translateWithI18Next)(H),altText:"",confirmButtonText:p===k?T:Object(d.translateWithI18Next)(P),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:i,itemRemoveHandler:l,isRemoveItemLoading:o,setCouponModal:d,setRemoveItem:r,flag:s,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:O,setAddToClickParms:b,addToClickParms:m,selectedStoreData:j,clickHandler:h,events:p,removeCouponHandler:g,couponCode:N,couponTitle:S,itemRemoveWrapper:I,userOrderStateDispatch:x,sliceDispatch:f}=e;const{EDIT_ITEM:E,REMOVE_ITEM:C,QUANTITY_INCREASE_DECREASE:T,STORE_DISPOSITION_UPDATE:y,REMOVE_COUPON:D}=n.a;if(d(!1),s===C&&I({isAddedPromosCoupon:t,item:a,setConfirmationModel:i,itemRemoveHandler:l,isRemoveItemLoading:o,setRemoveItem:r,sliceDispatch:f}),s===T&&(x({type:c.p,value:{couponErrorMessage:"REMOVE"}}),v(a,u,p)),s===E){const{event:e,data:t,miniPDPData:a,totalAmount:i,cartId:l,pdpDataForUpdateFoodLine:o,cartData:n}=m;O(e,t,a,l,i,o,n),b({}),d(!1)}s===y&&h(p,j),s===D&&g(N,S)})({isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:O,itemRemoveHandler:b,isRemoveItemLoading:m,itemRemoveWrapper:R,setCouponModal:j,setRemoveItem:h,flag:p,quantityAction:g,updateItemQuantity:N,addtoCartClinckHandler:S,setAddToClickParms:I,addToClickParms:x,selectedStoreData:f,clickHandler:E,events:e,removeCouponHandler:y,couponCode:D,couponTitle:A,userOrderStateDispatch:L,sliceDispatch:M}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},1130:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var i=a(3),l=a.n(i),o=a(62),n=a(28),d=a(73),r=a(5),s=a(35),c=a(6),u=a(41),v=a(2);var O=e=>{const{modalContent:t,onDispositionMethodSubmit:a,setRef:i=null}=e,{contentText:o="",infoObject:n=null,orderTypes:d=[]}=t,r=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{a(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(l.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:o}),n&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:n.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:a,"data-testid":"form-component",children:r})]})})},b=a(144),m=a(55);var j=e=>{Object(i.useEffect)((()=>{Object(m.o)()}),[]);const{handleClose:t,DispositionModuleForm:a,headerText:o,modalTitleId:n=""}=e;return Object(v.jsx)(l.a.Fragment,{children:Object(v.jsx)(b.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:n,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:o,autoFocus:!0,children:a})})},h=a(21),p=a(9),g=a(0),N=a(407),S=a(16);const I=(e,t)=>{const a=[];for(const o of e){var i,l;const e=null===o||void 0===o||null===(i=o.fields)||void 0===i||null===(l=i.name)||void 0===l?void 0:l.split("-"),n=e[e.length-1].trim().toUpperCase();if(t&&null!==n&&void 0!==n&&n.includes(N.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:r=!1,name:s,showOption:c=!0,id:u="",dispositionType:v}=o.fields;a.push({buttonText:d,selectDefault:r,type:s,showOption:c,id:u,dispositionType:v})}return a},x=e=>{const{headline:t="",subHeadline:a="",subHeadlineType:i="",title:l=""}=e[0].fields||{};return{modalHeaderText:l,contentText:t,infoObject:{type:i,infoText:a}}},f=(e,t,a,i)=>{var l;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:o,SHOW_CLEAR_CART_ALERT:n}=S.a;null!==e&&void 0!==e&&null!==(l=e.foodLines)&&void 0!==l&&l.length&&!i?Object(r.Fe)(t,{},n,o,a):a()};var E=a(85),C=a(24),T=a(113),y=a(92),D=a(236),A=a(1103),R=a(158),_=a(133),w=a(52);var L=e=>{const{CURRENTLY_CLOSED:t,SORRY:a}=A.a,{userOrderState:l,userOrderStateDispatch:u}=Object(i.useContext)(E.a),{contentData:b={}}=l.dispositionStateData,L=Object(n.c)((e=>e.tenantReducer)),{tenantId:M,disableOrderTypeAnalytic:k,isSpecialEventEnabled:P,enableDeliveryMenuOption:F}=L,{deeplinkSelectedStoreId:W,deepLinkStoreMode:H,isDeepLinkURL:B}=l,U=Object(r.Td)(b)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:l=[],supportedDispositions:o=[]}=i,n={modalHeaderText:"",modalContent:{}},d=a?o:o.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(a=t.dispositionType)||void 0===a?void 0:a.toUpperCase())!==g.Cf}));n.modalContent.orderTypes=I(d,t);const{modalHeaderText:r,contentText:s,infoObject:c}=x(l);return n.modalHeaderText=r,n.modalContent.contentText=s,n.modalContent.infoObject=c,n}({dispositionData:b,deepLinkStoreMode:H,isSpecialEventEnabled:P,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:V=""}=U;const{SEARCH_ORDER_DATA:Y,MENU_URL:K,DISPOSITION_DATA:q,CURRENT_STORE_INFO:z,SCHEDULE_ORDER_TIME_DATA:J,SELECTED_TILE_DATA:X,DISPOSITION_METHOD:Q,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ae,SET_REDIRECTION_PATH:ie}=S.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:le,TYPE_TAKE_WAY:oe,TYPE_DELIVERY:ne,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:re,INVALID_QR_TEXT:se,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:Oe,SWITCH_TO_DINEIN_TEXT:be}=N.a,{ENABLE_ADDRESS_LOCALISATION:me,SHOW_MAP_VIEW_BUTTON:je}=w.a,he=l&&l.dispositionStateData&&l.dispositionStateData.dispositionType?l.dispositionStateData.dispositionType:null;let pe="";const ge=Object(r.Sd)(l.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):l.dispositionNew,Ne=Object(n.b)(),Se=Object(o.g)(),[Ie,xe]=Object(i.useState)(""),[fe,Ee]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ce={},qrCodeScanTime:Te}=Object(n.c)((e=>e.cartReducer)),{customerId:ye=""}=Object(n.c)((e=>e.profileReducer));let De=Object(n.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:Re,selectedStoreDetailsDL:_e={}}=Object(n.c)((e=>Object(r.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:we}}=N.a;Object(i.useEffect)((()=>{Ne(Object(d.u)()),Ne(Object(d.t)()),Ne(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ce.HOME_PAGE}))})(H,Se)}),[Ne]);const Le=Object(i.useCallback)(((e,t)=>{e.stopPropagation();f(Ce,u,(()=>{Ee({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[we,u,Ce]);Object(i.useEffect)((()=>{H&&Ne(Object(d.l)({storeId:W,tenantId:M},null,(()=>{Ee({showError:!0,errMsg:Object(c.translateWithI18Next)(se),errDesc:null,buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Le(e,!1)})})))}),[re,se,H,W,Ne,M]);const Me=(e,t,a,i)=>{e.stopPropagation(),e.preventDefault();const l=t.split("-");if(pe=l[l.length-1].trim(),-1!==pe.toLowerCase().indexOf("dine")&&(pe=le),i&&(pe=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(r.h)(e.selectedDispositionType)}),await h.a.registerEvent(void 0,{data:t[0]},r.Bb)})({selectedDispositionType:pe}),H){const e={data:[{storeId:W,channel:C.b.channel,service:g.fe},{storeId:W,channel:C.b.channel,service:g.Eb}],store:[{..._e,service:g.fe},{..._e,service:g.Eb}],tenantId:M,setStatusFlag:!1,isFavoritePage:!1},t=()=>{xe(pe),Ne(Object(d.d)(e)),u({type:Q,value:{dispositionType:pe}})};f(Ce,u,t,a)}else[le,oe,ne,de].includes(pe.toUpperCase())&&(u({type:ae,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:_.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,_.a),u({type:q,value:{showDisposition:!1}}),u({type:Q,value:{dispositionType:pe}}),u({type:me,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:o=!1,loggedIn:n=!1}=De,s=Object(r.od)(o,n);((e,t)=>{var a;t||Object(m.p)(null===p.a||void 0===p.a||null===(a=p.a.selectOrderType)||void 0===a?void 0:a.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(r.h)(pe),"%userType%":s},k)},ke=async(e,t)=>{const a=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(r.Mb)(t)));if(null!==a&&void 0!==a&&a.length){var i,o,n,d,v,O,b,j,h,p,N,S,I;const e={time:"ASAP",interval:null===a||void 0===a||null===(i=a[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(r.nb)(Ne,!0,Te,null===a||void 0===a?void 0:a[0],Object(r.Mb)(t),ye,e);Ne(Object(s.f)({data:c,tenantId:M})),u({type:$,value:{oldvalue:ge,newValue:{store:null===a||void 0===a?void 0:a[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===l||void 0===l||null===(o=l.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===a||void 0===a?void 0:a[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===l||void 0===l||null===(n=l.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress})),Object(r.ze)(null===a||void 0===a||null===(d=a[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(O=v[0])||void 0===O||null===(b=O.address)||void 0===b||null===(j=b.addressLines)||void 0===j?void 0:j[0],R.a.ALREADY_SERACHED_LOCATIONS),Object(r.vf)();const g={storeID:null===a||void 0===a||null===(h=a[0])||void 0===h?void 0:h.id,disposition:t,postCode:null===a||void 0===a||null===(p=a[0])||void 0===p||null===(N=p.addresses)||void 0===N||null===(S=N[0])||void 0===S||null===(I=S.address)||void 0===I?void 0:I.pinCode};Object(m.y)(g),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let a=e||null;u({value:{selectedData:{}},type:X}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),u({value:a,type:z}),Ne(Object(T.a)({...De,localized:!0})),u({value:{selectedDateTime:t},type:J}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",he),localStorage.setItem("tenantReducer",JSON.stringify(L)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),Se.push({pathname:"".concat(K)})})(null===a||void 0===a?void 0:a[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===le?Ee({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>Me(e,g.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===oe&&Ee({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(be),buttonCTA:e=>Me(e,g.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(Ae.length>0&&!Re&&Ie&&H){var e,i,l;((e,i)=>{null!==e&&void 0!==e&&e.length?ke(e,he):Ee({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(a)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Le(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,a,i,l,o,n,d,r,s,c,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(O=v.asap)||void 0===O?void 0:O.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(i=e.name)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.value)}}),[Ae,Re,H]);const Pe=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:ae,value:{findAKFC:window.location.pathname===g.Ce.FIND_STORE}}),B&&Object(r.Bd)(Se)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Pe(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(O,{modalContent:G,onDispositionMethodSubmit:Me}),We=Object(v.jsx)(j,{handleClose:Pe,DispositionModuleForm:Fe,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===fe||void 0===fe?void 0:fe.showError)&&Object(v.jsx)(D.a,{handleClose:null,CartAlertForm:Object(v.jsx)(y.a,{title:null===fe||void 0===fe?void 0:fe.errMsg,contentMsg:null===fe||void 0===fe?void 0:fe.errDesc,confirmButtonText:null===fe||void 0===fe?void 0:fe.buttonText,confirmHandler:null===fe||void 0===fe?void 0:fe.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),We]})}},1134:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var i=a(3),l=a(75),o=a.n(l),n=a(144),d=a(5),r=(a(0),a(1099)),s=a(61),c=a(85),u=a(16),v=a(28),O=a(145),b=a(262),m=a(35),j=a(15),h=a(2);const p=e=>{const{basketLineItemId:t,customizableFoodItemsList:a,SetCustomizableFoodItemsList:l,calculateTotalAmountHandler:o,isEditSelection:n}=e,p=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=b.a,{userOrderState:N,userOrderStateDispatch:S}=Object(i.useContext)(c.a),{MINI_PDP_DATA:I,FROMFLAGEDIT:x,EDIT_CLICKED:f}=u.a,{QUANTITY_ACTION:E}=s.a,C=a[t],T=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[y,D]=Object(i.useState)(!1),{Single_Arrow_Edit:A}=j.a,R=(e,i)=>{C.quantity=i===E.Increase?(null===C||void 0===C?void 0:C.quantity)+1:(null===C||void 0===C?void 0:C.quantity)-1;const n=a;n[t]=C,l(n),o()};Object(i.useEffect)((()=>{var e;let t=!0;null===C||void 0===C||null===(e=C.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[C.modGrps]),Object(i.useEffect)((()=>{Object(d.tc)(T,C,N,y,p,m.v),D(!1)}),[T,y]);return Object(h.jsxs)(h.Fragment,{children:[n?Object(h.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,a;S({type:I,value:{id:null===C||void 0===C||null===(e=C.foodItems)||void 0===e?void 0:e.id,flag:x,foodLineId:t}}),S({type:g}),S({type:f,value:{cartEditClicked:!1}}),p(Object(O.c)({tenantId:null===C||void 0===C?void 0:C.tenantId,catalogName:null===C||void 0===C?void 0:C.catalog,itemId:null===C||void 0===C||null===(a=C.foodItems)||void 0===a?void 0:a.id})),D(!0)})(),children:Object(h.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"DisplayNameFont",children:null===C||void 0===C?void 0:C.displayName}),Object(h.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(C.modGrps)})]}),Object(h.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:A,alt:"Arrow Icon"})]})}):Object(h.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"DisplayNameFont",children:null===C||void 0===C?void 0:C.displayName}),Object(h.jsx)("div",{className:"customizableProducts-Default",children:Object(d.uc)(C.modGrps)})]}),Object(h.jsx)("div",{className:"PlusAndMinus",children:Object(h.jsx)(r.a,{itemCount:null===C||void 0===C?void 0:C.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:R,quantityAction:E,maxItemCountPerLineItem:null===C||void 0===C?void 0:C.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(h.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var N=a(6);const S=e=>{const{addNewProductHandler:t,currencySymbol:a,updateCartHandler:i,customizableFoodItemsList:l,SetCustomizableFoodItemsList:o,totalAmount:n,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s,checkItemExpiry:c}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,O=Object.keys(l).length;return Object(h.jsxs)("div",{children:[Object.keys(l).map((e=>Object(h.jsx)(p,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:l,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s}))),r?Object(h.jsx)("div",{className:"editSelectionsItem",children:Object(h.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(N.translateWithI18Next)(u)})}):Object(h.jsxs)("div",{className:O<2?"FinalButton":"FinalDivButtons",children:[Object(h.jsx)("div",{className:"AddNew",children:Object(h.jsx)("span",{className:"addNewItem",onClick:t,children:Object(N.translateWithI18Next)(u)})}),Object(h.jsx)("div",{className:"ButtonAndPopupLink",children:Object(h.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{c({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:i,props:e})},children:[Object(h.jsx)("span",{className:"TextInButton",children:Object(N.translateWithI18Next)(v)+" "}),Object(h.jsx)("span",{children:a+n})]})})]})]})};var I=a(1109),x=a(397);const f=e=>{var t;const{filteredPreviousData:a,tenantData:l,dname:r,cardId:s,categoryId:c,categoryName:u,categoryUrl:O,itemCount:b,availability:j,imageName:p,itemFoodlineId:g,customizable:N,isFavouriteMenu:f=!1,cartData:E,clickHandler:C,handleClose:T,foodId:y,isEditSelection:D,headerText:A,pricewithouttax:R}=e,_=Object(v.b)(),{discountTotal:w="",couponCode:L=""}=Object(d.zb)(E)||{},M=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),k=Object(d.od)(null===M||void 0===M?void 0:M.localized,null===M||void 0===M?void 0:M.loggedIn),{flatResponse:{productMapById:P={}}={}}=null!==(t=Object(d.Pb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=l,[W,H]=Object(i.useState)({}),[B,U]=Object(i.useState)(0),{currencyConversionFactor:G,currencySymbol:V,componentOptions:Y}=l,{web:{global:{showPriceWithTax:K=!1}={}}={}}=null!==Y&&void 0!==Y?Y:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:T,modalTitle:A},[z,J]=Object(i.useState)(-1),[X,Q]=Object(i.useState)([]),Z=()=>{J(-1),T&&T()},$=()=>{0===X.length&&0===z?Z():X&&null!==X&&void 0!==X&&X.length&&z<=X.length&&((()=>{var e,t,a,i;_(Object(m.x)({params:{basketId:null===E||void 0===E?void 0:E.id,basketLineItemId:null===(e=X[z])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=X[z])||void 0===t?void 0:t.quantity,isBundle:Object(x.e)((null===(a=X[z])||void 0===a?void 0:a.foodItemId)||(null===(i=X[z])||void 0===i?void 0:i.mdmId))}))})(),J(z+1))};Object(i.useEffect)((()=>{$()}),[X]),Object(i.useEffect)((()=>{if(-1===z){var e;const t={...W};null===E||void 0===E||null===(e=E.foodLines)||void 0===e||e.forEach((e=>{var a,i;if(null!==e&&void 0!==e&&null!==(a=e.item)&&void 0!==a&&a.customizable&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===y){var o,n;const a=Object(d.fd)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:a,displayName:null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.displayName,modGrps:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps,maxItemCountPerLineItem:null===l||void 0===l?void 0:l.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===E||void 0===E?void 0:E.catalog,categorySelected:c}}})),H(t),J(0)}else z===X.length?(Z(),_(Object(m.u)(new Date))):$()}),[null===E||void 0===E?void 0:E.foodLines]),Object(i.useEffect)((()=>{ee()}),[W]);const ee=()=>{let e=0;Object.values(W).forEach((t=>{const a=K?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*a})),U((e/G).toFixed(2))},te=Object(h.jsx)(n.a,{...q,children:Object(h.jsx)(S,{...e,"data-testid":"ModalTemplate",filteredPreviousData:a,addNewProductHandler:e=>{const t={id:s,itemCount:b,product:{productName:r,productImage:p,productPrice:Object(d.Fc)(j[0],R,G,K)},itemFoodlineId:g},a={catId:c,catName:u,catUrl:O};f?C(e,t,N,a):(C(e,t,N,a),T&&T())},currencySymbol:V,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==E&&void 0!==E&&E.id&&F){var e,t;const a=Object.values(W),i=a.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));Q(i);const o=null===a||void 0===a?void 0:a[0],{foodItems:n,unitPrice:r,quantity:s,previousQty:c}=null!==o&&void 0!==o?o:{},u=s-c;let v="".concat(Object(d.uc)(null===n||void 0===n?void 0:n.modGrps));const{categoryId:O="NA",categoryName:b="NA"}=null!==(e=null===P||void 0===P?void 0:P[null===n||void 0===n?void 0:n.id])&&void 0!==e?e:{};Object(I.a)({item_name:Object(d.oc)(null===n||void 0===n?void 0:n.name),item_id:Object(d.oc)(null===n||void 0===n?void 0:n.id),item_category:b,price:Object(d.oc)(r/G),item_variant:Object(d.oc)(null===v||void 0===v?void 0:v.trim()),item_list_name:b,item_list_id:O,index:1,quantity:u,coupon:L,discount:w/G,currency:null===l||void 0===l?void 0:l.currencyShortName},k,u*(null===d.oc||void 0===d.oc||null===(t=Object(d.oc)(r/G))||void 0===t?void 0:t.toFixed(2)),L,null===l||void 0===l?void 0:l.currencyShortName)}},customizableFoodItemsList:W,SetCustomizableFoodItemsList:H,totalAmount:B,calculateTotalAmountHandler:ee,isEditSelection:D,handleClose:T})});return o.a.createPortal(te,document.getElementById("modal-popups"))}},1135:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(158),n=a(403),d=a(6),r=a(5),s=a(85),c=a(0),u=a(15),v=a(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:a,isMobile:O,onPositionChangeHandler:b,centerIndex:m,isVisible:j,setShowCard:h,locationAlert:p,setStoreMarker:g=r.N,passAddress:N,storeCardHeight:S,latLongValue:I}=e,{PLACE_PIN:x}=o.a,{userOrderState:f}=l.a.useContext(s.a),{dispositionStateData:E={}}=f,{dispositionType:C=localStorage.getItem("dispositionType")}=E;let T,y,D=l.a.createRef();const[A,R]=Object(i.useState)(I),[_,w]=Object(i.useState)(!1),{RedMarker:L,RedMarkerNoText:M,BlackMarker:k,ArrowIcon:P}=u.a;Object(i.useEffect)((()=>{T=F(A),y=W(A)}),[]),Object(i.useEffect)((()=>{R(I),w(!1)}),[I]),Object(i.useEffect)((()=>{F(A),y=W(A)}),[A,m,_]);const F=e=>new window.google.maps.Map(D.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[m]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!O,gestureHandling:"greedy"}),W=e=>{const t=new window.google.maps.Geocoder;let a=e;T=F(a),j?_||(T.addListener("zoom_changed",(()=>{h(!1),w(!0)})),T.addListener("drag",(()=>{h(!1),w(!0)}))):(T.addListener("drag",(()=>{a={lat:T.getCenter().lat(),lng:T.getCenter().lng()},y.setPosition(a)})),window.google.maps.event.addListener(T,"dragend",(function(){!function(e,t,a){e.geocode({location:a},((e,t)=>{"OK"===t&&e[0]&&N(e[0].formatted_address)}))}(t,0,a)})));let i=Object(r.ad)(Array.isArray(a)&&a.length>0,a,[a]).map(((e,t)=>{let a=new window.google.maps.Marker({position:e,map:T,visible:!0,icon:Object(r.qd)(!j,!_&&j&&t===m)?(null===C||void 0===C?void 0:C.toUpperCase())===c.Df?M:L:k});return a.addListener("click",(function(e){g(e.latLng)})),a}));return Object(r.ad)(Array.isArray(a),i,i[0])};return Object(v.jsxs)(l.a.Fragment,{children:[!t&&((null===C||void 0===C?void 0:C.toUpperCase())!==c.Df||""!==a&&a?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(r.ad)(p,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(x)})})),O&&!_&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(S+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(r.hb)(0===m,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(r.ad)(0===m,e.preventDefault(),b(0)),children:Object(v.jsx)(n.a,{srcFile:P,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(m===A.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>m===A.length-1?e.preventDefault():b(1),children:Object(v.jsx)(n.a,{srcFile:P,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:D})]})}},1142:function(e,t,a){"use strict";var i=a(3),l=a(28),o=a(62),n=a(1146),d=a(1096),r=a(145),s=a(16),c=a(410),u=a(85),v=a(1179),O=a(35),b=a(5),m=a(400),j=a(0),h=a(61),p=a(398),g=a(20),N=a.n(g),S=a(397),I=a(2);const x={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},f=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),E=(e,t,a)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:a}};t.a=Object(o.j)((e=>{var t,a;const{productList:o=[],cardType:j="",tenantData:g={},categoryId:C,categoryName:T,categoryUrl:y,catalogs:D,storeClosedData:A,setShowTopScrollBtn:R}=e,{QUANTITY_ACTION:_}=h.a,{ADD_TO_CART_CLICK:w,PLP_PDP_DETAILS:L,MINI_PDP_DATA:M,FROMFLAGPLP:k}=s.a,{PlpProductCard:P={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=m.a,[W,H]=Object(i.useState)(1),B=Object(l.b)(),U=Object(l.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:V={}}={}}=null!==(a=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==a?a:{},{cartData:Y={}}=Object(b.sd)(U),K=Object(l.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,z]=Object(i.useState)(e.selectedCat),[J,X]=Object(i.useState)(!1),{userOrderState:Q,userOrderStateDispatch:Z}=Object(i.useContext)(u.a),[$,ee]=Object(i.useState)(null),{showCartAlert:te}=Object(c.a)(void 0,void 0,void 0,void 0,Z,B,void 0);Object(i.useEffect)((()=>{X(!1)}));const{addToCartAnalyticsOnly:ae}=Object(c.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,B,void 0),ie=(e,t,a,i)=>{var l;if(K.localized&&N()(null===U||void 0===U||null===(l=U.cartData)||void 0===l?void 0:l.id)){const{id:e,itemCount:t}=i,a=[{Id:e,categoryId:C,quantity:t+1,modGrps:[]}],l=!0;Object(b.I)(B,O.f,null===g||void 0===g?void 0:g.tenantId,Q,null===U||void 0===U?void 0:U.qrCodeScanTime,l,a)}else((e,t,a,i)=>{var l;const{id:o,itemCount:n,product:d,itemFoodlineId:s}=i,{catId:c}=a,{id:u="",name:v="",url:b=""}=null!==(l=null===V||void 0===V?void 0:V[c])&&void 0!==l?l:{};if(e&&e.stopPropagation(),ee(o),K.localized){if(t)z(c),Z({type:M,value:{id:o,flag:k,foodLineId:""}}),Z({type:F}),B(Object(r.c)({tenantId:g.tenantId,catalogName:D,itemId:o}));else if(0===n){var m;B(Object(O.a)({params:{basketId:null===U||void 0===U||null===(m=U.cartData)||void 0===m?void 0:m.id},tenantId:g.tenantId},[{Id:o,categoryId:u,quantity:n+1,modGrps:[],categoryName:v,categoryUrl:b}])),B(Object(O.u)(new Date)),ae(E(o,d,s),_.Increase,g.currencyConversionFactor)}else if(n>0){var j;B(Object(O.x)({params:{basketId:null===U||void 0===U||null===(j=U.cartData)||void 0===j?void 0:j.id,basketLineItemId:s},tenantId:g.tenantId},{quantity:n+1,isBundle:Object(S.e)(o)})),B(Object(O.u)(new Date)),ae(E(o,d,s),_.Increase)}}else X(!0),Z({type:w,value:{addToCart:!0,productItemId:o,categoryId:C,oldProduct:d,customizable:t,catalogs:D,fromPdpPage:!1}})})(e,t,a,i)},le=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{le&&q&&Q.minipdpData.itemId===le.id&&B(Object(O.v)({showProductListingModal:!0,categorySelected:q}))}),[le]);const oe=()=>{te(!0)},ne={...x,beforeChange:(e,t)=>{H(Math.round(t+1))},variableWidth:!1},de=(t,a,i,l)=>{const{catId:o,catName:n,catUrl:d}=l,{productId:r,productInfo:s}=a;t.preventDefault(),t.stopPropagation();const c={productId:r,customizable:i,catId:o,catalogName:D,productInfo:s,isFromPlp:!0,categoryName:n,categoryUrl:d};Z({type:L,value:c}),localStorage.setItem(p.p,JSON.stringify(c)),e.history.push({pathname:"/pdp/".concat(C,"/").concat(r)})},re=(e,t,a)=>{B(Object(r.a)({tenantId:e,customerId:a},t))},se=(e,t,a)=>{B(Object(r.b)({tenantId:e,customerId:t,itemId:a}))},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,a=Object(b.ve)(t.additionalProperties);return Object(I.jsx)(n.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:P,tenantData:g,servingCount:a.servings,button:e.button,categoryId:C,categoryName:T,categoryUrl:y,clickHandler:ie,customizable:t.customizable,onCardClickHandler:de,userParams:K,openAlertModal:oe,storeClosedData:A,addFavourite:re,removeFavourite:se,setShowTopScrollBtn:R,"data-testid":"menu-card-component",...a,...t},t.id)};return Object(I.jsxs)("div",{className:"product-container",children:[J&&Object(I.jsx)(v.a,{}),"carousal"===j?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"individual-card-counter",children:[W,"/",o.length]}),Object(I.jsx)(d.b,{settings:ne,children:f(o,ce)})]}):f(o,ce)]})}))},1143:function(e,t,a){"use strict";a.d(t,"b",(function(){return X}));var i=a(3),l=a.n(i),o=a(420),n=a.n(o),d=a(395),r=a(404),s=a(263),c=a(85),u=a(16),v=a(120),O=a(28),b=a(73),m=a(12),j=a(5),h=a(62),p=a(113),g=a(158),N=a(46),S=a(6),I=a(4),x=a(35),f=a(24),E=a(107),C=a(0),T=a(394),y=a(411),D=(a(1155),a(15)),A=a(55),R=a(600),_=a(2);const{ORDER_TYPE:w,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:M,EDIT:k,SCHEDULE_FOR_YOUR_ORDER_TEXT:P,DATE:F,TIME:W,CONFIRM_BTN_TEXT:H,DELIVERY_UNAVAILABLE_ERROR:B,SWITCH_TO_TAKEAWAY_TEXT:U,ERROR_MESSAGE_IN_ACTIVE:G,DELIVERY_PICKUP_MESSAGE:V,ERROR_MESSAGE_CLOSED:Y,SCHEDULE_ORDER:K,CHANGE_ORDER_TITLE:q,ASAP_SERVES_Warning_Message:z}=I.a,J=(e,t,a)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(a)),X=e=>"ASAP"!==e&&"-"!==e?e:Object(m.S)(Object(m.o)(),g.a.HHMM,g.a.LT),Q=(e,t)=>{let a={};return"-"!==e&&"ASAP"!==e?a={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(a={isForNow:!0,futureDateTime:0}),a},Z=(e,t,a)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Kb)(i.type):t?C.Mb.PICKUP:Object(j.Kb)(a)};function $(e,t,a){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||a(null===(i=e[0])||void 0===i?void 0:i.timestr):a("-")}t.a=Object(h.j)((e=>{var t,a,o,h,I,te,ae,ie,le,oe,ne,de,re,se,ce,ue,ve;const{SingleArrow:Oe,Calendar:be,Error:me}=D.a,je=Object(i.useRef)(null),he=Object(i.useRef)(null),{location:pe,onStoreSelectFinish:ge}=e,{SEARCH_ORDER_DATA:Ne,SCHEDULE_ORDER_DATA:Se,DISPOSITION_DATA:Ie,SCHEDULE_ORDER_TIME_DATA:xe,CLOSED:fe,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Ee,MENU_URL:Ce,PDP_URL:Te,SELECTED_TILE_DATA:ye,DISPOSITION_METHOD:De,SET_DISPOSITION:Ae,USER_LOCALIZED:Re,SHOW_CLEAR_CART_ALERT:_e,CLEAR_CART_CONFIRM_CANCEL_MODAL:we,clearCartChangeFlag:Le,orderTypeAlertTitle:Me,searchStoreAlertTitle:ke,CURRENT_STORE_INFO:Pe,SET_FORCERELOAD:Fe}=u.a,We=Object(O.c)((e=>e.profileReducer)),{userOrderState:He,userOrderStateDispatch:Be}=Object(i.useContext)(c.a),{dispositionStateData:Ue={},scheduleOrderData:Ge={}}=He,{changeFlow:Ve=!1,isAddressFlow:Ye=!1}=Ge,Ke=Ge&&Object(j.Td)(Ge.storeInfo)?Ge.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:qe=""}=Ue,ze=qe||localStorage.getItem("dispositionType"),{value:Je=""}=(null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Xe=""}=Ge&&(null===(a=Ge.selectedDateTimeInfo)||void 0===a||null===(o=a.date)||void 0===o?void 0:o.length)>0?Ge.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Qe=Ge&&(null===(h=Ge.selectContentData)||void 0===h||null===(I=h.savedTime)||void 0===I?void 0:I.length)>0?null===(te=Ge.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:$e={},asap:et}=(null===(ae=Ge.storeInfo)||void 0===ae||null===(ie=ae.summary)||void 0===ie?void 0:ie.timings)||{},tt=Object(j.Sd)(He.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):He.dispositionNew,{unavailibilities:at,unavailibilityType:it}=$e,{interval:lt=0,startEndTime:ot={}}=$e&&(null===$e||void 0===$e||null===(le=$e.periods)||void 0===le?void 0:le.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:nt,to:dt}=ot;let rt=Object(O.c)((e=>e.appStateReducer.userStatus));const st=Object(O.b)(),ct=Object(O.c)((e=>e.tenantReducer)),ut=Object(O.c)((e=>e.storesReducer)),vt=Object(O.c)((e=>e.cartReducer)),{cartData:Ot}=vt,{storesAvilableTimeSlots:bt,storesTimeSlots:mt}=ut,[jt,ht]=Object(i.useState)(!1),[pt,gt]=Object(i.useState)({error:!1,errormessage:""}),[Nt,St]=Object(i.useState)({from:nt,to:dt,interval:lt}),[It,xt]=Object(i.useState)({error:!1,openStoreTime:""}),ft=(null===(oe=Ge.storeInfo)||void 0===oe||null===(ne=oe.summary)||void 0===ne||null===(de=ne.status)||void 0===de?void 0:de.currentStatus)===fe,Et=()=>{var e;return Ve?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ye&&(null===ze||void 0===ze?void 0:ze.toUpperCase())===g.a.TYPE_DELIVERY},[Ct,Tt]=Object(i.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[yt,Dt]=Object(i.useState)(et&&et.isAvailable?"ASAP":Object(m.S)(null===ot||void 0===ot?void 0:ot.from,"hh:mm","LT")),[At,Rt]=Object(i.useState)([]),[_t,wt]=Object(i.useState)(!1),[Lt,Mt]=Object(i.useState)(!1),[kt,Pt]=Object(i.useState)(Object(j.de)(window.innerWidth)),Ft=()=>{Pt(Object(j.de)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Ft)}),[kt]),Object(i.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country)){var e;const t={storeid:null===Ge||void 0===Ge||null===(e=Ge.storeInfo)||void 0===e?void 0:e.id,channel:f.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};st(Object(b.c)({data:t,tenantId:ct.tenantId}))}let t=Object(v.j)(nt,dt,lt,null===et||void 0===et?void 0:et.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);return Rt(t),()=>{st(Object(b.a)())}}),[]);const Wt=e=>{var t,a;if("INDIA"===(null===ct||void 0===ct?void 0:ct.country))return;const i=Object(m.h)(e,"YYYY-MM-DD");if($e.date===i){let t=Object(v.j)(nt,dt,lt,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);return Rt(t),Dt(t[0].timestr),St({from:nt,to:dt,interval:lt}),Tt(e),gt({...pt,error:!1,errormessage:""}),wt(!1),void Mt(!1)}const l={storeid:null===Ge||void 0===Ge||null===(t=Ge.storeInfo)||void 0===t?void 0:t.id,channel:f.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:i};if(st(Object(b.c)({data:l,tenantId:ct.tenantId})),Tt(e),(null===bt||void 0===bt||null===(a=bt.periods)||void 0===a?void 0:a.length)>0){const{startEndTime:e,interval:t}=bt.periods[0],{from:a,to:i}=e;let l=Object(v.j)(a,i,t,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it);St({from:a,to:i,interval:t}),Rt(l)}gt({...pt,error:!1,errormessage:""})},Ht=e=>{const t=new Date,a=new Date(e.split("T")[0]);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},Bt=e=>{var t;Dt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let a=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ht(Xe)?"Today":"Tomorrow"});Tt(a),wt(!1),Mt(!1),gt({...pt,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Qe;Xe&&Wt(new Date(Xe)),((e,t,a,i,l,o)=>{if(e&&t){const e=Object(m.S)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===a||void 0===a?void 0:a.split(":")[0]),Number(null===a||void 0===a?void 0:a.split(":")[1]),0)?o(l):o(t)}})(Ve,e,nt,Xe,Qe,Bt),((e,t,a,i,l)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var o;const e={storeid:null===t||void 0===t||null===(o=t.storeInfo)||void 0===o?void 0:o.id,channel:f.b.channel,service:Object(j.Mb)(a()).toString().toLowerCase(),date:""};i(Object(b.c)({data:e,tenantId:null===l||void 0===l?void 0:l.tenantId}))}})(Ze,Ge,$t,st,ct)}),[]),Object(i.useEffect)((()=>{let e=Object(j.ad)(Ve,Object(S.translateWithI18Next)(q),Object(S.translateWithI18Next)(K));var t;if(Object(j.Td)(mt)&&jt)if((null===mt||void 0===mt||null===(t=mt.status)||void 0===t?void 0:t.currentStatus)===fe)gt({...pt,error:!0,errormessage:Object(S.translateWithI18Next)(Y)}),Object(j.Ob)(e,Object(S.translateWithI18Next)(Y));else{let t=new Date;if(new Date(Ct).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(m.o)().add(et.promiseTime,"minutes").format("LT");Object(m.c)(t,yt,"h:mm A")?(gt({...pt,error:!0,errormessage:Object(S.translateWithI18Next)(G)}),Object(j.Ob)(e,Object(S.translateWithI18Next)(G))):J(pe,Ce,Te)?Ut():Gt()}else J(pe,Ce,Te)?Ut():Gt()}}),[mt,We]);const Ut=()=>{var t,a;Be({type:ye,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(ct)),localStorage.setItem("selectedTile",JSON.stringify({}));const i=null===pe||void 0===pe?void 0:pe.pathname,l=null===Ke||void 0===Ke||null===(t=Ke.summary)||void 0===t?void 0:t.name,o=null===ct||void 0===ct||null===(a=ct.componentOptions)||void 0===a?void 0:a.showToastAfterLocalization;Gt(),e.history.push({pathname:"".concat(Ce),...!Object(j.ce)(i)&&{state:{toastData:{storeName:l,service:ze,showToastAfterLocalization:o}}}})},Gt=async()=>{Be({type:Se,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ge||void 0===Ge?void 0:Ge.storeInfo,changeFlow:!0}}),Be({type:De,value:{dispositionType:ze}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ge&&void 0!==Ge&&Ge.storeInfo?JSON.stringify(Ge.storeInfo):JSON.stringify({})),Be({type:Pe,value:Object(j.sd)(null===Ge||void 0===Ge?void 0:Ge.storeInfo)}),Be({type:Ne,value:{showSearchStore:!1}});let e="",t="";"ASAP"===yt||"-"===yt?(e="ASAP",t="ASAP"):(e=yt,t=yt),Be({type:Fe,value:{forceReload:!0}});let a=X(yt);const i=Object(m.A)(Object(m.h)(Ct,"YYYY-MM-DD")+" "+a,"YYYY-MM-DD hh:mm A");let l={time:e,interval:Nt.interval,date:Ct,epochTime:i,selectedTime:yt},o=(null===Ge||void 0===Ge?void 0:Ge.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==Ke.id||tt.deliveryAddress!==Ge.deliveryAddress){let e=await Object(j.A)(Ke,Object(j.Mb)(ze),null===We||void 0===We?void 0:We.customerId,l,o,null===Ge||void 0===Ge?void 0:Ge.deliveryAddressLine);st(Object(x.m)("")),st(Object(x.f)({data:e,tenantId:ct.tenantId}))}st(Object(p.a)({...rt,localized:!0})),Be({type:Ae,value:{oldvalue:tt,newValue:{type:$t(),store:Ke,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:o}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:Ke,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:o})),Object(j.vf)(),Be({type:xe,value:{selectedDateTime:l}}),Be({type:Ee,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(l)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,a={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(bt||{}).length){var i,l,o;const{startEndTime:e,interval:d}=Object(j.qd)(null===(i=bt[0])||void 0===i?void 0:i.periods[0],a),{startEndTime:r}=Object(j.qd)(null===(l=bt[1])||void 0===l?void 0:l.periods[0],a),{from:s}=e,{to:c}=r;var n;if(t=Object(v.j)(s,c,d,null===et||void 0===et?void 0:et.isAvailable,1===Ze.length&&new Date(null===(o=bt[0])||void 0===o?void 0:o.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),at,it),St({from:s,to:c,interval:d}),Rt(t),$(t,Qe,Bt),!bt.find((e=>e.date===Xe.split("T")[0])))Tt(new Date(null===(n=bt[0])||void 0===n?void 0:n.date))}else if(Object.keys(bt||{}).length){var d,r;const{startEndTime:e,interval:i}=Object(j.qd)(null===(d=bt[0])||void 0===d?void 0:d.periods[0],a),{from:l,to:o}=e;var s;if(t=Object(v.j)(l,o,i,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===ct||void 0===ct?void 0:ct.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(r=bt[0])||void 0===r?void 0:r.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),at,it),St({from:l,to:o,interval:i}),Rt(t),$(t,Qe,Bt),!bt.find((e=>e.date===Xe.split("T")[0])))Tt(new Date(null===(s=bt[0])||void 0===s?void 0:s.date))}const c=localStorage.getItem("modalSource");var u;null!==ct&&void 0!==ct&&ct.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&ft&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&xt({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(bt)]);const Vt=e=>{var t,a;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==he&&void 0!==he&&null!==(a=he.current)&&void 0!==a&&a.contains(e.target)||(wt(!1),Mt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Vt),()=>{document.removeEventListener("mousedown",Vt)})),[]);const Yt=()=>{Be({type:Ne,value:{showSearchStore:!0}}),Be({type:Se,value:{showDisposition:!1}}),Be({type:De,value:{dispositionType:"Pickup"}})},Kt=null===Ge||void 0===Ge||null===(re=Ge.storeInfo)||void 0===re||null===(se=re.availableServicesPerChannel)||void 0===se||null===(ce=se.find((e=>"web"===e.channel)))||void 0===ce?void 0:ce.services,qt=null===Kt||void 0===Kt?void 0:Kt.includes("delivery"),zt=Object(j.hb)(Et(),!qt),Jt=()=>{let e=Object(S.translateWithI18Next)(V),t=!1;return qt&&(e=Object(S.translateWithI18Next)(B),t=!0),{showTakeWayButton:t,message:e}},{message:Xt}=Jt();Object(i.useEffect)((()=>{Object(E.g)(Ve,Xt)}),[Xt]);const Qt=()=>{const{message:e,showTakeWayButton:t}=Jt();return Object(_.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(_.jsx)(N.a,{srcFile:me,className:"location-alert-icon"}),Object(_.jsx)("div",{className:"location-error-message",children:e}),Object(_.jsx)("div",{className:"location-error-button-section",children:t&&Object(_.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Yt,children:Object(S.translateWithI18Next)(U)})})]})},Zt=e=>{var t;let{orderType:a}=e,i=Object(S.translateWithI18Next)(z),l=null===i||void 0===i?void 0:i.replace("%time%",It.openStoreTime);return l=null===(t=l)||void 0===t?void 0:t.replace("%servesName%",a),Object(_.jsxs)("div",{className:"asap-warning-container",children:[Object(_.jsx)("span",{className:"error-img"}),l]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ve&&e?e.type:Ye?"Pickup":ze},ea=Ve?null===(ue=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ue?void 0:ue.deliveryAddress:Ge.deliveryAddress;return Object(_.jsxs)("div",{className:"scheduleOrder-form",children:[Object(_.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(w)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(r.a,{value:Z(Ve,Ye,ze),className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Object(_.jsx)(s.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(Be,e,_e,we)}else Be({type:Ie,value:{showDisposition:!0}});Be({type:Se,value:{showScheduleOrderCatering:!1}}),Be({type:Ne,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(S.translateWithI18Next)(k)})})]}),pt&&pt.error&&Object(_.jsxs)("div",{className:"error-container",children:[Object(_.jsx)("span",{className:"error-img"}),pt.errormessage]}),kt&&zt&&Object(_.jsx)(Qt,{}),Object(_.jsx)("h3",{className:"order-type",children:Et()?Object(S.translateWithI18Next)(M):Object(S.translateWithI18Next)(L)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(r.a,{value:Et()?ea:Je||"",className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Et()?Object(_.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(Be({type:De,value:{dispositionType:Ve?JSON.parse(localStorage.getItem("dispositionNew")).type:ze}}),Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:ke};Object(j.Fe)(Be,e,_e,we)}else Be({type:Ne,value:{showSearchStore:!0}});Be({type:Se,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(S.translateWithI18Next)(k)}):Object(_.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:ke};Object(j.Fe)(Be,e,_e,we)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ye)Be({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ge.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];Be({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}Be({type:Se,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ve)}}),Be({type:De,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(S.translateWithI18Next)(k)})})]}),!kt&&zt&&Object(_.jsx)(Qt,{}),(null===It||void 0===It?void 0:It.error)&&Object(_.jsx)(Zt,{orderType:Z(Ve,Ye,ze)}),Object(_.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(P)}),Object(_.jsxs)("div",{className:"schedule-date-time",children:[Object(_.jsxs)("div",{className:"schedule-date",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker",children:Object(S.translateWithI18Next)(F)}),Ze&&Ze.length>0&&$e&&$e.date&&"INDIA"!==(null===ct||void 0===ct?void 0:ct.country)?Object(_.jsxs)(l.a.Fragment,{children:[Object(_.jsxs)("div",{ref:je,onClick:()=>Mt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(_.jsx)(n.a,{selected:Ct,showPopperArrow:!1,onChange:e=>Wt(e),minDate:new Date($e.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(_.jsx)("img",{src:be,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(_.jsx)("span",{className:"dropdown-img"})]}):Object(_.jsx)(l.a.Fragment,{children:Object(_.jsx)("div",{className:"time-input time-input-container",children:Object(m.h)(Ct,"YYYYMMDD")===Object(m.e)("YYYYMMDD")&&Object(S.translateWithI18Next)("today")||Object(S.translateWithI18Next)("tomorrow")})})]}),Object(_.jsxs)("div",{className:"schedule-time",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(S.translateWithI18Next)(W)}),Object(_.jsxs)("div",{className:ee(At),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&wt(!_t),onClick:()=>0!==$e.periods.length&&wt(!_t),children:[Object(_.jsx)("div",{className:"time-input asap-default",children:yt}),Object(_.jsx)("img",{src:Oe,alt:" ",className:"downarrow-time-list"})]}),_t&&Object(_.jsx)("div",{ref:he,className:"schedule-time-list-container",children:Object(_.jsx)("ul",{children:!(null===At||void 0===At||!At.length)&&(null===At||void 0===At?void 0:At.map((e=>Object(_.jsx)("li",{tabIndex:"0",onClick:()=>{xt((e=>({...e,error:!1}))),Bt(e)},onKeyPress:()=>Bt(e),children:e.timestr}))))})})]})]}),Object(_.jsx)("div",{className:"text-center schedule-btn-div",children:Object(_.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(S.translateWithI18Next)(H),onClickHandler:e=>{var t,a,i,l,o;Object(A.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===Ke||void 0===Ke?void 0:Ke.id,disposition:ze,postCode:null===Ke||void 0===Ke||null===(t=Ke.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};ge(n),Object(T.J)(n,yt),Object(y.a)(Ge),ht(!0);let d=X(yt);const r=Object(m.A)(Object(m.h)(Ct,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),s={storeid:null===Ge||void 0===Ge||null===(i=Ge.storeInfo)||void 0===i?void 0:i.id,channel:f.b.channel,service:null===(l=Object(j.Mb)($t()))||void 0===l||null===(o=l.toString())||void 0===o?void 0:o.toLowerCase(),futureDateTimeInEpochFormat:r,asap:yt===C.s};st(Object(b.n)({data:s,tenantId:ct.tenantId},(()=>{if(Object(j.ce)(null===pe||void 0===pe?void 0:pe.pathname)){var e,t;const a=null===Ke||void 0===Ke||null===(e=Ke.summary)||void 0===e?void 0:e.name,i=null===ct||void 0===ct||null===(t=ct.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(R.a)(a,ze,i)}}))),null!==Ot&&void 0!==Ot&&Ot.id&&st(Object(b.q)({params:{basketId:null===Ot||void 0===Ot?void 0:Ot.id},tenantId:ct.tenantId,postBody:Q(yt,r)})),Be({type:Re,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ve=$e.periods)||void 0===ve?void 0:ve.length),children:Object(S.translateWithI18Next)(H)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1145:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return n}));const i={HOME:"Home",CARD_DETAILS_VIEW:"Card Details View",KFC_FORM:"KFC form",MILE_DETAILS:"mile details",RANKING:"Ranking"},l={KFC:"kfc",PONTA:"ponta",RAKUTEN:"rakuten"},o={PLATINUM:"platinum",REGULAR:"regular",BRONZE:"bronze",SILVER:"silver",GOLD:"gold"},n={milesMemberId:"I",stageNumber:"R",pontaId:"P",kfcCard:"K",rakutenId:"RK",expirationTime:"ED"}},1146:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var i=a(3),l=a(28),o=a(398),n=a(5),d=a(235),r=a(61),s=a(410),c=a(6),u=a(35),v=a(395),O=a(46),b=a(264),m=a(1099),j=a(1112),h=a(1134),p=a(0),g=a(15),N=a(145),S=a(85),I=a(16),x=a(262),f=a(2);const E=(e,t,a,i,l)=>Object(n.ad)(e||t||a||i||l,g.a.ribbonRedOutlined,null);var C=function(e){var t,a,s;const{getCardTypeName:C,cardType:T,allowClickOnProductCard:y,discount:D,specials:A,exclusive:R,timer:_,cardId:w,customizable:L,getProductImageClassName:M,tenantData:k,imageName:P,onCardClickHandler:F,categoryId:W,categoryName:H,categoryUrl:B,dname:U,availability:G=[],newitem:V,topseller:Y,customlabelfield:K,getSpecificRibbonBanner:q,userParams:z,favouriteItems:J,item:X,classFavouriteIconActive:Q,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ae,veg:ie,servingCount:le,getVegNonvegClassName:oe,menuProductPriceClassName:ne,checkForBasePriceInMenu:de,baseprice:re,cardCat:se,displayPrice:ce,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:Oe,updateItemQuantity:be,configureOptions:me,storeClosedData:je,classesCardButton:he,classEnableAddToCart:pe,enableAddToCartButton:ge,checkLoading:Ne,menuCardBtnText:Se,clickHandler:Ie,itemFoodlineId:xe,openCostomizedModal:fe,setOpenCostomizedModal:Ee,filteredPreviousData:Ce,cartData:Te,CARD_TYPE:ye,setShowTopScrollBtn:De,pricewithouttax:Ae}=e,Re=Object(l.b)(),{RESET_MODGROUP_IDS_UPDATE:_e}=x.a,{MINI_PDP_DATA:we,FROMFLAGEDIT:Le,EDIT_CLICKED:Me}=I.a,{userOrderStateDispatch:ke}=Object(i.useContext)(S.a),[Pe,Fe]=Object(i.useState)(!1),[We,He]=Object(i.useState)(Object(n.de)(window.innerWidth)),{ITEM_QUANTITY:Be}=d.a,{QUANTITY_ACTION:Ue}=r.a,Ge=Object(n.ad)(null===z||void 0===z?void 0:z.loggedIn,p.cg,""),{allowAddToCartButton:Ve=!0}=me,{web:{global:{showPriceWithTax:Ye=!1}={}}={}}=null!==(t=null===k||void 0===k?void 0:k.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Ke,Veg_dot_Icon:qe,Product_Card_Icon:ze,TimerIcon:Je,FavoriteInActiveWhite:Xe,heartIcon_active:Qe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(i.useEffect)((()=>{window.addEventListener(p.ye,et)}),[We]);const et=()=>{He(Object(n.de)(window.innerWidth))},tt=()=>Object(f.jsxs)("div",{className:ne(T),children:[Object(n.hb)(de(re,se),ce(re,null===k||void 0===k?void 0:k.currencyConversionFactor)),Object(f.jsxs)("span",{className:ue(re,se),children:[o.o.MENU_CARD.CURRENCY,Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye).toFixed(2)]})]}),at=()=>Object(f.jsxs)("div",{className:oe(T),children:[Object(n.hb)(We,Object(f.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ie,Ke,qe)})),Object(n.hb)(!We,Object(n.ad)(!ie,Object(c.translateWithI18Next)(o.o.MENU_CARD.NON_VEG),Object(c.translateWithI18Next)(o.o.MENU_CARD.VEG))),Object(n.hb)(le,Object(f.jsx)("div",{className:"Dot"})),o.o.MENU_CARD.SERVES,le]}),it=()=>{if(null!==z&&void 0!==z&&z.loggedIn)return Object(f.jsxs)("picture",{children:[Object(f.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(n.ad)("small-menu-product-card"===Z,Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Q(T),te(T)),Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(f.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(n.ad)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Qe,Xe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(f.jsx)("img",{src:Object(n.hb)(Array.isArray(J),null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))))?Qe:Xe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(w),onClick:()=>$()})]})},lt=()=>Object(f.jsx)(O.a,{"data-testid":"product-image",className:M(T),defaultPath:Object(n.bc)(null,k,!0),srcFile:Object(n.bc)(P,k),onClick:e=>Object(n.Nf)(y,F,[e,w,L,W,{productName:U,productImage:P,productPrice:Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye)}]),alt:""}),ot={productId:w,productInfo:{productName:U,productImage:P,productPrice:Object(n.Fc)(G[0],Ae,null===k||void 0===k?void 0:k.currencyConversionFactor,Ye)}},nt={catId:W,catName:H,catUrl:B},dt={id:w,itemCount:ee,product:{productName:U,productImage:P,productPrice:Object(n.Ec)(G[0],null===k||void 0===k?void 0:k.currencyConversionFactor)},itemFoodlineId:xe};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:C(T,y,D,A,R,_),"data-testid":"click-allow-on-product-".concat(w),id:w,children:[Object(n.Zd)()&&L&&Object(f.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),T!==ye.SMALL&&lt(),Object(f.jsx)(b.a,{src:Object(n.ad)(A,ze,E(K,D,R,V,Y)),className:Object(n.ad)(A,"specials-product-ribbon",Object(n.ad)(Object(n.jb)(R,K),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(f.jsx)("span",{className:Object(n.ad)(A,"specials-ribbon-text","discount-ribbon-text"),children:_?Object(f.jsxs)("div",{children:[Object(f.jsx)(b.a,{src:Je,className:"product-timer"}),Object(f.jsx)("span",{className:"product-timer-text",children:Object(c.translateWithI18Next)(o.o.MENU_CARD.TIMER)})]}):q(A,D,R,V,Y,K)}),Object(n.hb)(!We,it()),Object(f.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{y&&F(e,ot,L,nt)},children:[Object(f.jsx)("div",{className:ae(T,D,A,R,{timer:_,newitem:V,topseller:Y,customlabelfield:K}),children:null===U||void 0===U?void 0:U[0].value}),We?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"description-and-image",children:[Object(f.jsx)("div",{className:ve(T),id:"longDescription",children:Oe[0].value}),T===ye.SMALL&&lt()]}),Object(f.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),at(),Object(f.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(n.ad)(!ie,Ke,qe)}),at(),tt(),Object(f.jsx)("div",{className:ve(T),id:"longDescription",children:Oe[0].value})]})]}),Object(f.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(rt=ee,st=be,ct=null===U||void 0===U?void 0:U[0].value,ut=null===k||void 0===k?void 0:k.maxItemCountPerLineItem,Object(f.jsx)(m.a,{itemCount:rt,itemQuantity:Be,updateItemQuantity:st,quantityAction:Ue,item:void 0,itemName:ct,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ve&&je&&Object(f.jsx)("div",{className:he(ee,Ge),children:ee<1?Object(f.jsxs)(v.a,{tabIndex:"0",className:pe(ge,T,Ne,je),"data-testid":"add-to-cart-".concat(w),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Se(je))&&void 0!==t&&t.enabled&&ee<=0&&Ie(e,L,nt,dt)},"aria-label":(null===(a=Se(je))||void 0===a?void 0:a.btnText)+(null===U||void 0===U?void 0:U[0].value),children:[null===(s=Se(je))||void 0===s?void 0:s.btnText,Object(n.J)(je.isStoreClosed)]}):L&&Object(f.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(ke({type:we,value:{id:null===X||void 0===X?void 0:X.mdmId,flag:Le,foodLineId:xe}}),ke({type:_e}),ke({type:Me,value:{cartEditClicked:!1}}),Re(Object(N.c)({tenantId:null===k||void 0===k?void 0:k.tenantId,catalogName:null===Te||void 0===Te?void 0:Te.catalog,itemId:null===X||void 0===X?void 0:X.mdmId})),Re(Object(u.v)({showProductListingModal:!0,categorySelected:W}))):(Fe(!0),Ee(!0))},children:Object(c.translateWithI18Next)(o.o.EDIT_SELECTIONS)})})]})]}),Object(f.jsx)("div",{children:fe&&(()=>{var t;return Object(f.jsx)(h.a,{handleClose:()=>{Ee(!1),Fe(!1)},filteredPreviousData:Ce,updateItemQuantity:be,tenantData:k,dname:U,clickHandler:Ie,cardId:w,categoryId:W,categoryName:H,categoryUrl:B,itemCount:ee,availability:G,pricewithouttax:Ae,imageName:P,itemFoodlineId:xe,customizable:L,setOpenCostomizedModal:Ee,openCostomizedModal:fe,cartData:Te,setShowTopScrollBtn:De,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Pe,headerText:Object(n.ad)(Pe,Object(c.translateWithI18Next)(o.o.EDIT_QUANTITY),Object(c.translateWithI18Next)(o.o.SELECT_QUANTITY))})})()})]});var rt,st,ct,ut};const{CARD_TYPE:T}=o.o,{FavoriteInActiveWhite:y,heartIcon_active:D,heartIcon_activeFavourite:A,heartIcon_inactive_red:R}=g.a,_=(e,t,a,i,l,o)=>e===T.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===T.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===T.SMALL?((e,t,a,i,l)=>e&&(t||a||i||l)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||l)?"small-menu-product-card product-card-active":!e&&(t||a||i||l)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,l,o):e===T.CAROUSAL?"carousal-menu-product-card":void 0,w=e=>e===T.LARGE?"menu-product-image":e===T.MEDIUM?"medium-menu-product-image":e===T.SMALL?"small-menu-product-image":e===T.CAROUSAL?"carousal-menu-product-image":void 0,L=(e,t,a,i,l)=>{let{timer:o,newitem:n,topseller:d,customlabelfield:r}=l;return e===T.LARGE?"menu-product-header":e===T.MEDIUM?"medium-menu-product-header":e===T.SMALL?t||a||i||o||n||d||r?"small-menu-product-header-shift":"small-menu-product-header":e===T.CAROUSAL?"carousal-menu-product-header":void 0},M=e=>e===T.LARGE?"menu-vegOrNonVeg":e===T.MEDIUM?"medium-menu-vegOrNonVeg":e===T.SMALL?"small-menu-vegOrNonVeg":e===T.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,k=e=>e===T.LARGE?"menu-product-price":e===T.MEDIUM?"medium-menu-product-price":e===T.SMALL?"small-menu-product-price":e===T.CAROUSAL?"carousal-menu-product-price":"",P=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===T.LARGE?"menu-product-description":e===T.MEDIUM?"medium-menu-product-description":e===T.SMALL?"small-menu-product-description":e===T.CAROUSAL?"carousal-menu-product-description":"",W=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=d.a;let a=Object(c.translateWithI18Next)(t),i="",l=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",i="no-store-selected",l=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",i="store-closed",l=!1),{btnText:a,className:i,enabled:l}},B=(e,t,a,i)=>e?"".concat(((e,t)=>{let a,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case T.LARGE:a="menu-cart-button";break;case T.MEDIUM:a="medium-menu-cart-button";break;case T.SMALL:a="small-menu-cart-button";break;case T.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(i," ").concat(a)})(t,a)," ").concat(H(i).className):"button btn-black medium-menu-cart-button",U=(e,t,a,i,l,d)=>{let r;return r=d?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(a?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:Object(c.translateWithI18Next)(o.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(f.jsx)("span",{"data-testid":"new-id",children:Object(c.translateWithI18Next)(o.o.MENU_CARD.NEW)}):Object(n.ad)(l,Object(f.jsx)("span",{"data-testid":"topseller-id",children:Object(c.translateWithI18Next)(o.o.MENU_CARD.TOP_SELLER)}),null))),r},G=e=>e===T.CAROUSAL?D:A,V=e=>e===T.CAROUSAL?y:R,Y=(e,t)=>Boolean(e)&&"recommended"!==t,K=(e,t)=>{let a;return a=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"price-display",children:"old price"}),Object(f.jsxs)("span",{className:"base-price-menu",children:[o.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.b=e=>{var t,a;const{cardId:o,cardType:d,discount:c,specials:v,exclusive:O,timer:b,availability:m=[],tenantData:h,customizable:p,categoryId:g,activeId:N,addFavourite:S,removeFavourite:I,item:x,isHidden:E,cardFor:y,setShowTopScrollBtn:D,userParams:A}=e,{QUANTITY_ACTION:R}=r.a,q=Object(l.b)(),z=null===h||void 0===h?void 0:h.tenantId,{componentOptions:J={}}=h,{PlpProductCard:X={}}=J,{allowClickOnProductCard:Q=!1}=X,Z=Object(l.c)((e=>e.cartReducer)),$=Object(l.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(n.sd)(Z),[ae,ie]=Object(i.useState)(0),[le,oe]=Object(i.useState)(null),[ne,de]=Object(i.useState)(0),re=null===$||void 0===$?void 0:$.id,se=Object(l.c)((e=>{var t;return Object(n.wd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[ce,ue]=Object(i.useState)(!0),[ve,Oe]=Object(i.useState)("product"),{flatResponse:{productMapById:be={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[me,je]=Object(i.useState)(""),[he,pe]=Object(i.useState)(0),[ge,Ne]=Object(i.useState)([]),[Se,Ie]=Object(i.useState)(!1),[xe,fe]=Object(i.useState)(""),{couponCode:Ee="",amount:Ce=0}=(null===ee||void 0===ee||null===(a=ee.discountLines)||void 0===a?void 0:a[0])||{},{foodLines:Te,total:ye}=ee,De=Number((ye/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:Ee,amount:Number((Ce/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{y&&Oe(y)}),[y]),Object(i.useEffect)((()=>{const e=Object(n.Td)(ee)?Object(n.mc)(o,ee):{},t=Object(n.ad)(Object(n.Td)(e),e.count,0),a=Object(n.ad)(Object(n.Td)(e),e.matchedItemFoodLineId,""),i=Object(n.ad)(Object(n.Td)(e),e.entriesCount,0),l=Object(n.ad)(Object(n.Td)(e),e.itemUnitPrice,"");ie(t),oe(a),de(i),pe(l)}),[ee,o]);const Re=Object(i.useCallback)((()=>{je(_(d,Q,c,v,O,b))}));Object(i.useEffect)((()=>{Re()}),[Re]);Object(i.useEffect)((()=>{ue(!0)}),[ae]);const _e=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Ne(t)}fe(e),Ie(!0)},we=Object(n.hb)(te,N===o);return!E&&Object(f.jsx)(C,{...e,getCardTypeName:_,"data-testid":"MenuPlpTestId",allowClickOnProductCard:Q,getProductImageClassName:w,getSpecificRibbonBanner:U,favouriteItems:se,classFavouriteIconActive:G,getCardName:me,favouriteButtonClickHandler:()=>{Object(n.hb)(Array.isArray(se),null===se||void 0===se?void 0:se.find((e=>(null===e||void 0===e?void 0:e.id)===(null===x||void 0===x?void 0:x.id))))?I(z,re,x.id):((e,t,a,i)=>{var l;const o=Object(n.td)(null===(l=a[0])||void 0===l?void 0:l.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:o/(null===h||void 0===h?void 0:h.currencyConversionFactor),additionalProperties:t.additionalProperties};S(e,d,i),q(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(z,x,m,re)},itemCount:ae,classFavouriteIconInActive:V,getMenuProductHeader:L,getVegNonvegClassName:M,menuProductPriceClassName:k,checkForBasePriceInMenu:Y,cardCat:ve,displayPrice:K,getPriceClassName:P,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((he/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2));let a={foodName:null===x||void 0===x?void 0:x.name,foodItemId:null===x||void 0===x?void 0:x.mdmId,cartPrice:e,modifiers:Object(j.i)(x),customizable:null===x||void 0===x?void 0:x.customizable,quantity:ae,foodLineId:le};const{itemQuantityHandler:i}=Object(s.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:Te,totalAmount:De},null===h||void 0===h?void 0:h.tenantId,void 0,be,void 0,q,void 0);t===R.Increase?p&&ae>=1?_e(null===a||void 0===a?void 0:a.foodItemId):(!p&&ue(!1),i(a,R.Increase)):ne>1?_e(null===a||void 0===a?void 0:a.foodItemId):(ue(!1),i(a,R.Decrease))}},classesCardButton:W,classEnableAddToCart:B,enableAddToCartButton:ce,checkLoading:we,menuCardBtnText:H,itemFoodlineId:le,openCostomizedModal:Se,filteredPreviousData:ge,setOpenCostomizedModal:Ie,cartData:ee,CARD_TYPE:T,setShowTopScrollBtn:D,FoodId:xe})}},1147:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(41),n=a(46),d=a(15),r=a(28),s=a(0),c=a(2);const{Error:u}=d.a,v=e=>{const{show:t,errorObj:a,isInProgress:i,comingFrom:d}=e,{firstBtnCTA:v,secondBtnCTA:O,firstBtnText:b,secondBtnText:m,errMsg:j,firstBtnClassName:h=""}=a,p=Object(r.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:i}));return Object(c.jsx)(l.a.Fragment,{children:!p&&(t?Object(c.jsx)("div",{className:"err-container",children:Object(c.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(c.jsx)(n.a,{srcFile:u,className:"location-alert-icon"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"location-error-message",children:j}),Object(c.jsxs)("div",{className:"location-error-button-section",children:[d!==s.a&&v&&Object(c.jsx)(o.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(h),onClickHandler:e=>v(e),children:b}),O&&Object(c.jsx)(o.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>O(e),children:m})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const O=l.a.memo(v);t.a=O},1148:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"d",(function(){return O})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return j})),a.d(t,"e",(function(){return h}));var i=a(5),l=a(1173),o=a(0),n=a(160),d=a(12);const r=e=>o.xd.test(String(e).toLowerCase()),s=e=>o.uc.test(String(e).toLowerCase()),c=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),a=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+a}},O=(e,t)=>{const{wantToKnowText:a,selectedLetUsKnow:l,firstNameText:o,lastNameText:n,phoneNoText:d,emailText:v}=e;return!(0===(null===a||void 0===a?void 0:a.length)||(null===a||void 0===a?void 0:a.length)>200)&&(!!r(o)&&(!!r(n)&&(!!s("".concat(o).concat(n))&&(!!u(d)&&(!!c(v)&&(!!Object(i.Td)(l)&&!!t))))))},b=e=>{const{firstNameText:t,lastNameText:a,phoneNoText:i,emailText:l}=e;return!!s(t)&&(!!s(a)&&(!!u(i)&&!!c(l)))},m=(e,t,a)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:a}],attachments:[]}}),j=(e,t)=>{var a;var i;return{tenantId:t,payload:{data:[{key:l.b.FIRSTNAME,value:e.fullname},{key:l.b.CALLNATURE,value:e.helpDDOptions},{key:l.b.CATEGORY,value:e.enquiryDDOptions},{key:l.b.SUBCODE,value:e.specificDDOptions},{key:l.b.DESCRIPTION,value:e.detailsArea},{key:l.b.LASTNAME,value:e.publicationdetails},{key:l.b.PHONE,value:e.phonenumber},{key:l.b.EMAIL,value:e.emailaddress},{key:l.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:l.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:l.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:l.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:l.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:l.b.VISITTIME,value:null!==(i=e.visitedTime,a=!!i&&Object(d.d)(i.getHours(),i.getMinutes(),o.sb.hh_mm_A))&&void 0!==a?a:""},{key:l.b.LANGUAGE,value:"en-US"}],attachments:[]}}},h=(e,t,a,i,d,r,s,c,u,v)=>{let O=JSON.parse(localStorage.getItem(o.qf));""===(null===O||void 0===O?void 0:O.addressLine0)&&O&&(O.addressLine0=l.c);const{addressLines:b=[],country:m="",city:j="",pinCode:h="",state:p="",placeId:g=""}=Object(n.b)(t.address_components,O);var N;e===o.rc?(N=h,o.Jd.test(String(N).toLowerCase())?(s(!1),c(!1),a(h)):s(!0),r({...u,sugPinCode:h})):(a(null===b||void 0===b?void 0:b[1]),r()),i((e=>({...e,country:m,addressLines:b,city:j,state:p,pinCode:h,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{d()}),800)}},1153:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(6),a(106),a(92);var i=a(5),l=(a(1175),a(1142),a(20),a(398)),o=(a(41),a(146),a(15));a(2);const{CARD_TYPE:{CAROUSAL:n,MEDIUM:d}}=l.o,{CartError:r}=o.a,s=e=>Object(i.Sd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},1154:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return v}));var i=a(158);let l,o,n,d,r=[],s="";const c=(e,t,a,i)=>{if(l=e,o=t,r=a,d=i,r.length>0){let a=r.map((e=>{const{latitude:t,longitude:a}=e&&e.storeBasic.location;return{lat:t,lng:a}})),i=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...i].slice(0,24),destinations:[...a].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let a=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e));let l=e&&e.originAddresses&&e.originAddresses[0]||"";a=r.map(((e,t)=>({...e,...i[t]}))),d(a,l)},v=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},O),n=a},O=(e,t)=>{if(t===i.a.OK_STATUS){let t=[],a=e&&e.rows&&e.rows.map((e=>e));t=null===a||void 0===a?void 0:a.map((e=>e.elements[0])),s=e&&e.originAddresses||[],n({allStoreDistance:t,originAddressText:s})}}},1158:function(e,t,a){"use strict";a.d(t,"d",(function(){return I})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"g",(function(){return L})),a.d(t,"b",(function(){return M})),a.d(t,"a",(function(){return k})),a.d(t,"f",(function(){return P}));var i=a(6),l=(a(332),a(214)),o=(a(404),a(41),a(210)),n=a(4),d=a(144),r=a(968),s=a(1205),c=(a(46),a(15),a(1184)),u=a(0),v=a(190),O=a(1174),b=a(5),m=a(11),j=a(14),h=a(265),p=a(1198),g=a(399),N=a(12),S=a(2);const I=e=>{var t,a,i,l;const{orderDetails:n,updateSetOrderDetails:r}=e,{deliveryAddress:s={},store:c,isOpenOrderSummaryDirectionMap:u=!0,isMobileView:v=!1}=n,O={role:"dialog",modalTitleId:"direction-map-modal",show:!0,classNames:"map-modal",showCloseBtn:u,closeButtonHandler:()=>{r({isOpenOrderSummaryDirectionMap:!1})},modalTitle:"",showBackBtn:v,closeDataTestId:"close-direction-map-modal",id:"directionMapModal",autoFocus:!0},b=[null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.latitude,null===c||void 0===c||null===(a=c.location)||void 0===a?void 0:a.longitude],m=[null===s||void 0===s||null===(i=s.location)||void 0===i?void 0:i.latitude,null===s||void 0===s||null===(l=s.location)||void 0===l?void 0:l.longitude];return u&&Object(S.jsx)(d.a,{...O,children:(j={storeLatLng:b,customerLatLng:m},Object(S.jsx)(o.a,{...j,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0}))});var j},x=(e,t)=>{const a=Object(i.translateWithI18Next)(e),o=Object(i.translateWithI18Next)(t),d=(e=>{const{FAVORITE_ORDERS:t}=n.a;return"<a href='".concat(u.Ce.ACCOUNT,"#").concat(t,"' className='favorites-hyperlink-style'><u>").concat(e,"</u></a>")})(o),r=null===a||void 0===a?void 0:a.replace(o,d);return Object(l.a)(String(r))},f=e=>{var t;const{orderDetails:a,updateSetOrderDetails:i}=e,{orderId:l,isOpenOrderSummarySaveYourOrderCheckoutFaster:o}=a,{ORDER_ADDED_TO_FAVOURITE:d,FAVOURITES:r}=n.a,s=x(d,r);return o&&Object(S.jsx)(c.a,{showOccassionModal:o,updateSetOrderDetails:i,setOccassionModalOpen:()=>{i({isOpenOrderSummarySaveYourOrderCheckoutFaster:!1})},occasionName:"",setOccasionName:e=>console.log(e),cardInfo:{id:l},toastmessage:s,isAddFavOrderBox:!0,userParams:null===a||void 0===a?void 0:a.userStatus,currencyShortName:null===a||void 0===a?void 0:a.currencyShortName,currencyConversionFactor:null===a||void 0===a?void 0:a.currencyConversionFactor,productMapById:null===a||void 0===a||null===(t=a.flatResponse)||void 0===t?void 0:t.productMapById,orderDetail:a})},E=e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{isOpenSaveDeliveryAddressModal:i,deliveryAddress:l,scheduleOrderDateFormat:o}=t,n=(e=>{var t,a;let i={},l=["",""];return l[1]=null===e||void 0===e?void 0:e.addressLines[1],l[0]=null===e||void 0===e?void 0:e.addressLines[0],i={id:(null===e||void 0===e?void 0:e.id)||"",addressName:(null===e||void 0===e?void 0:e.name)||"",city:null===e||void 0===e?void 0:e.city,pinCode:null===e||void 0===e?void 0:e.pinCode,state:null===e||void 0===e?void 0:e.state,country:(null===e||void 0===e?void 0:e.country)||"",location:{latitude:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,longitude:null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude},addressLines:l,deliveryInstruction:(null===e||void 0===e?void 0:e.deliveryInstructions)||"",deliveryOptions:(null===e||void 0===e?void 0:e.deliveryOptions)||""},i})(l),{EDIT:d}=v.b;return i&&!o&&Object(S.jsx)("div",{className:"addresses-and-stores-container",children:Object(S.jsx)(s.a,{"data-testid":"address-modal",address:n,isOpen:i,updateSetOrderDetails:a,toggleModal:()=>{a({isOpenSaveDeliveryAddressModal:!1})},isAddressFromOrderProcessing:!0,modalType:d,deliveryInstration:null===t||void 0===t?void 0:t.instruction})})},C=e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{isOpenSaveDeliveryAddressModal:i,deliveryAddress:l,scheduleOrderDateFormat:o,deliverySearchType:n}=t,d=Object(g.c)()[null!==l&&void 0!==l&&l.pinCode?1:0],s=!0;return i&&o&&Object(S.jsx)("div",{className:"addresses-and-stores-container",children:Object(S.jsx)(r.default,{"data-testid":"new-address-modal",deliverySearchType:n||d,setDeliverySearchType:e=>{a({deliverySearchType:e})},prefectureAddressScreen:s,handleClose:i,updateSetOrderDetails:a,modalType:s,address:l,isAddressFromOrderProcessing:s})})},T=e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{isShowPickupOrderCancelModal:i,isShowStoreClosePickupOrderCancelModal:l}=t,o=()=>{a({isShowPickupOrderCancelModal:!1,isShowStoreClosePickupOrderCancelModal:!1})},n={id:"pickupCancelOrderModal",role:"dialog",modalTitleId:"pickupCancelOrderModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:o,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return i||l?Object(S.jsx)(d.a,{...n,children:Object(O.c)({...e,closeModalHandler:o})}):null},y=e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{isShowPickupOrderCheckReadyToPrepareModal:i}=t,l=()=>{a({isShowPickupOrderCheckReadyToPrepareModal:!1})},o={id:"pickupGeoLocationVerifyModal",role:"dialog",modalTitleId:"pickupGeoLocationVerifyModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:l,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return i?Object(S.jsx)(d.a,{...o,children:Object(O.d)({...e,closeModalHandler:l})}):null},D=e=>{var t;const{orderDetails:a}=e,{pickupClosedInfoModal:i,buffertimepmpickup:l=30,isPostorderStoreShutdownPopupModal:o,useTradingHoursForStoreCloseCalculation:n}=a,r={...null===a||void 0===a?void 0:a.store,status:{currentStatus:u.Od,message:u.Od}},s=Object(b.v)(r,l);return Object(h.w)(a)||(!i||null===s||void 0===s||!s.timingFlag||n&&Object(b.se)(null===r||void 0===r||null===(t=r.timings)||void 0===t?void 0:t.storeTradingHours,l))&&!o?null:Object(S.jsx)(d.a,{id:"pickupClosedInfoModal",role:"dialog",modalTitleId:"pickupClosedInfoModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.g)({...e})})},A=e=>{const{orderDetails:t}=e,{isShowCurbsidePlateNumberInputModal:a}=t,i={id:"curbsidePlateNumberInputModal",role:"dialog",modalTitleId:"curbsidePlateNumberInputModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,closeButtonHandler:()=>(e=>{const{updateSetOrderDetails:t}=e;t({isShowCurbsidePlateNumberInputModal:!1})})(e),showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return!Object(h.w)(t)&&a?Object(S.jsx)(d.a,{...i,children:Object(O.b)({...e})}):null},R=e=>{const{orderDetails:t}=e,{pickupClosingSoonModal:a}=t,i={...null===t||void 0===t?void 0:t.store,status:{currentStatus:u.Od,message:u.Od}},l=Object(b.v)(i,Object(j.a)(m.Ob));return!Object(h.w)(t)&&a&&null!==l&&void 0!==l&&l.timingFlag?Object(S.jsx)(d.a,{id:"pickupClosingSoonModal",role:"dialog",modalTitleId:"pickupClosingSoonModal",show:!0,classNames:"Base-modal pickupClosingSoonModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.h)({...e,lastCheckIn:null===l||void 0===l?void 0:l.lastCheckInTime})}):null},_=e=>Object(S.jsxs)(S.Fragment,{children:[I(e),f(e),E(e),C(e),T(e),y(e),D(e),R(e),A(e)]}),w=(e,t)=>Object(S.jsx)(p.a,{isOpen:e,checkoutHeader:!1,showOrderSummaryHeader:!0,handleClose:()=>(e=>{e({openCallSupportModal:!1})})(t)}),L=e=>{const{updateSetOrderDetails:t,orderDetails:a}=e;a.enableCancelOrderCallsupportModal?t({isShowPickupOrderCancelModal:!1,openCallSupportModal:!0,pickupCancelOrder:!(null!==a&&void 0!==a&&a.enableCancelOrderCallsupportModal)}):t({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!0})},M=e=>{const t=[];for(const i of e){const e=i.codePointAt(0);t.push(e)}const a=t.join("%");return btoa(a)},k=(e,t)=>{if(e){const a=Object(N.I)(e,t),i=Object(N.F)(t),l=a.date(),o=i.date(),n=a.isBefore(i);return l===o||n}return!1},P=(e,t,a)=>{if(e){const i=Object(N.I)(e,a),l=Object(N.F)(a),o=i.subtract(t,"minutes"),n=i.add(t,"minutes");let d=0,r=0;return l.isBefore(o)?(d=o.diff(l,"millisecond"),r=n.diff(l,"millisecond")):l.isAfter(o)&&l.isBefore(n)&&(r=n.diff(l,"millisecond")),{timeToEnable:d,timeToDisable:r}}return{timeToEnable:0,timeToDisable:0}}},1159:function(e,t,a){"use strict";var i=a(964);a.d(t,"a",(function(){return i.default}))},1160:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1172:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var i=a(3),l=a.n(i),o=a(6),n=a(329),d=a.n(n),r=a(46),s=a(43),c=a(5),u=a(15),v=a(269),O=a(2);const{GoogleMapLocationImage:b,SuggestionItemSearchPin:m,clearTextIcon:j,Time_Clock:h}=u.a,{SUUGESTED_ITEMS_TEXT:p,ALLOWED_SUGGESTION_LIST:g,SUGGESTION_ACTIVE_COLOR:N,SUGGESTION_ACTIVE_OPACITY:S,BRAND_BLACK:I}=s.a,x=e=>{const{currentMarket:t,placeholder:a,storeSelection:i={},address:n,inputOnChange:s,handleSelectAddress:u,onSearchError:g,locationAlert:N,negativeScenarioAlert:S,inputRef:I,keyPress:x,onClearTextHandler:f,showAutoSuggestion:E,alreadySearched:C,setSuggestedAddress:T,filteredTypes:y,maxLength:D,filterConditions:A,isAddressNotChangable:R}=e,{placesSearchInput:_=!0}=i;return Object(O.jsx)("div",{className:"search-delivery-address",children:Object(O.jsx)("div",{className:"input-delivery-address",children:Object(O.jsx)(d.a,{value:n,onChange:s,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:y},shouldFetchSuggestions:!0,onError:g,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:d,loading:s}=e;return Object(O.jsx)("div",{children:_&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(r.a,{"data-testid":"",srcFile:b,alt:" ",className:"google-location-img"}),Object(O.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:D,className:"".concat(Object(c.ad)(Object(c.qd)(N,S),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:a,ref:I}),onKeyUp:x,disabled:R}),n&&!R&&Object(O.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:f}),Object(c.hb)(Object(c.pc)(i),E)?Object(O.jsx)("div",{className:"suggestion-list",children:Object(v.d)(i,A).map(((e,t)=>(null===T||void 0===T||T(i),Object(O.jsxs)(l.a.Fragment,{children:[0===t&&Object(O.jsx)("div",{className:"suggestion-items suggest-text",children:Object(o.translateWithI18Next)(p)}),Object(O.jsx)("div",{className:"suggestion-item-container",children:Object(O.jsx)("div",{...d(e,{className:"suggestion-items"}),children:Object(O.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(O.jsx)("div",{children:Object(O.jsx)(r.a,{"data-testid":"",srcFile:Object(c.ad)(C(e.description),h,m),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(O.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},f=l.a.memo(x)},1173:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const i={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},l={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},o="subpremise"},1174:function(e,t,a){"use strict";a.d(t,"a",(function(){return R})),a.d(t,"b",(function(){return L})),a.d(t,"g",(function(){return M})),a.d(t,"h",(function(){return k})),a.d(t,"f",(function(){return P})),a.d(t,"e",(function(){return F})),a.d(t,"c",(function(){return W})),a.d(t,"d",(function(){return H}));var i=a(6),l=a(4),o=a(15),n=a(265),d=a(1158),r=a(0),s=a(41),c=a(24),u=a(969),v=a(1108),O=a(5),b=a(603),m=a(122),j=a(20),h=a.n(j),p=a(73),g=a(1111),N=a(2);const S=e=>{var t;const{orderDetails:a}=e,{storeName:o,displayOrderId:n,showOrderSummaryOnSentToPosFailed:d=!1}=a;return Object(N.jsxs)(N.Fragment,{children:[!d&&Object(N.jsx)("div",{className:"pickup-store-order",children:o}),n&&Object(N.jsx)("div",{className:"pickup-store-order red",children:(null===(t=Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},I=e=>{const{orderDetails:t}=e,{orderStatus:a,deliveryOrEstimatedOrCollectAtTime:o,enableRetryCountForPickupOrderTracking:d,pickupOrderEstimatedOrCollectAtTime:r}=t,s=d?r:o;return!Object(n.r)(t)&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(a,"-delivery"),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.COLLECTED_AT)}),Object(N.jsx)("div",{className:"idAndTime time-delivery",children:s})]})},x=e=>{var t,a,i,l;const{orderDetails:d}=e,{orderStatus:r,orderSummarycontentData:s}=d,c=null!==(t=null===s||void 0===s||null===(a=s.icon)||void 0===a||null===(i=a.fields)||void 0===i||null===(l=i.file)||void 0===l?void 0:l.url)&&void 0!==t?t:Object(n.jb)(d)?null===o.a||void 0===o.a?void 0:o.a.TakeawayCompleted:Object(n.gb)(d)?null===o.a||void 0===o.a?void 0:o.a.CartError:Object(n.hb)(d)?null===o.a||void 0===o.a?void 0:o.a.ConfirmedImg:"";return""!==c&&Object(N.jsx)("img",{src:c,className:"statusIcon",alt:r})},f=e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{enablePickupMethodChangePostOrder:i,buffertimepmpickup:l=30,postorderStoreShutdownPopup:o}=t;if(Object(g.q)(t),i){const e={...null===t||void 0===t?void 0:t.store,status:{currentStatus:r.Od,message:r.Od}},i=Object(O.v)(e,l);null!==i&&void 0!==i&&i.timingFlag||a({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0})}else a({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0});o&&(a({isPickupOrderUserConfirmedToCheckIn:!1}),E(e))},E=e=>{var t;const{orderDetails:a,updateSetOrderDetails:i}=e,{postorderStoreShutdownPopup:l,dispatch:o}=a,n={storeid:null===a||void 0===a||null===(t=a.store)||void 0===t?void 0:t.storeId,channel:null===c.b||void 0===c.b?void 0:c.b.channel,service:null===a||void 0===a?void 0:a.service};o(Object(p.n)({data:n,tenantId:null===a||void 0===a?void 0:a.tenantId},(e=>((e,t,a)=>{var i,l,o,n,d,s;t&&(null===(i=e[0])||void 0===i||null===(l=i.summary)||void 0===l||null===(o=l.status)||void 0===o?void 0:o.currentStatus)===r.Y?a({isPickupOrderUserConfirmedToCheckIn:!1,isPostorderStoreShutdownPopupModal:!0,pickupClosedInfoModal:!1}):t&&(null===(n=e[0])||void 0===n||null===(d=n.summary)||void 0===d||null===(s=d.status)||void 0===s?void 0:s.currentStatus)===r.Od&&a({isPickupOrderUserConfirmedToCheckIn:!0,isPostorderStoreShutdownPopupModal:!1})})(e,l,i))))},C=e=>{var t;const{orderDetails:a,isCheckinLoading:o,activateCheckinLimitedWindow:v,mintsBeforePickupCheckinEnabled:O}=e,{collectionPoint:b={},enablePickupMethodChangePostOrder:m,isShowCurbsidePlateNumberInputModal:j=!1,requestedDateTime:h={},selectedPickupOrderCollectionMethod:p,store:g={},hidePostOrderCollectionForAsap:S,orderSummarycontentData:I,fulfillmentDateTime:x}=a,{futureDateTime:E,isForNow:C}=h,{timeZoneIANA:T=""}=g,y=!j&&p===r.ee.CURB_SIDE&&(null===b||void 0===b?void 0:b.carNumber)&&(m||!C&&S),D=()=>{switch(p){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.I_AM_AT_DRIVE_THRU_QUEUE);case(null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE)||(null===r.ee||void 0===r.ee?void 0:r.ee.DINE_IN):return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.I_AM_INSIDE_RESTAURANT);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.I_AM_AT_CURB_SIDE);default:return""}};let A;if(v){const{timeToEnable:e,timeToDisable:t}=Object(d.f)(x,O,T);A=m&&!S&&!((e,t)=>0===e&&t>0)(e,t)}else A=o||m&&!S&&!Object(d.a)(E,T);return Object(n.jb)(a)&&(null===a||void 0===a?void 0:a.selectedPickupOrderCollectionMethod)&&(!S||!C)&&Object(N.jsxs)("div",{className:"pickup-collection-method-ready-to-prepare",children:[Object(N.jsx)("div",{className:"linebreak col-12"}),y?Object(N.jsx)("div",{className:"car-number-plate",children:S?null===I||void 0===I||null===(t=I.subHeadline)||void 0===t?void 0:t.replace(r.L,b.carNumber):"".concat(Object(i.translateWithI18Next)(l.a.CAR_NUMBER_PLATE_LABEL)," ").concat(b.carNumber)}):Object(N.jsx)("div",{children:S?null===I||void 0===I?void 0:I.subHeadline:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.READY_TO_PREPARE_MEAL)}),Object(N.jsx)(s.c,{"data-testid":"pickup-collection-method-ready-to-prepare-btn",variant:s.b.primary,style:{marginTop:"2rem"},inactive:A,loading:o,onClick:()=>(async e=>{const{orderDetails:t,updateSetOrderDetails:a}=e,{store:i,geoLocationCheckForCheckin:l}=t;if(l&&await c.b.BindLocation(),Object(n.hb)(t)&&a({isShowPickupOrderAlreadyCheckInModal:!0}),c.b.coordinates&&l){var o,d,s,v,O;const{latitude:t,longitude:l}=(null===i||void 0===i?void 0:i.location)||{},n=await Object(u.getDistanceByLatLong)({destinations:{latitude:t,longitude:l},origins:(null===c.b||void 0===c.b?void 0:c.b.coordinates)||{}});(null===n||void 0===n||null===(o=n[0])||void 0===o||null===(d=o.status)||void 0===d?void 0:d.toLowerCase())===(null===r.Qe||void 0===r.Qe||null===(s=r.Qe.ZERO_RESULTS)||void 0===s?void 0:s.toLowerCase())||(null===n||void 0===n||null===(v=n[0])||void 0===v||null===(O=v.distance)||void 0===O?void 0:O.value)>300?a({isShowPickupOrderCheckReadyToPrepareModal:!0}):f(e)}else f(e)})(e),ariaLable:D(),children:S?null===I||void 0===I?void 0:I.buttonText:D()})]})},T=e=>{const{orderDetails:t}=e,{selectedPickupOrderCollectionMethod:a,hidePostOrderCollectionForAsap:o}=t;return a&&!o&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&Object(N.jsx)("div",{className:"change-collection-method",children:Object(N.jsx)(s.c,{className:"change-collection-method-btn","data-testid":"change-collection-method-btn",variant:s.b.tertiary,onClick:()=>(e=>{const{updateSetOrderDetails:t}=e;t({selectedPickupOrderCollectionMethod:null,pickupClosedInfoModal:!1})})(e),ariaLable:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHANGE_COLLECTION_METHOD),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHANGE_COLLECTION_METHOD)})})},y=e=>{const{orderDetails:t}=e,{orderStatus:a,service:o,selectedPickupOrderCollectionMethod:d,enableRetryCountForPickupOrderTracking:s,enablePickupMethodChangePostOrder:c,hidePostOrderCollectionForAsap:u,requestedDateTime:O}=t,b=!s||c&&!u?(e=>{var t;const{hideCustomerName:a}=e,o=a?" ":", "+(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."));if(Object(n.jb)(e))switch(null===e||void 0===e?void 0:e.selectedPickupOrderCollectionMethod){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHECIN_AT_DRIVE_THRU);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHECIN_AT_IN_STORE);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHECIN_AT_CURB_SIDE);default:return"".concat(Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_RECEIVED)).concat(o)}else{if(Object(n.gb)(e))return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_ORDER);if(Object(n.hb)(e))return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ENJOY_MEAL)}return""})(t):Object(v.h)(t),m=Object(n.r)(t)||Object(n.gb)(t)?Object(v.c)(t):Object(v.i)(t);return Object(N.jsxs)("div",{children:[""!==b&&Object(N.jsxs)("div",{className:"allSet ".concat(a,"-allSet ").concat(o," ").concat(d," col-12 ").concat(Object(n.ib)(t)?"":"p-0px-imp"),children:[Object(N.jsx)("div",{className:"col-12 statusMessage",children:b}),C(e),c&&T(e)]}),""!==m&&!Object(n.u)(t)&&(!u||!((null===O||void 0===O||!O.isForNow)&&Object(n.ob)(t)))&&Object(N.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:m}})]})},D=e=>{const{orderDetails:t}=e,{orderSummarycontentData:a,enableClickCollectScheduleOrder:i,allowScheduleOrderForDispositions:l,service:o}=t;return i&&(null===l||void 0===l?void 0:l.includes(o))?""!==(null===a||void 0===a?void 0:a.confirmationEmailSubHeadline)&&!Object(n.u)(t)&&Object(N.jsx)("div",{className:"emailconfirmation-container",children:Object(N.jsx)("span",{className:"emailconfirmation-msg",children:null===a||void 0===a?void 0:a.confirmationEmailSubHeadline})}):null},A=e=>{const{orderDetails:t}=e,{deliveryPartner:a,deliveryDetails:o}=t,d=(null===a||void 0===a?void 0:a.otp)||(null===o||void 0===o?void 0:o.otp);return!Object(n.ib)(t)&&d&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ASK_FOR_OTP)}),Object(N.jsx)("div",{className:"idAndTime time-delivery",children:Object(N.jsx)("div",{className:"red otp",children:d})})]})},R=e=>Object(N.jsxs)(N.Fragment,{children:[!Object(n.ib)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),Object(n.hb)(null===e||void 0===e?void 0:e.orderDetails)&&I(e),x(e),y(e),D(e),A(e)]}),_=e=>{switch(e){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.DRIVE_THRU);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.IN_STORE);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CURB_SIDE)}return""},w=e=>{switch(e){case null===r.ee||void 0===r.ee?void 0:r.ee.DRIVE_THRU:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.PICKUP_FROM_WINDOW);case null===r.ee||void 0===r.ee?void 0:r.ee.IN_STORE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.PICKUP_INSIDE_RESTAURANT);case null===r.ee||void 0===r.ee?void 0:r.ee.CURB_SIDE:return Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.PICKUP_FROM_CURB_SIDE)}return""},L=e=>{var t;const{updateSetOrderDetails:a,orderDetails:o}=e;return Object(N.jsxs)("div",{className:"closingsoon-wrapper curbside-plate-number",children:[Object(N.jsxs)("div",{className:"message-cancel",children:[Object(N.jsx)("div",{className:"vehicle-details-title",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.VEHICAL_DETAILS)}),Object(N.jsx)(m.a,{id:"curbside-plate-number-input",name:"curbside-plate-number-input",className:"curbside-plate-number-input",placeholder:Object(i.translateWithI18Next)(l.a.CAR_NUMBER_PLATE),isMandatory:!0,maxLength:10,value:null===(t=o.collectionPoint)||void 0===t?void 0:t.carNumber,onChange:e=>{const t=Object(b.a)(e.target.value);a({collectionPoint:{name:r.ee.CURB_SIDE,carNumber:t}})},onKeyPress:e=>{Object(b.c)(e.key)||e.preventDefault()}})]}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(s.a,{id:"confirm-car-number-btn",className:"button blackButton blackBorder save-button",onClick:()=>{o.collectionPoint.carNumber&&a({selectedPickupOrderCollectionMethod:r.ee.CURB_SIDE,pickupClosedInfoModal:!0,isShowCurbsidePlateNumberInputModal:!1})},children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CONFIRM)})})]})},M=e=>{var t;const{updateSetOrderDetails:a,orderDetails:n}=e,{postorderStoreShutdownPopup:d}=n;return Object(N.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.CartError,alt:"closedOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel",children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.name}),Object(N.jsx)("div",{children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.HAS_NOW_CLOSED)})]}),Object(N.jsx)("div",{className:"message-refund closing-msg "+(d&&"postorderStoreShutdownPopup-msg"),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>a({pickupClosedInfoModal:!1,isPostorderStoreShutdownPopupModal:!1}),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.OK)})})]})},k=e=>{var t,a;const{updateSetOrderDetails:n,orderDetails:d,lastCheckIn:r}=e;return Object(N.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.Timeout,alt:"closingsoonOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel last-checkin",children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===d||void 0===d||null===(t=d.store)||void 0===t?void 0:t.name}),Object(N.jsxs)("div",{children:[Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.LAST_ORDER_CHECKIN_AT),Object(N.jsx)("span",{className:"selected-store-name",children:r})]})]}),Object(N.jsxs)("div",{className:"message-refund closing-msg",children:[null===d||void 0===d||null===(a=d.store)||void 0===a?void 0:a.name," ",Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.IS_CLOSING_SOON)]}),Object(N.jsx)("div",{className:"message-refund ahead-time",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHECK_IN_AHEADTIME)}),Object(N.jsx)("div",{className:"buttonItems",children:Object(N.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>n({pickupClosingSoonModal:!1}),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.OK)})})]})},P=e=>{var t,a;const{orderDetails:d,updateSetOrderDetails:s}=e,{collectionPoint:c,postOrderDetails:u={},pickupOrderAvailableCollectionPoints:v,enablePickupMethodChangePostOrder:O,hidePostOrderCollectionForAsap:b,allowedPickupCollectionMethods:m}=d,j=e=>-1!==(null===v||void 0===v?void 0:v.findIndex((t=>t.collectionPointName===e)));var p;if(!h()(null===u||void 0===u||null===(t=u.collectionPoint)||void 0===t?void 0:t.name)&&j(null===u||void 0===u||null===(a=u.collectionPoint)||void 0===a?void 0:a.name)&&h()(c)&&(O||b))return s({collectionPoint:null===u||void 0===u?void 0:u.collectionPoint,selectedPickupOrderCollectionMethod:null===u||void 0===u||null===(p=u.collectionPoint)||void 0===p?void 0:p.name,pickupClosedInfoModal:!0}),null;const g=Object(n.e)(v,r.ee);return Object(N.jsxs)("div",{className:"col-12 pickupOrder-collection-method-container",children:[Object(N.jsx)("div",{className:"col-12 pickupOrder-collection-method-header",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.SELECT_PICK_UP_METHOD)}),Object(N.jsx)("div",{className:"col-12 pickupOrder-collection-method",children:null===g||void 0===g?void 0:g.map((e=>{const t=null===r.ee||void 0===r.ee?void 0:r.ee[e],a=t===r.ee.CURB_SIDE,n=j(null===r.ee||void 0===r.ee?void 0:r.ee[e]);return!O&&a?null:Object(N.jsxs)("div",{className:"col-12 pickupOrder-collection-method-node","data-testid":"PickupCollectionMethod_"+t,onClick:()=>{n&&s(a?{isShowCurbsidePlateNumberInputModal:!0}:{collectionPoint:{name:t,carNumber:null},selectedPickupOrderCollectionMethod:t,pickupClosedInfoModal:!0})},children:[Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.TakeAwayImg,className:"methodIcon",alt:""}),Object(N.jsxs)("div",{className:"methodDetails",children:[Object(N.jsxs)("div",{className:"methodTitle",children:[_(t),!n&&Object(N.jsx)("div",{className:"methodTitle-Unavailable",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.UNAVAILABLE)})]}),Object(N.jsx)("span",{className:"methodMessage",children:w(t)})]}),n&&Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.Arrow,className:"arrowIcon",alt:""})]},e)}))})]})},F=e=>{const{updateSetOrderDetails:t,orderDetails:a}=e;return Object(N.jsxs)("div",{className:"col-12 pickupOrderCancelPanel",children:[Object(N.jsx)("span",{children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CHANGED_YOUR_MIND)}),null!==a&&void 0!==a&&a.showCancelOrderNumber?Object(N.jsx)("span",{children:Object(N.jsx)("a",{className:"pickupOrderCancelPanelBtn","data-testid":"pickupOrderCancelBtn",href:(null===r.oc||void 0===r.oc?void 0:r.oc.TEL)+Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CONTACTUS_NUMBER),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CONTACTUS_DISPLAYTEXT)})}):Object(N.jsx)("span",{"data-testid":"pickupOrderCancelPanelBtn",tabIndex:"0",className:"pickupOrderCancelPanelBtn",onClick:()=>t({isShowPickupOrderCancelModal:!0}),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_ORDER_BUTTON_TEXT)})]})},W=e=>{var t,a,n,c,u;const{closeModalHandler:v,orderDetails:b}=e,{isShowPickupOrderCancelModal:m,isShowStoreClosePickupOrderCancelModal:j}=b,h=null===b||void 0===b||null===(t=b.store)||void 0===t?void 0:t.phoneNumber,p=null===b||void 0===b||null===(a=b.paymentReferences)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.paymentType;return Object(N.jsxs)("div",{className:"pickupCancelOrderModal",children:[Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.CartError,alt:"pickupCancelOrderModal"}),Object(N.jsxs)("div",{className:"message-cancel",children:[m&&Object(O.Jd)(null===b||void 0===b?void 0:b.service)?Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_DELIVERY_ORDER):Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_PICKUP_ORDER),j&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"selected-store-name",children:null===b||void 0===b||null===(c=b.store)||void 0===c?void 0:c.name}),Object(N.jsx)("div",{children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.HAS_NOW_CLOSED)})]})]}),m&&Object(N.jsx)("div",{className:"message-refund",children:null===(u=Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.FULL_PAYMENT_REFUND))||void 0===u?void 0:u.replace("{{storePhoneNumber}}",h)}),p!==(null===r.Vd||void 0===r.Vd?void 0:r.Vd.PAY_BY_CASH)&&j&&Object(N.jsx)("div",{className:"message-refund",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(N.jsxs)("div",{className:"buttonItems",children:[m&&Object(N.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:v,children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.KEEP_ORDER)}),Object(N.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>Object(d.g)(e),children:b.enableCancelOrderCallsupportModal?Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CALL_SUPPORT_ORDER_BUTTON_TEXT):Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_ORDER_BUTTON_TEXT)})]})]})},H=e=>{const{closeModalHandler:t}=e;return Object(N.jsxs)("div",{className:"pickupGeoLocationVerifyModal",children:[Object(N.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.LocationError,alt:"pickupGeoLocationVerifyModal"}),Object(N.jsx)("div",{className:"message-cancel",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.READY_TO_START_COOKING)}),Object(N.jsx)("div",{className:"message-refund",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CONFIRM_YOU_ARE_HERE_TEXT)}),Object(N.jsxs)("div",{className:"buttonItems",children:[Object(N.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.I_AM_ELSE_WHERE_TEXT)}),Object(N.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>f(e),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.I_AM_HERE_TEXT)})]})]})}},1175:function(e,t,a){"use strict";a(3);var i=a(1142),l=a(5),o=a(2);t.a=e=>Object(l.T)(e.subCategory).map(((t,a)=>{let{categories:l="",products:n=[],id:d="",dname:r}=t;return Object(o.jsxs)("div",{id:d,children:[Object(o.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(o.jsx)("div",{children:r[0].value}),l]}),Object(o.jsx)(i.a,{productList:n,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},a)}))},1179:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(28),n=a(1130),d=a(963),r=a(55),s=a(16),c=a(85),u=a(1159),v=a(2);var O=e=>{const{DISPOSITION_DATA:t=""}=s.a,{userOrderState:a,userOrderStateDispatch:o}=Object(i.useContext)(c.a)||{};return Object(i.useEffect)((()=>{o({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(l.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(v.jsx)(n.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:r.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:r.y})]})})},b=a(5),m=a(1160);t.a=()=>{var e,t,a,i;const{DISPOSITION:l}=m.a;let n=null,d=null,r=Object(o.c)((e=>e.appStateReducer.userStatus));const s=Object(o.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(s.marketPageContent&&s.tenantReducerContent&&s.homePageContent){const{tenant:e=[]}=s.marketPageContent.headerData||{};n=Object(b.fc)(s.homePageContent)||null,d=Object(b.Yc)(e)}return Object(v.jsx)(O,{contentData:{segmentedHomePageData:null!==(e=null===(t=n)||void 0===t?void 0:t[l])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(a=null===(i=n)||void 0===i?void 0:i[l])&&void 0!==a?a:{}},userParams:r,tenantReducerData:s.tenantReducerContent})}},1180:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return T})),a.d(t,"e",(function(){return y})),a.d(t,"d",(function(){return D}));var i=a(1120),l=a.n(i),o=a(6),n=a(210),d=a(4),r=a(15),s=a(1209),c=a(265),u=(a(3),a(2));var v=e=>(e=>Object(u.jsx)(n.a,{...e,testId:"order_summary_raider_details_view",importPath:"ORDER_SUMMARY_RAIDER_DETAILS_VIEW"}))(e),O=a(0),b=a(5),m=a(1108),j=a(399);const h=e=>{const{orderDetails:t,arrivalTime:a,showDeliveryEstimatedTime:i,pastOrderTimeFormat:l}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:n}=t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:i&&null==a?"":S(t)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:i?x({orderDetails:t,arrivalTime:a,pastOrderTimeFormat:l}):I(t)})]})},p=e=>{var t;const{orderSummarycontentData:a,total:i,currencySymbol:l,currencyConversionFactor:o}=e,n=null===a||void 0===a||null===(t=a.payOnArrivalSubheadline)||void 0===t?void 0:t.replace(O.wf,'<span class="red">'.concat(Object(b.K)(i,{currencySymbol:l,currencyConversionFactor:o}),"</span>")),d="<div class='subheadline-content'>".concat(n,"</div>");return Object(c.B)(e)?d:null===a||void 0===a?void 0:a.payOnArrivalSubheadline},g=e=>{var t,a;const{orderDetails:i,isUberServiceableEnabled:o}=e,n=null!==i&&void 0!==i&&null!==(t=i.requestedDateTime)&&void 0!==t&&t.isForNow||o&&Object(j.e)(null===i||void 0===i||null===(a=i.deliveryDetails)||void 0===a?void 0:a.partnerName)?null===i||void 0===i?void 0:i.orderTrackingProgressBarCount:null===i||void 0===i?void 0:i.orderTrackingProgressBarScheduleOrdersCount;let d=[];const r=Object(m.e)(i);return 0!==r&&l()(n,(e=>{d.push(Object(u.jsx)("div",{className:"ProgressDelivery Bar",children:Object(u.jsx)("div",{className:"subProgressDelivery ".concat(e<r?e===r-1?"play":"full":"none")},e)},e))})),r>0&&r<=n&&Object(u.jsx)("div",{className:"progress-bar-list col-12",children:d})},N=e=>{var t,a,i;const{orderDetails:l}=e,{orderStatus:o,orderSummarycontentData:n,enableRetryCountForPickupOrderTracking:d,enableClickCollectScheduleOrder:s}=l,{ConfirmedImg:v,TakeAwayImg:O,DeliveryTracker:b,DeliveryCart:m,CartError:j,TakeawayCompleted:h}=r.a,p=d&&!s?null===n||void 0===n||null===(t=n.icon)||void 0===t||null===(a=t.fields)||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url:Object(c.O)(l)?v:Object(c.J)(l)?O:Object(c.G)(l)||Object(c.R)(l)?h:Object(c.P)(l)||Object(c.N)(l)||Object(c.F)(l)?b:Object(c.K)(l)?m:Object(c.I)(l)?j:v;return""!==p&&Object(u.jsx)("img",{src:p,alt:o})},S=e=>{const{orderSummarycontentData:t}=e,a=null===t||void 0===t?void 0:t.mainHeadingOne;if(null!==a&&void 0!==a&&a.includes(O.gf))return null===e||void 0===e?void 0:e.storeName;if(null!==a&&void 0!==a&&a.includes(O.tb)){const i={...t,subHeadline:a};return Object(u.jsx)("div",{className:"substatusmsgDelivered",dangerouslySetInnerHTML:{__html:Object(m.q)(i,e)}})}return Object(o.translateWithI18Next)(null===t||void 0===t?void 0:t.mainHeadingOne)},I=e=>{const{orderSummarycontentData:t,deliveryOrEstimatedOrCollectAtTime:a}=e,i=null===t||void 0===t?void 0:t.mainHeadingTwo;return null!==i&&void 0!==i&&i.includes(O.Qd)?Object(s.d)(e):i?a:void 0},x=e=>{var t;const{arrivalTime:a,orderDetails:i,pastOrderTimeFormat:l}=e;return Object(c.D)(i)?"".concat(Object(b.bd)(null===i||void 0===i||null===(t=i.deliveryDetails)||void 0===t?void 0:t.actualDeliveryTime,l)):a},f=e=>{var t;const{orderDetails:a,isUberServiceableEnabled:i}=e,{orderStatus:l,enableRetryCountForPickupOrderTracking:n,enableClickCollectScheduleOrder:r,orderSummarycontentData:s,showPinCode:v,deliveryPinDetails:O}=a,b=Object(j.e)(null===a||void 0===a||null===(t=a.deliveryDetails)||void 0===t?void 0:t.partnerName)&&i,h=!n&&!b||r?Object(c.a)(a):Object(m.h)(a),p=!Object(c.r)(a)&&!Object(c.I)(a)||r?Object(m.i)(a):Object(m.c)(a);return Object(u.jsxs)("div",{children:[""!==h&&Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(l,"-delivery-allSet col-12 ").concat(Object(c.L)(a)?"":"p-0px-imp"," ").concat(i?"allSet-smaller-font":""),children:Object(u.jsx)("span",{children:Object(o.translateWithI18Next)(h)})}),""!==p&&!Object(c.A)(a)&&Object(u.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:p}}),(null===s||void 0===s?void 0:s.description)&&Object(u.jsxs)("div",{className:"emailConfirmTxt",children:[" ",Object(o.translateWithI18Next)(null===s||void 0===s?void 0:s.description)]}),v&&O&&(null===O||void 0===O?void 0:O.isPinEnabled)&&!Object(c.L)(a)&&Object(u.jsxs)("div",{className:"row pincode-section",children:[Object(u.jsxs)("span",{children:[Object(o.translateWithI18Next)(d.a.PIN_CODE),":"]}),Object(u.jsx)("span",{children:O.pin})]})]})},E=e=>{const{orderDetails:t}=e,{deliveryPartner:a,deliveryDetails:i}=t,l=(null===a||void 0===a?void 0:a.otp)||(null===i||void 0===i?void 0:i.otp);return!Object(c.O)(t)&&l&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ASK_FOR_OTP)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:l})})]})},C=e=>Object(u.jsxs)(u.Fragment,{children:[!Object(m.l)(null===e||void 0===e?void 0:e.orderDetails)&&!Object(c.I)(null===e||void 0===e?void 0:e.orderDetails)&&h(e),N(e),!Object(m.m)(null===e||void 0===e?void 0:e.orderDetails)&&g(e),f(e),E(e)]}),T=e=>{const{orderDetails:t}=e,{deliveryPartner:a,deliveryDetails:i}=t;return Object(u.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts",className:"iframe-ordertrackingmaps",title:Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.TRACK_ORDER),src:(()=>{const e=(null===a||void 0===a?void 0:a.tracking_url)||(null===i||void 0===i?void 0:i.deliveryTrackingUrl);return(e&&-1===e.indexOf(O.Lc)?O.Lc:"")+e})()})},y=e=>{const{deliveryAddress:t,store:a,deliveryDetails:i}=null===e||void 0===e?void 0:e.orderDetails;if(Object(b.pe)(a)&&Object(b.pe)(t)){var l,o,d,r;const s=[null===a||void 0===a||null===(l=a.location)||void 0===l?void 0:l.latitude,null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude],c=[null===t||void 0===t||null===(d=t.location)||void 0===d?void 0:d.latitude,null===t||void 0===t||null===(r=t.location)||void 0===r?void 0:r.longitude];return(e=>Object(u.jsx)(n.a,{...e,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0,storeLatLng:s,customerLatLng:c,raiderCurrentLatLng:null===i||void 0===i?void 0:i.riderLocation,stylers:A}))(e)}},D=e=>{const{orderDetails:t}=e;return(Object(c.y)(t)||Object(c.fb)(t))&&Object(u.jsx)(v,{...e})},A=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#202124"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#202124"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e3e3e3"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17}]}]},1184:function(e,t,a){"use strict";var i=a(3),l=a(28),o=a(59),n=a(66),d=a(332),r=a(6),s=a(4),c=a(144),u=a(46),v=a(15),O=a(55),b=a(5),m=a(41),j=a(2);var h=e=>{const{onCancel:t,setOccasionNameHandler:a,updateFavouriteOrder:i,occasionName:l,isNameExist:o,isInValid:n,isEditOrderName:d=!1,onClearTextHandler:c,disaableButton:O,editFavHeading:b=!1,isAddFavOrderBox:h=!1,errorMessage:p}=e,{CANCEL:g,SAVE:N,OCCASSION_ADD_HEADING:S,OCCASSION_EDIT_HEADING:I,ORDER_PLACEHOLDER:x,NAME_EXIST:f,OCCASION_NAME_VALIDATION:E,EDIT_FAVOURITE_HEADING:C,SAVE_FAV_ORDER:T,PLEASE_FILL_OUT_THIS_FIELD:y}=s.a,D=d?b?C:I:S,A=n?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(r.translateWithI18Next)(h?T:D)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:l,type:"text","data-testid":"occasion-input",className:o||n?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>a(e,d),title:Object(r.translateWithI18Next)(y)}),Object(j.jsx)("label",{children:Object(r.translateWithI18Next)(x)}),n&&Object(j.jsxs)("div",{className:"error-text-container ".concat(A),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(r.translateWithI18Next)(p)})]}),""!==l?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>c()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(m.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(r.translateWithI18Next)(g)}),Object(j.jsx)(m.a,{disabled:O,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>i(),children:Object(r.translateWithI18Next)(N)})]})]})};t.a=e=>{const{isMobile:t,editItemId:a,setEditItemId:m,showOccassionModal:p,setOccassionModalOpen:g,cardInfo:N,toastmessage:S,hasEdit:I=!1,occasionName:x,setOccasionName:f,isAddFavOrderBox:E,updateSetOrderDetails:C,userParams:T,currencyShortName:y,currencyConversionFactor:D,orderDetail:A,productMapById:R}=e,_=Object(l.b)(),[w,L]=Object(i.useState)(""),[M,k]=Object(i.useState)(""),[P,F]=Object(i.useState)(!0),[W,H]=Object(i.useState)([]),B=Object(l.c)((e=>{var t;return Object(b.rd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:U,phone:G}=Object(l.c)((e=>{var t;return Object(b.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:V,favouriteNameMinLength:Y}=Object(l.c)((e=>Object(b.rd)(e.tenantReducer))),{tenantId:K}=Object(l.c)((e=>Object(b.sd)(e.tenantReducer))),[q,z]=Object(i.useState)(!1),[J,X]=Object(i.useState)(!1),[Q,Z]=Object(i.useState)(""),{FavoriteActiveWhite:$}=v.a,ee=Object(j.jsx)(u.a,{srcFile:$}),te=Object(r.translateWithI18Next)(s.a.FAVORITE_ORDER_NAME_EDITED),ae=Object(b.ad)(I,"occassion-modal","OccassionModal"),ie=Object(b.ad)(I,"edit-modal",""),{NAME_EXIST:le,OCCASION_NAME_VALIDATION:oe,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:ne,OCCASION_NAME_LENGTH_ERROR:de}=s.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{k(x),L(x)}),[p]),Object(i.useEffect)((()=>{w&&Object(b.hb)(!q,!J)&&(null===w||void 0===w?void 0:w.length)>=Y?F(!1):F(!0)}),[w,q,J]);const re=Object(b.ad)(I,(()=>{let e=null===w||void 0===w?void 0:w.trim();const t=null===W||void 0===W?void 0:W.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),i=null===V||void 0===V?void 0:V.test(w);let l=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.jb)(!i,0===l))z(!0);else if(i&&t>=0&&M!==w)X(!0),z(!1);else{const e={tenantId:K,customerId:U,phoneNumber:Object(b.Pc)(G)},t={orderId:a,name:w};_(Object(d.a)(e,t)),m(""),ce(),Object(b.Df)(te,ee,"favorites-added-toast"),setTimeout((()=>{o.b.dismiss()}),3e3)}}),(()=>{let e=null===w||void 0===w?void 0:w.trim();const t=null===W||void 0===W?void 0:W.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),a=null===V||void 0===V?void 0:V.test(w);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.jb)(!a,0===i))z(!0);else if(a&&t>=0)X(!0),z(!1);else{const{id:e}=N;_(Object(d.a)({customerId:U,tenantId:K,phoneNumber:Object(b.Pc)(G)},{orderId:e,name:w})),Object(b.hb)(p,C)&&C({saveFavoriteSummarySucess:!0}),ce(),Object(b.Df)(S,ee,"favorites-added-toast"),setTimeout((()=>{o.b.dismiss()}),3e3);const t=[],a={userType:Object(b.od)(null===T||void 0===T?void 0:T.localized,null===T||void 0===T?void 0:T.loggedIn),coupon:(null===A||void 0===A?void 0:A.discountLines)||"NA",value:((null===A||void 0===A?void 0:A.total)/D).toFixed(2),currency:y},i=(null===A||void 0===A?void 0:A.orderedItemDetails)||(null===A||void 0===A?void 0:A.filteredFoodLines);null===i||void 0===i||i.forEach(((e,a)=>{var l,o,n,d,r,s,c,u,v,O,b,m;const{categoryId:j="NA",categoryName:h="NA"}=null!==(l=null===R||void 0===R?void 0:R[null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==l?l:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)||"NA",item_id:void 0!==(null===A||void 0===A?void 0:A.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,price:Number(((null===e||void 0===e?void 0:e.amount)/D).toFixed(2))||0,item_category:""!==h?(null===(r=i[a])||void 0===r?void 0:r.categoryUrl)||(null===(s=i[a])||void 0===s||null===(c=s.item)||void 0===c?void 0:c.categoryUrl):h,item_list_name:""!==h?(null===(u=i[a])||void 0===u?void 0:u.categoryUrl)||(null===(v=i[a])||void 0===v||null===(O=v.item)||void 0===O?void 0:O.categoryUrl):h,item_list_id:void 0!==(null===A||void 0===A?void 0:A.orderedItemDetails)?""!==j?null===(b=i[a])||void 0===b?void 0:b.id:j:null===e||void 0===e||null===(m=e.item)||void 0===m?void 0:m.id,index:a,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(O.i)(t,a)}}));Object(i.useEffect)((()=>{const e=[];null===B||void 0===B||B.map((t=>{var a,i;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(a=t.name)||void 0===a||null===(i=a.toUpperCase())||void 0===i?void 0:i.trim())})),H(e),a&&(z(!1),X(!1))}),[a]);const se={id:"occassion-modal",role:"dialog",modalTitleId:ae,show:p,classNames:"Base-modal ".concat(Object(b.ad)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>ce(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ce=Object(b.ad)(I,(()=>{X(!1),z(!1),g(!1)}),(()=>{g(!1)}));return Object(i.useEffect)((()=>{((e,t,a,i)=>{if(e){const l={customerId:t,tenantId:e,phoneNumber:Object(b.Pc)(a),updateUserData:!0};i(Object(n.d)(l))}})(K,U,G,_)}),[_,K,U,G]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(c.a,{...se,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(h,{onCancel:ce,setOccasionNameHandler:(e,t)=>{var a;const i=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value,l=null===W||void 0===W?void 0:W.includes(null===i||void 0===i?void 0:i.toUpperCase()),o=null===V||void 0===V?void 0:V.test(i),n=(null===i||void 0===i?void 0:i.length)<3;let d="";""!==i&&(n&&!o?d=ne:n?d=de:o?l&&(d=le):d=oe),F(!!d),z(!!d),X(d===le),Z(d),f(i),L(i)},updateFavouriteOrder:re,occasionName:w,isNameExist:J,isInValid:q,onClearTextHandler:()=>{f(""),L(""),X(!1),z(!1)},disaableButton:P,isEditOrderName:I,editFavHeading:I,"data-testid":ie,isAddFavOrderBox:E,errorMessage:Q})})})})})})}},1185:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return S}));var i=a(4),l=a(0),o=a(267);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:n}=o.b,{DELIVERY:d}=l.Jb||{},{DELIVERY_PLACEHOLDER:r,SELECT_KFC_TITLE:s,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:O,STORE_CLOSE_ERROR_DELIVERY:b,SAVED_ADDRESS:m,DELIVER_TO_YOU:j,ORDER_MODE:h,SELECT_STORE_TEXT:p,START_ORDER:g}=i.a,N="FORM",S={["".concat(d,"_").concat(N)]:{placeholder:r,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:m,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:s,orderModeScreenErrorText:b,placeholder:r,kfcStoresCountText:j,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n},["".concat(d,"_").concat("SAVED")]:{placeholder:r,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:m,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:n}}},1186:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(28),n=a(41),d=a(6),r=a(4),s=a(394),c=a(85),u=a(43),v=a(80),O=a(132),b=a(2);const{SAVED_ADDRESS:m,START_ORDER:j,SAVED_ADDRESSES:h}=r.a,{SAVED_ADDRESS_LIMIT:p}=u.a,g=e=>{var t;const a=Object(O.a)(),{handleSelectAddress:l,savedAddresses:r=[],show:u,scheduleOrderDateFormat:g}=e,N=Object(o.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),S=null===N||void 0===N||null===(t=N.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:I}=Object(i.useContext)(c.a),x=null===r||void 0===r?void 0:r.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,p),f=(null===r||void 0===r?void 0:r.length)>1?Object(d.translateWithI18Next)(h):Object(d.translateWithI18Next)(m),E=(null===r||void 0===r?void 0:r.length)>p?p:r.length;return u&&Object(b.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(b.jsx)("div",{className:"savedAddress-store-count",children:Object(b.jsx)("span",{className:"saved-address-count-title",children:"".concat(f," (").concat(E,")")})}),null===x||void 0===x?void 0:x.map(((e,t)=>{var i,o;return Object(b.jsx)("div",{className:"savedAddress-module-card",children:Object(b.jsxs)("div",{className:"inside-card",children:[Object(b.jsxs)("div",{className:"address-section",children:[Object(b.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),S&&Object(b.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e||null===(i=e.addressLines)||void 0===i||null===(o=i.filter(Boolean))||void 0===o?void 0:o.join(" ")," "]})}),!S&&Object(b.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)(n.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(s.U)(e,I,l,a,v.d,g),"data-testid":"saved-start-order-click-test",children:Object(d.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},N=l.a.memo(g);t.a=N},1193:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a(3),l=a.n(i),o=a(6),n=a(41),d=a(1172),r=a(4),s=a(46),c=a(15),u=(a(1227),a(2));const{Error:v}=c.a,O=e=>{const{showConfirmBtn:t=!1,onClickHandler:a}=e,{CONFIRM_BTN_TEXT:i}=r.a;return Object(u.jsxs)(l.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(d.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(n.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:a,children:Object(o.translateWithI18Next)(i)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(s.a,{srcFile:v,className:"location-alert-icon"})})]})},b=l.a.memo(O)},1194:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(6),n=a(263),d=a(46),r=a(15),s=a(5),c=a(4),u=a(2);const v=e=>{const{isAlert:t,show:a,sectionHeader:i,subSectionValue:l,orderTypeChange:v,onClickHandler:O,description:b,storeUnavailableError:m,showChangeButton:j=!0,scheduleTimeWarning:h=!1,scheduleErrMsg:p="",cssSubsection:g,specialNote:N="",dataTestid:S="",elementUniqueLocator:I}=e;return a?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(i)}),Boolean(m)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.ad)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&r.a.Error_Yellow||r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(o.translateWithI18Next)(m)}})]}),Boolean(h)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:r.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:p})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(g),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:l}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),N&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(o.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",N]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(n.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":I?S:"dynamic-click-test",children:Object(o.translateWithI18Next)(v)})})]})]}):null},O=l.a.memo(v);t.a=O},1195:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(6),n=a(15),d=a(430),r=a(4),s=a(120),c=a(1117),u=a(46),v=a(16),O=a(2);const b=e=>{const{show:t,sectionHeader:a,selectedDate:i,selectedTime:l,changeDateValue:b,changeTimeValue:m,dateTimeArr:j,showCateringWarning:h=!1,scheduleTimeWarning:p=!1,scheduleErrMsg:g="",scheduleErrorType:N="",scheduleWarningMsg:S="",changeTimeObj:I={},changeDateObj:x={},placeholderText:f,disableDateOption:E=!1,disableTimeOption:C=!1,enableScheduleOrderFlag:T=!1,enableOrderCapacityManagement:y=!1,orderCapacity:D={},storeId:A="",elementUniqueLocator:R,isUberStore:_=!1}=e,{SingleArrow:w}=n.a,{DATE:L,TIME:M,UBER_TIME:k}=r.a,P=T?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",F=y?Object(s.n)(D,A,i,j):[],W=y?F:null===i||void 0===i?void 0:i.timeSlots;return t?Object(O.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(O.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(a)}),Object(O.jsx)(c.a,{show:null===h||void 0===h?void 0:h.show,errorMsg:null===h||void 0===h?void 0:h.warning,errImage:null===h||void 0===h?void 0:h.image,cssClass:null===h||void 0===h?void 0:h.cssClass}),p&&Object(O.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(O.jsx)(u.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(O.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(O.jsxs)("div",{className:P,children:[Object(O.jsx)(d.a,{cssClass:"date-time-dropdown",dropdownTitle:Object(o.translateWithI18Next)(L),setSelectedItem:b,changeDateObj:x,changeTimeObj:I,dateTimeArr:j,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:w,options:Object(s.o)(j),dropdownId:"date-id",disableOptions:E,enableOrderCapacityManagement:y,shouldDisplayDropdownError:p&&S&&N===v.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:S,dataTestid:"schedule-date",elementUniqueLocator:R}),Object(O.jsx)(d.a,{cssClass:"date-time-dropdown ".concat(y?"date-time-dropdown--order-capacity":""),dropdownTitle:_?Object(o.translateWithI18Next)(k):Object(o.translateWithI18Next)(M),setSelectedItem:m,changeDateObj:x,changeTimeObj:I,dateTimeArr:j,selectedItem:l,imgSrc:w,options:W,dropdownId:"time-id",placeholderText:f,disableOptions:C,enableOrderCapacityManagement:y,shouldDisplayDropdownError:p&&S&&N===v.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:S,dataTestid:"schedule-time",elementUniqueLocator:R})]})]}):null},m=l.a.memo(b);t.a=m},1196:function(e,t,a){"use strict";var i=a(5),l=a(3),o=a(1221),n=a(46),d=a(1206),r=a(133),s=a(15),c=a(0),u=a(28),v=a(2);const{UseLocationIcon:O}=s.a,b=e=>{var t,a,s,b,m;const{eligibleStores:j,loggedIn:h,defaultStoreId:p,selectedCoords:g,passAddress:N,configSearchKey:S,useCurrentLocation:I,showLocationConfirmModal:x,findAKFC:f,favouriteStores:E,useLatLngForReverseGeocode:C,disableMapSelection:T=!1,disableUseLocationIcon:y=!1,markerDragValue:D=!1,zoomLevel:A=12}=e,R=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:_,countryCode:w}=R,L=null===R||void 0===R||null===(t=R.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(s=a.dispositionConfig)||void 0===s?void 0:s.showLabelOnMapPin,M=null===_||void 0===_||null===(b=_.web)||void 0===b?void 0:b.dispositionConfig,{shouldShowStoresLocation:k,shouldShowStoreCardsMap:P,shouldShowMarkerWithText:F,shouldIgnoreStoreList:W,storeOpenBtnText:H}={...null===r.d||void 0===r.d?void 0:r.d[S],...null===M||void 0===M?void 0:M[S]},[B,U]=Object(l.useState)(Object(i.de)(window.innerWidth)),[G,V]=Object(l.useState)(p),[Y,K]=Object(l.useState)({storeDetails:{},storeIndex:0}),[q,z]=Object(l.useState)([]),[J,X]=Object(l.useState)(!0),[Q,Z]=Object(l.useState)(200),[$,ee]=Object(l.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,K({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),X(Boolean(null===j||void 0===j?void 0:j.length))},ae=()=>{var e,t;const a=Object(i.de)(window.innerWidth);U(a);const l=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,o=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let n=.9*(o-l);if(a){var d,r;n=o-l-(null===(d=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(r=Y.storeDetails)||void 0===r?void 0:r.id)))||void 0===d?void 0:d.clientHeight)}ee(n)};Object(l.useEffect)((()=>(window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)})),[B]),Object(l.useEffect)((()=>{te(G)}),[G,E]),Object(l.useEffect)((()=>{j.length>0&&te(G)}),[j,G]),Object(l.useEffect)((()=>{const e=c.cd[w]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let a=null!==g&&void 0!==g&&g.lat?g:e;null!==t&&void 0!==t&&t.length?z(t):z(a)}),[E,G,j]),Object(l.useEffect)((()=>{var e,t;const a=null===(e=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(t=Y.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;a&&Z(a)}),[null===Y||void 0===Y||null===(m=Y.storeDetails)||void 0===m?void 0:m.id]),Object(l.useEffect)((()=>{ae()}),[]);const ie=Object(i.Je)(J,P);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(T&&"block-map"),children:[Object(v.jsxs)("div",{className:f?"".concat(Object(i.ad)(ie,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(o.a,{latLongValue:q,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:N,isVisible:k,isMobile:B,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===Y||void 0===Y?void 0:Y.storeIndex)-1])||void 0===t?void 0:t.id;te(e),V(e)}else if(1===e){var a;const e=null===j||void 0===j||null===(a=j[(null===Y||void 0===Y?void 0:Y.storeIndex)+1])||void 0===a?void 0:a.id;te(e),V(e)}},setShowCard:X,setStoreMarker:e=>{const t=Object(i.X)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),V(null===t||void 0===t?void 0:t.id))},storeCardHeight:Q,isMarkerVisible:W||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:F,locationAlertProp:F,style:{height:"".concat($,"px")},defaultZoom:A,useLatLngForReverseGeocode:C,markerDragValue:D,showLabelOnMapPin:L}),!y&&Object(v.jsx)("div",{className:"use-location-icon ".concat(x?"disable-location-icon":""),children:Object(v.jsx)(n.a,{srcFile:O,alt:"",onClick:I,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:f?"".concat(Object(i.ad)(ie,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:ie&&(null===Y||void 0===Y?void 0:Y.storeDetails)&&Object(v.jsx)(d.a,{store:null===Y||void 0===Y?void 0:Y.storeDetails,isMapView:!0,loggedIn:h,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:f,storeOpenBtnText:H})})]})};b.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=b},1197:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a(3),l=a.n(i),o=a(6),n=a(263),d=a(46),r=a(269),s=a(394),c=a(15),u=a(2);const{LocationImage:v}=c.a,O=e=>{const{loggedIn:t=!1,formContent:a={},useCurrentLocation:i,storeSelection:l,hideLocationLink:c,showLocationConfirmModal:O}=e,{signInLink:b,useMyLocation:m}=l,{memberText:j="",singInLink:h={},currentLocationText:p=""}=a;return Object(u.jsxs)("div",{className:"login-section",children:[b&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(r.f)(j,s.R,h)}),m&&!c&&Object(u.jsx)("span",{className:"".concat(O?"disable-location-link":""),children:Object(u.jsxs)(n.a,{onClickHandler:i,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(d.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(o.translateWithI18Next)(p)]})})]})},b=l.a.memo(O)},1198:function(e,t,a){"use strict";var i=a(3),l=a(28),o=a(5),n=a(85),d=a(0),r=a(1199),s=a(62),c=a(1111);t.a=e=>{var t,a,u,v,O,b;const m=Object(s.g)(),{isOpen:j,handleClose:h,isModalView:p=!0,showOrderSummaryHeader:g=!1,orderHistoryPage:N=!1}=e,S=Object(l.b)(),{userOrderState:I}=Object(i.useContext)(n.a),x=Object(o.Sd)(I.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):I.dispositionNew,{type:f,store:E,orderDetails:C={}}=Object(o.Td)(x)?x:{},{helpReducer:T,orderReducer:y,postOrderReducer:D,tenantReducer:A}=Object(l.c)((e=>e)),R=Object(o.ic)(T.helpResponse||null),_=N?void 0:(null===y||void 0===y||null===(t=y.response)||void 0===t||null===(a=t.order)||void 0===a?void 0:a.deliveryPartners)||(null===D||void 0===D||null===(u=D.orderAccepted)||void 0===u?void 0:u.deliveryPartners),[w,L]=Object(i.useState)(_);return Object(i.useEffect)((()=>{Object(c.d)(S),L(_)}),[]),Object(o.Td)(R)&&Object(r.e)({contentData:R,service:g?null===C||void 0===C?void 0:C.type:f,store:g?null===C||void 0===C?void 0:C.store:E,isOpen:j,handleClose:h,isModalView:p,history:m,deliveryPartner:w,NeedHelpSectionDisplayFlag:null===A||void 0===A||null===(v=A.componentOptions)||void 0===v||null===(O=v.web)||void 0===O||null===(b=O.orderPages)||void 0===b?void 0:b.getDeliveryOrderStatusMessageFlag})}},1199:function(e,t,a){"use strict";a.d(t,"e",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return g}));var i=a(6),l=a(210),o=a(4),n=a(0),d=a(5),r=a(144),s=a(2);const c=e=>Object(s.jsx)(l.a,{...e,testId:"need_help_view",importPath:"NEED_HELP_VIEW"}),u=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case n.Jb.DELIVERY:return Object(i.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.DELIVERY_TITLE);case n.Jb.PICKUP:return Object(i.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.PICKUP_TITLE)}return""},v=e=>null!==e&&void 0!==e&&e.isModalView?O(e):c(e),O=e=>{const{service:t,handleClose:a,isOpen:i}=e,l={role:"dialog",modalTitleId:"need-help-modal",show:!0,classNames:"need-help-modal",showCloseBtn:!0,closeButtonHandler:a,modalTitle:u(t),showBackBtn:!1,closeDataTestId:"close-need-help-modal",id:"NeedHelpModal",autoFocus:!0};return i&&Object(s.jsx)(r.a,{...l,children:c(e)})},b=e=>{var t;const{service:a,contentData:i,store:l,deliveryPartner:o}=e,{helpSectionCallDetails:d}=i;switch(null===a||void 0===a?void 0:a.toUpperCase()){case n.Jb.PICKUP:return(null===l||void 0===l?void 0:l.phoneNumber)||(null===l||void 0===l||null===(t=l.contacts.find((e=>e.key===n.Zd)))||void 0===t?void 0:t.value);case n.Jb.DELIVERY:default:return j(o,d)}},m=(e,t)=>{e.preventDefault();const{contentData:a,history:i,handleClose:l}=t,{helpSectionContactDetails:o}=a;l(),i.push({pathname:null===o||void 0===o?void 0:o.url})||i.push({pathname:null===o||void 0===o?void 0:o.internalURL})},j=(e,t)=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return"".concat(null===t||void 0===t?void 0:t.skedadelContactNo);case n.Ab.UBERDIRECT:return"".concat(null===t||void 0===t?void 0:t.uberDirectContactNo);case n.Ab.KFC_GENERIC_MSG:return"".concat(null===t||void 0===t?void 0:t.kfcGenericContactNo);default:return"".concat(null===t||void 0===t?void 0:t.contactNo)}},h=e=>{const{service:t,contentData:a,deliveryPartner:l}=e,{helpSectionCallDetails:d}=a;switch(null===t||void 0===t?void 0:t.toUpperCase()){case n.Jb.PICKUP:case n.Jb.CATERING:return Object(i.translateWithI18Next)(null===o.a||void 0===o.a?void 0:o.a.CALL_KFC_STORE);case n.Jb.DELIVERY:default:return"".concat(null===d||void 0===d?void 0:d.buttonText," ").concat(j(l,d))}},p=e=>{var t;return e&&Array.isArray(e)?null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value:e},g=e=>{var t,a;const{service:i,contentData:l,store:o,deliveryPartner:r}=e,{helpSectionCallDetails:c,callsupportcontent:u=[]}=l;switch(null===i||void 0===i?void 0:i.toUpperCase()){case n.Jb.PICKUP:return Object(s.jsxs)("div",{children:[!u.length&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"bold-text",children:p(null===o||void 0===o?void 0:o.name)}),Object(s.jsx)("br",{}),Object(d.ac)((null===o||void 0===o?void 0:o.address)||(null===o||void 0===o?void 0:o.addresses))]}),u.length&&Object(s.jsx)("span",{children:null===(t=u[0])||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.description})]});case n.Jb.CATERING:return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"bold-text",children:p(null===o||void 0===o?void 0:o.name)}),Object(s.jsx)("br",{}),Object(d.ac)((null===o||void 0===o?void 0:o.address)||(null===o||void 0===o?void 0:o.addresses))]});case n.Jb.DELIVERY:default:return((e,t)=>{const a=(e,a,i)=>Object(s.jsxs)("span",{children:[null===t||void 0===t?void 0:t[e]," ",Object(s.jsxs)("span",{className:"bold-text",children:[null===t||void 0===t?void 0:t[a]," "]}),null===t||void 0===t?void 0:t[i]]});switch(null===e||void 0===e?void 0:e.toLowerCase()){case n.Ab.SKEDADEL:return a("skededal1","skededal2","skededal3");case n.Ab.UBERDIRECT:return a("uberDirect1","uberDirect2","uberDirect3");case n.Ab.KFC_GENERIC_MSG:return a("kfcGenericMsg1","kfcGenericMsg2","kfcGenericMsg3");default:return a("val1","val2","val3")}})(r,c)}}},1203:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return r}));var i=a(32),l=a(3),o=a(0),n=a(2);var d=e=>{const{tabIndex:t,ariaLable:a,className:d,options:r,onChange:s,testid:c="",selectedValue:u,name:v,...O}=e;return Object(l.useEffect)((()=>{u&&(null===s||void 0===s||s({target:{value:u,name:v}}))}),[u,v]),Object(n.jsx)("select",{className:d,tabIndex:t,"aria-label":a,onChange:s,onKeyPress:e=>{const{SPACE:t,ENTER:a}=o.ag.KEY_CHAR_CODE;!s||e.charCode!==t&&e.charCode!==a||s()},"data-testid":c,defaultValue:u,name:v,...O,children:null===r||void 0===r?void 0:r.map(((e,t)=>((e,t)=>{const a=u===e?{selected:"selected"}:"";return Object(n.jsx)("option",{value:e,"data-testid":"".concat(c).concat(t),defaultValue:u===e,...a,children:Object(i.translateWithI18Next)(e)},e)})(e,t)))})};const r=e=>{const{tabIndex:t,ariaLable:a,className:i,options:l,onChange:d,testid:r="",selectedValue:s,...c}=e;return Object(n.jsxs)("select",{className:i,tabIndex:t,"aria-label":a,onChange:d,onKeyPress:e=>{const{SPACE:t,ENTER:a}=o.ag.KEY_CHAR_CODE;!d||e.charCode!==t&&e.charCode!==a||d()},"data-testid":r,defaultValue:s,...c,children:[Object(n.jsx)("option",{children:o.ag.DROPDOWN_DEFAULT_VALUE}),Object.keys(l).map(((e,t)=>{return Object(n.jsx)("optgroup",{label:e,"data-testid":"sort-visit-group",children:(a=l[e],a.map((e=>Object(n.jsx)("option",{value:e.value,title:e.category,"data-testid":"sort-visit-option",children:e.value},e.value))))},t);var a}))]})}},1204:function(e,t,a){"use strict";a(3);var i=a(210),l=a(2);t.a=e=>(e=>Object(l.jsx)(i.a,{...e,testId:"order_summary_info_details_view",importPath:"ORDER_SUMMARY_INFO_DETAILS_VIEW"}))(e)},1205:function(e,t,a){"use strict";(function(e){var i=a(3),l=a.n(i),o=a(28),n=a(1121),d=a(66),r=a(73),s=a(192),c=a(6),u=a(5),v=a(190),O=a(1212),b=a(0),m=a(4),j=a(63),h=a(1148),p=a(269),g=a(331),N=a(2);t.a=t=>{var a,S,I,x,f,E,C,T,y,D,A,R,_,w,L,M,k;const P=Object(o.b)(),{modalType:F,toggleModal:W,updateSetOrderDetails:H}=t,{HIDDEN:B,DELIVERY_SERVICE:U,CHANNEL:G,INITIAL_STATE:V,MAX_DELIVERY_DISTANCE:Y,NO_OF_STORE_FOR_DELIVERY:K}=v.b,{FIELD_NAME:q,PIN_CODE:z}=v.d,{ADDRESS_UPDATED:J,ADDRESS_SAVED:X}=m.a,{allStores:Q=[]}=Object(o.c)((e=>e.allStoresReducer)),{savedAddresses:Z}=Object(o.c)((e=>e.profileReducer)),$=Object(o.c)((e=>e.tenantReducer)),{tenantId:ee="",storeSearch:te={},country:ae,countryNameInDefaultLang:ie,componentOptions:le}=$,oe=null===le||void 0===le||null===(a=le.web)||void 0===a||null===(S=a.dispositionConfig)||void 0===S||null===(I=S.deliveryStores)||void 0===I?void 0:I.shouldEnableConfirmButton,ne=Object(u.ad)(Object(u.Td)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,V),[de,re]=Object(i.useState)(ne),[se,ce]=Object(i.useState)(!1),[ue,ve]=Object(i.useState)(!0),Oe=null===te||void 0===te?void 0:te.geohashprecision,be=(null===te||void 0===te?void 0:te.boundingBoxSizeMeters)/1e3,[me,je]=Object(i.useState)(!1),[he,pe]=Object(i.useState)(!1),ge=null===$||void 0===$||null===(x=$.componentOptions)||void 0===x||null===(f=x.web)||void 0===f||null===(E=f.accountPage)||void 0===E?void 0:E.filterConditions,Ne=null===$||void 0===$||null===(C=$.componentOptions)||void 0===C||null===(T=C.web)||void 0===T||null===(y=T.accountPage)||void 0===y?void 0:y.showAddressMapView,Se=null===$||void 0===$||null===(D=$.componentOptions)||void 0===D||null===(A=D.web)||void 0===A?void 0:A.address,Ie=null===$||void 0===$?void 0:$.addressRegex,[xe,fe]=Object(i.useState)(),[Ee,Ce]=l.a.useState([]),[Te,ye]=l.a.useState(!1),[De,Ae]=l.a.useState(!1),{ready:Re,value:_e,suggestions:we,setValue:Le,clearSuggestions:Me}=Object(n.a)({requestOptions:{componentRestrictions:{country:null===(R=e)||void 0===R||null===(_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===_?void 0:_.REACT_APP_TENANT_CODE},types:null===$||void 0===$||null===(w=$.componentOptions)||void 0===w||null===(L=w.web)||void 0===L||null===(M=L.dispositionConfig)||void 0===M||null===(k=M.DELIVERY_FORM)||void 0===k?void 0:k.filteredTypes},debounce:300}),ke={...we,data:Object(p.d)(null===we||void 0===we?void 0:we.data,ge)},Pe=Object(i.useRef)(null),Fe=()=>{document.querySelector("body").style.overflow="",W(!1),P(Object(r.u)())};Object(i.useEffect)((()=>{var e,t;F&&s.a.calculateGH({lat:parseFloat(Object(u.jb)(null===de||void 0===de||null===(e=de.location)||void 0===e?void 0:e.latitude,null===de||void 0===de?void 0:de.latitude)),lon:parseFloat(Object(u.jb)(null===de||void 0===de||null===(t=de.location)||void 0===t?void 0:t.longitude,null===de||void 0===de?void 0:de.longitude)),distanceFromCurrentLoc:be,geoHashPrecision:Oe});document.querySelector("body").style.overflow=B}),[]),Object(i.useEffect)((()=>(document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}))),Object(i.useEffect)((()=>{re(F?e=>({...e,isAddressSelected:!0}):e=>({...e,isAddressSelected:!1}))}),[F]);const We=e=>{Pe.current&&!Pe.current.contains(e.target)&&Me()},He=()=>{var e,t,a,i,l,o,n,d;return(null===de||void 0===de||null===(e=de.addressLines)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(a=de.city)||void 0===a?void 0:a.length)&&(null===de||void 0===de||null===(i=de.pinCode)||void 0===i?void 0:i.length)&&(null===de||void 0===de||null===(l=de.state)||void 0===l?void 0:l.length)&&(null===de||void 0===de||null===(o=de.deliveryOptions)||void 0===o?void 0:o.length)&&(!oe||(null===de||void 0===de||null===(n=de.addressLines)||void 0===n||null===(d=n[0])||void 0===d?void 0:d.length))&&!me&&!he},Be=e=>{var t,a,i;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.availableServicesPerChannel)||void 0===i?void 0:i.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===G&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===U})))},Ue=()=>{let e="".concat(Object(c.translateWithI18Next)("Address")," 1");const t=[...Z.map((e=>e.name))].filter((e=>e.indexOf(Object(c.translateWithI18Next)("Address"))>-1));return Ge(t,e)},Ge=(e,t)=>{let a=t;return e.includes(a)?(a=a.replace(/(\d+)+/g,((e,t)=>parseInt(t)+1)),Ge(e,a)):a},Ve=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:10,geohashprecision:Oe},i=s.a.calculateGH(a);P(Object(r.v)(null===i||void 0===i?void 0:i.length))};return Object(N.jsx)(O.a,{...t,dataTestId:"addressModalTest",setValue:Le,value:_e,error:se,addresses:de,handleChange:e=>{let{target:t}=e;const{name:a,value:i}=t,l=Object(u.ad)(a===q.NAME,i,de.name);if(a===z){var o;if(!(null===(o=/^\d+$/)||void 0===o?void 0:o.test(i))&&""!==i)return;re({...de,[a]:i})}if(a===q.DELIVERY_OPTION)return void re({...de,[a]:i!==b.zb[0]?i:""});const n={addressRegex:Ie,valueInfo:i,setSaveAddress:re,addresses:de,name:a};if(l){const e=(e=>!!Object(u.ad)(!F,Z,Z.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===ne||void 0===ne?void 0:ne.id)))).find((t=>{var a,i;return(null===t||void 0===t||null===(a=t.name.toUpperCase())||void 0===a?void 0:a.trim())===(null===e||void 0===e||null===(i=e.toUpperCase())||void 0===i?void 0:i.trim())})))(l);(null===Ie||void 0===Ie?void 0:Ie.test(l))?e?(je(!0),pe(!1)):(pe(!1),je(!1)):(je(!1),pe(!0))}else pe(!1),je(!1);if(a!==q.FLOOR)if(t.type!==q.CHECKBOX)re({...de,[a]:i});else{Z.find((e=>e.isPrimary&&e.id===de.id))||re({...de,[a]:"true"!==i})}else(e=>{const{addressRegex:t,valueInfo:a,setSaveAddress:i,addresses:l,name:o}=e;if(null===t||void 0===t?void 0:t.test(a)){const e=[a,null===l||void 0===l?void 0:l.addressLines[1]];i({...l,[o]:a,addressLines:e,isFlatNumberSelected:!1})}})(n)},handleInput:e=>{if(null===de||void 0===de||!de.isAddressSelected){Le(e.target.value);const t=[null===de||void 0===de?void 0:de.addressLines[0],e.target.value];re({...de,addressLines:t})}ve(!0)},ready:Re,suggestionRef:Pe,suggestions:ke,handleSelect:t=>{let{description:a,structured_formatting:{main_text:i,secondary_text:l}}=t;return()=>{var t,i;ve(!1),ce(!1),Me(),P(Object(r.u)()),Object(n.b)({address:a,componentRestrictions:{country:null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE}}).then((e=>(Object(h.e)(b.Id,e[0],Le,re,Me,He),fe(null===de||void 0===de?void 0:de.addressLines[1]),Object(n.c)(e[0])))).then((e=>{s.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:be,geoHashPrecision:Oe}),re((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng,isAddressSelected:!0,isFlatNumberSelected:!0})))})).catch((e=>{console.log("Error: ",e)}))}},checkFormValidation:Ne?()=>{var e,t,a,i;return(null===de||void 0===de||null===(e=de.addressLines[1])||void 0===e?void 0:e.length)&&(null===de||void 0===de||null===(t=de.city)||void 0===t?void 0:t.length)&&(null===de||void 0===de||null===(a=de.pinCode)||void 0===a?void 0:a.length)&&(null===de||void 0===de||null===(i=de.state)||void 0===i?void 0:i.length)&&!me&&!he}:He,handleSubmit:e=>{const t=(e=>{var t,a;let i={},l=["",""];return l[1]=e.addressLines[1],l[0]=Object(u.jb)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),i={addressId:Object(u.ud)(null===e||void 0===e?void 0:e.id),addressName:Object(u.jb)(e.name,Ue()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(u.ud)(e.country),isPrimary:Object(u.sb)(e.isPrimary,Z.length<1,!1),location:{latitude:Object(u.jb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(u.jb)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:l,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions,placeId:null===e||void 0===e?void 0:e.placeId},i})(de),a=null===Q||void 0===Q?void 0:Q.filter(Be),i=null===te||void 0===te?void 0:te.maxDriveTimeMins,l=Object(u.jb)(null===te||void 0===te?void 0:te.maxDeliveryDistanceMtrs,Y),o=s.a.checkAndProceed({stores:a,disposition:U,distanceMetrics:null===te||void 0===te?void 0:te.distanceMetrics,driveTime:i,distanceInMtrs:l,noOfStores:K});if(e&&H({savedAddressSucess:!0}),null!==o&&void 0!==o&&o.length||e){const{customerId:e,phoneNumber:a}=j.a.getInstance();P(Object(d.a)({customerId:e,phoneNumber:a,tenantId:ee,data:t})),Fe();const i=Object(u.ad)(F,Object(c.translateWithI18Next)(J),Object(c.translateWithI18Next)(X));Object(u.Cf)(i,"","favorites-added-toast")}else ce(!0)},isNameExist:me,isInvalidName:he,handleClose:Fe,savedAddresses:Z,showSuggestions:ue,country:ae,countryNameInDefaultLang:ie,setSaveAddress:re,nonFormattedAddress:xe,setNonFormattedAddress:fe,addressFormConditions:Se,seteligibleStoreData:Ce,showStores:Te,setShowStores:ye,showMapBasedField:De,setShowMapBasedFiled:Ae,clearSuggestions:Me,showAddressMapView:Ne,allStores:Q,getUserLatLong:e=>{P(Object(g.b)()),P(Object(r.u)()),Ve(e.userLat,e.userLong),setTimeout((()=>{P(Object(g.a)())}),2e3)},dispatch:P,setError:ce})}}).call(this,a(121))},1209:function(e,t,a){"use strict";a.d(t,"a",(function(){return D})),a.d(t,"e",(function(){return A})),a.d(t,"f",(function(){return R})),a.d(t,"c",(function(){return _})),a.d(t,"d",(function(){return w})),a.d(t,"b",(function(){return L}));var i=a(6),l=a(4),o=a(15),n=a(265),d=a(1204),r=a(5),s=a(41),c=a(46),u=a(1098),v=a(0),O=a(86),b=a(1158),m=a(2);const j=e=>Object(m.jsxs)("div",{className:"savingdivDelivery",children:[Object(m.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.REORDER_FAVORITES)}),Object(m.jsx)("span",{className:"saveButton",children:Object(m.jsx)(s.a,{"data-testid":"create-kfc-account-btn",className:"button transparent-btn black-border",onClick:()=>(e=>{const{orderDetails:t}=e,{total:a,currencyConversionFactor:i,customer:l}=t,{firstName:o,lastName:n,email:d,phoneNumber:s,id:c}=l;Object(u.a)(),sessionStorage.setItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT,c);const m=sessionStorage.getItem(v.Ne.MARKETING_OPT_VAL),j="&userEmail=".concat(d?Object(b.b)(d):void 0);let h="userFirstName=".concat(Object(b.b)(o),"&userLastName=").concat(n?Object(b.b)(n):void 0).concat(j,"&userPhoneNumber=").concat(Object(b.b)(s));if(m){const e=JSON.parse(m),{Email:t,Phone:a}=e;h=t?"".concat(h,"&emailSubscription=").concat(t):h,h=a?"".concat(h,"&phoneSubscription=").concat(a):h}Object(O.a)(h),Object(u.d)({orderValue:Object(r.g)(a/i)})})(e),ariaLable:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CREATE_KFC_ACCOUNT),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CREATE_KFC_ACCOUNT)})})]}),h=e=>{var t;const{orderDetails:a,savedAddresses:o}=e,d=null===a||void 0===a||null===(t=a.deliveryAddress)||void 0===t?void 0:t.location,r=null===o||void 0===o?void 0:o.find((e=>{var t,a;const i=parseFloat(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)===parseFloat(null===d||void 0===d?void 0:d.latitude),l=parseFloat(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)===parseFloat(null===d||void 0===d?void 0:d.longitude);return i&&l})),{orderSummarySaveYourOrderCompleted:u,userStatus:v,savedAddressSucess:O,saveFavoriteSummarySucess:b,hideCreateAccountPanel:h}=a;return Object(m.jsx)("div",{className:"saveYourOrdersAndCreateKFCAccountContainer col-12",children:Object(n.I)(a)||Object(n.gb)(a)?(e=>{const{orderDetails:t}=e,{helpContantData:a}=t,{helpSectionCallDetails:o}=a;return Object(m.jsxs)("div",{className:"savingdivDelivery",children:[Object(m.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.HERE_TO_HELP)}),Object(m.jsx)("span",{className:"saveButton",children:Object(m.jsx)("a",{tabIndex:"-1",href:"tel:"+(null===o||void 0===o?void 0:o.contactNo),className:"anchorTags",children:Object(m.jsxs)(s.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"button transparent-btn black-border",children:[Object(m.jsx)(c.a,{srcFile:null===o||void 0===o?void 0:o.icon,alt:" ",className:"Messageimage"}),"".concat(null===o||void 0===o?void 0:o.buttonText," ").concat(null===o||void 0===o?void 0:o.contactNo)]})})})]})})(e):u&&null!==a&&void 0!==a&&a.deliveryAddress&&!r?(e=>{const{updateSetOrderDetails:t}=e;return Object(m.jsxs)("div",{className:"savingdivDelivery",children:[Object(m.jsx)("span",{className:"savingText",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.SAVE_ADDRESS_BOOK)}),Object(m.jsx)("span",{className:"saveButton",children:Object(m.jsx)(s.a,{"data-testid":"save-delivery-address",className:"button transparent-btn black-border",onClick:()=>t({isOpenSaveDeliveryAddressModal:!0}),ariaLable:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.SAVE_DELIVERY_ADDRESS),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.SAVE_DELIVERY_ADDRESS)})})]})})(e):null===v||void 0===v||!v.loggedIn||O||b?O||b||h?void 0:j(e):(e=>{var t,a;const{orderDetails:o,updateSetOrderDetails:n,saveOrderDescriptionText:d=(null===l.a||void 0===l.a?void 0:l.a.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER),saveOrderButtonLabel:r=(null===l.a||void 0===l.a?void 0:l.a.SAVE_THIS_ORDER)}=e;return void 0===(null===o||void 0===o||null===(t=o.favouriteOrders)||void 0===t?void 0:t.find((e=>e.id===(null===o||void 0===o?void 0:o.orderId))))&&Object(m.jsxs)("div",{className:"savingdiv",children:[Object(m.jsx)("span",{className:"saving",children:null===(a=Object(i.translateWithI18Next)(d))||void 0===a?void 0:a.toUpperCase()}),Object(m.jsx)("span",{className:"saveButton",children:Object(m.jsx)(s.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:()=>n({isOpenOrderSummarySaveYourOrderCheckoutFaster:!(null!==o&&void 0!==o&&o.isOpenOrderSummarySaveYourOrderCheckoutFaster)}),ariaLable:Object(i.translateWithI18Next)(r),children:Object(i.translateWithI18Next)(r)})})]})})(e)})};var p=a(1180),g=a(1174);const N=e=>{var t;const{orderDetails:a}=e,{storeName:o,displayOrderId:n}=a;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"catering-store-order",children:o}),n&&Object(m.jsx)("div",{className:"catering-store-order red",children:(null===(t=Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+n})]})},S=e=>{const{orderDetails:t}=e,{orderStatus:a,deliveryOrEstimatedOrCollectAtTime:o}=t;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(a,"-delivery"),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.COLLECTED_AT)}),Object(m.jsx)("div",{className:"idAndTime time-delivery",children:o})]})},I=e=>{const{orderDetails:t}=e,{orderStatus:a}=t,i=Object(n.m)(t)?null===o.a||void 0===o.a?void 0:o.a.CartError:Object(n.n)(t)?null===o.a||void 0===o.a?void 0:o.a.ConfirmedImg:null===o.a||void 0===o.a?void 0:o.a.clockFeature;return""!==i&&Object(m.jsx)("img",{src:i,className:"statusIcon",alt:a})},x=e=>{const{orderDetails:t}=e,{orderStatus:a,service:o,selectedCateringOrderCollectionMethod:d,deliveryOrEstimatedOrCollectAtMonthDate:r,deliveryOrEstimatedOrCollectAtTime:s}=t,c=(e=>{var t;return Object(n.m)(e)?Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CANCEL_ORDER):Object(n.n)(e)?Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ENJOY_MEAL):"".concat(Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.THANK_YOU),", ").concat(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."))})(t);return""!==c&&Object(m.jsxs)("div",{className:"allSet ".concat(a,"-allSet ").concat(o," ").concat(d," col-12 ").concat(Object(n.o)(t)?"":"p-0px-imp"),children:[Object(m.jsx)("div",{className:"statusMessage",children:c}),!Object(n.o)(t)&&Object(m.jsxs)("div",{className:"catering-order-deliver-details",children:["".concat(Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.YOUR_CATERING))," ",Object(m.jsx)("span",{className:"red",children:r})," ",Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.AT)," ",Object(m.jsx)("span",{className:"red",children:s})]}),!Object(n.o)(t)&&Object(m.jsx)("div",{className:"catering-confirmation-email-details",children:"".concat(Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.CATERING_CONFIRMATION_EMAIL))})]})},f=e=>{const{orderDetails:t}=e,{deliveryPartner:a,deliveryDetails:o}=t,d=(null===a||void 0===a?void 0:a.otp)||(null===o||void 0===o?void 0:o.otp);return!Object(n.o)(t)&&d&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ASK_FOR_OTP)}),Object(m.jsx)("div",{className:"idAndTime time-delivery",children:Object(m.jsx)("div",{className:"red otp",children:d})})]})},E=e=>Object(m.jsxs)(m.Fragment,{children:[!Object(n.o)(null===e||void 0===e?void 0:e.orderDetails)&&N(e),Object(n.n)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),I(e),x(e),f(e)]}),C=e=>Object(m.jsx)(d.a,{...e}),T=()=>Object(m.jsx)("div",{className:"linebreak col-12"}),y=e=>{const t=null===e||void 0===e?void 0:e.hideCreateAccountSection,a={saveOrderDescriptionText:null===l.a||void 0===l.a?void 0:l.a.RECKON_TEXT,saveOrderButtonLabel:null===l.a||void 0===l.a?void 0:l.a.SAVE_TO_FAVOURITE_ORDER};if(!t)return Object(m.jsxs)("div",{className:"col-12 bottomPanel","data-testid":"bottomPanel",children:[T(),h({...e,...a})]})},D=e=>{const{orderDetails:t}=e,{service:a}=t;return Object(m.jsxs)("div",{className:"orderSummaryContainer row ".concat(a),children:[Object(m.jsx)("div",{className:"col-12 col-lg-8 leftPanel ".concat(a),children:Object(m.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.o)(t)?"redCard":"","  ").concat(a),children:Object(m.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(a),children:E(e)})})}),Object(m.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(a),children:C(e)}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&y(e)]})},A=e=>{var t;const{orderDetails:a}=e,{service:i,isMobileView:l,hideCancelOrderPanel:o,hidePickupCheckin:d}=a;return Object(m.jsxs)("div",{className:"orderSummaryContainer row ".concat(i),children:[(Object(n.gb)(a)&&(null===a||void 0===a?void 0:a.enableRetryCountForPickupOrderTracking)||!Object(n.gb)(a))&&Object(m.jsxs)("div",{className:"col-12 col-lg-8 leftPanel ".concat(i),children:[Object(m.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(n.ib)(a)?"redCard":"","  ").concat(i),children:Object(m.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(i),children:Object(g.a)(e)})}),Object(n.jb)(a)&&!(null!==a&&void 0!==a&&a.selectedPickupOrderCollectionMethod)&&(null===a||void 0===a||null===(t=a.pickupOrderAvailableCollectionPoints)||void 0===t?void 0:t.length)>0&&d&&!(null!==a&&void 0!==a&&a.disableTrackingFields)&&Object(g.f)(e)]}),Object(m.jsxs)("div",{className:"col-12 col-lg-6 rightPanel ".concat(i),children:[C(e),!o&&!Object(n.ib)(a)&&!(null!==a&&void 0!==a&&a.disableTrackingFields)&&Object(g.e)(e)]}),!Object(n.nb)(a)&&!(null!==a&&void 0!==a&&a.disableTrackingFields)&&y(e),!o&&l&&!Object(n.ib)(a)&&Object(m.jsx)("div",{className:"col-12 ".concat(i," p-0px-imp"),children:T()})]})},R=e=>{const{orderDetails:t}=e,{service:a}=t;return Object(m.jsxs)("div",{className:"orderSummaryContainer row ".concat(a),children:[Object(m.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(a),children:C(e)}),y(e)]})},_=e=>Object(m.jsx)("div",{className:"orderSummaryContainer row giftcardorder",children:Object(m.jsx)("div",{className:"col-12 col-lg-8 leftPanel",children:Object(m.jsx)("div",{className:"orderSummaryStatusContainer col-12 redCard",children:Object(m.jsxs)("div",{className:"giftcard-content",children:[Object(m.jsx)("div",{className:"giftcard-success",children:Object(m.jsx)("img",{src:null===o.a||void 0===o.a?void 0:o.a.ConfirmedImg,className:"statusIcon",alt:"tex"})}),Object(m.jsx)("div",{className:"giftcard-success-msg",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_ONE)}),Object(m.jsx)("div",{className:"giftcard-success-msg",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_TWO)}),Object(m.jsx)("div",{className:"giftcard-success-status",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.GIFT_CARD_PURCHASE_MSG)}),Object(m.jsx)("div",{className:"gift-card-button",children:Object(m.jsx)("button",{"data-testid":"gift-card-button",className:"button giftcard-button",onClick:()=>Object(r.We)({history:e},!1,!0),children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.RETURN_TO_GIFT_CARD)})})]})})})}),w=e=>{const{displayOrderId:t}=e;return Object(m.jsxs)("div",{className:"orderNumber",children:[Object(m.jsx)("span",{className:"",children:Object(i.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.ORDER_HASH)}),t]})},L=e=>{const{orderDetails:t}=e,{service:a,isMobileView:i,enableCancelOrderCallsupportModal:l,showDeliveryTrackingMap:o,showDeliveryOrderRaiderDetailsView:d,showDeliveryDriverDetails:r,showOrderSummaryInfoDetails:s,orderStatusFlag:c}=t;return Object(m.jsxs)("div",{className:"orderSummaryContainer row ".concat(a),children:[Object(m.jsxs)("div",{className:"col-12 ".concat(!Object(n.K)(t)||s||c?"col-lg-6":"col-lg-8 m-auto"," leftPanel ").concat(a),children:[Object(m.jsx)("div",{className:"orderSummaryStatusContainer col-12 mb-1 ".concat(Object(n.L)(t)?"redCard":""," ").concat(Object(n.O)(t)||Object(n.C)(t)?Object(n.d)(t):"dasher-dropoff-updated"," "),children:Object(m.jsx)("div",{className:"orderSummaryStatusPanel col-12",children:Object(p.b)(e)})}),o&&i&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(m.jsx)("div",{className:"mt-20px",children:M(e)}),(r||d)&&Object(p.d)(e),!i&&(Object(n.Q)(t)||Object(n.sb)(t))&&Object(m.jsx)(m.Fragment,{children:C(e)})]}),Object(n.K)(t)&&s&&Object(m.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(a),children:C(e)}),Object(m.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(a),children:(!Object(n.K)(t)||c)&&(o&&!i&&(Object(n.Q)(t)||Object(n.sb)(t))?M(e):Object(m.jsxs)(m.Fragment,{children:[C(e),l&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&(Object(n.ob)(t)||Object(n.C)(t))&&Object(g.e)(e)]}))}),!Object(n.nb)(t)&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&y(e)]})},M=e=>{const{orderDetails:t}=e;return null!==t&&void 0!==t&&t.showOrderTrackingIFrame?Object(p.c)(e):Object(p.e)(e)}},1210:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(20),n=a.n(o),d=a(28),r=a(419),s=a.n(r),c=a(42),u=a.n(c),v=a(1102),O=a.n(v),b=a(62),m=a(171),j=a(113),h=a(1104),p=a(73),g=a(35),N=a(6),S=a(144),I=a(1194),x=a(4),f=a(5),E=a(0),C=a(46),T=a(1117),y=a(15),D=a(169),A=a(2);var R=e=>{var t,a;const{currencySymbol:i,currencyConversionFactor:l,unavailableItem:o,orderDetails:n}=e,{YOUR_ORDER:d,TOTAL:r,ITEM_NOT_UNAVAILABLE:s,ITEM_CURRENLTY_UNAVAILABLE:c,CART_ITEM:u,REORDER_COUPON_ERROR_MESSAGE:v}=x.a,{foodLines:O=[],id:b,total:m}=Object(f.sd)(n),j=Object(N.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.ADD_HOPE),h=Object(N.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.LARGE_CARRY_BAG),p=Object(f.Tb)(O,j,h),g=null===p||void 0===p?void 0:p.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0),S=(o.length||(null===n||void 0===n||null===(t=n.discountLines)||void 0===t?void 0:t.length))>0;return Object(A.jsxs)("div",{className:"reorder-item-section",children:[Object(A.jsx)("span",{className:"reorder-section-heading",children:Object(N.translateWithI18Next)(d)}),Object(A.jsx)("div",{className:"".concat(Object(f.ad)(S,"error-can-not-deliver","hide-error-container")),children:Object(A.jsx)(T.a,{show:S,errorMsg:Object(N.translateWithI18Next)(null!==n&&void 0!==n&&null!==(a=n.discountLines)&&void 0!==a&&a.length?v:s),errImage:y.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(A.jsx)("section",{className:"reorder-accordian",children:Object(A.jsxs)(D.a,{header:"".concat(g," ").concat(Object(N.translateWithI18Next)(u)).concat(g>1?"s":""),open:!0,children:[null===p||void 0===p?void 0:p.map((e=>{var t,a,n,d,r;return Object(A.jsx)("section",{className:"",children:Object(A.jsxs)("div",{className:"reorder-order-item",children:[Object(A.jsx)("div",{className:"reorder-item-details",children:Object(A.jsx)("div",{className:"item-count-box mr",children:Object(A.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(A.jsxs)("div",{className:"item-desc-section",children:[Object(A.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(t=e.item)||void 0===t||null===(a=t.dname)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.value}),o.length>0&&o.find((t=>{var a;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)}))&&Object(A.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(A.jsx)(C.a,{srcFile:y.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(N.translateWithI18Next)(c)]})]}),!Object(f.le)()&&Object(A.jsxs)("span",{className:"item-amount item-desc-bold",children:[i,Object(f.g)((null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),l)," "]})]})})})),!Object(f.le)()&&Object(A.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(A.jsx)("span",{className:"payment-total",children:Object(N.translateWithI18Next)(r)}),Object(A.jsxs)("span",{className:"payment-total-amount",children:[i,Object(f.g)(m,l)]})]})]},"orderItem-".concat(b))})]})},_=a(41),w=a(1195),L=a(85);const{CURRENT_STORE_INFO_STORAGE:M}=E.gd||{},k=e=>{const{isGenericError:t,isPastOrderValidationLoading:a,isAddItemLoading:i,enableButton:l,enableScheduleOrder:o,isFutureDateTimeOrder:d,scheduleOrderFlag:r,selectedTime:s,hasError:c,unavailableItem:u,totalItemsLength:v}=e;return t||a||i||!l||c.error||(null===u||void 0===u?void 0:u.length)===v||o&&d&&r&&n()(s)};var P=e=>{var t,a,o,n,r,s;const{closeButtonHandler:c,onChangeDisposition:u,editDeliveryLocation:v,enableButton:O,onChangeRestaurant:b,currentOrderInfo:m,onClickOrderAgain:j,orderTypeDifferentError:h,storeError:p,locationDifferentError:g,isLocationError:C,isGenericError:T,isPastOrderValidationLoading:y,isAddItemLoading:D,storeChanged:M,currentStoreInfo:P,enableScheduleOrderFlag:F,selectedDate:W,selectedTime:H,scheduleOrderFlag:B,hasError:U,changeDateValue:G,changeTimeValue:V,orderNowFlag:Y,enableSceduleCA:K,enableScheduleMode:q,dateTimeArr:z,orderSchedulingMode:J,changeScheduleOrder:X,isFutureDateTimeOrder:Q,isStoreClosed:Z,storeClosedError:$,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:ae}=Object(i.useContext)(L.a),ie=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(F,z),le=((e,t)=>{var a;return!!e&&!(null!==t&&void 0!==t&&null!==(a=t.timeSlots)&&void 0!==a&&a.length)})(F,W),oe=Object(d.c)((e=>e.tenantReducer)),ne=null===oe||void 0===oe||null===(t=oe.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:de,disableChangeCTAForAddressChange:re,disableChangeCTAForStoreChange:se}=null===oe||void 0===oe||null===(a=oe.componentOptions)||void 0===a||null===(o=a.web)||void 0===o?void 0:o.quickReorder,{modifiedStoreData:ce,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(f.md)(M,P,m,ae),Oe=M?Object(f.ac)(null===m||void 0===m?void 0:m.deliveryAddress,ne):Object(f.ac)(ve,ne),{REVIEW_ORDER:be,ORDER_TYPE:me,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:he,YOUR_LOCATION:pe,ORDER_AGAIN:ge,PICK_UP_TIME:Ne,DELIVERY_TIME:Se}=x.a,{DELIVERY:Ie}=E.Jb,xe=((e,t)=>{const{DELIVERY:a}=E.Jb||{},i=(null===t||void 0===t?void 0:t.toUpperCase())===a?Object(N.translateWithI18Next)(x.a.SELECT_DELIVERY_TIME):Object(N.translateWithI18Next)(x.a.SELECT_PICKUP_TIME);return e?i:Object(N.translateWithI18Next)(x.a.ASAP)})(X,ue),fe=Y||B&&!X,Ee=B&&X,Ce={isGenericError:T,isPastOrderValidationLoading:y,isAddItemLoading:D,enableButton:O,enableScheduleOrder:F,isFutureDateTimeOrder:Q,scheduleOrderFlag:B,selectedTime:H,hasError:U,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(n=e.orderDetails)||void 0===n||null===(r=n.foodLines)||void 0===r?void 0:r.length};return Object(A.jsx)(l.a.Fragment,{children:Object(A.jsxs)(S.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:c,backButtonHandler:c,modalTitle:Object(N.translateWithI18Next)(be),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:_.b.secondary,footerBtnText:Object(N.translateWithI18Next)(ge),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:k(Ce),loadingBtn:D,children:[Object(A.jsx)(I.a,{show:!0,sectionHeader:me,subSectionValue:Object(N.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:h,isAlert:!0,showChangeButton:!de,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(A.jsx)(I.a,{show:Object(f.Jd)(ue),sectionHeader:pe,subSectionValue:Oe,showChangeButton:!Object(f.Jd)(ue)||!re,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(s=ve.addressLines)||void 0===s?void 0:s[0]:null===ae||void 0===ae?void 0:ae.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(Oe)}),Object(A.jsx)(I.a,{show:!0,sectionHeader:he,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,onClickHandler:b,showChangeButton:!se,isAlert:Z||!T,storeUnavailableError:T&&p||C&&g||Z&&$,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(A.jsx)(I.a,{show:Boolean(F&&fe),sectionHeader:Object(f.Jd)(ue)?Se:Ne,subSectionValue:J,orderTypeChange:je,onClickHandler:q,showChangeButton:K,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(A.jsx)(w.a,{show:Boolean(F&&Ee),sectionHeader:Object(f.Jd)(ue)?Se:Ne,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,changeDateValue:G,changeTimeValue:V,dateTimeArr:z,selectedDate:W,selectedTime:H,placeholderText:xe,disableDateOption:ie,disableTimeOption:le,scheduleTimeWarning:F&&U&&(null===U||void 0===U?void 0:U.error),scheduleErrMsg:F&&U&&(null===U||void 0===U?void 0:U.errormessage),enableScheduleOrderFlag:F,elementUniqueLocator:te}),Object(A.jsx)(R,{...e})]})})},F=a(16),W=a(43),H=a(133),B=a(120),U=a(24),G=a(12),V=a(412),Y=a(329),K=a(145),q=a(394),z=a(80),J=a(132);const X=e=>{var t;const{enableScheduleOrder:a,isFutureTimeOrderAvailable:i,updateReorderDetails:l,storename:o,service:n}=e,{STORE_CLOSED_ERROR:d,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:r,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:s}=x.a;l(a&&i?{storeError:null,storeClosedError:Object(f.rf)(n)===E.Lb.PICKUP?Object(N.translateWithI18Next)(r):Object(N.translateWithI18Next)(s)}:{storeClosedError:null,storeError:null===(t=Object(N.translateWithI18Next)(d))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(o,"</b>"))})},Q=e=>{var t;const{timings:a={},orderingAttribute:i={}}=Object(f.sd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:l={}}=a||{},{isAsapOrder:o=!1}=i||{},n=!(null!==l&&void 0!==l&&l.isAvailable);return Boolean(!n&&o)},Z=(e,t)=>Boolean(e&&t),$=e=>{var t;return e?Object(N.translateWithI18Next)(x.a.TODAY_ASAP):null===(t=Object(N.translateWithI18Next)(x.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,a,o,r,c,v,S,I,C,T;const{currentOrderInfo:y,reorderModalOpen:D,closeButtonHandler:R,source:_}=e,{service:w,id:M,store:k,name:ee}=Object(f.sd)(y),{storeId:te}=Object(f.sd)(k),ae=Object(d.b)(),ie=Object(b.g)(),{RESET_DELIVERY_ADDRESS_LINE:le,DISPOSITION_DATA:oe,SCHEDULE_ORDER_DATA:ne,SEARCH_ORDER_DATA:de,DISPOSITION_METHOD:re,USER_LOCALIZED:se,CURRENT_STORE_INFO:ce,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:Oe,SET_ASAP_SCHEDULING:be,SCHEDULE_ORDER_CLICKED:me}=F.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:he,DISPOSITION_TYPE:pe,DATE_TIME_ORDER:ge,SELECTED_TILE:Ne,CONFIG_SEARCH_SCREEN:Se,CURRENT_STORE_INFO_STORAGE:Ie,STORE_INFO:xe}=E.gd,{LOCATION_DIFFERENT_ERROR:fe,STORE_CLOSED_ERROR:Ee}=x.a,{userOrderState:Ce,userOrderStateDispatch:Te}=Object(i.useContext)(L.a);let{dispositionNew:ye,reorderFlag:{storeChanged:De=!1},currentStoreInfo:Ae={},scheduleOrderData:Re={},showOrderNowReorder:_e=!1,showScheduleOrderReorder:we=!1,scheduleModeClicked:Le=!1}=Ce;const{changeFlow:Me=!1,isAddressFlow:ke=!1}=Re;ye=Object(f.ad)(Object(f.Sd)(ye),JSON.parse(localStorage.getItem(je)),ye);const Pe=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Fe=!1,loggedIn:We=!1}=Object(f.sd)(Pe),He=Object(f.od)(Fe,We),Be=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ue,currencyConversionFactor:Ge,currencySymbol:Ve,componentOptions:Ye}=Object(f.sd)(Be),Ke=null===Be||void 0===Be||null===(t=Be.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,qe=null===Be||void 0===Be||null===(a=Be.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress,ze=null===Be||void 0===Be||null===(o=Be.componentOptions)||void 0===o?void 0:o.showComma,{web:Je={}}=Ye,{shouldCheckDropOffAddress:Xe=!1}=Je,Qe=Object(d.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(f.sd)(Qe),{elementUniqueLocator:$e,timeFormat:et}=Object(d.c)((e=>e.tenantReducer||{})),tt=Object(d.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:at={}}=Object(f.sd)(tt),{addHope:it,carryBag:lt}=Be,ot=l.a.useRef(null),nt=Object(d.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:dt}=Object(f.sd)(nt),{items:rt=[]}=Object(f.sd)(dt),st=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),ct=Object(d.c)((e=>{var t,a,i;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreDetailsLoading)||(null===(i=e.LoaderReducer)||void 0===i?void 0:i.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:Ot}=Object(f.sd)(st),{discountLines:bt=[],foodLines:mt=[]}=at,jt=Object(f.hb)(bt,(null===bt||void 0===bt?void 0:bt.length)-1),ht=Object(f.hb)(bt,bt[jt]),{couponCode:pt="",amount:gt=""}=Object(f.sd)(ht),Nt=Object(f.g)(gt,Ge),St=null===Ye||void 0===Ye||null===(r=Ye.web)||void 0===r?void 0:r.dispositionConfig,It=null===Ye||void 0===Ye||null===(c=Ye.web)||void 0===c||null===(v=c.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:xt=!1}=St,{modifiedService:ft}=Object(f.md)(De,Ae,y),Et=((e,t,a)=>e&&(null===t||void 0===t?void 0:t.includes(a)))(null===Ye||void 0===Ye||null===(S=Ye.web)||void 0===S||null===(I=S.dispositionConfig)||void 0===I?void 0:I.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(C=Ye.web)||void 0===C||null===(T=C.scheduledDelivery)||void 0===T?void 0:T.allowScheduleOrderForDispositions,ft),Ct=((e,t)=>e||t)(xt,Et),Tt={unavailableItem:[],showModal:D,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:$(Et),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[yt,Dt]=Object(i.useState)(Tt),[At,Rt]=Object(i.useState)(!1),_t=Object(i.useCallback)((e=>{Dt&&Dt((t=>({...t,...e})))}),[]),{YYYY_MM_DD:wt}=E.sb,Lt=Ct?De:Me,Mt=Object(J.b)(z.b);Object(i.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(E.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(i.useEffect)((()=>{ot.current=yt}),[yt]),Object(i.useEffect)((()=>{if(Z(Ct,yt.storeDetail)&&yt.isFutureDateTimeOrder&&!yt.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=yt.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:Ct,enableClickCollectScheduleOrderFlag:Et,fromReorder:!0,scheduleModeClicked:Le,timeFormat:et},a=Object(B.h)(t);_t({dateTimeArr:a})}}),[xt,yt.storeDetail,w,De,yt.isFutureDateTimeOrder,yt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Ct,yt.storeDetail)&&yt.isFutureDateTimeOrder&&yt.scheduleOrderFlag&&yt.changeScheduleOrder){const e={shouldShowScheduleOrder:yt.scheduleOrderFlag,store:yt.storeDetail,updateReorderDetails:_t,changeFlow:Me,enableScheduleOrder:Ct,selectedDate:yt.selectedDate,selectedTime:yt.selectedTime,service:w,fromReorder:!0,scheduleModeClicked:Le,enableClickCollectScheduleOrderFlag:Et};Object(B.c)(e)}}),[Ct,yt.scheduleOrderFlag,De,yt.storeDetail,yt.isFutureDateTimeOrder,yt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(Ct,yt.storeDetail)){var e,t,a;const i=Q(null===yt||void 0===yt?void 0:yt.storeDetail),l=null===(e=yt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),o=!n()(yt.selectedDate)&&!n()(yt.selectedTime),d=u()(null===yt||void 0===yt||null===(t=yt.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),r=((e,t)=>Boolean(e&&!t))(null===yt||void 0===yt?void 0:yt.storeClosedError,l);((e,t,a,i)=>{var l;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&a({orderSchedulingMode:i?Object(N.translateWithI18Next)(x.a.TODAY_ASAP):null===(l=Object(N.translateWithI18Next)(x.a.ASAP))||void 0===l?void 0:l.toUpperCase()})})(yt,i,_t,Et);const s=(e=>{const{storeClosedError:t,asapOrderFlag:a,isFutureDateTimeOrder:i,changeScheduleOrder:l,enabledDate:o,isDateTimeSelected:n}=e;return Boolean((t||!a)&&i&&!l&&o&&!n)})({storeClosedError:null===yt||void 0===yt?void 0:yt.storeClosedError,asapOrderFlag:i,isFutureDateTimeOrder:null===yt||void 0===yt?void 0:yt.isFutureDateTimeOrder,changeScheduleOrder:yt.changeScheduleOrder,enabledDate:l,isDateTimeSelected:o});s&&_t({scheduleOrderFlag:!0,selectedDate:l,selectedTime:null===l||void 0===l?void 0:l.timeSlots[0],orderNowFlag:!1});const c=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:a,scheduleOrderFlag:i,changeScheduleOrder:l,enabledDate:o}=e;return Boolean(!t&&a&&i&&l&&o)})({storeClosedError:yt.storeClosedError,isFutureDateTimeOrder:yt.isFutureDateTimeOrder,scheduleOrderFlag:yt.scheduleOrderFlag,changeScheduleOrder:yt.changeScheduleOrder,enabledDate:l});c&&n()(yt.selectedDate)&&_t({selectedDate:l}),r&&_t({storeClosedError:null,storeError:null===(a=Object(N.translateWithI18Next)(Ee))||void 0===a?void 0:a.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})}}),[Ct,yt.orderNowFlag,yt.scheduleOrderFlag,yt.storeClosedError,yt.changeScheduleOrder,yt.storeDetail,yt.isFutureDateTimeOrder,De,yt.dateTimeArr]),Object(i.useEffect)((()=>{if(Ct&&!n()(yt.selectedDate)&&!n()(yt.selectedTime)){const e=yt.selectedDate.date.value,t=yt.selectedTime.value,a=ze?",":"",i=" ".concat(e).concat(a," ").concat(t);_t({orderSchedulingMode:i})}}),[yt.selectedDate,yt.selectedTime,Ct]),Object(i.useEffect)((()=>{if(Z(Ct,yt.storeDetail)){var e,t,a;const i=null===(e=yt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),l=Object(f.Yd)(null===(t=yt.storeDetail)||void 0===t?void 0:t[0])||Object(f.Xd)(null===(a=yt.storeDetail)||void 0===a?void 0:a[0]),o=((e,t,a)=>Boolean(e&&!t&&a))(l,yt.changeScheduleOrder,i);_t({isFutureDateTimeOrder:l,enableSceduleCA:o})}}),[Ct,yt.storeDetail,De,yt.dateTimeArr]),Object(i.useEffect)((()=>{null!==yt&&void 0!==yt&&yt.showModal&&Ct&&!De&&Te({type:me,value:{scheduleModeClicked:!1}})}),[null===yt||void 0===yt?void 0:yt.showModal,Ct,De]),Object(i.useEffect)((()=>{if(Z(Ct,yt.storeDetail)&&yt.showModal&&De&&!yt.isFlowChangedLoadingFinish){var e,t,a;const i=null===(e=yt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),l=((e,t,a)=>Boolean(e&&t&&a))(Q(null===yt||void 0===yt?void 0:yt.storeDetail),yt.isFutureDateTimeOrder,i);l&&_t({orderNowFlag:_e,changeScheduleOrder:!_e||we&&(null===(t=yt.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!_e||we&&(null===(a=yt.dateTimeArr)||void 0===a?void 0:a.length),isFlowChangedLoadingFinish:!0})}}),[Ct,_e,we,De,yt.showModal,yt.storeDetail,yt.dateTimeArr,yt.isFlowChangedLoadingFinish,yt.isFutureDateTimeOrder]);Object(i.useEffect)((()=>{Object(f.hb)(yt.confirmed,Ot)&&(_t({confirmed:!1}),ie.push(E.Ce.CART))}),[yt.confirmed,Ot]);const kt=Object(f.g)(null===at||void 0===at?void 0:at.total,Ge),Pt=Object(i.useCallback)((()=>{var e,t;const a=null===(e=yt.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,i=Object(f.ac)(a);localStorage.setItem(E.gd.RETAIN_ADDRESS,i),_t({showModal:!1}),Te({type:le}),Te({type:oe,value:{showDisposition:!0}}),Te({type:ne,value:{showScheduleOrder:!1}}),Te({type:de,value:{showSearchStore:!1}}),Te({type:Oe,value:{reorderModalOpen:!1}})}),[Te,yt.storeDetail]),Ft=Object(i.useCallback)((e=>{const t=s()(yt.storeDetail,{});t&&(Te({type:re,value:{dispositionType:t.service}}),Object(B.a)(ke,t,H.a,Lt,!0,e,Te),Te({type:Oe,value:{reorderModalOpen:!1}}))}),[Te,Lt,ke,yt.storeDetail]),Wt=Object(i.useCallback)((e=>{if(!Object(f.Sd)(e)){var t;const{summary:a}=e,{futureDates:i,scheduled:l,asap:o}=Object(f.sd)(null===a||void 0===a?void 0:a.timings),{interval:n=0,startEndTime:d={}}=l&&l.periods.length&&l.periods[0],{from:r,to:s}=d;return Object(B.j)(r,s,n,null===o||void 0===o?void 0:o.isAvailable,Object(f.hb)(1===i.length,Object(f.le)())),{time:E.t,interval:null===a||void 0===a||null===(t=a.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:E.t}}})),Ht=(e,t,a)=>{const i=[];let l=0,o=[],n=Object(f.Tb)(e,it,lt);return null===n||void 0===n||n.forEach((e=>{var n,d,r;const s=(e=>{const t=e;return e.forEach(((t,a)=>{var i;e[a].modifiers=null===(i=t.modifiers)||void 0===i?void 0:i.filter((e=>!0===e.isAdded))})),t})(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.modGrps),c=null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,u=Object(f.Of)(rt,s,c),{isAvailable:v,product:O}=((e,t,a)=>{var i,l,o,n,d,r;const s=a&&"ASAP"!==a?Object(G.C)(a,E.sb.lll):Object(G.e)(E.sb.lll),c=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(i=c[0])||void 0===i||null===(l=i.availability[0])||void 0===l?void 0:l.availableHours,v=null===u||void 0===u||null===(o=u.startTime)||void 0===o?void 0:o.time,O=null===u||void 0===u||null===(n=u.endTime)||void 0===n?void 0:n.time,b=Object(q.j)(Object(f.z)(v),E.sb.lll,1e3*a),m=Object(q.j)(Object(f.z)(O),E.sb.lll,1e3*a),j=null===(d=c[0])||void 0===d?void 0:d.isNotAvailable,h=Object(G.f)(s,b,m)&&!j;return(null===(r=c[0])||void 0===r?void 0:r.isHidden)?{isAvailable:"hidden",product:c}:{isAvailable:h,product:c}})(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,t,a);var b,m,j,h;v&&u?i.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===O||void 0===O||null===(b=O[0])||void 0===b||null===(m=b.categoryUrl)||void 0===m?void 0:m[0],categoryName:null===O||void 0===O||null===(j=O[0])||void 0===j?void 0:j.categoryName,categoryId:null===O||void 0===O||null===(h=O[0])||void 0===h?void 0:h.categoryId,modGrps:s}):(l+=1,o.push(e.item))})),_t({unavailableItem:o}),{unAval:l,itemArr:i}},Bt=(e,t,a)=>{const i=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===E.Ne||void 0===E.Ne?void 0:E.Ne.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:U.b.channel,service:a});Object(K.g)(),ae(Ct?Object(h.b)({tenantId:Ue,catalogName:e},i,(()=>_t({isMenuFetched:!0}))):Object(h.b)({tenantId:Ue,catalogName:e},{storeId:t,channel:U.b.channel,service:a},(()=>_t({isMenuFetched:!0}))))};Object(i.useEffect)((()=>{if(Object(f.j)([mt.length>0,rt.length>0,yt.isMenuFetched])){var e;const{id:t}=Object(f.sd)(ut),a=Object(f.Tb)(mt,E.i),i=Ht(a,rt,null===(e=yt.selectedTime)||void 0===e?void 0:e.key),l={dispatch:ae,response:i,foodLineInfo:mt,basketId:t,tenantId:Ue,updateReorderDetails:_t,setupLocalization:Gt,storeDetail:yt.storeDetail,orderinfoData:yt.orderinfoData,closeButtonHandler:R};At||((e=>{const{dispatch:t,response:a,foodLineInfo:i,basketId:l,tenantId:o,updateReorderDetails:n,setupLocalization:d,storeDetail:r,orderinfoData:s,closeButtonHandler:c}=e;a.unAval!==i.length&&t(Object(g.a)({params:{basketId:l},tenantId:o,isFromReorder:!0},a.itemArr,(e=>{localStorage.removeItem(E.gd.ADD_TO_ORDER),d(r,s),n({confirmed:!0}),c()})))})(l),_t({isMenuFetched:!1})),Rt(!1)}}),[mt,rt,yt.isMenuFetched]);const Ut=async function(){var e,t,a,i,l,o,n,d,r,s,c,u,v,b,m,j,h,p,S,I,C,T,y,D;let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R||Rt(!1);const{lang:_,catalog:L,storeId:M,deliveryAddress:k,storename:P,service:F}=Object(f.ld)(R?A:yt.storeDetail),H=De?k:null===(e=yt.orderinfoData)||void 0===e?void 0:e.deliveryAddress,B={date:null!==(t=null===(a=yt.selectedDate)||void 0===a||null===(i=a.date)||void 0===i?void 0:i.key)&&void 0!==t?t:Object(G.h)(new Date,wt),time:null!==(l=null===(o=yt.selectedTime)||void 0===o?void 0:o.value)&&void 0!==l?l:E.t,selectedTime:null!==(n=null===(d=yt.selectedTime)||void 0===d?void 0:d.value)&&void 0!==n?n:E.t,epochTime:null!==(r=yt.selectedTime)&&void 0!==r&&r.key&&(null===(s=yt.selectedTime)||void 0===s?void 0:s.key)!==E.t?null===(c=yt.selectedTime)||void 0===c?void 0:c.key:E.t},U={time:E.t,date:new Date,selectedTime:E.t,epochTime:E.t},V=Ct?B:U;let Y={id:M,summary:{menu:{catalogs:[L]}},addresses:[{lang:_}]};const{addressLines:K=[],customProperties:q}=(null===yt||void 0===yt||null===(u=yt.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[J,Q,Z,$,ee,te,ie,le]=K,oe=null===yt||void 0===yt||null===(v=yt.orderinfoData)||void 0===v||null===(b=v.deliveryAddress)||void 0===b?void 0:b.name,ne=null===yt||void 0===yt||null===(m=yt.orderinfoData)||void 0===m||null===(j=m.deliveryAddress)||void 0===j?void 0:j.pinCode,de=null===(h=O()(q,{key:E.V}))||void 0===h?void 0:h.value,re=null===(p=O()(q,{key:E.S}))||void 0===p?void 0:p.value,se=(null===yt||void 0===yt||null===(S=yt.orderinfoData)||void 0===S||null===(I=S.customProperties)||void 0===I||null===(C=I[0])||void 0===C?void 0:C.value)||{},ce=Ke&&null!==K&&void 0!==K&&K.length?{addressName:oe,apartmentName:ee,chome:Z,chomeId:re,cityId:de,cityTown:Q,companyName:ie,postalCode:ne,prefecture:J,roomNumber:te,specialNote:le,streetDetailAddress:$}:{},ue=await Object(f.A)(Y,Object(f.Mb)(F),Ze,V,Object(f.ac)(H,qe),null,ce,null===yt||void 0===yt||null===(T=yt.orderinfoData)||void 0===T||null===(y=T.deliveryAddress)||void 0===y?void 0:y.addressLines);let ve=Object(G.p)();if(Ct&&(null===(D=yt.selectedTime)||void 0===D?void 0:D.key)<ve)_t({hasError:{...yt.hasError,error:!0,errormessage:Object(N.translateWithI18Next)(x.a.SCHEDULE_ORDER_CA)}});else{const e=Object(f.Td)(yt.selectedTime)?yt.selectedTime.key:"";Ct&&sessionStorage.setItem(E.Ne.SCHEDULE_DATE_EPOCH,e),ae(Object(g.f)({data:ue,tenantId:Ue,successCallback:()=>Bt(L,M,F),errorCallback:()=>{var e,t;const a=ot.current,i=Object(f.Yd)(null===a||void 0===a||null===(e=a.storeDetail)||void 0===e?void 0:e[0])||Object(f.Xd)(null===a||void 0===a||null===(t=a.storeDetail)||void 0===t?void 0:t[0]);X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:i,updateReorderDetails:_t,storename:P,service:w})}}))}ae(Object(z.d)({key:E.gd.ADD_HOPE_TRIGGER,value:!0})),ae(Object(z.d)({key:null===E.se||void 0===E.se?void 0:E.se.REORDER_FLAG,value:{isReorderFlow:!0}})),ae(Object(z.d)({key:null===E.gd||void 0===E.gd?void 0:E.gd.SELECTED_NOT_NOW,value:!1})),ae(Object(z.d)({key:null===E.gd||void 0===E.gd?void 0:E.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),ae(Object(z.d)({key:null===W.a||void 0===W.a?void 0:W.a.STREET_NUMBER,value:se}))},Gt=(e,t)=>{var a,i,l,o,n,d,r,c,u,v,O,b;const m=s()(e,{});let{deliveryAddress:h,service:p}=De?Object(f.ld)(e):t;Te({type:re,value:{dispositionType:p}});const N=Ke?Object(G.S)(null===(a=yt.selectedTime)||void 0===a?void 0:a.value,E.sb.HH_mm,E.sb.hh_mm_A):null===(i=yt.selectedTime)||void 0===i?void 0:i.value,S={date:null!==(l=null===(o=yt.selectedDate)||void 0===o||null===(n=o.date)||void 0===n?void 0:n.key)&&void 0!==l?l:Object(G.h)(new Date,wt),time:null!==N&&void 0!==N?N:E.t,selectedTime:null!==N&&void 0!==N?N:E.t,epochTime:null!==(d=yt.selectedTime)&&void 0!==d&&d.key&&(null===(r=yt.selectedTime)||void 0===r?void 0:r.key)!==E.t?null===(c=yt.selectedTime)||void 0===c?void 0:c.key:E.t},I=Ct?S:Wt(m),x=Boolean((null===I||void 0===I?void 0:I.key)===E.t),C={type:p,store:m,date:null===I||void 0===I?void 0:I.date,time:null===I||void 0===I?void 0:I.time,epochTime:null===I||void 0===I?void 0:I.epochTime,interval:null===I||void 0===I?void 0:I.interval,selectedTime:null===I||void 0===I?void 0:I.selectedTime,deliveryAddress:Object(f.ac)(h,qe),deliveryAddressLine:(null===h||void 0===h||null===(u=h.addressLines)||void 0===u?void 0:u.length)>=1?null===h||void 0===h||null===(v=h.addressLines)||void 0===v?void 0:v[0]:""};Te({type:ue,value:{oldvalue:ye,newValue:C}}),localStorage.setItem(he,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(C)),localStorage.setItem(je,JSON.stringify({type:p,store:m,date:null===I||void 0===I?void 0:I.date,time:null===I||void 0===I?void 0:I.time,interval:null===I||void 0===I?void 0:I.interval,selectedTime:null===I||void 0===I?void 0:I.selectedTime,epochTime:null===I||void 0===I?void 0:I.epochTime,deliveryAddress:Object(f.ac)(h,qe),deliveryAddressLine:(null===h||void 0===h||null===(O=h.addressLines)||void 0===O?void 0:O.length)>=1?null===h||void 0===h||null===(b=h.addressLines)||void 0===b?void 0:b[0]:""})),Te({type:de,value:{showSearchStore:!1}}),Te({type:se,value:{isLocalized:!0}}),Te({type:ce,value:m}),ae(Object(j.a)({...Pe,localized:!0})),localStorage.setItem(Ie,JSON.stringify(m)),localStorage.setItem(xe,JSON.stringify(m)),Ct&&(Te({type:F.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),Te({type:F.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),Te({type:be,value:{enableASAPScheduling:x}})),Te({type:ve,value:{selectedDateTime:I}}),localStorage.setItem(Ne,JSON.stringify({})),localStorage.setItem(Se,H.a),localStorage.setItem(pe,p),localStorage.setItem(ge,JSON.stringify(I)),Te({type:F.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),Te({type:F.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(f.ld)(yt.storeDetail);if(Object(f.Td)(e)){const a=Object(f.ac)(e),i=await Object(Y.geocodeByAddress)(a),l=await Object(Y.getLatLng)(null===i||void 0===i?void 0:i[0]);Object(f.tf)(t,i),It&&ae(Object(z.d)({key:E.se.LAT_LONG,value:l}))}localStorage.setItem(E.gd.SERVICE_TYPE,Object(f.Mb)(t));const a=E.p.AUD;let i=[];null===mt||void 0===mt||mt.forEach(((e,t)=>{var l,o,n,d;let r=Object(f.g)(null===e||void 0===e?void 0:e.unitPrice,Ge);i.push({item_name:Object(f.jb)(null===e||void 0===e||null===(l=e.item)||void 0===l||null===(o=l.dname[0])||void 0===o?void 0:o.value,"NA"),item_id:Object(f.jb)(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id,"NA"),price:Object(f.jb)(parseFloat(r),"NA"),coupon:pt,currency:a,discount:Nt,item_category:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.categoryName)||"NA",item_list_name:_,item_list_id:"",index:t+0,quantity:Object(f.jb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(V.o)(i,He,a,kt,t),mt.length>0&&ae(Object(g.r)()),Object(V.p)(He,ee)})()},Vt=(e,t)=>{const{modifiedStoreData:a}=Object(f.md)(De,Ae,y);if(_t({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=s()(e,{}),n=u()(t,"summary",{}),{currentStatus:d}=u()(n,"status",{}),r=u()(n,"name",{}),c=Object(f.Yd)(t)||Object(f.Xd)(t);if(d===E.Y){X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:c,updateReorderDetails:_t,storename:r,service:w})}var i,l,o;if(Pe.localized)((e,t,a)=>{var i,l;Object(f.rf)(null===e||void 0===e?void 0:e.type)!==Object(f.rf)(t)&&a({orderTypeDifferentError:null===(i=Object(N.translateWithI18Next)(x.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===i?void 0:i.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(N.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(N.translateWithI18Next)(null===e||void 0===e||null===(l=e.type)||void 0===l?void 0:l.toLowerCase()),"</b>"))})})(ye,ft,_t),te!==(null===(i=ye)||void 0===i||null===(l=i.store)||void 0===l?void 0:l.id)&&_t({locationDifferentError:null===(o=Object(N.translateWithI18Next)(fe))||void 0===o?void 0:o.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))});Rt(!0),Ut(e,!0)}else{var n;_t({storeClosedError:null,storeError:null===(n=Object(N.translateWithI18Next)(Ee))||void 0===n?void 0:n.replace("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))})}};return Object(i.useEffect)((()=>{const e=null===y||void 0===y?void 0:y.service,{modifiedStoreId:t,modifiedStoreData:a,modifiedService:i,modifiedDeliveryAddress:l}=Object(f.md)(De,Ae,y);ae(Object(p.l)({storeId:t,tenantId:Ue},(t=>{const o={data:Object(f.C)([a],i,l,Xe,null===Mt||void 0===Mt?void 0:Mt.latLong),store:[{...t,service:i}],tenantId:Ue,setStatusFlag:!1,isFavoritePage:!1};ae(Object(p.d)(o,(t=>{_t({storeDetail:t}),ae(Object(m.f)({tenantId:Ue,orderId:M,customerId:Ze,CTO:!!Object(f.Jd)(e)&&void 0},(e=>Vt(t,e))))})))})))}),[]),Object(A.jsx)(A.Fragment,{children:yt.showModal?Object(A.jsx)(P,{...e,onChangeDisposition:Pt,editDeliveryLocation:Ft,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(f.md)(De,Ae,y),a=s()(yt.storeDetail,{});var i;a?(_t({showModal:!1}),Te({type:re,value:{dispositionType:a.service}}),Object(f.Gf)(Te,null===(i=a.summary)||void 0===i?void 0:i.name),Te({type:Oe,value:{reorderModalOpen:!1}})):(_t({showModal:!1}),Te({type:re,value:{dispositionType:t}}),Object(f.Gf)(Te,null===e||void 0===e?void 0:e.name),Te({type:Oe,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Ut,storeError:yt.storeError,locationDifferentError:yt.locationDifferentError,currencySymbol:Ve,currencyConversionFactor:Ge,orderDetails:at,isPastOrderValidationLoading:ct,isAddItemLoading:vt,storeChanged:De,currentStoreInfo:Ae,enableScheduleOrderFlag:Ct,changeDateValue:e=>{var t,a;const i=null===(t=yt.dateTimeArr)||void 0===t?void 0:t.find((t=>{var a;return(null===t||void 0===t||null===(a=t.date)||void 0===a?void 0:a.key)===(null===e||void 0===e?void 0:e.key)}));_t({hasError:{...yt.hasError,error:!1,errormessage:""},selectedDate:i,storeError:null,storeClosedError:null,selectedTime:{...null===i||void 0===i||null===(a=i.timeSlots)||void 0===a?void 0:a[0]}})},changeTimeValue:e=>{_t({hasError:{...yt.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{_t({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(yt.storeClosedError),isGenericError:Boolean(yt.storeError),isLocationError:Boolean(yt.locationDifferentError),...yt,elementUniqueLocator:$e}):null})}},1212:function(e,t,a){"use strict";(function(e){var i=a(3),l=a(6),o=a(41),n=a(46),d=a(144),r=a(190),s=a(1203),c=a(15),u=a(0),v=a(4),O=a(5),b=a(417),m=a(394),j=a(28),h=a(1213),p=a(1148),g=a(426),N=a(73),S=a(20),I=a.n(S),x=a(2);const f=e=>{let{isNameExist:t,isInvalidName:a,SPECIAL_CHAR_ERROR:i,NAME_EXIST_ERROR:o}=e;return(t||a)&&Object(x.jsxs)("div",{className:"error-text-container",children:[Object(x.jsx)(n.a,{srcFile:c.a.Error}),Object(x.jsx)("span",{className:"error-text",children:Object(l.translateWithI18Next)(a?i:o)})]})},E=e=>{const{data:t,status:a,handleSelect:i,countryNameInDefaultLang:o}=e;return(null===a||void 0===a?void 0:a.toUpperCase())===r.b.OK?null===t||void 0===t?void 0:t.map((e=>{const{place_id:t,structured_formatting:{main_text:a,secondary_text:l}}=e;return Object(x.jsx)(x.Fragment,{children:e&&Object(x.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:i(e),children:[Object(x.jsx)(n.a,{srcFile:c.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(x.jsxs)("span",{className:"address-text",children:[a," ",l]})]},t)})})):(e=>(null===e||void 0===e?void 0:e.toUpperCase())===r.b.ZERO_RESULTS?Object(x.jsx)("div",{className:"noAddressText",children:Object(l.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.NO_ADDRESS_FOUND)}):null)(a)},C=(e,t)=>{const{floor:a,addressLines:i,isFlatNumberSelected:l}=e;return t&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>t.includes(e))))&&l?Object(m.y)(t):a||i[0]},T=(e,t,a)=>{const{addressLines:i}=e;return null!==u.mf&&void 0!==u.mf&&u.mf.some((e=>null===a||void 0===a?void 0:a.includes(e)))?a:t||(null===i||void 0===i?void 0:i[1])},y=(e,t,a)=>{((e,t,a)=>{(null===a||void 0===a?void 0:a.isAddressSelected)&&!t||e.preventDefault()})(e,t,a)};t.a=t=>{var a,S,D;const A=Object(j.c)((e=>e.tenantReducer)),R=null===A||void 0===A?void 0:A.addressValidRemove,_=null===A||void 0===A||null===(a=A.componentOptions)||void 0===a||null===(S=a.web)||void 0===S||null===(D=S.address)||void 0===D?void 0:D.addressNickNameCharacterLimit,{setValue:w,value:L,isOpen:M,handleClose:k,modalType:P,error:F,addresses:W,handleChange:H,handleInput:B,showSuggestions:U,ready:G,suggestionRef:V,suggestions:Y,handleSelect:K,checkFormValidation:q,handleSubmit:z,isNameExist:J,isInvalidName:X,savedAddresses:Q=[],isAddressFromOrderProcessing:Z=!1,countryNameInDefaultLang:$,setSaveAddress:ee,nonFormattedAddress:te,setNonFormattedAddress:ae,addressFormConditions:ie,seteligibleStoreData:le,showStores:oe,setShowStores:ne,showMapBasedField:de,setShowMapBasedFiled:re,clearSuggestions:se,showAddressMapView:ce,getUserLatLong:ue,dispatch:ve,allStores:Oe,setError:be,deliveryInstration:me=""}=t,{data:je,status:he}=Y,{ADD_NEW_ADDRESS:pe,EDIT_DELIVERY_ADDRESS:ge,NOT_SERVICEABLE:Ne,SPECIAL_CHAR_ERROR:Se,NAME_EXIST_ERROR:Ie,ADDRESS_ERROR_MSG:xe,INITIAL_STATE:fe}=r.b,{CANCEL:Ee,SAVE:Ce,ADDRESS_NICK_NAME:Te,HAND_IT_TO_ME:ye,LEAVE_AT_MY_DOOR:De,PLEASE_FILL_OUT_THIS_FIELD:Ae,DELIVERY_OPTIONS_TOOL_TIP:Re}=v.a,{ADDRESS:_e,APT_SUITE_FLOOR:we,POSTAL_CODE:Le,CITY_TOWN:Me,MAKE_THIS_DEFAULT_ADD:ke,STATE:Pe,DELIVERY_OPTION:Fe,DELIVERY_INSTRUCTION:We}=r.d,{disableCityTownField:He,disablePostalCodeField:Be,disableStateField:Ue}=ie,Ge=[ye,De],Ve=[Object(l.translateWithI18Next)(ye),Object(l.translateWithI18Next)(De)],Ye={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:M,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:k,modalTitle:P?ge:pe,autoFocus:!0};Object(i.useEffect)((()=>{te&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>te.includes(e))))&&te&&ee({...W,addressLines:[Object(m.y)(te),te]})}),[te]),Object(i.useEffect)((()=>{ce&&ve(Object(N.u)())}),[]),Object(i.useEffect)((()=>{var e;de&&null!==W&&void 0!==W&&null!==(e=W.results)&&void 0!==e&&e.length&&Object(p.e)("",null===W||void 0===W?void 0:W.results[0],w,ee,se,q,"","","",de)}),[null===W||void 0===W?void 0:W.results,de]);const Ke=()=>Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"address-form-section",children:Object(x.jsxs)("div",{className:"form-container",children:[F&&Object(x.jsx)("div",{className:"error-service-msg",children:Object(l.translateWithI18Next)(Ne)}),Object(x.jsxs)("form",{autocomplete:"off",children:[!de&&Object(x.jsxs)("div",{className:"input-container",children:[(L||(null===W||void 0===W?void 0:W.addressLines[1]))&&Object(x.jsx)("div",{className:"remove-container",onClick:()=>(ee({...W,addressLines:[null===W||void 0===W?void 0:W.addressLines[0],""],isAddressSelected:!1,isFlatNumberSelected:!1}),w(""),C(fe),void ae("")),"data-testid":"clear-text-icon",children:Object(x.jsx)("img",{alt:"",src:b.a})}),Object(x.jsx)("input",{"data-testid":"search-input-address",value:T(W,L,te),onChange:B,disabled:!G,name:"addressLine",onFocus:()=>w(L),required:!0,type:"text",title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsxs)("label",{children:[Object(l.translateWithI18Next)(_e),"*"]}),U&&Object(x.jsx)("ul",{ref:V,className:"address-list",children:E({data:je,status:he,handleSelect:K,countryNameInDefaultLang:$})})]}),Object(x.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("input",{required:!0,type:"text",name:"floor",value:C(W,te),onChange:H,"data-testid":"floor-test-id",maxLength:ce&&40,title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsx)("label",{children:Object(l.translateWithI18Next)(we)})]}),Object(x.jsxs)("div",{className:"input-container ml5",children:[Object(x.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:e=>y(e,Be,W),onKeyPress:e=>y(e,Be,W),value:null===W||void 0===W?void 0:W.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:H,title:Object(l.translateWithI18Next)(Ae),maxLength:ce&&5}),Object(x.jsxs)("label",{children:[Object(l.translateWithI18Next)(Le),"*"]})]})]}),Object(x.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>y(e,He,W),onKeyPress:e=>y(e,He,W),value:null===W||void 0===W?void 0:W.city,"data-testid":"city-id",onChange:H,title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsxs)("label",{children:[Object(l.translateWithI18Next)(Me),"*"]})]}),Object(x.jsxs)("div",{className:"input-container ml5",children:[Object(x.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>y(e,Ue,W),onKeyPress:e=>y(e,Ue,W),value:null===W||void 0===W?void 0:W.state,"data-testid":"state-id",onChange:H,title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsxs)("label",{children:[Object(l.translateWithI18Next)(Pe),"*"]})]})]}),Object(x.jsxs)("div",{className:ce?"col-12 delivery-option-select":"d-flex adjust-width flex-dir",children:[!ce&&Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)(s.b,{options:Ve,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:H,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:(null===W||void 0===W?void 0:W.deliveryOptions)||Object(l.translateWithI18Next)(null===Ge||void 0===Ge?void 0:Ge[0]),title:Object(l.translateWithI18Next)(Re)}),Object(x.jsxs)("label",{children:[Object(l.translateWithI18Next)(Fe),"*"]})]}),Object(x.jsxs)("div",{className:"input-container ".concat(!ce&&"ml-5"),children:[Object(x.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:(null===W||void 0===W?void 0:W.deliveryInstructions)||me,"data-testid":"deliveryInstruction-id",onChange:H,maxlength:R?r.b.TH_DELIVERY_MAX_LENGTH:r.b.DELIVERY_MAX_LENGTH,title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsx)("label",{children:Object(l.translateWithI18Next)(We)})]})]}),Object(x.jsxs)("div",{className:ce?"col-12 default-address-section default-address-sectionth default-selection":"default-address-section",children:[Object(x.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===W||void 0===W?void 0:W.isPrimary,checked:Object(O.jb)(null===W||void 0===W?void 0:W.isPrimary,Q.length<1||P&&Q.length<=1),onChange:H,disabled:Q.length<1||P&&Q.length<=1,title:Object(l.translateWithI18Next)(Ae)}),Object(x.jsx)("div",{className:"default-label-text",children:Object(x.jsx)("label",{htmlFor:"default-address",children:Object(l.translateWithI18Next)(ke)})})]})]})]})}),Object(x.jsxs)("div",{className:"text-center input-container",children:[Object(x.jsx)(o.a,{onClick:k,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(l.translateWithI18Next)(Ee)}),Object(x.jsx)(o.a,{disabled:!q()||F,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{z(Z)},children:Object(l.translateWithI18Next)(Ce)})]})]});return Object(x.jsx)("div",{className:"".concat(ce&&"map-modal-view"),children:Object(x.jsxs)(d.a,{...Ye,"data-testid":"address-modal-landing-page",children:[Object(x.jsx)(x.Fragment,{children:J&&Object(x.jsx)("div",{className:"addr-error-container",children:Object(x.jsxs)("div",{className:"error-sub-container",children:[Object(x.jsx)(n.a,{srcFile:c.a.Error,className:"mr-1 location-alert-icon"}),Object(x.jsx)("div",{className:"error-msg",children:Object(l.translateWithI18Next)(xe)})]})})}),(()=>{return Object(x.jsx)("div",{className:"address-form-section",children:Object(x.jsx)("div",{className:"form-container",children:Object(x.jsx)("form",{autocomplete:"off",children:Object(x.jsxs)("div",{className:"input-container ".concat((J||X)&&"error-input-container"),children:[Object(x.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===W||void 0===W?void 0:W.name,maxLength:_,onChange:H,title:Object(l.translateWithI18Next)(Ae),className:(e=J,t=X,e||t?"error-input":"")}),Object(x.jsx)("label",{children:Object(l.translateWithI18Next)(Te)}),f({isNameExist:J,isInvalidName:X,SPECIAL_CHAR_ERROR:Se,NAME_EXIST_ERROR:Ie})]})})})});var e,t})(),ce&&(()=>{var t,a,i,l,o;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a,{formContent:null===g.a||void 0===g.a||null===(t=g.a.contentData)||void 0===t||null===(a=t.searchStoreModalContent)||void 0===a?void 0:a.formContent,storeData:[],eligibleStoreData:[],currentMarket:null===(i=e)||void 0===i||null===(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===l||null===(o=l.REACT_APP_TENANT_CODE)||void 0===o?void 0:o.toUpperCase(),dispositionType:null===u.Jb||void 0===u.Jb?void 0:u.Jb.DELIVERY,seteligibleStoreData:le,storeSelection:{signInLink:!0,useMyLocation:!0,placesSearchInput:!0},eligibleFavoriteStoreData:[],findAKFC:!1,finAKFCContentData:{},isMobile:!1,setShowStores:ne,showStores:oe,setShowMapBasedFiled:re,addresses:W,setSaveAddress:ee,userPositionHandler:ue,allStores:Oe,setError:be}),I()(null===W||void 0===W?void 0:W.locationErrorObj)&&(null===W||void 0===W?void 0:W.isConfirmButtonClicked)&&de&&Ke()]})})(),(Z||!ce)&&Ke()]})})}}).call(this,a(121))},1213:function(e,t,a){"use strict";var i=a(3),l=a(28),o=a(43),n=a(85),d=a(1193),r=a(269),s=a(5),c=a(329),u=a(0),v=a(6),O=a(394),b=a(133),m=a(62),j=a(4),h=a(24),p=a(1196),g=a(15),N=a(1117),S=a(1147),I=a(1197),x=a(20),f=a.n(x),E=a(2);const{MIN_SEARCH_CHARACTER_LIMIT:C,TYPE_DELIVERY:T}=o.a,{LOCATION_BLOCKED_ERROR:y,KFC_URL:D}=j.a,{KEY_CHAR_CODE:A}=u.ag||{},{ENTER:R}=A||{},{Error_Yellow:_}=g.a;t.a=e=>{var t,a;const{userPositionHandler:o,dispositionType:u,storeSelection:g,setShowMapBasedFiled:x,addresses:T,setSaveAddress:A,formContent:w,allStores:L,setError:M}=e,k=Object(i.useRef)(null),P=Object(m.g)(),{userOrderState:F,userOrderStateDispatch:W}=Object(i.useContext)(n.a),{showLocationConfirmModal:H}=F,[B,U]=Object(i.useState)(!1),[G,V]=Object(i.useState)(!1),[Y,K]=Object(i.useState)(!1),[q,z]=Object(i.useState)(!1),[J,X]=Object(i.useState)([]),[Q,Z]=Object(i.useState)(""),[$,ee]=Object(i.useState)(!1),[te,ae]=Object(i.useState)(!1),ie=Object(l.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),[le,oe]=Object(i.useState)({}),ne=Object(l.c)((e=>e.appStateReducer.userStatus)),{loggedIn:de}=Object(s.sd)(ne),{componentOptions:re}=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),se=null===re||void 0===re||null===(t=re.web)||void 0===t?void 0:t.dispositionConfig,ce="DELIVERY_FORM",{shouldHandleKeyPress:ue,shouldPopulateFirstSuggestion:ve,filteredTypes:Oe,filterConditions:be,shouldShowLocationLink:me}={...null===b.d||void 0===b.d?void 0:b.d[ce],...null===se||void 0===se?void 0:se[ce]},je=Object(s.Je)(H,me),[he,pe]=Object(i.useState)(!1),{RETRY_BTN_TEXT:ge,ADDRESS_NOT_FOUND_ERROR:Ne,VIEW_MAP_BTN_TEXT:Se,SEARCH:Ie}=j.a,xe=Object(s.de)(window.innerWidth);Object(i.useEffect)((()=>{null!==T&&void 0!==T&&T.isLocationButtonClicked&&(null===L||void 0===L?void 0:L.length)>0?(A({...T,locationErrorObj:{}}),V(!0)):null===T||void 0===T||!T.isLocationButtonClicked||null!==L&&void 0!==L&&L.length||A({...T,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),firstBtnCTA:Ee}})}),[L]),Object(i.useEffect)((()=>{var e,t,a;null!==T&&void 0!==T&&T.location&&(oe({lat:parseFloat(null===T||void 0===T||null===(e=T.location)||void 0===e?void 0:e.latitude),lng:parseFloat(null===T||void 0===T||null===(t=T.location)||void 0===t?void 0:t.longitude)}),V(!0),Z(null===T||void 0===T||null===(a=T.addressLines)||void 0===a?void 0:a[1]),A({...T,isConfirmButtonClicked:!0,locationErrorObj:{}}),x(!0),ae(!0))}),[null===T||void 0===T?void 0:T.id]);const fe=()=>{A({...T,locationErrorObj:{}}),V(!0),U(!1)},Ee=()=>{var e;!xe&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.select()),V(!1),U(!1),A({...T,name:null===T||void 0===T?void 0:T.name,locationErrorObj:{}}),pe(!1)};Object(i.useEffect)((()=>{!f()(le)&&A({...T,location:{latitude:null===le||void 0===le?void 0:le.lat,longitude:null===le||void 0===le?void 0:le.lng}})}),[le]),Object(i.useEffect)((()=>{Object(O.f)(W,H)}),[W]);const Ce=Object(i.useCallback)((e=>{Object(O.I)(ue,(null===e||void 0===e?void 0:e.keyCode)===R,k,W),Object(O.K)(ve,(null===e||void 0===e?void 0:e.keyCode)===R,J,Z,Q)}),[ue,null===J||void 0===J?void 0:J.length]),Te=Object(i.useCallback)((async e=>{if(A({...T}),null===e||void 0===e||e.preventDefault(),V(!0),U(!1),x(!0),ae(!0),null!==T&&void 0!==T&&T.isLocationButtonClicked)A({...T,isConfirmButtonClicked:!0});else{const e=await Object(c.geocodeByAddress)(Q);A({...T,results:e,isConfirmButtonClicked:!0})}}),[ue,J,o,q,Y]),ye=Object(i.useCallback)((async(e,t)=>{const a=Object(O.o)(t,ue,J,e,u);K(a),z(e),U(!0),x(!1),Z(e),(async(e,t)=>{const a=await Object(c.geocodeByAddress)(e);(null===T||void 0===T?void 0:T.isLocationButtonClicked)&&A({...T,results:a});const i=await Object(c.getLatLng)(a[0]);(null===T||void 0===T||!T.isLocationButtonClicked)&&o({userLat:i.lat,userLong:i.lng}),oe(i)})(a),V(!0),pe(!1)}),[ue,J,Y,q]),De=document.getElementsByClassName("suggestion-list")[0];Object(i.useEffect)((()=>{De||!he||null!==T&&void 0!==T&&T.isLocationButtonClicked?A({...T,locationErrorObj:{},isConfirmButtonClicked:!(null===T||void 0===T||!T.id)}):A({...T,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),secondBtnText:Object(v.translateWithI18Next)(Se),firstBtnCTA:Ee,secondBtnCTA:fe}})}),[De,he]);const Ae=()=>{var e;M(!1),Z(""),U(!1),V(!1),!xe&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.focus()),x(!1),A({addressId:"",city:"",pinCode:"",name:null===T||void 0===T?void 0:T.name,state:"",country:"",isPrimary:null===T||void 0===T?void 0:T.isPrimary,location:{latitude:"",longitude:""},addressLines:["",""],isSelectedAddress:!1,isFlatNumberSelected:!1,deliveryInstructions:"",isLocationButtonClicked:!1,results:[],id:null===T||void 0===T?void 0:T.id}),ae(!1),oe({}),K(""),z(""),pe(!1)},Re=Object(i.useCallback)(((e,t)=>{var a;e.length>2&&pe(!0),U(!1),ae(!1),x(!1),null!==e&&void 0!==e&&e.trim()&&(z(e),K(e)),e.trim()?Z(e):Ae(),t&&G&&xe&&(null===k||void 0===k||null===(a=k.current)||void 0===a||a.blur())}),[Ae]),{handleSelectAddress:_e}=Object(r.a)({handleSelectAddressGlobal:ye}),we=Object(i.useCallback)((async()=>{const e=await Object(r.b)(W,ie),t=e&&await Object(c.geocodeByAddress)(h.b.address);if(e){V(!1),U(!0),A({...T,isLocationButtonClicked:!0,results:[null===t||void 0===t?void 0:t[0]],isConfirmButtonClicked:!1,locationErrorObj:{}}),Z(h.b.address),X([{description:h.b.address}]);const{longitude:e,latitude:a}=h.b.coordinates;o({userLat:a,userLong:e}),oe({lat:a,lng:e}),M(!1),ae(!1)}Object(O.s)(W,!e)}),[W,o,u]);Object(i.useEffect)((()=>{const e=Object(s.d)(Q,C);ee(e)}),[Q]);return Object(E.jsx)("div",{className:"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(E.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(E.jsxs)("div",{id:"search-store-global-content",className:Object(O.u)(H),children:[Object(E.jsx)(N.a,{show:je,errorMsg:Object(O.G)(y,D),errImage:_,cssClass:"location-blocked"}),Object(E.jsxs)("div",{className:"selectkfc-search-store-container",children:[Object(E.jsx)(I.a,{loggedIn:de,formContent:w,storeSelection:g,useCurrentLocation:we,hideLocationLink:!1,showLocationConfirmModal:H}),Object(E.jsx)(d.a,{...e,dataTestId:"ConfirmSearchAddress",storeSelection:g,history:P,inputOnChange:Re,address:Q,showAutoSuggestion:$,setSuggestedAddress:X,handleSelectAddress:_e,alreadySearched:r.c,onClearTextHandler:Ae,keyPress:Ce,inputRef:k,placeholder:Object(v.translateWithI18Next)(Ie),filteredTypes:Oe,filterConditions:be,showConfirmBtn:!0,onClickHandler:Te,confirm:B}),(null===T||void 0===T?void 0:T.locationErrorObj)&&Object(E.jsx)(S.a,{show:null===T||void 0===T||null===(a=T.locationErrorObj)||void 0===a?void 0:a.showError,dataTestId:"locationSearchError",errorObj:null===T||void 0===T?void 0:T.locationErrorObj})]})]}),G?Object(E.jsx)(p.a,{dataTestId:"SearchErrors",eligibleStores:[],defaultStoreId:"",loggedIn:de,selectedCoords:le,passAddress:(e,t)=>{const a=Object(s.de)(window.innerWidth);var i;(Re(e,!0),X([{description:e}]),oe(t),o({userLat:t.lat,userLong:t.lng}),a)||(null===k||void 0===k||null===(i=k.current)||void 0===i||i.focus());G&&(e=>{var t;let a=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(a)})(k)},configSearchKey:ce,useCurrentLocation:we,showLocationConfirmModal:!1,findAKFC:!1,disableUseLocationIcon:!0,disableMapSelection:te,markerDragValue:!0}):null]})})}},1221:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(43),n=a(403),d=a(6),r=a(5),s=a(85),c=a(0),u=a(15),v=a(2);t.a=e=>{const{userOrderState:t}=l.a.useContext(s.a),{dispositionStateData:a={}}=t,{DISPOSITION_TYPE:O}=c.gd,{dispositionType:b=localStorage.getItem(O)}=a,{locationAlertProp:m,negativeScenarioAlertProp:j,isMobile:h,onPositionChangeHandler:p,centerIndex:g,isVisible:N,setShowCard:S,locationAlert:I,setStoreMarker:x=r.N,passAddress:f,storeCardHeight:E,latLongValue:C,isMarkerVisible:T=!0,style:y,defaultZoom:D=10,shouldShowMarkerWithText:A=b!==c.Df,useLatLngForReverseGeocode:R=!1,markerDragValue:_=!1,showLabelOnMapPin:w}=e,{PLACE_PIN:L}=o.a,{RedMarker:M,RedMarkerNoText:k,BlackMarker:P,ArrowIcon:F}=u.a,W=Object(i.useRef)(null),H=Object(i.useRef)(null),B=Object(i.useRef)([]),[U,G]=Object(i.useState)(!1),[V,Y]=Object(i.useState)(D),[K,q]=Object(i.useState)(C),[z,J]=Object(i.useState)(!1),[X,Q]=Object(i.useState)(g),Z=e=>Object(r.qd)(!N,N&&e===X);Object(i.useEffect)((()=>{H.current=$(K),B.current=te(K)}),[X]),Object(i.useEffect)((()=>{U||q(C)}),[C]),Object(i.useEffect)((()=>{if(B.current&&H.current){const e=H.current,t=B.current;K.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),B.current=te(K)),Array.isArray(K)&&K.length>0?(K.forEach(((e,a)=>{t[a]&&!Z(a)&&t[a].setPosition(e)})),e.setCenter(K[g])):(t[0]&&t[0].setPosition(K),e.setCenter(K))}}),[K,g]),Object(i.useEffect)((()=>{if(B.current&&H.current){B.current.forEach(((e,t)=>{t===X?e.setIcon(ee()):e.setIcon(P)}))}}),[X]);const $=e=>new window.google.maps.Map(W.current,{zoom:V,center:Array.isArray(e)&&e.length>0?e[g]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!h,gestureHandling:"greedy"}),ee=()=>A&&w?M:k,te=e=>{const t=new window.google.maps.Geocoder;let a=e;const i=H.current;N?(i.addListener("zoom_changed",(()=>{const e=B.current[g];e&&(x(e.internalPosition),S(!0)),J(!0)})),i.addListener("drag",(()=>{J(!0)}))):(i.addListener("drag",(()=>{_||(Y(null===i||void 0===i?void 0:i.getZoom()),a={lat:i.getCenter().lat(),lng:i.getCenter().lng()},B.current[0]&&B.current[0].setPosition(a))})),i.addListener("dragend",(function(){_||(Y(null===i||void 0===i?void 0:i.getZoom()),ae(t,i,a),G(!0))})));let l=(Array.isArray(a)&&a.length>0?a:[a]).map(((e,a)=>{const l=Z(a);let o=new window.google.maps.Marker({position:e,map:i,draggable:l&&_,visible:T,icon:l?ee():P});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){x(e.latLng),Q(t),S(!0)}))})(o,a),_&&l&&((e,t,a)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var i,l;let o={lat:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lat(),lng:null===e||void 0===e||null===(l=e.latLng)||void 0===l?void 0:l.lng()};ae(a,t,o),G(!0)}))})(o,i,t),o}));return l};function ae(e,t,a){e.geocode({location:a},((e,t)=>{if(t===c.Ld){let t=((e,t)=>{let a=[];return e&&(a=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(c.ie)}))),Object(r.Rd)(a)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(c.ie))})):a})(R,e);var i;if(t[0])f(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.formatted_address,a)}}))}const ie=Object(r.Je)(h,!z,T,A);return Object(v.jsxs)(l.a.Fragment,{children:[!m&&((null===b||void 0===b?void 0:b.toUpperCase())!==c.Df||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(r.ad)(I,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(L)})})),ie&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(r.hb)(0===g,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(r.ad)(0===g,e.preventDefault(),p(0)),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(g===K.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>g===K.length-1?e.preventDefault():p(1),children:Object(v.jsx)(n.a,{srcFile:F,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:W,style:{height:"240px",...y}})]})}},1227:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(28),n=a(62),d=a(66),r=a(6),s=a(4),c=a(41),u=a(15),v=a(5),O=a(2);const b=l.a.createRef();var m=e=>{var t;const{onClickHandler:a,currencyConversionFactor:i,isDarkMode:l=!1,dataTestId:n,title:d,onEditOccasionName:c,itemId:m,itemName:j,showContent:h,setCurrentIndex:p,currentIndex:g,index:N}=e,{AccordianArrow:S,AccordianUpArrow:I,AccordianDownDark:x,AccordianUpDark:f}=u.a,E=Object(o.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:C={}}={}}=null!==(t=Object(o.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},T=e=>{p(Object(v.ad)(g!==N,N,null)),!h&&(null===a||void 0===a||a(m,E,C,b.current,i))};return Object(O.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(h?"account-accordian-open":""),ref:b,children:[Object(O.jsxs)("div",{className:"global-accordian-header-container",children:[Object(O.jsx)("span",{className:"global-accordian-header",children:d&&Object(O.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(O.jsx)("span",{className:"order-accordian-heading",children:d}),Object(O.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{c(m,j)},children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.EDIT_FAVORITE_NAME)})]})}),Object(O.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:l?Object(O.jsx)("img",{src:h&&f||x,onClick:T,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(O.jsx)("img",{src:h&&I||S,onClick:T,className:"global-accordian-arrow","data-testid":n,alt:""})})]}),h&&Object(O.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=a(46),h=a(412);a(414);var p=e=>{const{occassionOrder:t,tenantReducer:a,imageContainerSize:i,plpbackgroundImageData:o}=e,{currencySymbol:n,addHope:d,carryBag:r,currencyConversionFactor:s,taxAmountRoundOff:c}=a,{items:u}=t;let b=Object(h.k)(u,d,r);return Object(O.jsx)(l.a.Fragment,{children:null===b||void 0===b?void 0:b.map((e=>{var t;return Object(O.jsx)("div",{className:"account-accordian-details-section",children:Object(O.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(O.jsx)("div",{style:Object(v.mb)(o,i.width,i.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(O.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.qc)(e.content,i.width,i.height),alt:"No-Image",defaultPath:Object(v.bc)(e.imageName,a,!0)})}),Object(O.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(O.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(O.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.K)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:n,currencyConversionFactor:s},"",c)})]})]})})}))})},g=a(332),N=a(144);var S=e=>{const{onCancelHandler:t,onRemoveHandler:a}=e,{REMOVE:i,CANCEL:l,REMOVE_FROM_FAVMODAL_MSG:o}=s.a;return Object(O.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(O.jsx)("div",{className:"remove-message-section",children:Object(O.jsx)("p",{className:"remove-message",children:Object(r.translateWithI18Next)(o)})}),Object(O.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(O.jsx)(c.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(r.translateWithI18Next)(l)}),Object(O.jsx)(c.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:a,children:Object(r.translateWithI18Next)(i)})]})]})};var I=e=>{const{item:t,setIsModalOpen:a,tenantId:i,customerId:l,currentItemId:n}=e,d=Object(o.b)(),c=Object(O.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),b=Object(r.translateWithI18Next)(s.a.REMOVED_FROM_FAVORDERS),m=()=>{a(!1)},h={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:m,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(O.jsx)("div",{children:Object(O.jsx)(N.a,{...h,children:Object(O.jsx)(S,{onCancelHandler:m,setIsModalOpen:a,onRemoveHandler:e=>{var t,o,r;const s=null===(t=e.target)||void 0===t||null===(o=t.parentElement)||void 0===o||null===(r=o.parentElement)||void 0===r?void 0:r.parentElement;null!==s&&void 0!==s&&s.classList.contains("account-accordian-open")&&(null===s||void 0===s||s.classList.remove("account-accordian-open")),a(!1),(async(e,t,a)=>{await d(Object(g.b)({tenantId:e,customerId:t,itemId:a}))})(i,l,n),Object(v.Df)(b,c,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},x=a(1210),f=a(0),E=a(1184),C=a(85),T=a(16),y=a(9),D=a(55);var A=a(406);const R=(e,t,a,i,l)=>{var o,n,d,r;const{ACCOUNT_FAV_PAGE:s}=A.d;null!==i&&void 0!==i&&null!==(o=i.classList)&&void 0!==o&&o.contains("account-accordian-open")?null===i||void 0===i||null===(n=i.classList)||void 0===n||n.remove("account-accordian-open"):null===i||void 0===i||null===(d=i.classList)||void 0===d||d.add("account-accordian-open");const c=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===c||void 0===c?void 0:c.service;((e,t)=>{var a,i,l;Object(D.p)(null===y.a||void 0===y.a||null===(a=y.a.accountViewFavItemList)||void 0===a?void 0:a.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}})})(null===c||void 0===c||null===(r=c.items)||void 0===r?void 0:r.map(((e,t)=>{var i;const{categoryId:o="NA",categoryName:n="NA"}=null!==(i=null===a||void 0===a?void 0:a[e.id])&&void 0!==i?i:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.jb)(Number(((null===e||void 0===e?void 0:e.price)/l).toFixed(f.gg)),0),item_category:n,item_list_name:s,item_list_id:o,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.jb)(null===c||void 0===c?void 0:c.couponCode,"NA"),discount:Object(v.jb)((null===c||void 0===c?void 0:c.discountTotal)/l,0),currency:f.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:a}=e,l=Object(o.b)(),b=Object(n.g)(),{userOrderState:j,userOrderStateDispatch:h}=Object(i.useContext)(C.a),[g,N]=Object(i.useState)(""),[S,y]=Object(i.useState)(""),A=Object(o.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:_,phone:w}=Object(o.c)((e=>{var t;return Object(v.sd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:L,currencyConversionFactor:M}=Object(o.c)((e=>e.tenantReducer||{})),k=Object(o.c)((e=>e.tenantReducer)),{cartData:P}=Object(o.c)((e=>e.cartReducer||{})),[F,W]=Object(i.useState)(!1),[H,B]=Object(i.useState)(!1),[U,G]=Object(i.useState)(!1),[V,Y]=Object(i.useState)(!1),[K,q]=Object(i.useState)(null),{SingleArrowback:z,FavouriteActiveBlack:J}=u.a,{reorderFlag:{reorderModalOpen:X=!1}}=j,[Q,Z]=Object(i.useState)({}),{headerData:{plpBackgroundImage:$={}}={}}=Object(o.c)((e=>{var t;return Object(v.sd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.lb)($),{REORDER_MODAL_OPEN:ae,FROM_REORDER_MODAL_OPEN:ie,REORDER_STORE_CHANGED:le}=T.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const oe=()=>{h({type:ae,value:{reorderModalOpen:!1}}),h({type:ie,value:{fromReorderFlag:!1}}),h({type:le,value:{storeChanged:!1}})};Object(i.useEffect)((()=>()=>oe()),[]);const ne=(e,t)=>{W(!0),e&&(N(e),y(t),B(!1),G(!1))};Object(i.useEffect)((()=>{((e,t,a,i)=>{if(e){const l={customerId:t,tenantId:e,phoneNumber:Object(v.Pc)(a),updateUserData:!0};i(Object(d.d)(l))}})(L,_,w,l)}),[l,L,_,w]);const[de,re]=Object(i.useState)(null);return Object(O.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(O.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(O.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:z,alt:"back button"}),Object(O.jsx)("span",{className:"account-setting-text-header",children:Object(r.translateWithI18Next)(s.a.FAVOURITES)})]}),Object(O.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(O.jsx)("img",{src:J,className:"account-icon mr-2",alt:""}),Object(O.jsx)("span",{className:"page-heading",children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})]}),!(null!==A&&void 0!==A&&A.length)&&Object(O.jsx)("div",{className:"no-occasion-container",children:Object(O.jsx)("p",{children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),A&&(null===A||void 0===A?void 0:A.map(((t,i)=>Object(O.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("section",{className:"account-accordian",children:Object(O.jsxs)(m,{onClickHandler:R,currencyConversionFactor:M,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:ne,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:W,currentIndex:de,setCurrentIndex:re,index:i,showContent:de===i,children:[Object(O.jsx)(p,{occassionOrder:t,tenantReducer:k,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:a}),Object(O.jsx)("section",{className:"fav-menu-event",children:Object(O.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(O.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(O.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{Y(!0),q(null===t||void 0===t?void 0:t.id)},children:Object(r.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.REMOVE_FAVOURITES)})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"global-accordian-right",children:Object(O.jsx)(c.a,{className:"button re-order-btn ".concat(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var a;Object(v.Hd)(null===t||void 0===t?void 0:t.service)?(a={...e,history:b},Object(v.Hd)(null===P||void 0===P?void 0:P.service)?Object(v.Re)(a):h({type:null===f.Qe||void 0===f.Qe?void 0:f.Qe.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===f.Ce||void 0===f.Ce?void 0:f.Ce.CATERING_PAGE,title:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_TITLE,contentMsg:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(D.o)(),Z(e),h({type:ae,value:{reorderModalOpen:!0}}),h({type:ie,value:{fromReorderFlag:!0}}),sessionStorage.setItem(f.gd.REORDER_CLICK,!0)})(t)},children:Object(O.jsx)("span",{children:Object(r.translateWithI18Next)(Object(v.Hd)(null===t||void 0===t?void 0:t.service)?null===s.a||void 0===s.a?void 0:s.a.EXPLORE_CATERING:null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})})})]})})]},i)}),V&&Object(O.jsx)(I,{item:t,setIsModalOpen:Y,isModalOpen:V,tenantId:L,customerId:_,itemId:null===t||void 0===t?void 0:t.id,currentItemId:K}),F&&Object(O.jsx)(E.a,{showOccassionModal:F,setOccassionModalOpen:W,occasionName:S,setOccasionName:y,editItemId:g,setEditItemId:N,hasEdit:!0})]})})))),X&&Object(O.jsx)(x.a,{currentOrderInfo:Q,reorderModalOpen:X,closeButtonHandler:oe,source:f.xe.ACCOUNT_FAVOURITES})]})}},1235:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(32),n=a(4),d=a(106),r=a(92),s=a(15),c=a(2);t.a=e=>{let{confirmationMsg:t,handleClose:a,handleConfirmBtn:i,imageSrc:u}=e;const{CONFIRM_BTN_TEXT:v,CANCEL:O}=n.a;return Object(c.jsx)(l.a.Fragment,{children:Object(c.jsx)(d.a,{handleClose:a,classNames:"delete-account-modal unlink-confirmation-modal",CartAlertForm:Object(c.jsx)(r.a,{title:t,cancelButtonText:Object(o.translateWithI18Next)(O),confirmButtonText:Object(o.translateWithI18Next)(v),confirmHandler:i,cancelHandler:a,imageSrc:s.a.PictogramAlertIcon})})})}},1263:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(28),n=a(14),d=a(11),r=a(51),s=a(1235),c=a(6),u=a(4),v=a(1145),O=a(15),b=a(2);t.a=e=>{let{setStep:t,cardType:a,setShowConfirmationModal:m,handleUnlinkedAction:j,showConfirmationModal:h}=e;const p=Object(o.b)(),[g,N]=Object(i.useState)(!1),{ID:S,UNLINK:I,EXPIRATION_DATE:x,BALANCE:f,UNLINK_CONFIRMATION_MESSAGE:E,ABOUT_KFC_CARD:C,TRANSFER_BALANCE:T,AVAILABLE_POINTS:y,PONTA_CARD_NUMBER:D,RAKUTEN_CARD_NUMBER:A,LINKING:R}=u.a,_=a===v.a.KFC,w=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),{KFC_Card:L,PontaId:M,RakutenId:k}=w||{},P=Object(o.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(a=t.rakutenBalanceInquiry)||void 0===a?void 0:a.AvailablePoints})),F=Object(o.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(a=t.pontaBalanceInquiry)||void 0===a?void 0:a.AvailablePoints})),W="-1"===(null===w||void 0===w?void 0:w.RakutenId),H=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t?void 0:t.hideRakutenIdInDetails})),B=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.kfcLinkingData})),{BalanceAfter:U,ExpirationDate:G}=B||{};let V="";if(G){const e=G.slice(0,4),t=G.slice(4,6),a=G.slice(6,8);V="".concat(e,"/").concat(t,"/").concat(a)}return Object(i.useEffect)((()=>{p(Object(r.j)({memberId:k}))}),[k]),Object(i.useEffect)((()=>{p(Object(r.i)({memberId:M}))}),[M]),Object(b.jsx)("div",{className:"kfc-card-details align-items-center flex-column d-flex",children:Object(b.jsxs)("div",{className:"col-12 col-lg-8 p-0",children:[h&&Object(b.jsx)(s.a,{confirmationMsg:Object(c.translateWithI18Next)(E),handleClose:()=>m(!1),handleConfirmBtn:()=>j(a),imageSrc:O.a.PictogramAlertIcon}),Object(b.jsx)("button",{onClick:()=>t(v.d.Home),className:"btn-back",children:"\u2794"}),Object(b.jsxs)("div",{className:"kfc-card-details_wrapper",children:[_&&Object(b.jsxs)(l.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(f)}),Object(b.jsx)("p",{className:"detail-value",children:U})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(S)}),Object(b.jsx)("p",{className:"detail-value",children:L})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(x)}),Object(b.jsx)("p",{className:"detail-value",children:V})]}),Object(b.jsx)("div",{className:"linking-wraper",children:Object(b.jsx)("a",{href:Object(n.a)(d.mb),target:"_blank",className:"linking-text",rel:"noopener noreferrer",children:Object(c.translateWithI18Next)(T)})})]}),a===v.a.PONTA&&Object(b.jsxs)(l.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:F||Object(b.jsx)("div",{className:"loader"})})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(D)}),Object(b.jsx)("p",{className:"detail-value",children:M.slice(-15)})]})]}),a===v.a.RAKUTEN&&Object(b.jsxs)(l.a.Fragment,{children:[!W&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:P||Object(b.jsx)("div",{className:"loader"})})]}),!H&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(A)}),Object(b.jsx)("p",{className:"detail-value",children:k})]})]})]}),Object(b.jsx)("div",{className:"loyalty-fields loyalty-fields-btns",children:Object(b.jsx)("button",{"data-loading":g,"data-type":"primary",className:"button-contained kfc-button kfc-unlink-btn ".concat(g?"loading":""),onClick:()=>{p(Object(r.b)()),N(!0),m(!0)},children:Object(c.translateWithI18Next)(I)})}),_&&Object(b.jsx)("p",{style:{textAlign:"center",textDecoration:"underline"},children:Object(b.jsx)("a",{className:"btn-kfc-card btn-link btn-sm",href:"".concat(Object(n.a)(d.a)),children:"".concat(Object(c.translateWithI18Next)(C))})})]})})}},1271:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return O})),a.d(t,"d",(function(){return b})),a.d(t,"m",(function(){return m})),a.d(t,"g",(function(){return j})),a.d(t,"f",(function(){return h})),a.d(t,"l",(function(){return p})),a.d(t,"j",(function(){return g})),a.d(t,"i",(function(){return N})),a.d(t,"k",(function(){return S})),a.d(t,"e",(function(){return I})),a.d(t,"c",(function(){return x})),a.d(t,"h",(function(){return f}));var i=a(6),l=a(123),o=a(332),n=a(4),d=a(1108),r=a(265),s=a(12),c=a(5),u=a(1111);const v={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,showCarryBagInLineItem:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null,showTaxLines:!1,showTaxExcluded:!0},O=e=>{const{dispatch:t,customerId:a,tenantId:i}=e,l=Object(c.zc)(12);t(Object(o.d)({customerId:a,tenantId:i},l))},b=e=>{const{dispatch:t,tenantId:a,selectedOrderId:i,orderDetails:o}=e,n=null===o||void 0===o?void 0:o.service;Object(c.qe)(i)&&t(Object(l.c)({orderId:i,tenantId:a,CTO:!!Object(c.Jd)(n)&&void 0}))},m=e=>{var t,a,i,l,o,n,d,r,s,c,u,v,O,b,m,j,h,p,g,N,S,I,x,f,E,C,T,y,D,A,R,_,w,L,M,k,P,F;const{props:W,dispatch:H,tenantReducer:B,profileReducer:U,updateSetOrderHistoryDetails:G,openReorderModal:V,userOrderStateDispatch:Y}=e,{authoredContent:K,tenantId:q,currencySymbol:z,currencyConversionFactor:J,addHope:X,carryBag:Q,showCarryBagInLineItem:Z,pastOrderDateformat:$="",pastOrderTimeFormat:ee="",componentOptions:te,scheduleOrderDateFormat:ae,dateFormat:ie,timeFormat:le}=B;G({props:W,dispatch:H,authoredContent:K,tenantId:q,currencySymbol:z,currencyConversionFactor:J,addHope:X,carryBag:Q,showCarryBagInLineItem:Z,pastOrderDateformat:$,pastOrderTimeFormat:ee,scheduleOrderDateFormat:ae,dateFormat:ie,timeFormat:le,customerId:null===U||void 0===U?void 0:U.customerId,customer:null===U||void 0===U?void 0:U.basic,favoriteItems:(null===U||void 0===U?void 0:U.favouriteItems)||[],openReorderModal:V,userOrderStateDispatch:Y,showTaxLines:null===te||void 0===te||null===(t=te.web)||void 0===t||null===(a=t.cartPage)||void 0===a?void 0:a.showTaxLines,showTaxExcluded:null===te||void 0===te||null===(i=te.web)||void 0===i||null===(l=i.checkout)||void 0===l?void 0:l.showTaxExcluded,enableGlobalOrderTracking:null===B||void 0===B||null===(o=B.componentOptions)||void 0===o||null===(n=o.web)||void 0===n||null===(d=n.orderPages)||void 0===d?void 0:d.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===B||void 0===B||null===(r=B.componentOptions)||void 0===r||null===(s=r.web)||void 0===s||null===(c=s.orderPages)||void 0===c?void 0:c.enableRetryCountForPickupOrderTracking,pickupTrackOrderButtonLabel:null===B||void 0===B||null===(u=B.componentOptions)||void 0===u||null===(v=u.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.pickupTrackOrderButtonLabel,enableClickCollectScheduleOrder:null===te||void 0===te||null===(b=te.web)||void 0===b||null===(m=b.dispositionConfig)||void 0===m?void 0:m.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===te||void 0===te||null===(j=te.web)||void 0===j||null===(h=j.scheduledDelivery)||void 0===h?void 0:h.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===B||void 0===B||null===(p=B.componentOptions)||void 0===p||null===(g=p.web)||void 0===g||null===(N=g.orderPages)||void 0===N?void 0:N.showGiftCardOrVoucherSummary,showPromosSummary:null===B||void 0===B||null===(S=B.componentOptions)||void 0===S||null===(I=S.web)||void 0===I||null===(x=I.orderPages)||void 0===x?void 0:x.showPromosSummary,enableScheduleOrder:null===B||void 0===B||null===(f=B.componentOptions)||void 0===f||null===(E=f.web)||void 0===E||null===(C=E.dispositionConfig)||void 0===C?void 0:C.enableScheduleOrder,showStoreRegistrationNumber:null===te||void 0===te||null===(T=te.web)||void 0===T||null===(y=T.orderPages)||void 0===y?void 0:y.showStoreRegistrationNumber,showStoreOrderNumber:null===te||void 0===te||null===(D=te.web)||void 0===D||null===(A=D.orderPages)||void 0===A?void 0:A.showStoreOrderNumber,showOrderDateTime:null===te||void 0===te||null===(R=te.web)||void 0===R||null===(_=R.orderPages)||void 0===_?void 0:_.showOrderDateTime,showOrderMode:null===te||void 0===te||null===(w=te.web)||void 0===w||null===(L=w.orderPages)||void 0===L?void 0:L.showOrderMode,showOrderStatus:null===te||void 0===te||null===(M=te.web)||void 0===M||null===(k=M.orderPages)||void 0===k?void 0:k.showOrderStatus,showPickupOrDeliveryTime:null===te||void 0===te||null===(P=te.web)||void 0===P||null===(F=P.orderPages)||void 0===F?void 0:F.showPickupOrDeliveryTime})},j=e=>{const{cartReducer:t,updateSetOrderHistoryDetails:a}=e,{cartData:i}=t;a({cartDataService:null===i||void 0===i?void 0:i.service})},h=e=>{const{appStateReducer:t,updateSetOrderHistoryDetails:a}=e;a({userStatus:null===t||void 0===t?void 0:t.userStatus})},p=e=>{const{paymentsContentReducer:t,updateSetOrderHistoryDetails:a}=e;a({paymentsContentReducer:t})},g=e=>{var t,a,i;const{orderHistoryReducer:l,orderHistoryDetails:o,updateSetOrderHistoryDetails:n,tenantReducer:r}=e;n({selectedOrderId:"",orderHistory:null!==l&&void 0!==l&&l.orderHistory&&Array.isArray(null===l||void 0===l?void 0:l.orderHistory)&&(null===l||void 0===l||null===(t=l.orderHistory)||void 0===t?void 0:t.length)>0?null===l||void 0===l||null===(a=l.orderHistory)||void 0===a||null===(i=a.sort(((e,t)=>(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch))))||void 0===i?void 0:i.map((t=>{var a;const i=Object(d.k)({postOrPastOrderDetails:{...t,customer:null===o||void 0===o?void 0:o.customer,phoneNum:null===t||void 0===t||null===(a=t.customer)||void 0===a?void 0:a.phoneNumber},orderDetails:o,paymentsContentReducer:null===o||void 0===o?void 0:o.paymentsContentReducer,tenantReducer:r});return i.enableGlobalOrderTracking=null===o||void 0===o?void 0:o.enableGlobalOrderTracking,i.enableRetryCountForPickupOrderTracking=null===o||void 0===o?void 0:o.enableRetryCountForPickupOrderTracking,(e=>{const{profileReducer:t,orderDetails:a}=e,{favouriteOrders:i}=t;if(Object(c.pe)(a)&&(null===i||void 0===i?void 0:i.length)>0){const e=null===i||void 0===i?void 0:i.find((e=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.orderId)));Object(c.pe)(e)&&(a.isOrderSavedAsFavorite=!0,a.favoriteOrderName=null===e||void 0===e?void 0:e.name)}return a})({orderDetails:i,...e})})):[]})},N=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:a}=e,{orderHistory:i}=t;a({currentOrderHistory:null===i||void 0===i?void 0:i.filter((e=>!Object(r.cb)(e)&&!Object(r.bb)(e))),completedOrderHistory:null===i||void 0===i?void 0:i.filter((e=>Object(r.cb)(e)||Object(r.bb)(e)))})},S=e=>{const{orderReducer:t,orderHistoryDetails:a,updateSetOrderHistoryDetails:i,tenantReducer:l}=e;i({orderDetails:Object(d.k)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:a,paymentsContentReducer:null===a||void 0===a?void 0:a.paymentsContentReducer,tenantReducer:l})})},I=e=>{const{orderDetails:t,orderHistoryDetails:a,redirectTo:i}=e,{props:l}=a;(null===t||void 0===t?void 0:t.orderId)&&Object(u.s)({trackDetails:a,orderDetails:t,redirectTo:i,props:l})},x=e=>{var t,a,l,o;const{orderHistoryDetails:d,orderDetails:u,tenantReducer:v}=e,{orderDateOn:O,displayTodayDate:b,displayFormatOrderTime:m,service:j,statusUpdatedDate:h,showOrderingTime:p}=u,{showOrderDateTime:g}=d,N=g?p:m,S=null===O||void 0===O?void 0:O.split(" "),I=!!(null===v||void 0===v||null===(t=v.componentOptions)||void 0===t||null===(a=t.orderHistory)||void 0===a?void 0:a.showGiftCardRefundStatus)&&Object(r.Z)(null===u||void 0===u?void 0:u.postOrderDetails),x=Object(c.Jd)(j)?Object(r.A)(u):Object(r.u)(u),{isMobileView:f}=d;var E,C;if(Object(r.ab)(u))return"".concat(Object(i.translateWithI18Next)(Object(r.lb)(u)||Object(r.kb)(u)?I?null===n.a||void 0===n.a?void 0:n.a.GIFT_CARD_PROVIDED:null===n.a||void 0===n.a?void 0:n.a.REFUNDED:null===n.a||void 0===n.a?void 0:n.a.CANCELED),": ").concat(Object(i.translateWithI18Next)(null===S||void 0===S?void 0:S[0])+" "+(null!==(E=null===S||void 0===S?void 0:S[1])&&void 0!==E?E:"")+" "+(null!==(C=null===S||void 0===S?void 0:S[2])&&void 0!==C?C:"")+" "+N);if(!x&&Object(s.J)(h)&&O===b){var T,y;let e="".concat(Object(i.translateWithI18Next)(null===S||void 0===S?void 0:S[0])+" "+(null!==(T=null===S||void 0===S?void 0:S[1])&&void 0!==T?T:"")+" "+(null!==(y=null===S||void 0===S?void 0:S[2])&&void 0!==y?y:"")," ").concat(Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.AT)," ");return O===b&&(e=Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.SCHEDULE)+" ".concat(Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.FOR)," ")+Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.TODAY_AT)),"".concat(e," ").concat(N)}return"".concat(Object(i.translateWithI18Next)(null===S||void 0===S?void 0:S[0])+" "+(null!==(l=null===S||void 0===S?void 0:S[1])&&void 0!==l?l:"")+" "+(null!==(o=null===S||void 0===S?void 0:S[2])&&void 0!==o?o:"")," ").concat(f?" "+N:Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.AT)+" "+N)},f=e=>{const{contentReducer:t,updateSetOrderHistoryDetails:a}=e;a({StoreRegistrationNumber:Object(c.Uc)(t),...Object(c.Tc)(t)})}},1273:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=(a(75),a(6)),n=a(41),d=a(15),r=a(190),s=a(144),c=a(62),u=a(4),v=a(5),O=(a(0),a(2));var b=e=>{let{timeSrc:t,resendOtpHandler:a,disabledOtpLink:l,fromCheckout:n,updateCheckoutDetails:d,showGuidanceMessageForOtpExpiry:s,showResendButton:b=!0}=e;const[m,j]=Object(i.useState)(t),[h,p]=Object(i.useState)(0),[g,N]=Object(i.useState)(0),S=Object(c.g)(),I=e=>{const t=Math.floor(e/60),a=e-60*t;p(t),N(a),j((e=>e-1))};Object(i.useEffect)((()=>{I(t)}),[t]),Object(i.useEffect)((()=>{let e;return m>=0?e=setInterval((()=>{I(m)}),1e3):clearInterval(e),()=>{e&&clearInterval(e)}}),[m]);return Object(O.jsxs)(O.Fragment,{children:[(m>=0&&n&&s&&d({showGuidanceMessageForOtpExpiry:!1}),m>=0?n?Object(O.jsxs)("span",{children:["".concat(Object(o.translateWithI18Next)(null===r.e||void 0===r.e?void 0:r.e.TIMER_EXPIRED_TEXT))," ",h,":",g<10&&"0".concat(g)||g]}):Object(O.jsxs)("span",{children:["".concat(Object(o.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.TIMER_EXPIRED_TEXT_ACCOUNT))," ",h,":",g<10&&"0".concat(g)||g," ",Object(o.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SECONDS)]}):b?((e,t,a)=>(t&&!a&&e({showGuidanceMessageForOtpExpiry:!0}),Object(o.translateWithI18Next)(r.e.CODE_TIMER_EXPIRED)))(d,n,s):Object(v.Se)({history:S},!1,!1,!0,!1)),b&&Object(O.jsx)("div",{children:Object(O.jsx)("button",{"data-testid":"resend-otp-testid",disabled:l,className:"otp-link-button ".concat(l?"disableOtpLinkCls":""),id:"otpResendButton",onClick:e=>{j(179),a(e)},children:Object(o.translateWithI18Next)(r.e.RESEND_CODE)})})]})},m=a(28),j=a(97);const h=e=>document.getElementById("codeBox"+e),p=e=>Object.fromEntries(Array.from({length:e},((e,t)=>[t,""]))),g=e=>{var t,a;const{closeOtpModalHandler:l,otpSendTo:c,fromCheckout:u,callValidateOtpAPI:v,callResendOtpAPI:g,isOtpMatch:N,hideError:S,invalidOtpCount:I,isItPageView:x=!1,showResendButton:f=!0,otpInputCountTruemoneyWallet:E="",otpTimerValueTruemoneyWallet:C="",updateCheckoutDetails:T,closeOtpModalHandlerCheckout:y,numberOfDigitsTobeMasked:D,maskedNumberOfDigit:A,checkoutDetails:R,showInvalidAttempt:_=!0}=e,w=Object(m.c)((e=>e.tenantReducer)),{otpInputLength:L,otpTimerValue:M}=(null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(a=t.web)||void 0===a?void 0:a.accountPage)||{},{SUBMIT_BUTTON_TEXT:k,SENT_AN_SMS:P,OTP_SENT_TEXT:F,INVALID_OTP:W,USE_A_DIFFERENT_NUMBER:H,INVALID_CODE:B,PAYMENT_TAKEN:U,PAYMENT_SUBMITTED:G,PASSCODE:V}=r.e,[Y,K]=Object(i.useState)(!1),[q,z]=Object(i.useState)(!1),J=E||L,[X]=Object(i.useState)(C||M);let Q=p(x?E:L);const[Z,$]=Object(i.useState)(Q),[ee,te]=Object(i.useState)(Q),[ae,ie]=Object(i.useState)(X);Object(i.useEffect)((()=>{let e=Object.values(ee).join("").length;J===e?z(!0):(z(!1),u?S(T):S())}),[ee]),Object(i.useEffect)((()=>{u&&!N&&0!==I&&(z(!1),S(T))}),[u,N,I]);const le={closeDataTestId:"close-otp-testId",role:"dialog",show:!1,classNames:"customized-otp-modal",showCloseBtn:!0,closeButtonHandler:u?()=>((e,t)=>{y(e,t)})(R,T):l,modalTitle:Object(o.translateWithI18Next)(P)};Object(i.useEffect)((()=>{const e=setInterval((()=>{ie((e=>e>0?e-1:e))}),1e3);return()=>clearInterval(e)}),[ae]);const oe=Object(O.jsxs)(O.Fragment,{children:[u&&!N&&0!==I&&Object(O.jsxs)("div",{className:"otp-error-text otp-attempt-error-show",children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:d.a.Error,alt:"Error visible"})}),Object(o.translateWithI18Next)(B),_&&"(".concat(I,"/3)")]}),u&&(null===R||void 0===R?void 0:R.showGuidanceMessageForOtpExpiry)&&Object(O.jsxs)("div",{className:"otp-error-text otp-attempt-error-show",children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:d.a.Error,alt:"Error visible"})}),Object(o.translateWithI18Next)(r.e.VERIFICATION_CODE_EXPIRED)]}),Object(O.jsxs)("div",{className:"otp-main-container ".concat(x&&"page-otp-main-container"," "),children:[Object(O.jsxs)("div",{className:"left-section",children:[" ",Object(O.jsx)("div",{children:Object(o.translateWithI18Next)(P)})]}),Object(O.jsxs)("div",{className:"right-section",children:[Object(O.jsxs)("div",{className:"otp-title-text otp-title-text-th",children:[Object(o.translateWithI18Next)(F),"."]}),Object(O.jsx)("div",{className:"sendto",children:(ne=c,null===ne||void 0===ne?void 0:ne.replace(ne.substring(0,D),A))}),u&&Object(O.jsx)("button",{className:"useDifferentNumberButton",onClick:()=>(e=>{e({useDifferentNumberFlow:!0,openOtpModal:!1,useDifferentNumberFlowFlagForGuidanceMessage:!0}),Object(j.o)(R,e)})(T),children:Object(o.translateWithI18Next)(H)}),Object(O.jsxs)("div",{className:"otpDiv","aria-describedby":"otpInvalid",children:[[...Array(J)].map(((e,t)=>Object(O.jsx)("input",{id:"codeBox".concat(t),"data-testid":"otp-testid-".concat(t),className:"otpNum ".concat(N||0===I?"":"otpNum-invalid"),type:"tel",maxLength:1,onKeyPress:e=>(e=>{(8!==e.which&&0!==e.which&&e.which<48||e.which>57)&&e.preventDefault()})(e),onKeyUp:e=>((e,t,a)=>{var i,l;const o=e.which||e.keyCode;if(1===(null===(i=h(t))||void 0===i||null===(l=i.value)||void 0===l?void 0:l.length))if(t!==a-1){const e=h(t+1);e&&e.focus()}else h(t).blur();8===o&&0!==t&&h(t-1).focus()})(e,t),onChange:e=>((e,t)=>{let a=e.target.value;$((e=>({...e,[t]:a}))),te((e=>({...e,[t]:a})))})(e,t),onBlur:()=>(e=>{$((t=>({...t,[e]:null===ee||void 0===ee?void 0:ee[e]})))})(t),onFocus:()=>(e=>{$((t=>({...t,[e]:""}))),te((t=>({...t,[e]:""})))})(t),value:null===Z||void 0===Z?void 0:Z[t],onInput:e=>(e=>{const t=e.target.value;/^\d*$/.test(t)||(e.target.value=t.slice(0,-1))})(e)},"key".concat(t)))),!N&&0!==I&&!Object.values(Z).every((e=>""===e))&&Object(O.jsx)("img",{"data-testid":"clear-otp-testid",className:"",src:d.a.Clear_icon,alt:"clear otp",onClick:()=>{$((()=>Q)),te((()=>Q))}})]}),u&&(null===R||void 0===R?void 0:R.showGuidanceMessageForOtpExpiry)&&Object(O.jsxs)("div",{className:"otp-error-text dob-error-show otp-invalid",children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:d.a.Error,alt:"Error visible"})}),Object(o.translateWithI18Next)(r.e.CODE_EXPIRED_TEXT)]}),!N&&0!==I&&Object(O.jsxs)("div",{className:"otp-error-text dob-error-show otp-invalid",children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{src:d.a.Error,alt:"Error visible"})}),Object(o.translateWithI18Next)(W)," ",_&&"(".concat(I,"/3)")]}),x&&Object(O.jsx)("div",{className:"infoPayment",children:Object(O.jsx)("p",{children:Object(o.translateWithI18Next)(U)})}),Object(O.jsx)("div",{className:"otp-expired-text",children:Object(O.jsx)(b,{timeSrc:X,resendOtpHandler:e=>{e.preventDefault(),ie(X),g(R),K(!0),setTimeout((()=>{K(!1)}),3e4)},disabledOtpLink:Y,fromCheckout:u,updateCheckoutDetails:T,showGuidanceMessageForOtpExpiry:null===R||void 0===R?void 0:R.showGuidanceMessageForOtpExpiry,showResendButton:f})}),Object(O.jsx)("div",{className:"buttons-container",children:Object(O.jsx)(n.a,{className:"buttons-group ".concat(q&&0!==ae?"save":"save-disabled"),"data-testid":"update-account-button-testid",onClickHandler:()=>(()=>{let e=Object.values(ee).join("");v(e),z(!1)})(),disabled:!q||0===ae,children:Object(o.translateWithI18Next)(k)})})]})]})]});var ne;return x?oe:Object(O.jsx)(s.a,{...le,children:oe})};t.a=l.a.memo(g)},1278:function(e,t,a){"use strict";var i=a(3),l=a(15),o=a(264),n=a(51),d=a(93),r=a(28),s=a(1364),c=a(1365),u=a(6),v=a(2);t.a=e=>{let{success:t,msg:a,infinit:O=!1}=e;const{Error_Yellow:b,GreenCheck:m}=l.a,[j,h]=Object(i.useState)(!0),p=Object(r.b)();Object(i.useEffect)((()=>{if(!O){const e=setTimeout((()=>{h(!1)}),5e3);return j?()=>{p(Object(n.g)({})),clearTimeout(e)}:(p(Object(n.g)({})),null)}}),[p,O,j]);const g=Object(u.translateWithI18Next)(d.a.mapMessageInJP(a));return Object(v.jsx)(s.a,{className:"info-notification_wrapper",children:Object(v.jsxs)(c.a,{xs:"12",className:"info-notification_container ".concat(t&&"greenbg"),children:[Object(v.jsx)("div",{className:"info-notification_icon ",children:t?Object(v.jsx)(o.a,{src:m,className:"info-notification_image green-icon",alt:""}):Object(v.jsx)(o.a,{src:b,className:"info-notification_image",alt:""})}),Object(v.jsx)("div",{className:"info-notification_text-container",children:Object(v.jsx)("div",{className:"info-notification_text",children:g||a})})]})})}},1303:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(1317),n=a.n(o),d=a(441),r=a(2);var s=e=>{let{timer:t,setTimer:a,restartTimer:l,setRestartTimer:o}=e;const n=Object(i.useRef)(null),d=Object(i.useCallback)((e=>{const t=e=>{let{total:t,minutes:i,seconds:l}=(e=>{const t=Date.parse(e)-Date.parse(new Date),a=Math.floor(t/1e3%60);return{total:t,minutes:Math.floor(t/1e3/60%60),seconds:a}})(e);t>=0&&a((i>9?i:"0"+i)+":"+(l>9?l:"0"+l))};a("15:00"),n.current&&clearInterval(n.current);const i=setInterval((()=>{t(e)}),1e3);n.current=i}),[a]),s=()=>{let e=new Date;return e.setSeconds(e.getSeconds()+900),e};return Object(i.useEffect)((()=>{d(s())}),[d]),Object(i.useEffect)((()=>{l&&(d(s()),o(!1))}),[d,l,o]),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("span",{children:t})})},c=a(28),u=a(177),v=a.n(u),O=a(51),b=a(1145),m=a(11),j=a(14),h=a(193);const p=e=>{var t,a,o;const[u,p]=Object(i.useState)(!1),[g,N]=Object(i.useState)(""),[S,I]=Object(i.useState)(!1),x=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),f=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pickedData})),E=Object(c.b)(),[C,T]=Object(i.useState)("00:00");let y;switch(null===f||void 0===f||null===(t=f.stage)||void 0===t||null===(a=t.code)||void 0===a||null===(o=a.toString())||void 0===o?void 0:o.toLowerCase()){case b.c.REGULAR:y="10";break;case b.c.BRONZE:y="20";break;case b.c.SILVER:y="30";break;case b.c.GOLD:y="40";break;case b.c.PLATINUM:y="50";break;default:y="01"}Object(i.useEffect)((()=>{if(x&&f){let t="";var e;if(y&&(t=t.concat(b.b.stageNumber,y)),null!==x&&void 0!==x&&x.MilesMemberId&&(t=t.concat(b.b.milesMemberId,h.g,"4",null===x||void 0===x?void 0:x.MilesMemberId)),t=t.concat(b.b.expirationTime,A()),null!==x&&void 0!==x&&x.PontaId)t=t.concat(b.b.pontaId,null===x||void 0===x||null===(e=x.PontaId)||void 0===e?void 0:e.slice(-15));null!==x&&void 0!==x&&x.KFC_Card&&(t=t.concat(b.b.kfcCard,null===x||void 0===x?void 0:x.KFC_Card,null===x||void 0===x?void 0:x.KFC_PIN)),null!==x&&void 0!==x&&x.RakutenId&&"-1"!==(null===x||void 0===x?void 0:x.RakutenId)&&(t=t.concat(b.b.rakutenId,null===x||void 0===x?void 0:x.RakutenId));const a=D(t);N(a)}}),[x,f]);const D=e=>{const t=v.a.enc.Utf8.parse(Object(j.a)(m.rb)),a=v.a.AES.encrypt(e,t,{keySize:16,BlockSize:128,mode:v.a.mode.ECB,padding:v.a.pad.Pkcs7}).toString();var i="";return i=i.concat("K|",a,"|")},A=()=>{function e(e){return e<10?"0".concat(e):e}const t=new Date,a=new Date(t.getTime()+9e5),i=a.getFullYear().toString().slice(-2),l=e(a.getMonth()+1),o=e(a.getDate()),n=e(a.getHours()),d=e(a.getMinutes()),r=e(a.getSeconds());return"".concat(i).concat(l).concat(o).concat(n).concat(d).concat(r)};return Object(r.jsx)(r.Fragment,{children:x&&Object(r.jsx)("div",{className:"loyalty-qr",children:Object(r.jsxs)("div",{className:"loyalty-qr-wrap",children:[null!==x&&void 0!==x&&x.MilesUUID&&null!==f&&void 0!==f&&f.stage?(_=C,w=g,L=e.qrSize,"00:00"!==_?w&&Object(r.jsx)(n.a,{size:L,value:w}):Object(r.jsx)("div",{className:"qr-placeholder"})):Object(r.jsx)("div",{className:"placeholder",children:Object(r.jsx)("div",{className:"qr-placeholder loading"})}),Object(r.jsx)("div",{className:"pnl-refresh",children:null!==x&&void 0!==x&&x.MilesUUID&&null!==f&&void 0!==f&&f.stage?Object(r.jsxs)(l.a.Fragment,{children:[Object(r.jsx)("div",{id:"qr-timer",children:Object(r.jsx)(s,{timer:C,setTimer:T,restartTimer:S,setRestartTimer:I})}),Object(r.jsx)("button",{id:"btn-refresh-qr",className:"kfc-button btn-black",onClick:()=>{E(Object(O.e)()),p(!0),setTimeout((()=>{p(!1),I(!0)}),1e3)},children:Object(r.jsx)("img",{src:d.a,alt:"refresh",className:(R=u,R?"rotate":"")})})]}):Object(r.jsx)("div",{className:"placeholder",children:Object(r.jsx)("div",{className:"qr-timer-placeholder loading"})})})]})})});var R,_,w,L};p.defaultProps={qrSize:192};var g=p,N=a(75),S=a(6),I=a(4),x=a(86);var f=e=>{var t,a,i,l,o,n,d,s,u;let{setStep:v,isNewVersionStyle:O}=e;const{LEARN_MORE:h,CUMULATIVE_MILES:p,CONGRATULATIONS_TOP_STAGE:g,TO:f,LEVEL:E,CUMULATIVE_CHICKEN_MILES:C,AFTER:T,IN_MILE:y,MEMBER:D,EXPIRATION_DATE:A,ABOUT_CHICKEN_MILE:R,CHICKEN_MILES:_,CUMULATIVE:w}=I.a,L=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pickedData})),M=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.isLoading})),k=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userOverAllRankingData})),P=(null===k||void 0===k||k.mile,Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.monthlyRankingData}))),{user:F}=P||{},{total_mile:W,ends_at:H}=F||{},B=null===L||void 0===L||null===(t=L.next_stage)||void 0===t?void 0:t.lower,U=null===L||void 0===L?void 0:L.current_mile,G=U/B*100,V=B-U,Y=(null===L||void 0===L||null===(a=L.stage)||void 0===a||null===(i=a.code)||void 0===i||null===(l=i.toString())||void 0===l?void 0:l.toLowerCase())===b.c.PLATINUM,K=document.getElementById("current-mile-portal"),q=Object(r.jsxs)("div",{className:"current-mile",children:[null===L||void 0===L||null===(o=L.stage)||void 0===o?void 0:o.name," ",Object(S.translateWithI18Next)(E)]});return Object(r.jsxs)("div",{className:"loyalty-status px-0",children:[Object(r.jsx)("div",{className:"loyalty-heading",children:null!==L&&void 0!==L&&null!==(n=L.stage)&&void 0!==n&&n.name?Object(r.jsxs)("div",{className:"text-center",children:[K?Object(N.createPortal)(q,K):q,O?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-end",children:[Object(r.jsx)("div",{className:"status-miles-text font-weight-bold",children:Object(S.translateWithI18Next)(w)}),Object(r.jsx)("div",{className:"status-miles-value",children:W}),Object(r.jsx)("div",{className:"status-miles-text font-weight-bold",children:Object(S.translateWithI18Next)(_)})]}),Object(r.jsx)("div",{className:"lbl-mileage-expiration font-weight-bold",children:"".concat(Object(S.translateWithI18Next)(A)," ").concat(Object(x.b)(H))})]}):Object(r.jsx)("div",{className:"current-mile-value",children:null===L||void 0===L?void 0:L.current_mile})]}):Object(r.jsx)("div",{className:"placeholder m-0 ".concat(O?"loyalty-status-skeleton":""),children:Object(r.jsx)("div",{className:"line sm  ".concat(O?"skeleton-loading":"")})})}),Object(r.jsx)("div",{className:"meter",children:null!==L&&void 0!==L&&L.current_mile?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{style:{width:"".concat(Y?"100":G,"%")}}),O&&Object(r.jsx)("div",{className:"meter-miles-conteiner-text position-absolute font-weight-bold",children:Y?Object(S.translateWithI18Next)(g):Object(r.jsxs)(r.Fragment,{children:[Object(S.translateWithI18Next)(T)," ",Object(r.jsx)("span",{className:"meter-miles-value",children:V})," ",null===L||void 0===L||null===(d=L.next_stage)||void 0===d?void 0:d.name," ",Object(S.translateWithI18Next)(D)]})})]}):Object(r.jsx)("div",{className:"placeholder m-0",children:Object(r.jsx)("div",{className:"status loading"})})}),O?Object(r.jsx)(r.Fragment,{children:" "}):Object(r.jsx)("div",{className:"lbl-note-light",children:null!==L&&void 0!==L&&null!==(s=L.next_stage)&&void 0!==s&&s.name||Y?Object(r.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(r.jsxs)("div",{className:"cumulative-container w-50",children:[Object(r.jsx)("div",{className:"status-miles-value",children:W}),Object(r.jsx)("div",{className:"status-miles-text",children:Object(S.translateWithI18Next)(p)})]}),Object(r.jsx)("div",{className:"w-50",children:Y?Object(S.translateWithI18Next)(g):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"status-miles-value",children:[Object(r.jsx)("span",{className:"status-miles-text",children:Object(S.translateWithI18Next)(T)}),V,Object(r.jsx)("span",{className:"status-miles-text",children:Object(S.translateWithI18Next)(y)})]}),Object(r.jsxs)("div",{className:"status-miles-text",children:[null===L||void 0===L||null===(u=L.next_stage)||void 0===u?void 0:u.name," ",Object(S.translateWithI18Next)(D)]})]})})]}):Object(r.jsx)("div",{className:"placeholder justify-content-start m-0",children:Object(r.jsx)("div",{className:"line md loading"})})}),O?Object(r.jsx)("div",{className:"lbl-mileage-link font-weight-bold",children:Object(r.jsx)("a",{className:"lbl-mileage-link-item",href:"".concat(Object(j.a)(m.Ub)),children:"".concat(Object(S.translateWithI18Next)(R))})}):Object(r.jsx)("button",{disabled:M,onClick:()=>{v(b.d.MILE_DETAILS)},className:"btn-loyalty-details btn-sm p-0",children:"".concat(Object(S.translateWithI18Next)(h))})]})},E=a(46),C=a(15),T=a(5);var y=e=>{let{cardImg:t,disabled:a,cardTitle:i="",isLinked:l=!1,cardRedirect:o,setStep:n,onClick:d,isLinkingStatue:s,availablePoints:u,cardType:v}=e;const{LINKED:O,NOT_LINKED:m,DETAILS:j,LINKING:h,LINKING_IN_PROGRESS:p,WORK_TOGETHER:g,ALREADY_LINKED:N,COMING_SOON:x}=I.a,f=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),T=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t?void 0:t.rakutenComingSoon}));let y=!1;const D=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.isLoading}));let A=Object(S.translateWithI18Next)(m);return v===b.a.RAKUTEN?(y=T,s?A=Object(S.translateWithI18Next)(p):l&&(A=Object(S.translateWithI18Next)(N))):l&&(A=Object(S.translateWithI18Next)(O)),Object(r.jsxs)("div",{className:"linkage-card",children:[Object(r.jsx)("img",{src:t,alt:i}),Object(r.jsxs)("span",{className:"linkage-title",children:[Object(r.jsx)("span",{className:"linkage-title-text",children:i}),null!==f&&void 0!==f&&f.MilesUUID||l?Object(r.jsx)("span",{className:"linkage-status",children:A}):Object(r.jsx)("span",{className:"linkage-status",children:Object(S.translateWithI18Next)(m)})]}),!s&&Object(r.jsxs)("button",{disabled:a||D||y,className:"linkage-btn btn-link",onClick:d,children:[!l&&!D&&!y&&Object(r.jsx)(E.a,{srcFile:C.a.External_url,alt:"External url",className:"details-icon"})," ",Object(r.jsx)("span",{children:y?Object(S.translateWithI18Next)(x):l?Object(S.translateWithI18Next)(j):Object(S.translateWithI18Next)(g)})]})]})},D=a(62),A=a(0),R=a(1235);var _=e=>{let{setStep:t,setCartType:a,showConfirmationModal:l,setShowConfirmationModal:o,handleUnlinkedAction:n}=e;const{KFC_CARD:d,PONTA_POINTS:s,RAKUTEN_POINTS:u,LINKED_TO_CARD_MESSAGE:v,UNLINK_CONFIRMATION_MESSAGE:m}=I.a,j=Object(c.b)(),h=Object(D.g)(),p=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),g=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pontaAccountID})),N=(null===p||void 0===p?void 0:p.KFC_Card)&&(null===p||void 0===p?void 0:p.KFC_PIN),x=null===p||void 0===p?void 0:p.PontaId,f=null===p||void 0===p?void 0:p.RakutenId,E=Object(c.c)((e=>e.profileReducer)),_=Object(T.Zb)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===E||void 0===E?void 0:E.customerId)),w=(null===_||void 0===_?void 0:_.isUserBlocked)||!1,[L,M]=Object(i.useState)(w),[k,P]=Object(i.useState)(""),F="-1"===f,W=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.kfcLinkingData})),{BalanceAfter:H}=W||{},B=Object(c.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(a=t.rakutenBalanceInquiry)||void 0===a?void 0:a.AvailablePoints})),U=Object(c.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(a=t.pontaBalanceInquiry)||void 0===a?void 0:a.AvailablePoints}));Object(i.useEffect)((()=>{G()}),[]);const G=()=>{var e;const t=null===(e=Object(T.Zb)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===E||void 0===E?void 0:E.customerId)))||void 0===e?void 0:e.lastAttemptDate,a=new Date;a.setHours(0,0,0,0),t!==a.toDateString()&&(Object(T.xf)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===E||void 0===E?void 0:E.customerId),{isUserBlocked:!1,attemptsCount:0,lastAttemptDate:a.toDateString()}),M(!1))};return Object(i.useEffect)((()=>{f&&j(Object(O.j)({memberId:f}))}),[f]),Object(i.useEffect)((()=>{x&&j(Object(O.i)({memberId:x}))}),[x]),Object(r.jsxs)("div",{className:"linkage-cards",children:[Object(r.jsx)(y,{cardImg:C.a.HeaderLogo,isLinked:N,cardTitle:Object(S.translateWithI18Next)(d),setStep:t,disabled:L,onClick:()=>{N?(t(b.d.CARD_DETAILS_VIEW),a(b.a.KFC)):t(b.d.KFC_FORM)},availablePoints:H,cardType:b.a.KFC}),Object(r.jsx)(y,{cardImg:C.a.PontaLogo,isLinked:x,cardTitle:Object(S.translateWithI18Next)(s),onClick:()=>{f?(P(b.a.RAKUTEN),o(!0)):(x?(t(b.d.CARD_DETAILS_VIEW),a(b.a.PONTA)):j(Object(O.h)(g)),P(""),o(!1))},availablePoints:U,cardType:b.a.PONTA}),Object(r.jsx)(y,{isLinked:f,isLinkingStatue:F,cardImg:C.a.RakutenLogo,cardTitle:Object(S.translateWithI18Next)(u),onClick:()=>{x?(P(b.a.PONTA),o(!0)):(f?(t(b.d.CARD_DETAILS_VIEW),a(b.a.RAKUTEN)):h.push({pathname:"/rakuten-tc"}),P(""),o(!1))},availablePoints:B,cardType:b.a.RAKUTEN}),l&&Object(r.jsx)(R.a,{confirmationMsg:Object(S.translateWithI18Next)(v),handleClose:()=>o(!1),handleConfirmBtn:()=>n(k)})]})};var w=e=>{let{setStep:t,setCartType:a,showConfirmationModal:i,setShowConfirmationModal:l,handleUnlinkedAction:o}=e;return Object(r.jsx)("div",{className:"loyalty-linkage",children:Object(r.jsx)(_,{setStep:t,setCartType:a,setShowConfirmationModal:l,handleUnlinkedAction:o,showConfirmationModal:i})})};var L=e=>{var t,a,i,l,o,n,d;let{totalMile:s,expDate:u}=e;const{CHICKEN_MILES:v,CONGRATULATIONS_TOP_STAGE:O,STAGE_WITH:h,LEVEL:p,EXPIRATION_DATE:g,WHAT_IS_CHICKEN_MILE:N,CUMULATIVE_MILES:f,AFTER:E,MEMBER:C,IN_MILE:T}=I.a,y=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pickedData})),D=null===y||void 0===y||null===(t=y.next_stage)||void 0===t?void 0:t.lower,A=null===y||void 0===y?void 0:y.current_mile,R=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userOverAllRankingData})),_=(null===R||void 0===R||R.mile,Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.monthlyRankingData}))),{user:w}=_||{},{total_mile:L}=w||{},M=A/D*100,k=D-A,P=(null===y||void 0===y||null===(a=y.stage)||void 0===a||null===(i=a.code)||void 0===i?void 0:i.toLowerCase())===b.c.PLATINUM;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"loyalty-heading",children:null!==y&&void 0!==y&&null!==(l=y.stage)&&void 0!==l&&l.name?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsxs)("h3",{className:"current-mile",children:[null===y||void 0===y||null===(o=y.stage)||void 0===o?void 0:o.name," ",Object(S.translateWithI18Next)(p)]}),Object(r.jsx)("div",{className:"current-mile-value",children:null===y||void 0===y?void 0:y.current_mile})]}):Object(r.jsx)("div",{className:"placeholder m-0",children:Object(r.jsx)("div",{className:"line sm loading"})})}),Object(r.jsx)("div",{className:"meter",children:Object(r.jsx)("span",{style:{width:"".concat(M,"%")}})}),Object(r.jsx)("div",{className:"lbl-note-light",children:null!==y&&void 0!==y&&null!==(n=y.next_stage)&&void 0!==n&&n.name||P?Object(r.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(r.jsxs)("div",{className:"cumulative-container w-50",children:[Object(r.jsx)("div",{className:"status-miles-value",children:L}),Object(r.jsx)("div",{className:"status-miles-text",children:Object(S.translateWithI18Next)(f)})]}),Object(r.jsx)("div",{className:"w-50",children:P?Object(S.translateWithI18Next)(O):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"status-miles-value",children:[Object(r.jsx)("span",{className:"status-miles-text",children:Object(S.translateWithI18Next)(E)}),k,Object(r.jsx)("span",{className:"status-miles-text",children:Object(S.translateWithI18Next)(T)})]}),Object(r.jsxs)("div",{className:"status-miles-text",children:[null===y||void 0===y||null===(d=y.next_stage)||void 0===d?void 0:d.name," ",Object(S.translateWithI18Next)(C)]})]})})]}):Object(r.jsx)("div",{className:"placeholder justify-content-start m-0",children:Object(r.jsx)("div",{className:"line md loading"})})}),Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[Object(r.jsx)("div",{className:"lbl-mileage-expiration",children:"".concat(Object(S.translateWithI18Next)(g)," ").concat(Object(x.b)(u))}),Object(r.jsx)("div",{className:"lbl-mileage-link",children:Object(r.jsx)("a",{className:"lbl-mileage-link-item",href:"".concat(Object(j.a)(m.Ub)),children:"".concat(Object(S.translateWithI18Next)(N))})})]})]})},M=a(1364),k=a(1365),P=a(1283),F=a(1277);var W=e=>{let{Date:t,Title:a,Points:i}=e;const{CHICKEN_MILES:l}=I.a;return Object(r.jsxs)("div",{className:"loyalty-history-item",children:[Object(r.jsxs)("div",{className:"loyalty-history-date",children:[Object(r.jsx)("label",{children:t}),Object(r.jsx)("p",{children:a})]}),Object(r.jsx)("div",{className:"loyalty-history-point d-flex align-items-end",children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[i," ",Object(r.jsx)("span",{className:"lbl-point",children:Object(S.translateWithI18Next)(l)})]})})]})};const H=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>e+(t.rule_name.length>37?t.rule_name.length/37*37:37)+20),0)>285},B=e=>{let{isNewVersionStyle:t}=e;const{pastMilesHisory:a,currentMilesHisory:l}=Object(c.c)((e=>null===e||void 0===e?void 0:e.loyaltyMileageReducer)),{PAST_TAB_TITLE:o,THE_CURRENT_TAB_TITLE:n}=I.a,[d,s]=Object(i.useState)("current"),u=e=>e&&e.length?e.map((e=>{return Object(r.jsx)(W,{Date:(a=e.issue_date,t?Object(x.b)(a):new Date(a).toLocaleDateString()),Title:e.rule_name,Points:e.mile},"".concat(e.rule_name,"-").concat(e.mile));var a})):Object(r.jsx)("div",{className:"no-history-data",children:"No Data"});return Object(r.jsx)("div",{className:"ranking-tabs ".concat(t&&H("current"===d?l||[]:a||[])?"has-scroll":""),style:t?{}:{paddingTop:"1.5rem"},children:Object(r.jsxs)(P.a,{defaultActiveKey:"current",id:"uncontrolled-tab-example",className:"loyalty-tabs",onSelect:e=>{s(e)},children:[Object(r.jsx)(F.a,{eventKey:"current",title:Object(S.translateWithI18Next)(n),children:u(l)}),Object(r.jsx)(F.a,{eventKey:"past",title:Object(S.translateWithI18Next)(o),children:u(a)})]})})};B.defaultProps={isNewVersionStyle:!1};var U=B;const G=(e,t)=>{var a;return"".concat(null===(a=e[0])||void 0===a?void 0:a.rank," ").concat(Object(S.translateWithI18Next)(t))};var V=e=>{var t,a,i;let{setStep:l}=e;const o=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.monthlyRankingData})),{user:n,ranking:d}=o||{},{total_mile:s,ends_at:u}=n||{},v=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pickedData})),O=(null===v||void 0===v||null===(t=v.stage)||void 0===t||null===(a=t.code)||void 0===a?void 0:a.toLowerCase())||b.c.REGULAR.toLowerCase(),m=Object(c.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{showAllRanking:j}=m,{CHICKEN_MILE_DETAILS:h,RANKING_OF_MONTH:p,PLACE:g,VIEW_ALL:N}=I.a;return Object(r.jsx)("div",{className:"loyalty-miles w-100",children:Object(r.jsxs)(M.a,{className:"justify-content-center w-100 m-0",children:[Object(r.jsxs)(k.a,{xs:"12",className:"d-lg-none",children:[Object(r.jsx)("button",{onClick:()=>l(b.d.Home),className:"btn-back",children:"\u2794"}),Object(r.jsx)("h2",{children:Object(S.translateWithI18Next)(h)})]}),Object(r.jsx)(k.a,{lg:"5",xs:"12",className:"loyalty-mile-details ".concat(O),children:Object(r.jsx)(L,{totalMile:s,expDate:u})}),Object(r.jsxs)(k.a,{lg:"7",xs:"12",children:[Object(r.jsx)("div",{className:"loyalty-ranking",children:Object(r.jsxs)("div",{className:"loyalty-heading",children:[Object(r.jsxs)("h3",{children:[Object(r.jsx)("img",{src:C.a.CrownRankLogo,alt:"Ranking of the month"}),Object(r.jsx)("span",{className:"ranking-crown-heading",children:Object(S.translateWithI18Next)(p)})]}),j?Object(r.jsx)("button",{className:"btn-link btn-sm",onClick:()=>l(b.d.RANKING),children:"".concat(d&&null!==(i=d[0])&&void 0!==i&&i.rank?G(d,g):Object(S.translateWithI18Next)(N))}):null]})}),Object(r.jsx)(U,{})]})]})})},Y=a(1233);var K=e=>{let{Rank:t,Points:a,Img:i,hasImg:l=!1}=e;const{CHICKEN_MILES:o}=I.a;return Object(r.jsxs)("div",{className:"loyalty-history-item  d-flex align-items-center",children:[Object(r.jsx)("div",{className:"loyalty-history-rank",children:l?Object(r.jsx)("img",{src:i,alt:"Rank"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{children:t})})}),Object(r.jsxs)("div",{className:"loyalty-history-point d-flex align-items-center",children:[Object(r.jsx)("span",{children:a})," ",Object(r.jsx)("span",{className:"lbl-point",children:Object(S.translateWithI18Next)(o)})]})]},t)};var q=e=>{let{Date:t,Rank:a}=e;return Object(r.jsxs)("div",{className:"loyalty-history-item",children:[Object(r.jsx)("div",{className:"loyalty-history-rank",children:t}),Object(r.jsx)("div",{className:"loyalty-history-rank",children:a})]},a)},z=a(429),J=a(41),X=a(32);var Q=e=>{let{title:t,handleConfirmBtn:a,handleClose:i,content:l}=e;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(z.a,{id:"PastRanking",show:!0,classNames:"ranking-modal",showCloseBtn:!0,closeButtonHandler:i,closeDataTestId:"handler-close",autoFocus:!0,handleClose:!0,buttonVariant:J.b.primary,footerBtnText:Object(X.translateWithI18Next)(I.a.BACK_BUTTON),footerBtnHandler:a,showFooterSection:!0,modalTitle:t,children:l})})};const Z=e=>{if(e>=11&&e<=13)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}},$=e=>{switch(e){case 1:return C.a.IconGold;case 2:return C.a.IconSilver;case 3:return C.a.IconBronze;default:return""}};var ee=e=>{var t,a,o;let{setStep:n,stageColor:d}=e;const{CHICKEN_MILES:s,CUMULATIVE_CHICKEN_MILES:u,ALL_RANKING:v,PAST_MONTH_RESULT:O,YOUR_RANKING:m,PAST_MONTHLY_PERFORMANCE:j,MONTHLY_CHICKEN_MILES:h,NO_PAST_DATA:p,NO_DATA:g,PLACE:N,CHICKEN_MILE_DETAILS:x,RANKING_TAB_TITLE:f,COMPREHENSIVE_TAB_TITLE:E}=I.a,[T,y]=Object(i.useState)(!1),D=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.rankingViewData})),A={},R=(null===D||void 0===D?void 0:D.filter((e=>{const t="".concat(e.rank,"-").concat(e.value);return!A[t]&&(A[t]=!0,!0)})))||[],_=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.overAllRankingData})),w=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userOverAllRankingData})),L=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.monthlyRankingData})),{ranking:M}=L||{},k=null!==(t=M[0])&&void 0!==t&&t.rank?"".concat(Z(Number(null===(a=M[0])||void 0===a?void 0:a.rank))," ").concat(Object(S.translateWithI18Next)(N)):"-",W=null!==w&&void 0!==w&&w.rank?"".concat(Z(null===w||void 0===w?void 0:w.rank)," ").concat(Object(S.translateWithI18Next)(N)):"-",{user:H}=(null===w||void 0===w||w.mile,L||{}),{total_mile:B}=H||{},U=null===(o=M[0])||void 0===o?void 0:o.mile,G=new Date,V=G.getFullYear(),z=(G.getMonth()+1).toString().padStart(2,"0"),J=("1/".concat(z,"/").concat(V),Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pastMonthlyRankingData}))),X=null===J||void 0===J?void 0:J.ranking,ee=((e,t)=>e?Object(r.jsxs)(l.a.Fragment,{children:[e," ",Object(r.jsx)("span",{className:"lbl-point",children:Object(S.translateWithI18Next)(t)})]}):"-")(U,s);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Y.a,{lg:"5",xs:"12",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("button",{onClick:()=>{T?y(!1):n(b.d.MILE_DETAILS)},className:"d-flex back-to-mileage-loyalty-details show-qr-btn btn-back align-items-center",children:[Object(r.jsx)("img",{className:"back-CTA-Arrow",src:C.a.CTA_Arrow,alt:"back-btn"})," ",Object(r.jsx)("h2",{children:Object(S.translateWithI18Next)(x)})]})}),Object(r.jsxs)("div",{className:"mb-lg-0 mb-4 mileage-loyalty-status ".concat(d),children:[Object(r.jsx)("div",{className:"loyalty-status px-0",children:Object(r.jsx)("div",{className:"loyalty-heading",children:k?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h3",{className:"current-mile",children:Object(S.translateWithI18Next)(m)}),Object(r.jsx)("div",{className:"current-mile-value",children:k})]}):Object(r.jsx)("div",{className:"placeholder m-0",children:Object(r.jsx)("div",{className:"line sm loading"})})})}),Object(r.jsx)("div",{className:"loyalty-status px-0",children:Object(r.jsx)("div",{className:"loyalty-heading",children:ee?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h3",{className:"current-mile",children:Object(S.translateWithI18Next)(h)}),Object(r.jsx)("div",{className:"current-mile-value",children:ee})]}):Object(r.jsx)("div",{className:"placeholder m-0",children:Object(r.jsx)("div",{className:"line sm loading"})})})})]})]}),Object(r.jsx)(Y.a,{lg:"7",xs:"12",children:Object(r.jsxs)("div",{className:"loyalty-ranking-history w-100",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(r.jsx)("h2",{children:Object(S.translateWithI18Next)(v)}),Object(r.jsx)("button",{className:"btn-link btn-sm",id:"btn-viewpastranking",onClick:()=>y(!0),children:"\u27a4 ".concat(Object(S.translateWithI18Next)(j))})]}),T?Object(r.jsx)(Q,{title:Object(S.translateWithI18Next)(O),content:Object(r.jsx)(l.a.Fragment,{children:Object(r.jsx)("div",{style:{padding:"1rem"},children:Object(r.jsx)("div",{id:"ranking-pastranking",children:X&&X.length?X.map((e=>Object(r.jsx)(q,{Date:e.target_date,Rank:e.rank}))):Object(r.jsx)("div",{className:"loyalty-history-item no-data",children:Object(S.translateWithI18Next)(p)})})})}),handleClose:()=>y(!1),handleConfirmBtn:()=>y(!1)}):Object(r.jsx)("div",{className:"py-4",children:Object(r.jsxs)(P.a,{defaultActiveKey:"month",id:"uncontrolled-tab-example",className:"loyalty-tabs",children:[Object(r.jsx)(F.a,{eventKey:"month",title:Object(S.translateWithI18Next)(f),children:Object(r.jsx)("div",{id:"list-rankingthismonth",children:R&&R.length?R.map((e=>{const t=Z(null===e||void 0===e?void 0:e.rank),a=1===(null===e||void 0===e?void 0:e.rank)||2===(null===e||void 0===e?void 0:e.rank)||3===(null===e||void 0===e?void 0:e.rank),i=$(null===e||void 0===e?void 0:e.rank);return Object(r.jsx)(K,{Rank:t,Points:e.mile,hasImg:a,Img:i})})):Object(r.jsx)("div",{className:"loyalty-history-item no-data",children:Object(S.translateWithI18Next)(g)})})}),Object(r.jsxs)(F.a,{eventKey:"comprehensive",title:Object(S.translateWithI18Next)(E),children:[Object(r.jsx)("div",{className:"loyalty-ranking",children:Object(r.jsxs)("div",{className:"loyalty-heading",children:[Object(r.jsxs)("div",{className:"loyalty-history-item",children:[Object(r.jsxs)("h3",{children:[Object(r.jsx)("img",{src:C.a.CrownRankLogo,alt:"your ranking"}),Object(S.translateWithI18Next)(m)]}),Object(r.jsx)("div",{children:W})]}),Object(r.jsxs)("div",{className:"loyalty-history-item",children:[Object(r.jsx)("div",{children:Object(S.translateWithI18Next)(u)}),Object(r.jsxs)("div",{className:"loyalty-history-point",children:[B," ",Object(r.jsx)("span",{className:"lbl-point",children:Object(S.translateWithI18Next)(s)})]})]})]})}),Object(r.jsx)("div",{id:"list-rankingthismonth",children:_&&_.length?_.map((e=>{const t=Z(null===e||void 0===e?void 0:e.rank),a=1===(null===e||void 0===e?void 0:e.rank)||2===(null===e||void 0===e?void 0:e.rank)||3===(null===e||void 0===e?void 0:e.rank),i=$(null===e||void 0===e?void 0:e.rank);return Object(r.jsx)(K,{Rank:t,Points:e.mile,hasImg:a,Img:i})})):Object(r.jsx)("div",{className:"loyalty-history-item no-data",children:Object(S.translateWithI18Next)(g)})})]})]})})]})})]})};var te=e=>{let{inputId:t,placeholder:a,type:i,minLength:l,maxLength:o,labelTxt:n,value:d,errorMsg:s,errorIcon:c="",handleOnChange:u}=e;return Object(r.jsxs)("div",{className:"loyalty-fields",children:[Object(r.jsxs)("div",{className:"field material-input",children:[Object(r.jsx)("input",{id:t,placeholder:a,maxLength:o,type:i,value:d,onChange:u}),Object(r.jsx)("label",{for:t,children:n})]}),s&&Object(r.jsxs)("div",{className:"kfc-link-form-error",children:[Object(r.jsx)(E.a,{srcFile:C.a.Error,className:"location-alert-icon mr-1"}),Object(r.jsx)("div",{className:"error-msg",children:s})]})]})};var ae=e=>{let{setStep:t}=e;const[a,l]=Object(i.useState)(!1),o=Object(c.b)(),n=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.loading})),d=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.errorMsg})),s=Object(c.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(a=t.kfcLinkingData)||void 0===a?void 0:a.BalanceAfter})),u=Object(c.c)((e=>e.profileReducer)),v=Object(T.Zb)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId)),h=(null===v||void 0===v?void 0:v.isUserBlocked)||!1,p=(null===v||void 0===v?void 0:v.attemptsCount)||0,[g,N]=Object(i.useState)(""),[x,f]=Object(i.useState)(""),[y,D]=Object(i.useState)(""),[R,_]=Object(i.useState)(h?"Block error msg":""),[w,L]=Object(i.useState)(""),[M,k]=Object(i.useState)(!1),{KFC_CARD_COOPERATION:P,ENTER_ID_AND_PIN:F,WRONG_PIN_LIMIT:W,ABOUT_KFC_CARD:H,RETURN:B,SUBMIT:U,KFC_CARD_HAS_NO_BALANCE:G,BLOCK_ERROR_MESSAGE:V,CARD_NUMBER_VALIDATION_MESSAGE:Y,PIN_NUMBER_VALIDATION_MESSAGE:K,CARD_NUMBER_LABEL:q,PIN_NUMBER_LABEL:z,LINK_CARD:X}=I.a;Object(i.useEffect)((()=>{a&&(n||d||t(b.d.Home))}),[n,d,t,a]),Object(i.useEffect)((()=>{o(Object(O.b)())}),[]),Object(i.useEffect)((()=>{Q()}),[s]);const Q=async()=>{o(Object(O.l)(!1)),s<=0?(o(Object(O.k)(Object(S.translateWithI18Next)(G))),Z(),o(Object(O.b)())):s>0&&Object(T.xf)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId),{isUserBlocked:!1,attemptsCount:0})},Z=()=>{(()=>{var e;const t=null===(e=Object(T.Zb)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId)))||void 0===e?void 0:e.lastAttemptDate,a=new Date;a.setHours(0,0,0,0),t!==a.toDateString()&&Object(T.xf)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId),{isUserBlocked:!1,attemptsCount:0,lastAttemptDate:a.toDateString()})})();const e=new Date;e.setHours(0,0,0,0),p<5&&!h?Object(T.xf)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId),{isUserBlocked:!1,attemptsCount:Number(p)+1,lastAttemptDate:e.toDateString()}):(5===p||p>5)&&(Object(T.xf)("".concat(A.gd.CARD_ATTEMPT_DATA,"-").concat(null===u||void 0===u?void 0:u.customerId),{isUserBlocked:!0,attemptsCount:Number(p),lastAttemptDate:e.toDateString()}),_(Object(S.translateWithI18Next)(V)))};return Object(r.jsxs)("div",{className:"kfc-card-form align-items-center flex-column d-flex",children:[Object(r.jsx)(J.c,{onClick:()=>t(b.d.Home),className:"btn-back",children:"\u2794"}),Object(r.jsx)("h2",{className:"form-title",children:Object(S.translateWithI18Next)(P)}),Object(r.jsxs)("div",{className:"col-12 col-lg-8 p-0",children:[Object(r.jsx)("p",{children:Object(S.translateWithI18Next)(F)}),R&&Object(r.jsx)("div",{children:R}),d&&Object(r.jsxs)("div",{className:"kfc-link-form-error general-error",children:[Object(r.jsx)(E.a,{srcFile:C.a.Error,className:"location-alert-icon mr-1"}),Object(r.jsx)("div",{className:"error-msg",children:d})]}),Object(r.jsx)(te,{type:"number",labelTxt:Object(S.translateWithI18Next)(q),inputId:"txt-kfccard",placeholder:Object(S.translateWithI18Next)(q),maxLength:50,value:g,errorMsg:y,handleOnChange:e=>{if(h)return;const t=e.target.value;N(t),/^\d{16}$/.test(t)&&/^\d{4}$/.test(x)?k(!0):k(!1)}}),Object(r.jsx)(te,{type:"password",labelTxt:Object(S.translateWithI18Next)(z),inputId:"txt-kfcpin",placeholder:Object(S.translateWithI18Next)(z),maxLength:4,value:x,errorMsg:w,handleOnChange:e=>{if(h)return;const t=e.target.value;f(t),/^\d{16}$/.test(g)&&/^\d{4}$/.test(t)?k(!0):k(!1)}}),Object(r.jsx)("div",{className:"loyalty-fields loyalty-fields-btns",children:Object(r.jsx)(J.c,{"data-type":"primary",className:"button-contained kfc-button ".concat(x&&g?"filled-fields":"empty-fields"," ").concat(n?"loading":""),"data-loading":n,disabled:h||n,onClick:e=>{e.preventDefault(),h||(/^\d{16}$/.test(g)?D(""):D(Object(S.translateWithI18Next)(Y)),/^\d{4}$/.test(x)?L(""):L(Object(S.translateWithI18Next)(K)),M?(l(!0),o(Object(O.a)({translateCallback:S.translateWithI18Next,KFC_Card:g,KFC_PIN:x,linking:!0})),o(Object(O.l)(!0))):Z())},children:Object(S.translateWithI18Next)(X)})}),Object(r.jsx)("p",{style:{textAlign:"center",textDecoration:"underline"},children:Object(r.jsx)("a",{className:"btn-kfc-card btn-link btn-sm",href:"".concat(Object(j.a)(m.a)),children:"".concat(Object(S.translateWithI18Next)(H))})})]})]})},ie=a(1263),le=a(1278),oe=a(63),ne=a(169);const{getInstance:de}=oe.a,re=()=>Object(r.jsxs)("h3",{className:"d-flex align-items-center font-weight-bold",children:[Object(r.jsx)("img",{src:C.a.CrownRankLogo,alt:"chicken mile log heading"}),Object(r.jsx)("span",{children:Object(X.translateWithI18Next)(I.a.RANKING_OF_MONTH)})]}),se=e=>{let{classes:t}=e;return Object(r.jsx)("div",{className:"".concat(t," skelton-v2 m-inline-auto d-flex justify-content-center"),children:Object(r.jsx)("div",{className:"skeleton-loading"})})},ce=e=>{var t;const{hideTitle:a,isNewVersionStyle:l,isMobile:o,pageTitle:n}=e,[d,s]=Object(i.useState)(b.d.Home),[u,v]=Object(i.useState)(b.a.KFC),m=Object(c.b)(),j=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),{KFC_Card:h,KFC_PIN:p}=j||{},N=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[S,x]=Object(i.useState)(!1),[E,T]=Object(i.useState)(!1),y=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.linkingStatus})),D=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.loading})),{MY_CHICKEN_MILES:A,SHOW_CODE:R,KFC_DETAILS:_,KFC_CARD_LINKING:L,PONTA_DETAILS:P,RAKUTEN_DETAILS:F,CARD_LABEL:W}=I.a,H=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.pickedData})),B=Object(c.c)((e=>{var t,a,i,l,o;return null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t||null===(a=t.response)||void 0===a||null===(i=a.headerData)||void 0===i||null===(l=i.header)||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.accountLoyaltyColors}))||{},G=((null===B||void 0===B||null===(t=B.fields)||void 0===t?void 0:t.loyaltyColors)||[]).reduce(((e,t)=>(e[t.fields.rank]=t.fields.colorValue,e)),{});Object(i.useEffect)((()=>{j&&j.MilesUUID||(!de().isValidAccessToken&&null!==N&&void 0!==N&&N.loggedIn&&oe.a.getInstance().refreshAuthentication(),m(Object(O.e)())),h&&p&&m(Object(O.a)({translateCallback:X.translateWithI18Next,KFC_Card:h,KFC_PIN:p,linking:!1}))}),[m,h,p,j]),Object(i.useEffect)((()=>{const e=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};d&&e()}),[d]);const Y=e=>{m(Object(O.b)()),m(Object(O.o)(e)),x(!1),s(b.d.Home)};Object(i.useEffect)((()=>{if(l){const e=new MutationObserver((t=>{const a=document.getElementById("current-mile-portal");a&&""!==a.innerHTML.trim()&&(T(!0),e.disconnect())}));return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()}}),[l]);let K=Object(r.jsx)(ae,{setStep:s}),q=Object(X.translateWithI18Next)(L);if(d===b.d.Home){var z,J;const e=(null===H||void 0===H||null===(z=H.stage)||void 0===z||null===(J=z.code)||void 0===J?void 0:J.toLowerCase())||b.c.REGULAR.toLowerCase();q=Object(X.translateWithI18Next)(A),K=l?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(M.a,{className:"rounded-8 mileage-loyalty-status ".concat(e),style:{backgroundColor:null===G||void 0===G?void 0:G[e]},children:[Object(r.jsxs)(k.a,{md:"5",xs:"12",className:"membership-right-section rounded-8",children:[null!==j&&void 0!==j&&j.MilesMemberId?Object(r.jsxs)("div",{className:"membership-id-container d-flex justify-content-center",children:[Object(X.translateWithI18Next)(W)," ",Object(r.jsx)("span",{className:"membership-id-value",children:null===j||void 0===j?void 0:j.MilesMemberId})]}):Object(r.jsx)(se,{classes:"w-80 mb-1"}),!E&&Object(r.jsx)(se,{classes:"w-60"}),Object(r.jsx)("div",{id:"current-mile-portal",className:"text-center"}),Object(r.jsx)(g,{qrSize:160})]}),Object(r.jsx)(k.a,{md:"7",xs:"12",className:"loyalty-status-container d-flex justify-content-center align-items-center pr-0",children:Object(r.jsx)(f,{setStep:s,isNewVersionStyle:l})})]}),Object(r.jsx)(ne.a,{header:Object(r.jsx)(re,{}),children:Object(r.jsx)(U,{isNewVersionStyle:l})}),Object(r.jsx)(k.a,{xs:"12",className:"p-0",children:Object(r.jsx)(w,{setStep:s,setCartType:v,setShowConfirmationModal:x,handleUnlinkedAction:Y,showConfirmationModal:S})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(k.a,{lg:"5",xs:"12",className:"mb-lg-0 mb-4 mileage-loyalty-status ".concat(e),children:[Object(r.jsx)("div",{className:"membership-id d-flex justify-content-center text-white",children:null===j||void 0===j?void 0:j.MilesMemberId}),Object(r.jsx)(g,{}),Object(r.jsx)(f,{setStep:s})]}),Object(r.jsx)(k.a,{lg:"7",xs:"12",className:"p-0",children:Object(r.jsx)(w,{setStep:s,setCartType:v,setShowConfirmationModal:x,handleUnlinkedAction:Y,showConfirmationModal:S})})]})}else if(d===b.d.MILE_DETAILS)q=Object(X.translateWithI18Next)(A),K=Object(r.jsx)(V,{setStep:s});else if(d===b.d.RANKING){var Q,Z;q=Object(X.translateWithI18Next)(A);const e=(null===H||void 0===H||null===(Q=H.stage)||void 0===Q||null===(Z=Q.code)||void 0===Z?void 0:Z.toLowerCase())||b.c.REGULAR.toLowerCase();K=Object(r.jsx)(ee,{setStep:s,stageColor:e})}else d===b.d.CARD_DETAILS_VIEW&&(u===b.a.KFC?q=Object(X.translateWithI18Next)(_):u===b.a.PONTA?q=Object(X.translateWithI18Next)(P):u===b.a.RAKUTEN&&(q=Object(X.translateWithI18Next)(F)),K=Object(r.jsx)(k.a,{lg:"9",xs:"12",children:Object(r.jsx)(ie.a,{setStep:s,cardType:u,setShowConfirmationModal:x,handleUnlinkedAction:Y,showConfirmationModal:S})}));return Object(r.jsxs)("div",{className:"chicken-mile container ".concat(l?"chicken-mile-v2 position-relative":""),children:[o&&n?Object(r.jsxs)("div",{className:"my-page-title",children:[" ",n]}):Object(r.jsx)(r.Fragment,{}),(null===y||void 0===y?void 0:y.message)&&Object(r.jsx)(le.a,{success:null===y||void 0===y?void 0:y.success,msg:null===y||void 0===y?void 0:y.message}),D&&d===b.d.Home&&Object(r.jsx)("div",{className:"overlay-Loader"}),Object(r.jsxs)(M.a,{className:"chiken-mile-wrapper",children:[a&&d===b.d.Home?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)(k.a,{lg:"11",xs:"12",className:"d-flex justify-content-center justify-content-lg-between my-5 chicken-mile_heading pl-0",children:[Object(r.jsx)("h4",{className:"chicken-mile_heading4",children:q}),d!==b.d.Home&&Object(r.jsxs)("button",{onClick:()=>s(b.d.Home),className:"d-none d-lg-flex show-qr-btn",children:[Object(X.translateWithI18Next)(R)," ",Object(r.jsx)("img",{className:"back-CTA-Arrow",src:C.a.CTA_Arrow,alt:"back-btn"})]})]}),Object(r.jsx)(k.a,{lg:"12",xs:"12",className:"justify-content-lg-center px-lg-0 ".concat(d!==b.d.Home&&d!==b.d.MILE_DETAILS&&d!==b.d.RANKING?"sub-chicken-mile-view":""," ").concat(l?"sub-chiken-mile-view-v2":"d-lg-flex"),children:K})]})]})};ce.defaultProps={hideTitle:!1,isNewVersionStyle:!1};t.a=ce},1304:function(e,t,a){"use strict";var i=a(3),l=a.n(i),o=a(28),n=a(6),d=a(15),r=a(46),s=a(62),c=a(132),u=a(220),v=a(2);var O=e=>{let{category:t,children:a}=e;return Object(v.jsxs)("div",{children:[t&&Object(v.jsx)("div",{className:"preferences-item-category",children:Object(v.jsx)("label",{htmlFor:t,children:t})}),a]})};var b=e=>{let{dataChecked:t,dataUnChecked:a,isChecked:i,onToggleChange:l}=e;const o=e=>{null!==e&&(null===l||void 0===l||l(e))};return Object(v.jsxs)("div",{className:"switch-button",children:[Object(v.jsx)("div",{"data-testid":"switch-button-testid",className:"switch-button ".concat(i?"active":""),onClick:()=>o(!0),children:t}),Object(v.jsx)("div",{className:"switch-button ".concat(i?"":"active"),onClick:()=>o(!1),children:a})]})};var m=e=>{let{property:t,onToggleChange:a}=e;return Object(v.jsx)("div",{className:"communication-preferences-item",children:Object(v.jsxs)("div",{className:"preferences-item-container",children:[t.subTitle&&Object(v.jsxs)("div",{className:"preferences-item-title",children:[" ",Object(v.jsx)("label",{htmlFor:t.subTitle,children:t.subTitle})]}),t.copy&&Object(v.jsxs)("div",{className:"preferences-sub-title",children:[" ",Object(v.jsx)("label",{htmlFor:t.copy,children:t.copy})]}),Object(v.jsx)("div",{className:"switch-button-container",children:Object(v.jsx)(b,{dataChecked:t.status.checkedLabel,dataUnChecked:t.status.unCheckedLabel,onToggleChange:()=>{a(t,!t.status.isChecked)},isChecked:t.status.isChecked})})]})})},j=a(412),h=a(4);var p=e=>{let{content:t,data:a,onPreferenceDataChange:l}=e;const{PREFERENCES_COMMUNICATION_PREFERENCES:d}=h.a,[r,s]=Object(i.useState)(Object(j.j)(t,a)),[c]=Object(i.useState)({...a});Object(i.useEffect)((()=>{s(Object(j.j)(t,a))}),[t,a]);const u=Object(o.c)((e=>{var t,a,i,l,o,n;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(o=l.accountPage)||void 0===o||null===(n=o.preferenceCenter)||void 0===n?void 0:n.showUnsubscribeAllButton)&&void 0!==t&&t})),b=(e,a)=>{if(e.status.isChecked=a,e.code===j.a.globalOptOut&&e.status.isChecked&&(null!==r&&void 0!==r?r:[]).forEach((t=>{t.code!==e.code&&(t.status.isChecked=!1)})),e.code===j.a.globalOptOut&&!e.status.isChecked){const a=Object(j.j)(t,c)||[];(null!==r&&void 0!==r?r:[]).forEach((t=>{var i,l,o,n;t.code!==e.code&&(t.status.isChecked=null!==(i=null===(l=a.filter((e=>e.code===t.code)))||void 0===l||null===(o=l[0])||void 0===o||null===(n=o.status)||void 0===n?void 0:n.isChecked)&&void 0!==i&&i)}))}e.code!==j.a.globalOptOut&&e.status.isChecked&&((null!==r&&void 0!==r?r:[]).filter((e=>e.code===j.a.globalOptOut))[0].status.isChecked=!1),s(r),l(r)};return Object(v.jsxs)("div",{"data-testid":"preferences-testid",className:"preferences-card",children:[Object(v.jsx)("div",{className:"preferences-card-left-side preferences-card-left-side-au",children:Object(n.translateWithI18Next)(d)}),Object(v.jsx)("div",{className:"preferences-card-right-side",children:Object(v.jsx)("div",{className:"preferences-container",children:Object(v.jsx)("div",{className:"preferences-item",children:r.map((e=>e.code!==j.a.globalOptOut||u?Object(v.jsxs)(i.Fragment,{children:[e.code===j.a.globalOptOut&&Object(v.jsx)("hr",{className:"divider"},"hr-".concat(e.code)),Object(v.jsx)(O,{category:e.title,children:Object(v.jsx)(m,{property:e,onToggleChange:b})},e.code)]},"fragment-".concat(e.code)):null))})})})]})};var g=e=>{let{data:t,onToggleChange:a,isChecked:i}=e;return Object(v.jsxs)("div",{className:"meal-list-item",children:[Object(v.jsx)("input",{id:t.title,checked:i,className:"meal-item-checkbox ".concat(i?"checked":""),value:t.title,type:"checkbox",onChange:e=>{a(e.target.value)}}),Object(v.jsx)("label",{className:"meal-item-text",htmlFor:t.title,children:t.title}),Object(v.jsx)(r.a,{srcFile:t.image})]})};var N=e=>{let{data:t,selectedMeals:a,onToggleChange:i}=e;const l=e=>{if(a)return a.includes(e.title)},o=e=>{i(e)},{PREFERENCES_MEAL_PREFERENCE:d,PREFERENCES_MEAL_PREFERENCE_DESCRIPTION:r}=h.a;return Object(v.jsxs)("div",{className:"meal-list-card","data-testid":"meal-checkbox",children:[Object(v.jsx)("div",{className:"preferences-card-left-side preferences-card-left-side-au",children:Object(n.translateWithI18Next)(d)}),Object(v.jsxs)("div",{className:"preferences-card-right-side",children:[Object(v.jsx)("div",{className:"meal-description",children:Object(n.translateWithI18Next)(r)}),null===t||void 0===t?void 0:t.map(((e,t)=>{var a;return Object(v.jsx)("div",{children:Object(v.jsx)(g,{data:e,onToggleChange:o,isChecked:null!==(a=l(e))&&void 0!==a&&a})},t)}))]})]})},S=a(264);var I=()=>Object(v.jsxs)("div",{"data-testid":"communication-thankyou-container",className:"communication-thankyou-container",children:[Object(v.jsx)("div",{className:"communication-thankyou-confirm-icon",children:Object(v.jsx)(S.a,{src:d.a.ThankYou})}),Object(v.jsx)("div",{className:"communication-main-text",children:Object(n.translateWithI18Next)(h.a.PREFERENCES_THANK_YOU)}),Object(v.jsx)("div",{className:"communication-subTitle-text",children:Object(n.translateWithI18Next)(h.a.PREFERENCES_THANK_COMMENT_MSG)})]});var x=e=>{let{variant:t}=e;return Object(v.jsxs)("div",{"data-testid":"communication-error-container",className:"communication-error-container",children:[Object(v.jsx)("div",{className:"communication-error-icon",children:Object(v.jsx)(S.a,{src:d.a.CartError})}),Object(v.jsx)("div",{className:"communication-main-text",children:Object(n.translateWithI18Next)(h.a.PREFERENCES_ERROR)}),Object(v.jsx)("div",{className:"communication-subTitle-text",children:Object(n.translateWithI18Next)(h.a.PREFERENCES_ERROR_MSG)})]})},f=a(1151);a(1150);var E=()=>Object(v.jsx)(f.a,{baseColor:"#f8f9fa",highlightColor:"#e3e3e3",children:Object(v.jsx)("div",{className:"communication-preferences-container",children:Object(v.jsxs)("div",{"data-testid":"preferences-skeleton-testid",className:"preferences-card preferences-card-skeleton",children:[Object(v.jsx)("div",{className:"preferences-card-left-side preferences-card-left-side-au",children:Object(v.jsx)(f.b,{height:50})}),Object(v.jsx)("div",{className:"preferences-card-right-side",children:Object(v.jsx)("div",{className:"preferences-container",children:Object(v.jsx)("div",{className:"preferences-item",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{class:"preferences-item-category",children:Object(v.jsx)(f.b,{width:"50%"})}),[1,2,3,4,5].map(((e,t)=>Object(v.jsx)("div",{class:"communication-preferences-item",children:Object(v.jsxs)("div",{class:"preferences-item-container",children:[Object(v.jsx)("div",{class:"preferences-item-title",children:Object(v.jsx)(f.b,{width:"50%"})}),Object(v.jsx)("div",{class:"preferences-sub-title",children:Object(v.jsx)(f.b,{})}),Object(v.jsx)("div",{class:"switch-button-container",children:Object(v.jsx)("div",{class:"switch-button",children:Object(v.jsx)("div",{class:"switch-button",children:Object(v.jsx)(f.b,{width:50})})})})]})},t)))]})})})})]})})}),C=a(59),T=a(128);t.a=e=>{var t,a,O;let{updateMenu:b,variant:m="account"}=e;const j=Object(o.b)(),{PREFERENCES_SAVE_PREFERENCES:g,PREFERENCES_COMMUNICATION_PREFERENCES:S}=h.a,f=Object(o.c)((e=>e.profileReducer||null)),{SingleArrowback:y}=d.a,D=Object(o.c)((e=>e.tenantReducer||null)),[A,R]=Object(i.useState)([...new Set]),_=new URLSearchParams(Object(s.h)().search),w=_.has("src")&&_.get("src").startsWith("mobile"),L=Object(o.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),M=null===L||void 0===L||null===(t=L.headerData)||void 0===t?void 0:t.communicationPreferences,k=null===L||void 0===L||null===(a=L.headerData)||void 0===a||null===(O=a.mealPreferences)||void 0===O?void 0:O.map((e=>{var t,a,i;return{title:e.fields.title,image:null===(t=e.fields.desktopImage)||void 0===t||null===(a=t.fields)||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url}})),P=Object(o.c)((e=>{var t,a,i,l,o,n;return null!==(t=null===(a=e.tenantReducer)||void 0===a||null===(i=a.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(o=l.accountPage)||void 0===o||null===(n=o.preferenceCenter)||void 0===n?void 0:n.showMealPreferences)&&void 0!==t&&t})),F=Object(c.b)(T.c),W=Object(o.c)((e=>e.commPreferencesReducer)),[H,B]=Object(i.useState)({mealPreferences:[]}),[U,G]=Object(i.useState)({}),[V,Y]=Object(i.useState)(!1),[K,q]=Object(i.useState)();let z=function(){const{search:e}=Object(s.h)();return l.a.useMemo((()=>new URLSearchParams(e)),[e])}();const J=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(i.useEffect)((()=>{const e=null===f||void 0===f?void 0:f.customerId,t=z.get("id"),a=z.get("src");G({userId:null!==t&&void 0!==t?t:e,src:null!==a&&void 0!==a?a:"web",queryUserId:t,sessionUserId:e,authenticated:null===J||void 0===J?void 0:J.loggedIn})}),[j,null===f||void 0===f?void 0:f.customerId,z,null===D||void 0===D?void 0:D.brazeMparticle,null===J||void 0===J?void 0:J.loggedIn]),Object(i.useEffect)((()=>{null!==U&&void 0!==U&&U.userId&&null!==U&&void 0!==U&&U.src&&"123"!==(null===D||void 0===D?void 0:D.brazeSMSGroupId)&&j(T.a.fetch({params:{customerId:U.userId,src:U.src,smsSubscriptionGroupId:null===D||void 0===D?void 0:D.brazeSMSGroupId}}))}),[U,j,null===D||void 0===D?void 0:D.brazeSMSGroupId]),Object(i.useEffect)((()=>{!1===(null===W||void 0===W?void 0:W.loading)&&!1===(null===W||void 0===W?void 0:W.updating)&&(B(F),R(F.mealPreferences))}),[null===W||void 0===W?void 0:W.loading,null===W||void 0===W?void 0:W.updating]),Object(i.useEffect)((()=>{if(V&&!1===(null===W||void 0===W?void 0:W.updating)){const e=null===W||void 0===W?void 0:W.error;q(e?"error":"success"),Y(!1),window.scrollTo(0,0)}}),[V,null===W||void 0===W?void 0:W.updating,U.src,null===W||void 0===W?void 0:W.error,b]),Object(i.useEffect)((()=>{q(""),null!==W&&void 0!==W&&W.loading&&q("loading"),null!==W&&void 0!==W&&W.loading||null===W||void 0===W||!W.error||q("error")}),[null===W||void 0===W?void 0:W.error,null===W||void 0===W?void 0:W.loading]),Object(i.useEffect)((()=>{"account"===m&&"success"===K&&(X(h.a.PREFERENCES_SUCCESS_MSG),q("")),"account"===m&&"error"===K&&(Q(h.a.PREFERENCES_ERROR_MSG),q(""))}),[m,K]);const X=e=>{C.b.dark(Object(v.jsx)("div",{"data-testid":"preferences-success-toast",className:"img-text-div",children:Object(v.jsx)("span",{className:"text",children:Object(n.translateWithI18Next)(e)})}),{hideProgressBar:!0,position:C.b.POSITION.BOTTOM_CENTER,autoClose:5e3,closeOnClick:!0})},Q=e=>{C.b.error(Object(v.jsx)("div",{"data-testid":"preferences-success-toast",className:"img-text-div",children:Object(v.jsx)("span",{className:"text",children:Object(n.translateWithI18Next)(e)})}),{hideProgressBar:!0,position:C.b.POSITION.BOTTOM_CENTER,autoClose:5e3,closeOnClick:!0})},Z=()=>{if(null!==W&&void 0!==W&&W.loading||null!==W&&void 0!==W&&W.updating)return;const e={...H,mealPreferences:A};B(e),Y(!0),j(T.a.update({params:{customerId:U.userId,src:U.src,smsSubscriptionGroupId:null===D||void 0===D?void 0:D.brazeSMSGroupId},data:{...e}}))},$=e=>{A.includes(e)?R(A.filter((t=>t!==e))):R([...A,e])},ee=e=>{const t={...H};(null!==e&&void 0!==e?e:[]).forEach((e=>{t[e.code]=e.status.isChecked})),B(t)},te=()=>Object(v.jsxs)("div",{className:"communication-preferences-container",children:[Object(v.jsx)(p,{content:M,data:H,onPreferenceDataChange:ee}),P&&Object(v.jsx)(N,{data:k,selectedMeals:A,onToggleChange:$}),Object(v.jsx)("div",{className:"save-preferences-container",children:Object(v.jsx)(u.b,{"data-testid":"save-communication-preferences",className:"save-preferences-button",loading:null===W||void 0===W?void 0:W.updating,variant:u.a.tertiary,onClick:Z,children:Object(n.translateWithI18Next)(g)})})]});return Object(v.jsxs)("div",{className:"communication-preferences-page","data-testid":"communication-preferences-container-testid",children:[!w&&Object(v.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(v.jsx)("img",{className:"backArrow-account-setting",onClick:()=>b(""),src:y,alt:"back btn"}),Object(v.jsx)("span",{className:"account-setting-text-header",children:Object(n.translateWithI18Next)(S)})]}),Object(v.jsxs)("div",{className:"communication-preferences-heading-alignment",children:["email"===m&&Object(v.jsx)(r.a,{srcFile:d.a.Strips,className:"preferences-strips-icon","data-testid":"preferences-strips-icon"}),Object(v.jsx)("p",{className:"communication-preferences-text-heading",children:Object(n.translateWithI18Next)(S)})]}),(()=>{switch(K){case"loading":return Object(v.jsx)(E,{});case"success":return"email"===m?Object(v.jsx)(I,{}):te();case"error":return"email"===m?Object(v.jsx)(x,{}):te();default:return te()}})()]})}},962:function(e,t,a){"use strict";a.r(t),a.d(t,"removeCouponHandler",(function(){return u})),a.d(t,"quantityModifierOnClickHandler",(function(){return v}));var i=a(3),l=a(395),o=a(28),n=a(61),d=a(1126),r=a(6),s=a(4),c=a(2);const u=e=>{let{setCartItem:t,item:a,setCouponModal:i,setQuantityActionData:l,quantityAction:o}=e;i(!0),t(a),l(o)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:a,item:i,setCouponModal:l,setQuantityActionData:o,quantityAction:n,event:d,updateItemQuantity:r}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:a,item:i,setCouponModal:l,setQuantityActionData:o,quantityAction:n}):r(i,n,d)};t.default=e=>{var t,a;const{itemQuantity:u,itemCount:O,updateItemQuantity:b,quantityAction:m,item:j,itemName:h,cartItemCount:p,maxItemCountPerLineItem:g,hideChild:N=!1,type:S="",paymentDiscountAmounts:I=[],removeSingleItem:x=!1,isAddonsNotAddable:f=!1}=e,{QUANTITY_INCREASE_DECREASE:E}=n.a;var C="".concat(Object(r.translateWithI18Next)(s.a.DECREASE_QUANTITY_BY)," ").concat(h),T="".concat(Object(r.translateWithI18Next)(s.a.INCREASE_QUANTITY_BY),"  ").concat(h);const y=Object(o.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[D,A]=Object(i.useState)(!1),[R,_]=Object(i.useState)({}),[w,L]=Object(i.useState)(""),M=Object(o.c)((e=>{var t,a,i,l,o,n;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isUpdateQuantityLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isValidateBasketLoading)||(null===(l=e.storesReducer)||void 0===l?void 0:l.isStoreStatusLoading)||(null===(o=e.orderReducer)||void 0===o?void 0:o.isCreateOrderLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isPlaceOrder)}));return Object(c.jsxs)("div",{className:"cart-food-quantity-change",children:[!x&&+O===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(c.jsx)(l.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!N&&Object(c.jsx)("span",{children:"-"})}):Object(c.jsx)(l.a,{className:"button quantity-decrease",ariaLable:C,disabled:y||M,onClickHandler:e=>v({paymentDiscountAmounts:I,setCartItem:_,item:j,setCouponModal:A,setQuantityActionData:L,quantityAction:m.Decrease,event:e,updateItemQuantity:b}),"data-testid":"quantity-minus",type:S,children:!N&&Object(c.jsx)("span",{children:"-"})}),Object(c.jsx)("span",{className:"cart-food-quantity",children:O}),Object(c.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(O)}),Object(c.jsx)(l.a,{className:".transparent-btn button quantity-increase",ariaLable:T,"data-testid":"quantity-plus",type:S,onClickHandler:e=>v({paymentDiscountAmounts:I,setCartItem:_,item:j,setCouponModal:A,setQuantityActionData:L,quantityAction:m.Increase,event:e,updateItemQuantity:b}),disabled:!!(0!==g&&p+O>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&a.isDiscounteditem||f)||(y||M),children:!N&&Object(c.jsx)("span",{children:"+"})}),D&&Object(c.jsx)(d.a,{cartItem:R,setCouponModal:A,quantityAction:w,updateItemQuantity:b,flag:E})]})}},963:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return Ot}));var i=a(11),l=a(14),o=a(6),n=a(331),d=a(73),r=a(192),s=a(24),c=a(5),u=a(85),v=a(3),O=a.n(v),b=a(28),m=a(957),j=a(16),h=a(158),p=a(408),g=a(263),N=a(46),S=a(329),I=a.n(S),x=a(41),f=a(1135),E=a(401),C=a(55),T=a(15),y=a(2);const D=e=>!0===e.includes(",")?e.replace(",",", "):e;var A=e=>{var t,a;const{onMapClickHandler:i,startOrderFormSavedAddress:l}=e,{MapImage:n}=T.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:r,START_ORDER_TEXT:s}=h.a,{savedAddresses:c}=Object(b.c)((e=>e.profileReducer)),u=null===(t=c.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"savedAddress-store-count",children:[Object(y.jsxs)("span",{className:"saved-address-count-title",children:[c.length>1?"".concat(Object(o.translateWithI18Next)(r)," "):"".concat(Object(o.translateWithI18Next)(d))," ","(",c.length,")"," "]}),Object(y.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>i(e,"",u),children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:n,alt:"map",className:"map-img"})}),"Map"]})})]}),c.map((e=>Object(y.jsx)("div",{className:"savedAddress-module-card",children:Object(y.jsxs)("div",{className:"inside-card",children:[Object(y.jsxs)("div",{className:"address-section",children:[Object(y.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(y.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(y.jsxs)("span",{children:[" ",D(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(y.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(x.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var a;const{latitude:i,longitude:o}=t.location,n={userLat:i,userLong:o},d=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);l(d,n)})(0,e),"data-testid":"savedaddress-click-test",children:Object(o.translateWithI18Next)(s)})})]})})))]})})},R=a(147);var _=e=>{const{errorMsgToShow:t,onClearTextHandler:a,dispositionType:i,onRetryClickHandler:l,onMapClickHandler:n,showMap:d}=e,{userOrderStateDispatch:r}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:s}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:c,TAKE_AWAY:b,TYPE_TAKE_WAY:m,RETRY_TEXT:p,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:S,CTA2_VIEW_MAP_BUTTON_TEXT:I}=h.a,{Error:f}=T.a,E=Object(R.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===i?E:"error-alert-location-popup error-adjust",children:[Object(y.jsx)(N.a,{srcFile:f,className:"location-alert-icon"}),t!==c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(o.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),a()})(e),children:Object(o.translateWithI18Next)(g)}),i.toLowerCase()!==b.toLowerCase()&&Object(y.jsx)(x.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),r({type:s,value:{dispositionType:m}})})(e),children:Object(o.translateWithI18Next)(S)})]})]}),t===c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"location-error-address",children:Object(o.translateWithI18Next)(t)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>l(e),children:Object(o.translateWithI18Next)(p)}),i!==b&&Object(y.jsx)(x.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>n(e),children:Object(o.translateWithI18Next)(I)})]})]})]})})},w=a(0),L=a(132),M=a(80),k=a(394);const{LocationImage:P,GoogleMapLocationImage:F,SuggestionItemSearchPin:W,clearTextIcon:H,Time_Clock:B,Error:U,MapImage:G}=T.a,{MIN_SEARCH_CHARACTER_LIMIT:V,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:K,ALREADY_SERACHED_LOCATIONS:q,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:J,SUGGESTION_ACTIVE_OPACITY:X,BRAND_BLACK:Q,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ae,DELIVERY_UNAVAILABLE:ie,DELIVERY_UNAVAILABLE_WITH_CTA:le,NOTAVAILABLE:oe,CTA1_SEARCH_DIFF_ADDRESS:ne,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:re}=h.a,se=(e,t)=>{t()},ce=e=>{var t;let{eligibleStoreData:a,suggestedAddress:i,setNegativeScenarioAlert:l,getNegativeView:n}=e,d=null===a||void 0===a?void 0:a.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0})),r=d.filter((e=>{var t,a,i,l,o,n;const d="CLOSED"===e.summary.status.currentStatus,r=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),s=-1!==(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(o=l.status)||void 0===o||null===(n=o.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN"));return d&&(r||s)})),s=Object(E.a)("delivery",d);var u;return Object(c.qd)(s,Object(c.qd)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===r||void 0===r?void 0:r.length)===d.length))?(Object(c.hb)((null===r||void 0===r?void 0:r.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?s=ie:null!==(u=i[0])&&void 0!==u&&u.description||(s=le),l(s),Object(c.Ob)(Object(o.translateWithI18Next)(p.a.contentData.deliveryHeaderText),Object(o.translateWithI18Next)(s)),n(s)):void 0},ue=(e,t,a)=>Object(y.jsx)(x.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(o.translateWithI18Next)($)}),ve=(e,t,a)=>{var i,l,o,n,d;return null===e||void 0===e||null===(i=e.toString())||void 0===i||null===(l=i.replace)||void 0===l||null===(o=l.call(i,t,""))||void 0===o||null===(n=o.trim())||void 0===n||null===(d=n.replace)||void 0===d?void 0:d.call(n,a,"")};var Oe=e=>{var t;const{formContent:a={},userPositionHandler:i,singInClickhandler:l,eligibleStoreData:n}=e,{memberText:d="",singInLink:r={},currentLocationText:m="",addressBoxPlaceHolderForDelivery:h=""}=a,{RETAIN_ADDRESS:f}=w.gd,{SCHEDULE_ORDER_DATA:T,DISPOSITION_METHOD:D}=j.a,R=Object(b.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(c.sd)(R),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:le={},dispositionStateData:Oe={}}=Z,[he,pe]=Object(v.useState)(""),[ge,Ne]=Object(v.useState)(!1),[Se,Ie]=Object(v.useState)(!1),[xe,fe]=Object(v.useState)(!1),[Ee,Ce]=Object(v.useState)({lat:28.7,lng:77.1}),[Te,ye]=Object(v.useState)(!1),[De,Ae]=Object(v.useState)(!1),[Re,_e]=Object(v.useState)([]),[we,Le]=Object(v.useState)(""),Me=Object(v.useRef)(null),[ke,Pe]=Object(v.useState)(""),[Fe,We]=Object(v.useState)(""),[He,Be]=Object(v.useState)(!1),[Ue,Ge]=Object(v.useState)(!1),[Ve,Ye]=Object(v.useState)(!1),[Ke,qe]=Object(v.useState)(""),[ze,Je]=Object(v.useState)(!1),{dispositionType:Xe=localStorage.getItem("dispositionType")}=Oe,[Qe,Ze]=Object(v.useState)({}),$e=Object(b.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),et=Object(L.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:at}}},postalcodeRemoveRegex:it=null,specialCharRemoveRegex:lt=null}=Object(b.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),ot=Object(b.c)((e=>{var t,a,i,l;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isNearByStoresLoading)||(null===(l=e.storesReducer)||void 0===l?void 0:l.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(E.e)(De,Fe,p.a)}),[De,Fe]);const nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(_,{errorMsgToShow:Object(c.qd)(Fe,e),onClearTextHandler:Ot,onRetryClickHandler:st,onMapClickHandler:dt,dispositionType:Xe,showMap:xe})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(E.i)(xe,Xe),fe(!0),We(!1),t&&!he&&ct(t)},rt=e=>{var t;const a=null===(t=e.toString())||void 0===t?void 0:t.split(" "),i=null===a||void 0===a?void 0:a.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===i||void 0===i?void 0:i.join(" ")},st=e=>{Me.current.select(),Ne(!1),ye(!1),We(!1),Ae(!1)},ct=async function(e,t,a){var l;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Je(!1),qe(""),Object(c.hb)(null===t,null===a)&&(null===(l=Re[0])||void 0===l?void 0:l.description)&&Ae(!0),Be(!0),ye(!0);const n=await Object(S.geocodeByAddress)(e),d=await Object(S.getLatLng)(n[0]);at&&et(Object(M.d)({key:w.se.LAT_LONG,value:d})),Ce(d),ut(e);const r=tt?ve(e,it,lt):rt(e);pe(r),o||Ne(!0),i({userLat:d.lat,userLong:d.lng}),Ie(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(f);Object(E.b)(t,_e,ct)}),[]),Object(v.useEffect)((()=>{let e=null===n||void 0===n?void 0:n.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==oe})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));ze&&Ke&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ye(!1),$({type:T,value:{deliveryAddress:Ke,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):Ke&&Ye(!0)}),[n,Ke,ze]),Object(v.useEffect)((()=>{}),[Ee]);Object(v.useEffect)((()=>{(null===he||void 0===he?void 0:he.length)>2?Ne(!De):(Ne(!1),Ae(!1),We(""));let e=Object(c.d)(he,V);Ge(e)}),[he]),Object(v.useEffect)((()=>{if(Se){const e=rt(ke);pe(e),ut(ke),Ie(!1)}}),[le]);const ut=e=>{Object(c.ze)(e,q)},vt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(q))).includes(t);var t},Ot=()=>{pe(""),Ne(!1),We(""),_e(""),Ye(!1)},bt=async(e,t)=>{Ce({lat:t.userLat,lng:t.userLong}),Je(!0);const a=rt(e);pe(a),Ze(t),ut(e),qe(e),i(t)};return Object(y.jsxs)(O.a.Fragment,{children:[Object(y.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"login-section",children:[Object(y.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,l,r)}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await s.b.BindLocation($e),Object(E.m)(),_e([]),s.b.coordinates){const{latitude:e,longitude:t}=s.b.coordinates;s.b.addFeedback("Check coordinates ".concat(JSON.stringify(s.b.coordinates))),s.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),s.b.addFeedback("Check address ".concat(s.b.address)),i({userLat:e,userLong:t}),Pe(s.b.address);const a=rt(s.b.address);pe(a),ct(s.b.address),Ie(!0),_e([{description:s.b.address}])}Object(k.s)($,!s.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(y.jsx)(N.a,{"data-testid":"",srcFile:P,alt:" ",className:"location-img"}),Object(o.translateWithI18Next)(m)]})})]}),Object(y.jsxs)("div",{className:"delivery-address-section",children:[Object(y.jsx)("div",{className:"search-delivery-address",children:Object(y.jsx)("div",{className:"input-delivery-address",children:Object(y.jsx)(I.a,{value:he,onChange:e=>{Be(!1),ye(!1);const t=rt(e);pe(t),((e,t,a)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))})(e,_e,Ge),Je(!1),qe(""),Ye(!1)},onSelect:ct,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:se,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:l}=e;return Object(y.jsxs)("div",{children:[Object(y.jsx)(N.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(c.ad)(Object(c.qd)(De,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(o.translateWithI18Next)(h),ref:Me})}),he&&Object(y.jsx)("img",{src:H,className:"clearTextIcon",onClick:Ot,alt:"Clear Text Icon"}),Object(c.hb)(Object(c.pc)(a),Ue)?Object(y.jsx)("div",{className:"suggestion-list",children:a.map(((e,t)=>{var l;if(null!==e&&void 0!==e&&null!==(l=e.types)&&void 0!==l&&l.some((e=>K.includes(e)))){_e(a);const l=Object(c.ad)(e.active,{backgroundColor:J,opacity:X},{backgroundColor:Q});return Object(y.jsxs)(O.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",children:Object(o.translateWithI18Next)(Y)}),Object(y.jsx)("div",{style:l,children:Object(y.jsx)("div",{...i(e,{className:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(y.jsx)("div",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:Object(c.ad)(vt(e.description),B,W),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(y.jsx)("form",{children:ue(ge,ot,(e=>{var t;if(e.preventDefault(),ze)return Ve&&Ne(!1),void bt(he,Qe);if(!(He&&ce({eligibleStoreData:n,suggestedAddress:Re,setNegativeScenarioAlert:We,getNegativeView:nt})||(null===(t=Re[0])||void 0===t||!t.description)&&ce({eligibleStoreData:n,suggestedAddress:Re,setNegativeScenarioAlert:We,getNegativeView:nt}))){if(We(""),!Te){var a,i;const e=null===(a=Re[0])||void 0===a?void 0:a.description;return Le(e),(null===(i=Re[0])||void 0===i?void 0:i.description)&&Ae(!0),Ne(!1),void ct(e,null===Re||void 0===Re?void 0:Re.placeId,Re,!0)}n[0]&&(ye(!1),$({type:T,value:{deliveryAddress:he,showScheduleOrderCatering:!0,selectedStoreInfo:n[0]}}))}}))})]})]}),Ve&&!ot&&Object(y.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(y.jsx)(N.a,{srcFile:U,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-address",children:Object(o.translateWithI18Next)(ie)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ye(!1),children:Object(o.translateWithI18Next)(ne)}),Object(y.jsx)(x.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:D,value:{dispositionType:de}})},children:Object(o.translateWithI18Next)(re)})]})]}),!xe&&Object(y.jsx)("div",{className:"my-3 store-form-separation"}),xe||G||De||Fe?null:me(dt),!De&&G&&!Fe&&!xe&&!Ve&&Object(y.jsx)(A,{userPositionHandler:i,startOrderFormSavedAddress:bt,allowOrderNow:Ve,onMapClickHandler:dt})]}),he.length>0&&Object(c.hb)(De,!Fe)?Object(y.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(y.jsx)(N.a,{srcFile:U,className:"location-alert-icon"}),Object(y.jsx)("div",{className:"location-error-message",children:Object(o.translateWithI18Next)(ee)}),Object(y.jsx)("div",{className:"location-error-address",children:Object(c.qd)(null===(t=Re[0])||void 0===t?void 0:t.description,he)}),Object(y.jsxs)("div",{className:"location-error-button-section",children:[Object(y.jsx)(x.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:st,children:Object(o.translateWithI18Next)(te)}),Object(y.jsx)(x.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const a=ce({eligibleStoreData:n,suggestedAddress:Re,setNegativeScenarioAlert:We,getNegativeView:nt});he.length>0&&De&&a||!n[0]&&a||(null!==(t=Re[0])&&void 0!==t&&t.description&&$({type:T,value:{deliveryAddress:we,showScheduleOrderCatering:!0,selectedStoreInfo:Object(c.sd)(n[0])}}),ye(!1))},children:Object(o.translateWithI18Next)(ae)})]})]}):Fe&&nt(),xe?be(De,Ee,(e=>{const t=rt(e);ct(t),pe(t)}),Fe):null]})};function be(e,t,a,i){return Object(y.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(c.ad)(e,"pointer-disabled","")),children:Object(y.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(y.jsx)(f.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:i,locationAlert:e})})})}function me(e){return Object(y.jsx)("div",{className:"map-button-form",children:Object(y.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(y.jsx)("span",{className:"delivery-map-text",children:Object(o.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(o.translateWithI18Next)("map")]})]})})}function je(e,t,a){return Object(y.jsxs)("div",{"data-id":w.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(o.translateWithI18Next)(e),Object(y.jsx)("span",{onClick:t,children:Object(y.jsx)(g.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(o.translateWithI18Next)(a.linkText)})})]})}var he=a(144);var pe=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:i,headerText:l,modalTitleId:o="",showLocationError:n}=e;return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(he.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:o,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:n,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:l,autoFocus:!0,children:i})})},ge=a(62),Ne=a(59),Se=a(35),Ie=a(113),xe=a(1131),fe=a(120),Ee=a(600);const{FavoriteUnfillImage:Ce,FavoriteFillImage:Te,GreenTickImage:ye}=T.a,De=(e,t)=>{var a,i;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(i=t.storeSearch)||void 0===i?void 0:i.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var Ae=Object(ge.j)((e=>{var t,a,i,l,n;const{storeDistance:d="",addresses:r={},isOpen:s=!1,buttonData:O={},map:m={},storeName:p="",currentMarket:S,storeInfo:I={},channels:f=[],storeStatus:C={},onStoreSelectFinish:T,onClickMapHandler:D,isMapView:A,isMobile:R,isFavoriteStore:_,addToFavoriteHandler:L,removeFromFavoriteHandler:M,loggedIn:k,centerIndex:P,storeLength:F}=e,W=null===I||void 0===I||null===(t=I.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.message,{unavailibilities:H}=(null===I||void 0===I||null===(i=I.summary)||void 0===i||null===(l=i.timings)||void 0===l?void 0:l.scheduled)||{},{buttonText:B=""}=Object(c.sd)(null===O||void 0===O?void 0:O.scheduleOrderButtonData),{buttonText:U="",display:G=!1}=Object(c.sd)(null===O||void 0===O?void 0:O.orderNowButtonData),{userOrderState:V,userOrderStateDispatch:Y}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:K="",SEARCH_ORDER_DATA:q="",SELECTED_TILE_DATA:z="",SCHEDULE_ORDER_TIME_DATA:J="",MENU_URL:X,SET_DISPOSITION:Q,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ae}=h.a,{mapText:ie=""}=m,le=Object(ge.h)(),oe=f&&Object(E.g)(f),{services:ne=[]}=Object(c.rd)(oe[0]),{operatingHours:de=[]}=null!==C&&void 0!==C&&null!==(n=C.timings)&&void 0!==n&&n.operatingHours?C.timings:[],re=Object(E.c)(s,de,W,H),se=Object(b.b)(),ce=Object(b.c)((e=>e.profileReducer)),ue=Object(b.c)((e=>e.tenantReducer)),{dispositionType:ve=localStorage.getItem("dispositionType")}=V.dispositionStateData,{ScheduledDeliveryComponent:Oe={},showToastAfterLocalization:be=!1}=(null===ue||void 0===ue?void 0:ue.componentOptions)||{},{allowScheduleOrder:me}=Oe;let je=Object(b.c)((e=>e.appStateReducer.userStatus));const he=Object(c.Sd)(V.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):V.dispositionNew,pe=async(t,a)=>{var i,l,o,n,d,r,s,u,v;t.preventDefault(),t.stopPropagation(),Object(E.l)();const{futureDates:O,scheduled:b={},asap:m}=(null===a||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings)||{},{interval:j=0,startEndTime:h={}}=Object(c.hb)(null===b||void 0===b||null===(l=b.periods)||void 0===l?void 0:l.length,b.periods[0]),{from:p,to:g}=h,{unavailibilities:N,unavailibilityType:S}=b;Object(fe.j)(p,g,j,null===m||void 0===m?void 0:m.isAvailable,1===O.length&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),N,S);let I={time:"ASAP",interval:null===(o=a.summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"};if(null===he||he.type!==ve||he.store.id!==a.id||he.deliveryAddress!==(null===V||void 0===V||null===(n=V.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress)){let e=await Object(c.A)(a,Object(c.Mb)(ve),ce.customerId,I);se(Object(Se.m)("")),se(Object(Se.f)({data:e,tenantId:ue.tenantId}))}localStorage.setItem("renderComp",!0),Y({type:Q,value:{oldvalue:he,newValue:{type:ve,store:a,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===V||void 0===V||null===(d=V.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(he)),localStorage.setItem("dispositionNew",JSON.stringify({type:ve,store:a,date:I.date,time:I.time,selectedTime:I.selectedTime,interval:I.interval,deliveryAddress:null===V||void 0===V||null===(r=V.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress})),Object(c.vf)();const x={storeID:null===a||void 0===a?void 0:a.id,disposition:ve,postCode:null===a||void 0===a||null===(s=a.addresses[0])||void 0===s||null===(u=s.address)||void 0===u?void 0:u.pinCode};T(x),Y({type:q,value:{showSearchStore:!1}}),Y({type:Z,value:{isLocalized:!0}}),Object(c.ce)(null===le||void 0===le?void 0:le.pathname)&&Object(Ee.a)(null===a||void 0===a||null===(v=a.summary)||void 0===v?void 0:v.name,ve,be),((t,a)=>{var i;let l=Object(c.ad)(t,t,null);Y({type:z,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(l)),Y({type:$,value:l}),se(Object(Ie.a)({...je,localized:!0})),Y({type:J,value:{selectedDateTime:a}}),Y({type:ee,value:{selectContentTime:"ASAP"}}),Y({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ve),localStorage.setItem("storeInfo",JSON.stringify(l)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP");const o=localStorage.getItem(w.gd.SET_LOCATION),n=null===le||void 0===le?void 0:le.pathname;!V.fromPdpPage&&!o&&e.history.push({pathname:"".concat(X),...!Object(c.ce)(n)&&{state:{toastData:{storeName:null===t||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.name,service:ve,showToastAfterLocalization:be}}}})})(a,I)},Ne=(e,t)=>{var a,i,l;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),Y({type:Z,value:{isLocalized:!0}}),Y({type:K,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),Y({type:q,value:{showSearchStore:!1}});const{futureDates:o,scheduled:n={},asap:d}=(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings)||{},{interval:r=0,startEndTime:s={}}=Object(c.hb)(null===n||void 0===n||null===(i=n.periods)||void 0===i?void 0:i.length,null===n||void 0===n||null===(l=n.periods)||void 0===l?void 0:l[0])||{},{from:u,to:v}=s,{unavailibilities:O,unavailibilityType:b}=n;Object(fe.j)(u,v,r,null===d||void 0===d?void 0:d.isAvailable,1===(null===o||void 0===o?void 0:o.length)&&"INDIA"===(null===ue||void 0===ue?void 0:ue.country),O,b),Object(E.k)(),(e=>{let t=Object(c.ad)(e,e,null);Y({type:z,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),Y({type:$,value:t})})(t)},Ae=Object(xe.a)(I),Re=Object(y.jsxs)("div",{className:"store-card ".concat(Object(c.hb)(A,!R)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(A&&R)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(A&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:p})}),Object(y.jsx)("span",{className:"store-distance",children:De(d,ue)})]}),A&&Object(y.jsx)("span",{className:"store-index",children:"".concat(P+1," of ").concat(F)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(_e=ne,!!Object(c.Td)(_e)&&_e.map(((e,t)=>{const{PICK_UP:a,TAKE_AWAY:i}=h.a;return Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:ye,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:e===a?Object(o.translateWithI18Next)(i):e})]},t)})))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(c.ac)(r)}),!A&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>D(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:ie})})]}),Object(y.jsxs)("div",{className:"info-timing ".concat(!s&&"info-timingClosed"),children:[s?"":Object(y.jsx)("span",{children:Object(o.translateWithI18Next)(ae)}),Object(y.jsx)("span",{className:"".concat(!s&&"list-circle"),children:re})]}),Object(y.jsx)("div",{className:"facilities",children:Ae&&Ae.map((e=>Object(y.jsx)(N.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[k?_&&Object(y.jsx)(N.a,{"data-testid":"favorite-img",srcFile:Te,alt:"favorite",className:"favorite-img",onClick:()=>M()})||Object(y.jsx)(N.a,{"data-testid":"unfavorite-img",srcFile:Ce,alt:"favorite",className:"favorite-img",onClick:()=>L()}):"",G&&s&&Object(y.jsx)(x.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(A&&!R?"cardMapView":null),onClickHandler:e=>pe(e,I),children:U}),me&&Object(y.jsx)(x.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(c.hb)(A,!R)?"cardMapView":null),onClickHandler:e=>Ne(e,I),children:B})]})]});var _e;return S!==h.a.COUNTRY_CODE_INDIA||s?Re:null})),Re=a(12),_e=a(4);const{FavoriteUnfillImage:we,FavoriteFillImage:Le,GreenTickImage:Me}=T.a,{BROWSE_MENU:ke,PICK_UP:Pe,TAKE_AWAY:Fe,STORE_STATUS_CLOSED_CAPS:We,STORE_STATUS_CLOSED:He,INDIA:Be}=h.a,Ue=e=>e===Pe?Fe:e,Ge=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ve=Object(ge.j)((e=>{var t,a,i,l,n,d,r,s,O,m,h,p;const{key:S="",storeName:I="",storeDistance:f="",orderTypes:T=[],addresses:D={},storeStatus:A={},onClickMapHandler:R,isMapView:_,isMobile:L,isFavoriteStore:M,addToFavoriteHandler:k,removeFromFavoriteHandler:P,map:F,loggedIn:W,storeInfo:H={},centerIndex:B,storeLength:U,onStoreSelectFinish:G}=e,V=((e,t)=>{var a,i,l,o,n;if((null===e||void 0===e||null===(a=e.timings)||void 0===a||null===(i=a.operatingHours[0])||void 0===i?void 0:i.day)===w.cc)return null===(l=e.timings)||void 0===l||null===(o=l.operatingHours[0])||void 0===o||null===(n=o.availableHours)||void 0===n?void 0:n.from;{var d;const a=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,i=Object(Re.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let l=0,o=[],n=[];var r,s,u,v;return null===a||void 0===a||a.forEach(((e,t)=>{var a;(null===e||void 0===e||null===(a=e.day)||void 0===a?void 0:a.toLowerCase())===i&&(l=t,n.push(e))})),null!==n&&void 0!==n&&n.length&&(null===n||void 0===n||n.forEach((t=>{var a;const i=Object(c.E)(null===e||void 0===e?void 0:e.timeZone,w.sb.HHmm);Object(c.lf)(null===t||void 0===t||null===(a=t.availableHours)||void 0===a?void 0:a.from)>i&&o.push(t)}))),null!==o&&void 0!==o&&o.length?null===(r=o[0])||void 0===r||null===(s=r.availableHours)||void 0===s?void 0:s.from:null===(u=a[l<(null===a||void 0===a?void 0:a.length)-1?l+1:l])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(A,w.Rf),Y=V,K=null===A||void 0===A||null===(t=A.timings)||void 0===t||null===(a=t.scheduled)||void 0===a?void 0:a.unavailibilities,q=null===A||void 0===A||null===(i=A.status)||void 0===i?void 0:i.message,{mapText:z=""}=Object(c.sd)(F),{MENU_URL:J,SEARCH_ORDER_DATA:X,CURRENT_STORE_INFO:Q,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ae,userOrderStateDispatch:ie}=Object(v.useContext)(u.a);let le=Object(b.c)((e=>e.appStateReducer.userStatus));const oe=Object(b.c)((e=>e.tenantReducer)),ne=Object(b.b)(),{futureDates:de,scheduled:re,asap:se}=Object(c.sd)(null===H||void 0===H||null===(l=H.summary)||void 0===l?void 0:l.timings),{unavailibilities:ce,unavailibilityType:ue}=Object(c.sd)(re),{interval:ve=0,startEndTime:Oe={}}=Object(c.sd)((null===re||void 0===re||null===(n=re.periods)||void 0===n?void 0:n.length)&&(null===re||void 0===re?void 0:re.periods[0])),{from:be,to:me}=Object(c.sd)(Oe),{dispositionType:je=localStorage.getItem("dispositionType")}=ae.dispositionStateData,he=Object(c.Sd)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,pe=()=>{var e;return Object(fe.j)(be,me,ve,null===se||void 0===se?void 0:se.isAvailable,1===de.length&&(null===oe||void 0===oe||null===(e=oe.country)||void 0===e?void 0:e.toUpperCase())===Be,ce,ue)},ge=(e,t)=>{var a,i,l,o;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ie({type:$,value:{isLocalized:!0}}),ie({type:X,value:{showSearchStore:!1}}),ie({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:n,scheduled:d,asap:r}=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,{interval:s=0,startEndTime:c={}}=(null===d||void 0===d||null===(i=d.periods)||void 0===i?void 0:i.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=c;Object(fe.j)(u,v,s,null===r||void 0===r?void 0:r.isAvailable,1===n.length&&"INDIA"===(null===oe||void 0===oe?void 0:oe.country),ce,ue),Object(E.k)(),(e=>{let t=e||null;ie({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ie({type:Q,value:t})})(t);const O={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(l=t.addresses[0])||void 0===l||null===(o=l.address)||void 0===o?void 0:o.pinCode};G(O)},Ne=e=>pe().length?"Today":"Tomorrow",Se=Object(xe.a)(H);return Object(y.jsxs)("div",{className:"store-card ".concat(_&&!L?"store-card-map-view":"store-card-mobile-view"),style:Ge(_,L),"data-testid":"closed-card",id:"map-store-card",children:[Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsxs)("div",{className:"store-dist-container ".concat(_&&"map-view"),children:[Object(y.jsx)("div",{className:"store-name-container",children:Object(y.jsx)("span",{className:"card-store-name",children:I})}),Object(y.jsx)("span",{className:"store-distance",children:De(f,oe)})]}),_&&Object(y.jsx)("span",{className:"store-index",children:"".concat(B+1," of ").concat(U)})]}),Object(y.jsxs)("div",{className:"card-content",children:[Object(y.jsx)("div",{className:"order-items",children:(Ee=T,Ee.map(((e,t)=>Object(y.jsxs)("div",{className:"store-order-options",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:Me,alt:"tick",className:"tick-image"})}),Object(y.jsx)("span",{children:Ue(e)})]},t))))}),Object(y.jsxs)("div",{className:"w-100",children:[Object(y.jsx)("span",{className:"store-address",children:Object(c.ac)(D)}),!_&&Object(y.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>R(),children:Object(y.jsx)(g.a,{className:"card-map-link",children:z})})]}),Object(y.jsx)("div",{className:"info-timingClosed",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(c.jb)((null===(d=A.status)||void 0===d?void 0:d.currentStatus)===We,0===(null===A||void 0===A||null===(r=A.timings)||void 0===r||null===(s=r.scheduled)||void 0===s||null===(O=s.periods)||void 0===O?void 0:O.length))?Object(y.jsx)("span",{className:"closed-text",children:He}):""}),Object(y.jsx)("li",{children:(null===K||void 0===K?void 0:K.length)>0&&Object(Re.S)(null===(m=K[0])||void 0===m?void 0:m.to,"HH MM","HH:MM")<=Object(Re.S)(me,"HH MM","HH:MM")?(()=>{var e,t,a,i,l,o;return q===w.Hc?"Open Today ".concat((null===(e=K[0])||void 0===e?void 0:e.from)&&Object(Re.S)(null===(t=K[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):q===w.Ic?"Open ".concat(Ne(null===(a=A.timings)||void 0===a||null===(i=a.scheduled)||void 0===i||i.date)," ").concat(Y&&Object(Re.S)(Y,"hh mm","hh:mm a")):"Open Today ".concat((null===(l=K[0])||void 0===l?void 0:l.to)&&Object(Re.S)(null===(o=K[0])||void 0===o?void 0:o.to,"hh mm","hh:mm a"))})():"Open ".concat(Ne(null===(h=A.timings)||void 0===h||null===(p=h.scheduled)||void 0===p||p.date)," ").concat(Y&&Object(Re.S)(Y,"hh mm","hh:mm a"))})]})}),Object(y.jsx)("div",{className:"facilities",children:Se&&Se.map((e=>Object(y.jsx)(N.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(y.jsxs)("div",{className:"w-100 d-flex mt-2",children:[W&&(M?Object(y.jsx)(N.a,{"data-testid":"favorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>P()}):Object(y.jsx)(N.a,{"data-testid":"unfavorite-img",srcFile:we,alt:"favorite",className:"favorite-img",onClick:()=>k()})),0===pe().length?Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,a;const i={storeID:null===H||void 0===H?void 0:H.id,disposition:null===H||void 0===H?void 0:H.service,postCode:null===H||void 0===H||null===(t=H.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(C.y)(i),Object(c.wf)(H,ie,he,je),ne(Object(Ie.a)({...le,localized:!0})),Object(c.vf)(),ie({type:Z,value:{showDisposition:!1}}),ie({type:X,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(J)})},children:Object(o.translateWithI18Next)(ke)}):Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,H),children:Object(o.translateWithI18Next)(_e.a.SCHEDULE_ORDER_BTN)})]})]})]},S);var Ee})),Ye=a(417),Ke=a(63);const{Error:qe,LocationImage:ze,MapImage:Je,Union:Xe,GoogleMapLocationImage:Qe,SuggestionItemSearchPin:Ze,Time_Clock:$e,SuccessImg:et}=T.a,tt=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",at=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",it=e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0},lt=e=>e?Xe:Je,ot=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var nt=Object(ge.j)((e=>{var t;const{formContent:a={},storeData:i=[],eligibleStoreData:l=[],favoriteStoreData:n=[],userPositionHandler:r,singInClickhandler:m,currentMarket:T,storeCardLimit:D=1/0,onStoreSelectFinish:A,handleGoBack:R,noStoresList:L,favoriteStoreHandler:M}=e,{memberText:P="",singInLink:F={},currentLocationText:W="",addressBoxPlaceHolderForSearchStore:H="",mapText:B=""}=a,{MIN_SEARCH_CHARACTER_LIMIT:U,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:V,ALREADY_SERACHED_LOCATIONS:Y,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:z,BRAND_BLACK:J,STORE_STATUS_OPEN:X,LIST_TEXT:Q,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ae,CTA2_ORDER_TAKEAWAY:ie,TAKEAWAY_UNAVAILABLE_WITH_CTA:le,DINE_IN_SERVICE:oe,DINE_IN:ne,TYPE_DELIVERY:de,TAKE_AWAY:re}=h.a,{DISPOSITION_METHOD:se}=j.a,{MENU_URL:ce,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:Oe,DISPOSITION_DATA:be,INDIA:me}=j.a,{userOrderState:je}=O.a.useContext(u.a),{searchStoreData:he={},dispositionStateData:pe={},scheduleOrderData:ge={}}=je,{dispositionType:Se=localStorage.getItem("dispositionType")}=pe,[Ie,xe]=O.a.useState(""),[Ee,Ce]=Object(v.useState)({}),[Te,ye]=Object(v.useState)({}),[De,Re]=Object(v.useState)(!1),[_e,we]=Object(v.useState)(!1),[Le,Me]=O.a.useState([]),[ke,Pe]=O.a.useState(!1),[Fe,We]=Object(v.useState)(null),[He,Be]=Object(v.useState)(Object(c.de)(window.innerWidth));let Ue=0;const[Ge,Je]=Object(v.useState)(0),[Xe,tt]=Object(v.useState)(""),[nt,st]=O.a.useState(!1),[ct,ut]=O.a.useState([]),[vt,Ot]=O.a.useState([]),{userOrderStateDispatch:bt}=Object(v.useContext)(u.a);let mt,jt=0;const ht=Object(b.b)(),pt=Object(b.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:Nt=!1}}},postalcodeRemoveRegex:St=null,specialCharRemoveRegex:It=null}=pt||{};let xt=0;const[ft,Et]=O.a.useState(!1),Ct=Object(b.c)((e=>e.appStateReducer)),{isLoading:Tt}=Object(b.c)((e=>Object(c.sd)(e.LoaderReducer))),{userStatus:yt={}}=Ct,{loggedIn:Dt=!1}=yt,[At,Rt]=O.a.useState([]),[_t,wt]=O.a.useState(!0),{customerId:Lt}=Ke.a.getInstance(),[Mt,kt]=Object(v.useState)(325),[Pt,Ft]=Object(v.useState)(!1),Wt=()=>{const e=Object(c.de)(window.innerWidth);Be(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Wt),()=>{window.removeEventListener("resize",Wt)})),[He]),Object(v.useEffect)((()=>(window.addEventListener("keydown",ot),()=>{window.removeEventListener("keydown",ot)})));const Ht=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ht&&Mt!==Ht&&kt(Ht)}),[Ht]);const Bt=async e=>{const t=await Object(S.geocodeByAddress)(e),a=await Object(S.getLatLng)(t[0]);Ce(a),ye(a),Ue=0,Vt(e),xe(e),r({userLat:a.lat,userLong:a.lng}),Pe(!1);const i=Boolean(Object(c.hb)(Object(c.qd)(Ie,e),Object(c.hb)(0===Ue,0===jt)));st(i)},Ut=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),bt({type:Oe,value:null}),bt({type:be,value:{showDisposition:!1}}),bt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ce)})},Gt=(e,t,a)=>Object(y.jsx)("div",{className:"store-card",children:Se.toUpperCase()===Z?Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(x.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Kt,children:Object(o.translateWithI18Next)(a)})]}):Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:e()}),Object(y.jsx)(x.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Kt,children:Object(o.translateWithI18Next)(a)}),Object(y.jsx)(x.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),bt({type:se,value:{dispositionType:re}}),Bt(Ie)})(e),children:Object(o.translateWithI18Next)(ie)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===he||void 0===he||!he.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");xe(e),Bt(e)}}else Bt(he.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(Ie){let e=l.filter(it);if(e.length>0){let t=e.filter((e=>{var t,a,i,l,o,n;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===X&&(null===(i=e.summary)||void 0===i||null===(l=i.timings)||void 0===l||null===(o=l.scheduled)||void 0===o||null===(n=o.periods)||void 0===n?void 0:n.length)>0}));if(t.length>=D){let e=t.slice(0,D);Me(e)}else if(t.length<D){let a=D-t.length,i=e.filter((e=>{var t,a,i,l,o,n;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(l=i.timings)||void 0===l||null===(o=l.scheduled)||void 0===o||null===(n=o.periods)||void 0===n?void 0:n.length)})).slice(0,a),l=t.concat(i);Me(l)}}else Ue=0,Me([])}else Me([]),Rt([]),ut([]),st(!1)}),[l,Ie]),Object(v.useEffect)((()=>{if(l.length>0){M({userLat:Te.lat,userLong:Te.lng});const e=n.sort(((e,t)=>Object(E.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));Rt(t)}}),[l,n.length]),Object(v.useEffect)((()=>{if(ke){const e=Nt?ve(Xe,St,It):Xe;xe(e),Vt(Xe),Pe(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==Ie&&(Me([]),ut([]),We(""),Rt([]));let e=Object(c.d)(Ie,U);Ft(e)}),[he,Ie,ke,Xe]);const Vt=e=>{Object(c.ze)(e,Y)},Yt=e=>{return t=e,Object(c.rd)(JSON.parse(localStorage.getItem(Y))).includes(t);var t},Kt=()=>{xe(""),Rt([]),Me([]),ut([]),st(!1),We(""),Re(!1)},qt=Object(v.useCallback)((async()=>{const e=await Promise.all(Le.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[Le]),zt=Object(v.useCallback)((async()=>{const e=await Promise.all(At.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ce(e)}),[At]),Jt=()=>{Object(E.i)(De,Se),Re(!De),we(!De)},Xt=(e,t)=>{We(e),Je(t)},Qt=()=>{qt(),we(!0),We(Object(c.sd)(Le[Ge]))},Zt=async()=>{await zt(),we(!0),We(Object(c.sd)(At[Ge]))};Object(v.useEffect)((()=>{((e,t,a,i)=>{let{TYPE_TAKE_WAY:l,DINE_IN:o,dispositionType:n,callSelectedStore:d,callSelectedFavStore:r}=i;e?t.length&&[l,o].indexOf(n.toUpperCase())>-1&&d():a.length&&[l,o].indexOf(n.toUpperCase())>-1&&r()})(_t,Le,At,{TYPE_TAKE_WAY:Z,DINE_IN:ne,dispositionType:Se,callSelectedStore:Qt,callSelectedFavStore:Zt});let e=Le.filter((e=>{var t,a,i,l,o,n;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(l=i.timings)||void 0===l||null===(o=l.scheduled)||void 0===o||null===(n=o.periods)||void 0===n?void 0:n.length)})),t=Le.filter((e=>{var t,a,i,l,o,n,d,r,s;const c="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(o=l.status)||void 0===o||null===(n=o.message)||void 0===n?void 0:n.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:O,scheduled:b,asap:m}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:h}=b,{interval:p=0,startEndTime:g={}}=b&&(null===b||void 0===b||null===(r=b.periods)||void 0===r?void 0:r.length)&&(null===b||void 0===b?void 0:b.periods[0]),{from:N,to:S}=g,I=Object(fe.j)(N,S,p,null===m||void 0===m?void 0:m.isAvailable,1===O.length&&(null===pt||void 0===pt||null===(s=pt.country)||void 0===s?void 0:s.toUpperCase())===me,j,h);return(!I||0===I.length)&&c&&(u||v)}));ut(e),Ot(t)}),[Le,Ge,Fe,L,ne,$,Z,Se,qt,_t,At]);const $t=e=>{We("");let t=e?Ge+1:Ge-1;Je(t),((e,t,a,i,l)=>{t(!0===e?Object(c.sd)(a[l]):null===i||void 0===i?void 0:i[l])})(_t,We,Le,At,t)},ea=e=>{wt(e)},ta=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},aa=e=>{ta(),ht(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Lt,dispatch:"dispatch"})),Et(!0)},ia=e=>{ta(),ht(Object(d.x)({tenantId:gt,customerId:Lt,storeId:Object(c.sd)(e.id),dispatch:"dispatch"})),Et(!1)};Object(v.useEffect)((()=>{ft&&Ne.b.dark(Object(y.jsxs)("div",{className:"img-text-div",children:[Object(y.jsx)(N.a,{"data-testid":"",srcFile:et,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ne.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[n.length]),Object(v.useEffect)((()=>{0!==Ue||0!==jt||!nt||L||Tt||(Se.toUpperCase()===Z?Object(c.Ob)(Object(o.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(o.translateWithI18Next)(le)):Object(c.Ob)(Object(o.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(o.translateWithI18Next)(ae)))}),[Ue,jt,nt,L,Tt]);const la=(e,t)=>{var a,l,o,n;const d=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(l=a.status)||void 0===l?void 0:l.currentStatus)===X,r=e.availableServicesPerChannel&&Object(E.g)(e.availableServicesPerChannel),{services:s=[]}=r[0],u="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(O.a.Fragment,{children:d?Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:T,isOpen:d,isMapView:!0,onStoreSelectFinish:A,isMobile:He,centerIndex:Ge,storeLength:Object(c.ad)(_t,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},t):Object(y.jsx)(Ve,{orderTypes:s,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.qd)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:A,isMobile:He,isMapView:!0,storeInfo:e,mapText:B,onClick:()=>{Jt(),qt()},...i[0],onPositionChangeHandler:$t,centerIndex:Ge,storeLength:Object(c.ad)(_t,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},u)})},oa=At.map(((e,t)=>{var a,l,o,n;if((null===(a=e.summary)||void 0===a||null===(l=a.status)||void 0===l?void 0:l.currentStatus)===X){var d,r;const a=(null===(d=e.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===X;return a&&xt++,Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:T,isOpen:a,onStoreSelectFinish:A,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}if((null===(o=e.summary)||void 0===o||null===(n=o.status)||void 0===n?void 0:n.currentStatus)===$){xt++;const a=e.availableServicesPerChannel&&Object(E.g)(e.availableServicesPerChannel),{services:l=[]}=a[0],o="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance.value),orderTypes:l,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},o)})}})),na=Le.map(((e,t)=>{var a,l,o,d;if(Ie||Me([]),Ue>=D||0===(null===(a=e.summary)||void 0===a||null===(l=a.timings)||void 0===l||null===(o=l.scheduled)||void 0===o||null===(d=o.periods)||void 0===d?void 0:d.length))return null;{var r,s;const a=(null===(r=e.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus)===X;return a&&Ue++,Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(Ae,{"data-testid":t,storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:T,isOpen:a,onStoreSelectFinish:A,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,t),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}})),da=()=>{let e=-1!==Se.toLowerCase().indexOf("dine")?oe:Se;if(mt=Object(E.a)(e,l),mt)return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(_,{errorMsgToShow:mt,onClearTextHandler:Kt,dispositionType:Se,handleGoBack:R})})},ra=()=>{if(Le.length===vt.length&&vt.length>0){let e=-1!==Se.toLowerCase().indexOf("dine")?oe:Se,t=Object(E.a)(e,l);return Object(c.Ob)(Object(o.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(o.translateWithI18Next)(t)),da()}if(Le.length===ct.length&&ct.length)return sa;{let e=-1!==Se.toLowerCase().indexOf("dine")?oe:Se;return Le.length&&(mt=Object(E.a)(e,Le),mt)?da():(Ue<5&&na.push(sa),na)}},sa=ct.map(((e,t)=>{const a=e.availableServicesPerChannel&&Object(E.g)(e.availableServicesPerChannel),{services:l=[]}=Object(c.rd)(a[0]);if(Ie||Me([]),jt>=D-Ue)return null;{jt++;const a="".concat(e.name[0].value,"_").concat(t),o=Le.findIndex((t=>t.id===e.id));return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:l,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,loggedIn:Dt,onClickMapHandler:()=>{Xt(e,o),Jt()},isFavoriteStore:n.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:A,storeInfo:e,...i[0]},a)})}})),ca=()=>{switch(Se.split("-").join(" ").toUpperCase()){case Z:return Object(o.translateWithI18Next)(le);case ne:return Object(o.translateWithI18Next)(ae);default:return null}},ua=()=>{Je(0),Jt(),((e,t,a)=>{!0===e?t():a()})(_t,qt,zt)};return Object(y.jsxs)(O.a.Fragment,{children:[Object(y.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"store-count",children:[Object(y.jsx)("span",{className:"member-signin",children:!Dt&&Object(y.jsxs)("div",{"data-id":w.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(o.translateWithI18Next)(P),Object(y.jsx)("span",{onClick:m,children:Object(y.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(o.translateWithI18Next)(F.linkText)})})]})}),Object(y.jsx)("span",{children:Object(y.jsxs)(g.a,{onClickHandler:async()=>{if(Object(C.o)(),await s.b.BindLocation(),Object(E.m)(),s.b.coordinates){const{latitude:e,longitude:t}=s.b.coordinates;s.b.addFeedback("Check coordinates ".concat(JSON.stringify(s.b.coordinates))),s.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),s.b.addFeedback("Check address ".concat(s.b.address)),Ue=0,Ce({lat:e,lng:t}),Re(!1),r({userLat:e,userLong:t}),st(!0),xe(s.b.address),tt(s.b.address),Pe(!0)}Object(k.s)(bt,!s.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(y.jsx)(N.a,{"data-testid":"",srcFile:ze,alt:"location",className:"location-img"}),Object(o.translateWithI18Next)(W)]})})]}),Object(y.jsx)("div",{className:"search-address",children:Object(y.jsx)("div",{className:"input-address",children:Object(y.jsx)(I.a,{"data-testid":"handle-select",value:Ie,onChange:e=>{e||Kt(),xe(e),Object(c.pc)(e)<3&&Ft(!1)},onSelect:Bt,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:l}=e;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"".concat(mt||0===Ue&&0===jt&&nt&&L&&!Le.length?"search-container-data error-border":"search-container-data"),children:[Object(y.jsx)(N.a,{"data-testid":"",srcFile:Qe,alt:"googleMapLocation",className:"google-location-img"}),Object(y.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(o.translateWithI18Next)(H)})}),Ie&&Object(y.jsx)("img",{"data-testid":"clear-text-icon",src:Ye.a,className:"clearTextIcon",onClick:()=>Kt(),alt:"Clear Text Icon"})]}),!!Object(c.hb)(Object(c.pc)(a),Pt)&&Object(y.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:a.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>V.includes(e)))){const a=e.active?{backgroundColor:q,opacity:z}:{backgroundColor:J};return Object(y.jsxs)(O.a.Fragment,{children:[0===t&&Object(y.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(o.translateWithI18Next)(G)}),Object(y.jsx)("div",{style:a,children:Object(y.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...i(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(y.jsxs)("div",{className:"suggested-address-alignment",children:[Object(y.jsx)("div",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:Yt(e.description)?$e:Ze,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(y.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(y.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),dt(Ie,De,Q,Jt,qt),Object(y.jsxs)("form",{className:"form",children:[Object(y.jsxs)("div",{className:"store-count",children:[!!Ue&&Object(y.jsx)("span",{"data-testid":"tab-open-store",className:at(Dt,_t),onClick:()=>{Je(0),ea(!0)},children:Dt?Object(y.jsxs)("span",{children:[" ","".concat(Object(o.translateWithI18Next)("nearYou"))," (",Ue+jt,")"]}):Object(y.jsxs)("span",{children:[Ue+jt," ","".concat(Object(o.translateWithI18Next)("nearYou"))]})}),!!jt&&Le.length===ct.length&&Le.length!==vt.length&&Object(y.jsx)("span",{"data-testid":"tab-closed-store",className:at(Dt,_t),onClick:()=>{Je(0),ea(!0)},children:"".concat(Object(o.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Ue&&0===jt&&nt&&L&&Object(y.jsx)("span",{className:"store-count-title",children:"".concat(Object(o.translateWithI18Next)("nearYou")," (").concat(Ue,")")}),rt(Ue,jt,Dt,xt,{firstTab:_t,setCenterIndex:Je,handleTabChange:ea}),(!!Ue||!!jt)&&Le.length!==vt.length&&Object(y.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ua()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:lt(De),alt:"map",className:"map-img"})}),De?Object(o.translateWithI18Next)(Q):B]})}),0===Ue&&0===jt&&nt&&L&&Object(y.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ua()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:lt(De),alt:"map",className:"map-img"})}),De?Object(o.translateWithI18Next)(Q):Object(o.translateWithI18Next)(B)]})})]}),De?Object(y.jsx)("div",{className:"order-button-section",children:0===Ue&&0===jt&&nt&&L&&Object(y.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(y.jsxs)("div",{className:"no-store",children:[Object(y.jsx)("div",{className:"no-store-icon",children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:qe,alt:"no store"})}),Object(y.jsx)("div",{className:"no-store-text",children:ca()}),Object(y.jsx)(x.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Ut,children:Object(o.translateWithI18Next)(ee)})]})})}):Object(y.jsxs)(y.Fragment,{children:[Object(c.hb)(!Tt,Object(c.hb)(_t,0!==Ue||0!==jt||!nt||L||Le.length?ra():Gt(ca,Ut,te))),Dt&&!_t&&Object(y.jsx)("div",{className:"order-button-section",children:oa})]}),Object(y.jsx)("div",{className:"clearfix"})]})]}),De&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"".concat((null===Se||void 0===Se?void 0:Se.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{latLongValue:Ee,loadingElement:Object(y.jsx)("div",{style:{height:"100%"}}),containerElement:Object(y.jsx)("div",{style:{height:"400px"}}),mapElement:Object(y.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{xe(e)},isVisible:Se.toUpperCase()===Z||Se.toUpperCase()===ne,isMobile:He,centerIndex:Ge,onPositionChangeHandler:$t,setShowCard:we,setStoreMarker:Object(c.ad)(_t,(e=>{const t=Le.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Ge===t&&Qt(),Je(t))}),(e=>{((e,t,a,i,l)=>{const o=e.findIndex((e=>e.location.latitude===i.lat()&&e.location.longitude===i.lng()));o>-1&&(l===o&&t(),a(o))})(At,Zt,Je,e,Ge)})),storeCardHeight:Mt}),_e&&Fe&&He?!mt&&la(Fe,"Selected-Card"):null]}),_e&&Fe&&!He?Object(c.hb)(Le.length===ct.length,_t)&&!mt&&((e,t)=>{const a=e.availableServicesPerChannel&&Object(E.g)(e.availableServicesPerChannel),{services:l=[]}=Object(c.rd)(a[0]),o="".concat(e.name[0].value,"_").concat(t);return Object(y.jsx)(O.a.Fragment,{children:Object(y.jsx)(Ve,{storeName:Object(c.ud)(e.name[0].value),storeDistance:Object(c.ud)(e.distance),orderTypes:l,addresses:e.addresses,storeStatus:e.summary,mapText:B,isMobile:He,isMapView:!0,onStoreSelectFinish:A,onClick:()=>{Jt(),qt()},storeInfo:e,...i[0],centerIndex:Ge,storeLength:Object(c.ad)(_t,null===Le||void 0===Le?void 0:Le.length,null===At||void 0===At?void 0:At.length)},o)})})(Fe,"Selected-Card")||la(Fe,"Selected-Card"):""]})})]})}));function dt(e,t,a,i,l){return Object(y.jsx)(y.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(y.jsxs)("div",{className:"enter-your-address-section",children:[Object(y.jsx)("span",{className:"search-store-text",children:Object(o.translateWithI18Next)("pleaseEnterLocation")}),Object(y.jsx)("div",{"data-testid":"show-list-map",className:Object(c.ad)(t,"store-count","show-map-div"),onClick:()=>{t&&i(),l()},children:Object(y.jsxs)(g.a,{className:"map-link",children:[Object(y.jsx)("span",{children:Object(y.jsx)(N.a,{"data-testid":"",srcFile:lt(t),alt:"map",className:"map-img"})}),Object(c.ad)(t,Object(o.translateWithI18Next)(a),Object(o.translateWithI18Next)("map"))]})})]})})}function rt(e,t,a,i,l){let{firstTab:n,setCenterIndex:d,handleTabChange:r}=l;return Object(y.jsx)(y.Fragment,{children:(!!e||!!t)&&a&&Object(y.jsx)("span",{"data-testid":"tab-favorite-store",className:tt(n),onClick:()=>{d(0),r(!1)},children:"".concat(Object(o.translateWithI18Next)("savedkfc")," (").concat(i,")")})})}var st=a(1154),ct=a(86),ut=a(1117),vt=a(133);const Ot=e=>{var t;const{contentData:a={},onStoreSelectFinish:p}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:N,ANALYTICS_LOCALISATION_SIGNIN:S}=j.a,I=Object(b.b)(),{COUNTRY_CODE:x,STORE_CARD_LIMIT:f,TYPE_TAKE_WAY:C,PICK_UP:D,TENANT_ID:A,TENATNT_SESSION_ID:R,TYPE_DELIVERY:_}=h.a,{userOrderState:L,userOrderStateDispatch:M}=Object(v.useContext)(u.a),{dispositionStateData:P,searchStoreData:F,showLocationConfirmModal:W}=L,{dispositionType:H=localStorage.getItem("dispositionType")}=Object(c.ud)(P),{currentMarket:B=x,storeCardLimit:U=f,storeStatusUrl:G="".concat(Object(l.a)(i.Sb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:V=A,tenantSessionID:Y=R}=F,{searchStoreHeaderText:K="",deliveryHeaderText:q="",searchStoreModalContent:z={}}=a,{formContent:J={},locationsContent:{storeData:X=[]}}=z,[Q,Z]=O.a.useState([]),[$,ee]=O.a.useState({}),[te,ae]=O.a.useState([]),[ie,le]=O.a.useState([]),{storeSearch:oe={},tenantId:ne,componentOptions:de}=Object(b.c)((e=>Object(c.sd)(e.tenantReducer))),{storesWithStatus:re=[],isStoreStatusLoading:se=!1}=Object(b.c)((e=>Object(c.sd)(e.storesReducer))),{allStores:ce=[]}=Object(b.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:be,maxPickupDistanceMtrs:me,geohashprecision:je,boundingBoxSizeMeters:he,isDriveTimeFromAdminPortal:ge}=oe,Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),M({type:N,value:{showDisposition:!1}}),M({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ne(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Se=e=>{e.stopPropagation(),e.preventDefault(),M({type:N,value:{showDisposition:!0}}),M({type:g,value:{showSearchStore:!1}})},Ie=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(S,JSON.stringify(!0)),Object(E.j)(),setTimeout((()=>{Object(ct.c)()}),500)},xe=Object(b.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(k.f)(M,W)}),[]),Object(v.useEffect)((()=>{fe({userLat:$.userLat,userLong:$.userLong})}),[xe.length]),Object(v.useEffect)((()=>{ce.length>0&&De(ce)}),[ce]),Object(v.useEffect)((()=>{re.length>0&&Me(re)}),[re]),Object(v.useEffect)((()=>{(null===H||void 0===H?void 0:H.toUpperCase())===_&&Ae(ie)}),[ie]);const fe=e=>{Object(st.a)(e.userLat,e.userLong,xe,Ee)},Ee=(e,t)=>{const a=Object(c.ad)((null===H||void 0===H?void 0:H.toUpperCase())===C,D,H),i=G.replace("{channel}",s.b.channel).replace("{service}",a).replace(" ","-"),l=Object(m.a)();Object(E.h)(e,i.toLowerCase(),V,Y||Object(m.a)(),l,Ce)},Ce=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:a,amenities:i,dname:l,id:o,location:n}=e.storeBasic;return{...e,id:o,location:n,name:l,amenities:i,addresses:a,additionalAttributes:t,storeBasic:{}}}));ae(t)},Te=e=>{I(Object(n.b)()),ee({userLat:e.userLat,userLong:e.userLong}),Q&&Z([]),ye(e.userLat,e.userLong),setTimeout((()=>{I(Object(n.a)())}),2e3)},ye=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:he/1e3,geohashprecision:je},i=r.a.calculateGH(a);I(Object(d.v)(null===i||void 0===i?void 0:i.length))},De=e=>{const t=Object(c.Mb)(H.toUpperCase()),a=e.filter((e=>{var t,a;return Object(c.qe)(e.id)&&Object(c.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(c.qe)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),i={stores:a,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(c.ad)(H.toUpperCase()===_,be,me),noOfStores:Object(c.ad)(H.toUpperCase()===_,2,a.length),channel:s.b.channel},l=r.a.checkAndProceed(i);le(l),H.toUpperCase()===_?Ae(l):Le(l,t)},Ae=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,i;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(st.b)(t,[{lat:$.userLat,lng:$.userLong}],Re)},Re=e=>{let{allStoreDistance:t,originAddressText:a}=e;const i=Object(c.Mb)(H.toUpperCase()),l={stores:we(t,ie),numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:s.b.channel,isDriveTimeFromAdminPortal:ge},o=r.a.getSortedNearbyStores(l);(null===o||void 0===o?void 0:o.length)>0&&Le(o,i)},we=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),Le=(e,t)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:s.b.channel,service:t}))),store:e,tenantId:ne,setStatusFlag:!1,isFavoritePage:!1};I(Object(d.d)(a,null))},Me=e=>{let t=e.filter((e=>{var t,a,i,l,o,n,d,r,s,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(n=o.menu)||void 0===n||null===(d=n.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));const a=Object(c.Mb)(H.toUpperCase());if(ge&&H.toUpperCase()===_){const e={stores:t,numberOfStores:2,disposition:a,distanceMetrics:ve,driveTime:ue,channel:s.b.channel,isDriveTimeFromAdminPortal:ge},i=r.a.getSortedNearbyStores(e);t=(null===i||void 0===i?void 0:i.length)>0?i:[]}Z(t)},ke=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Pe}=w.gd,{configSearchScreen:Fe=localStorage.getItem(Pe)}=F,We="".concat(null===H||void 0===H?void 0:H.toUpperCase(),"_").concat(Fe),{shouldShowLocationLink:He}={...null===vt.d||void 0===vt.d?void 0:vt.d[We],...null===ke||void 0===ke?void 0:ke[We]},{Error_Yellow:Be}=T.a||{},{LOCATION_BLOCKED_ERROR:Ue,KFC_URL:Ge}=_e.a,Ve=Object(c.Je)(W,He),Ye=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ut.a,{show:Ve,errorMsg:Object(k.G)(Ue,Ge),errImage:Be,cssClass:"location-blocked"}),(null===H||void 0===H?void 0:H.toUpperCase())===_?Object(y.jsx)(Oe,{singInClickhandler:Ie,formContent:J,storeData:X,onStoreSelectFinish:p,eligibleStoreData:Q,storeCardLimit:U,userPositionHandler:Te,currentMarket:B}):Object(y.jsx)(nt,{singInClickhandler:Ie,formContent:J,storeData:X,eligibleStoreData:Q,noStoresList:se,storeCardLimit:U,userPositionHandler:Te,currentMarket:B,onStoreSelectFinish:p,handleGoBack:Se,favoriteStoreData:te,favoriteStoreHandler:fe})]});return Object(y.jsx)(pe,{handleClose:Ne,orderModeTypeItem:Ye,showLocationError:Ve,headerText:Object(c.ad)((null===H||void 0===H?void 0:H.toUpperCase())===_,Object(o.translateWithI18Next)(q),Object(o.translateWithI18Next)(K)),handleGoBack:Se,modalTitleId:"search-store"})};Ot.defaultProps=p.a;t.default=Ot},964:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleOrder",(function(){return O}));var i=a(3),l=a.n(i),o=a(1143),n=a(144),d=a(2);var r=e=>{const{handleClose:t,ScheduleOrderForm:a,headerText:i,modalTitleId:o="",handleGoBack:r}=e;return Object(d.jsx)(l.a.Fragment,{children:Object(d.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:o,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:a})})},s=a(85),c=a(16),u=a(6),v=a(4);const O=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:a,userOrderStateDispatch:l}=Object(i.useContext)(s.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:O}=c.a,{scheduleOrderData:b}=a,{changeFlow:m=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),l({type:O,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),l({type:n,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const h=Object(d.jsx)(o.a,{onStoreSelectFinish:t});return Object(d.jsx)(r,{handleGoBack:()=>{l({type:n,value:{showSearchStore:!0}}),l({type:O,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:h,modalTitleId:"schedule-order",headerText:m?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=O},968:function(e,t,a){"use strict";a.r(t),a.d(t,"addressTitle",(function(){return ue})),a.d(t,"DeliveryAddressSearchFormModule",(function(){return ve}));var i=a(3),l=a.n(i),o=a(28),n=a(267),d=a(0),r=a(85),s=a(16),c=a(6),u=a(331),v=a(1185),O=a(73),b=a(66),m=a(5),j=a(415),h=a(399);const p=e=>{let{localizationData:t={},address:a={}}=e;const{chome:i="",cityTown:l="",postalCode:o="",prefecture:n=""}=a;return{chome:null===i||void 0===i?void 0:i.replace(/\s+/g,""),cityTown:l,localizationData:t,postalCode:null===o||void 0===o?void 0:o.replace("-",""),prefecture:null===n||void 0===n?void 0:n.replace(/\s+/g,"")}},g=e=>{let{chome:t="",cityTown:a="",localizationData:i={},prefecture:l=""}=e;const{[l]:{[a]:o}={}}=i;return(Object(m.mf)(o)||{})[t]},N=e=>{let{chome:t="",localizationData:a={},postalCode:i=""}=e;const{[i]:l={}}=a;return Object(m.mf)(l)[t]};var S=a(17),I=a(269),x=a(328),f=a(20),E=a.n(f),C=a(63),T=a(4),y=a(2);const D=e=>{const{loggedIn:t=!1,formContent:a={},storeSelection:i}=e,{signInLink:l}=i,{memberText:o="",singInLink:n={}}=a;return Object(y.jsx)("div",{className:"login-section",children:l&&Object(y.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(h.g)(o,h.h,n)})})},A=l.a.memo(D);var R=a(1147);const _=e=>{const{defaultSelectedTabIndex:t,onTabSelection:a,tabsList:l}=e,[o,n]=Object(i.useState)(t);return Object(y.jsx)("div",{className:"toggle-tabs",children:l.map(((e,t)=>Object(y.jsx)("div",{className:"toggle-tabs-container",children:Object(y.jsx)("button",{className:"toggle-tabs-button ".concat(t===o?"selected":""),"aria-pressed":t===o,onClick:()=>(e=>{e!==o&&(n(e),a(e))})(t),children:Object(y.jsx)("span",{className:"toggle-tabs-button-text",children:Object(c.translateWithI18Next)(e.title)})})},e.id)))})};_.defaultProps={defaultSelectedTabIndex:0,onTabSelection:()=>null,tabsList:[]};var w=_,L=a(15);const{SearchIconGrey:M,SingleArrow:k,WhiteCloseButton:P}=L.a,F=e=>{const{cssClass:t,dropdownId:a,dropdownList:l,dropdownTitleText:o,enableSearch:d,onDropdownSelection:r,selectedText:s}=e,[u,v]=Object(i.useState)(l),[O,b]=Object(i.useState)(!1),[m,j]=Object(i.useState)(!1),[h,p]=Object(i.useState)(""),g=Object(i.useRef)(),N=Object(i.useCallback)((e=>{e&&e.focus()}),[]);Object(i.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const S=e=>{var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const a=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"";p(a),(e=>{const t=e.toLowerCase();let a=l;t&&(a=null===l||void 0===l?void 0:l.filter((e=>-1!==e.toLowerCase().indexOf(t)))),v(a)})(a)},I=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),p(""),v(l)},x=e=>{j(e)},f=()=>{b(!O),I()};return Object(y.jsxs)("div",{className:"searchable-dropdown ".concat(t),ref:g,children:[o&&Object(y.jsx)("div",{className:"searchable-dropdown-title","aria-level":"1",role:"heading",children:s!==o||O?o:""}),Object(y.jsxs)("div",{id:a,className:"searchable-dropdown-value","data-testid":"searchable-dropdown-value-id",role:"listbox",tabIndex:"0",onClick:f,children:[Object(y.jsx)("div",{className:"selected-value",children:s===o&&O?"":s}),Object(y.jsx)("img",{src:k,alt:" ",className:"down-arrow-img ".concat(O?"dropdown-open":"")})]}),O&&Object(y.jsxs)("div",{className:"searchable-dropdown-options-container",children:[d&&Object(y.jsx)("div",{className:"searchable-dropdown-form-container",children:Object(y.jsxs)("form",{className:"searchable-dropdown-form",children:[Object(y.jsx)("img",{src:M,alt:" ",className:"search-icon"}),Object(y.jsx)("input",{className:"searchable-dropdown-input","data-testid":"searchable-dropdown-search-input",type:"text",ref:N,placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),value:h,onChange:e=>S(e),onKeyDown:e=>(e=>{var t;"Enter"===e.key||13===e.keyCode?(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||null===(t=e.target)||void 0===t||t.blur()):"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),f())})(e),onFocus:()=>x(!0),onBlur:()=>x(!1)}),(m||h)&&Object(y.jsx)("button",{className:"clear-text","data-testid":"searchable-dropdown-clear-text",onClick:e=>I(e),children:Object(y.jsx)("img",{src:P,alt:" ",className:"search-icon"})})]})}),Object(y.jsx)("ul",{children:null===u||void 0===u?void 0:u.map((e=>Object(y.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),b(!O),r(t),I()})(t,e),className:"searchable-dropdown-option","data-testid":"searchable-dropdown-option-id",children:e},e)))})]})]})};F.defaultProps={cssClass:"",dropdownId:"",dropdownList:[],dropdownTitleText:"",enableSearch:!1,onDropdownSelection:()=>null,selectedText:""};var W=F,H=a(1172);const B=e=>{const{defaultPostalValue:t,verifyPostalCode:a}=e,[l,o]=Object(i.useState)(t),d=Object(i.useRef)(null);Object(i.useEffect)((()=>{t&&o(t)}),[t]),Object(i.useEffect)((()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.focus()}),[]);return Object(y.jsx)("div",{className:"delivery-address-section search-store-postal-content",children:Object(y.jsx)(H.a,{maxLength:8,onClearTextHandler:()=>{a(!1,""),o("")},placeholder:Object(c.translateWithI18Next)(n.b.SEARCH),address:l,inputOnChange:e=>{let t=e.replace(/[^\d ]+/g,"");t=t.length>3?t.replace(/(.{3})/,"$1-"):t;const i=t.length>=8;o(t),a(i,t)},inputRef:d})})};B.defaultProps={defaultPostalValue:"",verifyPostalCode:()=>null};var U=B,G=a(122),V=a(46),Y=a(41),K=a(1186),q=a(80),z=a(132);const{DISPOSITION_METHOD:J}=s.a,{CONFIRM_LOCATION:X,DELIVERY_SEARCH_TYPE:Q,NO_STORE_WITH_DELIVERY:Z,OTHER_DELIVERY_SERVICES:$,SEARCH_DELIVERY_LOCATION:ee,SPECIAL_NOTES:te,STORES_VARY_MESSAGE:ae,SWITCH_TO_TAKE_AWAY:ie,POSTAL_CODES:le,PREFECTURES:oe}=n.b;var ne=e=>{var t;const{changeFlow:a,deliveryLocalizationData:l,formContent:s,getStoreData:u,deliverySearchType:v,onDeliveryTypeChanged:f,isDeliveryLocalizationLoading:D,storesStatusError:_,saveAddressData:L,selectedAddress:M,setSelectedAddress:k,prefectureAddressScreen:P,addressName:F,isPrimaryAddress:H,closeModal:B,modalType:te,address:ne,isAccount:de,addressNameExist:re=!1,updateSetOrderDetails:se,isAddressFromOrderProcessing:ce}=e,ue=P?d.a:"",ve=Object(o.c)((e=>e.appStateReducer.userStatus)),{postalCodePrefix:Oe,tenantId:be="",scheduleOrderDateFormat:me,fieldAddressMaxLengthFlag:je}=Object(o.c)((e=>e.tenantReducer||{})),{headerData:{footer:he={}}={}}=Object(o.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),pe=Object(m.Yb)(he),{loggedIn:ge}=Object(m.sd)(ve),{userOrderState:Ne,userOrderStateDispatch:Se}=Object(i.useContext)(r.a),Ie=Object(o.b)(),[xe,fe]=Object(i.useState)(!1),[Ee,Ce]=Object(i.useState)(0),[Te,ye]=Object(i.useState)(!1),[De,Ae]=Object(i.useState)(!1),[Re,_e]=Object(i.useState)(0),[we,Le]=Object(i.useState)(M),Me=Object(h.c)(),ke=null===v||void 0===v?void 0:v.id,Pe=null!==ne&&void 0!==ne&&ne.pinCode?null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE:null===n.b||void 0===n.b?void 0:n.b.ADDRESS,Fe=ne?Pe:null===n.b||void 0===n.b?void 0:n.b.POSTAL_CODE,We=Math.max(0,Me.findIndex((e=>e.id===Fe))),[He,Be]=Object(i.useState)(!1),Ue=Object(h.d)(),[Ge,Ve]=Object(i.useState)(!0),[Ye,Ke]=Object(i.useState)({}),[qe,ze]=Object(i.useState)(!1),Je=Object(o.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t?void 0:t.isLoading)||!1})),Xe=Object(o.c)((e=>{var t,a;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.deliveryAggregators)||{}})),{savedAddresses:Qe}=Object(o.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ze=!(null===Qe||void 0===Qe||!Qe.length||!ge),$e=Object(o.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.pwaStoragsReducer)||void 0===t||null===(a=t.pwaStorageState)||void 0===a?void 0:a.selectedFavouriteStoreAddress})),et={text:Z,cta:{label:ie}},tt={header:$,notice:ae},at=Object(z.a)();Object(i.useEffect)((()=>{var e;(Re===(null===v||void 0===v||null===(e=v.fieldOrder)||void 0===e?void 0:e.length)||te)&&Ae(!0)}),[v,De,Re,te]),Object(i.useEffect)((()=>{E()(Xe)&&!Je&&Ie(Object(x.d)())}),[Xe,Ie,Je]),Object(i.useEffect)((()=>{var e;const t=a?JSON.parse(localStorage.getItem(d.gd.SELECTED_ADDRESS)):{},i=(null===Ne||void 0===Ne||null===(e=Ne.scheduleOrderData)||void 0===e?void 0:e.selectedAddress)||t;var l,o;i&&Object.keys(i).length>0&&(k(i),_e(null===v||void 0===v||null===(l=v.fieldOrder)||void 0===l?void 0:l.length),Ce(null===v||void 0===v||null===(o=v.fieldOrder)||void 0===o?void 0:o.length))}),[we]),Object(i.useEffect)((()=>{ke===S.d.address&&Be(!(!(Ge&&M.prefecture&&M.cityTown&&M.chome&&M.streetDetailAddress)||re)),ke===S.d.postalCode&&Be(!(!(Ge&&M.postalCode&&M.chome&&M.streetDetailAddress)||re))}),[ke,Ge,M.postalCode,M.prefecture,M.cityTown,M.chome,M.streetDetailAddress,Be,re]);Object(i.useEffect)((()=>{const e=ke===S.d.postalCode?le:oe,t=l[e];if(!D&&!E()(t)&&Object.keys(t).length>0){var a;const e=ke===S.d.postalCode?S.d.postalCode:S.d.prefecture,l=null===Ne||void 0===Ne||null===(a=Ne.scheduleOrderData)||void 0===a?void 0:a.storeId,n={[e]:t};let d={};if(null!==M&&void 0!==M&&M[e]&&(l||te)){d={...n};const e=(null===v||void 0===v?void 0:v.fieldOrder)||[];for(let t=1;t<e.length+1;t++){var i,o;const a=(null===(i=e[t])||void 0===i?void 0:i.id)||S.d.selectedStore,l=null===(o=e[t-1])||void 0===o?void 0:o.id,n=M[l].replace("-","");l&&n&&d[l]&&(d[a]=d[l][n])}}Ke({...d,...Ye,...n})}te&&(at(Object(q.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:M})),Le(M))}),[l,te]);const it=e=>{let{localizationData:t={},selectedAddress:a={}}=e;const{postalCode:i}=a,l=Boolean(i),o=l?N:g;return Object(j.a)(o,p)({address:a,localizationData:t[l?le:oe]})},lt=Object(i.useCallback)((async()=>{at(Object(q.d)({key:null===d.gd||void 0===d.gd?void 0:d.gd.SELECTED_ADDRESS,value:M}));const e=Ye[S.d.selectedStore]||it({localizationData:l,selectedAddress:M});if(P&&de||ce){ce&&se({savedAddressSucess:!0});const t=((e,t)=>{const{CITY_CODE:a,CHOME_CODE:i}=n.b,l=F||Object(h.b)(Qe);return{postalCode:null===e||void 0===e?void 0:e.postalCode,addressName:l,isPrimary:H,addressLines:[null===e||void 0===e?void 0:e.prefecture,null===e||void 0===e?void 0:e.cityTown,null===e||void 0===e?void 0:e.chome,null===e||void 0===e?void 0:e.streetDetailAddress,null===e||void 0===e?void 0:e.apartmentName,null===e||void 0===e?void 0:e.roomNumber,null===e||void 0===e?void 0:e.companyName,null===e||void 0===e?void 0:e.specialNote],customProperties:[{key:a,value:null===t||void 0===t?void 0:t[2].toString()},{key:i,value:null===t||void 0===t?void 0:t[1].toString()}]}})(M,e),{customerId:a,phoneNumber:i}=C.a.getInstance(),l=te?{addressId:null===ne||void 0===ne?void 0:ne.id,...t}:t;Ie(Object(b.a)({customerId:a,phoneNumber:i,tenantId:be,data:l}));const o=te?Object(c.translateWithI18Next)(T.a.ADDRESS_UPDATED):Object(c.translateWithI18Next)(T.a.SAVED_DELIVERY_ADDRESS);Object(m.Cf)(o,"","favorites-added-toast"),se&&se({isOpenSaveDeliveryAddressModal:!1}),!se&&B()}else{let t="";ke===S.d.postalCode&&(t+="".concat(Oe).concat(null===M||void 0===M?void 0:M.postalCode)),t+="".concat(null===M||void 0===M?void 0:M.prefecture).concat(null===M||void 0===M?void 0:M.cityTown),t+="".concat(null===M||void 0===M?void 0:M.chome).concat(null===M||void 0===M?void 0:M.streetDetailAddress);const a="".concat(null===M||void 0===M?void 0:M.apartmentName," ").concat(null===M||void 0===M?void 0:M.roomNumber," ").concat(null===M||void 0===M?void 0:M.companyName);Object(I.e)(t);const i=Ye[S.d.selectedStore]||e;i?(L(t,a,i),u(i)):Ve(!1)}}),[Ye,M,H,F]);Object(i.useEffect)((()=>{xe&&lt()}),[lt,xe]),Object(i.useEffect)((()=>{Ve(!_)}),[_]),Object(i.useEffect)((()=>{if(te){var e,t,a,i,l,o,n,d;const r=(null===ne||void 0===ne?void 0:ne.pinCode)||"",s=(null===ne||void 0===ne||null===(e=ne.addressLines)||void 0===e?void 0:e[0])||"",c=(null===ne||void 0===ne||null===(t=ne.addressLines)||void 0===t?void 0:t[1])||"",u=(null===ne||void 0===ne||null===(a=ne.addressLines)||void 0===a?void 0:a[2])||"",v=(null===ne||void 0===ne||null===(i=ne.addressLines)||void 0===i?void 0:i[3])||"",O=(null===ne||void 0===ne||null===(l=ne.addressLines)||void 0===l?void 0:l[4])||"",b=(null===ne||void 0===ne||null===(o=ne.addressLines)||void 0===o?void 0:o[5])||"",m=(null===ne||void 0===ne||null===(n=ne.addressLines)||void 0===n?void 0:n[6])||"",j=(null===ne||void 0===ne||null===(d=ne.addressLines)||void 0===d?void 0:d[7])||"";k({...M,apartmentName:O,chome:u,cityTown:c,companyName:m,postalCode:r,prefecture:s,roomNumber:b,streetDetailAddress:v,specialNote:j})}}),[te]);const ot=(e,t,a,i)=>{const o=(e=>e<=1&&ke===S.d.address?Boolean(M[S.d.postalCode]):e<=1&&ke===S.d.postalCode&&Boolean(M[S.d.prefecture]))(a)?{...h.f}:{...M};if(o[t]=e,o[Q]=ke,ze(!1),_e(a),Ce(a),a<v.fieldOrder.length)for(let l=a;l<v.fieldOrder.length;l++){o[v.fieldOrder[l].id]=""}if(Ve(!0),e){var n,d;const i=(null===(n=v.fieldOrder[a])||void 0===n?void 0:n.id)||S.d.selectedStore,r=e.replace("-",""),s=ke===S.d.postalCode?le:oe,c=l[s],u=Object.keys(Ye).length?null===Ye||void 0===Ye||null===(d=Ye[t])||void 0===d?void 0:d[r]:null===c||void 0===c?void 0:c[r];Ke({...Ye,[i]:u}),a===v.fieldOrder.length&&ke===S.d.postalCode&&u.length>4&&(o[S.d.prefecture]=u[3]||M.prefecture,o[S.d.cityTown]=u[4]||M.cityTown),u||Ve(!1)}!i&&k({...M,...o})},nt=()=>Object(y.jsx)("div",{className:"text-field-container",children:Ue.map((function(e){return Object(y.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:e.id,placeholder:Object(c.translateWithI18Next)(e.title)||e.title,value:M[e.id],onChange:t=>((e,t)=>{const a=e.target.value,i={...M};i[t]=a,k({...M,...i})})(t,e.id),maxLength:je?e.maxLegth:255},e.id)}))}),dt=(e,t)=>{const a=e;ye(a),a?ot(t,S.d.postalCode,1):ot("",S.d.chome,0)},rt=Object(i.useCallback)((e=>{null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);return Object(y.jsxs)("div",{className:"delivery-address-form delivery-module-form","data-testid":"delivery-container",children:[Object(y.jsxs)("div",{className:"delivery-address-form-header",children:[Object(y.jsx)(A,{loggedIn:ge,formContent:s,storeSelection:{signInLink:!0,useMyLocation:!1}}),Object(y.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(ee)||ee}),Object(y.jsx)(w,{onTabSelection:e=>{const t=Me[e],a=t.id===M.deliverySearchType;f(t),_e(0),ye(Boolean(M[S.d.postalCode])),Ae(!1),Ve(!0),ze(!a),a&&M[t.fieldOrder[0].id]&&_e(Ee)},tabsList:Me,defaultSelectedTabIndex:We})]}),ke===S.d.address?(()=>{const e=Re+(De?2:0);return Object(y.jsxs)("div",{className:"address-search-form",children:[v.fieldOrder.map((function(t,a){if(a<=e){var i;const e=null===(i=v.fieldOrder[a])||void 0===i?void 0:i.id,l=Ye[e];if(!l)return null;const o=Object.keys(l),n=!qe&&(null===M||void 0===M?void 0:M[t.id]);return Object(y.jsx)(W,{dropdownList:o,dropdownTitleText:Object(c.translateWithI18Next)(t.title)||t.title,enableSearch:!0,onDropdownSelection:e=>ot(e,t.id,a+1),selectedText:n?null===M||void 0===M?void 0:M[t.id]:Object(c.translateWithI18Next)(t.title)},t.id)}return null})),De&&nt()]})})():(()=>{const e=Object.keys(Ye[S.d.chome]||[]).sort(),t=e.length>0;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(U,{defaultPostalValue:null===M||void 0===M?void 0:M[S.d.postalCode],verifyPostalCode:dt}),t&&(Te||De)&&Object(y.jsx)("div",{className:"address-search-form",children:Object(y.jsx)(W,{dropdownList:e,dropdownTitleText:Object(c.translateWithI18Next)(v.fieldOrder[1].title)||v.fieldOrder[1].title,enableSearch:!0,onDropdownSelection:e=>ot(e,v.fieldOrder[1].id,2),selectedText:(null===M||void 0===M?void 0:M[v.fieldOrder[1].id])||Object(c.translateWithI18Next)(v.fieldOrder[1].title)},v.fieldOrder[1].id)}),t&&De&&nt()]})})(),Object(y.jsx)(Y.c,{className:"delivery-address-form-confirm-cta ".concat(He?"":"disabled"),disabled:!He,onClick:lt,variant:"secondary","data-testid":"delivery-address-form-confirm-cta",children:Object(y.jsx)("span",{children:Object(c.translateWithI18Next)(X)||X})}),Ge?"":Object(y.jsxs)("div",{className:"undeliverable-address",ref:rt,children:[Object(y.jsx)(R.a,{show:!0,comingFrom:ue,errorObj:{showError:!0,errMsg:Object(c.translateWithI18Next)(et.text),errDesc:null,firstBtnText:Object(c.translateWithI18Next)(et.cta.label),firstBtnCTA:()=>{Se({type:J,value:{dispositionType:d.Jb.PICKUP}}),Ie(Object(O.u)())}}}),!E()(Xe)&&Object(y.jsxs)("div",{className:"third-party-delivery-services",children:[Object(y.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(tt.header)}),Object(y.jsx)("div",{className:"third-party-delivery-services__list",children:null===Xe||void 0===Xe||null===(t=Xe.items)||void 0===t?void 0:t.map((e=>{var t,a,i,l,o;const n=null===e||void 0===e?void 0:e.fields;return Object(y.jsxs)("a",{href:null===n||void 0===n?void 0:n.link,target:"_blank",rel:"noreferrer",className:"third-party-delivery-services__service",children:[Object(y.jsx)("span",{className:"third-party-delivery-services__image-container",children:Object(y.jsx)(V.a,{srcFile:"".concat(S.d.https).concat(null===n||void 0===n||null===(t=n.logo)||void 0===t||null===(a=t.fields)||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url),alt:null===n||void 0===n||null===(l=n.logo)||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.title,className:"third-party-delivery-services__images"})}),Object(y.jsx)("span",{className:"third-party-delivery-services__label",children:null===n||void 0===n?void 0:n.name}),Object(y.jsx)(V.a,{srcFile:pe,alt:"",className:"third-party-delivery-services__image"})]},null===n||void 0===n?void 0:n.name)}))}),Object(y.jsx)("p",{className:"third-party-delivery-services__notice",children:Object(c.translateWithI18Next)(tt.notice)})]})]}),Ze&&!P&&Object(y.jsxs)("div",{className:"delivery-saved-addresses",children:[Object(y.jsx)("div",{className:"placesautocomplete-border"}),Object(y.jsx)(K.a,{show:Ze,savedAddresses:Qe,handleSelectAddress:e=>{const t=e||$e;if(t){var a,i,l,o,n,d,r,s;const e=(null===t||void 0===t?void 0:t.name)||"",c=(null===t||void 0===t?void 0:t.pinCode)||"",u=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a[0])||"",v=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i[1])||"",O=(null===t||void 0===t||null===(l=t.addressLines)||void 0===l?void 0:l[2])||"",b=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o[3])||"",m=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n[4])||"",j=(null===t||void 0===t||null===(d=t.addressLines)||void 0===d?void 0:d[5])||"",h=(null===t||void 0===t||null===(r=t.addressLines)||void 0===r?void 0:r[6])||"",p=(null===t||void 0===t||null===(s=t.addressLines)||void 0===s?void 0:s[7])||"";k({...M,addressName:e,apartmentName:m,chome:O,cityTown:v,companyName:h,postalCode:c,prefecture:u,roomNumber:j,streetDetailAddress:b,specialNote:p});const g=it({localizationData:Ye,selectedAddress:M});Ke({...Ye,[S.d.selectedStore]:g}),fe(!0)}},shouldMaintainAddressObject:!0,scheduleOrderDateFormat:me})]})]})},de=a(144);const re=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:i,headerText:o,modalTitleId:n="",className:d,backDataTestId:r}=e;return Object(y.jsx)(l.a.Fragment,{children:Object(y.jsx)(de.a,{"data-testid":"deliveryAddressSearchFormModal",id:"deliveryAddressSearchForm",role:"dialog",modalTitleId:n,show:!0,classNames:"".concat(d," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:o,autoFocus:!0,backDataTestId:r,children:i})})};var se=a(190),ce=a(52);const ue=(e,t)=>e?Object(c.translateWithI18Next)(null===T.a||void 0===T.a?void 0:T.a.ADD_NEW_ADDRESS):Object(c.translateWithI18Next)(t),ve=e=>{var t;const{contentData:a={},deliverySearchType:O,setDeliverySearchType:b,prefectureAddressScreen:j,closeModal:p=(()=>{}),address:g,modalType:N,updateSetOrderDetails:I,isAddressFromOrderProcessing:f}=e,{CHANGE_SCHEDULE_MODE:E,CURRENT_STORE_INFO:C,DISPOSITION_DATA:D,DISPOSITION_METHOD:A,FAV_STORE_NOT_IN_RADIUS:R,FROM_REORDER_MODAL_OPEN:_,REORDER_MODAL_OPEN:w,REORDER_STORE_CHANGED:M,SCHEDULE_ORDER_DATA:k,SEARCH_ORDER_DATA:P,SET_FIND_A_KFC_VIEW:F,SET_ORDER_NOW:W,SET_REDIRECTION_PATH:H,SET_SCHEDULE_ORDER:B,SCHEDULE_ORDER_CLICKED:U,SHOW_SCHEDULE_DISPOSITION:V}=s.a,{NAME_EXIST_ERROR:Y}=se.b,{CONFIG_SEARCH_SCREEN:K,CURRENT_STORE_INFO_STORAGE:J,DISPOSITION_TYPE:X,RENDER_COMP:Q,SET_CART_CLEAR:Z,SELECTED_ADDRESS:$}=d.gd,{POSTAL_CODE_CONTENTFUL:ee,CHOMES_CONTENTFUL:te,DROPOFF_ADDRESS:ae}=n.b,{ENABLE_ADDRESS_LOCALISATION:ie,SHOW_MAP_VIEW_BUTTON:le}=ce.a,oe=Object(o.b)(),{userOrderState:de,userOrderStateDispatch:ve}=Object(i.useContext)(r.a),{dispositionStateData:Oe,searchStoreData:be,scheduleOrderData:me}=de,{changeFlow:je=!1}=me||{},{dispositionType:he=localStorage.getItem(X)}=Oe||"",{componentOptions:pe,tenantId:ge,isUberServiceableEnabled:Ne}=Object(o.c)((e=>e.tenantReducer||{})),{savedAddresses:Se}=Object(o.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ie=null===pe||void 0===pe||null===(t=pe.web)||void 0===t?void 0:t.dispositionConfig,{searchStoreModalContent:xe={}}=a,{formContent:fe={}}=xe,[Ee,Ce]=Object(i.useState)(!1),{configSearchScreen:Te=localStorage.getItem(K)}=be,ye="".concat(null===he||void 0===he?void 0:he.toUpperCase(),"_").concat(Te),De=Object(m.Sd)(null===de||void 0===de?void 0:de.dispositionNew)?JSON.parse(localStorage.getItem(d.gd.DISPOSITION_NEW)):null===de||void 0===de?void 0:de.dispositionNew,[Ae,Re]=l.a.useState(null===g||void 0===g?void 0:g.name),[_e,we]=l.a.useState(!1),[Le,Me]=Object(i.useState)(!1),{modalHeaderTitle:ke,shouldShowDisposition:Pe,shouldShowSearchStore:Fe}={...null===v.b||void 0===v.b?void 0:v.b[ye],...null===Ie||void 0===Ie?void 0:Ie[ye]},We=ke,{storesWithStatus:He=[],deliveryLocalization:Be=null,isDeliveryLocalizationLoading:Ue=!0,isStoreStatusLoading:Ge=!1,storesSatusError:Ve=!1}=Object(o.c)((e=>e.storesReducer||{})),[Ye,Ke]=Object(i.useState)(h.f),qe=Object(z.a)(),ze=Object(i.useCallback)((e=>{var t;Ne&&Object(h.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)?(ve({type:k,value:{showScheduleOrderCatering:!1,store:e}}),ve({type:P,value:{showSearchStore:!0,configSearchScreen:v.a}}),ve({type:F,value:{findAKFC:!1}}),ve({type:V,value:{showSheduleDisposition:!1}}),ve({type:C,value:e}),ve({type:E,value:{changeScheduleModeFlag:!1}}),ve({type:U,value:{scheduleModeClicked:!1}}),ve({type:W,value:{showOrderNow:!1}}),ve({type:B,value:{showScheduleOrder:!1}}),ve({type:R,value:{showNotInRadiusError:!1}}),ve({type:ie,value:!1}),ve({type:le,value:!0})):(ve({type:k,value:{showScheduleOrderCatering:!0,store:e}}),ve({type:P,value:{showSearchStore:!1}}),ve({type:V,value:{showSheduleDisposition:!0}}),ve({type:C,value:e}),ve({type:E,value:{changeScheduleModeFlag:!1}}),ve({type:U,value:{scheduleModeClicked:!0}}),ve({type:W,value:{showOrderNow:!1}}),ve({type:B,value:{showScheduleOrder:!0}}),ve({type:R,value:{showNotInRadiusError:!1}})),localStorage.setItem(J,JSON.stringify(e))}),[E,C,J,R,U,k,P,W,B,V,ve]);Object(i.useEffect)((()=>{He.length>0&&Ee&&!Ge&&ze(He[0])}),[he,Ee,Ge,ze,He]);const Je=Object(i.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(Z),localStorage.setItem(Q,!0),je||ve({type:k,value:{selectedAddress:{}}}),I&&I({isOpenSaveDeliveryAddressModal:!1}),ve({type:D,value:{showDisposition:!1}}),ve({type:A,value:{dispositionType:null===De||void 0===De?void 0:De.type}}),ve({type:P,value:{showSearchStore:!1}}),ve({type:H,value:{redirectionOrder:""}}),ve({type:w,value:{reorderModalOpen:!1}}),ve({type:_,value:{fromReorderFlag:!1}}),ve({type:M,value:{storeChanged:!1}}),ve({type:F,value:{findAKFC:window.location.pathname===d.Ce.FIND_STORE}}),p()}),[je,D,A,null===De||void 0===De?void 0:De.type,_,Q,w,M,k,P,Z,F,H,ve]);Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&Je(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[Je]);const Xe=Object(y.jsxs)("div",{className:"address-field-container",children:[j&&Object(y.jsx)("div",{className:"name-field",children:Object(y.jsx)(G.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:"name",placeholder:Object(c.translateWithI18Next)(null===T.a||void 0===T.a?void 0:T.a.ADDRESS_NICK_NAME),value:Ae,onChange:e=>Re(e.target.value),onBlur:e=>{const t=Se.some((t=>t.name===e.target.value));Me(!!t)},maxlength:10,errorIcon:L.a.Error,errorIconClassName:"flex-div",helperText:Object(c.translateWithI18Next)(Y),helperTextClassName:"error-text",error:Le})}),Object(y.jsx)(ne,{changeFlow:je,formContent:fe,dispositionType:null===he||void 0===he?void 0:he.toUpperCase(),deliveryLocalizationData:Be,getStoreData:e=>{Ce(!0);const[t]=e,a=Object(m.Mb)(he.toUpperCase()),i=[{id:t}];Object(h.a)(i,a,oe,ge)},saveAddressData:(e,t,a)=>{const[i,l,o]=a,n={...Ye,chomeId:l,cityId:String(o)};localStorage.setItem(ae,JSON.stringify(e)),localStorage.setItem($,JSON.stringify(n)),qe(Object(q.d)({key:null===d.se||void 0===d.se?void 0:d.se.SELECTED_ADDRESS,value:n})),ve({type:k,value:{deliveryAddress:e,deliveryAddressLine:t,selectedAddress:n,storeId:i}})},selectedAddress:Ye,setSelectedAddress:Ke,deliverySearchType:O,onDeliveryTypeChanged:e=>{b(e)},isDeliveryLocalizationLoading:Ue,storesStatusError:Ve,prefectureAddressScreen:j,addressName:Ae,address:g,modalType:N,isPrimaryAddress:_e,closeModal:p,isAccount:!0,addressNameExist:Le,updateSetOrderDetails:I,isAddressFromOrderProcessing:f}),j&&Object(y.jsxs)("div",{className:"default-address-section",children:[Object(y.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:_e,defaultChecked:(()=>{const e=!(null!==Se&&void 0!==Se&&Se.length)&&!N;return(null===g||void 0===g?void 0:g.isPrimary)||e})(),onChange:()=>we(!_e),disabled:Se.length<1||N&&Se.length<=1}),Object(y.jsx)("div",{className:"default-label-text",children:Object(y.jsx)("label",{htmlFor:"default-address",children:Object(c.translateWithI18Next)(d.hd)})})]})]});return Object(i.useEffect)((()=>{oe(Object(u.b)());const e=(null===O||void 0===O?void 0:O.id)===S.d.postalCode?ee:te;oe(Object(x.e)(e))}),[oe,null===O||void 0===O?void 0:O.id,ee,te]),Object(i.useEffect)((()=>{!Ue&&Be&&oe(Object(u.a)())}),[Ue,Be,oe]),Object(y.jsx)(re,{handleClose:Je,orderModeTypeItem:Xe,headerText:ue(j,We),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),ve({type:D,value:{showDisposition:Pe}}),je||ve({type:k,value:{selectedAddress:{}}}),ve({type:P,value:{showSearchStore:Fe,configSearchScreen:v.a,searchedPlaceNonLocalized:null===be||void 0===be?void 0:be.searchedPlaceNonLocalized}})},modalTitleId:"delivery-address-search-form",className:"search-store-global-container",backDataTestId:"back-btn-global-modal-id"})};ve.defaultProps=n.a;t.default=ve},969:function(e,t,a){"use strict";a.r(t),a.d(t,"getDistanceByLatLong",(function(){return O})),a.d(t,"getGeoCodeByAddress",(function(){return b})),a.d(t,"getGeoLatLngByGeoCode",(function(){return m})),a.d(t,"getGeoLatLngByAddress",(function(){return j})),a.d(t,"GoogleMap",(function(){return f}));var i,l,o,n,d=a(3),r=a.n(d),s=a(15),c=a(46),u=a(24),v=a(2);const O=e=>{var t,a;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps){const t=new window.google.maps.DistanceMatrixService;return new Promise(((a,i)=>{t.getDistanceMatrix({origins:[g(null===e||void 0===e?void 0:e.origins)],destinations:[g(null===e||void 0===e?void 0:e.destinations)],travelMode:(null===e||void 0===e?void 0:e.travelMode)||window.google.maps.TravelMode.DRIVING,unitSystem:(null===e||void 0===e?void 0:e.unitSystem)||window.google.maps.UnitSystem.METRIC,avoidHighways:(null===e||void 0===e?void 0:e.avoidHighways)||!1,avoidTolls:(null===e||void 0===e?void 0:e.avoidTolls)||!1},((e,t)=>{var l,o,n,d;t!==(null===(l=window)||void 0===l||null===(o=l.google)||void 0===o||null===(n=o.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&i(t),console.debug(e);const r=[];null===e||void 0===e||e.rows.forEach(((t,a)=>{var i,l,o,n,d;return r.push({destinationAddresses:null===e||void 0===e||null===(i=e.destinationAddresses)||void 0===i?void 0:i[a],originAddresses:null===e||void 0===e||null===(l=e.originAddresses)||void 0===l?void 0:l[a],distance:null===t||void 0===t||null===(o=t.elements)||void 0===o?void 0:o[0].distance,duration:null===t||void 0===t||null===(n=t.elements)||void 0===n?void 0:n[0].duration,status:null===t||void 0===t||null===(d=t.elements)||void 0===d?void 0:d[0].status})})),a(r)}))}))}},b=e=>{var t,a;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps){const t=new window.google.maps.Geocoder;return new Promise(((a,i)=>{t.geocode({address:e},((e,t)=>{var l,o,n,d;t!==(null===(l=window)||void 0===l||null===(o=l.google)||void 0===o||null===(n=o.maps)||void 0===n||null===(d=n.GeocoderStatus)||void 0===d?void 0:d.OK)&&i(t),a(e)}))}))}return null},m=e=>{var t,a;return null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&e?new Promise(((t,a)=>{try{var i;const a=Array.isArray(e)?e[0]:e;t(null===a||void 0===a||null===(i=a.geometry)||void 0===i?void 0:i.location)}catch(l){a(l)}})):null},j=async e=>{const t=await b(e);return await m(t)},h=e=>{var t,a,i,l;(null===(t=window)||void 0===t||null===(a=t.google)||void 0===a?void 0:a.maps)&&(null===e||void 0===e||null===(i=e.gMapDetails)||void 0===i||null===(l=i.gMapInstance)||void 0===l||l.setCenter(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.latLng)))},p=(e,t)=>{var a;return null===(a=g(e))||void 0===a?void 0:a.equals(g(t))},g=e=>{var t,a;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&e){const t="string"===typeof e?null===e||void 0===e?void 0:e.split(","):e;if(null!==Array&&void 0!==Array&&Array.isArray(t))return new window.google.maps.LatLng(t[0],t[1]);if("object"===typeof t)return null!==t&&void 0!==t&&t.latitude&&null!==t&&void 0!==t&&t.longitude?new window.google.maps.LatLng(null===t||void 0===t?void 0:t.latitude,null===t||void 0===t?void 0:t.longitude):new window.google.maps.LatLng(t)}return e},N=e=>{var t,a,i,l,o,n;const{gMapDetails:d,directionsPolyline:r,origin:s,destination:c,isRaiderTracker:u}=e,{raiderDirectionsService:v}=d;null===v||void 0===v||null===(t=v.route({origin:s,destination:c,travelMode:null===(i=window)||void 0===i||null===(l=i.google)||void 0===l||null===(o=l.maps)||void 0===o||null===(n=o.TravelMode)||void 0===n?void 0:n.DRIVING}))||void 0===t||null===(a=t.then((e=>{var t,a,i,l,o,n;null!==e&&void 0!==e&&null!==(t=e.routes)&&void 0!==t&&t[0]&&(null===r||void 0===r||r.setPath(null===e||void 0===e||null===(a=e.routes)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.overview_path),u&&(null===d||void 0===d||null===(l=d.gMapInstance)||void 0===l||l.fitBounds(null===e||void 0===e||null===(o=e.routes)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.bounds)))})))||void 0===a||a.catch((e=>console.debug("Directions request failed due to "+e)))},S=e=>{var t,a;const{gMapDetails:i,animation:l=null,position:o,icon:n,zIndex:d=1}=e,{gMapInstance:r,isMarkerVisible:s}=i;return null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&r?new window.google.maps.Marker({animation:l,position:o,map:r,visible:s,icon:n,zIndex:d}):null},I=e=>{var t,a;const{gMapDetails:i,updateGMapDetails:l}=e,{gMapInstance:o,orderTracking:n,customerLatLng:d,storeLatLng:r,raiderCurrentLatLng:c,raiderCurrentMarker:u,raiderDirectionsPolyline:v,raiderLatLngList:O}=i;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&o&&n&&d&&r&&c){var b,m,j,h;if(l({raiderLatLngList:[...O,c]}),p(r,c)||(e=>{var t,a;const{gMapInstance:i,orderTracking:l,raiderPastCurrentLatLng:o,raiderCurrentLatLng:n,raiderPastStrokeColor:d,raiderPastStrokeWeight:r,raiderPastStrokeOpacity:s}=null===e||void 0===e?void 0:e.gMapDetails;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&i&&l){const t=new window.google.maps.Polyline({strokeColor:d,strokeWeight:r,strokeOpacity:s,map:i});N({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:o,destination:n})}})({gMapDetails:i,updateGMapDetails:l}),N({gMapDetails:i,directionsPolyline:v,origin:c,destination:d,isRaiderTracker:!0}),null!==u)null===u||void 0===u||u.setPosition(c);else l({raiderCurrentMarker:S({gMapDetails:i,position:c,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerRaider,zIndex:5,animation:null===(b=window)||void 0===b||null===(m=b.google)||void 0===m||null===(j=m.maps)||void 0===j||null===(h=j.Animation)||void 0===h?void 0:h.DROP})});l({raiderPastCurrentLatLng:c})}},x=async e=>{if(await(async()=>(await u.b.BindLocation(),u.b.address&&u.b.coordinates))()){const{longitude:t,latitude:a}=u.b.coordinates;h({gMapDetails:e,latLng:{lat:a,lng:t}})}},f=e=>{var t,a;const i=r.a.createRef(),[l,o]=Object(d.useState)(E),n=Object(d.useCallback)((e=>{o&&o((t=>({...t,...e})))}),[]);return Object(d.useEffect)((()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&i&&(null===l||void 0===l||!l.gMapInstance)){var a,o,d,r;console.debug("GoogleMap - useEffect Map => ");const e=(e=>{var t,a;const{gMapContainerRef:i,gMapDetails:l}=e;if(null!==(t=window)&&void 0!==t&&null!==(a=t.google)&&void 0!==a&&a.maps&&i){const{center:e,disableDefaultUI:t,fullscreenControl:a,zoomControl:o,gestureHandling:n,zoom:d,minZoom:r,maxZoom:s,mapTypeId:c,panControl:u,rotateControl:v,scaleControl:O,stylers:b}=l;return new window.google.maps.Map(null===i||void 0===i?void 0:i.current,{mapTypeId:c,center:e,disableDefaultUI:t,fullscreenControl:a,zoom:d,zoomControl:o,gestureHandling:n,minZoom:r,maxZoom:s,panControl:u,rotateControl:v,scaleControl:O,styles:b})}})({gMapContainerRef:i,gMapDetails:l});null===(a=window)||void 0===a||null===(o=a.google)||void 0===o||null===(d=o.maps)||void 0===d||null===(r=d.event)||void 0===r||r.addListenerOnce(e,"tilesloaded",(()=>{console.debug("GoogleMap - useEffect Map => tilesloaded"),n({mapRenderCompleted:!0,gMapInstance:e,raiderDirectionsService:new window.google.maps.DirectionsService})}))}}),[null===(t=window)||void 0===t||null===(a=t.google)||void 0===a?void 0:a.maps]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect gMapInstance => "),(null===l||void 0===l?void 0:l.gMapInstance)&&(async(e,t)=>{const{orderTracking:a=!1,storeAddress:i=null,storeLatLng:l=null,customerAddress:o=null,customerLatLng:n=null}=e;let d={orderTracking:a};if(i){const e=await j(i);d={...d,storeLatLng:e,raiderPastCurrentLatLng:e,storeAddress:i}}if(l&&(d={...d,storeLatLng:g(l),raiderPastCurrentLatLng:g(l),storeAddress:i}),o){const e=await j(o);d={...d,customerLatLng:e,customerAddress:o}}n&&(d={...d,customerLatLng:g(n),customerAddress:o}),t(d)})(e,n)}),[null===l||void 0===l?void 0:l.gMapInstance]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect mapTypeId => "),(null===l||void 0===l?void 0:l.gMapInstance)&&(e=>{var t,a,i,l,o,n,d;(null===(t=window)||void 0===t||null===(a=t.google)||void 0===a?void 0:a.maps)&&(null===e||void 0===e||null===(i=e.gMapInstance)||void 0===i||i.setMapTypeId(null===(l=window)||void 0===l||null===(o=l.google)||void 0===o||null===(n=o.maps)||void 0===n||null===(d=n.MapTypeId)||void 0===d?void 0:d[null===e||void 0===e?void 0:e.mapTypeId]))})(l)}),[null===l||void 0===l?void 0:l.mapTypeId]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect props mapTypeId => "),n({mapTypeId:null===e||void 0===e?void 0:e.mapTypeId})}),[null===e||void 0===e?void 0:e.mapTypeId]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:a,mapRenderCompleted:i}=l;e&&t&&a&&i&&(console.debug("GoogleMap - useEffect customer LatLng => "),S({gMapDetails:l,position:a,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerCustomer}),h({gMapDetails:l,latLng:a}))}),[null===l||void 0===l?void 0:l.customerLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,storeLatLng:a,mapRenderCompleted:i}=l;e&&t&&a&&i&&(console.debug("GoogleMap - useEffect store LatLng => "),S({gMapDetails:l,position:a,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerKFC}),h({gMapDetails:l,latLng:a}))}),[null===l||void 0===l?void 0:l.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:a,storeLatLng:i,mapRenderCompleted:o}=l;console.debug("GoogleMap - useEffect store & customer LatLng => "),e&&t&&a&&i&&o&&(e=>{var t,a,i,l;const{gMapInstance:o,orderTracking:n,customerLatLng:d,storeLatLng:r,raiderStrokeColor:s,raiderStrokeWeight:c,raiderStrokeOpacity:u}=null===e||void 0===e?void 0:e.gMapDetails;if(console.debug("GoogleMap setRaiderDirectionsServicePolyline - ",null===(t=window)||void 0===t||null===(a=t.google)||void 0===a?void 0:a.maps,o,n),null!==(i=window)&&void 0!==i&&null!==(l=i.google)&&void 0!==l&&l.maps&&o&&n){const t=new window.google.maps.Polyline({strokeColor:s,strokeWeight:c,strokeOpacity:u,map:o});null===e||void 0===e||e.updateGMapDetails({raiderDirectionsPolyline:t}),N({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:r,destination:d,isRaiderTracker:!1})}})({gMapDetails:l,updateGMapDetails:n})}),[null===l||void 0===l?void 0:l.customerLatLng,null===l||void 0===l?void 0:l.storeLatLng]),Object(d.useEffect)((()=>{const{gMapInstance:t,orderTracking:a,mapRenderCompleted:i}=l;console.debug("GoogleMap - useEffect props raiderCurrentLatLng => ",null===e||void 0===e?void 0:e.raiderCurrentLatLng),t&&a&&(null===e||void 0===e?void 0:e.raiderCurrentLatLng)&&i&&n({raiderCurrentLatLng:g(null===e||void 0===e?void 0:e.raiderCurrentLatLng)})}),[null===l||void 0===l?void 0:l.mapRenderCompleted,null===e||void 0===e?void 0:e.raiderCurrentLatLng]),Object(d.useEffect)((()=>{console.debug("GoogleMap - useEffect raiderCurrentLatLng => ",null===l||void 0===l?void 0:l.raiderCurrentLatLng),(null===l||void 0===l?void 0:l.mapRenderCompleted)&&I({gMapDetails:l,updateGMapDetails:n})}),[null===l||void 0===l?void 0:l.raiderCurrentLatLng]),Object(d.useEffect)((()=>{const{isMobile:t=(null===E||void 0===E?void 0:E.isMobile),isMarkerVisible:a=(null===E||void 0===E?void 0:E.isMarkerVisible),orderTracking:i=(null===E||void 0===E?void 0:E.orderTracking),raiderPastStrokeColor:l=(null===E||void 0===E?void 0:E.raiderPastStrokeColor),raiderPastStrokeWeight:o=(null===E||void 0===E?void 0:E.raiderPastStrokeWeight),raiderPastStrokeOpacity:d=(null===E||void 0===E?void 0:E.raiderPastStrokeOpacity),raiderStrokeColor:r=(null===E||void 0===E?void 0:E.raiderStrokeColor),raiderStrokeWeight:s=(null===E||void 0===E?void 0:E.raiderStrokeWeight),raiderStrokeOpacity:c=(null===E||void 0===E?void 0:E.raiderStrokeOpacity),stylers:u=(null===E||void 0===E?void 0:E.stylers)}=e;console.debug("GoogleMap - useEffect props config => "),n({isMobile:t,isMarkerVisible:a,orderTracking:i,raiderPastStrokeColor:l,raiderPastStrokeWeight:o,raiderPastStrokeOpacity:d,raiderStrokeColor:r,raiderStrokeWeight:s,raiderStrokeOpacity:c,stylers:u})}),[null===e||void 0===e?void 0:e.isMobile,null===e||void 0===e?void 0:e.isMarkerVisible,null===e||void 0===e?void 0:e.orderTracking,null===e||void 0===e?void 0:e.raiderPastStrokeColor,null===e||void 0===e?void 0:e.raiderPastStrokeWeight,null===e||void 0===e?void 0:e.raiderPastStrokeOpacity,null===e||void 0===e?void 0:e.raiderStrokeColor,null===e||void 0===e?void 0:e.raiderStrokeWeight,null===e||void 0===e?void 0:e.raiderStrokeOpacity,null===e||void 0===e?void 0:e.stylers]),Object(d.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps)&&(null===l||void 0===l?void 0:l.gMapInstance)&&(null===l||void 0===l||l.gMapInstance.setOptions({styles:null===l||void 0===l?void 0:l.stylers}))}),[null===l||void 0===l?void 0:l.gMapInstance,null===l||void 0===l?void 0:l.stylers]),Object(d.useEffect)((()=>{var t,a;const{customerAddress:i=null,customerLatLng:o=null,storeAddress:d=null,storeLatLng:r=null}=e;console.debug("GoogleMap - useEffect Props store & customer LatLng => "),(null===(t=window)||void 0===t||null===(a=t.google)||void 0===a?void 0:a.maps)&&(null===l||void 0===l?void 0:l.mapRenderCompleted)&&(!p(null===l||void 0===l?void 0:l.customerLatLng,o)||!p(null===l||void 0===l?void 0:l.storeLatLng,r))&&n({customerAddress:i,customerLatLng:g(o),storeAddress:d,storeLatLng:g(r)})}),[null===l||void 0===l?void 0:l.mapRenderCompleted,null===e||void 0===e?void 0:e.customerAddress,null===e||void 0===e?void 0:e.customerLatLng,null===e||void 0===e?void 0:e.storeAddress,null===e||void 0===e?void 0:e.storeLatLng]),Object(v.jsxs)("div",{className:"googleMapContPanel",children:[Object(v.jsx)("div",{className:"use-location-icon",children:Object(v.jsx)(c.a,{srcFile:null===s.a||void 0===s.a?void 0:s.a.UseLocationWhiteIcon,alt:"",onClick:()=>x(l),"data-testid":"use-location-icon"})}),Object(v.jsx)("div",{id:"google-map-container",ref:i,className:"googleMapContainer ".concat(null===e||void 0===e?void 0:e.className)})]})};t.default=f;const E={gMapInstance:null,defaultLatLng:[{lat:0,lng:0}],mapRenderCompleted:!1,raiderPastCurrentLatLng:null,raiderCurrentLatLng:null,raiderCurrentMarker:null,raiderDirectionsPolyline:null,raiderDirectionsService:null,raiderLatLngList:[],mapTypeId:null===(i=window)||void 0===i||null===(l=i.google)||void 0===l||null===(o=l.maps)||void 0===o||null===(n=o.MapTypeId)||void 0===n?void 0:n.ROADMAP,center:{lat:0,lng:0},disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!0,zoom:13,gestureHandling:"greedy",minZoom:6,maxZoom:20,panControl:!1,rotateControl:!0,scaleControl:!0,isMobile:!1,isMarkerVisible:!0,orderTracking:!1,customerAddress:null,customerLatLng:null,storeAddress:null,storeLatLng:null,raiderPastStrokeColor:"#202124",raiderPastStrokeWeight:2,raiderPastStrokeOpacity:.8,raiderStrokeColor:"#e4002b",raiderStrokeWeight:4,raiderStrokeOpacity:1,stylers:[]}},981:function(e,t,a){"use strict";a.r(t);var i=a(3),l=a(28),o=a(123),n=a(332),d=a(210),r=a(85),s=a(0),c=a(5),u=a(1271),v=a(1111),O=a(2);t.default=e=>{var t,a,b,m,j,h,p;const g=Object(l.b)(),{userOrderState:N,userOrderStateDispatch:S}=Object(i.useContext)(r.a),{tenantReducer:I,orderHistoryReducer:x,orderReducer:f,profileReducer:E,cartReducer:C,paymentsContentReducer:T,appStateReducer:y,contentReducer:D}=Object(l.c)((e=>e)),A=null===I||void 0===I||null===(t=I.componentOptions)||void 0===t||null===(a=t.orderHistory)||void 0===a?void 0:a.hideAddToFavourite,R=null===I||void 0===I||null===(b=I.componentOptions)||void 0===b||null===(m=b.orderHistory)||void 0===m?void 0:m.hideReorderButton,{flatResponse:{productMapById:_={}}={}}=null!==(j=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==j?j:{},[w,L]=Object(i.useState)(u.a),[M,k]=Object(i.useState)({height:0,width:0}),{ORDER_HISTORY_ITEM:P}=s.Oc,{ITEM_IMAGE_HEIGHT_MOBILE:F,ITEM_IMAGE_WIDTH_MOBILE:W,ITEM_WIDTH_DESK_PRCNT:H}=P,B=Object(i.useCallback)((e=>{L&&L((t=>({...t,...e})))}),[]),U=()=>{const e=Object(c.de)(window.innerWidth);B({isMobileView:e});const t=Object(c.ad)(e,{height:F,width:W},{height:Object(c.Bc)(window.innerWidth,H),width:Object(c.Bc)(window.innerWidth,H)});k(t)};return Object(i.useEffect)((()=>(window.scrollTo(0,0),window.addEventListener(s.ye,U),U(),()=>{g(Object(n.f)()),localStorage.removeItem(null===s.gd||void 0===s.gd?void 0:s.gd.LOAD_MORE_ORDER_HISTORY)})),[]),Object(i.useEffect)((()=>{Object(v.f)(g)}),[g]),Object(i.useEffect)((()=>{var t;null!==I&&void 0!==I&&I.tenantId&&null!==E&&void 0!==E&&E.customerId&&Object(u.m)({props:e,dispatch:g,tenantReducer:I,profileReducer:E,updateSetOrderHistoryDetails:B,openReorderModal:null===N||void 0===N||null===(t=N.reorderFlag)||void 0===t?void 0:t.reorderModalOpen,userOrderStateDispatch:S})}),[null===I||void 0===I?void 0:I.tenantId,null===E||void 0===E?void 0:E.customerId,null===N||void 0===N||null===(h=N.reorderFlag)||void 0===h?void 0:h.reorderModalOpen,I]),Object(i.useEffect)((()=>{null!==y&&void 0!==y&&y.userStatus&&Object(u.f)({appStateReducer:y,updateSetOrderHistoryDetails:B})}),[null===y||void 0===y?void 0:y.userStatus]),Object(i.useEffect)((()=>{T&&Object(u.l)({paymentsContentReducer:T,updateSetOrderHistoryDetails:B})}),[T]),Object(i.useEffect)((()=>{var e;null!==C&&void 0!==C&&C.cartData&&null!==C&&void 0!==C&&null!==(e=C.cartData)&&void 0!==e&&e.id&&Object(u.g)({cartReducer:C,updateSetOrderHistoryDetails:B})}),[null===C||void 0===C?void 0:C.cartData]),Object(i.useEffect)((()=>{(null===w||void 0===w?void 0:w.tenantId)&&Object(u.b)(w)}),[null===w||void 0===w?void 0:w.tenantId]),Object(i.useEffect)((()=>{(null===x||void 0===x?void 0:x.orderHistory)&&(null===E||void 0===E?void 0:E.customerId)&&(null===w||void 0===w||!w.showFavoriteModal)&&Object(u.j)({orderHistoryReducer:x,orderHistoryDetails:w,profileReducer:E,updateSetOrderHistoryDetails:B,tenantReducer:I})}),[null===x||void 0===x?void 0:x.orderHistory,null===E||void 0===E?void 0:E.favouriteOrders]),Object(i.useEffect)((()=>{B({orderHistoryLoading:null===x||void 0===x?void 0:x.orderHistoryLoading})}),[null===x||void 0===x?void 0:x.orderHistoryLoading]),Object(i.useEffect)((()=>{Object(c.pe)(null===f||void 0===f?void 0:f.response)&&Object(u.k)({orderReducer:f,orderHistoryDetails:w,updateSetOrderHistoryDetails:B,tenantReducer:I})}),[null===f||void 0===f?void 0:f.response]),Object(i.useEffect)((()=>{var e;(null===w||void 0===w||null===(e=w.orderHistory)||void 0===e?void 0:e.length)>0&&Object(u.i)({orderHistoryDetails:w,updateSetOrderHistoryDetails:B})}),[null===w||void 0===w?void 0:w.orderHistory]),Object(i.useEffect)((()=>{null!==w&&void 0!==w&&w.selectedOrderId?Object(u.d)(w):g(Object(o.e)())}),[null===w||void 0===w?void 0:w.selectedOrderId]),Object(i.useEffect)((()=>{var e,t;(null===w||void 0===w||null===(e=w.completedOrderHistory)||void 0===e?void 0:e.length)>0&&B({totalNumOfPages:Math.ceil((null===w||void 0===w||null===(t=w.completedOrderHistory)||void 0===t?void 0:t.length)/(null===w||void 0===w?void 0:w.displayNumOfRecords))})}),[null===w||void 0===w?void 0:w.completedOrderHistory]),Object(i.useEffect)((()=>{Object(u.h)({contentReducer:D,updateSetOrderHistoryDetails:B})}),[null===D||void 0===D||null===(p=D.response)||void 0===p?void 0:p.homeContentfulResp]),Object(c.ad)(M.height,(G={orderHistoryDetails:w,updateSetOrderHistoryDetails:B,imageOrderContainerSize:M,userParams:null===y||void 0===y?void 0:y.userStatus,tenantReducer:I,contentReducer:D,productMapById:_,hideReorderButton:R,hideAddToFavorite:A},Object(O.jsx)(d.a,{...G,testId:"order_history_view",importPath:"ORDER_HISTORY_VIEW"})),Object(O.jsx)(O.Fragment,{}));var G}}}]);