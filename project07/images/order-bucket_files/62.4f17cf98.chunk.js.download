(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[62,19,115],{1097:function(e,t,n){var i=n(327),a=n(213),o=n(330);e.exports=function(e){return function(t,n,r){var c=Object(t);if(!a(t)){var d=i(n,3);t=o(t),n=function(e){return d(c[e],e,c)}}var s=e(t,n,r);return s>-1?c[d?t[s]:s]:void 0}}},1102:function(e,t,n){var i=n(1097)(n(405));e.exports=i},1144:function(e,t,n){var i=n(1176),a=n(602),o=n(596),r=n(114);e.exports=function(e,t){return(r(e)?i:a)(e,o(t))}},1150:function(e,t,n){},1151:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var i=n(3),a=n.n(i);const o=a.a.createContext({}),r=!0;function c(e){let{baseColor:t,highlightColor:n,width:i,height:a,borderRadius:o,circle:c,direction:d,duration:s,enableAnimation:l=r}=e;const u={};return"rtl"===d&&(u["--animation-direction"]="reverse"),"number"===typeof s&&(u["--animation-duration"]="".concat(s,"s")),l||(u["--pseudo-element-display"]="none"),"string"!==typeof i&&"number"!==typeof i||(u.width=i),"string"!==typeof a&&"number"!==typeof a||(u.height=a),"string"!==typeof o&&"number"!==typeof o||(u.borderRadius=o),c&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof n&&(u["--highlight-color"]=n),u}function d(e){let{count:t=1,wrapper:n,className:i,containerClassName:d,containerTestId:s,circle:l=!1,style:u,...m}=e;var p,b,f;const O=a.a.useContext(o),v={...m};for(const[a,o]of Object.entries(m))"undefined"===typeof o&&delete v[a];const j={...O,...v,circle:l},g={...u,...c(j)};let h="react-loading-skeleton";i&&(h+=" ".concat(i));const y=null!==(p=j.inline)&&void 0!==p&&p,I=[],x=Math.ceil(t);for(let o=0;o<x;o++){let e=g;if(x>t&&o===x-1){const n=null!==(b=e.width)&&void 0!==b?b:"100%",i=t%1,a="number"===typeof n?n*i:"calc(".concat(n," * ").concat(i,")");e={...e,width:a}}const n=a.a.createElement("span",{className:h,style:e,key:o},"\u200c");y?I.push(n):I.push(a.a.createElement(a.a.Fragment,{key:o},n,a.a.createElement("br",null)))}return a.a.createElement("span",{className:d,"data-testid":s,"aria-live":"polite","aria-busy":null!==(f=j.enableAnimation)&&void 0!==f?f:r},n?I.map(((e,t)=>a.a.createElement(n,{key:t},e))):I)}function s(e){let{children:t,...n}=e;return a.a.createElement(o.Provider,{value:n},t)}},1161:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1);function a(e){return{type:i.Ce,payload:e}}},1176:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},1187:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(3),a=Object.defineProperty,o=(e,t,n)=>((e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),r=new Map,c=new WeakMap,d=0,s=void 0;function l(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(n=e.root)?(c.has(n)||(d+=1,c.set(n,d.toString())),c.get(n)):"0":e[t]);var n})).toString()}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;if("undefined"===typeof window.IntersectionObserver&&void 0!==i){const a=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:a,observer:o,elements:c}=function(e){const t=l(e);let n=r.get(t);if(!n){const i=new Map;let a;const o=new IntersectionObserver((t=>{t.forEach((t=>{var n;const o=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((e=>{e(o,t)}))}))}),e);a=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},r.set(t,n)}return n}(n),d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),o.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(c.delete(e),o.unobserve(e)),0===c.size&&(o.disconnect(),r.delete(a))}}i.Component;function m(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:a,root:o,triggerOnce:r,skip:c,initialInView:d,fallbackInView:s,onChange:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var m;const[p,b]=i.useState(null),f=i.useRef(l),[O,v]=i.useState({inView:!!d,entry:void 0});f.current=l,i.useEffect((()=>{if(c||!p)return;let i;return i=u(p,((e,t)=>{v({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&r&&i&&(i(),i=void 0)}),{root:o,rootMargin:a,threshold:e,trackVisibility:n,delay:t},s),()=>{i&&i()}}),[Array.isArray(e)?e.toString():e,p,o,a,r,c,n,s,t]);const j=null==(m=O.entry)?void 0:m.target,g=i.useRef(void 0);p||!j||r||c||g.current===j||(g.current=j,v({inView:!!d,entry:void 0}));const h=[b,O.inView,O.entry];return h.ref=h[0],h.inView=h[1],h.entry=h[2],h}},1188:function(e,t,n){var i=n(217),a=n(195);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==i(e)}},1222:function(e,t,n){"use strict";var i=n(3),a=n.n(i),o=n(144),r=n(2);t.a=e=>{const{handleClose:t,ProductListingModalForm:n,headerText:i,modalTitleId:c="",closeDataTestId:d=""}=e;return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)(o.a,{"data-testid":"ProductListingModalPopup",role:"dialog",modalTitleId:c,show:!0,classNames:"product-listing-module-modal-sopac",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,autoFocus:!0,closeDataTestId:d,children:n})})}},1223:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var i=n(3),a=n(85),o=n(5),r=n(28),c=n(61),d=n(1149),s=n(1132),l=n(262),u=n(0),m=n(2);const p=(e,t,n)=>{const{RECIPE:i,DEFAULT_REASON:a,MODGROUP_MAX_RADIOBUTTON:r}=l.a;return((e,t,n)=>e.every((e=>Object(o.pd)(e.additionalProperties,t)===n)))(e,a,i)||!b(t)||n===r},b=e=>{const{PEROPTIONMAX_KEY:t,PEROPTIONMIN_KEY:n,MAXDISTINCT_KEY:i}=l.a;let a=Object(o.ve)(e);return[t,n,i].every((e=>Object.prototype.hasOwnProperty.call(a,e)))&&!(0===a[t]&&0===a[n]&&0===a[i])};t.a=e=>{let{tenantData:t,modifiers:n,modgrpData:l,isModal:f,isStoreClosed:O,catalog:v}=e;const[j,g]=Object(i.useState)(Object(o.de)(window.innerWidth)),{modgrpId:h,additionalProperties:y,max:I}=l,[x,N]=Object(i.useState)({}),{userOrderState:D}=Object(i.useContext)(a.a),{resetCustomization:S}=D;let C=Object(r.c)((e=>e.appStateReducer.userStatus));const E=Object(r.c)((e=>e.cartReducer)),{isItemAdded:w=!1}=Object(o.sd)(E),[T,M]=Object(i.useState)(),[A,P]=Object(i.useState)(),[R,_]=Object(i.useState)([]),[L,k]=Object(i.useState)([]),[F,B]=Object(i.useState)(!0),[z,q]=Object(i.useState)(0),{SINGLE:G}=s.a,{PDP_MODIFIER:J}=u.Oc;Object(i.useEffect)((()=>{N({}),_([]),k([]),B(!0)}),[S]),Object(i.useEffect)((()=>{f||(N({}),_([]),k([]),B(!0))}),[v,w]),Object(i.useEffect)((()=>{if(Object(o.hb)(Object(o.Td)(y),Object(o.pc)(n))){let e=p(n,y,I);P(e);let t=!e&&b(y);M(t)}}),[y,n]);const U=()=>{const e=Object(o.de)(window.innerWidth),t=e?J.PDP_MODF_IMAGE_VIEWPORT_WIDTH_MOBILE:J.PDP_MODF_IMAGE_VIEWPORT_WIDTH_DESKTOP,n=Math.round(t*window.innerWidth/u.hg);q(n),g(e)};Object(i.useEffect)((()=>{window.addEventListener(u.ye,U)}),[j]),Object(i.useEffect)((()=>{U()}),[]);const{QUANTITY_ACTION:W}=c.a,V=function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{id:o}=e;if(t===G)n.forEach((e=>{e.id===o&&_([e.id])})),k([{...e,itemId:o,modgrpId:h}]);else if(t){let t=i.some((t=>{let{id:n}=t;return n===e.id}));if(!t){let t=[...i,{...e,itemId:o,modgrpId:h}],n=null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.id));a&&_(n),k(t)}}else if(i.length){let e=i.filter((e=>{let{itemId:t}=e;return t!==o})),t=null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.id));_(t),k(e)}},Q=(e,t,n,i,a)=>{var r;let c=null===x||void 0===x||null===(r=x[t])||void 0===r?void 0:r[e],d=null===x||void 0===x?void 0:x[t],s=null===x||void 0===x?void 0:x.totalQuantity;if(c){let r=n===W.Increase?d[e].quantity+1:Object(o.ad)(n===W.Decrease,d[e].quantity-1,i),c=n===W.Increase?s+1:Object(o.ad)(n===W.Decrease,s-1,s-d[e].quantity+i),l=((e,t,n,i)=>Object(o.jb)(e===t.Increase,e===t.Decrease)?n:i)(n,W,r,a);N({...x,totalQuantity:c,[t]:{...d,[e]:{...d[e],quantity:r,quantityDisplay:l}}})}else Object(o.Td)(x[t])?N({...x,totalQuantity:s+i,[t]:{...d,[e]:{quantity:i,quantityDisplay:i}}}):N({totalQuantity:i,[t]:{[e]:{quantity:i,quantityDisplay:i}}})};return Object(o.j)([void 0!==A,void 0!==T,!!z])&&n.map(((e,n)=>{let i=Object(o.Ec)(e.availability[0],null===t||void 0===t?void 0:t.currencyConversionFactor).toFixed(u.gg);return Object(m.jsx)(d.a,{tenantData:t,modgrpData:l,cardData:e,price:i,isMobile:j,localized:C.localized,currencySymbol:null===t||void 0===t?void 0:t.currencySymbol,saveCustomizedItemCount:Q,savedCustomizedModifier:x,toRenderCheckBox:A,toRenderQuantityModifier:T,savedModifierHandler:V,updatedItems:R,savedModifiers:L,isModal:f,isStoreClosed:O,initialRender:F,setInitialRender:B,catalog:v,imageContainerSize:z})}))}},1224:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return g}));var i=n(3),a=n.n(i),o=n(85),r=n(6),c=n(5),d=n(262),s=n(28),l=n(1095),u=n(1223),m=n(0),p=n(1106),b=n(264),f=n(15),O=n(2);const v=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()},j=(e,t,n,i,a)=>{t&&a();let o=e.length?JSON.parse(JSON.stringify(e)):[];o.map(((e,t)=>(e.id===n&&(e.expanded=!e.expanded),e))),i([...o])},g=(e,t,n,i)=>{let a=((e,t,n)=>{let i=e.length?e:[];return null===i||void 0===i?void 0:i.map(((e,i)=>{if(Object(c.hb)(0===i,t))e.expanded=!0;else{e.expanded=!1;let t=e.modifiers.map((e=>({...e,productId:n})));e.modifiers=t}return e}))})(JSON.parse(JSON.stringify(e)),n,i);t([...a])};t.a=e=>{const{grouplist:t=[],getSelectedModifiers:n,selectedModifiers:h,source:y="",accordionDefaultOpen:I,isModal:x,isStoreClosed:N,catalog:D,localized:S=!0}=e,{PDP:C,HASH_SYMBOL:E}=d.a,{MAX_TAG:w}=p.a,[T,M]=Object(i.useState)([]),A=Object(s.c)((e=>e.cartReducer)),[P,R]=Object(i.useState)([]),{componentOptions:_,currencyConversionFactor:L,currencySymbol:k,taxAmountRoundOff:F,swapPDPContentData:B}=Object(s.c)((e=>e.tenantReducer)),{web:{global:{pricewithNumberofDecimalDigit:z},pdp:{deltaPriceInAccordion:q,showMaxBadge:G}}}=_,{isItemAdded:J=!1}=Object(c.sd)(A),U=Object(s.c)((e=>e.tenantReducer)),{userOrderState:W}=Object(i.useContext)(o.a),{pdpScreenCommons:{currentAccordian:V},pdpPayloadData:Q,pdpItemUpsizeId:H}=W;Object(i.useEffect)((()=>{g(t,M,I,H),R([])}),[JSON.stringify(t),D,J]),Object(i.useEffect)((()=>{if(Object(c.hb)(V,y===C)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===V){var n;const t=(null===(n=e.modifiers)||void 0===n?void 0:n.length)>1?300:0;let i=document.getElementById("accordion-"+V).offsetTop;window.scrollTo({top:i-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));M([...e])}}),[V,JSON.stringify(t)]);const Y=e=>{let t,n,i;if(e.length){t=e.map(JSON.stringify),n=new Set(t),i=Array.from(n).map(JSON.parse);let a=[];if(P.length){a=P;let e=P.findIndex((e=>e[0].modgrpId===i[0].modgrpId));e>=0?(a.splice(e,1,i),R([...a])):R([...a,i])}else R((e=>[...e,i]))}};Object(i.useEffect)((()=>{P.length&&n(P),h&&h(P)}),[P]);const K=e=>{let t="",n=null===Q||void 0===Q?void 0:Q.modGrps;if(n[e]){var i;let r=null===(i=n[e])||void 0===i?void 0:i.modifiers,c=[];for(let t in r){let n=r[t];if(n.isSelected){var a,o;const{quantity:t}=n,i=t>1?"".concat(t,"x "):"";let r=!!q&&Object(l.z)(Q,"".concat(e).concat(E).concat(n.id),L,k,z);c.push("".concat(i," ").concat(null===(a=n.dname)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value," ").concat(!1!==r?r:""))}}t=[...new Set(c)].reverse().join(", ")}return t};return Object(c.pc)(T)&&T.map(((e,t)=>{var n;let{id:i,name:o,dname:c,modifiers:d,expanded:s,min:p,max:g,additionalProperties:h}=e;const y=Object(l.g)(i,Q),I=Object(l.d)(i,Q),C=((e,t,n,i)=>t&&Object(u.b)(e,i,n))(d,S,g,h),E=!C&&((e,t,n)=>{const i=Object(u.c)(n);return e&&i&&t})(G,S,h);return Object(O.jsx)(a.a.Fragment,{children:Object(O.jsxs)("div",{className:"accordian-container ",id:"accordion-"+i,"data-testid":"product-listing-accordion-".concat(t),children:[Object(O.jsxs)("div",{className:"accordian-header",children:[Object(O.jsx)("div",{className:"".concat(s?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(i),onClick:e=>j(T,e,i,M,v),children:Object(O.jsxs)("div",{className:"textbadgecontainer",children:[Object(O.jsx)("h3",{className:"accordion-test",children:null===c||void 0===c||null===(n=c[0])||void 0===n?void 0:n.value}),Object(O.jsxs)("div",{className:"badgeContainer",children:[E&&Object(O.jsx)("span",{className:"ml-2 maxBadge",children:B?"".concat(g).concat(Object(r.translateWithI18Next)(w)):"".concat(Object(r.translateWithI18Next)(w)).concat(g)}),y?Object(O.jsx)("span",{className:"updatedBadge-sopac",children:Object(r.translateWithI18Next)(m.Lf)}):null]})]})}),Object(O.jsx)("span",{className:"selected-mod",children:K(i)})]}),!s&&I?Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(b.a,{src:null===f.a||void 0===f.a?void 0:f.a.errorIcon,className:"d-flex mr-1 ml-1"}),Object(O.jsx)("span",{children:Object(r.translateWithI18Next)("selectionRequired")})]}):null,Object(O.jsx)("div",{className:"".concat(s?"panel panel-active":"panel"),children:Object(O.jsx)(u.a,{tenantData:U,modifiers:d,modgrpData:{modgrpId:i,modGrpName:c,min:p,max:g,additionalProperties:h,modifierLength:d.length},modgroupPayloadData:Y,isModal:x,isStoreClosed:N,catalog:D})})]})},t)}))}},974:function(e,t,n){"use strict";n.r(t),n.d(t,"filteredModGroups",(function(){return w}));var i=n(3),a=n.n(i),o=n(75),r=n.n(o),c=n(28),d=n(1222),s=n(41),l=n(1144),u=n.n(l),m=n(1224),p=n(5),b=n(21);var f=n(35),O=n(1132),v=n(85),j=n(6),g=n(61),h=n(235),y=n(1099),I=n(16),x=n(1109),N=n(0),D=n(2);const S=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},C=(e,t)=>{var n,i;const{setClickEvent:a,setConfirmed:o,categoryMapById:r,categoryId:c,modifiersList:d,getItemName:s,data:l,getID:m,getUpdatedPrice:O,itemCount:v,getList:j,minipdpData:h,FROMFLAGEDIT:y,dispatch:I,cartReducer:D,tenantId:S,id:C,modifierGrp:E,userOrderStateDispatch:w,confirmUpsizeName:T}=t;let M="";e.stopPropagation(),e.preventDefault(),a(e),o(!0);const{name:A="NA"}=null!==(n=null===r||void 0===r?void 0:r[c])&&void 0!==n?n:{};var P,R;(u()(d,(e=>{M+="".concat(e[0].name,", ")})),Object(x.a)({item_name:s(l.name),item_id:m(l.id),item_category:A,price:O(v,null===(i=l.availability[0])||void 0===i?void 0:i.price),item_variant:j(M),item_list_name:A,item_list_id:c,index:1,quantity:v,currency:N.p.AUD}),h.fromFlag!==y)?I(Object(f.a)({params:{basketId:(null===D||void 0===D?void 0:D.cartData)&&(null===D||void 0===D||null===(P=D.cartData)||void 0===P?void 0:P.id)},tenantId:S},[{Id:C,categoryId:c,quantity:v,modGrps:E}])):I(Object(f.y)({params:{basketId:(null===D||void 0===D?void 0:D.cartData)&&(null===D||void 0===D||null===(R=D.cartData)||void 0===R?void 0:R.id),basketLineItemId:h.foodLineId},tenantId:S},{Id:C,quantity:v,modGrps:E}));I(Object(f.u)(new Date)),w({type:g.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:C,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await b.a.registerEvent(void 0,{data:t[0]},p.Bb)})(T)};var E=e=>{var t;const{data:n,categoryId:o,handleClose:r,showPriceContent:d=!0,source:l="",isModal:u,isStoreClosed:b,localized:f,catalog:x}=e,{id:N,modgrps:E,availability:w=[]}=n,{userOrderState:T,userOrderStateDispatch:M}=Object(i.useContext)(v.a),{confirmUpsizeName:A,minipdpData:P}=T,[R,_]=Object(i.useState)(E),[L,k]=Object(i.useState)([]),F=Object(c.b)(),B=Object(c.c)((e=>e.tenantReducer)),z=Object(c.c)((e=>e.cartReducer)),{cartData:q={},isAddItemLoading:G=!1}=z||{},{currencySymbol:J,tenantId:U,currencyConversionFactor:W,maxItemCountPerLineItem:V,componentOptions:Q}=B,{web:{pdp:{productCustomizationAccordionDefaultOpen:H}}}=Q,{flatResponse:{categoryMapById:Y={}}={}}=null!==(t=Object(c.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[K,X]=Object(i.useState)(0),Z=Object(p.Ec)(w[0],W),{ADDTOCART:$,UPDATECART:ee}=O.a,{FROMFLAGEDIT:te,EDIT_CLICKED:ne}=I.a,[ie,ae]=Object(i.useState)(1),[oe,re]=Object(i.useState)(0),{ITEM_QUANTITY:ce}=h.a,[de,se]=Object(i.useState)(!1),[le,ue]=Object(i.useState)(null);Object(i.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:R})}),[R]),Object(i.useEffect)((()=>{const e=Object(p.Td)(q)?Object(p.mc)(N,q):{},t=Object(p.Td)(e)?e.count:0;if(re(t),P.fromFlag===te){const e=Object(p.Td)(q)?Object(p.nc)(P.foodLineId,q):{},t=Object(p.Td)(e)?e.count:1;ae(t)}}),[q]),Object(i.useEffect)((()=>()=>{M({type:ne,value:{cartEditClicked:!1}})}),[M,ne]);Object(i.useEffect)((()=>{de&&!G&&r(le)}),[de,G]),Object(i.useEffect)((()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)})));const me=P.fromFlag===te?Object(j.translateWithI18Next)(ee):Object(j.translateWithI18Next)($),pe={setClickEvent:ue,setConfirmed:se,categoryMapById:Y,categoryId:o,modifiersList:L,data:n,itemCount:ie,minipdpData:P,FROMFLAGEDIT:te,dispatch:F,cartReducer:z,tenantId:U,id:N,modifierGrp:R,userOrderStateDispatch:M,confirmUpsizeName:A,getItemName:e=>e||"NA",getID:e=>e||"NA",getUpdatedPrice:(e,t)=>e*t/W||"NA",getList:e=>e.trim()||"NA"};return Object(D.jsxs)(a.a.Fragment,{children:[Object(D.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(D.jsx)("form",{className:"form",children:Object(p.Td)(E)?Object(D.jsx)(m.a,{grouplist:E,getSelectedModifiers:e=>{let t=0,n=[];e.forEach((e=>{let i={};i.id=e[0].modgrpId,i.modifiers=[],e.forEach((e=>{let n={},a=JSON.parse(JSON.stringify(e));n.id=a.id,n.quantity=a.defaultQuantity,n.modGrps=a.modgrps,n.categoryId=o,i.modifiers.push(n);let r=Object(p.Ec)(e.availability[0],W);t+=r})),n.push(i)})),X(Z+t),_(n)},selectedModifiers:k,source:l,accordionDefaultOpen:H,isModal:u,localized:f,isStoreClosed:b,catalog:x}):null})}),d&&Object(D.jsx)("div",{className:"price-content",children:Object(D.jsxs)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:[ie?Object(D.jsx)(y.a,{itemCount:ie,itemQuantity:ce,updateItemQuantity:(e,t)=>{t===g.a.QUANTITY_ACTION.Increase?ae((e=>e+1)):ae((e=>e-1))},quantityAction:g.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:V,cartItemCount:oe+1}):null,Object(D.jsxs)(s.a,{className:"button start-order-btn ".concat(G?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>C(e,pe),children:[Object(D.jsx)("span",{className:"title-for-button",children:"".concat(me)}),Object(D.jsx)("span",{className:"currency-symbol",children:"".concat(J," ").concat((be=K,(ie*be).toFixed(2)))})]})]})})]});var be};const w=e=>{if(e){var t;let n=JSON.parse(JSON.stringify(e));return n.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),n}return{}};t.default=e=>{const{isModal:t=!0,showPriceContent:n=!0,data:i={},source:a="",isStoreClosed:o=!1,localized:s,catalog:l,categoryId:u=""}=e,{MODALHEADERTEXT:m=""}=O.a,b=Object(c.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),v=Object(p.Td)(i)?w(i):w(b),g=Object(c.b)(),h=e=>{e.stopPropagation(),e.preventDefault(),g(Object(f.v)({showProductListingModal:!1,categorySelected:""}))},y=Object(D.jsx)(E,{data:v,categoryId:u,handleClose:h,showPriceContent:n,"data-testid":"product-listing-modal-enabled",source:a,isModal:t,localized:s,isStoreClosed:o,catalog:l}),I=Object(D.jsx)(d.a,{handleClose:h,ProductListingModalForm:y,headerText:Object(j.translateWithI18Next)(m),"data-testid":"product-listing-inside-modal"}),x=Object(D.jsx)("div",{className:"pdp-custm-sopac",children:y});return t?r.a.createPortal(I,document.getElementById("modal-popups")):x}}}]);