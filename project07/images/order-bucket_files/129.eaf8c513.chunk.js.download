(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[129],{1062:function(e,t,s){"use strict";s.r(t);var r=s(3),a=s.n(r),o=s(62),c=s(5),l=s(28),d=s(6),n=s(4),i=s(2);const u=e=>{const{retryCountForGetOrderStatus:t}=e;return Object(r.useEffect)((()=>{const e=document.getElementById("progressBarContainer"),s=document.getElementById("progressBar");if(e&&s){const r=(null===e||void 0===e?void 0:e.offsetWidth)/3*t.orderStatus;Object(c.pe)(null===s||void 0===s?void 0:s.style)&&(s.style.width=r+"px")}}),[t]),Object(i.jsx)("div",{className:"order-history card-validate",children:Object(i.jsx)("div",{className:"order-processing-info-container",children:Object(i.jsx)("div",{className:"col-12 orderProcessingProgressBar","data-testid":"orderConfirmItems-component",children:Object(i.jsxs)("div",{className:"orderProcessingProgressBarContainer col-12",children:[Object(i.jsx)("div",{className:"col-12 current-order-status",children:Object(d.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.VALIDATING)}),Object(i.jsx)("div",{className:"col-12 progress-bar-cont",children:Object(i.jsx)("div",{id:"progressBarContainer",className:"col-sm-3 col-10 progress-bar-container",children:Object(i.jsx)("div",{id:"progressBar",className:"progress-bar","data-testid":"load-component"})})}),Object(i.jsx)("div",{className:"confirm-order-text",children:Object(d.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.NEW_CARD)}),Object(i.jsx)("div",{className:"confirm-order-text-cont col-12",children:Object(i.jsx)("div",{className:"progress-bar-text col-6",children:Object(d.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.CARD_VALIDATION_MESSAGE)})})]})})})})};var v=a.a.memo(u),b=s(77);var j=e=>{var t;const{location:s}=e,{props:a=""}=s,{checkoutDetails:d,updateCheckoutDetails:n}=a,[u,j]=Object(r.useState)({orderStatus:1}),m=Object(o.g)(),{paymentsReducer:O}=Object(l.c)((e=>e)),p=Object(r.useCallback)((e=>{j&&j((t=>({...t,...e})))}),[]);return Object(r.useEffect)((()=>{p({orderStatus:u.orderStatus+1})}),[null===O||void 0===O?void 0:O.globalPaymentsGeneratedAccessToken,null===O||void 0===O?void 0:O.globalPaymentVerifyCard]),Object(r.useEffect)((()=>{var e;(null===d||void 0===d||null===(e=d.globalPaymentsOneTimeResponse)||void 0===e?void 0:e.paymentReference)&&Object(b.b)({checkoutDetails:d,updateCheckoutDetails:n,history:m}),p({orderStatus:u.orderStatus+1})}),[null===d||void 0===d||null===(t=d.globalPaymentsOneTimeResponse)||void 0===t?void 0:t.paymentReference]),Object(r.useEffect)((()=>{(null===d||void 0===d?void 0:d.globalPaymentValidateAdressResponse)&&p({orderStatus:u.orderStatus+1})}),[null===O||void 0===O?void 0:O.globalPaymentValidateAdressResponse]),Object(r.useEffect)((()=>{(null===O||void 0===O?void 0:O.globalPaymentSaveCard)&&Object(c.Le)({...m})}),[null===O||void 0===O?void 0:O.globalPaymentSaveCard]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(v,{retryCountForGetOrderStatus:u})})};t.default=j}}]);