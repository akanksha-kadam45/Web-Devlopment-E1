(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[79,115],{1058:function(e,r,t){"use strict";t.r(r);var o=t(3),a=t.n(o),i=t(5),d=t(214),l=t(6),n=t(4),s=t(1184),c=t(1210),u=t(144),v=t(1204),O=t(0),b=t(16),h=t(2);const m=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t,userParams:o,tenantReducer:a,productMapById:i}=e,{showFavoriteModal:c,orderHistory:u,selectedOrderId:v}=r;if(c&&v&&null!==u&&void 0!==u&&u.length){const e=null===u||void 0===u?void 0:u.find((e=>(null===e||void 0===e?void 0:e.orderId)===v)),{favoriteOrderName:r="",orderId:O}=e,b=()=>{var e;return Object(d.a)(null===(e=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_ADDED_TO_FAVOURITE))||void 0===e?void 0:e.replace(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.FAVOURITES),"<u>".concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.FAVOURITES),"</u>")))};return Object(h.jsx)(s.a,{showOccassionModal:c,setOccassionModalOpen:()=>t({showFavoriteModal:!1}),occasionName:r,setOccasionName:e=>console.log(e),cardInfo:{id:O},toastmessage:b(),userParams:o,currencyShortName:null===a||void 0===a?void 0:a.currencyShortName,currencyConversionFactor:null===a||void 0===a?void 0:a.currencyConversionFactor,productMapById:i,orderDetail:e})}return null},p=e=>{const{orderHistoryDetails:r}=e,{orderHistory:t,selectedOrderId:o,openReorderModal:a,userOrderStateDispatch:i}=r,{REORDER_MODAL_OPEN:d,FROM_REORDER_MODAL_OPEN:l,REORDER_STORE_CHANGED:n}=b.a;if(a&&o&&null!==t&&void 0!==t&&t.length){const e=null===t||void 0===t?void 0:t.find((e=>(null===e||void 0===e?void 0:e.orderId)===o)),{service:r,orderId:s,store:u,deliveryAddress:v}=e,b=()=>{i({type:d,value:{reorderModalOpen:!1}}),i({type:n,value:{storeChanged:!1}}),i({type:l,value:{fromReorderFlag:!1}})};return Object(h.jsx)(c.a,{currentOrderInfo:{service:r,id:s,store:u,deliveryAddress:v},reorderModalOpen:a,closeButtonHandler:b,source:O.xe.ACCOUNT_ORDER_HISTORY})}return null},j=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t}=e,{showViewReceiptModal:o,orderHistory:a,selectedOrderId:d,orderDetails:s,currencySymbol:c,currencyConversionFactor:O,showTaxLines:b,showTaxExcluded:m,showGiftCardOrVoucherSummary:p,showPromosSummary:j,enableClickCollectScheduleOrder:y,allowScheduleOrderForDispositions:D,showStoreRegistrationNumber:I,showOrderDateTime:R,showOrderMode:N,showOrderStatus:w,showPickupOrDeliveryTime:g,StoreRegistrationNumber:x,enableScheduleOrder:f,scheduleOrderDateFormat:S,dateFormat:T,timeFormat:E,showCarryBagInLineItem:C,oldTaxId:H,taxId:k,taxIdChangeDate:_}=r;if(o&&d&&null!==a&&void 0!==a&&a.length){const e={id:"orderHistoryViewReceiptModal",role:"dialog",modalTitleId:"orderHistoryViewReceiptModal",show:o,classNames:"Base-modal order-History-view-receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>t({showViewReceiptModal:!1}),modalTitle:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_RECEIPT),closeDataTestId:"orderHistoryViewReceiptCloseModal",autoFocus:!0},r=e=>{t({orderDetails:{...s,...e}})};return Object(h.jsx)(u.a,{...e,children:Object(h.jsx)("div",{className:"order-History-view-receipt-modal-container",children:Object(h.jsx)(v.a,{orderDetails:{...s,currencySymbol:c,currencyConversionFactor:O,showCarryBagInLineItem:C,showStoreDirectinPanelInOrderSummaryInfoDetails:Object(i.ge)(null===s||void 0===s?void 0:s.service)||Object(i.Hd)(null===s||void 0===s?void 0:s.service),showStoreHoursPanelInOrderSummaryInfoDetails:!0,showTaxLines:b,showTaxExcluded:m,showGiftCardOrVoucherSummary:p,showPromosSummary:j,enableClickCollectScheduleOrder:y,allowScheduleOrderForDispositions:D,showStoreRegistrationNumber:I,showOrderDateTime:R,showOrderMode:N,showOrderStatus:w,showPickupOrDeliveryTime:g,StoreRegistrationNumber:x,enableScheduleOrder:f,scheduleOrderDateFormat:S,dateFormat:T,timeFormat:E,showViewReceiptModal:o,oldTaxId:H,taxId:k,taxIdChangeDate:_},updateSetOrderDetails:r})})})}return null};var y=t(41),D=t(20),I=t.n(D),R=t(15),N=t(62),w=t(46);const g=e=>{const r={history:Object(N.g)()},{placeHolderText:t=(null===n.a||void 0===n.a?void 0:n.a.YOUR_CART_EMPTY),buttonLabel:o=(null===n.a||void 0===n.a?void 0:n.a.START_ORDER),onBtnClickHandler:a=(()=>Object(i.Ze)(r))}=e;return Object(h.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root",children:[Object(h.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(h.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(l.translateWithI18Next)(t)}),Object(h.jsx)(y.a,{className:"button redButton start-order-btn cart-empty-placeholder-button","aria-label":Object(l.translateWithI18Next)(o),onClickHandler:a,id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(h.jsx)("span",{children:Object(l.translateWithI18Next)(o)})})]}),Object(h.jsx)(w.a,{className:"cart-empty-img",srcFile:null===R.a||void 0===R.a?void 0:R.a.EmptyCartImage,altText:""})]})};var x=a.a.memo(g),f=t(265),S=t(1327),T=t(1271),E=t(55);const C=e=>Object(h.jsxs)("div",{className:"order-history-order-item col-12",children:[W(e),L(e),V(e)]}),H=e=>{const{orderHistoryDetails:r,orderDetails:t}=e,{orderId:o}=t,{isDarkMode:a,selectedOrderId:i}=r;return i===o?a&&(null===R.a||void 0===R.a?void 0:R.a.AccordianUpDark)||(null===R.a||void 0===R.a?void 0:R.a.ArrowOrderUp):a&&(null===R.a||void 0===R.a?void 0:R.a.AccordianDownDark)||(null===R.a||void 0===R.a?void 0:R.a.ArrowOrderDown)},k=e=>{const{requestedDateTime:{isForNow:r}}=e;return Object(f.ab)(e)?null===R.a||void 0===R.a?void 0:R.a.Reload:Object(i.Hd)(null===e||void 0===e?void 0:e.service)||!r&&Object(f.mb)(null===e||void 0===e?void 0:e.orderStatus)?null===R.a||void 0===R.a?void 0:R.a.ScheduledIcon:Object(i.Jd)(null===e||void 0===e?void 0:e.service)||Object(i.ge)(null===e||void 0===e?void 0:e.service)||!r&&Object(f.mb)(!(null!==e&&void 0!==e&&e.orderStatus))?null===R.a||void 0===R.a?void 0:R.a.Time_Clock:void 0},_=e=>{const{requestedDateTime:{isForNow:r}}=e;return Object(f.ab)(e)?null===n.a||void 0===n.a?void 0:n.a.REFUND_INIT_TEXT:Object(i.Hd)(null===e||void 0===e?void 0:e.service)||!r&&Object(f.mb)(null===e||void 0===e?void 0:e.orderStatus)?Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.HISTORY_STATUS_SCHEDULED)?null===n.a||void 0===n.a?void 0:n.a.HISTORY_STATUS_SCHEDULED:null===n.a||void 0===n.a?void 0:n.a.SCHEDULE:Object(i.Jd)(null===e||void 0===e?void 0:e.service)||Object(i.ge)(null===e||void 0===e?void 0:e.service)||!r&&Object(f.mb)(!(null!==e&&void 0!==e&&e.orderStatus))?null===n.a||void 0===n.a?void 0:n.a.IN_PROGRESS:void 0},A=e=>{var r;const{favoriteOrderName:t,service:o}=e;var a;return Object(f.cb)(e)||Object(f.bb)(e)||!Object(f.ab)(e)?Object(i.qe)(t)?t:"".concat(Object(l.translateWithI18Next)(o)," ").concat(null===(r=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER))||void 0===r?void 0:r.toUpperCase()):null===(a=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.PROCESSING_REFUND))||void 0===a?void 0:a.toUpperCase()},F=(e,r)=>Object(i.Hd)(null===e||void 0===e?void 0:e.service)?null===n.a||void 0===n.a?void 0:n.a.VIEW_DETAILS:Object(i.Jd)(null===e||void 0===e?void 0:e.service)?null===n.a||void 0===n.a?void 0:n.a.TRACK_ORDER:Object(i.ge)(null===e||void 0===e?void 0:e.service)?Object(l.translateWithI18Next)(r):null,P=e=>{const{orderDetails:r}=e,{occasionTime:t}=r;return Object(h.jsx)("span",{"data-testid":"order-history-order-text",className:"order-history-order-date-time ".concat(Object(f.ab)(r)?"red":""),children:t||Object(T.c)(e)})},M=(e,r)=>{const{displayOrderId:t,store:{name:o}={},postOrderDetails:{phoneNum:a}}=e;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"order-item",children:Object(S.b)(e)}),Object(h.jsx)("div",{className:"order-item",children:o}),Object(h.jsxs)("div",{className:"order-item",children:[Object(l.translateWithI18Next)(n.a.ORDER_HASH),t]}),r&&a&&Object(h.jsxs)("div",{className:"order-item",children:[Object(l.translateWithI18Next)(n.a.PHONE_STATIC_TEXT),": ",a]})]})},W=e=>{var r;const{orderHistoryDetails:t,updateSetOrderHistoryDetails:o,tenantReducer:a}=e,d=null===a||void 0===a?void 0:a.is24HoursFormatEnabled,n={...null===e||void 0===e?void 0:e.orderDetails,enableGlobalOrderTracking:null===t||void 0===t?void 0:t.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking,enableScheduleOrder:null===t||void 0===t?void 0:t.enableScheduleOrder,is24HoursFormatEnabled:d},{orderId:s,service:c}=n,{isMobileView:u,selectedOrderId:v,pickupTrackOrderButtonLabel:O}=t,b=Object(i.ge)(c)||Object(i.Vd)(c),m=null===a||void 0===a?void 0:a.showCustomerPhoneNumber;return Object(h.jsxs)("div",{className:"order-history-order-item-header-container col-12",children:[Object(h.jsxs)("div",{className:"order-history-order-item-header-left-container ".concat(Object(i.ad)(u,"col-5","col-7")),children:[!Object(f.cb)(n)&&!Object(f.bb)(n)&&Object(h.jsxs)("div",{className:"order-history-order-item-heading-section","data-testid":"checkin-button",children:[Object(h.jsx)("img",{alt:"reload",src:k(n),className:"order-item-heading-status-icon"}),!u&&Object(h.jsx)("span",{className:"order-item-heading-status-msg",children:null===(r=Object(l.translateWithI18Next)(_(n)))||void 0===r?void 0:r.toUpperCase()})]}),Object(h.jsx)("span",{className:"order-history-order-item-heading",children:A(n)}),b&&M(n,m)]}),Object(h.jsxs)("div",{className:"order-history-order-item-header-right-container",children:[Object(f.cb)(n)||Object(f.bb)(n)||!F(n,O)?P(e):Object(h.jsx)(y.a,{className:"button transparent-btn order-history-track-btn","data-testid":"track-order-btn-".concat(s),"aria-label":Object(l.translateWithI18Next)(F(n,O)),onClickHandler:()=>Object(T.e)(e),children:Object(h.jsx)("span",{children:Object(l.translateWithI18Next)(F(n,O))})}),Object(h.jsx)("img",{alt:"arrows",src:H(e),onClick:()=>o({selectedOrderId:v===s?"":s,orderDetails:n,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1}),className:"order-history-order-item-accordion-arrow","data-testid":"order-item-arrow-".concat(s)})]})]})},L=e=>{const{orderHistoryDetails:r,orderDetails:t,imageOrderContainerSize:o,tenantReducer:a}=e,{height:d,width:l}=o,{orderId:n,filteredFoodLines:s,orderedItemDetails:c}=t,{selectedOrderId:u,currencySymbol:v,currencyConversionFactor:b}=r,m=c||s,p=Object(i.Dc)(m,O.i,null===a||void 0===a?void 0:a.carryBag,null===a||void 0===a?void 0:a.showCarryBagInLineItem);return u===n&&Object(h.jsx)("div",{className:"order-history-order-item-content col-12",children:null===p||void 0===p?void 0:p.map((e=>{var t;const{dname:o,quantity:n,unitPrice:s,amount:c,content:u}=(null===e||void 0===e?void 0:e.item)||e;return Object(h.jsxs)("div",{className:"order-history-order-item-panel default-img",children:[Object(h.jsx)(w.a,{className:"order-history-order-item-img-sopac ".concat(!u&&"no-image"),defaultPath:Object(i.bc)(null,r,!0),srcFile:Object(i.qc)(u,l,d)}),Object(h.jsxs)("div",{className:"order-history-order-item-details-section",children:[Object(h.jsxs)("span",{className:"order-history-order-item-title",children:[n," x ",null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.value]}),Object(h.jsx)("span",{className:"order-history-order-item-price",children:Object(i.K)(s||c,{currencySymbol:v,currencyConversionFactor:b},"",null===a||void 0===a?void 0:a.taxAmountRoundOff)})]})]})}))})},V=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t,orderDetails:o,userParams:a}=e,{orderId:d,isOrderSavedAsFavorite:s,service:c}=o,{selectedOrderId:u,props:v,userOrderStateDispatch:m,cartDataService:p}=r,{REORDER_MODAL_OPEN:j,FROM_REORDER_MODAL_OPEN:D}=b.a;let I="";return null!==e&&void 0!==e&&e.hideReorderButton&&(I="wrapping-with-no-reorder"),u===d&&Object(h.jsxs)("div",{className:"order-history-order-item-footer-container col-12 ".concat(I),children:[Object(h.jsxs)("div",{className:"order-history-order-item-header-left-container",children:[!(null!==e&&void 0!==e&&e.hideAddToFavorite)&&Object(h.jsxs)("span",{className:"order-history-order-occasion-link","data-testid":"view-occasion-modal",onClick:()=>{var e;return s?null===r||void 0===r||null===(e=r.props)||void 0===e?void 0:e.updateMenu(null===n.a||void 0===n.a?void 0:n.a.FAVORITE_ORDERS):t({showFavoriteModal:!0})},children:[Object(h.jsx)("img",{alt:"favourite-unfavourite",src:s?null===R.a||void 0===R.a?void 0:R.a.FavouriteActiveBlack:null===R.a||void 0===R.a?void 0:R.a.FavouriteInActiveBlack,className:"order-history-order-favourite"}),Object(l.translateWithI18Next)(s?null===n.a||void 0===n.a?void 0:n.a.VIEW_IN_FAVOURITES:null===n.a||void 0===n.a?void 0:n.a.ADD_TO_OCCASION)]}),Object(h.jsx)("span",{className:"order-history-order-receipt-link","data-testid":"view-receipt",onClick:()=>t({showViewReceiptModal:!0}),children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.VIEW_RECEIPT)})]}),!(null!==e&&void 0!==e&&e.hideReorderButton)&&Object(h.jsx)("div",{className:"order-history-order-item-footer-right-container",children:Object(h.jsx)(y.a,{className:"button re-order-btn ".concat(Object(i.Hd)(c)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var e;Object(i.Hd)(c)?(e=v,!p||Object(i.Hd)(p)?Object(i.Re)(e):m({type:null===O.Qe||void 0===O.Qe?void 0:O.Qe.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===O.Ce||void 0===O.Ce?void 0:O.Ce.CATERING_PAGE,title:null===n.a||void 0===n.a?void 0:n.a.CATERING_NAVALERT_TITLE,contentMsg:null===n.a||void 0===n.a?void 0:n.a.CATERING_NAVALERT_SUBTITLE}})):((null===a||void 0===a||!a.localized)&&Object(E.o)(),t({showReorderModal:!0}),sessionStorage.setItem(O.gd.REORDER_CLICK,!0),m({type:D,value:{fromReorderFlag:!0}}),m({type:j,value:{reorderModalOpen:!0}}))},children:Object(h.jsx)("span",{children:Object(l.translateWithI18Next)(Object(i.Hd)(c)?null===n.a||void 0===n.a?void 0:n.a.EXPLORE_CATERING:null===n.a||void 0===n.a?void 0:n.a.REORDER_TEXT)})})})]})};var B=t(1198);const G=e=>{const{orderHistoryDetails:r}=e,{isMobileView:t,props:o}=r;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"order-history-header col-12",children:[t&&Object(h.jsx)("img",{alt:"back-arrow",src:null===R.a||void 0===R.a?void 0:R.a.Arrow,className:"back-icon","data-testid":"order-history-back-btn",onClick:()=>null===o||void 0===o?void 0:o.updateMenu("")}),Object(h.jsx)("span",{className:"order-history-heading",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_HISTORY_TAG)})]}),t&&Object(h.jsx)("div",{className:"order-history-title",children:Object(h.jsx)("h3",{className:"order-history-text",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_HISTORY_TAG)})})]})},U=e=>{const{orderHistoryDetails:r}=e,{orderHistory:t,orderHistoryLoading:o}=r;return 0===(null===t||void 0===t?void 0:t.length)&&!o&&Object(h.jsx)(x,{placeHolderText:null===n.a||void 0===n.a?void 0:n.a.NO_ORDER_HISTORY_MSG})},J=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t}=e,{completedOrderHistory:o,displayAllRecords:a,displayNumOfRecords:i,currentPage:d,totalNumOfPages:s}=r;return(null===o||void 0===o?void 0:o.length)>0&&i<(null===o||void 0===o?void 0:o.length)&&!a&&Object(h.jsxs)("div",{className:"order-History-Footer col-12",children:[Object(h.jsx)("div",{className:"load-more",children:Object(h.jsx)(y.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.LOAD_MORE),onClickHandler:()=>t({currentPage:d+1,displayAllRecords:d+1>=s}),children:Object(h.jsx)("span",{children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.LOAD_MORE)})})}),Object(h.jsx)("div",{className:"view-order-count",children:Object(h.jsx)("span",{children:"".concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.VIEWED)," ").concat(i*d," ").concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.OF)," ").concat(null===o||void 0===o?void 0:o.length)})})]})},q=e=>{const{orderHistoryDetails:r,contentReducer:t}=e,{showHaveQuestionSection:a,orderHistory:d}=r,[s,c]=Object(o.useState)(!1),u=I()(Object(i.Sb)(t));return 0===(null===d||void 0===d?void 0:d.length)&&a&&Object(h.jsxs)("div",{className:"order-history-header get-help-header col-12",children:[Object(h.jsxs)("div",{className:"order-History-Footer col-12",children:[Object(h.jsx)("hr",{className:"horizontal-bar"}),Object(h.jsxs)("div",{className:"get-help-section",children:[Object(h.jsxs)("div",{className:"footer-bootm-left",children:[Object(h.jsx)("span",{className:"have-a-question",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.HAVE_A_QUESTION)}),Object(h.jsx)("span",{className:"connect-specialist",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.CONNECT_WITH_SPECIALIST)})]}),Object(h.jsx)("div",{className:"get-help-btn",children:Object(h.jsx)(y.a,{className:"button transparent-btn footer-btn","data-testid":"getHelp-btn","aria-label":Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.GET_HELP),onClickHandler:()=>u?c(!0):window.open(Object(i.Sb)(t),"_blank"),children:Object(h.jsx)("span",{children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.GET_HELP)})})})]})]}),s&&Object(h.jsx)(B.a,{orderHistoryPage:!0,isOpen:s,handleClose:()=>c(!1)})]})},Y=e=>{const{orderHistoryDetails:r}=e,{currentOrderHistory:t}=r;return(null===t||void 0===t?void 0:t.length)>0&&Object(h.jsxs)("div",{className:"order-History-current-order-section col-12",children:[Object(h.jsxs)("span",{className:"order-section-header col-12","data-testid":"account-current-orders-three",children:[Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.CURRENT_ORDERS)," (",null===t||void 0===t?void 0:t.length,")"]}),null===t||void 0===t?void 0:t.map((r=>C({...e,orderDetails:r})))]})},K=e=>{const{orderHistoryDetails:r}=e,{completedOrderHistory:t,displayAllRecords:o,displayNumOfRecords:a,currentPage:i}=r;return(null===t||void 0===t?void 0:t.length)>0&&Object(h.jsxs)("div",{className:"order-History-completed-order-section col-12",children:[Object(h.jsxs)("span",{className:"order-section-header col-12","data-testid":"account-previous-orders",children:[Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.COMPLETED_ORDERS_TEXT)," (",null===t||void 0===t?void 0:t.length,")"]}),null===t||void 0===t?void 0:t.map(((r,t)=>(t<a*i||o)&&C({...e,orderDetails:r})))]})};var Q=t(1158);const X=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t}=e,{orderDetails:o}=r;return Object(h.jsxs)("div",{className:"order-history col-12 au",children:[G(e),U(e),Y({...e,redirectTo:i.cf}),K({...e,redirectTo:i.cf}),J(e),q(e),j(e),o.isOpenOrderSummaryDirectionMap&&Object(Q.d)({orderDetails:o,updateSetOrderDetails:e=>{t({orderDetails:{...o,...e}})}}),m(e),p(e)]})};r.default=a.a.memo(X)},1097:function(e,r,t){var o=t(327),a=t(213),i=t(330);e.exports=function(e){return function(r,t,d){var l=Object(r);if(!a(r)){var n=o(t,3);r=i(r),t=function(e){return n(l[e],e,l)}}var s=e(r,t,d);return s>-1?l[n?r[s]:s]:void 0}}},1102:function(e,r,t){var o=t(1097)(t(405));e.exports=o},1104:function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return i}));var o=t(1);function a(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.qk,payload:{data:e,tenantId:r},successCallback:t,errorCallback:a}}function i(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.lk,menuPayload:e,exclusionPayload:r,successCallback:t}}},1105:function(e,r,t){var o=t(268),a=t(597);e.exports=function(e){return a(o(e).toLowerCase())}},1114:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var o=t(1);function a(e){return{type:o.he,payload:e}}},1120:function(e,r,t){var o=t(598),a=t(596),i=t(599),d=4294967295,l=Math.min;e.exports=function(e,r){if((e=i(e))<1||e>9007199254740991)return[];var t=d,n=l(e,d);r=a(r),e-=d;for(var s=o(n,r);++t<e;)r(t);return s}},1121:function(e,r,t){"use strict";t.d(r,"a",(function(){return d})),t.d(r,"b",(function(){return l})),t.d(r,"c",(function(){return n}));var o=t(3);function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a.apply(this,arguments)}var i=function(e){var r=Object(o.useRef)(e);return r.current=e,r},d=function(e){var r=void 0===e?{}:e,t=r.requestOptions,d=r.debounce,l=void 0===d?200:d,n=r.cache,s=void 0===n?86400:n,c=r.cacheKey,u=r.googleMaps,v=r.callbackName,O=r.defaultValue,b=void 0===O?"":O,h=r.initOnMount,m=void 0===h||h,p=Object(o.useState)(!1),j=p[0],y=p[1],D=Object(o.useState)(b),I=D[0],R=D[1],N=Object(o.useState)({loading:!1,status:"",data:[]}),w=N[0],g=N[1],x=Object(o.useRef)(null),f=i(t),S=i(u),T=c?"upa-"+c:"upa",E=Object(o.useCallback)((function(){var e;if(!x.current){var r=window.google,t=S.current,o=(null==t?void 0:t.places)||(null==r||null==(e=r.maps)?void 0:e.places);o?(x.current=new o.AutocompleteService,y(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),C=Object(o.useCallback)((function(){g({loading:!1,status:"",data:[]})}),[]),H=Object(o.useCallback)((function(){try{sessionStorage.removeItem(T)}catch(e){}}),[]),k=Object(o.useCallback)(function(e,r){var t;return function(){for(var o=this,a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];null!==t&&(clearTimeout(t),t=null),t=setTimeout((function(){return e.apply(o,i)}),r)}}((function(e){if(e){g((function(e){return a({},e,{loading:!0})}));var r={};try{r=JSON.parse(sessionStorage.getItem(T)||"{}")}catch(t){}s&&(r=Object.keys(r).reduce((function(e,t){return r[t].maxAge-Date.now()>=0&&(e[t]=r[t]),e}),{}))[e]?g({loading:!1,status:"OK",data:r[e].data}):x.current.getPlacePredictions(a({},f.current,{input:e}),(function(o,a){if(g({loading:!1,status:a,data:o||[]}),s&&"OK"===a){r[e]={data:o,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(T,JSON.stringify(r))}catch(t){}}}))}else C()}),l),[l,C]),_=Object(o.useCallback)((function(e,r){void 0===r&&(r=!0),R(e),x.current&&r&&k(e)}),[k]);return Object(o.useEffect)((function(){if(!m)return function(){return null};var e=window.google;return S.current||null!=e&&e.maps||!v?E():window[v]=E,function(){window[v]&&delete window[v]}}),[v,E]),{ready:j,value:I,suggestions:w,setValue:_,clearSuggestions:C,clearCache:H,init:E}},l=function(e){var r=new window.google.maps.Geocoder;return new Promise((function(t,o){r.geocode(e,(function(r,a){"OK"!==a&&o(a),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),t(r)),t(r)}))}))},n=function(e){return new Promise((function(r,t){try{var o=e.geometry.location,a=o.lat,i=o.lng;r({lat:a(),lng:i()})}catch(d){t(d)}}))}},1271:function(e,r,t){"use strict";t.d(r,"a",(function(){return v})),t.d(r,"b",(function(){return O})),t.d(r,"d",(function(){return b})),t.d(r,"m",(function(){return h})),t.d(r,"g",(function(){return m})),t.d(r,"f",(function(){return p})),t.d(r,"l",(function(){return j})),t.d(r,"j",(function(){return y})),t.d(r,"i",(function(){return D})),t.d(r,"k",(function(){return I})),t.d(r,"e",(function(){return R})),t.d(r,"c",(function(){return N})),t.d(r,"h",(function(){return w}));var o=t(6),a=t(123),i=t(332),d=t(4),l=t(1108),n=t(265),s=t(12),c=t(5),u=t(1111);const v={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,showCarryBagInLineItem:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null,showTaxLines:!1,showTaxExcluded:!0},O=e=>{const{dispatch:r,customerId:t,tenantId:o}=e,a=Object(c.zc)(12);r(Object(i.d)({customerId:t,tenantId:o},a))},b=e=>{const{dispatch:r,tenantId:t,selectedOrderId:o,orderDetails:i}=e,d=null===i||void 0===i?void 0:i.service;Object(c.qe)(o)&&r(Object(a.c)({orderId:o,tenantId:t,CTO:!!Object(c.Jd)(d)&&void 0}))},h=e=>{var r,t,o,a,i,d,l,n,s,c,u,v,O,b,h,m,p,j,y,D,I,R,N,w,g,x,f,S,T,E,C,H,k,_,A,F,P,M;const{props:W,dispatch:L,tenantReducer:V,profileReducer:B,updateSetOrderHistoryDetails:G,openReorderModal:U,userOrderStateDispatch:J}=e,{authoredContent:q,tenantId:Y,currencySymbol:K,currencyConversionFactor:Q,addHope:X,carryBag:z,showCarryBagInLineItem:Z,pastOrderDateformat:$="",pastOrderTimeFormat:ee="",componentOptions:re,scheduleOrderDateFormat:te,dateFormat:oe,timeFormat:ae}=V;G({props:W,dispatch:L,authoredContent:q,tenantId:Y,currencySymbol:K,currencyConversionFactor:Q,addHope:X,carryBag:z,showCarryBagInLineItem:Z,pastOrderDateformat:$,pastOrderTimeFormat:ee,scheduleOrderDateFormat:te,dateFormat:oe,timeFormat:ae,customerId:null===B||void 0===B?void 0:B.customerId,customer:null===B||void 0===B?void 0:B.basic,favoriteItems:(null===B||void 0===B?void 0:B.favouriteItems)||[],openReorderModal:U,userOrderStateDispatch:J,showTaxLines:null===re||void 0===re||null===(r=re.web)||void 0===r||null===(t=r.cartPage)||void 0===t?void 0:t.showTaxLines,showTaxExcluded:null===re||void 0===re||null===(o=re.web)||void 0===o||null===(a=o.checkout)||void 0===a?void 0:a.showTaxExcluded,enableGlobalOrderTracking:null===V||void 0===V||null===(i=V.componentOptions)||void 0===i||null===(d=i.web)||void 0===d||null===(l=d.orderPages)||void 0===l?void 0:l.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===V||void 0===V||null===(n=V.componentOptions)||void 0===n||null===(s=n.web)||void 0===s||null===(c=s.orderPages)||void 0===c?void 0:c.enableRetryCountForPickupOrderTracking,pickupTrackOrderButtonLabel:null===V||void 0===V||null===(u=V.componentOptions)||void 0===u||null===(v=u.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.pickupTrackOrderButtonLabel,enableClickCollectScheduleOrder:null===re||void 0===re||null===(b=re.web)||void 0===b||null===(h=b.dispositionConfig)||void 0===h?void 0:h.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===re||void 0===re||null===(m=re.web)||void 0===m||null===(p=m.scheduledDelivery)||void 0===p?void 0:p.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===V||void 0===V||null===(j=V.componentOptions)||void 0===j||null===(y=j.web)||void 0===y||null===(D=y.orderPages)||void 0===D?void 0:D.showGiftCardOrVoucherSummary,showPromosSummary:null===V||void 0===V||null===(I=V.componentOptions)||void 0===I||null===(R=I.web)||void 0===R||null===(N=R.orderPages)||void 0===N?void 0:N.showPromosSummary,enableScheduleOrder:null===V||void 0===V||null===(w=V.componentOptions)||void 0===w||null===(g=w.web)||void 0===g||null===(x=g.dispositionConfig)||void 0===x?void 0:x.enableScheduleOrder,showStoreRegistrationNumber:null===re||void 0===re||null===(f=re.web)||void 0===f||null===(S=f.orderPages)||void 0===S?void 0:S.showStoreRegistrationNumber,showStoreOrderNumber:null===re||void 0===re||null===(T=re.web)||void 0===T||null===(E=T.orderPages)||void 0===E?void 0:E.showStoreOrderNumber,showOrderDateTime:null===re||void 0===re||null===(C=re.web)||void 0===C||null===(H=C.orderPages)||void 0===H?void 0:H.showOrderDateTime,showOrderMode:null===re||void 0===re||null===(k=re.web)||void 0===k||null===(_=k.orderPages)||void 0===_?void 0:_.showOrderMode,showOrderStatus:null===re||void 0===re||null===(A=re.web)||void 0===A||null===(F=A.orderPages)||void 0===F?void 0:F.showOrderStatus,showPickupOrDeliveryTime:null===re||void 0===re||null===(P=re.web)||void 0===P||null===(M=P.orderPages)||void 0===M?void 0:M.showPickupOrDeliveryTime})},m=e=>{const{cartReducer:r,updateSetOrderHistoryDetails:t}=e,{cartData:o}=r;t({cartDataService:null===o||void 0===o?void 0:o.service})},p=e=>{const{appStateReducer:r,updateSetOrderHistoryDetails:t}=e;t({userStatus:null===r||void 0===r?void 0:r.userStatus})},j=e=>{const{paymentsContentReducer:r,updateSetOrderHistoryDetails:t}=e;t({paymentsContentReducer:r})},y=e=>{var r,t,o;const{orderHistoryReducer:a,orderHistoryDetails:i,updateSetOrderHistoryDetails:d,tenantReducer:n}=e;d({selectedOrderId:"",orderHistory:null!==a&&void 0!==a&&a.orderHistory&&Array.isArray(null===a||void 0===a?void 0:a.orderHistory)&&(null===a||void 0===a||null===(r=a.orderHistory)||void 0===r?void 0:r.length)>0?null===a||void 0===a||null===(t=a.orderHistory)||void 0===t||null===(o=t.sort(((e,r)=>(null===r||void 0===r?void 0:r.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch))))||void 0===o?void 0:o.map((r=>{var t;const o=Object(l.k)({postOrPastOrderDetails:{...r,customer:null===i||void 0===i?void 0:i.customer,phoneNum:null===r||void 0===r||null===(t=r.customer)||void 0===t?void 0:t.phoneNumber},orderDetails:i,paymentsContentReducer:null===i||void 0===i?void 0:i.paymentsContentReducer,tenantReducer:n});return o.enableGlobalOrderTracking=null===i||void 0===i?void 0:i.enableGlobalOrderTracking,o.enableRetryCountForPickupOrderTracking=null===i||void 0===i?void 0:i.enableRetryCountForPickupOrderTracking,(e=>{const{profileReducer:r,orderDetails:t}=e,{favouriteOrders:o}=r;if(Object(c.pe)(t)&&(null===o||void 0===o?void 0:o.length)>0){const e=null===o||void 0===o?void 0:o.find((e=>(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.orderId)));Object(c.pe)(e)&&(t.isOrderSavedAsFavorite=!0,t.favoriteOrderName=null===e||void 0===e?void 0:e.name)}return t})({orderDetails:o,...e})})):[]})},D=e=>{const{orderHistoryDetails:r,updateSetOrderHistoryDetails:t}=e,{orderHistory:o}=r;t({currentOrderHistory:null===o||void 0===o?void 0:o.filter((e=>!Object(n.cb)(e)&&!Object(n.bb)(e))),completedOrderHistory:null===o||void 0===o?void 0:o.filter((e=>Object(n.cb)(e)||Object(n.bb)(e)))})},I=e=>{const{orderReducer:r,orderHistoryDetails:t,updateSetOrderHistoryDetails:o,tenantReducer:a}=e;o({orderDetails:Object(l.k)({postOrPastOrderDetails:null===r||void 0===r?void 0:r.response,orderDetails:t,paymentsContentReducer:null===t||void 0===t?void 0:t.paymentsContentReducer,tenantReducer:a})})},R=e=>{const{orderDetails:r,orderHistoryDetails:t,redirectTo:o}=e,{props:a}=t;(null===r||void 0===r?void 0:r.orderId)&&Object(u.s)({trackDetails:t,orderDetails:r,redirectTo:o,props:a})},N=e=>{var r,t,a,i;const{orderHistoryDetails:l,orderDetails:u,tenantReducer:v}=e,{orderDateOn:O,displayTodayDate:b,displayFormatOrderTime:h,service:m,statusUpdatedDate:p,showOrderingTime:j}=u,{showOrderDateTime:y}=l,D=y?j:h,I=null===O||void 0===O?void 0:O.split(" "),R=!!(null===v||void 0===v||null===(r=v.componentOptions)||void 0===r||null===(t=r.orderHistory)||void 0===t?void 0:t.showGiftCardRefundStatus)&&Object(n.Z)(null===u||void 0===u?void 0:u.postOrderDetails),N=Object(c.Jd)(m)?Object(n.A)(u):Object(n.u)(u),{isMobileView:w}=l;var g,x;if(Object(n.ab)(u))return"".concat(Object(o.translateWithI18Next)(Object(n.lb)(u)||Object(n.kb)(u)?R?null===d.a||void 0===d.a?void 0:d.a.GIFT_CARD_PROVIDED:null===d.a||void 0===d.a?void 0:d.a.REFUNDED:null===d.a||void 0===d.a?void 0:d.a.CANCELED),": ").concat(Object(o.translateWithI18Next)(null===I||void 0===I?void 0:I[0])+" "+(null!==(g=null===I||void 0===I?void 0:I[1])&&void 0!==g?g:"")+" "+(null!==(x=null===I||void 0===I?void 0:I[2])&&void 0!==x?x:"")+" "+D);if(!N&&Object(s.J)(p)&&O===b){var f,S;let e="".concat(Object(o.translateWithI18Next)(null===I||void 0===I?void 0:I[0])+" "+(null!==(f=null===I||void 0===I?void 0:I[1])&&void 0!==f?f:"")+" "+(null!==(S=null===I||void 0===I?void 0:I[2])&&void 0!==S?S:"")," ").concat(Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.AT)," ");return O===b&&(e=Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SCHEDULE)+" ".concat(Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.FOR)," ")+Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.TODAY_AT)),"".concat(e," ").concat(D)}return"".concat(Object(o.translateWithI18Next)(null===I||void 0===I?void 0:I[0])+" "+(null!==(a=null===I||void 0===I?void 0:I[1])&&void 0!==a?a:"")+" "+(null!==(i=null===I||void 0===I?void 0:I[2])&&void 0!==i?i:"")," ").concat(w?" "+D:Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.AT)+" "+D)},w=e=>{const{contentReducer:r,updateSetOrderHistoryDetails:t}=e;t({StoreRegistrationNumber:Object(c.Uc)(r),...Object(c.Tc)(r)})}}}]);