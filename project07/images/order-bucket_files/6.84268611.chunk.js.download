(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[6],{1103:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,l,n,a;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,s=await Promise.resolve().then(o.bind(null,215));return null===s||void 0===s||null===(l=s.default)||void 0===l||null===(n=l[null===d||void 0===d||null===(a=d.toUpperCase)||void 0===a?void 0:a.call(d)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,o(121))},1113:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o(210),l=o(2);const n=e=>Object(l.jsx)(i.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},1122:function(e,t,o){"use strict";o.d(t,"b",(function(){return Y})),o.d(t,"f",(function(){return k})),o.d(t,"i",(function(){return K})),o.d(t,"c",(function(){return J})),o.d(t,"j",(function(){return B})),o.d(t,"h",(function(){return z})),o.d(t,"d",(function(){return q})),o.d(t,"e",(function(){return Q})),o.d(t,"g",(function(){return Z})),o.d(t,"a",(function(){return $}));var i=o(16),l=o(106),n=o(92),a=o(270),d=o(6),s=o(46),r=o(24),c=o(0),u=o(5),v=o(15),O=o(2);const{Location_Error:E,errorIcon:S}=v.a,{TAKEAWAY_TITLE:T,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:_,DINEIN_TITLE:D,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:m,NOSTORE_TITLE:b,NOSTORE_CONTENT:h,NOSTORE_TOAST_MSG:A,CLOSED_STORE_TITLE:R,CLOSED_STORE_CONTENT:C,LOCATION_ALERT_MSG:N,CLOSED_STORE_TOAST_MSG:j}=a.b,{DINE_IN:g,DISTANCE_20000MR:y,START_ORDER_BUTTON:f,BROWSE_MENU_BUTTON:L}=a.a,{SEARCH_ORDER_DATA:P="",SELECTED_TILE_DATA:x="",SCHEDULE_ORDER_TIME_DATA:M="",SET_DISPOSITION:w,USER_LOCALIZED:H,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:W,SET_FORCERELOAD:U}=i.a,Y=(e,t,o,i,l,n)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?n(e):l(e,t):null!==e&&void 0!==e&&e.length||i(t,o)},k=function(e,t,o,i,l,n,a,d,s,u,v,O){var E;let S=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{isDriveTimeFromAdminPortal:!1,maxDriveTimeMins:12,geoLocation:()=>{}};const{isDriveTimeFromAdminPortal:T,maxDriveTimeMins:p,geoLocation:_}=S;let D=e.filter((e=>{var t,o,i,l,n,a,d,s,r,c,u,v,O,E;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l?void 0:l.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(a=n.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(s=d.menu)||void 0===s||null===(r=s.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(E=O.timings)||void 0===E?void 0:E.asap)}));if((null===(E=D)||void 0===E?void 0:E.length)>0){if(T&&n===c.yb){const e={stores:D,numberOfStores:2,disposition:n,distanceMetrics:l,driveTime:p,channel:r.b.channel,isDriveTimeFromAdminPortal:T},t=null===_||void 0===_?void 0:_.getSortedNearbyStores(e);if(null===t||void 0===t||!t.length)return void u(n,l);D=t}if(d){var I=JSON.parse(localStorage.getItem(c.Hb));I&&(D[0].id!==I.store.id||D[0].service!==I.type?(s(!0),o(!1),v(D[0])):o(!1))}else t(D[0])}else O(!0),u(n,l)},K=(e,t,o,i,l,n)=>{var a,d;t({type:w,value:{oldvalue:e,newValue:{type:i,store:l,date:n.date,time:n.time,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:null===o||void 0===o||null===(a=o.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:i,store:l,date:n.date,time:n.time,selectedTime:n.selectedTime,interval:n.interval,deliveryAddress:null===o||void 0===o||null===(d=o.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:P,value:{showSearchStore:!1}}),t({type:H,value:{isLocalized:!0}})},J=(e,t,o,l)=>{const{SCHEDULE_ORDER_DATA:n,DISPOSITION_METHOD:a}=i.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:s,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:O,SAVED_TIME_ORDER:E}=c.gd;let S={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:w,value:{oldvalue:S,newValue:S}}),localStorage.removeItem(v),localStorage.removeItem(s),e({type:M,value:{selectedDateTime:{}}}),e({type:W,value:{}}),localStorage.removeItem(O),localStorage.removeItem(E),o(t({...l,localized:!1})),e({type:H,value:{isLocalized:!1}}),e({type:n,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:a,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(r),e({type:F,value:{}})},B=(e,t,o,i,l)=>{e({type:x,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),e({type:F,value:i}),e({type:M,value:{selectedDateTime:o}}),e({type:W,value:{selectContentTime:"ASAP"}}),e({type:U,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(l)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP")},V=(e,t,o,i)=>{let l="";return e?l=i===g?Object(d.translateWithI18Next)(D):Object(d.translateWithI18Next)(T):o?l=Object(d.translateWithI18Next)(b):t&&(l=Object(d.translateWithI18Next)(R)),l},G=(e,t,o,i)=>{let l="";return e?l=i===g?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(p):o?l=Object(d.translateWithI18Next)(h):t&&(l=Object(d.translateWithI18Next)(C)),l},z=(e,t,o,i,l,n,a,s)=>{let r="";return e?(n(!1),r=i===g?Object(d.translateWithI18Next)(m):Object(d.translateWithI18Next)(_)):o?(a(!1),r=Object(d.translateWithI18Next)(A)):t&&(s(!1),r="".concat(Object(d.translateWithI18Next)(j)," ").concat(X(null===l||void 0===l?void 0:l.from)," to ").concat(X(null===l||void 0===l?void 0:l.to))),r},X=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function q(e,t,o,i,a,d,s,r,c,u,v){const S={HEADER_MSG:{MSGTXT1:V(o,i,a,d)},CONTENT_MSG:G(o,i,a,d)};return(o||i||a)&&Object(O.jsx)(l.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(O.jsx)(n.a,{splitTitle:S.HEADER_MSG,contentMsg:S.CONTENT_MSG,imageSrc:E,altText:"location-error",confirmButtonText:L,cancelButtonText:o?f:null,cancelHandler:o?t:null,confirmHandler:()=>{e(i,a)}})})}const Q=()=>Object(O.jsx)("div",{className:"location-notification col-6",children:Object(O.jsxs)("div",{className:"notify-alert",children:[Object(O.jsx)(s.a,{srcFile:S,className:"location-alert-icon"}),Object(O.jsx)("span",{children:Object(d.translateWithI18Next)(N)})]})}),Z=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),$=e=>e.filter((e=>{var t,o;return Object(u.qe)(e.id)&&Object(u.qe)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.qe)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}))},1129:function(e,t,o){"use strict";o.d(t,"a",(function(){return h}));var i=o(3),l=o.n(i),n=o(1130),a=o(411),d=o(16),s=o(210),r=o(2);var c=e=>Object(r.jsx)(s.a,{importPath:"CONTENT_DISPOSITION_ITEMS",...e}),u=o(1157),v=o(5),O=o(1108),E=o(85),S=o(0),T=o(62),p=o(28),_=o(133),D=o(73),I=o(1122),m=o(55),b=o(399);const h=e=>{var t,o,h,A,R,C,N,j,g;const{userParams:y,contentData:f,showHeader:L=!0,hideTimeslot:P,showCateringDisposition:x}=e,{DISPOSITION_DATA:M,SCHEDULE_ORDER_DATA:w,DISPOSITION_METHOD:H,SHOW_CLEAR_CART_ALERT:F,SEARCH_ORDER_DATA:W,CLEAR_CART_CONFIRM_CANCEL_MODAL:U,clearCartExposedFlag:Y,searchStoreAlertTitle:k,CURRENT_STORE_INFO:K,SET_FIND_A_KFC_VIEW:J,ORDER_SUMMARY_MODAL_CLOSE:B,SCHEDULE_ORDER_CLICKED:V,SHOW_SCHEDULE_DISPOSITION:G}=d.a,{segmentedHomePageData:z=[]}=f,{headline:X=[],supportedDispositions:q=[]}=z,Q=e.contentData&&Object(a.b)(X,q)||{},Z=(null===(t=e.contentData)||void 0===t?void 0:t.contentDispositionData)&&Object(v.Td)(e.contentData.contentDispositionData)&&Object(u.c)(e.contentData.contentDispositionData)||{},{userOrderState:$,userOrderStateDispatch:ee}=Object(i.useContext)(E.a)||{},te=localStorage.getItem(S.gd.SERVICE_TYPE),oe=null===te||void 0===te?void 0:te.toUpperCase();let{enableAddressLocalisation:ie=!1}=Object(p.c)((e=>Object(v.sd)(e.tenantReducer)));ie=void 0!==$.enableAddressLocalisation?$.enableAddressLocalisation:ie;const le=null===$||void 0===$||null===(o=$.dispositionStateData)||void 0===o||null===(h=o.dispositionType)||void 0===h?void 0:h.toUpperCase(),ne=(null===$||void 0===$||null===(A=$.scheduleOrderData)||void 0===A?void 0:A.changeFlow)||!1,ae=le&&!ne?le===S.Lb.DELIVERY:oe===S.Lb.DELIVERY,de=ie&&ae,{cartData:se={}}=Object(p.c)((e=>e.cartReducer)),[re,ce]=Object(i.useState)(L),ue=Object(b.c)(),ve=ne?JSON.parse(localStorage.getItem(S.gd.SELECTED_ADDRESS)):{},Oe=(null===$||void 0===$||null===(R=$.scheduleOrderData)||void 0===R?void 0:R.selectedAddress)||ve,Ee=null===Oe||void 0===Oe?void 0:Oe.deliverySearchType,Se=Ee?ue.find((e=>e.id===Ee)):ue[0],[Te,pe]=Object(i.useState)(Se),_e=Object(T.h)(),De=Object(p.b)(),Ie=null===(C=localStorage)||void 0===C?void 0:C.getItem("guestActiveOrders");let me=[];try{me=JSON.parse(Ie)}catch(Ce){me=[]}me=Object(O.d)(me,null===y||void 0===y?void 0:y.loggedIn);const be=Object(i.useCallback)((()=>{var e;return(y.loggedIn||(null===(e=me)||void 0===e?void 0:e.length)>0&&!(null!==y&&void 0!==y&&y.loggedIn))&&((null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.HOME||(null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.HOME_PAGE||(null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.ACCOUNT||(null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.ACTIVE_ORDERS)||sessionStorage.getItem(S.Ne.PICKUP_ORDER_CANCELLED)&&((null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.HOME||(null===_e||void 0===_e?void 0:_e.pathname)===S.Ce.HOME_PAGE)}),[null===_e||void 0===_e?void 0:_e.pathname,y.loggedIn]);Object(i.useEffect)((()=>{be()||(ce(!0),sessionStorage.removeItem(S.Ne.PICKUP_ORDER_CANCELLED))}),[y.localized,be()]),Object(i.useEffect)((()=>{var e;null!==$&&void 0!==$&&null!==(e=$.dispositionStateData)&&void 0!==e&&e.showDisposition&&pe(ue[0])}),[null===$||void 0===$||null===(N=$.dispositionStateData)||void 0===N?void 0:N.showDisposition]);const he=Object(r.jsx)(s.a,{importPath:"START_ORDER_ITEMS",contentData:Q,clickHandler:()=>{Object(a.c)(),ee({type:J,value:{findAKFC:!1}}),ee({type:W,value:{showSearchStore:!1}}),ee({type:B,orderSummaryModalClose:!0}),localStorage.setItem(S.gd.RETAIN_ADDRESS,""),x?(Object(m.o)(),ee({type:W,value:{showSearchStore:!0,configSearchScreen:_.c}}),localStorage.setItem(S.gd.CONFIG_SEARCH_SCREEN,_.a),ee({type:H,value:{dispositionType:S.Jb.CATERING}}),De(Object(D.u)())):Object(v.Wd)(null===_e||void 0===_e?void 0:_e.pathname)?(ee({type:M,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),ee({type:W,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):ee({type:M,value:{showDisposition:!0}})}}),Ae=()=>{if(be())return Object(r.jsx)(s.a,{...e,testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:ce,isHeaderTrackOrderEnabled:be})},Re=Object(r.jsx)(c,{contentData:Z,clickHandler:(e,t)=>{e.preventDefault(),e.stopPropagation(),ee({type:J,value:{findAKFC:!1}}),ee({type:W,value:{showSearchStore:!1}}),ee({type:w,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,changeFlow:!0}}),ee({type:K,value:t}),ee({type:G,value:{showSheduleDisposition:!1}}),ee({type:V,value:{scheduleModeClicked:!1}}),ee({type:d.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),ee({type:d.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}})},selectedInfo:$,hideTimeslot:P,showBlackStripeContent:re,headerTrackOrder:Ae,activeDisposition:oe,dispositionChange:(e,t)=>{let o="";var i;if(e.stopPropagation(),e.preventDefault(),Object(u.b)(t),o=t.trim(),null!==S.Kb&&void 0!==S.Kb&&S.Kb.includes(o.toUpperCase()))if(ee({type:H,value:{dispositionType:o}}),(null===se||void 0===se||null===(i=se.foodLines)||void 0===i?void 0:i.length)>0){let e={flag:Y,onConfirm:k};Object(v.Fe)(ee,e,F,U)}else ee({type:W,value:{showSearchStore:!0}})}});return Object(r.jsx)(l.a.Fragment,{children:Object(r.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[L&&(()=>{let e=he;if(be()&&(e=re?Object(r.jsxs)("div",{children:[he," ",Ae()]}):Ae()),!Object(v.le)()&&Object(v.Td)(Z)&&y.localized)e=Re;else if(y.localized){const t=Object(v.Sd)($.dispositionNew)?JSON.parse(localStorage.getItem(S.gd.DISPOSITION_NEW)):$.dispositionNew;t&&Object(v.Td)(t.store||{})?e=Re:Object(v.w)()}return e})(),$.showLocationBlockBanner&&Object(I.e)(),(null===$||void 0===$||null===(j=$.dispositionStateData)||void 0===j?void 0:j.showDisposition)&&Object(r.jsx)(n.a,{}),!(null!==$&&void 0!==$&&$.findAKFC)&&(null===$||void 0===$||null===(g=$.searchStoreData)||void 0===g?void 0:g.showSearchStore)&&Object(r.jsx)(s.a,{importPath:de?"DELIVERY_ADDRESS_SEARCH_FORM":"SEARCH_STORE_TEMPLATE",deliverySearchType:Te,setDeliverySearchType:pe,onStoreSelectFinish:m.y}),(null===$||void 0===$?void 0:$.scheduleOrderData.showScheduleOrderCatering)&&Object(r.jsx)(s.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:m.y})]})})}},1130:function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var i=o(3),l=o.n(i),n=o(62),a=o(28),d=o(73),s=o(5),r=o(35),c=o(6),u=o(41),v=o(2);var O=e=>{const{modalContent:t,onDispositionMethodSubmit:o,setRef:i=null}=e,{contentText:n="",infoObject:a=null,orderTypes:d=[]}=t,s=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{o(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(l.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),a&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:a.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:o,"data-testid":"form-component",children:s})]})})},E=o(144),S=o(55);var T=e=>{Object(i.useEffect)((()=>{Object(S.o)()}),[]);const{handleClose:t,DispositionModuleForm:o,headerText:n,modalTitleId:a=""}=e;return Object(v.jsx)(l.a.Fragment,{children:Object(v.jsx)(E.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:a,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:o})})},p=o(21),_=o(9),D=o(0),I=o(407),m=o(16);const b=(e,t)=>{const o=[];for(const n of e){var i,l;const e=null===n||void 0===n||null===(i=n.fields)||void 0===i||null===(l=i.name)||void 0===l?void 0:l.split("-"),a=e[e.length-1].trim().toUpperCase();if(t&&null!==a&&void 0!==a&&a.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:s=!1,name:r,showOption:c=!0,id:u="",dispositionType:v}=n.fields;o.push({buttonText:d,selectDefault:s,type:r,showOption:c,id:u,dispositionType:v})}return o},h=e=>{const{headline:t="",subHeadline:o="",subHeadlineType:i="",title:l=""}=e[0].fields||{};return{modalHeaderText:l,contentText:t,infoObject:{type:i,infoText:o}}},A=(e,t,o,i)=>{var l;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:a}=m.a;null!==e&&void 0!==e&&null!==(l=e.foodLines)&&void 0!==l&&l.length&&!i?Object(s.Fe)(t,{},a,n,o):o()};var R=o(85),C=o(24),N=o(113),j=o(92),g=o(236),y=o(1103),f=o(158),L=o(133),P=o(52);var x=e=>{const{CURRENTLY_CLOSED:t,SORRY:o}=y.a,{userOrderState:l,userOrderStateDispatch:u}=Object(i.useContext)(R.a),{contentData:E={}}=l.dispositionStateData,x=Object(a.c)((e=>e.tenantReducer)),{tenantId:M,disableOrderTypeAnalytic:w,isSpecialEventEnabled:H,enableDeliveryMenuOption:F}=x,{deeplinkSelectedStoreId:W,deepLinkStoreMode:U,isDeepLinkURL:Y}=l,k=Object(s.Td)(E)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:l=[],supportedDispositions:n=[]}=i,a={modalHeaderText:"",modalContent:{}},d=o?n:n.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(o=t.dispositionType)||void 0===o?void 0:o.toUpperCase())!==D.Cf}));a.modalContent.orderTypes=b(d,t);const{modalHeaderText:s,contentText:r,infoObject:c}=h(l);return a.modalHeaderText=s,a.modalContent.contentText=r,a.modalContent.infoObject=c,a}({dispositionData:E,deepLinkStoreMode:U,isSpecialEventEnabled:H,enableDeliveryMenuOption:F});let{modalContent:K={},modalHeaderText:J=""}=k;const{SEARCH_ORDER_DATA:B,MENU_URL:V,DISPOSITION_DATA:G,CURRENT_STORE_INFO:z,SCHEDULE_ORDER_TIME_DATA:X,SELECTED_TILE_DATA:q,DISPOSITION_METHOD:Q,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:oe,SET_REDIRECTION_PATH:ie}=m.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:le,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:ae,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:se,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:Oe,SWITCH_TO_DINEIN_TEXT:Ee}=I.a,{ENABLE_ADDRESS_LOCALISATION:Se,SHOW_MAP_VIEW_BUTTON:Te}=P.a,pe=l&&l.dispositionStateData&&l.dispositionStateData.dispositionType?l.dispositionStateData.dispositionType:null;let _e="";const De=Object(s.Sd)(l.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):l.dispositionNew,Ie=Object(a.b)(),me=Object(n.g)(),[be,he]=Object(i.useState)(""),[Ae,Re]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ce={},qrCodeScanTime:Ne}=Object(a.c)((e=>e.cartReducer)),{customerId:je=""}=Object(a.c)((e=>e.profileReducer));let ge=Object(a.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:ye=[],isStoreStatusLoading:fe,selectedStoreDetailsDL:Le={}}=Object(a.c)((e=>Object(s.sd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Pe}}=I.a;Object(i.useEffect)((()=>{Ie(Object(d.u)()),Ie(Object(d.t)()),Ie(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:D.Ce.HOME_PAGE}))})(U,me)}),[Ie]);const xe=Object(i.useCallback)(((e,t)=>{e.stopPropagation();A(Ce,u,(()=>{Re({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Pe,u,Ce]);Object(i.useEffect)((()=>{U&&Ie(Object(d.l)({storeId:W,tenantId:M},null,(()=>{Re({showError:!0,errMsg:Object(c.translateWithI18Next)(re),errDesc:null,buttonText:Object(c.translateWithI18Next)(se),buttonCTA:e=>xe(e,!1)})})))}),[se,re,U,W,Ie,M]);const Me=(e,t,o,i)=>{e.stopPropagation(),e.preventDefault();const l=t.split("-");if(_e=l[l.length-1].trim(),-1!==_e.toLowerCase().indexOf("dine")&&(_e=le),i&&(_e=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(s.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},s.Bb)})({selectedDispositionType:_e}),U){const e={data:[{storeId:W,channel:C.b.channel,service:D.fe},{storeId:W,channel:C.b.channel,service:D.Eb}],store:[{...Le,service:D.fe},{...Le,service:D.Eb}],tenantId:M,setStatusFlag:!1,isFavoritePage:!1},t=()=>{he(_e),Ie(Object(d.d)(e)),u({type:Q,value:{dispositionType:_e}})};A(Ce,u,t,o)}else[le,ne,ae,de].includes(_e.toUpperCase())&&(u({type:oe,value:{findAKFC:!1}}),u({type:B,value:{showSearchStore:!0,configSearchScreen:L.a}}),localStorage.setItem(D.gd.CONFIG_SEARCH_SCREEN,L.a),u({type:G,value:{showDisposition:!1}}),u({type:Q,value:{dispositionType:_e}}),u({type:Se,value:void 0}),u({type:Te,value:void 0}),localStorage.removeItem(null===D.gd||void 0===D.gd?void 0:D.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:a=!1}=ge,r=Object(s.od)(n,a);((e,t)=>{var o;t||Object(S.p)(null===_.a||void 0===_.a||null===(o=_.a.selectOrderType)||void 0===o?void 0:o.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(s.h)(_e),"%userType%":r},w)},we=async(e,t)=>{const o=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(s.Mb)(t)));if(null!==o&&void 0!==o&&o.length){var i,n,a,d,v,O,E,T,p,_,I,m,b;const e={time:"ASAP",interval:null===o||void 0===o||null===(i=o[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(s.nb)(Ie,!0,Ne,null===o||void 0===o?void 0:o[0],Object(s.Mb)(t),je,e);Ie(Object(r.f)({data:c,tenantId:M})),u({type:$,value:{oldvalue:De,newValue:{store:null===o||void 0===o?void 0:o[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===l||void 0===l||null===(n=l.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(De)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===o||void 0===o?void 0:o[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===l||void 0===l||null===(a=l.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress})),Object(s.ze)(null===o||void 0===o||null===(d=o[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(O=v[0])||void 0===O||null===(E=O.address)||void 0===E||null===(T=E.addressLines)||void 0===T?void 0:T[0],f.a.ALREADY_SERACHED_LOCATIONS),Object(s.vf)();const D={storeID:null===o||void 0===o||null===(p=o[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===o||void 0===o||null===(_=o[0])||void 0===_||null===(I=_.addresses)||void 0===I||null===(m=I[0])||void 0===m||null===(b=m.address)||void 0===b?void 0:b.pinCode};Object(S.y)(D),u({type:G,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let o=e||null;u({value:{selectedData:{}},type:q}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),u({value:o,type:z}),Ie(Object(N.a)({...ge,localized:!0})),u({value:{selectedDateTime:t},type:X}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(x)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP"),me.push({pathname:"".concat(V)})})(null===o||void 0===o?void 0:o[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===le?Re({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(Oe),buttonCTA:e=>Me(e,D.nf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&Re({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(Ee),buttonCTA:e=>Me(e,D.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(ye.length>0&&!fe&&be&&U){var e,i,l;((e,i)=>{null!==e&&void 0!==e&&e.length?we(e,pe):Re({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(o)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(se),buttonCTA:e=>xe(e,!0)})})(null===ye||void 0===ye?void 0:ye.filter((e=>{var t,o,i,l,n,a,d,s,r,c,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(l=i.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(a=n.menu)||void 0===a||null===(d=a.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(r=s.timings)||void 0===r||null===(c=r.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(O=v.asap)||void 0===O?void 0:O.isAvailable)})),null===ye||void 0===ye||null===(e=ye[0])||void 0===e||null===(i=e.name)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.value)}}),[ye,fe,U]);const He=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:G,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Pe,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:oe,value:{findAKFC:window.location.pathname===D.Ce.FIND_STORE}}),Y&&Object(s.Bd)(me)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&He(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(O,{modalContent:K,onDispositionMethodSubmit:Me}),We=Object(v.jsx)(T,{handleClose:He,DispositionModuleForm:Fe,headerText:J,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ae||void 0===Ae?void 0:Ae.showError)&&Object(v.jsx)(g.a,{handleClose:null,CartAlertForm:Object(v.jsx)(j.a,{title:null===Ae||void 0===Ae?void 0:Ae.errMsg,contentMsg:null===Ae||void 0===Ae?void 0:Ae.errDesc,confirmButtonText:null===Ae||void 0===Ae?void 0:Ae.buttonText,confirmHandler:null===Ae||void 0===Ae?void 0:Ae.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),We]})}},1152:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return l}));const i="outOfService",l="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1157:function(e,t,o){"use strict";o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return v}));var i=o(12),l=o(1152),n=o(6),a=o(5),d=o(120),s=o(21),r=o(0);const c=e=>{var t,o,i,l,n,a,d,s;const{url:r=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(o=t.fields)||void 0===o||null===(i=o.desktopImage)||void 0===i||null===(l=i.fields)||void 0===l?void 0:l.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(n=e.headline[0])||void 0===n||null===(a=n.fields)||void 0===a||null===(d=a.desktopImage)||void 0===d?void 0:d.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(s=e.headline[1])||void 0===s?void 0:s.fields)||{},{supportedDispositions:O=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:O.map((e=>e.fields)),src:r,alt:c}},u=(e,t,o)=>{var s,r,c,u,v;const O=(null===t||void 0===t||null===(s=t.summary)||void 0===s||null===(r=s.status)||void 0===r?void 0:r.currentStatus)||l.a,{futureDates:E,scheduled:S,asap:T}=Object(a.sd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:p}=Object(a.sd)(S),{interval:_=0,startEndTime:D={}}=Object(a.sd)((null===S||void 0===S||null===(u=S.periods)||void 0===u?void 0:u.length)&&(null===S||void 0===S?void 0:S.periods[0])),{from:I,to:m}=Object(a.sd)(D);let b=Object(d.j)(I,m,_,null===T||void 0===T?void 0:T.isAvailable,1===(null===E||void 0===E?void 0:E.length)&&"INDIA"===(null===o||void 0===o||null===(v=o.country)||void 0===v?void 0:v.toUpperCase()),p);if(O===l.a&&!b.length||null===e||void 0===e||!e.time)return Object(n.translateWithI18Next)(l.b);const h=e.time,A=e.interval,R="object"==typeof e.date?e.date:new Date(e.date),C=Object(i.R)(Object(i.h)(R,"YYYY-MM-DD")+" "+h,"YYYY-MM-DD hh:mm A"),N=Object(i.a)(C,A,"minutes"),j=Object(i.k)(N,"LT");return"ASAP"===h?"".concat(h):"".concat(h," - ").concat(j)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await s.a.registerEvent(void 0,{data:t[0]},a.Bb)},{ORDER_TYPE_STORE_INFO_FROM:O,ORDER_TYPE_STORE_INFO_TO:E,ORDER_TYPE_STORE_INFO_AT:S}=l.c,{DELIVERY:T,DINE_IN:p,PICKUP:_}=r.Jb||{}}}]);