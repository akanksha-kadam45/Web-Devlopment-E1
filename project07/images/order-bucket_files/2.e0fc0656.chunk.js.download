(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[2,145],{1098:function(e,t,o){"use strict";o.d(t,"e",(function(){return a})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return c})),o.d(t,"h",(function(){return u})),o.d(t,"g",(function(){return v})),o.d(t,"a",(function(){return O})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return b}));var l=o(21),d=o(9),i=o(5),r=o(398),n=o(0);const a=async(e,t)=>{var o;await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===d.a||void 0===d.a||null===(o=d.a.upsizeSelectedPwa)||void 0===o?void 0:o.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},i.Bb))},s=async e=>{var t;await l.a.registerEvent(null===d.a||void 0===d.a||null===(t=d.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},i.Bb)},c=async e=>{var t;await l.a.registerEvent(null===d.a||void 0===d.a||null===(t=d.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},i.Bb)},u=async e=>{var t,o,r,n,a;const{eventFlag:s,itemsArray:c,userType:u="",totalAmount:v="",couponCode:O="",currencyShortName:m=""}=e,b=await(null===c||void 0===c?void 0:c.length)>0&&((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.item_name)===(null===c||void 0===c||null===(o=c[1])||void 0===o?void 0:o.item_name)?[null===c||void 0===c?void 0:c[0]]:c);await(null===c||void 0===c?void 0:c.length)>0&&l.a.registerEvent(null===d.a||void 0===d.a||null===(r=d.a[s])||void 0===r?void 0:r.name,{data:{event:s,userType:u||"",ecommerce:{items:b,currency:m||"",value:v||(null===b||void 0===b||null===(n=b[0])||void 0===n?void 0:n.price)*(null===b||void 0===b||null===(a=b[0])||void 0===a?void 0:a.quantity)||"",coupon:O||""}}},i.Bb)},v=async(e,t)=>{var o;await l.a.registerEvent(null===d.a||void 0===d.a||null===(o=d.a.viewItemList)||void 0===o?void 0:o.name,{data:{event:r.u,disposition:Object(i.h)(t),ecommerce:{items:e||[]}}},i.Bb)},O=async()=>{var e;await l.a.registerEvent(null===d.a||void 0===d.a||null===(e=d.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},i.Bb)},m=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===d.a||void 0===d.a||null===(e=d.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:n.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:o}}}}))},b=async e=>{var t,o,r;await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===d.a||void 0===d.a||null===(t=d.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:n.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_name,item_list_id:null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.item_list_id,ecommerce:{items:e||[]}}},i.Bb))}},1108:function(e,t,o){"use strict";o.d(t,"o",(function(){return b})),o.d(t,"f",(function(){return p})),o.d(t,"r",(function(){return j})),o.d(t,"d",(function(){return g})),o.d(t,"g",(function(){return T})),o.d(t,"y",(function(){return f})),o.d(t,"v",(function(){return y})),o.d(t,"s",(function(){return I})),o.d(t,"w",(function(){return N})),o.d(t,"n",(function(){return E})),o.d(t,"x",(function(){return A})),o.d(t,"u",(function(){return x})),o.d(t,"k",(function(){return R})),o.d(t,"p",(function(){return k})),o.d(t,"h",(function(){return M})),o.d(t,"i",(function(){return F})),o.d(t,"j",(function(){return B})),o.d(t,"q",(function(){return U})),o.d(t,"e",(function(){return V})),o.d(t,"l",(function(){return G})),o.d(t,"m",(function(){return Y})),o.d(t,"a",(function(){return K})),o.d(t,"b",(function(){return J})),o.d(t,"c",(function(){return q})),o.d(t,"t",(function(){return Z}));var l=o(0),d=o(274),i=o(5),r=o(12),n=o(265),a=o(20),s=o.n(a),c=o(6),u=o(57),v=o(4),O=o(1111),m=o(1180);const b={tenantId:null,currencyCode:null,currencySymbol:null,currencyShortName:null,showCarryBagInLineItem:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,favouriteOrderRegex:"",hideCancelOrderPanel:null,enableCancelOrderCallsupportModal:null,hidePickupCheckin:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,miscPaymentReferenceId:null,wiCodePurchaseId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},enableOrderNoteForCheckout:!1,deliveryOrEstimatedOrCollectAtTime:null,pickupOrderEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(i.de)(window.innerWidth),discountLines:[],paymentDiscountLines:[],paymentDiscountTotal:0,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayOrderProcessingPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,deliverySearchType:"",savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,isShowStoreClosePickupOrderCancelModal:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0,orderSummarycontentData:{},openCallSupportModal:!1,showGiftCardOrVoucherSummary:!1,showPromosSummary:!1,showOrderingTime:"",isPostorderStoreShutdownPopupModal:!1,showOrderSummaryOnSentToPosFailed:!1,isUberServiceableEnabled:!1},p=e=>null!==e&&void 0!==e&&e.enableGlobalOrderTracking?0===parseInt(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber:0===parseInt(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId,h=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(i.hb)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((e=>{var d,i,r,n,a,s,c,u,v,O,m,b,p,h,j,g,S,D,C;return(null===o||void 0===o?void 0:o.length)>0&&(null===l.Vd||void 0===l.Vd||null===(d=l.Vd.CREDIT_CARD)||void 0===d?void 0:d.toLowerCase())===(null===t||void 0===t||null===(i=t[0])||void 0===i||null===(r=i.type)||void 0===r?void 0:r.toLowerCase())?(null===e||void 0===e||null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.toLowerCase())===(null===o||void 0===o||null===(s=o[0])||void 0===s||null===(c=s.paymentInstrumentType)||void 0===c?void 0:c.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===o||void 0===o||null===(O=o[0])||void 0===O||null===(m=O.paymentInstrumentType)||void 0===m?void 0:m.toLowerCase()):(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(p=b.title)||void 0===p?void 0:p.toLowerCase())===(null===t||void 0===t||null===(h=t[0])||void 0===h||null===(j=h.type)||void 0===j?void 0:j.toLowerCase())||(null===e||void 0===e||null===(g=e.fields)||void 0===g||null===(S=g.orderServName)||void 0===S?void 0:S.toLowerCase())===(null===t||void 0===t||null===(D=t[0])||void 0===D||null===(C=D.type)||void 0===C?void 0:C.toLowerCase())})):{}};function j(e){var t,o,d,i;if((null===e||void 0===e?void 0:e.status)===(null===l.Rd||void 0===l.Rd||null===(t=l.Rd.SENT_TO_POS_FAILED)||void 0===t?void 0:t.toLowerCase()))return;let r=[];const n=localStorage.getItem("guestActiveOrders");if(n)try{const e=JSON.parse(n);r=null!==Array&&void 0!==Array&&Array.isArray(e)?e:[]}catch(N){console.error("Error parsing stored orders:",N)}const a=null===(o=r)||void 0===o?void 0:o.some((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))),s=(null===e||void 0===e?void 0:e.displayOrderId)||(null===e||void 0===e?void 0:e.posOrderId);if(!a&&(null===e||void 0===e?void 0:e.status)!==(null===l.Rd||void 0===l.Rd||null===(d=l.Rd.SENT_TO_POS_FAILED)||void 0===d?void 0:d.toLowerCase())&&(null===e||void 0===e?void 0:e.status)!==(null===l.Rd||void 0===l.Rd||null===(i=l.Rd.ACCEPTED)||void 0===i?void 0:i.toLowerCase())){var c,u,v,O,m,b,p,h,j,g,S,D,C,T,f,y,I;const t={id:null===e||void 0===e?void 0:e.orderId,email:(null===e||void 0===e||null===(c=e.customer)||void 0===c?void 0:c.email)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.customer)||void 0===v?void 0:v.email)||(null===e||void 0===e?void 0:e.userEmail),phone:(null===e||void 0===e||null===(O=e.customer)||void 0===O?void 0:O.phoneNumber)||(null===e||void 0===e||null===(m=e.postOrderDetails)||void 0===m||null===(b=m.customer)||void 0===b?void 0:b.phoneNumber)||(null===e||void 0===e?void 0:e.userPhone),service:null===e||void 0===e?void 0:e.service,referenceNumber:s,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(p=e.postOrderDetails)||void 0===p?void 0:p.fulfillmentDateTime),store:{timeZoneIANA:(null===e||void 0===e||null===(h=e.store)||void 0===h?void 0:h.timeZoneIANA)||(null===e||void 0===e||null===(j=e.postOrderDetails)||void 0===j||null===(g=j.store)||void 0===g?void 0:g.timeZoneIANA),storeId:(null===e||void 0===e||null===(S=e.store)||void 0===S?void 0:S.storeId)||(null===e||void 0===e||null===(D=e.postOrderDetails)||void 0===D||null===(C=D.store)||void 0===C?void 0:C.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(T=e.postOrderDetails)||void 0===T?void 0:T.requestedDateTime),deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(f=e.postOrderDetails)||void 0===f?void 0:f.deliveryDetails),status:null===e||void 0===e?void 0:e.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(y=e.postOrderDetails)||void 0===y?void 0:y.otu),isActiveGuestTracking:!0};null===(I=r)||void 0===I||I.unshift(t),localStorage.setItem("guestActiveOrders",JSON.stringify(r))}if(a){let t=!1;const o=r.map((o=>{var l;if((null===o||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.orderId)&&(null==(null===o||void 0===o?void 0:o.referenceNumber)||null==(null===o||void 0===o?void 0:o.fulfillmentDateTime)||null==(null===o||void 0===o?void 0:o.requestedDateTime)||null==(null===o||void 0===o||null===(l=o.store)||void 0===l?void 0:l.id)||null==(null===o||void 0===o?void 0:o.otu))){var d,i,r,n,a,c,u,v,O,m,b,p;t=!0;return{...o,referenceNumber:s||o.referenceNumber,fulfillmentDateTime:(null===e||void 0===e?void 0:e.fulfillmentDateTime)||(null===e||void 0===e||null===(d=e.postOrderDetails)||void 0===d?void 0:d.fulfillmentDateTime)||o.fulfillmentDateTime,store:{timeZoneIANA:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.timeZoneIANA)||(null===e||void 0===e||null===(r=e.postOrderDetails)||void 0===r||null===(n=r.store)||void 0===n?void 0:n.timeZoneIANA)||(null===(a=o.store)||void 0===a?void 0:a.timeZoneIANA),storeId:(null===e||void 0===e||null===(c=e.store)||void 0===c?void 0:c.storeId)||(null===e||void 0===e||null===(u=e.postOrderDetails)||void 0===u||null===(v=u.store)||void 0===v?void 0:v.storeId)||(null===(O=o.store)||void 0===O?void 0:O.storeId)},requestedDateTime:(null===e||void 0===e?void 0:e.requestedDateTime)||(null===e||void 0===e||null===(m=e.postOrderDetails)||void 0===m?void 0:m.requestedDateTime)||o.requestedDateTime,deliveryDetails:(null===e||void 0===e?void 0:e.deliveryDetails)||(null===e||void 0===e||null===(b=e.postOrderDetails)||void 0===b?void 0:b.deliveryDetails)||o.deliveryDetails,status:(null===e||void 0===e?void 0:e.status)||o.status,otu:(null===e||void 0===e?void 0:e.otu)||(null===e||void 0===e||null===(p=e.postOrderDetails)||void 0===p?void 0:p.otu)}}return o}));t&&localStorage.setItem("guestActiveOrders",JSON.stringify(o))}}const g=(e,t)=>{var o;let l=null===e||void 0===e?void 0:e.filter((e=>!Object(i.q)(e,!0)));return l=null===(o=l)||void 0===o?void 0:o.filter((e=>!(e=>{var t;let o=!1;const l=Object(n.k)(e)||Object(n.k)(null===e||void 0===e||null===(t=e.deliveryDetails)||void 0===t?void 0:t.riderStatus),d=Object(n.K)(e)||Object(n.hb)(e);return(l||d)&&(o=!0),o})(e))),(null===e||void 0===e?void 0:e.length)>0&&localStorage.setItem("guestActiveOrders",JSON.stringify(l)),t?(localStorage.removeItem("guestActiveOrders"),[]):l},S=e=>{var t,o;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(i.qe)(null===e||void 0===e||null===(o=e.orderAccepted)||void 0===o?void 0:o.id)},D=e=>{var t,o,l;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(o=e.pastOrderResponse)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.id)},C=e=>{var t;return(e=>{var t,o,l,d,i;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(o=Object.keys(null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.order))||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(d=e.response)||void 0===d||null===(i=d.order)||void 0===i?void 0:i.id)})(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},T=e=>{const{postOrderReducer:t={},orderReducer:o={},orderDetails:l={},isCheckOrderDetails:d=!0}=e;let i=(e=>S(e)?null===e||void 0===e?void 0:e.orderAccepted:null)(t);var r;null===i&&(i=(e=>{var t;return D(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null})(o),null===i&&(i=C(o),d&&null===i&&(i=null!==l&&void 0!==l&&l.postOrderDetails&&null!==(r=Object.keys(null===l||void 0===l?void 0:l.postOrderDetails))&&void 0!==r&&r.length?null===l||void 0===l?void 0:l.postOrderDetails:{})));return i||{}},f=e=>{var t,o,l,d,i,r,n,a,s,c,u,v,O,m,b,p,h,j,g,S,D,C,T,f,y,I,N,E,A,x,R,_,P,w,L,k,M,F,B,U,H,W,V,G,Y,K,J,q,Z,z,X,Q,$,ee,te,oe,le,de,ie,re,ne,ae,se,ce,ue,ve,Oe,me,be,pe,he,je,ge,Se,De,Ce,Te,fe,ye,Ie,Ne,Ee,Ae;const{props:xe,dispatch:Re,tenantReducer:_e={},isExternalTrackOrder:Pe=!1,dispositionPaymentPage:we,updateSetOrderDetails:Le}=e,{tenantId:ke,currencyCode:Me,currencySymbol:Fe,currencyShortName:Be,showCarryBagInLineItem:Ue,addHope:He,carryBag:We,currencyConversionFactor:Ve,pastOrderDateformat:Ge,pastOrderTimeFormat:Ye,storeSearch:Ke={},driveTime:Je,buffertimepmpickup:qe,buffertimepmdelivery:Ze,favouriteOrderRegex:ze,componentOptions:Xe,enablePickupMethodChangePostOrder:Qe,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,postorderStoreShutdownPopup:ot}=_e;Le({props:xe,dispatch:Re,tenantId:ke,enablePickupMethodChangePostOrder:Qe,postorderStoreShutdownPopup:ot,currencyCode:Me,currencySymbol:Fe,currencyShortName:Be,showCarryBagInLineItem:Ue,addHope:He,carryBag:We,currencyConversionFactor:Ve,pastOrderDateformat:Ge,pastOrderTimeFormat:Ye,isExternalTrackOrder:Pe,storeSearch:Ke,driveTime:Je,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,buffertimepmpickup:qe,buffertimepmdelivery:Ze,favouriteOrderRegex:ze,operatingTime:null===we||void 0===we||null===(t=we.store)||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings,hideCancelOrderPanel:null===Xe||void 0===Xe||null===(l=Xe.web)||void 0===l||null===(d=l.orderPages)||void 0===d?void 0:d.hideCancelOrderPanel,enableOrderNoteForCheckout:null===Xe||void 0===Xe||null===(i=Xe.checkout)||void 0===i?void 0:i.enableOrderNoteForCheckout,hidePickupCheckin:null===Xe||void 0===Xe||null===(r=Xe.web)||void 0===r||null===(n=r.orderPages)||void 0===n?void 0:n.orderSummaryShowPickupOrderCollectionMethodPanel,showTaxLines:null===Xe||void 0===Xe||null===(a=Xe.web)||void 0===a||null===(s=a.cartPage)||void 0===s?void 0:s.showTaxLines,showTaxExcluded:null===Xe||void 0===Xe||null===(c=Xe.web)||void 0===c||null===(u=c.checkout)||void 0===u?void 0:u.showTaxExcluded,enableGlobalOrderTracking:null===Xe||void 0===Xe||null===(v=Xe.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===Xe||void 0===Xe||null===(m=Xe.web)||void 0===m||null===(b=m.orderPages)||void 0===b?void 0:b.enableRetryCountForPickupOrderTracking,enableCancelOrderCallsupportModal:null===Xe||void 0===Xe||null===(p=Xe.web)||void 0===p||null===(h=p.orderPages)||void 0===h?void 0:h.enableCancelOrderCallsupportModal,showOrderTrackingIFrame:null===Xe||void 0===Xe||null===(j=Xe.web)||void 0===j||null===(g=j.orderPages)||void 0===g?void 0:g.showOrderTrackingIFrame,orderTrackingProgressBarCount:null===Xe||void 0===Xe||null===(S=Xe.web)||void 0===S||null===(D=S.orderPages)||void 0===D?void 0:D.orderTrackingProgressBarCount,showDeliveryDriverDetails:null===Xe||void 0===Xe||null===(C=Xe.web)||void 0===C||null===(T=C.orderPages)||void 0===T?void 0:T.showDeliveryDriverDetails,showDeliveryTrackingMap:null===Xe||void 0===Xe||null===(f=Xe.web)||void 0===f||null===(y=f.orderPages)||void 0===y?void 0:y.showDeliveryTrackingMap,orderTrackingProgressBarScheduleOrdersCount:null===Xe||void 0===Xe||null===(I=Xe.web)||void 0===I||null===(N=I.orderPages)||void 0===N?void 0:N.orderTrackingProgressBarScheduleOrdersCount,showOrderSummaryInfoDetails:null===Xe||void 0===Xe||null===(E=Xe.web)||void 0===E||null===(A=E.orderPages)||void 0===A?void 0:A.showOrderSummaryInfoDetails,deliveryProgressBarAsapOrder:null===Xe||void 0===Xe||null===(x=Xe.web)||void 0===x||null===(R=x.orderPages)||void 0===R?void 0:R.deliveryProgressBarAsapOrder,deliveryProgressBarScheduleOrders:null===Xe||void 0===Xe||null===(_=Xe.web)||void 0===_||null===(P=_.orderPages)||void 0===P?void 0:P.deliveryProgressBarScheduleOrders,hideEstimatedDeliveryTime:null===Xe||void 0===Xe||null===(w=Xe.web)||void 0===w||null===(L=w.orderPages)||void 0===L?void 0:L.hideEstimatedDeliveryTime,getDeliveryActualPickupTime:null===Xe||void 0===Xe||null===(k=Xe.web)||void 0===k||null===(M=k.orderPages)||void 0===M?void 0:M.getDeliveryActualPickupTime,hideProgressBar:null===Xe||void 0===Xe||null===(F=Xe.web)||void 0===F||null===(B=F.orderPages)||void 0===B?void 0:B.hideProgressBar,enableScheduleOrder:null===Xe||void 0===Xe||null===(U=Xe.web)||void 0===U||null===(H=U.dispositionConfig)||void 0===H?void 0:H.enableScheduleOrder,enableClickCollectScheduleOrder:null===Xe||void 0===Xe||null===(W=Xe.web)||void 0===W||null===(V=W.dispositionConfig)||void 0===V?void 0:V.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===Xe||void 0===Xe||null===(G=Xe.web)||void 0===G||null===(Y=G.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===_e||void 0===_e||null===(K=_e.componentOptions)||void 0===K||null===(J=K.web)||void 0===J||null===(q=J.orderPages)||void 0===q?void 0:q.showGiftCardOrVoucherSummary,showPromosSummary:null===_e||void 0===_e||null===(Z=_e.componentOptions)||void 0===Z||null===(z=Z.web)||void 0===z||null===(X=z.orderPages)||void 0===X?void 0:X.showPromosSummary,showStoreRegistrationNumber:null===Xe||void 0===Xe||null===(Q=Xe.web)||void 0===Q||null===($=Q.orderPages)||void 0===$?void 0:$.showStoreRegistrationNumber,showStoreOrderNumber:null===Xe||void 0===Xe||null===(ee=Xe.web)||void 0===ee||null===(te=ee.orderPages)||void 0===te?void 0:te.showStoreOrderNumber,showOrderDateTime:null===Xe||void 0===Xe||null===(oe=Xe.web)||void 0===oe||null===(le=oe.orderPages)||void 0===le?void 0:le.showOrderDateTime,showOrderMode:null===Xe||void 0===Xe||null===(de=Xe.web)||void 0===de||null===(ie=de.orderPages)||void 0===ie?void 0:ie.showOrderMode,showOrderStatus:null===Xe||void 0===Xe||null===(re=Xe.web)||void 0===re||null===(ne=re.orderPages)||void 0===ne?void 0:ne.showOrderStatus,showPickupOrDeliveryTime:null===Xe||void 0===Xe||null===(ae=Xe.web)||void 0===ae||null===(se=ae.orderPages)||void 0===se?void 0:se.showPickupOrDeliveryTime,hidePostOrderCollectionForAsap:null===Xe||void 0===Xe||null===(ce=Xe.web)||void 0===ce||null===(ue=ce.orderPages)||void 0===ue?void 0:ue.hidePostOrderCollectionForAsap,allowedPickupCollectionMethods:null===Xe||void 0===Xe||null===(ve=Xe.checkout)||void 0===ve?void 0:ve.allowedPickupCollectionMethods,geoLocationCheckForCheckin:null===Xe||void 0===Xe||null===(Oe=Xe.web)||void 0===Oe||null===(me=Oe.orderPages)||void 0===me?void 0:me.geoLocationCheckForCheckin,orderStatusFlag:null===_e||void 0===_e||null===(be=_e.componentOptions)||void 0===be||null===(pe=be.web)||void 0===pe||null===(he=pe.orderPages)||void 0===he?void 0:he.getDeliveryOrderStatusMessageFlag,tenantSpecificDateFormat:null===_e||void 0===_e||null===(je=_e.componentOptions)||void 0===je||null===(ge=je.web)||void 0===ge||null===(Se=ge.orderPages)||void 0===Se?void 0:Se.displayOrderDeliveryDateFormat,showCancelOrderNumber:null===Xe||void 0===Xe||null===(De=Xe.web)||void 0===De||null===(Ce=De.dispositionConfig)||void 0===Ce?void 0:Ce.showCancelOrderNumber,showStateCityAddAddress:null===_e||void 0===_e||null===(Te=_e.savedAddressPage)||void 0===Te?void 0:Te.showStateCityAddAddress,hideCustomerName:null===Xe||void 0===Xe||null===(fe=Xe.web)||void 0===fe||null===(ye=fe.orderPages)||void 0===ye?void 0:ye.hideCustomerName,hideCreateAccountPanel:null===Xe||void 0===Xe||null===(Ie=Xe.web)||void 0===Ie||null===(Ne=Ie.orderPages)||void 0===Ne?void 0:Ne.hideCreateAccountPanel,showPinCode:null===Xe||void 0===Xe||null===(Ee=Xe.web)||void 0===Ee||null===(Ae=Ee.orderPages)||void 0===Ae?void 0:Ae.showOrderPinCode,showOrderSummaryOnSentToPosFailed:null===_e||void 0===_e?void 0:_e.showOrderSummaryOnSentToPosFailed,isUberServiceableEnabled:null===_e||void 0===_e?void 0:_e.isUberServiceableEnabled,useTradingHoursForStoreCloseCalculation:null===_e||void 0===_e?void 0:_e.useTradingHoursForStoreCloseCalculation})},y=e=>{const{helpReducer:t,updateSetOrderDetails:o}=e;o({helpContantData:Object(i.ic)((null===t||void 0===t?void 0:t.helpResponse)||null)})},I=e=>{const{appStateReducer:t,updateSetOrderDetails:o}=e;o({userStatus:null===t||void 0===t?void 0:t.userStatus})},N=e=>{const{profileReducer:t,orderDetails:o,updateSetOrderDetails:l}=e;l({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:E(o,null===t||void 0===t?void 0:t.favouriteOrders)})},E=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const l=o||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===l||void 0===l?void 0:l.findIndex((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))))},A=e=>{var t,o,l,d,i,r,n,a;const{storesReducer:s={},updateSetOrderDetails:c}=e,u=null!==s&&void 0!==s&&null!==(t=s.storesWithStatus)&&void 0!==t&&t.length?null===s||void 0===s||null===(o=s.storesWithStatus)||void 0===o?void 0:o[0]:{};c({allStoresDetails:null!==s&&void 0!==s&&null!==(l=s.allStores)&&void 0!==l&&l.length?null===s||void 0===s?void 0:s.allStores:[],currentStoresDetails:u,operatingTimeFromStoreReducer:null!==(d=Object.keys(u))&&void 0!==d&&d.length?null===u||void 0===u||null===(i=u.summary)||void 0===i||null===(r=i.timings)||void 0===r?void 0:r.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(n=Object.keys(u))&&void 0!==n&&n.length?null===u||void 0===u||null===(a=u.summary)||void 0===a?void 0:a.availableCollectionPoints:null})},x=e=>{var t;const{orderReducer:o={},paymentsContentReducer:l={},orderDetails:d,updateSetOrderDetails:i,tenantReducer:r}=e,n=null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.order;i({...R({orderReducerCreateOrderResponse:n,paymentsContentReducer:l,orderDetails:d,tenantReducer:r})})},R=e=>{var t;const{postOrPastOrderDetails:o={},orderReducerCreateOrderResponse:l={},paymentsContentReducer:d={},orderDetails:r,tenantReducer:n}=e,a=Object(i.pe)(o)?o:l,s=w({orderDetailsFromReducer:a,orderDetails:r,tenantReducer:n});return s.postOrderDetails=o,s.paymentType=h(null===d||void 0===d||null===(t=d.tendersContent)||void 0===t?void 0:t.items,null===a||void 0===a?void 0:a.tenders,null===a||void 0===a?void 0:a.paymentReferences),s},_=e=>{const{storeTimeZoneIANA:t,estimatedDeliveryTime:o,orderTime:d,format:i=(null===l.sb||void 0===l.sb?void 0:l.sb.H_MM_A)}=e;return t?Object(r.D)(o||d,t,i):Object(r.C)(o||d,i)},P=e=>{const{storeTimeZoneIANA:t,statusUpdatedDate:o,pastOrderDateformat:l}=e;return t?Object(r.D)(o,t,l):Object(r.C)(o,l)},w=e=>{var t,o,d,a,s,c,v,O,m,b,h,j,g,S,D,C,T,f,y,I,N,E,A,x,R,w,k,M;const{orderDetailsFromReducer:F,orderDetails:B={},tenantReducer:U}=e,H={additionalChargeLines:null===F||void 0===F?void 0:F.additionalChargeLines,customerId:null===F||void 0===F||null===(t=F.customer)||void 0===t?void 0:t.id,customer:null===F||void 0===F?void 0:F.customer,deliveryAddress:null===F||void 0===F?void 0:F.deliveryAddress,deliveryDetails:null===F||void 0===F?void 0:F.deliveryDetails,deliveryPartner:null===F||void 0===F?void 0:F.deliveryPartner,otu:(null===B||void 0===B?void 0:B.otu)||(null===F||void 0===F?void 0:F.otu),isActiveGuestTracking:(null===B||void 0===B?void 0:B.isActiveGuestTracking)||(null===F||void 0===F?void 0:F.isActiveGuestTracking),foodLines:null===F||void 0===F?void 0:F.foodLines,orderId:null===F||void 0===F?void 0:F.id,displayOrderId:p({...B,...F}),fulfillmentDateTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(r.D)(null===F||void 0===F?void 0:F.fulfillmentDateTime,null===F||void 0===F||null===(o=F.store)||void 0===o?void 0:o.timeZoneIANA),orderTime:Object(r.M)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayOrderTime:Object(i.bd)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayFormatOrderTime:u.a.formatValue(u.a.tz(Object(r.L)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===F||void 0===F||null===(d=F.store)||void 0===d?void 0:d.timeZoneIANA)," h:mma"),displayTodayDate:Object(r.h)(new Date,null===B||void 0===B?void 0:B.pastOrderDateformat),posOrderId:null===F||void 0===F?void 0:F.posOrderId,userEmail:null===F||void 0===F||null===(a=F.customer)||void 0===a?void 0:a.email,userPhone:(null===F||void 0===F||null===(s=F.customer)||void 0===s?void 0:s.phoneNumber)||(null===F||void 0===F||null===(c=F.customer)||void 0===c?void 0:c.phone),service:null===F||void 0===F?void 0:F.service,status:null===F||void 0===F?void 0:F.status,orderStatus:Object(n.c)({...B,...F}),orderStatusChangedAt:Object(n.b)({orderDetails:B,orderDetailsFromReducer:F}),sameOrderStatusMaintainLast30Mins:Object(n.q)({orderDetails:B,orderDetailsFromReducer:F}),store:null===F||void 0===F?void 0:F.store,storeName:null===F||void 0===F||null===(v=F.store)||void 0===v?void 0:v.name,phoneNumber:null===F||void 0===F||null===(O=F.store)||void 0===O?void 0:O.phoneNumber,phoneNumberFormat:Object(i.bb)(null===F||void 0===F||null===(m=F.store)||void 0===m?void 0:m.phoneNumber),storeTimeZoneIANA:null===F||void 0===F||null===(b=F.store)||void 0===b?void 0:b.timeZoneIANA,storeOperatingTime:null===F||void 0===F||null===(h=F.store)||void 0===h?void 0:h.timings,deliveryOrEstimatedOrCollectAtMonthDate:_({estimatedDeliveryTime:null===F||void 0===F||null===(j=F.deliveryDetails)||void 0===j?void 0:j.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(g=F.store)||void 0===g?void 0:g.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd:l.sb.MMMM_D}),deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(S=F.deliveryDetails)||void 0===S?void 0:S.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(D=F.store)||void 0===D?void 0:D.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd_AA:l.sb.D_MMMM_AA}),deliveryOrEstimatedOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(C=F.deliveryDetails)||void 0===C?void 0:C.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(T=F.store)||void 0===T?void 0:T.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),deliveryOrActualOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(f=F.deliveryDetails)||void 0===f?void 0:f.actualDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(y=F.store)||void 0===y?void 0:y.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(I=F.deliveryDetails)||void 0===I?void 0:I.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(N=F.store)||void 0===N?void 0:N.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:_({estimatedDeliveryTime:null===F||void 0===F||null===(E=F.deliveryDetails)||void 0===E?void 0:E.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(A=F.store)||void 0===A?void 0:A.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd_AA:l.sb.H_MM_A}),orderDateOn:P({statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,storeTimeZoneIANA:null===F||void 0===F||null===(x=F.store)||void 0===x?void 0:x.timeZoneIANA,pastOrderDateformat:null===B||void 0===B?void 0:B.pastOrderDateformat}),statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,isContactless:null===F||void 0===F?void 0:F.isContactless,filteredFoodLines:Object(i.Tb)(null===F||void 0===F?void 0:F.foodLines,null===B||void 0===B?void 0:B.addHope,null===B||void 0===B?void 0:B.carryBag,null===U||void 0===U?void 0:U.showCarryBagInLineItem),orderedItemDetails:null===F||void 0===F?void 0:F.orderedItemDetails,orderingDateTime:null===F||void 0===F?void 0:F.orderingDateTime,orderingDateTimeFormatted:Object(r.D)(null===F||void 0===F?void 0:F.orderingDateTime,null===F||void 0===F||null===(R=F.store)||void 0===R?void 0:R.timeZoneIANA),orderingDate:Object(i.Cb)(null===F||void 0===F?void 0:F.orderingDateTime),orderingDayAndMonthName:Object(i.Db)(null===F||void 0===F?void 0:F.orderingDateTime,null===B||void 0===B?void 0:B.dateFormat),orderingTime:Object(i.bd)(null===F||void 0===F?void 0:F.orderingDateTime,null===B||void 0===B?void 0:B.timeFormat),fullAddressDetails:L(null===F||void 0===F?void 0:F.deliveryAddress,null===U||void 0===U||null===(w=U.savedAddressPage)||void 0===w?void 0:w.showStateCityAddAddress,null===U||void 0===U?void 0:U.isUberServiceableEnabled),instruction:null===F||void 0===F?void 0:F.instruction,addressLines:null===F||void 0===F||null===(k=F.store)||void 0===k||null===(M=k.address)||void 0===M?void 0:M.addressLines,taxLines:null===F||void 0===F?void 0:F.taxLines,additionalCharges:null===F||void 0===F?void 0:F.additionalChargeLines,checkInSummary:null===F||void 0===F?void 0:F.checkInSummary,subTotal:null===F||void 0===F?void 0:F.subTotal,discountLines:null===F||void 0===F?void 0:F.discountLines,paymentDiscountLines:(null===F||void 0===F?void 0:F.paymentDiscountLines)||[],paymentDiscountTotal:(null===F||void 0===F?void 0:F.paymentDiscountTotal)||0,discountTotal:null===F||void 0===F?void 0:F.discountTotal,total:(null===F||void 0===F?void 0:F.total)||(null===F||void 0===F?void 0:F.amount),inclusiveTaxTotal:null===F||void 0===F?void 0:F.inclusiveTaxTotal,tenders:null===F||void 0===F?void 0:F.tenders,paymentReferences:null===F||void 0===F?void 0:F.paymentReferences,taxTotal:null===F||void 0===F?void 0:F.taxTotal,orderAcceptedLoading:(null===F||void 0===F?void 0:F.orderAcceptedLoading)||!1,requestedTimeStamp:null===F||void 0===F?void 0:F.requestedTimeStamp,requestedDateTime:null===F||void 0===F?void 0:F.requestedDateTime,orderDateTimeInEpoch:null===F||void 0===F?void 0:F.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null,bottleDepositChargeTotal:(null===F||void 0===F?void 0:F.bottleDepositChargeTotal)||0,tipCharge:null===F||void 0===F?void 0:F.driverTippingCharge,tipChargeType:null===F||void 0===F?void 0:F.driverTippingChargeType,driverTippingChargeOption:null===F||void 0===F?void 0:F.driverTippingChargeOption,showOrderingTime:Object(r.h)(Object(r.M)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===B||void 0===B?void 0:B.pastOrderTimeFormat),deliveryPinDetails:null===F||void 0===F?void 0:F.deliveryPinDetails};return null!==(null===B||void 0===B?void 0:B.orderId)&&null!==(null===F||void 0===F?void 0:F.id)&&(null===B||void 0===B?void 0:B.orderId)!==(null===F||void 0===F?void 0:F.id)&&(H.oldOrderId=null===F||void 0===F?void 0:F.id),H},L=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(i.pe)(e)){var l,d;let{addressLines:s}=e;const{city:c,state:u,country:v,pinCode:O,customProperties:m=[]}=e,b=Object(i.vd)(O),p=Object(i.vd)(c),h=Object(i.vd)(u),j=Object(i.vd)(v),g=null!==(l=null===(d=m[2])||void 0===d?void 0:d.value)&&void 0!==l?l:"";var r,n,a;if(o)s[1]=null===(r=s[1])||void 0===r||null===(n=r.split(","))||void 0===n||null===(a=n.join)||void 0===a?void 0:a.call(n,"");const S=null===s||void 0===s?void 0:s.filter((e=>e)).join(", ");if(t){const e=u&&"".concat(u)||"",t=c&&"".concat(c)||"";return"".concat(e).concat(t).concat(null===s||void 0===s?void 0:s.filter((e=>e)).join(" ")," ").concat(g)}return"".concat(S).concat(p).concat(h).concat(b).concat(j)}return null},k=(e,t,o,l)=>{var d,i;!s()(e)&&((null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)||l)&&o({orderSummarycontentData:H(null===(d=e.items)||void 0===d||null===(i=d[0])||void 0===i?void 0:i.fields,t)})},M=e=>{var t,o;const{orderSummarycontentData:d}=e;return null===d||void 0===d||null===(t=d.headline)||void 0===t?void 0:t.replace(l.nb,null===e||void 0===e||null===(o=e.customer)||void 0===o?void 0:o.firstName.replace(/(.{7})..+/,"$1..."))},F=e=>{const{orderSummarycontentData:t,enableClickCollectScheduleOrder:o,allowScheduleOrderForDispositions:d,service:i}=e,r=o&&(null===d||void 0===d?void 0:d.includes(i));var a;return Object(n.x)(e)||Object(n.B)(e)?(null===e||void 0===e||null===(a=e.paymentReferences[0])||void 0===a?void 0:a.paymentType)===(null===l.Vd||void 0===l.Vd?void 0:l.Vd.PAY_BY_CASH)&&null!==t&&void 0!==t&&t.payOnArrival?Object(m.a)(e):null===t||void 0===t?void 0:t.subHeadline:null!==t&&void 0!==t&&t.scheduleOrders||r?U(t,e):null===t||void 0===t?void 0:t.subHeadline},B=e=>{(e=>Object(i.Jd)(null===e||void 0===e?void 0:e.service)?Object(n.sb)(e)||Object(n.rb)(e):Object(n.t)(e)||Object(n.s)(e))(e)&&Object(d.a)(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ORDER_UPDATE_TEXT),4e3)},U=(e,t)=>{var o,d,a,s,u,O,m;const{enableClickCollectScheduleOrder:b,allowScheduleOrderForDispositions:p,service:h}=t,j=b&&(null===p||void 0===p?void 0:p.includes(h)),g=null===e||void 0===e||null===(o=e.subHeadline)||void 0===o?void 0:o.includes(l.tb),S=null===t||void 0===t?void 0:t.fulfillmentDateTime,D=Object(r.D)(S,null===t||void 0===t||null===(d=t.store)||void 0===d?void 0:d.timeZoneIANA,g?null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_D_MMMM_A:null===l.sb||void 0===l.sb?void 0:l.sb.hh_mm_A),C=Object(r.D)(S,null===t||void 0===t||null===(a=t.store)||void 0===a?void 0:a.timeZoneIANA,null===l.sb||void 0===l.sb?void 0:l.sb.MMMM_D),T=Object(r.D)(S,null===t||void 0===t||null===(s=t.store)||void 0===s?void 0:s.timeZoneIANA,null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_DD),f=j&&g?D.replace(/^\w+/,Object(i.ed)(C,null===t||void 0===t||null===(u=t.store)||void 0===u?void 0:u.timeZoneIANA)):D,y=null===f||void 0===f?void 0:f.split(" "),I=Object(i.ed)(T,null===t||void 0===t||null===(O=t.store)||void 0===O?void 0:O.timeZoneIANA),N=null===e||void 0===e||null===(m=e.subHeadline)||void 0===m?void 0:m.replace(g?l.tb:l.Md,'<span class="red">'.concat((e=>{const{timeStamp:t,dayInAWeek:o,dateTimeArray:d,orderReadyDateTime:i,orderDetails:r}=e;if(!t)return i;switch(null===r||void 0===r?void 0:r.tenantSpecificDateFormat){case null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_MMMM_D_HH_MM_A:return(o===l.uf?Object(c.translateWithI18Next)(v.a.TODAY):'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ON),"</span> ")+Object(c.translateWithI18Next)(d[0]))+" "+Object(c.translateWithI18Next)(d[2])+" "+d[1]+" "+'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.AT),"</span> ")+" "+(Object(n.A)(r)?null===r||void 0===r?void 0:r.deliveryOrActualOrCollectAtTime:d[4]+d[5]);case null===l.sb||void 0===l.sb?void 0:l.sb.D_MMMM_A:return Object(c.translateWithI18Next)(d[0])+" "+d[1]+" "+Object(c.translateWithI18Next)(d[2])+" "+d[3]+" "+d[4]+" "+d[5];default:return i}})({timeStamp:g,dayInAWeek:I,dateTimeArray:y,orderReadyDateTime:D,orderDetails:t}),"</span>"));return N?"<div class='subheadline-content ".concat(((e,t)=>(null===e||void 0===e?void 0:e.tenantSpecificDateFormat)===(null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_MMMM_D_HH_MM_A)&&t?"subheadline-content-two":"")(t,g),"'>").concat(N,"</div>"):""},H=(e,t)=>{var o;const{showOrderSummaryOnSentToPosFailed:l}=t,d=null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.find((e=>{var o,d,r,a,s,c,u,v,O,m,b,p,h,j,g,S;return null!==t&&void 0!==t&&null!==(o=t.requestedDateTime)&&void 0!==o&&o.isForNow||!(Object(n.ob)(t)||Object(n.v)(t)||Object(n.C)(t)||Object(n.Q)(t)||Object(n.nb)(t))?l&&!Object(i.Jd)(null===t||void 0===t?void 0:t.service)?!(null!==e&&void 0!==e&&null!==(d=e.fields)&&void 0!==d&&d.scheduleOrders)&&(null===e||void 0===e||null===(r=e.fields)||void 0===r?void 0:r.orderStatus.toLowerCase())===(null===t||void 0===t||null===(a=t.orderStatus)||void 0===a?void 0:a.toLowerCase()):(null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.orderStatus.toLowerCase())===(null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.toLowerCase()):(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.scheduleOrders)&&(!(null!==t&&void 0!==t&&t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(O=v.orderStatus)||void 0===O?void 0:O.toLowerCase())===(null===t||void 0===t||null===(m=t.orderStatus)||void 0===m?void 0:m.toLowerCase())||(null===t||void 0===t?void 0:t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(p=b.collectionPoint)||void 0===p?void 0:p.toLowerCase())===(null===t||void 0===t||null===(h=t.selectedPickupOrderCollectionMethod)||void 0===h?void 0:h.toLowerCase())&&(null===e||void 0===e||null===(j=e.fields)||void 0===j||null===(g=j.orderStatus)||void 0===g?void 0:g.toLowerCase())===(null===t||void 0===t||null===(S=t.orderStatus)||void 0===S?void 0:S.toLowerCase()))}));return null===d||void 0===d?void 0:d.fields},W=(e,t)=>{var o,l,d;return null===Object||void 0===Object||null===(o=Object.keys)||void 0===o||null===(l=o.call(Object,e))||void 0===l||null===(d=l.filter)||void 0===d?void 0:d.call(l,(e=>{var o,l;return null===n.ub||void 0===n.ub||null===(o=Object(n.ub)())||void 0===o||null===(l=o[e])||void 0===l?void 0:l.call(o,t)}))},V=e=>{var t;const o=null!==e&&void 0!==e&&e.enableClickCollectScheduleOrder||null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t||!t.isForNow?null===e||void 0===e?void 0:e.deliveryProgressBarScheduleOrders:null===e||void 0===e?void 0:e.deliveryProgressBarAsapOrder;if(o){let t=W(o,e);if(Array.isArray(t)&&t.length>0){var l,d;if(1===t.length)return null!==(d=null===o||void 0===o?void 0:o[t[0]])&&void 0!==d?d:void 0;const e=null===(l=t.map((e=>null===o||void 0===o?void 0:o[e])))||void 0===l?void 0:l.filter((e=>void 0!==e));return e.length>0?Math.max(...e):void 0}}else;},G=e=>{var t,o;return null!==(t=null===e||void 0===e||null===(o=e.hideEstimatedDeliveryTime)||void 0===o?void 0:o[W(null===e||void 0===e?void 0:e.hideEstimatedDeliveryTime,e)])&&void 0!==t&&t},Y=e=>{var t,o,l;return null!==(t=null===e||void 0===e||null===(o=e.hideProgressBar)||void 0===o?void 0:o[W(null===e||void 0===e?void 0:e.hideProgressBar,e)])&&void 0!==t&&t&&!(null!==e&&void 0!==e&&null!==(l=e.requestedDateTime)&&void 0!==l&&l.isForNow)},K=e=>{let{orderDetails:t,orderReducer:o,postOrderReducer:d,paymentsContentReducer:i,updateSetOrderDetails:r,dispatch:a,tenantReducer:s,userOrderState:c}=e;if(null!==t&&void 0!==t&&t.tenantId){!sessionStorage.getItem(l.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&(e=>{let{orderReducer:t,postOrderReducer:o}=e;return S(o)||D(t)})({orderReducer:o,postOrderReducer:d})&&((e=>{const{postOrderReducer:t={},orderReducer:o={},paymentsContentReducer:l={},isCheckOrderDetails:d=!0,orderDetails:i,updateSetOrderDetails:r,tenantReducer:a}=e,s=T({postOrderReducer:t,orderReducer:o,isCheckOrderDetails:d}),{orderStatus:c,retryCountForGetOrderTrackingStatus:u,tenders:v,paymentReferences:O,displayOrderId:m}=i;if(Object(n.c)({...i,...s})!==c||p({...i,...s})!==m)r({...R({postOrPastOrderDetails:s,paymentsContentReducer:l,orderDetails:i,tenantReducer:a})});else if(Object(n.p)(i,s)){var b;r({deliveryPartner:null===s||void 0===s?void 0:s.deliveryPartner,deliveryDetails:null===s||void 0===s?void 0:s.deliveryDetails,retryCountForGetOrderTrackingStatus:u+1,fullAddressDetails:L(null===s||void 0===s?void 0:s.deliveryAddress,null===a||void 0===a||null===(b=a.savedAddressPage)||void 0===b?void 0:b.showStateCityAddAddress,null===a||void 0===a?void 0:a.isUberServiceableEnabled)})}var j;v===(null===s||void 0===s?void 0:s.tenders)&&O===(null===s||void 0===s?void 0:s.paymentReferences)||r({tenders:null===s||void 0===s?void 0:s.tenders,paymentReferences:null===s||void 0===s?void 0:s.paymentReferences,paymentType:h(null===l||void 0===l||null===(j=l.tendersContent)||void 0===j?void 0:j.items,null===s||void 0===s?void 0:s.tenders,null===s||void 0===s?void 0:s.paymentReferences)})})({postOrderReducer:d,orderReducer:o,paymentsContentReducer:i,isCheckOrderDetails:!1,orderDetails:t,updateSetOrderDetails:r,tenantReducer:s}),null!==t&&void 0!==t&&t.tenantId&&Object(O.r)({dispatch:a,orderDetails:t,updateSetOrderDetails:r,userOrderState:c}))}Object(n.f)()&&(e=>{const{postOrderReducer:t,orderDetails:o,updateSetOrderDetails:l}=e;if((null===t||void 0===t||!t.addHopeOrderLoading)&&Object(n.j)()){const{miscPaymentReferenceId:e,status:d}=null===t||void 0===t?void 0:t.addHopeOrderResponse,i={status:d,orderStatus:d};(null===o||void 0===o?void 0:o.miscPaymentReferenceId)!==e&&(i.miscPaymentReferenceId=e),l(i)}if((null===t||void 0===t||!t.giftCardPurchaseLoading)&&Object(n.Y)()){const{miscPaymentReferenceId:e,status:d}=null===t||void 0===t?void 0:t.giftCardPurchaseResponse,i={status:d,orderStatus:d};(null===o||void 0===o?void 0:o.wiCodePurchaseId)!==e&&(i.wiCodePurchaseId=e),l(i)}})({postOrderReducer:d,orderDetails:t,updateSetOrderDetails:r})},J=e=>{const{enableClickCollectScheduleOrder:t,allowScheduleOrderForDispositions:o,service:l,orderStatusFlag:d}=e,r=t&&(null===o||void 0===o?void 0:o.includes(l));return Object(i.Jd)(l)?!(Object(n.K)(e)&&!d||Object(n.sb)(e)||Object(n.Q)(e)||Object(n.rb)(e))&&(Object(n.O)(e)||Object(n.C)(e)||Object(n.B)(e),!0):r?Boolean(Object(n.mb)(e)||Object(n.u)(e)||Object(n.w)(e)):Object(n.mb)(e)||Object(n.nb)(e)},q=e=>{var t;return(null===e||void 0===e||null===(t=e.paymentReferences[0])||void 0===t?void 0:t.paymentType)!==(null===l.Vd||void 0===l.Vd?void 0:l.Vd.PAY_BY_CASH)?F(e):""},Z=e=>{const{contentReducer:t,updateSetOrderDetails:o}=e;o({StoreRegistrationNumber:Object(i.Uc)(t),...Object(i.Tc)(t)})}},1111:function(e,t,o){"use strict";o.d(t,"r",(function(){return f})),o.d(t,"b",(function(){return y})),o.d(t,"t",(function(){return I})),o.d(t,"k",(function(){return N})),o.d(t,"p",(function(){return A})),o.d(t,"e",(function(){return R})),o.d(t,"l",(function(){return P})),o.d(t,"i",(function(){return w})),o.d(t,"j",(function(){return L})),o.d(t,"f",(function(){return M})),o.d(t,"d",(function(){return F})),o.d(t,"c",(function(){return B})),o.d(t,"n",(function(){return U})),o.d(t,"m",(function(){return H})),o.d(t,"o",(function(){return W})),o.d(t,"s",(function(){return V})),o.d(t,"g",(function(){return G})),o.d(t,"h",(function(){return Y})),o.d(t,"a",(function(){return K})),o.d(t,"u",(function(){return J})),o.d(t,"q",(function(){return q}));var l=o(35),d=o(123),i=o(49),r=o(171),n=o(73),a=o(271),s=o(1114),c=o(11),u=o(14),v=o(0),O=o(24),m=o(55),b=o(71),p=o(5),h=o(265),j=o(1108),g=o(16),S=o(12);const D=(e,t,o)=>{null!==e&&void 0!==e&&e.isExternalTrackOrder||t||E(o)},C=e=>{let{displayOrderProcessingPage:t,orderDetails:o,service:l,updateSetOrderDetails:d,showOrderSummaryOnSentToPosFailed:i=!1}=e;(i||t&&(!Object(h.pb)(o)&&!Object(h.j)()&&!Object(h.Y)()||Object(h.i)(o)||Object(h.X)(o)||Object(h.W)(o)||Object(p.Hd)(l)&&!Object(h.qb)(o)))&&d({displayOrderProcessingPage:!1})},T=(e,t,o)=>{Object(h.p)(e)&&t({retryCountForGetOrderTrackingStatus:o+1})},f=e=>{var t,o;const{orderDetails:l,updateSetOrderDetails:d,userOrderState:i}=e;(null===l||void 0===l||null===(t=l.userStatus)||void 0===t?void 0:t.loggedIn)&&(null===JSON||void 0===JSON?void 0:JSON.parse(null===(o=sessionStorage)||void 0===o?void 0:o.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))||(Object(h.l)(l)&&Object(m.B)({orderDetails:l,userOrderState:i}),!Object(h.jb)(l)&&!Object(h.J)(l)||null!==l&&void 0!==l&&l.isAnalyticsUpdated||(Object(m.B)({orderDetails:l,userOrderState:i}),d({isAnalyticsUpdated:!0})))},y=e=>{localStorage.getItem(v.gd.POST_PAYMENT_TYPE)===v.qe.GIFT_CARD_PURCHASE&&(localStorage.setItem(v.gd.PAYMENT_STATUS,v.Ud.SUCCESS),Object(p.We)(e))},I=e=>{var t,o;const l=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING));if(l&&null!==Object&&void 0!==Object&&null!==(o=Object.keys(l))&&void 0!==o&&o.length){const{dispatch:t,updateSetOrderDetails:o,tenantReducer:d,userParams:i}=e;null!==l&&void 0!==l&&l.postOrderDetails&&0===Object.keys(null===l||void 0===l?void 0:l.postOrderDetails).length&&x({dispatch:t,orderDetails:l,updateSetOrderDetails:o,tenantReducer:d,userParams:i})}else A(e)},N=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l,miscPaymentReferenceId:d,tenantReducer:i}=e;if((null===o||void 0===o?void 0:o.tenantId)&&Object(h.p)(o)&&l({displayOrderProcessingPage:!1}),null!==o&&void 0!==o&&o.orderId&&Object(h.eb)(o)){const e=setTimeout((()=>{const r=JSON.parse(sessionStorage.getItem(v.gd.ORDER_TRACKING)||"{}").orderId;null!==o&&void 0!==o&&o.orderId&&r&&r!==(null===o||void 0===o?void 0:o.orderId)?clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer):((null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer),l({dispatchDeliveryOrderTrackerTimer:e}),x({dispatch:t,orderDetails:o,updateSetOrderDetails:l,miscPaymentReferenceId:d,tenantReducer:i}))}),Object(u.a)(c.K))}},E=e=>{const{dispatch:t,orderDetails:o,cartReducer:d,userOrderState:i,appStateReducer:r,updateSetOrderDetails:n}=e,{service:a}=o,s=(null===O.b||void 0===O.b?void 0:O.b.shouldGoogleSpotIgnoreOloFailure)||Object(h.ob)(o)||Object(h.l)(o);if(Object(p.Md)(a)&&s){var c;const e=null===r||void 0===r?void 0:r.userStatus;Object(p.l)(s,!(null!==d&&void 0!==d&&d.isBasketLoading),null===d||void 0===d||null===(c=d.cartData)||void 0===c?void 0:c.id,null===e||void 0===e?void 0:e.localized,null===o||void 0===o?void 0:o.tenantId)&&(n({isBasketsCreated:!0}),Object(p.I)(t,l.f,null===o||void 0===o?void 0:o.tenantId,i,null,null,null,null,null===o||void 0===o?void 0:o.deliveryAddress),Object(p.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SELECTED_NOT_NOW,value:!1},t),Object(p.uf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1},t))}},A=e=>{var t;const{dispatch:o,postOrderReducer:l={},orderReducer:d={},orderDetails:i,updateSetOrderDetails:r,userOrderStateDispatch:n,tenantReducer:a}=e,s=Object(j.g)({postOrderReducer:l,orderReducer:d,orderDetails:i,isCheckOrderDetails:!1}),{props:O,orderId:m,retryCountForGetOrderStatus:b,miscPaymentReferenceId:g,wiCodePurchaseId:S,orderTrackingID:D}=i;D||i&&(m||g||S)&&Object(h.tb)(i)?0===b||(Object(h.pb)(s)||Object(h.h)(i)||Object(h.V)(i))&&b<Object(u.a)(c.J)?x({dispatch:o,orderDetails:i,updateSetOrderDetails:r,userOrderStateDispatch:n,tenantReducer:a}):(Object(h.pb)(s)||Object(h.h)(i)||Object(h.V)(i))&&b>=Object(u.a)(c.J)&&(localStorage.setItem(v.Ud.STATUS_TEXT,v.Ud.FAILED),Object(p.ef)(O)):null!==e&&void 0!==e&&null!==(t=e.orderDetails)&&void 0!==t&&t.orderId&&Object(p.Ye)(O)},x=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l=null,userOrderStateDispatch:d,tenantReducer:i,appStateReducer:r}=e;null!==o&&void 0!==o&&o.isExternalTrackOrder?R({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):Object(h.j)()?w({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):Object(h.Y)()?L({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):_({dispatch:t,orderDetails:o,updateSetOrderDetails:l,userOrderStateDispatch:d,tenantReducer:i,appStateReducer:r})},R=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l=null}=e,i={emailId:null===o||void 0===o?void 0:o.userEmail,phoneNo:null===o||void 0===o?void 0:o.userPhone,orderNo:null===o||void 0===o?void 0:o.posOrderId,tenantId:null===o||void 0===o?void 0:o.tenantId},r=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(d.d)(i,(()=>k({count:r,updateSetOrderDetails:l}))))},_=e=>{var t,o,l;const{dispatch:d,orderDetails:i,updateSetOrderDetails:n=null,userOrderStateDispatch:a,tenantReducer:s,appStateReducer:c}=e,u=P(i),O=null===s||void 0===s||null===(t=s.componentOptions)||void 0===t||null===(o=t.homePage)||void 0===o?void 0:o.enableGuestOrderTracking,m=null===i||void 0===i?void 0:i.isActiveGuestTracking,b=localStorage.getItem(v.gd.FROM_ORDERTRACING_BUTTON);if(null!==i&&void 0!==i&&i.orderTrackingID||(m||u)&&O&&(null!==i&&void 0!==i&&i.otu||null!==i&&void 0!==i&&null!==(l=i.postOrderDetails)&&void 0!==l&&l.otu)&&b){let e;try{const t=new URL(null===i||void 0===i?void 0:i.otu);e=new URLSearchParams(t.search).get("PhoneNo")}catch(h){console.error("Error extracting phone number:",h),e="0"}const t={orderId:(null===i||void 0===i?void 0:i.orderTrackingID)||(null===i||void 0===i?void 0:i.id)||(null===i||void 0===i?void 0:i.orderId),tenantId:null===i||void 0===i?void 0:i.tenantId,Email:e},o=(null===i||void 0===i?void 0:i.retryCountForGetOrderStatus)+1;d(Object(r.g)(t,(e=>{var t;let l=!1;e.errors&&e.errors.length>0&&(l=!0),n({selectedPickupOrderCollectionMethod:null===e||void 0===e||null===(t=e.collectionPoint)||void 0===t?void 0:t.name});let d=localStorage.getItem(v.gd.USER_LANGUAGE);if("true"!==localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED)&&d!==(null===e||void 0===e?void 0:e.lang)){let t=null===e||void 0===e?void 0:e.lang,o={key:t,short_value:null===t||void 0===t?void 0:t.split("-")[1]};localStorage.setItem(v.gd.DEFAULT_LANGUAGE,JSON.stringify(o)),Object(p.id)({defaultLanguage:t,language:t},a),localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED,!0),setTimeout((()=>window.location.reload()),500)}k({count:o,orderDetails:i,hasError:l,updateSetOrderDetails:n})})))}else{const e={orderId:null===i||void 0===i?void 0:i.orderId,tenantId:null===i||void 0===i?void 0:i.tenantId,customerId:(null===i||void 0===i?void 0:i.customerId)||null},t=(null===i||void 0===i?void 0:i.retryCountForGetOrderStatus)+1;d(Object(r.f)(e,(()=>k({count:t,orderDetails:i,updateSetOrderDetails:n}))))}},P=e=>{var t;const o=localStorage.getItem("guestActiveOrders");let l;try{l=JSON.parse(o)}catch(d){l=[]}return null===(t=l)||void 0===t?void 0:t.some((t=>t.id===(null===e||void 0===e?void 0:e.orderId)))},w=e=>{if(Object(h.j)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,d={tenantId:null===o||void 0===o?void 0:o.tenantId,miscPaymentReferenceId:null===o||void 0===o?void 0:o.miscPaymentReferenceId},i=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.d)(d,(()=>k({count:i,orderDetails:o,updateSetOrderDetails:l}))))}},L=e=>{if(Object(h.Y)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,d={tenantId:null===o||void 0===o?void 0:o.tenantId,wiCodePurchaseId:null===o||void 0===o?void 0:o.wiCodePurchaseId},i=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.e)(d,(()=>k({count:i,orderDetails:o,updateSetOrderDetails:l}))))}},k=e=>{const{count:t,orderDetails:o,hasError:l,updateSetOrderDetails:d}=e;if(d){const e=setTimeout((()=>{(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer),d({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:e,hasError:l})}),Object(u.a)(c.L))}},M=e=>{e(Object(a.a)({object:Object(b.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},F=e=>{e(Object(s.a)({object:Object(b.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},B=e=>{var t,o,l,d,i;const{service:r,store:a,tenantId:s,deliveryAddress:c}=null===e||void 0===e?void 0:e.orderDetails;let u=(null===r||void 0===r?void 0:r.toUpperCase())===v.Jb.DELIVERY;const m=[{storeId:null===a||void 0===a?void 0:a.storeId,channel:O.b.channel,service:r,dropoffAddress:{city:null===c||void 0===c?void 0:c.city,state:null===c||void 0===c?void 0:c.state,zipCode:null===c||void 0===c?void 0:c.pinCode,street:null===c||void 0===c||null===(t=c.addressLines)||void 0===t?void 0:t.join(","),...u&&(null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.lat)&&{latitude:null===e||void 0===e||null===(l=e.latLong)||void 0===l?void 0:l.lat},...u&&(null===e||void 0===e||null===(d=e.latLong)||void 0===d?void 0:d.lng)&&{longitude:null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.lng}}}];null===e||void 0===e||e.dispatch(Object(n.d)({data:m,tenantId:s,isFavoritePage:!1}))},U=e=>{var t,o,l,n,a,s,c,u,O;const{dispatch:m,beforeUnload:b=!1,orderDetails:p={}}=e,{userStatus:j={}}=p,g=sessionStorage.getItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var S;b&&((null===(t=window)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||(null===(l=window)||void 0===l||null===(n=l.location)||void 0===n?void 0:n.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.CHECKOUT))||g||(m(Object(i.z)()),(null===(a=localStorage)||void 0===a?void 0:a.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.PAYMENT_STATUS))!==(null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED)&&(m(Object(r.h)()),m(Object(d.e)())),m(Object(d.a)({value:[]})),((null===(s=window)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.pathname)!==(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)||null!==j&&void 0!==j&&j.loggedIn||(null===j||void 0===j||!j.loggedIn)&&(null===(u=window)||void 0===u||null===(O=u.location)||void 0===O?void 0:O.pathname)===(null===v.Ce||void 0===v.Ce?void 0:v.Ce.ORDER_SUMMARY)&&Object(h.cb)(p))&&(null===(S=sessionStorage)||void 0===S||S.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))},H=e=>{var t,o;const{orderDetails:l,updateSetOrderDetails:d,tenantReducer:i}=e,r=null===i||void 0===i||null===(t=i.componentOptions)||void 0===t||null===(o=t.homePage)||void 0===o?void 0:o.enableGuestOrderTracking,{props:n,service:a,displayOrderProcessingPage:s,retryCountForGetOrderTrackingStatus:c,orderAcceptedLoading:u,isBasketsCreated:O,customer:m,tenantId:b,userStatus:j}=l;if(Object(h.tb)(l)&&!u){if((e=>Object(h.gb)(e)&&!(null!==e&&void 0!==e&&e.enableRetryCountForPickupOrderTracking))(l))sessionStorage.setItem(v.Ne.PICKUP_ORDER_CANCELLED,l.orderId),Object(p.Ye)(n);else if((e=>Object(h.S)(e)||Object(h.g)(e)||Object(h.U)(e))(l)){var g;null===(g=localStorage)||void 0===g||g.setItem(null===v.Ud||void 0===v.Ud?void 0:v.Ud.STATUS_TEXT,null===v.Ud||void 0===v.Ud?void 0:v.Ud.FAILED);const t=null===l||void 0===l?void 0:l.showOrderSummaryOnSentToPosFailed;t&&Object(h.nb)(l)?(D(l,O,e),C({displayOrderProcessingPage:s,orderDetails:l,service:a,updateSetOrderDetails:d,showOrderSummaryOnSentToPosFailed:t}),T(l,d,c)):Object(p.ef)(n)}else D(l,O,e),C({displayOrderProcessingPage:s,orderDetails:l,service:a,updateSetOrderDetails:d}),T(l,d,c);!r&&(e=>{let{userStatus:t,customer:o,tenantId:l,orderDetails:d}=e;null!==t&&void 0!==t&&t.loggedIn||Object(h.j)()||Object(h.Y)()||V({trackDetails:{customer:o,tenantId:l},orderDetails:d})})({userStatus:j,customer:m,tenantId:b,orderDetails:l})}},W=e=>{var t,o;const{orderDetails:l,dispositionPaymentPage:d,userOrderStateDispatch:i}=e,r={deliveryAddress:Object(p.ac)(null===l||void 0===l?void 0:l.deliveryAddress,null===l||void 0===l?void 0:l.showStateCityAddAddress),store:null===l||void 0===l?void 0:l.store,type:null===l||void 0===l?void 0:l.service},n=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(v.gd.DISPOSITION_NEW)))||{};n.orderDetails=r,null===(o=localStorage)||void 0===o||o.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(n)),i({type:null===g.a||void 0===g.a?void 0:g.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...d,orderDetails:r}}})},V=e=>{const{trackDetails:t,orderDetails:o,redirectTo:l,props:d}=e,{customer:i,tenantId:r}=t;if(null!==o&&void 0!==o&&o.id||null!==o&&void 0!==o&&o.orderId){const e=null!==o&&void 0!==o&&o.orderId?{...o,tenantId:r}:{...Object(j.k)({postOrPastOrderDetails:{...o},customer:i}),tenantId:r};e.postOrderDetails={},e.dispatch=null,e.storesReducer=null,e.additionalChargeLines=null,e.additionalCharges=null,e.filteredFoodLines=null,e.foodLines=null,e.operatingTime=null,e.operatingTimeFromStoreReducer=null,e.props=null,sessionStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING,JSON.stringify(e)),l&&l(d)}else console.error(JSON.stringify(o)),Object(p.ef)(d)},G=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,{orderId:d,customerId:i,tenantId:n}=o,a={orderId:d,tenantId:n,customerId:i,paramData:{reason:"default",channel:"web",isRefundable:!1}};t(Object(r.a)(a,(()=>{var e;null===(e=sessionStorage)||void 0===e||e.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING),x({dispatch:t,orderDetails:o,updateSetOrderDetails:l})}))),l({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowStoreClosePickupOrderCancelModal:!1})},Y=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,{orderId:d,customerId:i,tenantId:n,selectedPickupOrderCollectionMethod:a,collectionPoint:{carNumber:s=null}={}}=o,c={orderId:d,tenantId:n,customerId:i,paramData:{name:a,bayNumber:0,checkInSummary:"",carNumber:s}};t(Object(r.b)(c,(e=>((e,t)=>{var o;null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e||null===(o=e.errors)||void 0===o?void 0:o.length)>0&&t({isShowStoreClosePickupOrderCancelModal:!0})})(e,l))))},K=e=>{var t,o;const{orderReducer:l,paymentsContentReducer:d,orderDetails:i,updateSetOrderDetails:r,props:n,tenantReducer:a}=e;var s,c,u;null!==l&&void 0!==l&&null!==(t=l.response)&&void 0!==t&&null!==(o=t.order)&&void 0!==o&&o.id&&(0===(null===l||void 0===l||null===(s=l.response)||void 0===s||null===(c=s.order)||void 0===c||null===(u=c.tenders)||void 0===u?void 0:u.length)?Object(p.Qe)(n):Object(j.u)({orderReducer:l,paymentsContentReducer:d,orderDetails:i,updateSetOrderDetails:r,tenantReducer:a}))},J=(e,t,o)=>{var l,d,i;const r=null!==e&&void 0!==e&&null!==(l=e.storesWithStatus)&&void 0!==l&&l.length?null===e||void 0===e||null===(d=e.storesWithStatus)||void 0===d?void 0:d[0]:{};(null===t||void 0===t||null===(i=t.store)||void 0===i?void 0:i.timings)&&o({store:{...null===t||void 0===t?void 0:t.store,...null===r||void 0===r?void 0:r.summary}})},q=e=>{var t,o,l,d,i,r,n,a,s,c;Object(m.z)({userType:null!==e&&void 0!==e&&null!==(t=e.userStatus)&&void 0!==t&&t.loggedIn?"lo-member":"lo-guest",tip_amount:null===e||void 0===e?void 0:e.tipCharge,bottle_deposit:null===e||void 0===e?void 0:e.bottleDepositChargeTotal,storeID:null===e||void 0===e||null===(o=e.postOrderDetails)||void 0===o||null===(l=o.store)||void 0===l?void 0:l.storeId,payment_type:null===e||void 0===e||null===(d=e.paymentReferences)||void 0===d||null===(i=d[0])||void 0===i?void 0:i.paymentType,state:null===e||void 0===e||null===(r=e.store)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.state,orderTime:Object(S.S)(null===e||void 0===e?void 0:e.displayFormatOrderTime,v.sb.H_MM_A,v.sb.HH_mm),CheckInTime:Object(S.e)(v.sb.HH_mm),checkInlocation:null===e||void 0===e||null===(a=e.collectionPoint)||void 0===a?void 0:a.name,eventType:2,disposition:null===e||void 0===e?void 0:e.service,purchase_day:Object(S.e)(v.sb.DDDD),transaction_id:null===e||void 0===e||null===(s=e.paymentReferences)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.transactionId})}},1148:function(e,t,o){"use strict";o.d(t,"h",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"f",(function(){return c})),o.d(t,"i",(function(){return u})),o.d(t,"d",(function(){return O})),o.d(t,"c",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"a",(function(){return p})),o.d(t,"e",(function(){return h}));var l=o(5),d=o(1173),i=o(0),r=o(160),n=o(12);const a=e=>i.xd.test(String(e).toLowerCase()),s=e=>i.uc.test(String(e).toLowerCase()),c=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),o=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+o}},O=(e,t)=>{const{wantToKnowText:o,selectedLetUsKnow:d,firstNameText:i,lastNameText:r,phoneNoText:n,emailText:v}=e;return!(0===(null===o||void 0===o?void 0:o.length)||(null===o||void 0===o?void 0:o.length)>200)&&(!!a(i)&&(!!a(r)&&(!!s("".concat(i).concat(r))&&(!!u(n)&&(!!c(v)&&(!!Object(l.Td)(d)&&!!t))))))},m=e=>{const{firstNameText:t,lastNameText:o,phoneNoText:l,emailText:d}=e;return!!s(t)&&(!!s(o)&&(!!u(l)&&!!c(d)))},b=(e,t,o)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:o}],attachments:[]}}),p=(e,t)=>{var o;var l;return{tenantId:t,payload:{data:[{key:d.b.FIRSTNAME,value:e.fullname},{key:d.b.CALLNATURE,value:e.helpDDOptions},{key:d.b.CATEGORY,value:e.enquiryDDOptions},{key:d.b.SUBCODE,value:e.specificDDOptions},{key:d.b.DESCRIPTION,value:e.detailsArea},{key:d.b.LASTNAME,value:e.publicationdetails},{key:d.b.PHONE,value:e.phonenumber},{key:d.b.EMAIL,value:e.emailaddress},{key:d.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:d.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:d.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:d.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:d.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:d.b.VISITTIME,value:null!==(l=e.visitedTime,o=!!l&&Object(n.d)(l.getHours(),l.getMinutes(),i.sb.hh_mm_A))&&void 0!==o?o:""},{key:d.b.LANGUAGE,value:"en-US"}],attachments:[]}}},h=(e,t,o,l,n,a,s,c,u,v)=>{let O=JSON.parse(localStorage.getItem(i.qf));""===(null===O||void 0===O?void 0:O.addressLine0)&&O&&(O.addressLine0=d.c);const{addressLines:m=[],country:b="",city:p="",pinCode:h="",state:j="",placeId:g=""}=Object(r.b)(t.address_components,O);var S;e===i.rc?(S=h,i.Jd.test(String(S).toLowerCase())?(s(!1),c(!1),o(h)):s(!0),a({...u,sugPinCode:h})):(o(null===m||void 0===m?void 0:m[1]),a()),l((e=>({...e,country:b,addressLines:m,city:p,state:j,pinCode:h,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{n()}),800)}},1158:function(e,t,o){"use strict";o.d(t,"d",(function(){return C})),o.d(t,"e",(function(){return _})),o.d(t,"c",(function(){return P})),o.d(t,"g",(function(){return w})),o.d(t,"b",(function(){return L})),o.d(t,"a",(function(){return k})),o.d(t,"f",(function(){return M}));var l=o(6),d=(o(332),o(214)),i=(o(404),o(41),o(210)),r=o(4),n=o(144),a=o(968),s=o(1205),c=(o(46),o(15),o(1184)),u=o(0),v=o(190),O=o(1174),m=o(5),b=o(11),p=o(14),h=o(265),j=o(1198),g=o(399),S=o(12),D=o(2);const C=e=>{var t,o,l,d;const{orderDetails:r,updateSetOrderDetails:a}=e,{deliveryAddress:s={},store:c,isOpenOrderSummaryDirectionMap:u=!0,isMobileView:v=!1}=r,O={role:"dialog",modalTitleId:"direction-map-modal",show:!0,classNames:"map-modal",showCloseBtn:u,closeButtonHandler:()=>{a({isOpenOrderSummaryDirectionMap:!1})},modalTitle:"",showBackBtn:v,closeDataTestId:"close-direction-map-modal",id:"directionMapModal",autoFocus:!0},m=[null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.latitude,null===c||void 0===c||null===(o=c.location)||void 0===o?void 0:o.longitude],b=[null===s||void 0===s||null===(l=s.location)||void 0===l?void 0:l.latitude,null===s||void 0===s||null===(d=s.location)||void 0===d?void 0:d.longitude];return u&&Object(D.jsx)(n.a,{...O,children:(p={storeLatLng:m,customerLatLng:b},Object(D.jsx)(i.a,{...p,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0}))});var p},T=(e,t)=>{const o=Object(l.translateWithI18Next)(e),i=Object(l.translateWithI18Next)(t),n=(e=>{const{FAVORITE_ORDERS:t}=r.a;return"<a href='".concat(u.Ce.ACCOUNT,"#").concat(t,"' className='favorites-hyperlink-style'><u>").concat(e,"</u></a>")})(i),a=null===o||void 0===o?void 0:o.replace(i,n);return Object(d.a)(String(a))},f=e=>{var t;const{orderDetails:o,updateSetOrderDetails:l}=e,{orderId:d,isOpenOrderSummarySaveYourOrderCheckoutFaster:i}=o,{ORDER_ADDED_TO_FAVOURITE:n,FAVOURITES:a}=r.a,s=T(n,a);return i&&Object(D.jsx)(c.a,{showOccassionModal:i,updateSetOrderDetails:l,setOccassionModalOpen:()=>{l({isOpenOrderSummarySaveYourOrderCheckoutFaster:!1})},occasionName:"",setOccasionName:e=>console.log(e),cardInfo:{id:d},toastmessage:s,isAddFavOrderBox:!0,userParams:null===o||void 0===o?void 0:o.userStatus,currencyShortName:null===o||void 0===o?void 0:o.currencyShortName,currencyConversionFactor:null===o||void 0===o?void 0:o.currencyConversionFactor,productMapById:null===o||void 0===o||null===(t=o.flatResponse)||void 0===t?void 0:t.productMapById,orderDetail:o})},y=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:l,deliveryAddress:d,scheduleOrderDateFormat:i}=t,r=(e=>{var t,o;let l={},d=["",""];return d[1]=null===e||void 0===e?void 0:e.addressLines[1],d[0]=null===e||void 0===e?void 0:e.addressLines[0],l={id:(null===e||void 0===e?void 0:e.id)||"",addressName:(null===e||void 0===e?void 0:e.name)||"",city:null===e||void 0===e?void 0:e.city,pinCode:null===e||void 0===e?void 0:e.pinCode,state:null===e||void 0===e?void 0:e.state,country:(null===e||void 0===e?void 0:e.country)||"",location:{latitude:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,longitude:null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude},addressLines:d,deliveryInstruction:(null===e||void 0===e?void 0:e.deliveryInstructions)||"",deliveryOptions:(null===e||void 0===e?void 0:e.deliveryOptions)||""},l})(d),{EDIT:n}=v.b;return l&&!i&&Object(D.jsx)("div",{className:"addresses-and-stores-container",children:Object(D.jsx)(s.a,{"data-testid":"address-modal",address:r,isOpen:l,updateSetOrderDetails:o,toggleModal:()=>{o({isOpenSaveDeliveryAddressModal:!1})},isAddressFromOrderProcessing:!0,modalType:n,deliveryInstration:null===t||void 0===t?void 0:t.instruction})})},I=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:l,deliveryAddress:d,scheduleOrderDateFormat:i,deliverySearchType:r}=t,n=Object(g.c)()[null!==d&&void 0!==d&&d.pinCode?1:0],s=!0;return l&&i&&Object(D.jsx)("div",{className:"addresses-and-stores-container",children:Object(D.jsx)(a.default,{"data-testid":"new-address-modal",deliverySearchType:r||n,setDeliverySearchType:e=>{o({deliverySearchType:e})},prefectureAddressScreen:s,handleClose:l,updateSetOrderDetails:o,modalType:s,address:d,isAddressFromOrderProcessing:s})})},N=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCancelModal:l,isShowStoreClosePickupOrderCancelModal:d}=t,i=()=>{o({isShowPickupOrderCancelModal:!1,isShowStoreClosePickupOrderCancelModal:!1})},r={id:"pickupCancelOrderModal",role:"dialog",modalTitleId:"pickupCancelOrderModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:i,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return l||d?Object(D.jsx)(n.a,{...r,children:Object(O.c)({...e,closeModalHandler:i})}):null},E=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCheckReadyToPrepareModal:l}=t,d=()=>{o({isShowPickupOrderCheckReadyToPrepareModal:!1})},i={id:"pickupGeoLocationVerifyModal",role:"dialog",modalTitleId:"pickupGeoLocationVerifyModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:d,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return l?Object(D.jsx)(n.a,{...i,children:Object(O.d)({...e,closeModalHandler:d})}):null},A=e=>{var t;const{orderDetails:o}=e,{pickupClosedInfoModal:l,buffertimepmpickup:d=30,isPostorderStoreShutdownPopupModal:i,useTradingHoursForStoreCloseCalculation:r}=o,a={...null===o||void 0===o?void 0:o.store,status:{currentStatus:u.Od,message:u.Od}},s=Object(m.v)(a,d);return Object(h.w)(o)||(!l||null===s||void 0===s||!s.timingFlag||r&&Object(m.se)(null===a||void 0===a||null===(t=a.timings)||void 0===t?void 0:t.storeTradingHours,d))&&!i?null:Object(D.jsx)(n.a,{id:"pickupClosedInfoModal",role:"dialog",modalTitleId:"pickupClosedInfoModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.g)({...e})})},x=e=>{const{orderDetails:t}=e,{isShowCurbsidePlateNumberInputModal:o}=t,l={id:"curbsidePlateNumberInputModal",role:"dialog",modalTitleId:"curbsidePlateNumberInputModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,closeButtonHandler:()=>(e=>{const{updateSetOrderDetails:t}=e;t({isShowCurbsidePlateNumberInputModal:!1})})(e),showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return!Object(h.w)(t)&&o?Object(D.jsx)(n.a,{...l,children:Object(O.b)({...e})}):null},R=e=>{const{orderDetails:t}=e,{pickupClosingSoonModal:o}=t,l={...null===t||void 0===t?void 0:t.store,status:{currentStatus:u.Od,message:u.Od}},d=Object(m.v)(l,Object(p.a)(b.Ob));return!Object(h.w)(t)&&o&&null!==d&&void 0!==d&&d.timingFlag?Object(D.jsx)(n.a,{id:"pickupClosingSoonModal",role:"dialog",modalTitleId:"pickupClosingSoonModal",show:!0,classNames:"Base-modal pickupClosingSoonModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.h)({...e,lastCheckIn:null===d||void 0===d?void 0:d.lastCheckInTime})}):null},_=e=>Object(D.jsxs)(D.Fragment,{children:[C(e),f(e),y(e),I(e),N(e),E(e),A(e),R(e),x(e)]}),P=(e,t)=>Object(D.jsx)(j.a,{isOpen:e,checkoutHeader:!1,showOrderSummaryHeader:!0,handleClose:()=>(e=>{e({openCallSupportModal:!1})})(t)}),w=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;o.enableCancelOrderCallsupportModal?t({isShowPickupOrderCancelModal:!1,openCallSupportModal:!0,pickupCancelOrder:!(null!==o&&void 0!==o&&o.enableCancelOrderCallsupportModal)}):t({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!0})},L=e=>{const t=[];for(const l of e){const e=l.codePointAt(0);t.push(e)}const o=t.join("%");return btoa(o)},k=(e,t)=>{if(e){const o=Object(S.I)(e,t),l=Object(S.F)(t),d=o.date(),i=l.date(),r=o.isBefore(l);return d===i||r}return!1},M=(e,t,o)=>{if(e){const l=Object(S.I)(e,o),d=Object(S.F)(o),i=l.subtract(t,"minutes"),r=l.add(t,"minutes");let n=0,a=0;return d.isBefore(i)?(n=i.diff(d,"millisecond"),a=r.diff(d,"millisecond")):d.isAfter(i)&&d.isBefore(r)&&(a=r.diff(d,"millisecond")),{timeToEnable:n,timeToDisable:a}}return{timeToEnable:0,timeToDisable:0}}},1173:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return i}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const l={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},d={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},i="subpremise"},1174:function(e,t,o){"use strict";o.d(t,"a",(function(){return R})),o.d(t,"b",(function(){return w})),o.d(t,"g",(function(){return L})),o.d(t,"h",(function(){return k})),o.d(t,"f",(function(){return M})),o.d(t,"e",(function(){return F})),o.d(t,"c",(function(){return B})),o.d(t,"d",(function(){return U}));var l=o(6),d=o(4),i=o(15),r=o(265),n=o(1158),a=o(0),s=o(41),c=o(24),u=o(969),v=o(1108),O=o(5),m=o(603),b=o(122),p=o(20),h=o.n(p),j=o(73),g=o(1111),S=o(2);const D=e=>{var t;const{orderDetails:o}=e,{storeName:i,displayOrderId:r,showOrderSummaryOnSentToPosFailed:n=!1}=o;return Object(S.jsxs)(S.Fragment,{children:[!n&&Object(S.jsx)("div",{className:"pickup-store-order",children:i}),r&&Object(S.jsx)("div",{className:"pickup-store-order red",children:(null===(t=Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+r})]})},C=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:i,enableRetryCountForPickupOrderTracking:n,pickupOrderEstimatedOrCollectAtTime:a}=t,s=n?a:i;return!Object(r.r)(t)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.COLLECTED_AT)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:s})]})},T=e=>{var t,o,l,d;const{orderDetails:n}=e,{orderStatus:a,orderSummarycontentData:s}=n,c=null!==(t=null===s||void 0===s||null===(o=s.icon)||void 0===o||null===(l=o.fields)||void 0===l||null===(d=l.file)||void 0===d?void 0:d.url)&&void 0!==t?t:Object(r.jb)(n)?null===i.a||void 0===i.a?void 0:i.a.TakeawayCompleted:Object(r.gb)(n)?null===i.a||void 0===i.a?void 0:i.a.CartError:Object(r.hb)(n)?null===i.a||void 0===i.a?void 0:i.a.ConfirmedImg:"";return""!==c&&Object(S.jsx)("img",{src:c,className:"statusIcon",alt:a})},f=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{enablePickupMethodChangePostOrder:l,buffertimepmpickup:d=30,postorderStoreShutdownPopup:i}=t;if(Object(g.q)(t),l){const e={...null===t||void 0===t?void 0:t.store,status:{currentStatus:a.Od,message:a.Od}},l=Object(O.v)(e,d);null!==l&&void 0!==l&&l.timingFlag||o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0})}else o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0});i&&(o({isPickupOrderUserConfirmedToCheckIn:!1}),y(e))},y=e=>{var t;const{orderDetails:o,updateSetOrderDetails:l}=e,{postorderStoreShutdownPopup:d,dispatch:i}=o,r={storeid:null===o||void 0===o||null===(t=o.store)||void 0===t?void 0:t.storeId,channel:null===c.b||void 0===c.b?void 0:c.b.channel,service:null===o||void 0===o?void 0:o.service};i(Object(j.n)({data:r,tenantId:null===o||void 0===o?void 0:o.tenantId},(e=>((e,t,o)=>{var l,d,i,r,n,s;t&&(null===(l=e[0])||void 0===l||null===(d=l.summary)||void 0===d||null===(i=d.status)||void 0===i?void 0:i.currentStatus)===a.Y?o({isPickupOrderUserConfirmedToCheckIn:!1,isPostorderStoreShutdownPopupModal:!0,pickupClosedInfoModal:!1}):t&&(null===(r=e[0])||void 0===r||null===(n=r.summary)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.currentStatus)===a.Od&&o({isPickupOrderUserConfirmedToCheckIn:!0,isPostorderStoreShutdownPopupModal:!1})})(e,d,l))))},I=e=>{var t;const{orderDetails:o,isCheckinLoading:i,activateCheckinLimitedWindow:v,mintsBeforePickupCheckinEnabled:O}=e,{collectionPoint:m={},enablePickupMethodChangePostOrder:b,isShowCurbsidePlateNumberInputModal:p=!1,requestedDateTime:h={},selectedPickupOrderCollectionMethod:j,store:g={},hidePostOrderCollectionForAsap:D,orderSummarycontentData:C,fulfillmentDateTime:T}=o,{futureDateTime:y,isForNow:I}=h,{timeZoneIANA:N=""}=g,E=!p&&j===a.ee.CURB_SIDE&&(null===m||void 0===m?void 0:m.carNumber)&&(b||!I&&D),A=()=>{switch(j){case null===a.ee||void 0===a.ee?void 0:a.ee.DRIVE_THRU:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.I_AM_AT_DRIVE_THRU_QUEUE);case(null===a.ee||void 0===a.ee?void 0:a.ee.IN_STORE)||(null===a.ee||void 0===a.ee?void 0:a.ee.DINE_IN):return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.I_AM_INSIDE_RESTAURANT);case null===a.ee||void 0===a.ee?void 0:a.ee.CURB_SIDE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.I_AM_AT_CURB_SIDE);default:return""}};let x;if(v){const{timeToEnable:e,timeToDisable:t}=Object(n.f)(T,O,N);x=b&&!D&&!((e,t)=>0===e&&t>0)(e,t)}else x=i||b&&!D&&!Object(n.a)(y,N);return Object(r.jb)(o)&&(null===o||void 0===o?void 0:o.selectedPickupOrderCollectionMethod)&&(!D||!I)&&Object(S.jsxs)("div",{className:"pickup-collection-method-ready-to-prepare",children:[Object(S.jsx)("div",{className:"linebreak col-12"}),E?Object(S.jsx)("div",{className:"car-number-plate",children:D?null===C||void 0===C||null===(t=C.subHeadline)||void 0===t?void 0:t.replace(a.L,m.carNumber):"".concat(Object(l.translateWithI18Next)(d.a.CAR_NUMBER_PLATE_LABEL)," ").concat(m.carNumber)}):Object(S.jsx)("div",{children:D?null===C||void 0===C?void 0:C.subHeadline:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.READY_TO_PREPARE_MEAL)}),Object(S.jsx)(s.c,{"data-testid":"pickup-collection-method-ready-to-prepare-btn",variant:s.b.primary,style:{marginTop:"2rem"},inactive:x,loading:i,onClick:()=>(async e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{store:l,geoLocationCheckForCheckin:d}=t;if(d&&await c.b.BindLocation(),Object(r.hb)(t)&&o({isShowPickupOrderAlreadyCheckInModal:!0}),c.b.coordinates&&d){var i,n,s,v,O;const{latitude:t,longitude:d}=(null===l||void 0===l?void 0:l.location)||{},r=await Object(u.getDistanceByLatLong)({destinations:{latitude:t,longitude:d},origins:(null===c.b||void 0===c.b?void 0:c.b.coordinates)||{}});(null===r||void 0===r||null===(i=r[0])||void 0===i||null===(n=i.status)||void 0===n?void 0:n.toLowerCase())===(null===a.Qe||void 0===a.Qe||null===(s=a.Qe.ZERO_RESULTS)||void 0===s?void 0:s.toLowerCase())||(null===r||void 0===r||null===(v=r[0])||void 0===v||null===(O=v.distance)||void 0===O?void 0:O.value)>300?o({isShowPickupOrderCheckReadyToPrepareModal:!0}):f(e)}else f(e)})(e),ariaLable:A(),children:D?null===C||void 0===C?void 0:C.buttonText:A()})]})},N=e=>{const{orderDetails:t}=e,{selectedPickupOrderCollectionMethod:o,hidePostOrderCollectionForAsap:i}=t;return o&&!i&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&Object(S.jsx)("div",{className:"change-collection-method",children:Object(S.jsx)(s.c,{className:"change-collection-method-btn","data-testid":"change-collection-method-btn",variant:s.b.tertiary,onClick:()=>(e=>{const{updateSetOrderDetails:t}=e;t({selectedPickupOrderCollectionMethod:null,pickupClosedInfoModal:!1})})(e),ariaLable:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHANGE_COLLECTION_METHOD),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHANGE_COLLECTION_METHOD)})})},E=e=>{const{orderDetails:t}=e,{orderStatus:o,service:i,selectedPickupOrderCollectionMethod:n,enableRetryCountForPickupOrderTracking:s,enablePickupMethodChangePostOrder:c,hidePostOrderCollectionForAsap:u,requestedDateTime:O}=t,m=!s||c&&!u?(e=>{var t;const{hideCustomerName:o}=e,i=o?" ":", "+(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."));if(Object(r.jb)(e))switch(null===e||void 0===e?void 0:e.selectedPickupOrderCollectionMethod){case null===a.ee||void 0===a.ee?void 0:a.ee.DRIVE_THRU:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHECIN_AT_DRIVE_THRU);case null===a.ee||void 0===a.ee?void 0:a.ee.IN_STORE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHECIN_AT_IN_STORE);case null===a.ee||void 0===a.ee?void 0:a.ee.CURB_SIDE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHECIN_AT_CURB_SIDE);default:return"".concat(Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_RECEIVED)).concat(i)}else{if(Object(r.gb)(e))return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_ORDER);if(Object(r.hb)(e))return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ENJOY_MEAL)}return""})(t):Object(v.h)(t),b=Object(r.r)(t)||Object(r.gb)(t)?Object(v.c)(t):Object(v.i)(t);return Object(S.jsxs)("div",{children:[""!==m&&Object(S.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(i," ").concat(n," col-12 ").concat(Object(r.ib)(t)?"":"p-0px-imp"),children:[Object(S.jsx)("div",{className:"col-12 statusMessage",children:m}),I(e),c&&N(e)]}),""!==b&&!Object(r.u)(t)&&(!u||!((null===O||void 0===O||!O.isForNow)&&Object(r.ob)(t)))&&Object(S.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:b}})]})},A=e=>{const{orderDetails:t}=e,{orderSummarycontentData:o,enableClickCollectScheduleOrder:l,allowScheduleOrderForDispositions:d,service:i}=t;return l&&(null===d||void 0===d?void 0:d.includes(i))?""!==(null===o||void 0===o?void 0:o.confirmationEmailSubHeadline)&&!Object(r.u)(t)&&Object(S.jsx)("div",{className:"emailconfirmation-container",children:Object(S.jsx)("span",{className:"emailconfirmation-msg",children:null===o||void 0===o?void 0:o.confirmationEmailSubHeadline})}):null},x=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:i}=t,n=(null===o||void 0===o?void 0:o.otp)||(null===i||void 0===i?void 0:i.otp);return!Object(r.ib)(t)&&n&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ASK_FOR_OTP)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:Object(S.jsx)("div",{className:"red otp",children:n})})]})},R=e=>Object(S.jsxs)(S.Fragment,{children:[!Object(r.ib)(null===e||void 0===e?void 0:e.orderDetails)&&D(e),Object(r.hb)(null===e||void 0===e?void 0:e.orderDetails)&&C(e),T(e),E(e),A(e),x(e)]}),_=e=>{switch(e){case null===a.ee||void 0===a.ee?void 0:a.ee.DRIVE_THRU:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.DRIVE_THRU);case null===a.ee||void 0===a.ee?void 0:a.ee.IN_STORE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.IN_STORE);case null===a.ee||void 0===a.ee?void 0:a.ee.CURB_SIDE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CURB_SIDE)}return""},P=e=>{switch(e){case null===a.ee||void 0===a.ee?void 0:a.ee.DRIVE_THRU:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PICKUP_FROM_WINDOW);case null===a.ee||void 0===a.ee?void 0:a.ee.IN_STORE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PICKUP_INSIDE_RESTAURANT);case null===a.ee||void 0===a.ee?void 0:a.ee.CURB_SIDE:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PICKUP_FROM_CURB_SIDE)}return""},w=e=>{var t;const{updateSetOrderDetails:o,orderDetails:i}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper curbside-plate-number",children:[Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"vehicle-details-title",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.VEHICAL_DETAILS)}),Object(S.jsx)(b.a,{id:"curbside-plate-number-input",name:"curbside-plate-number-input",className:"curbside-plate-number-input",placeholder:Object(l.translateWithI18Next)(d.a.CAR_NUMBER_PLATE),isMandatory:!0,maxLength:10,value:null===(t=i.collectionPoint)||void 0===t?void 0:t.carNumber,onChange:e=>{const t=Object(m.a)(e.target.value);o({collectionPoint:{name:a.ee.CURB_SIDE,carNumber:t}})},onKeyPress:e=>{Object(m.c)(e.key)||e.preventDefault()}})]}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{id:"confirm-car-number-btn",className:"button blackButton blackBorder save-button",onClick:()=>{i.collectionPoint.carNumber&&o({selectedPickupOrderCollectionMethod:a.ee.CURB_SIDE,pickupClosedInfoModal:!0,isShowCurbsidePlateNumberInputModal:!1})},children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CONFIRM)})})]})},L=e=>{var t;const{updateSetOrderDetails:o,orderDetails:r}=e,{postorderStoreShutdownPopup:n}=r;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.CartError,alt:"closedOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===r||void 0===r||null===(t=r.store)||void 0===t?void 0:t.name}),Object(S.jsx)("div",{children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.HAS_NOW_CLOSED)})]}),Object(S.jsx)("div",{className:"message-refund closing-msg "+(n&&"postorderStoreShutdownPopup-msg"),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>o({pickupClosedInfoModal:!1,isPostorderStoreShutdownPopupModal:!1}),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.OK)})})]})},k=e=>{var t,o;const{updateSetOrderDetails:r,orderDetails:n,lastCheckIn:a}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.Timeout,alt:"closingsoonOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel last-checkin",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.name}),Object(S.jsxs)("div",{children:[Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.LAST_ORDER_CHECKIN_AT),Object(S.jsx)("span",{className:"selected-store-name",children:a})]})]}),Object(S.jsxs)("div",{className:"message-refund closing-msg",children:[null===n||void 0===n||null===(o=n.store)||void 0===o?void 0:o.name," ",Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.IS_CLOSING_SOON)]}),Object(S.jsx)("div",{className:"message-refund ahead-time",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHECK_IN_AHEADTIME)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>r({pickupClosingSoonModal:!1}),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.OK)})})]})},M=e=>{var t,o;const{orderDetails:n,updateSetOrderDetails:s}=e,{collectionPoint:c,postOrderDetails:u={},pickupOrderAvailableCollectionPoints:v,enablePickupMethodChangePostOrder:O,hidePostOrderCollectionForAsap:m,allowedPickupCollectionMethods:b}=n,p=e=>-1!==(null===v||void 0===v?void 0:v.findIndex((t=>t.collectionPointName===e)));var j;if(!h()(null===u||void 0===u||null===(t=u.collectionPoint)||void 0===t?void 0:t.name)&&p(null===u||void 0===u||null===(o=u.collectionPoint)||void 0===o?void 0:o.name)&&h()(c)&&(O||m))return s({collectionPoint:null===u||void 0===u?void 0:u.collectionPoint,selectedPickupOrderCollectionMethod:null===u||void 0===u||null===(j=u.collectionPoint)||void 0===j?void 0:j.name,pickupClosedInfoModal:!0}),null;const g=Object(r.e)(v,a.ee);return Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-container",children:[Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method-header",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SELECT_PICK_UP_METHOD)}),Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method",children:null===g||void 0===g?void 0:g.map((e=>{const t=null===a.ee||void 0===a.ee?void 0:a.ee[e],o=t===a.ee.CURB_SIDE,r=p(null===a.ee||void 0===a.ee?void 0:a.ee[e]);return!O&&o?null:Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-node","data-testid":"PickupCollectionMethod_"+t,onClick:()=>{r&&s(o?{isShowCurbsidePlateNumberInputModal:!0}:{collectionPoint:{name:t,carNumber:null},selectedPickupOrderCollectionMethod:t,pickupClosedInfoModal:!0})},children:[Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.TakeAwayImg,className:"methodIcon",alt:""}),Object(S.jsxs)("div",{className:"methodDetails",children:[Object(S.jsxs)("div",{className:"methodTitle",children:[_(t),!r&&Object(S.jsx)("div",{className:"methodTitle-Unavailable",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.UNAVAILABLE)})]}),Object(S.jsx)("span",{className:"methodMessage",children:P(t)})]}),r&&Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.Arrow,className:"arrowIcon",alt:""})]},e)}))})]})},F=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;return Object(S.jsxs)("div",{className:"col-12 pickupOrderCancelPanel",children:[Object(S.jsx)("span",{children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CHANGED_YOUR_MIND)}),null!==o&&void 0!==o&&o.showCancelOrderNumber?Object(S.jsx)("span",{children:Object(S.jsx)("a",{className:"pickupOrderCancelPanelBtn","data-testid":"pickupOrderCancelBtn",href:(null===a.oc||void 0===a.oc?void 0:a.oc.TEL)+Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CONTACTUS_NUMBER),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CONTACTUS_DISPLAYTEXT)})}):Object(S.jsx)("span",{"data-testid":"pickupOrderCancelPanelBtn",tabIndex:"0",className:"pickupOrderCancelPanelBtn",onClick:()=>t({isShowPickupOrderCancelModal:!0}),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_ORDER_BUTTON_TEXT)})]})},B=e=>{var t,o,r,c,u;const{closeModalHandler:v,orderDetails:m}=e,{isShowPickupOrderCancelModal:b,isShowStoreClosePickupOrderCancelModal:p}=m,h=null===m||void 0===m||null===(t=m.store)||void 0===t?void 0:t.phoneNumber,j=null===m||void 0===m||null===(o=m.paymentReferences)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.paymentType;return Object(S.jsxs)("div",{className:"pickupCancelOrderModal",children:[Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.CartError,alt:"pickupCancelOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[b&&Object(O.Jd)(null===m||void 0===m?void 0:m.service)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_DELIVERY_ORDER):Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_PICKUP_ORDER),p&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===m||void 0===m||null===(c=m.store)||void 0===c?void 0:c.name}),Object(S.jsx)("div",{children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.HAS_NOW_CLOSED)})]})]}),b&&Object(S.jsx)("div",{className:"message-refund",children:null===(u=Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.FULL_PAYMENT_REFUND))||void 0===u?void 0:u.replace("{{storePhoneNumber}}",h)}),j!==(null===a.Vd||void 0===a.Vd?void 0:a.Vd.PAY_BY_CASH)&&p&&Object(S.jsx)("div",{className:"message-refund",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsxs)("div",{className:"buttonItems",children:[b&&Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:v,children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.KEEP_ORDER)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>Object(n.g)(e),children:m.enableCancelOrderCallsupportModal?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CALL_SUPPORT_ORDER_BUTTON_TEXT):Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_ORDER_BUTTON_TEXT)})]})]})},U=e=>{const{closeModalHandler:t}=e;return Object(S.jsxs)("div",{className:"pickupGeoLocationVerifyModal",children:[Object(S.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.LocationError,alt:"pickupGeoLocationVerifyModal"}),Object(S.jsx)("div",{className:"message-cancel",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.READY_TO_START_COOKING)}),Object(S.jsx)("div",{className:"message-refund",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CONFIRM_YOU_ARE_HERE_TEXT)}),Object(S.jsxs)("div",{className:"buttonItems",children:[Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.I_AM_ELSE_WHERE_TEXT)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>f(e),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.I_AM_HERE_TEXT)})]})]})}},1180:function(e,t,o){"use strict";o.d(t,"a",(function(){return j})),o.d(t,"b",(function(){return I})),o.d(t,"c",(function(){return N})),o.d(t,"e",(function(){return E})),o.d(t,"d",(function(){return A}));var l=o(1120),d=o.n(l),i=o(6),r=o(210),n=o(4),a=o(15),s=o(1209),c=o(265),u=(o(3),o(2));var v=e=>(e=>Object(u.jsx)(r.a,{...e,testId:"order_summary_raider_details_view",importPath:"ORDER_SUMMARY_RAIDER_DETAILS_VIEW"}))(e),O=o(0),m=o(5),b=o(1108),p=o(399);const h=e=>{const{orderDetails:t,arrivalTime:o,showDeliveryEstimatedTime:l,pastOrderTimeFormat:d}=e,{orderStatus:i,deliveryOrEstimatedOrCollectAtTime:r}=t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(i,"-delivery"),children:l&&null==o?"":D(t)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:l?T({orderDetails:t,arrivalTime:o,pastOrderTimeFormat:d}):C(t)})]})},j=e=>{var t;const{orderSummarycontentData:o,total:l,currencySymbol:d,currencyConversionFactor:i}=e,r=null===o||void 0===o||null===(t=o.payOnArrivalSubheadline)||void 0===t?void 0:t.replace(O.wf,'<span class="red">'.concat(Object(m.K)(l,{currencySymbol:d,currencyConversionFactor:i}),"</span>")),n="<div class='subheadline-content'>".concat(r,"</div>");return Object(c.B)(e)?n:null===o||void 0===o?void 0:o.payOnArrivalSubheadline},g=e=>{var t,o;const{orderDetails:l,isUberServiceableEnabled:i}=e,r=null!==l&&void 0!==l&&null!==(t=l.requestedDateTime)&&void 0!==t&&t.isForNow||i&&Object(p.e)(null===l||void 0===l||null===(o=l.deliveryDetails)||void 0===o?void 0:o.partnerName)?null===l||void 0===l?void 0:l.orderTrackingProgressBarCount:null===l||void 0===l?void 0:l.orderTrackingProgressBarScheduleOrdersCount;let n=[];const a=Object(b.e)(l);return 0!==a&&d()(r,(e=>{n.push(Object(u.jsx)("div",{className:"ProgressDelivery Bar",children:Object(u.jsx)("div",{className:"subProgressDelivery ".concat(e<a?e===a-1?"play":"full":"none")},e)},e))})),a>0&&a<=r&&Object(u.jsx)("div",{className:"progress-bar-list col-12",children:n})},S=e=>{var t,o,l;const{orderDetails:d}=e,{orderStatus:i,orderSummarycontentData:r,enableRetryCountForPickupOrderTracking:n,enableClickCollectScheduleOrder:s}=d,{ConfirmedImg:v,TakeAwayImg:O,DeliveryTracker:m,DeliveryCart:b,CartError:p,TakeawayCompleted:h}=a.a,j=n&&!s?null===r||void 0===r||null===(t=r.icon)||void 0===t||null===(o=t.fields)||void 0===o||null===(l=o.file)||void 0===l?void 0:l.url:Object(c.O)(d)?v:Object(c.J)(d)?O:Object(c.G)(d)||Object(c.R)(d)?h:Object(c.P)(d)||Object(c.N)(d)||Object(c.F)(d)?m:Object(c.K)(d)?b:Object(c.I)(d)?p:v;return""!==j&&Object(u.jsx)("img",{src:j,alt:i})},D=e=>{const{orderSummarycontentData:t}=e,o=null===t||void 0===t?void 0:t.mainHeadingOne;if(null!==o&&void 0!==o&&o.includes(O.gf))return null===e||void 0===e?void 0:e.storeName;if(null!==o&&void 0!==o&&o.includes(O.tb)){const l={...t,subHeadline:o};return Object(u.jsx)("div",{className:"substatusmsgDelivered",dangerouslySetInnerHTML:{__html:Object(b.q)(l,e)}})}return Object(i.translateWithI18Next)(null===t||void 0===t?void 0:t.mainHeadingOne)},C=e=>{const{orderSummarycontentData:t,deliveryOrEstimatedOrCollectAtTime:o}=e,l=null===t||void 0===t?void 0:t.mainHeadingTwo;return null!==l&&void 0!==l&&l.includes(O.Qd)?Object(s.d)(e):l?o:void 0},T=e=>{var t;const{arrivalTime:o,orderDetails:l,pastOrderTimeFormat:d}=e;return Object(c.D)(l)?"".concat(Object(m.bd)(null===l||void 0===l||null===(t=l.deliveryDetails)||void 0===t?void 0:t.actualDeliveryTime,d)):o},f=e=>{var t;const{orderDetails:o,isUberServiceableEnabled:l}=e,{orderStatus:d,enableRetryCountForPickupOrderTracking:r,enableClickCollectScheduleOrder:a,orderSummarycontentData:s,showPinCode:v,deliveryPinDetails:O}=o,m=Object(p.e)(null===o||void 0===o||null===(t=o.deliveryDetails)||void 0===t?void 0:t.partnerName)&&l,h=!r&&!m||a?Object(c.a)(o):Object(b.h)(o),j=!Object(c.r)(o)&&!Object(c.I)(o)||a?Object(b.i)(o):Object(b.c)(o);return Object(u.jsxs)("div",{children:[""!==h&&Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(d,"-delivery-allSet col-12 ").concat(Object(c.L)(o)?"":"p-0px-imp"," ").concat(l?"allSet-smaller-font":""),children:Object(u.jsx)("span",{children:Object(i.translateWithI18Next)(h)})}),""!==j&&!Object(c.A)(o)&&Object(u.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:j}}),(null===s||void 0===s?void 0:s.description)&&Object(u.jsxs)("div",{className:"emailConfirmTxt",children:[" ",Object(i.translateWithI18Next)(null===s||void 0===s?void 0:s.description)]}),v&&O&&(null===O||void 0===O?void 0:O.isPinEnabled)&&!Object(c.L)(o)&&Object(u.jsxs)("div",{className:"row pincode-section",children:[Object(u.jsxs)("span",{children:[Object(i.translateWithI18Next)(n.a.PIN_CODE),":"]}),Object(u.jsx)("span",{children:O.pin})]})]})},y=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t,d=(null===o||void 0===o?void 0:o.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(c.O)(t)&&d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ASK_FOR_OTP)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:d})})]})},I=e=>Object(u.jsxs)(u.Fragment,{children:[!Object(b.l)(null===e||void 0===e?void 0:e.orderDetails)&&!Object(c.I)(null===e||void 0===e?void 0:e.orderDetails)&&h(e),S(e),!Object(b.m)(null===e||void 0===e?void 0:e.orderDetails)&&g(e),f(e),y(e)]}),N=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t;return Object(u.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts",className:"iframe-ordertrackingmaps",title:Object(i.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.TRACK_ORDER),src:(()=>{const e=(null===o||void 0===o?void 0:o.tracking_url)||(null===l||void 0===l?void 0:l.deliveryTrackingUrl);return(e&&-1===e.indexOf(O.Lc)?O.Lc:"")+e})()})},E=e=>{const{deliveryAddress:t,store:o,deliveryDetails:l}=null===e||void 0===e?void 0:e.orderDetails;if(Object(m.pe)(o)&&Object(m.pe)(t)){var d,i,n,a;const s=[null===o||void 0===o||null===(d=o.location)||void 0===d?void 0:d.latitude,null===o||void 0===o||null===(i=o.location)||void 0===i?void 0:i.longitude],c=[null===t||void 0===t||null===(n=t.location)||void 0===n?void 0:n.latitude,null===t||void 0===t||null===(a=t.location)||void 0===a?void 0:a.longitude];return(e=>Object(u.jsx)(r.a,{...e,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0,storeLatLng:s,customerLatLng:c,raiderCurrentLatLng:null===l||void 0===l?void 0:l.riderLocation,stylers:x}))(e)}},A=e=>{const{orderDetails:t}=e;return(Object(c.y)(t)||Object(c.fb)(t))&&Object(u.jsx)(v,{...e})},x=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#202124"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#202124"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e3e3e3"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17}]}]},1185:function(e,t,o){"use strict";o.d(t,"a",(function(){return S})),o.d(t,"b",(function(){return D}));var l=o(4),d=o(0),i=o(267);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:r}=i.b,{DELIVERY:n}=d.Jb||{},{DELIVERY_PLACEHOLDER:a,SELECT_KFC_TITLE:s,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:O,STORE_CLOSE_ERROR_DELIVERY:m,SAVED_ADDRESS:b,DELIVER_TO_YOU:p,ORDER_MODE:h,SELECT_STORE_TEXT:j,START_ORDER:g}=l.a,S="FORM",D={["".concat(n,"_").concat(S)]:{placeholder:a,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:m,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:r},["".concat(n,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:s,orderModeScreenErrorText:m,placeholder:a,kfcStoresCountText:p,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:r},["".concat(n,"_").concat("SAVED")]:{placeholder:a,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:m,modalHeaderTitle:c,kfcStoresCountText:b,scheduleOrderScreenTitle:h,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:j,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:g,filteredTypes:r}}},1198:function(e,t,o){"use strict";var l=o(3),d=o(28),i=o(5),r=o(85),n=o(0),a=o(1199),s=o(62),c=o(1111);t.a=e=>{var t,o,u,v,O,m;const b=Object(s.g)(),{isOpen:p,handleClose:h,isModalView:j=!0,showOrderSummaryHeader:g=!1,orderHistoryPage:S=!1}=e,D=Object(d.b)(),{userOrderState:C}=Object(l.useContext)(r.a),T=Object(i.Sd)(C.dispositionNew)?JSON.parse(localStorage.getItem(n.gd.DISPOSITION_NEW)):C.dispositionNew,{type:f,store:y,orderDetails:I={}}=Object(i.Td)(T)?T:{},{helpReducer:N,orderReducer:E,postOrderReducer:A,tenantReducer:x}=Object(d.c)((e=>e)),R=Object(i.ic)(N.helpResponse||null),_=S?void 0:(null===E||void 0===E||null===(t=E.response)||void 0===t||null===(o=t.order)||void 0===o?void 0:o.deliveryPartners)||(null===A||void 0===A||null===(u=A.orderAccepted)||void 0===u?void 0:u.deliveryPartners),[P,w]=Object(l.useState)(_);return Object(l.useEffect)((()=>{Object(c.d)(D),w(_)}),[]),Object(i.Td)(R)&&Object(a.e)({contentData:R,service:g?null===I||void 0===I?void 0:I.type:f,store:g?null===I||void 0===I?void 0:I.store:y,isOpen:p,handleClose:h,isModalView:j,history:b,deliveryPartner:P,NeedHelpSectionDisplayFlag:null===x||void 0===x||null===(v=x.componentOptions)||void 0===v||null===(O=v.web)||void 0===O||null===(m=O.orderPages)||void 0===m?void 0:m.getDeliveryOrderStatusMessageFlag})}},1199:function(e,t,o){"use strict";o.d(t,"e",(function(){return v})),o.d(t,"b",(function(){return m})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return h})),o.d(t,"c",(function(){return g}));var l=o(6),d=o(210),i=o(4),r=o(0),n=o(5),a=o(144),s=o(2);const c=e=>Object(s.jsx)(d.a,{...e,testId:"need_help_view",importPath:"NEED_HELP_VIEW"}),u=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case r.Jb.DELIVERY:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.DELIVERY_TITLE);case r.Jb.PICKUP:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.PICKUP_TITLE)}return""},v=e=>null!==e&&void 0!==e&&e.isModalView?O(e):c(e),O=e=>{const{service:t,handleClose:o,isOpen:l}=e,d={role:"dialog",modalTitleId:"need-help-modal",show:!0,classNames:"need-help-modal",showCloseBtn:!0,closeButtonHandler:o,modalTitle:u(t),showBackBtn:!1,closeDataTestId:"close-need-help-modal",id:"NeedHelpModal",autoFocus:!0};return l&&Object(s.jsx)(a.a,{...d,children:c(e)})},m=e=>{var t;const{service:o,contentData:l,store:d,deliveryPartner:i}=e,{helpSectionCallDetails:n}=l;switch(null===o||void 0===o?void 0:o.toUpperCase()){case r.Jb.PICKUP:return(null===d||void 0===d?void 0:d.phoneNumber)||(null===d||void 0===d||null===(t=d.contacts.find((e=>e.key===r.Zd)))||void 0===t?void 0:t.value);case r.Jb.DELIVERY:default:return p(i,n)}},b=(e,t)=>{e.preventDefault();const{contentData:o,history:l,handleClose:d}=t,{helpSectionContactDetails:i}=o;d(),l.push({pathname:null===i||void 0===i?void 0:i.url})||l.push({pathname:null===i||void 0===i?void 0:i.internalURL})},p=(e,t)=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case r.Ab.SKEDADEL:return"".concat(null===t||void 0===t?void 0:t.skedadelContactNo);case r.Ab.UBERDIRECT:return"".concat(null===t||void 0===t?void 0:t.uberDirectContactNo);case r.Ab.KFC_GENERIC_MSG:return"".concat(null===t||void 0===t?void 0:t.kfcGenericContactNo);default:return"".concat(null===t||void 0===t?void 0:t.contactNo)}},h=e=>{const{service:t,contentData:o,deliveryPartner:d}=e,{helpSectionCallDetails:n}=o;switch(null===t||void 0===t?void 0:t.toUpperCase()){case r.Jb.PICKUP:case r.Jb.CATERING:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CALL_KFC_STORE);case r.Jb.DELIVERY:default:return"".concat(null===n||void 0===n?void 0:n.buttonText," ").concat(p(d,n))}},j=e=>{var t;return e&&Array.isArray(e)?null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value:e},g=e=>{var t,o;const{service:l,contentData:d,store:i,deliveryPartner:a}=e,{helpSectionCallDetails:c,callsupportcontent:u=[]}=d;switch(null===l||void 0===l?void 0:l.toUpperCase()){case r.Jb.PICKUP:return Object(s.jsxs)("div",{children:[!u.length&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"bold-text",children:j(null===i||void 0===i?void 0:i.name)}),Object(s.jsx)("br",{}),Object(n.ac)((null===i||void 0===i?void 0:i.address)||(null===i||void 0===i?void 0:i.addresses))]}),u.length&&Object(s.jsx)("span",{children:null===(t=u[0])||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.description})]});case r.Jb.CATERING:return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"bold-text",children:j(null===i||void 0===i?void 0:i.name)}),Object(s.jsx)("br",{}),Object(n.ac)((null===i||void 0===i?void 0:i.address)||(null===i||void 0===i?void 0:i.addresses))]});case r.Jb.DELIVERY:default:return((e,t)=>{const o=(e,o,l)=>Object(s.jsxs)("span",{children:[null===t||void 0===t?void 0:t[e]," ",Object(s.jsxs)("span",{className:"bold-text",children:[null===t||void 0===t?void 0:t[o]," "]}),null===t||void 0===t?void 0:t[l]]});switch(null===e||void 0===e?void 0:e.toLowerCase()){case r.Ab.SKEDADEL:return o("skededal1","skededal2","skededal3");case r.Ab.UBERDIRECT:return o("uberDirect1","uberDirect2","uberDirect3");case r.Ab.KFC_GENERIC_MSG:return o("kfcGenericMsg1","kfcGenericMsg2","kfcGenericMsg3");default:return o("val1","val2","val3")}})(a,c)}}},1203:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var l=o(32),d=o(3),i=o(0),r=o(2);var n=e=>{const{tabIndex:t,ariaLable:o,className:n,options:a,onChange:s,testid:c="",selectedValue:u,name:v,...O}=e;return Object(d.useEffect)((()=>{u&&(null===s||void 0===s||s({target:{value:u,name:v}}))}),[u,v]),Object(r.jsx)("select",{className:n,tabIndex:t,"aria-label":o,onChange:s,onKeyPress:e=>{const{SPACE:t,ENTER:o}=i.ag.KEY_CHAR_CODE;!s||e.charCode!==t&&e.charCode!==o||s()},"data-testid":c,defaultValue:u,name:v,...O,children:null===a||void 0===a?void 0:a.map(((e,t)=>((e,t)=>{const o=u===e?{selected:"selected"}:"";return Object(r.jsx)("option",{value:e,"data-testid":"".concat(c).concat(t),defaultValue:u===e,...o,children:Object(l.translateWithI18Next)(e)},e)})(e,t)))})};const a=e=>{const{tabIndex:t,ariaLable:o,className:l,options:d,onChange:n,testid:a="",selectedValue:s,...c}=e;return Object(r.jsxs)("select",{className:l,tabIndex:t,"aria-label":o,onChange:n,onKeyPress:e=>{const{SPACE:t,ENTER:o}=i.ag.KEY_CHAR_CODE;!n||e.charCode!==t&&e.charCode!==o||n()},"data-testid":a,defaultValue:s,...c,children:[Object(r.jsx)("option",{children:i.ag.DROPDOWN_DEFAULT_VALUE}),Object.keys(d).map(((e,t)=>{return Object(r.jsx)("optgroup",{label:e,"data-testid":"sort-visit-group",children:(o=d[e],o.map((e=>Object(r.jsx)("option",{value:e.value,title:e.category,"data-testid":"sort-visit-option",children:e.value},e.value))))},t);var o}))]})}},1204:function(e,t,o){"use strict";o(3);var l=o(210),d=o(2);t.a=e=>(e=>Object(d.jsx)(l.a,{...e,testId:"order_summary_info_details_view",importPath:"ORDER_SUMMARY_INFO_DETAILS_VIEW"}))(e)},1205:function(e,t,o){"use strict";(function(e){var l=o(3),d=o.n(l),i=o(28),r=o(1121),n=o(66),a=o(73),s=o(192),c=o(6),u=o(5),v=o(190),O=o(1212),m=o(0),b=o(4),p=o(63),h=o(1148),j=o(269),g=o(331),S=o(2);t.a=t=>{var o,D,C,T,f,y,I,N,E,A,x,R,_,P,w,L,k;const M=Object(i.b)(),{modalType:F,toggleModal:B,updateSetOrderDetails:U}=t,{HIDDEN:H,DELIVERY_SERVICE:W,CHANNEL:V,INITIAL_STATE:G,MAX_DELIVERY_DISTANCE:Y,NO_OF_STORE_FOR_DELIVERY:K}=v.b,{FIELD_NAME:J,PIN_CODE:q}=v.d,{ADDRESS_UPDATED:Z,ADDRESS_SAVED:z}=b.a,{allStores:X=[]}=Object(i.c)((e=>e.allStoresReducer)),{savedAddresses:Q}=Object(i.c)((e=>e.profileReducer)),$=Object(i.c)((e=>e.tenantReducer)),{tenantId:ee="",storeSearch:te={},country:oe,countryNameInDefaultLang:le,componentOptions:de}=$,ie=null===de||void 0===de||null===(o=de.web)||void 0===o||null===(D=o.dispositionConfig)||void 0===D||null===(C=D.deliveryStores)||void 0===C?void 0:C.shouldEnableConfirmButton,re=Object(u.ad)(Object(u.Td)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,G),[ne,ae]=Object(l.useState)(re),[se,ce]=Object(l.useState)(!1),[ue,ve]=Object(l.useState)(!0),Oe=null===te||void 0===te?void 0:te.geohashprecision,me=(null===te||void 0===te?void 0:te.boundingBoxSizeMeters)/1e3,[be,pe]=Object(l.useState)(!1),[he,je]=Object(l.useState)(!1),ge=null===$||void 0===$||null===(T=$.componentOptions)||void 0===T||null===(f=T.web)||void 0===f||null===(y=f.accountPage)||void 0===y?void 0:y.filterConditions,Se=null===$||void 0===$||null===(I=$.componentOptions)||void 0===I||null===(N=I.web)||void 0===N||null===(E=N.accountPage)||void 0===E?void 0:E.showAddressMapView,De=null===$||void 0===$||null===(A=$.componentOptions)||void 0===A||null===(x=A.web)||void 0===x?void 0:x.address,Ce=null===$||void 0===$?void 0:$.addressRegex,[Te,fe]=Object(l.useState)(),[ye,Ie]=d.a.useState([]),[Ne,Ee]=d.a.useState(!1),[Ae,xe]=d.a.useState(!1),{ready:Re,value:_e,suggestions:Pe,setValue:we,clearSuggestions:Le}=Object(r.a)({requestOptions:{componentRestrictions:{country:null===(R=e)||void 0===R||null===(_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===_?void 0:_.REACT_APP_TENANT_CODE},types:null===$||void 0===$||null===(P=$.componentOptions)||void 0===P||null===(w=P.web)||void 0===w||null===(L=w.dispositionConfig)||void 0===L||null===(k=L.DELIVERY_FORM)||void 0===k?void 0:k.filteredTypes},debounce:300}),ke={...Pe,data:Object(j.d)(null===Pe||void 0===Pe?void 0:Pe.data,ge)},Me=Object(l.useRef)(null),Fe=()=>{document.querySelector("body").style.overflow="",B(!1),M(Object(a.u)())};Object(l.useEffect)((()=>{var e,t;F&&s.a.calculateGH({lat:parseFloat(Object(u.jb)(null===ne||void 0===ne||null===(e=ne.location)||void 0===e?void 0:e.latitude,null===ne||void 0===ne?void 0:ne.latitude)),lon:parseFloat(Object(u.jb)(null===ne||void 0===ne||null===(t=ne.location)||void 0===t?void 0:t.longitude,null===ne||void 0===ne?void 0:ne.longitude)),distanceFromCurrentLoc:me,geoHashPrecision:Oe});document.querySelector("body").style.overflow=H}),[]),Object(l.useEffect)((()=>(document.addEventListener("mousedown",Be),()=>{document.removeEventListener("mousedown",Be)}))),Object(l.useEffect)((()=>{ae(F?e=>({...e,isAddressSelected:!0}):e=>({...e,isAddressSelected:!1}))}),[F]);const Be=e=>{Me.current&&!Me.current.contains(e.target)&&Le()},Ue=()=>{var e,t,o,l,d,i,r,n;return(null===ne||void 0===ne||null===(e=ne.addressLines)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.length)&&(null===ne||void 0===ne||null===(o=ne.city)||void 0===o?void 0:o.length)&&(null===ne||void 0===ne||null===(l=ne.pinCode)||void 0===l?void 0:l.length)&&(null===ne||void 0===ne||null===(d=ne.state)||void 0===d?void 0:d.length)&&(null===ne||void 0===ne||null===(i=ne.deliveryOptions)||void 0===i?void 0:i.length)&&(!ie||(null===ne||void 0===ne||null===(r=ne.addressLines)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length))&&!be&&!he},He=e=>{var t,o,l;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(l=e.availableServicesPerChannel)||void 0===l?void 0:l.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===V&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===W})))},We=()=>{let e="".concat(Object(c.translateWithI18Next)("Address")," 1");const t=[...Q.map((e=>e.name))].filter((e=>e.indexOf(Object(c.translateWithI18Next)("Address"))>-1));return Ve(t,e)},Ve=(e,t)=>{let o=t;return e.includes(o)?(o=o.replace(/(\d+)+/g,((e,t)=>parseInt(t)+1)),Ve(e,o)):o},Ge=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:10,geohashprecision:Oe},l=s.a.calculateGH(o);M(Object(a.v)(null===l||void 0===l?void 0:l.length))};return Object(S.jsx)(O.a,{...t,dataTestId:"addressModalTest",setValue:we,value:_e,error:se,addresses:ne,handleChange:e=>{let{target:t}=e;const{name:o,value:l}=t,d=Object(u.ad)(o===J.NAME,l,ne.name);if(o===q){var i;if(!(null===(i=/^\d+$/)||void 0===i?void 0:i.test(l))&&""!==l)return;ae({...ne,[o]:l})}if(o===J.DELIVERY_OPTION)return void ae({...ne,[o]:l!==m.zb[0]?l:""});const r={addressRegex:Ce,valueInfo:l,setSaveAddress:ae,addresses:ne,name:o};if(d){const e=(e=>!!Object(u.ad)(!F,Q,Q.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===re||void 0===re?void 0:re.id)))).find((t=>{var o,l;return(null===t||void 0===t||null===(o=t.name.toUpperCase())||void 0===o?void 0:o.trim())===(null===e||void 0===e||null===(l=e.toUpperCase())||void 0===l?void 0:l.trim())})))(d);(null===Ce||void 0===Ce?void 0:Ce.test(d))?e?(pe(!0),je(!1)):(je(!1),pe(!1)):(pe(!1),je(!0))}else je(!1),pe(!1);if(o!==J.FLOOR)if(t.type!==J.CHECKBOX)ae({...ne,[o]:l});else{Q.find((e=>e.isPrimary&&e.id===ne.id))||ae({...ne,[o]:"true"!==l})}else(e=>{const{addressRegex:t,valueInfo:o,setSaveAddress:l,addresses:d,name:i}=e;if(null===t||void 0===t?void 0:t.test(o)){const e=[o,null===d||void 0===d?void 0:d.addressLines[1]];l({...d,[i]:o,addressLines:e,isFlatNumberSelected:!1})}})(r)},handleInput:e=>{if(null===ne||void 0===ne||!ne.isAddressSelected){we(e.target.value);const t=[null===ne||void 0===ne?void 0:ne.addressLines[0],e.target.value];ae({...ne,addressLines:t})}ve(!0)},ready:Re,suggestionRef:Me,suggestions:ke,handleSelect:t=>{let{description:o,structured_formatting:{main_text:l,secondary_text:d}}=t;return()=>{var t,l;ve(!1),ce(!1),Le(),M(Object(a.u)()),Object(r.b)({address:o,componentRestrictions:{country:null===(t=e)||void 0===t||null===(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===l?void 0:l.REACT_APP_TENANT_CODE}}).then((e=>(Object(h.e)(m.Id,e[0],we,ae,Le,Ue),fe(null===ne||void 0===ne?void 0:ne.addressLines[1]),Object(r.c)(e[0])))).then((e=>{s.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:me,geoHashPrecision:Oe}),ae((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng,isAddressSelected:!0,isFlatNumberSelected:!0})))})).catch((e=>{console.log("Error: ",e)}))}},checkFormValidation:Se?()=>{var e,t,o,l;return(null===ne||void 0===ne||null===(e=ne.addressLines[1])||void 0===e?void 0:e.length)&&(null===ne||void 0===ne||null===(t=ne.city)||void 0===t?void 0:t.length)&&(null===ne||void 0===ne||null===(o=ne.pinCode)||void 0===o?void 0:o.length)&&(null===ne||void 0===ne||null===(l=ne.state)||void 0===l?void 0:l.length)&&!be&&!he}:Ue,handleSubmit:e=>{const t=(e=>{var t,o;let l={},d=["",""];return d[1]=e.addressLines[1],d[0]=Object(u.jb)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),l={addressId:Object(u.ud)(null===e||void 0===e?void 0:e.id),addressName:Object(u.jb)(e.name,We()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(u.ud)(e.country),isPrimary:Object(u.sb)(e.isPrimary,Q.length<1,!1),location:{latitude:Object(u.jb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(u.jb)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:d,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions,placeId:null===e||void 0===e?void 0:e.placeId},l})(ne),o=null===X||void 0===X?void 0:X.filter(He),l=null===te||void 0===te?void 0:te.maxDriveTimeMins,d=Object(u.jb)(null===te||void 0===te?void 0:te.maxDeliveryDistanceMtrs,Y),i=s.a.checkAndProceed({stores:o,disposition:W,distanceMetrics:null===te||void 0===te?void 0:te.distanceMetrics,driveTime:l,distanceInMtrs:d,noOfStores:K});if(e&&U({savedAddressSucess:!0}),null!==i&&void 0!==i&&i.length||e){const{customerId:e,phoneNumber:o}=p.a.getInstance();M(Object(n.a)({customerId:e,phoneNumber:o,tenantId:ee,data:t})),Fe();const l=Object(u.ad)(F,Object(c.translateWithI18Next)(Z),Object(c.translateWithI18Next)(z));Object(u.Cf)(l,"","favorites-added-toast")}else ce(!0)},isNameExist:be,isInvalidName:he,handleClose:Fe,savedAddresses:Q,showSuggestions:ue,country:oe,countryNameInDefaultLang:le,setSaveAddress:ae,nonFormattedAddress:Te,setNonFormattedAddress:fe,addressFormConditions:De,seteligibleStoreData:Ie,showStores:Ne,setShowStores:Ee,showMapBasedField:Ae,setShowMapBasedFiled:xe,clearSuggestions:Le,showAddressMapView:Se,allStores:X,getUserLatLong:e=>{M(Object(g.b)()),M(Object(a.u)()),Ge(e.userLat,e.userLong),setTimeout((()=>{M(Object(g.a)())}),2e3)},dispatch:M,setError:ce})}}).call(this,o(121))},1209:function(e,t,o){"use strict";o.d(t,"a",(function(){return A})),o.d(t,"e",(function(){return x})),o.d(t,"f",(function(){return R})),o.d(t,"c",(function(){return _})),o.d(t,"d",(function(){return P})),o.d(t,"b",(function(){return w}));var l=o(6),d=o(4),i=o(15),r=o(265),n=o(1204),a=o(5),s=o(41),c=o(46),u=o(1098),v=o(0),O=o(86),m=o(1158),b=o(2);const p=e=>Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.REORDER_FAVORITES)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"create-kfc-account-btn",className:"button transparent-btn black-border",onClick:()=>(e=>{const{orderDetails:t}=e,{total:o,currencyConversionFactor:l,customer:d}=t,{firstName:i,lastName:r,email:n,phoneNumber:s,id:c}=d;Object(u.a)(),sessionStorage.setItem(v.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT,c);const b=sessionStorage.getItem(v.Ne.MARKETING_OPT_VAL),p="&userEmail=".concat(n?Object(m.b)(n):void 0);let h="userFirstName=".concat(Object(m.b)(i),"&userLastName=").concat(r?Object(m.b)(r):void 0).concat(p,"&userPhoneNumber=").concat(Object(m.b)(s));if(b){const e=JSON.parse(b),{Email:t,Phone:o}=e;h=t?"".concat(h,"&emailSubscription=").concat(t):h,h=o?"".concat(h,"&phoneSubscription=").concat(o):h}Object(O.a)(h),Object(u.d)({orderValue:Object(a.g)(o/l)})})(e),ariaLable:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CREATE_KFC_ACCOUNT),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CREATE_KFC_ACCOUNT)})})]}),h=e=>{var t;const{orderDetails:o,savedAddresses:i}=e,n=null===o||void 0===o||null===(t=o.deliveryAddress)||void 0===t?void 0:t.location,a=null===i||void 0===i?void 0:i.find((e=>{var t,o;const l=parseFloat(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)===parseFloat(null===n||void 0===n?void 0:n.latitude),d=parseFloat(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)===parseFloat(null===n||void 0===n?void 0:n.longitude);return l&&d})),{orderSummarySaveYourOrderCompleted:u,userStatus:v,savedAddressSucess:O,saveFavoriteSummarySucess:m,hideCreateAccountPanel:h}=o;return Object(b.jsx)("div",{className:"saveYourOrdersAndCreateKFCAccountContainer col-12",children:Object(r.I)(o)||Object(r.gb)(o)?(e=>{const{orderDetails:t}=e,{helpContantData:o}=t,{helpSectionCallDetails:i}=o;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.HERE_TO_HELP)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)("a",{tabIndex:"-1",href:"tel:"+(null===i||void 0===i?void 0:i.contactNo),className:"anchorTags",children:Object(b.jsxs)(s.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"button transparent-btn black-border",children:[Object(b.jsx)(c.a,{srcFile:null===i||void 0===i?void 0:i.icon,alt:" ",className:"Messageimage"}),"".concat(null===i||void 0===i?void 0:i.buttonText," ").concat(null===i||void 0===i?void 0:i.contactNo)]})})})]})})(e):u&&null!==o&&void 0!==o&&o.deliveryAddress&&!a?(e=>{const{updateSetOrderDetails:t}=e;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SAVE_ADDRESS_BOOK)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-delivery-address",className:"button transparent-btn black-border",onClick:()=>t({isOpenSaveDeliveryAddressModal:!0}),ariaLable:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SAVE_DELIVERY_ADDRESS),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SAVE_DELIVERY_ADDRESS)})})]})})(e):null===v||void 0===v||!v.loggedIn||O||m?O||m||h?void 0:p(e):(e=>{var t,o;const{orderDetails:i,updateSetOrderDetails:r,saveOrderDescriptionText:n=(null===d.a||void 0===d.a?void 0:d.a.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER),saveOrderButtonLabel:a=(null===d.a||void 0===d.a?void 0:d.a.SAVE_THIS_ORDER)}=e;return void 0===(null===i||void 0===i||null===(t=i.favouriteOrders)||void 0===t?void 0:t.find((e=>e.id===(null===i||void 0===i?void 0:i.orderId))))&&Object(b.jsxs)("div",{className:"savingdiv",children:[Object(b.jsx)("span",{className:"saving",children:null===(o=Object(l.translateWithI18Next)(n))||void 0===o?void 0:o.toUpperCase()}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:()=>r({isOpenOrderSummarySaveYourOrderCheckoutFaster:!(null!==i&&void 0!==i&&i.isOpenOrderSummarySaveYourOrderCheckoutFaster)}),ariaLable:Object(l.translateWithI18Next)(a),children:Object(l.translateWithI18Next)(a)})})]})})(e)})};var j=o(1180),g=o(1174);const S=e=>{var t;const{orderDetails:o}=e,{storeName:i,displayOrderId:r}=o;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"catering-store-order",children:i}),r&&Object(b.jsx)("div",{className:"catering-store-order red",children:(null===(t=Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+r})]})},D=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:i}=t;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.COLLECTED_AT)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:i})]})},C=e=>{const{orderDetails:t}=e,{orderStatus:o}=t,l=Object(r.m)(t)?null===i.a||void 0===i.a?void 0:i.a.CartError:Object(r.n)(t)?null===i.a||void 0===i.a?void 0:i.a.ConfirmedImg:null===i.a||void 0===i.a?void 0:i.a.clockFeature;return""!==l&&Object(b.jsx)("img",{src:l,className:"statusIcon",alt:o})},T=e=>{const{orderDetails:t}=e,{orderStatus:o,service:i,selectedCateringOrderCollectionMethod:n,deliveryOrEstimatedOrCollectAtMonthDate:a,deliveryOrEstimatedOrCollectAtTime:s}=t,c=(e=>{var t;return Object(r.m)(e)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CANCEL_ORDER):Object(r.n)(e)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ENJOY_MEAL):"".concat(Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.THANK_YOU),", ").concat(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."))})(t);return""!==c&&Object(b.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(i," ").concat(n," col-12 ").concat(Object(r.o)(t)?"":"p-0px-imp"),children:[Object(b.jsx)("div",{className:"statusMessage",children:c}),!Object(r.o)(t)&&Object(b.jsxs)("div",{className:"catering-order-deliver-details",children:["".concat(Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.YOUR_CATERING))," ",Object(b.jsx)("span",{className:"red",children:a})," ",Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.AT)," ",Object(b.jsx)("span",{className:"red",children:s})]}),!Object(r.o)(t)&&Object(b.jsx)("div",{className:"catering-confirmation-email-details",children:"".concat(Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CATERING_CONFIRMATION_EMAIL))})]})},f=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:i}=t,n=(null===o||void 0===o?void 0:o.otp)||(null===i||void 0===i?void 0:i.otp);return!Object(r.o)(t)&&n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ASK_FOR_OTP)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:Object(b.jsx)("div",{className:"red otp",children:n})})]})},y=e=>Object(b.jsxs)(b.Fragment,{children:[!Object(r.o)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),Object(r.n)(null===e||void 0===e?void 0:e.orderDetails)&&D(e),C(e),T(e),f(e)]}),I=e=>Object(b.jsx)(n.a,{...e}),N=()=>Object(b.jsx)("div",{className:"linebreak col-12"}),E=e=>{const t=null===e||void 0===e?void 0:e.hideCreateAccountSection,o={saveOrderDescriptionText:null===d.a||void 0===d.a?void 0:d.a.RECKON_TEXT,saveOrderButtonLabel:null===d.a||void 0===d.a?void 0:d.a.SAVE_TO_FAVOURITE_ORDER};if(!t)return Object(b.jsxs)("div",{className:"col-12 bottomPanel","data-testid":"bottomPanel",children:[N(),h({...e,...o})]})},A=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel ".concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(r.o)(t)?"redCard":"","  ").concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(o),children:y(e)})})}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&E(e)]})},x=e=>{var t;const{orderDetails:o}=e,{service:l,isMobileView:d,hideCancelOrderPanel:i,hidePickupCheckin:n}=o;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(l),children:[(Object(r.gb)(o)&&(null===o||void 0===o?void 0:o.enableRetryCountForPickupOrderTracking)||!Object(r.gb)(o))&&Object(b.jsxs)("div",{className:"col-12 col-lg-8 leftPanel ".concat(l),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(r.ib)(o)?"redCard":"","  ").concat(l),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(l),children:Object(g.a)(e)})}),Object(r.jb)(o)&&!(null!==o&&void 0!==o&&o.selectedPickupOrderCollectionMethod)&&(null===o||void 0===o||null===(t=o.pickupOrderAvailableCollectionPoints)||void 0===t?void 0:t.length)>0&&n&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.f)(e)]}),Object(b.jsxs)("div",{className:"col-12 col-lg-6 rightPanel ".concat(l),children:[I(e),!i&&!Object(r.ib)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.e)(e)]}),!Object(r.nb)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&E(e),!i&&d&&!Object(r.ib)(o)&&Object(b.jsx)("div",{className:"col-12 ".concat(l," p-0px-imp"),children:N()})]})},R=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),E(e)]})},_=e=>Object(b.jsx)("div",{className:"orderSummaryContainer row giftcardorder",children:Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel",children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 redCard",children:Object(b.jsxs)("div",{className:"giftcard-content",children:[Object(b.jsx)("div",{className:"giftcard-success",children:Object(b.jsx)("img",{src:null===i.a||void 0===i.a?void 0:i.a.ConfirmedImg,className:"statusIcon",alt:"tex"})}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_ONE)}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_TWO)}),Object(b.jsx)("div",{className:"giftcard-success-status",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.GIFT_CARD_PURCHASE_MSG)}),Object(b.jsx)("div",{className:"gift-card-button",children:Object(b.jsx)("button",{"data-testid":"gift-card-button",className:"button giftcard-button",onClick:()=>Object(a.We)({history:e},!1,!0),children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.RETURN_TO_GIFT_CARD)})})]})})})}),P=e=>{const{displayOrderId:t}=e;return Object(b.jsxs)("div",{className:"orderNumber",children:[Object(b.jsx)("span",{className:"",children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.ORDER_HASH)}),t]})},w=e=>{const{orderDetails:t}=e,{service:o,isMobileView:l,enableCancelOrderCallsupportModal:d,showDeliveryTrackingMap:i,showDeliveryOrderRaiderDetailsView:n,showDeliveryDriverDetails:a,showOrderSummaryInfoDetails:s,orderStatusFlag:c}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsxs)("div",{className:"col-12 ".concat(!Object(r.K)(t)||s||c?"col-lg-6":"col-lg-8 m-auto"," leftPanel ").concat(o),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 mb-1 ".concat(Object(r.L)(t)?"redCard":""," ").concat(Object(r.O)(t)||Object(r.C)(t)?Object(r.d)(t):"dasher-dropoff-updated"," "),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12",children:Object(j.b)(e)})}),i&&l&&(Object(r.Q)(t)||Object(r.sb)(t))&&Object(b.jsx)("div",{className:"mt-20px",children:L(e)}),(a||n)&&Object(j.d)(e),!l&&(Object(r.Q)(t)||Object(r.sb)(t))&&Object(b.jsx)(b.Fragment,{children:I(e)})]}),Object(r.K)(t)&&s&&Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:(!Object(r.K)(t)||c)&&(i&&!l&&(Object(r.Q)(t)||Object(r.sb)(t))?L(e):Object(b.jsxs)(b.Fragment,{children:[I(e),d&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&(Object(r.ob)(t)||Object(r.C)(t))&&Object(g.e)(e)]}))}),!Object(r.nb)(t)&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&E(e)]})},L=e=>{const{orderDetails:t}=e;return null!==t&&void 0!==t&&t.showOrderTrackingIFrame?Object(j.c)(e):Object(j.e)(e)}},1212:function(e,t,o){"use strict";(function(e){var l=o(3),d=o(6),i=o(41),r=o(46),n=o(144),a=o(190),s=o(1203),c=o(15),u=o(0),v=o(4),O=o(5),m=o(417),b=o(394),p=o(28),h=o(1213),j=o(1148),g=o(426),S=o(73),D=o(20),C=o.n(D),T=o(2);const f=e=>{let{isNameExist:t,isInvalidName:o,SPECIAL_CHAR_ERROR:l,NAME_EXIST_ERROR:i}=e;return(t||o)&&Object(T.jsxs)("div",{className:"error-text-container",children:[Object(T.jsx)(r.a,{srcFile:c.a.Error}),Object(T.jsx)("span",{className:"error-text",children:Object(d.translateWithI18Next)(o?l:i)})]})},y=e=>{const{data:t,status:o,handleSelect:l,countryNameInDefaultLang:i}=e;return(null===o||void 0===o?void 0:o.toUpperCase())===a.b.OK?null===t||void 0===t?void 0:t.map((e=>{const{place_id:t,structured_formatting:{main_text:o,secondary_text:d}}=e;return Object(T.jsx)(T.Fragment,{children:e&&Object(T.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:l(e),children:[Object(T.jsx)(r.a,{srcFile:c.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(T.jsxs)("span",{className:"address-text",children:[o," ",d]})]},t)})})):(e=>(null===e||void 0===e?void 0:e.toUpperCase())===a.b.ZERO_RESULTS?Object(T.jsx)("div",{className:"noAddressText",children:Object(d.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.NO_ADDRESS_FOUND)}):null)(o)},I=(e,t)=>{const{floor:o,addressLines:l,isFlatNumberSelected:d}=e;return t&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>t.includes(e))))&&d?Object(b.y)(t):o||l[0]},N=(e,t,o)=>{const{addressLines:l}=e;return null!==u.mf&&void 0!==u.mf&&u.mf.some((e=>null===o||void 0===o?void 0:o.includes(e)))?o:t||(null===l||void 0===l?void 0:l[1])},E=(e,t,o)=>{((e,t,o)=>{(null===o||void 0===o?void 0:o.isAddressSelected)&&!t||e.preventDefault()})(e,t,o)};t.a=t=>{var o,D,A;const x=Object(p.c)((e=>e.tenantReducer)),R=null===x||void 0===x?void 0:x.addressValidRemove,_=null===x||void 0===x||null===(o=x.componentOptions)||void 0===o||null===(D=o.web)||void 0===D||null===(A=D.address)||void 0===A?void 0:A.addressNickNameCharacterLimit,{setValue:P,value:w,isOpen:L,handleClose:k,modalType:M,error:F,addresses:B,handleChange:U,handleInput:H,showSuggestions:W,ready:V,suggestionRef:G,suggestions:Y,handleSelect:K,checkFormValidation:J,handleSubmit:q,isNameExist:Z,isInvalidName:z,savedAddresses:X=[],isAddressFromOrderProcessing:Q=!1,countryNameInDefaultLang:$,setSaveAddress:ee,nonFormattedAddress:te,setNonFormattedAddress:oe,addressFormConditions:le,seteligibleStoreData:de,showStores:ie,setShowStores:re,showMapBasedField:ne,setShowMapBasedFiled:ae,clearSuggestions:se,showAddressMapView:ce,getUserLatLong:ue,dispatch:ve,allStores:Oe,setError:me,deliveryInstration:be=""}=t,{data:pe,status:he}=Y,{ADD_NEW_ADDRESS:je,EDIT_DELIVERY_ADDRESS:ge,NOT_SERVICEABLE:Se,SPECIAL_CHAR_ERROR:De,NAME_EXIST_ERROR:Ce,ADDRESS_ERROR_MSG:Te,INITIAL_STATE:fe}=a.b,{CANCEL:ye,SAVE:Ie,ADDRESS_NICK_NAME:Ne,HAND_IT_TO_ME:Ee,LEAVE_AT_MY_DOOR:Ae,PLEASE_FILL_OUT_THIS_FIELD:xe,DELIVERY_OPTIONS_TOOL_TIP:Re}=v.a,{ADDRESS:_e,APT_SUITE_FLOOR:Pe,POSTAL_CODE:we,CITY_TOWN:Le,MAKE_THIS_DEFAULT_ADD:ke,STATE:Me,DELIVERY_OPTION:Fe,DELIVERY_INSTRUCTION:Be}=a.d,{disableCityTownField:Ue,disablePostalCodeField:He,disableStateField:We}=le,Ve=[Ee,Ae],Ge=[Object(d.translateWithI18Next)(Ee),Object(d.translateWithI18Next)(Ae)],Ye={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:L,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:k,modalTitle:M?ge:je,autoFocus:!0};Object(l.useEffect)((()=>{te&&(null===u.mf||void 0===u.mf?void 0:u.mf.some((e=>te.includes(e))))&&te&&ee({...B,addressLines:[Object(b.y)(te),te]})}),[te]),Object(l.useEffect)((()=>{ce&&ve(Object(S.u)())}),[]),Object(l.useEffect)((()=>{var e;ne&&null!==B&&void 0!==B&&null!==(e=B.results)&&void 0!==e&&e.length&&Object(j.e)("",null===B||void 0===B?void 0:B.results[0],P,ee,se,J,"","","",ne)}),[null===B||void 0===B?void 0:B.results,ne]);const Ke=()=>Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"address-form-section",children:Object(T.jsxs)("div",{className:"form-container",children:[F&&Object(T.jsx)("div",{className:"error-service-msg",children:Object(d.translateWithI18Next)(Se)}),Object(T.jsxs)("form",{autocomplete:"off",children:[!ne&&Object(T.jsxs)("div",{className:"input-container",children:[(w||(null===B||void 0===B?void 0:B.addressLines[1]))&&Object(T.jsx)("div",{className:"remove-container",onClick:()=>(ee({...B,addressLines:[null===B||void 0===B?void 0:B.addressLines[0],""],isAddressSelected:!1,isFlatNumberSelected:!1}),P(""),I(fe),void oe("")),"data-testid":"clear-text-icon",children:Object(T.jsx)("img",{alt:"",src:m.a})}),Object(T.jsx)("input",{"data-testid":"search-input-address",value:N(B,w,te),onChange:H,disabled:!V,name:"addressLine",onFocus:()=>P(w),required:!0,type:"text",title:Object(d.translateWithI18Next)(xe)}),Object(T.jsxs)("label",{children:[Object(d.translateWithI18Next)(_e),"*"]}),W&&Object(T.jsx)("ul",{ref:G,className:"address-list",children:y({data:pe,status:he,handleSelect:K,countryNameInDefaultLang:$})})]}),Object(T.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)("input",{required:!0,type:"text",name:"floor",value:I(B,te),onChange:U,"data-testid":"floor-test-id",maxLength:ce&&40,title:Object(d.translateWithI18Next)(xe)}),Object(T.jsx)("label",{children:Object(d.translateWithI18Next)(Pe)})]}),Object(T.jsxs)("div",{className:"input-container ml5",children:[Object(T.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:e=>E(e,He,B),onKeyPress:e=>E(e,He,B),value:null===B||void 0===B?void 0:B.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:U,title:Object(d.translateWithI18Next)(xe),maxLength:ce&&5}),Object(T.jsxs)("label",{children:[Object(d.translateWithI18Next)(we),"*"]})]})]}),Object(T.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>E(e,Ue,B),onKeyPress:e=>E(e,Ue,B),value:null===B||void 0===B?void 0:B.city,"data-testid":"city-id",onChange:U,title:Object(d.translateWithI18Next)(xe)}),Object(T.jsxs)("label",{children:[Object(d.translateWithI18Next)(Le),"*"]})]}),Object(T.jsxs)("div",{className:"input-container ml5",children:[Object(T.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>E(e,We,B),onKeyPress:e=>E(e,We,B),value:null===B||void 0===B?void 0:B.state,"data-testid":"state-id",onChange:U,title:Object(d.translateWithI18Next)(xe)}),Object(T.jsxs)("label",{children:[Object(d.translateWithI18Next)(Me),"*"]})]})]}),Object(T.jsxs)("div",{className:ce?"col-12 delivery-option-select":"d-flex adjust-width flex-dir",children:[!ce&&Object(T.jsxs)("div",{className:"input-container",children:[Object(T.jsx)(s.b,{options:Ge,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:U,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:(null===B||void 0===B?void 0:B.deliveryOptions)||Object(d.translateWithI18Next)(null===Ve||void 0===Ve?void 0:Ve[0]),title:Object(d.translateWithI18Next)(Re)}),Object(T.jsxs)("label",{children:[Object(d.translateWithI18Next)(Fe),"*"]})]}),Object(T.jsxs)("div",{className:"input-container ".concat(!ce&&"ml-5"),children:[Object(T.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:(null===B||void 0===B?void 0:B.deliveryInstructions)||be,"data-testid":"deliveryInstruction-id",onChange:U,maxlength:R?a.b.TH_DELIVERY_MAX_LENGTH:a.b.DELIVERY_MAX_LENGTH,title:Object(d.translateWithI18Next)(xe)}),Object(T.jsx)("label",{children:Object(d.translateWithI18Next)(Be)})]})]}),Object(T.jsxs)("div",{className:ce?"col-12 default-address-section default-address-sectionth default-selection":"default-address-section",children:[Object(T.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===B||void 0===B?void 0:B.isPrimary,checked:Object(O.jb)(null===B||void 0===B?void 0:B.isPrimary,X.length<1||M&&X.length<=1),onChange:U,disabled:X.length<1||M&&X.length<=1,title:Object(d.translateWithI18Next)(xe)}),Object(T.jsx)("div",{className:"default-label-text",children:Object(T.jsx)("label",{htmlFor:"default-address",children:Object(d.translateWithI18Next)(ke)})})]})]})]})}),Object(T.jsxs)("div",{className:"text-center input-container",children:[Object(T.jsx)(i.a,{onClick:k,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(d.translateWithI18Next)(ye)}),Object(T.jsx)(i.a,{disabled:!J()||F,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{q(Q)},children:Object(d.translateWithI18Next)(Ie)})]})]});return Object(T.jsx)("div",{className:"".concat(ce&&"map-modal-view"),children:Object(T.jsxs)(n.a,{...Ye,"data-testid":"address-modal-landing-page",children:[Object(T.jsx)(T.Fragment,{children:Z&&Object(T.jsx)("div",{className:"addr-error-container",children:Object(T.jsxs)("div",{className:"error-sub-container",children:[Object(T.jsx)(r.a,{srcFile:c.a.Error,className:"mr-1 location-alert-icon"}),Object(T.jsx)("div",{className:"error-msg",children:Object(d.translateWithI18Next)(Te)})]})})}),(()=>{return Object(T.jsx)("div",{className:"address-form-section",children:Object(T.jsx)("div",{className:"form-container",children:Object(T.jsx)("form",{autocomplete:"off",children:Object(T.jsxs)("div",{className:"input-container ".concat((Z||z)&&"error-input-container"),children:[Object(T.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===B||void 0===B?void 0:B.name,maxLength:_,onChange:U,title:Object(d.translateWithI18Next)(xe),className:(e=Z,t=z,e||t?"error-input":"")}),Object(T.jsx)("label",{children:Object(d.translateWithI18Next)(Ne)}),f({isNameExist:Z,isInvalidName:z,SPECIAL_CHAR_ERROR:De,NAME_EXIST_ERROR:Ce})]})})})});var e,t})(),ce&&(()=>{var t,o,l,d,i;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(h.a,{formContent:null===g.a||void 0===g.a||null===(t=g.a.contentData)||void 0===t||null===(o=t.searchStoreModalContent)||void 0===o?void 0:o.formContent,storeData:[],eligibleStoreData:[],currentMarket:null===(l=e)||void 0===l||null===(d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2504-0-9_53cdc423"}))||void 0===d||null===(i=d.REACT_APP_TENANT_CODE)||void 0===i?void 0:i.toUpperCase(),dispositionType:null===u.Jb||void 0===u.Jb?void 0:u.Jb.DELIVERY,seteligibleStoreData:de,storeSelection:{signInLink:!0,useMyLocation:!0,placesSearchInput:!0},eligibleFavoriteStoreData:[],findAKFC:!1,finAKFCContentData:{},isMobile:!1,setShowStores:re,showStores:ie,setShowMapBasedFiled:ae,addresses:B,setSaveAddress:ee,userPositionHandler:ue,allStores:Oe,setError:me}),C()(null===B||void 0===B?void 0:B.locationErrorObj)&&(null===B||void 0===B?void 0:B.isConfirmButtonClicked)&&ne&&Ke()]})})(),(Q||!ce)&&Ke()]})})}}).call(this,o(121))},1213:function(e,t,o){"use strict";var l=o(3),d=o(28),i=o(43),r=o(85),n=o(1193),a=o(269),s=o(5),c=o(329),u=o(0),v=o(6),O=o(394),m=o(133),b=o(62),p=o(4),h=o(24),j=o(1196),g=o(15),S=o(1117),D=o(1147),C=o(1197),T=o(20),f=o.n(T),y=o(2);const{MIN_SEARCH_CHARACTER_LIMIT:I,TYPE_DELIVERY:N}=i.a,{LOCATION_BLOCKED_ERROR:E,KFC_URL:A}=p.a,{KEY_CHAR_CODE:x}=u.ag||{},{ENTER:R}=x||{},{Error_Yellow:_}=g.a;t.a=e=>{var t,o;const{userPositionHandler:i,dispositionType:u,storeSelection:g,setShowMapBasedFiled:T,addresses:N,setSaveAddress:x,formContent:P,allStores:w,setError:L}=e,k=Object(l.useRef)(null),M=Object(b.g)(),{userOrderState:F,userOrderStateDispatch:B}=Object(l.useContext)(r.a),{showLocationConfirmModal:U}=F,[H,W]=Object(l.useState)(!1),[V,G]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(!1),[J,q]=Object(l.useState)(!1),[Z,z]=Object(l.useState)([]),[X,Q]=Object(l.useState)(""),[$,ee]=Object(l.useState)(!1),[te,oe]=Object(l.useState)(!1),le=Object(d.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[de,ie]=Object(l.useState)({}),re=Object(d.c)((e=>e.appStateReducer.userStatus)),{loggedIn:ne}=Object(s.sd)(re),{componentOptions:ae}=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),se=null===ae||void 0===ae||null===(t=ae.web)||void 0===t?void 0:t.dispositionConfig,ce="DELIVERY_FORM",{shouldHandleKeyPress:ue,shouldPopulateFirstSuggestion:ve,filteredTypes:Oe,filterConditions:me,shouldShowLocationLink:be}={...null===m.d||void 0===m.d?void 0:m.d[ce],...null===se||void 0===se?void 0:se[ce]},pe=Object(s.Je)(U,be),[he,je]=Object(l.useState)(!1),{RETRY_BTN_TEXT:ge,ADDRESS_NOT_FOUND_ERROR:Se,VIEW_MAP_BTN_TEXT:De,SEARCH:Ce}=p.a,Te=Object(s.de)(window.innerWidth);Object(l.useEffect)((()=>{null!==N&&void 0!==N&&N.isLocationButtonClicked&&(null===w||void 0===w?void 0:w.length)>0?(x({...N,locationErrorObj:{}}),G(!0)):null===N||void 0===N||!N.isLocationButtonClicked||null!==w&&void 0!==w&&w.length||x({...N,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),firstBtnCTA:ye}})}),[w]),Object(l.useEffect)((()=>{var e,t,o;null!==N&&void 0!==N&&N.location&&(ie({lat:parseFloat(null===N||void 0===N||null===(e=N.location)||void 0===e?void 0:e.latitude),lng:parseFloat(null===N||void 0===N||null===(t=N.location)||void 0===t?void 0:t.longitude)}),G(!0),Q(null===N||void 0===N||null===(o=N.addressLines)||void 0===o?void 0:o[1]),x({...N,isConfirmButtonClicked:!0,locationErrorObj:{}}),T(!0),oe(!0))}),[null===N||void 0===N?void 0:N.id]);const fe=()=>{x({...N,locationErrorObj:{}}),G(!0),W(!1)},ye=()=>{var e;!Te&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.select()),G(!1),W(!1),x({...N,name:null===N||void 0===N?void 0:N.name,locationErrorObj:{}}),je(!1)};Object(l.useEffect)((()=>{!f()(de)&&x({...N,location:{latitude:null===de||void 0===de?void 0:de.lat,longitude:null===de||void 0===de?void 0:de.lng}})}),[de]),Object(l.useEffect)((()=>{Object(O.f)(B,U)}),[B]);const Ie=Object(l.useCallback)((e=>{Object(O.I)(ue,(null===e||void 0===e?void 0:e.keyCode)===R,k,B),Object(O.K)(ve,(null===e||void 0===e?void 0:e.keyCode)===R,Z,Q,X)}),[ue,null===Z||void 0===Z?void 0:Z.length]),Ne=Object(l.useCallback)((async e=>{if(x({...N}),null===e||void 0===e||e.preventDefault(),G(!0),W(!1),T(!0),oe(!0),null!==N&&void 0!==N&&N.isLocationButtonClicked)x({...N,isConfirmButtonClicked:!0});else{const e=await Object(c.geocodeByAddress)(X);x({...N,results:e,isConfirmButtonClicked:!0})}}),[ue,Z,i,J,Y]),Ee=Object(l.useCallback)((async(e,t)=>{const o=Object(O.o)(t,ue,Z,e,u);K(o),q(e),W(!0),T(!1),Q(e),(async(e,t)=>{const o=await Object(c.geocodeByAddress)(e);(null===N||void 0===N?void 0:N.isLocationButtonClicked)&&x({...N,results:o});const l=await Object(c.getLatLng)(o[0]);(null===N||void 0===N||!N.isLocationButtonClicked)&&i({userLat:l.lat,userLong:l.lng}),ie(l)})(o),G(!0),je(!1)}),[ue,Z,Y,J]),Ae=document.getElementsByClassName("suggestion-list")[0];Object(l.useEffect)((()=>{Ae||!he||null!==N&&void 0!==N&&N.isLocationButtonClicked?x({...N,locationErrorObj:{},isConfirmButtonClicked:!(null===N||void 0===N||!N.id)}):x({...N,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),secondBtnText:Object(v.translateWithI18Next)(De),firstBtnCTA:ye,secondBtnCTA:fe}})}),[Ae,he]);const xe=()=>{var e;L(!1),Q(""),W(!1),G(!1),!Te&&(null===k||void 0===k||null===(e=k.current)||void 0===e||e.focus()),T(!1),x({addressId:"",city:"",pinCode:"",name:null===N||void 0===N?void 0:N.name,state:"",country:"",isPrimary:null===N||void 0===N?void 0:N.isPrimary,location:{latitude:"",longitude:""},addressLines:["",""],isSelectedAddress:!1,isFlatNumberSelected:!1,deliveryInstructions:"",isLocationButtonClicked:!1,results:[],id:null===N||void 0===N?void 0:N.id}),oe(!1),ie({}),K(""),q(""),je(!1)},Re=Object(l.useCallback)(((e,t)=>{var o;e.length>2&&je(!0),W(!1),oe(!1),T(!1),null!==e&&void 0!==e&&e.trim()&&(q(e),K(e)),e.trim()?Q(e):xe(),t&&V&&Te&&(null===k||void 0===k||null===(o=k.current)||void 0===o||o.blur())}),[xe]),{handleSelectAddress:_e}=Object(a.a)({handleSelectAddressGlobal:Ee}),Pe=Object(l.useCallback)((async()=>{const e=await Object(a.b)(B,le),t=e&&await Object(c.geocodeByAddress)(h.b.address);if(e){G(!1),W(!0),x({...N,isLocationButtonClicked:!0,results:[null===t||void 0===t?void 0:t[0]],isConfirmButtonClicked:!1,locationErrorObj:{}}),Q(h.b.address),z([{description:h.b.address}]);const{longitude:e,latitude:o}=h.b.coordinates;i({userLat:o,userLong:e}),ie({lat:o,lng:e}),L(!1),oe(!1)}Object(O.s)(B,!e)}),[B,i,u]);Object(l.useEffect)((()=>{const e=Object(s.d)(X,I);ee(e)}),[X]);return Object(y.jsx)("div",{className:"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(y.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(y.jsxs)("div",{id:"search-store-global-content",className:Object(O.u)(U),children:[Object(y.jsx)(S.a,{show:pe,errorMsg:Object(O.G)(E,A),errImage:_,cssClass:"location-blocked"}),Object(y.jsxs)("div",{className:"selectkfc-search-store-container",children:[Object(y.jsx)(C.a,{loggedIn:ne,formContent:P,storeSelection:g,useCurrentLocation:Pe,hideLocationLink:!1,showLocationConfirmModal:U}),Object(y.jsx)(n.a,{...e,dataTestId:"ConfirmSearchAddress",storeSelection:g,history:M,inputOnChange:Re,address:X,showAutoSuggestion:$,setSuggestedAddress:z,handleSelectAddress:_e,alreadySearched:a.c,onClearTextHandler:xe,keyPress:Ie,inputRef:k,placeholder:Object(v.translateWithI18Next)(Ce),filteredTypes:Oe,filterConditions:me,showConfirmBtn:!0,onClickHandler:Ne,confirm:H}),(null===N||void 0===N?void 0:N.locationErrorObj)&&Object(y.jsx)(D.a,{show:null===N||void 0===N||null===(o=N.locationErrorObj)||void 0===o?void 0:o.showError,dataTestId:"locationSearchError",errorObj:null===N||void 0===N?void 0:N.locationErrorObj})]})]}),V?Object(y.jsx)(j.a,{dataTestId:"SearchErrors",eligibleStores:[],defaultStoreId:"",loggedIn:ne,selectedCoords:de,passAddress:(e,t)=>{const o=Object(s.de)(window.innerWidth);var l;(Re(e,!0),z([{description:e}]),ie(t),i({userLat:t.lat,userLong:t.lng}),o)||(null===k||void 0===k||null===(l=k.current)||void 0===l||l.focus());V&&(e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)})(k)},configSearchKey:ce,useCurrentLocation:Pe,showLocationConfirmModal:!1,findAKFC:!1,disableUseLocationIcon:!0,disableMapSelection:te,markerDragValue:!0}):null]})})}},968:function(e,t,o){"use strict";o.r(t),o.d(t,"addressTitle",(function(){return ue})),o.d(t,"DeliveryAddressSearchFormModule",(function(){return ve}));var l=o(3),d=o.n(l),i=o(28),r=o(267),n=o(0),a=o(85),s=o(16),c=o(6),u=o(331),v=o(1185),O=o(73),m=o(66),b=o(5),p=o(415),h=o(399);const j=e=>{let{localizationData:t={},address:o={}}=e;const{chome:l="",cityTown:d="",postalCode:i="",prefecture:r=""}=o;return{chome:null===l||void 0===l?void 0:l.replace(/\s+/g,""),cityTown:d,localizationData:t,postalCode:null===i||void 0===i?void 0:i.replace("-",""),prefecture:null===r||void 0===r?void 0:r.replace(/\s+/g,"")}},g=e=>{let{chome:t="",cityTown:o="",localizationData:l={},prefecture:d=""}=e;const{[d]:{[o]:i}={}}=l;return(Object(b.mf)(i)||{})[t]},S=e=>{let{chome:t="",localizationData:o={},postalCode:l=""}=e;const{[l]:d={}}=o;return Object(b.mf)(d)[t]};var D=o(17),C=o(269),T=o(328),f=o(20),y=o.n(f),I=o(63),N=o(4),E=o(2);const A=e=>{const{loggedIn:t=!1,formContent:o={},storeSelection:l}=e,{signInLink:d}=l,{memberText:i="",singInLink:r={}}=o;return Object(E.jsx)("div",{className:"login-section",children:d&&Object(E.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(h.g)(i,h.h,r)})})},x=d.a.memo(A);var R=o(1147);const _=e=>{const{defaultSelectedTabIndex:t,onTabSelection:o,tabsList:d}=e,[i,r]=Object(l.useState)(t);return Object(E.jsx)("div",{className:"toggle-tabs",children:d.map(((e,t)=>Object(E.jsx)("div",{className:"toggle-tabs-container",children:Object(E.jsx)("button",{className:"toggle-tabs-button ".concat(t===i?"selected":""),"aria-pressed":t===i,onClick:()=>(e=>{e!==i&&(r(e),o(e))})(t),children:Object(E.jsx)("span",{className:"toggle-tabs-button-text",children:Object(c.translateWithI18Next)(e.title)})})},e.id)))})};_.defaultProps={defaultSelectedTabIndex:0,onTabSelection:()=>null,tabsList:[]};var P=_,w=o(15);const{SearchIconGrey:L,SingleArrow:k,WhiteCloseButton:M}=w.a,F=e=>{const{cssClass:t,dropdownId:o,dropdownList:d,dropdownTitleText:i,enableSearch:n,onDropdownSelection:a,selectedText:s}=e,[u,v]=Object(l.useState)(d),[O,m]=Object(l.useState)(!1),[b,p]=Object(l.useState)(!1),[h,j]=Object(l.useState)(""),g=Object(l.useRef)(),S=Object(l.useCallback)((e=>{e&&e.focus()}),[]);Object(l.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const D=e=>{var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const o=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"";j(o),(e=>{const t=e.toLowerCase();let o=d;t&&(o=null===d||void 0===d?void 0:d.filter((e=>-1!==e.toLowerCase().indexOf(t)))),v(o)})(o)},C=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),j(""),v(d)},T=e=>{p(e)},f=()=>{m(!O),C()};return Object(E.jsxs)("div",{className:"searchable-dropdown ".concat(t),ref:g,children:[i&&Object(E.jsx)("div",{className:"searchable-dropdown-title","aria-level":"1",role:"heading",children:s!==i||O?i:""}),Object(E.jsxs)("div",{id:o,className:"searchable-dropdown-value","data-testid":"searchable-dropdown-value-id",role:"listbox",tabIndex:"0",onClick:f,children:[Object(E.jsx)("div",{className:"selected-value",children:s===i&&O?"":s}),Object(E.jsx)("img",{src:k,alt:" ",className:"down-arrow-img ".concat(O?"dropdown-open":"")})]}),O&&Object(E.jsxs)("div",{className:"searchable-dropdown-options-container",children:[n&&Object(E.jsx)("div",{className:"searchable-dropdown-form-container",children:Object(E.jsxs)("form",{className:"searchable-dropdown-form",children:[Object(E.jsx)("img",{src:L,alt:" ",className:"search-icon"}),Object(E.jsx)("input",{className:"searchable-dropdown-input","data-testid":"searchable-dropdown-search-input",type:"text",ref:S,placeholder:Object(c.translateWithI18Next)(r.b.SEARCH),value:h,onChange:e=>D(e),onKeyDown:e=>(e=>{var t;"Enter"===e.key||13===e.keyCode?(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||null===(t=e.target)||void 0===t||t.blur()):"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||(null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),f())})(e),onFocus:()=>T(!0),onBlur:()=>T(!1)}),(b||h)&&Object(E.jsx)("button",{className:"clear-text","data-testid":"searchable-dropdown-clear-text",onClick:e=>C(e),children:Object(E.jsx)("img",{src:M,alt:" ",className:"search-icon"})})]})}),Object(E.jsx)("ul",{children:null===u||void 0===u?void 0:u.map((e=>Object(E.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),m(!O),a(t),C()})(t,e),className:"searchable-dropdown-option","data-testid":"searchable-dropdown-option-id",children:e},e)))})]})]})};F.defaultProps={cssClass:"",dropdownId:"",dropdownList:[],dropdownTitleText:"",enableSearch:!1,onDropdownSelection:()=>null,selectedText:""};var B=F,U=o(1172);const H=e=>{const{defaultPostalValue:t,verifyPostalCode:o}=e,[d,i]=Object(l.useState)(t),n=Object(l.useRef)(null);Object(l.useEffect)((()=>{t&&i(t)}),[t]),Object(l.useEffect)((()=>{var e;null===n||void 0===n||null===(e=n.current)||void 0===e||e.focus()}),[]);return Object(E.jsx)("div",{className:"delivery-address-section search-store-postal-content",children:Object(E.jsx)(U.a,{maxLength:8,onClearTextHandler:()=>{o(!1,""),i("")},placeholder:Object(c.translateWithI18Next)(r.b.SEARCH),address:d,inputOnChange:e=>{let t=e.replace(/[^\d ]+/g,"");t=t.length>3?t.replace(/(.{3})/,"$1-"):t;const l=t.length>=8;i(t),o(l,t)},inputRef:n})})};H.defaultProps={defaultPostalValue:"",verifyPostalCode:()=>null};var W=H,V=o(122),G=o(46),Y=o(41),K=o(1186),J=o(80),q=o(132);const{DISPOSITION_METHOD:Z}=s.a,{CONFIRM_LOCATION:z,DELIVERY_SEARCH_TYPE:X,NO_STORE_WITH_DELIVERY:Q,OTHER_DELIVERY_SERVICES:$,SEARCH_DELIVERY_LOCATION:ee,SPECIAL_NOTES:te,STORES_VARY_MESSAGE:oe,SWITCH_TO_TAKE_AWAY:le,POSTAL_CODES:de,PREFECTURES:ie}=r.b;var re=e=>{var t;const{changeFlow:o,deliveryLocalizationData:d,formContent:s,getStoreData:u,deliverySearchType:v,onDeliveryTypeChanged:f,isDeliveryLocalizationLoading:A,storesStatusError:_,saveAddressData:w,selectedAddress:L,setSelectedAddress:k,prefectureAddressScreen:M,addressName:F,isPrimaryAddress:U,closeModal:H,modalType:te,address:re,isAccount:ne,addressNameExist:ae=!1,updateSetOrderDetails:se,isAddressFromOrderProcessing:ce}=e,ue=M?n.a:"",ve=Object(i.c)((e=>e.appStateReducer.userStatus)),{postalCodePrefix:Oe,tenantId:me="",scheduleOrderDateFormat:be,fieldAddressMaxLengthFlag:pe}=Object(i.c)((e=>e.tenantReducer||{})),{headerData:{footer:he={}}={}}=Object(i.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),je=Object(b.Yb)(he),{loggedIn:ge}=Object(b.sd)(ve),{userOrderState:Se,userOrderStateDispatch:De}=Object(l.useContext)(a.a),Ce=Object(i.b)(),[Te,fe]=Object(l.useState)(!1),[ye,Ie]=Object(l.useState)(0),[Ne,Ee]=Object(l.useState)(!1),[Ae,xe]=Object(l.useState)(!1),[Re,_e]=Object(l.useState)(0),[Pe,we]=Object(l.useState)(L),Le=Object(h.c)(),ke=null===v||void 0===v?void 0:v.id,Me=null!==re&&void 0!==re&&re.pinCode?null===r.b||void 0===r.b?void 0:r.b.POSTAL_CODE:null===r.b||void 0===r.b?void 0:r.b.ADDRESS,Fe=re?Me:null===r.b||void 0===r.b?void 0:r.b.POSTAL_CODE,Be=Math.max(0,Le.findIndex((e=>e.id===Fe))),[Ue,He]=Object(l.useState)(!1),We=Object(h.d)(),[Ve,Ge]=Object(l.useState)(!0),[Ye,Ke]=Object(l.useState)({}),[Je,qe]=Object(l.useState)(!1),Ze=Object(i.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t?void 0:t.isLoading)||!1})),ze=Object(i.c)((e=>{var t,o;return(null===e||void 0===e||null===(t=e.deliveryAggregatorReducer)||void 0===t||null===(o=t.response)||void 0===o?void 0:o.deliveryAggregators)||{}})),{savedAddresses:Xe}=Object(i.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Qe=!(null===Xe||void 0===Xe||!Xe.length||!ge),$e=Object(i.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.pwaStoragsReducer)||void 0===t||null===(o=t.pwaStorageState)||void 0===o?void 0:o.selectedFavouriteStoreAddress})),et={text:Q,cta:{label:le}},tt={header:$,notice:oe},ot=Object(q.a)();Object(l.useEffect)((()=>{var e;(Re===(null===v||void 0===v||null===(e=v.fieldOrder)||void 0===e?void 0:e.length)||te)&&xe(!0)}),[v,Ae,Re,te]),Object(l.useEffect)((()=>{y()(ze)&&!Ze&&Ce(Object(T.d)())}),[ze,Ce,Ze]),Object(l.useEffect)((()=>{var e;const t=o?JSON.parse(localStorage.getItem(n.gd.SELECTED_ADDRESS)):{},l=(null===Se||void 0===Se||null===(e=Se.scheduleOrderData)||void 0===e?void 0:e.selectedAddress)||t;var d,i;l&&Object.keys(l).length>0&&(k(l),_e(null===v||void 0===v||null===(d=v.fieldOrder)||void 0===d?void 0:d.length),Ie(null===v||void 0===v||null===(i=v.fieldOrder)||void 0===i?void 0:i.length))}),[Pe]),Object(l.useEffect)((()=>{ke===D.d.address&&He(!(!(Ve&&L.prefecture&&L.cityTown&&L.chome&&L.streetDetailAddress)||ae)),ke===D.d.postalCode&&He(!(!(Ve&&L.postalCode&&L.chome&&L.streetDetailAddress)||ae))}),[ke,Ve,L.postalCode,L.prefecture,L.cityTown,L.chome,L.streetDetailAddress,He,ae]);Object(l.useEffect)((()=>{const e=ke===D.d.postalCode?de:ie,t=d[e];if(!A&&!y()(t)&&Object.keys(t).length>0){var o;const e=ke===D.d.postalCode?D.d.postalCode:D.d.prefecture,d=null===Se||void 0===Se||null===(o=Se.scheduleOrderData)||void 0===o?void 0:o.storeId,r={[e]:t};let n={};if(null!==L&&void 0!==L&&L[e]&&(d||te)){n={...r};const e=(null===v||void 0===v?void 0:v.fieldOrder)||[];for(let t=1;t<e.length+1;t++){var l,i;const o=(null===(l=e[t])||void 0===l?void 0:l.id)||D.d.selectedStore,d=null===(i=e[t-1])||void 0===i?void 0:i.id,r=L[d].replace("-","");d&&r&&n[d]&&(n[o]=n[d][r])}}Ke({...n,...Ye,...r})}te&&(ot(Object(J.d)({key:null===n.gd||void 0===n.gd?void 0:n.gd.SELECTED_ADDRESS,value:L})),we(L))}),[d,te]);const lt=e=>{let{localizationData:t={},selectedAddress:o={}}=e;const{postalCode:l}=o,d=Boolean(l),i=d?S:g;return Object(p.a)(i,j)({address:o,localizationData:t[d?de:ie]})},dt=Object(l.useCallback)((async()=>{ot(Object(J.d)({key:null===n.gd||void 0===n.gd?void 0:n.gd.SELECTED_ADDRESS,value:L}));const e=Ye[D.d.selectedStore]||lt({localizationData:d,selectedAddress:L});if(M&&ne||ce){ce&&se({savedAddressSucess:!0});const t=((e,t)=>{const{CITY_CODE:o,CHOME_CODE:l}=r.b,d=F||Object(h.b)(Xe);return{postalCode:null===e||void 0===e?void 0:e.postalCode,addressName:d,isPrimary:U,addressLines:[null===e||void 0===e?void 0:e.prefecture,null===e||void 0===e?void 0:e.cityTown,null===e||void 0===e?void 0:e.chome,null===e||void 0===e?void 0:e.streetDetailAddress,null===e||void 0===e?void 0:e.apartmentName,null===e||void 0===e?void 0:e.roomNumber,null===e||void 0===e?void 0:e.companyName,null===e||void 0===e?void 0:e.specialNote],customProperties:[{key:o,value:null===t||void 0===t?void 0:t[2].toString()},{key:l,value:null===t||void 0===t?void 0:t[1].toString()}]}})(L,e),{customerId:o,phoneNumber:l}=I.a.getInstance(),d=te?{addressId:null===re||void 0===re?void 0:re.id,...t}:t;Ce(Object(m.a)({customerId:o,phoneNumber:l,tenantId:me,data:d}));const i=te?Object(c.translateWithI18Next)(N.a.ADDRESS_UPDATED):Object(c.translateWithI18Next)(N.a.SAVED_DELIVERY_ADDRESS);Object(b.Cf)(i,"","favorites-added-toast"),se&&se({isOpenSaveDeliveryAddressModal:!1}),!se&&H()}else{let t="";ke===D.d.postalCode&&(t+="".concat(Oe).concat(null===L||void 0===L?void 0:L.postalCode)),t+="".concat(null===L||void 0===L?void 0:L.prefecture).concat(null===L||void 0===L?void 0:L.cityTown),t+="".concat(null===L||void 0===L?void 0:L.chome).concat(null===L||void 0===L?void 0:L.streetDetailAddress);const o="".concat(null===L||void 0===L?void 0:L.apartmentName," ").concat(null===L||void 0===L?void 0:L.roomNumber," ").concat(null===L||void 0===L?void 0:L.companyName);Object(C.e)(t);const l=Ye[D.d.selectedStore]||e;l?(w(t,o,l),u(l)):Ge(!1)}}),[Ye,L,U,F]);Object(l.useEffect)((()=>{Te&&dt()}),[dt,Te]),Object(l.useEffect)((()=>{Ge(!_)}),[_]),Object(l.useEffect)((()=>{if(te){var e,t,o,l,d,i,r,n;const a=(null===re||void 0===re?void 0:re.pinCode)||"",s=(null===re||void 0===re||null===(e=re.addressLines)||void 0===e?void 0:e[0])||"",c=(null===re||void 0===re||null===(t=re.addressLines)||void 0===t?void 0:t[1])||"",u=(null===re||void 0===re||null===(o=re.addressLines)||void 0===o?void 0:o[2])||"",v=(null===re||void 0===re||null===(l=re.addressLines)||void 0===l?void 0:l[3])||"",O=(null===re||void 0===re||null===(d=re.addressLines)||void 0===d?void 0:d[4])||"",m=(null===re||void 0===re||null===(i=re.addressLines)||void 0===i?void 0:i[5])||"",b=(null===re||void 0===re||null===(r=re.addressLines)||void 0===r?void 0:r[6])||"",p=(null===re||void 0===re||null===(n=re.addressLines)||void 0===n?void 0:n[7])||"";k({...L,apartmentName:O,chome:u,cityTown:c,companyName:b,postalCode:a,prefecture:s,roomNumber:m,streetDetailAddress:v,specialNote:p})}}),[te]);const it=(e,t,o,l)=>{const i=(e=>e<=1&&ke===D.d.address?Boolean(L[D.d.postalCode]):e<=1&&ke===D.d.postalCode&&Boolean(L[D.d.prefecture]))(o)?{...h.f}:{...L};if(i[t]=e,i[X]=ke,qe(!1),_e(o),Ie(o),o<v.fieldOrder.length)for(let d=o;d<v.fieldOrder.length;d++){i[v.fieldOrder[d].id]=""}if(Ge(!0),e){var r,n;const l=(null===(r=v.fieldOrder[o])||void 0===r?void 0:r.id)||D.d.selectedStore,a=e.replace("-",""),s=ke===D.d.postalCode?de:ie,c=d[s],u=Object.keys(Ye).length?null===Ye||void 0===Ye||null===(n=Ye[t])||void 0===n?void 0:n[a]:null===c||void 0===c?void 0:c[a];Ke({...Ye,[l]:u}),o===v.fieldOrder.length&&ke===D.d.postalCode&&u.length>4&&(i[D.d.prefecture]=u[3]||L.prefecture,i[D.d.cityTown]=u[4]||L.cityTown),u||Ge(!1)}!l&&k({...L,...i})},rt=()=>Object(E.jsx)("div",{className:"text-field-container",children:We.map((function(e){return Object(E.jsx)(V.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:e.id,placeholder:Object(c.translateWithI18Next)(e.title)||e.title,value:L[e.id],onChange:t=>((e,t)=>{const o=e.target.value,l={...L};l[t]=o,k({...L,...l})})(t,e.id),maxLength:pe?e.maxLegth:255},e.id)}))}),nt=(e,t)=>{const o=e;Ee(o),o?it(t,D.d.postalCode,1):it("",D.d.chome,0)},at=Object(l.useCallback)((e=>{null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);return Object(E.jsxs)("div",{className:"delivery-address-form delivery-module-form","data-testid":"delivery-container",children:[Object(E.jsxs)("div",{className:"delivery-address-form-header",children:[Object(E.jsx)(x,{loggedIn:ge,formContent:s,storeSelection:{signInLink:!0,useMyLocation:!1}}),Object(E.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(ee)||ee}),Object(E.jsx)(P,{onTabSelection:e=>{const t=Le[e],o=t.id===L.deliverySearchType;f(t),_e(0),Ee(Boolean(L[D.d.postalCode])),xe(!1),Ge(!0),qe(!o),o&&L[t.fieldOrder[0].id]&&_e(ye)},tabsList:Le,defaultSelectedTabIndex:Be})]}),ke===D.d.address?(()=>{const e=Re+(Ae?2:0);return Object(E.jsxs)("div",{className:"address-search-form",children:[v.fieldOrder.map((function(t,o){if(o<=e){var l;const e=null===(l=v.fieldOrder[o])||void 0===l?void 0:l.id,d=Ye[e];if(!d)return null;const i=Object.keys(d),r=!Je&&(null===L||void 0===L?void 0:L[t.id]);return Object(E.jsx)(B,{dropdownList:i,dropdownTitleText:Object(c.translateWithI18Next)(t.title)||t.title,enableSearch:!0,onDropdownSelection:e=>it(e,t.id,o+1),selectedText:r?null===L||void 0===L?void 0:L[t.id]:Object(c.translateWithI18Next)(t.title)},t.id)}return null})),Ae&&rt()]})})():(()=>{const e=Object.keys(Ye[D.d.chome]||[]).sort(),t=e.length>0;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(W,{defaultPostalValue:null===L||void 0===L?void 0:L[D.d.postalCode],verifyPostalCode:nt}),t&&(Ne||Ae)&&Object(E.jsx)("div",{className:"address-search-form",children:Object(E.jsx)(B,{dropdownList:e,dropdownTitleText:Object(c.translateWithI18Next)(v.fieldOrder[1].title)||v.fieldOrder[1].title,enableSearch:!0,onDropdownSelection:e=>it(e,v.fieldOrder[1].id,2),selectedText:(null===L||void 0===L?void 0:L[v.fieldOrder[1].id])||Object(c.translateWithI18Next)(v.fieldOrder[1].title)},v.fieldOrder[1].id)}),t&&Ae&&rt()]})})(),Object(E.jsx)(Y.c,{className:"delivery-address-form-confirm-cta ".concat(Ue?"":"disabled"),disabled:!Ue,onClick:dt,variant:"secondary","data-testid":"delivery-address-form-confirm-cta",children:Object(E.jsx)("span",{children:Object(c.translateWithI18Next)(z)||z})}),Ve?"":Object(E.jsxs)("div",{className:"undeliverable-address",ref:at,children:[Object(E.jsx)(R.a,{show:!0,comingFrom:ue,errorObj:{showError:!0,errMsg:Object(c.translateWithI18Next)(et.text),errDesc:null,firstBtnText:Object(c.translateWithI18Next)(et.cta.label),firstBtnCTA:()=>{De({type:Z,value:{dispositionType:n.Jb.PICKUP}}),Ce(Object(O.u)())}}}),!y()(ze)&&Object(E.jsxs)("div",{className:"third-party-delivery-services",children:[Object(E.jsx)("p",{className:"delivery-address-form-search-text",children:Object(c.translateWithI18Next)(tt.header)}),Object(E.jsx)("div",{className:"third-party-delivery-services__list",children:null===ze||void 0===ze||null===(t=ze.items)||void 0===t?void 0:t.map((e=>{var t,o,l,d,i;const r=null===e||void 0===e?void 0:e.fields;return Object(E.jsxs)("a",{href:null===r||void 0===r?void 0:r.link,target:"_blank",rel:"noreferrer",className:"third-party-delivery-services__service",children:[Object(E.jsx)("span",{className:"third-party-delivery-services__image-container",children:Object(E.jsx)(G.a,{srcFile:"".concat(D.d.https).concat(null===r||void 0===r||null===(t=r.logo)||void 0===t||null===(o=t.fields)||void 0===o||null===(l=o.file)||void 0===l?void 0:l.url),alt:null===r||void 0===r||null===(d=r.logo)||void 0===d||null===(i=d.fields)||void 0===i?void 0:i.title,className:"third-party-delivery-services__images"})}),Object(E.jsx)("span",{className:"third-party-delivery-services__label",children:null===r||void 0===r?void 0:r.name}),Object(E.jsx)(G.a,{srcFile:je,alt:"",className:"third-party-delivery-services__image"})]},null===r||void 0===r?void 0:r.name)}))}),Object(E.jsx)("p",{className:"third-party-delivery-services__notice",children:Object(c.translateWithI18Next)(tt.notice)})]})]}),Qe&&!M&&Object(E.jsxs)("div",{className:"delivery-saved-addresses",children:[Object(E.jsx)("div",{className:"placesautocomplete-border"}),Object(E.jsx)(K.a,{show:Qe,savedAddresses:Xe,handleSelectAddress:e=>{const t=e||$e;if(t){var o,l,d,i,r,n,a,s;const e=(null===t||void 0===t?void 0:t.name)||"",c=(null===t||void 0===t?void 0:t.pinCode)||"",u=(null===t||void 0===t||null===(o=t.addressLines)||void 0===o?void 0:o[0])||"",v=(null===t||void 0===t||null===(l=t.addressLines)||void 0===l?void 0:l[1])||"",O=(null===t||void 0===t||null===(d=t.addressLines)||void 0===d?void 0:d[2])||"",m=(null===t||void 0===t||null===(i=t.addressLines)||void 0===i?void 0:i[3])||"",b=(null===t||void 0===t||null===(r=t.addressLines)||void 0===r?void 0:r[4])||"",p=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n[5])||"",h=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a[6])||"",j=(null===t||void 0===t||null===(s=t.addressLines)||void 0===s?void 0:s[7])||"";k({...L,addressName:e,apartmentName:b,chome:O,cityTown:v,companyName:h,postalCode:c,prefecture:u,roomNumber:p,streetDetailAddress:m,specialNote:j});const g=lt({localizationData:Ye,selectedAddress:L});Ke({...Ye,[D.d.selectedStore]:g}),fe(!0)}},shouldMaintainAddressObject:!0,scheduleOrderDateFormat:be})]})]})},ne=o(144);const ae=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:l,headerText:i,modalTitleId:r="",className:n,backDataTestId:a}=e;return Object(E.jsx)(d.a.Fragment,{children:Object(E.jsx)(ne.a,{"data-testid":"deliveryAddressSearchFormModal",id:"deliveryAddressSearchForm",role:"dialog",modalTitleId:r,show:!0,classNames:"".concat(n," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:i,autoFocus:!0,backDataTestId:a,children:l})})};var se=o(190),ce=o(52);const ue=(e,t)=>e?Object(c.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.ADD_NEW_ADDRESS):Object(c.translateWithI18Next)(t),ve=e=>{var t;const{contentData:o={},deliverySearchType:O,setDeliverySearchType:m,prefectureAddressScreen:p,closeModal:j=(()=>{}),address:g,modalType:S,updateSetOrderDetails:C,isAddressFromOrderProcessing:f}=e,{CHANGE_SCHEDULE_MODE:y,CURRENT_STORE_INFO:I,DISPOSITION_DATA:A,DISPOSITION_METHOD:x,FAV_STORE_NOT_IN_RADIUS:R,FROM_REORDER_MODAL_OPEN:_,REORDER_MODAL_OPEN:P,REORDER_STORE_CHANGED:L,SCHEDULE_ORDER_DATA:k,SEARCH_ORDER_DATA:M,SET_FIND_A_KFC_VIEW:F,SET_ORDER_NOW:B,SET_REDIRECTION_PATH:U,SET_SCHEDULE_ORDER:H,SCHEDULE_ORDER_CLICKED:W,SHOW_SCHEDULE_DISPOSITION:G}=s.a,{NAME_EXIST_ERROR:Y}=se.b,{CONFIG_SEARCH_SCREEN:K,CURRENT_STORE_INFO_STORAGE:Z,DISPOSITION_TYPE:z,RENDER_COMP:X,SET_CART_CLEAR:Q,SELECTED_ADDRESS:$}=n.gd,{POSTAL_CODE_CONTENTFUL:ee,CHOMES_CONTENTFUL:te,DROPOFF_ADDRESS:oe}=r.b,{ENABLE_ADDRESS_LOCALISATION:le,SHOW_MAP_VIEW_BUTTON:de}=ce.a,ie=Object(i.b)(),{userOrderState:ne,userOrderStateDispatch:ve}=Object(l.useContext)(a.a),{dispositionStateData:Oe,searchStoreData:me,scheduleOrderData:be}=ne,{changeFlow:pe=!1}=be||{},{dispositionType:he=localStorage.getItem(z)}=Oe||"",{componentOptions:je,tenantId:ge,isUberServiceableEnabled:Se}=Object(i.c)((e=>e.tenantReducer||{})),{savedAddresses:De}=Object(i.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ce=null===je||void 0===je||null===(t=je.web)||void 0===t?void 0:t.dispositionConfig,{searchStoreModalContent:Te={}}=o,{formContent:fe={}}=Te,[ye,Ie]=Object(l.useState)(!1),{configSearchScreen:Ne=localStorage.getItem(K)}=me,Ee="".concat(null===he||void 0===he?void 0:he.toUpperCase(),"_").concat(Ne),Ae=Object(b.Sd)(null===ne||void 0===ne?void 0:ne.dispositionNew)?JSON.parse(localStorage.getItem(n.gd.DISPOSITION_NEW)):null===ne||void 0===ne?void 0:ne.dispositionNew,[xe,Re]=d.a.useState(null===g||void 0===g?void 0:g.name),[_e,Pe]=d.a.useState(!1),[we,Le]=Object(l.useState)(!1),{modalHeaderTitle:ke,shouldShowDisposition:Me,shouldShowSearchStore:Fe}={...null===v.b||void 0===v.b?void 0:v.b[Ee],...null===Ce||void 0===Ce?void 0:Ce[Ee]},Be=ke,{storesWithStatus:Ue=[],deliveryLocalization:He=null,isDeliveryLocalizationLoading:We=!0,isStoreStatusLoading:Ve=!1,storesSatusError:Ge=!1}=Object(i.c)((e=>e.storesReducer||{})),[Ye,Ke]=Object(l.useState)(h.f),Je=Object(q.a)(),qe=Object(l.useCallback)((e=>{var t;Se&&Object(h.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)?(ve({type:k,value:{showScheduleOrderCatering:!1,store:e}}),ve({type:M,value:{showSearchStore:!0,configSearchScreen:v.a}}),ve({type:F,value:{findAKFC:!1}}),ve({type:G,value:{showSheduleDisposition:!1}}),ve({type:I,value:e}),ve({type:y,value:{changeScheduleModeFlag:!1}}),ve({type:W,value:{scheduleModeClicked:!1}}),ve({type:B,value:{showOrderNow:!1}}),ve({type:H,value:{showScheduleOrder:!1}}),ve({type:R,value:{showNotInRadiusError:!1}}),ve({type:le,value:!1}),ve({type:de,value:!0})):(ve({type:k,value:{showScheduleOrderCatering:!0,store:e}}),ve({type:M,value:{showSearchStore:!1}}),ve({type:G,value:{showSheduleDisposition:!0}}),ve({type:I,value:e}),ve({type:y,value:{changeScheduleModeFlag:!1}}),ve({type:W,value:{scheduleModeClicked:!0}}),ve({type:B,value:{showOrderNow:!1}}),ve({type:H,value:{showScheduleOrder:!0}}),ve({type:R,value:{showNotInRadiusError:!1}})),localStorage.setItem(Z,JSON.stringify(e))}),[y,I,Z,R,W,k,M,B,H,G,ve]);Object(l.useEffect)((()=>{Ue.length>0&&ye&&!Ve&&qe(Ue[0])}),[he,ye,Ve,qe,Ue]);const Ze=Object(l.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(Q),localStorage.setItem(X,!0),pe||ve({type:k,value:{selectedAddress:{}}}),C&&C({isOpenSaveDeliveryAddressModal:!1}),ve({type:A,value:{showDisposition:!1}}),ve({type:x,value:{dispositionType:null===Ae||void 0===Ae?void 0:Ae.type}}),ve({type:M,value:{showSearchStore:!1}}),ve({type:U,value:{redirectionOrder:""}}),ve({type:P,value:{reorderModalOpen:!1}}),ve({type:_,value:{fromReorderFlag:!1}}),ve({type:L,value:{storeChanged:!1}}),ve({type:F,value:{findAKFC:window.location.pathname===n.Ce.FIND_STORE}}),j()}),[pe,A,x,null===Ae||void 0===Ae?void 0:Ae.type,_,X,P,L,k,M,Q,F,U,ve]);Object(l.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ze(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[Ze]);const ze=Object(E.jsxs)("div",{className:"address-field-container",children:[p&&Object(E.jsx)("div",{className:"name-field",children:Object(E.jsx)(V.a,{className:"address-text-field",labelClassName:"text-field-title",containerClassName:"text-field-content",name:"name",placeholder:Object(c.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.ADDRESS_NICK_NAME),value:xe,onChange:e=>Re(e.target.value),onBlur:e=>{const t=De.some((t=>t.name===e.target.value));Le(!!t)},maxlength:10,errorIcon:w.a.Error,errorIconClassName:"flex-div",helperText:Object(c.translateWithI18Next)(Y),helperTextClassName:"error-text",error:we})}),Object(E.jsx)(re,{changeFlow:pe,formContent:fe,dispositionType:null===he||void 0===he?void 0:he.toUpperCase(),deliveryLocalizationData:He,getStoreData:e=>{Ie(!0);const[t]=e,o=Object(b.Mb)(he.toUpperCase()),l=[{id:t}];Object(h.a)(l,o,ie,ge)},saveAddressData:(e,t,o)=>{const[l,d,i]=o,r={...Ye,chomeId:d,cityId:String(i)};localStorage.setItem(oe,JSON.stringify(e)),localStorage.setItem($,JSON.stringify(r)),Je(Object(J.d)({key:null===n.se||void 0===n.se?void 0:n.se.SELECTED_ADDRESS,value:r})),ve({type:k,value:{deliveryAddress:e,deliveryAddressLine:t,selectedAddress:r,storeId:l}})},selectedAddress:Ye,setSelectedAddress:Ke,deliverySearchType:O,onDeliveryTypeChanged:e=>{m(e)},isDeliveryLocalizationLoading:We,storesStatusError:Ge,prefectureAddressScreen:p,addressName:xe,address:g,modalType:S,isPrimaryAddress:_e,closeModal:j,isAccount:!0,addressNameExist:we,updateSetOrderDetails:C,isAddressFromOrderProcessing:f}),p&&Object(E.jsxs)("div",{className:"default-address-section",children:[Object(E.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:_e,defaultChecked:(()=>{const e=!(null!==De&&void 0!==De&&De.length)&&!S;return(null===g||void 0===g?void 0:g.isPrimary)||e})(),onChange:()=>Pe(!_e),disabled:De.length<1||S&&De.length<=1}),Object(E.jsx)("div",{className:"default-label-text",children:Object(E.jsx)("label",{htmlFor:"default-address",children:Object(c.translateWithI18Next)(n.hd)})})]})]});return Object(l.useEffect)((()=>{ie(Object(u.b)());const e=(null===O||void 0===O?void 0:O.id)===D.d.postalCode?ee:te;ie(Object(T.e)(e))}),[ie,null===O||void 0===O?void 0:O.id,ee,te]),Object(l.useEffect)((()=>{!We&&He&&ie(Object(u.a)())}),[We,He,ie]),Object(E.jsx)(ae,{handleClose:Ze,orderModeTypeItem:ze,headerText:ue(p,Be),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),ve({type:A,value:{showDisposition:Me}}),pe||ve({type:k,value:{selectedAddress:{}}}),ve({type:M,value:{showSearchStore:Fe,configSearchScreen:v.a,searchedPlaceNonLocalized:null===me||void 0===me?void 0:me.searchedPlaceNonLocalized}})},modalTitleId:"delivery-address-search-form",className:"search-store-global-container",backDataTestId:"back-btn-global-modal-id"})};ve.defaultProps=r.a;t.default=ve},969:function(e,t,o){"use strict";o.r(t),o.d(t,"getDistanceByLatLong",(function(){return O})),o.d(t,"getGeoCodeByAddress",(function(){return m})),o.d(t,"getGeoLatLngByGeoCode",(function(){return b})),o.d(t,"getGeoLatLngByAddress",(function(){return p})),o.d(t,"GoogleMap",(function(){return f}));var l,d,i,r,n=o(3),a=o.n(n),s=o(15),c=o(46),u=o(24),v=o(2);const O=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.DistanceMatrixService;return new Promise(((o,l)=>{t.getDistanceMatrix({origins:[g(null===e||void 0===e?void 0:e.origins)],destinations:[g(null===e||void 0===e?void 0:e.destinations)],travelMode:(null===e||void 0===e?void 0:e.travelMode)||window.google.maps.TravelMode.DRIVING,unitSystem:(null===e||void 0===e?void 0:e.unitSystem)||window.google.maps.UnitSystem.METRIC,avoidHighways:(null===e||void 0===e?void 0:e.avoidHighways)||!1,avoidTolls:(null===e||void 0===e?void 0:e.avoidTolls)||!1},((e,t)=>{var d,i,r,n;t!==(null===(d=window)||void 0===d||null===(i=d.google)||void 0===i||null===(r=i.maps)||void 0===r||null===(n=r.GeocoderStatus)||void 0===n?void 0:n.OK)&&l(t),console.debug(e);const a=[];null===e||void 0===e||e.rows.forEach(((t,o)=>{var l,d,i,r,n;return a.push({destinationAddresses:null===e||void 0===e||null===(l=e.destinationAddresses)||void 0===l?void 0:l[o],originAddresses:null===e||void 0===e||null===(d=e.originAddresses)||void 0===d?void 0:d[o],distance:null===t||void 0===t||null===(i=t.elements)||void 0===i?void 0:i[0].distance,duration:null===t||void 0===t||null===(r=t.elements)||void 0===r?void 0:r[0].duration,status:null===t||void 0===t||null===(n=t.elements)||void 0===n?void 0:n[0].status})})),o(a)}))}))}},m=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.Geocoder;return new Promise(((o,l)=>{t.geocode({address:e},((e,t)=>{var d,i,r,n;t!==(null===(d=window)||void 0===d||null===(i=d.google)||void 0===i||null===(r=i.maps)||void 0===r||null===(n=r.GeocoderStatus)||void 0===n?void 0:n.OK)&&l(t),o(e)}))}))}return null},b=e=>{var t,o;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e?new Promise(((t,o)=>{try{var l;const o=Array.isArray(e)?e[0]:e;t(null===o||void 0===o||null===(l=o.geometry)||void 0===l?void 0:l.location)}catch(d){o(d)}})):null},p=async e=>{const t=await m(e);return await b(t)},h=e=>{var t,o,l,d;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(l=e.gMapDetails)||void 0===l||null===(d=l.gMapInstance)||void 0===d||d.setCenter(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.latLng)))},j=(e,t)=>{var o;return null===(o=g(e))||void 0===o?void 0:o.equals(g(t))},g=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e){const t="string"===typeof e?null===e||void 0===e?void 0:e.split(","):e;if(null!==Array&&void 0!==Array&&Array.isArray(t))return new window.google.maps.LatLng(t[0],t[1]);if("object"===typeof t)return null!==t&&void 0!==t&&t.latitude&&null!==t&&void 0!==t&&t.longitude?new window.google.maps.LatLng(null===t||void 0===t?void 0:t.latitude,null===t||void 0===t?void 0:t.longitude):new window.google.maps.LatLng(t)}return e},S=e=>{var t,o,l,d,i,r;const{gMapDetails:n,directionsPolyline:a,origin:s,destination:c,isRaiderTracker:u}=e,{raiderDirectionsService:v}=n;null===v||void 0===v||null===(t=v.route({origin:s,destination:c,travelMode:null===(l=window)||void 0===l||null===(d=l.google)||void 0===d||null===(i=d.maps)||void 0===i||null===(r=i.TravelMode)||void 0===r?void 0:r.DRIVING}))||void 0===t||null===(o=t.then((e=>{var t,o,l,d,i,r;null!==e&&void 0!==e&&null!==(t=e.routes)&&void 0!==t&&t[0]&&(null===a||void 0===a||a.setPath(null===e||void 0===e||null===(o=e.routes)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.overview_path),u&&(null===n||void 0===n||null===(d=n.gMapInstance)||void 0===d||d.fitBounds(null===e||void 0===e||null===(i=e.routes)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.bounds)))})))||void 0===o||o.catch((e=>console.debug("Directions request failed due to "+e)))},D=e=>{var t,o;const{gMapDetails:l,animation:d=null,position:i,icon:r,zIndex:n=1}=e,{gMapInstance:a,isMarkerVisible:s}=l;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&a?new window.google.maps.Marker({animation:d,position:i,map:a,visible:s,icon:r,zIndex:n}):null},C=e=>{var t,o;const{gMapDetails:l,updateGMapDetails:d}=e,{gMapInstance:i,orderTracking:r,customerLatLng:n,storeLatLng:a,raiderCurrentLatLng:c,raiderCurrentMarker:u,raiderDirectionsPolyline:v,raiderLatLngList:O}=l;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&i&&r&&n&&a&&c){var m,b,p,h;if(d({raiderLatLngList:[...O,c]}),j(a,c)||(e=>{var t,o;const{gMapInstance:l,orderTracking:d,raiderPastCurrentLatLng:i,raiderCurrentLatLng:r,raiderPastStrokeColor:n,raiderPastStrokeWeight:a,raiderPastStrokeOpacity:s}=null===e||void 0===e?void 0:e.gMapDetails;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&l&&d){const t=new window.google.maps.Polyline({strokeColor:n,strokeWeight:a,strokeOpacity:s,map:l});S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:i,destination:r})}})({gMapDetails:l,updateGMapDetails:d}),S({gMapDetails:l,directionsPolyline:v,origin:c,destination:n,isRaiderTracker:!0}),null!==u)null===u||void 0===u||u.setPosition(c);else d({raiderCurrentMarker:D({gMapDetails:l,position:c,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerRaider,zIndex:5,animation:null===(m=window)||void 0===m||null===(b=m.google)||void 0===b||null===(p=b.maps)||void 0===p||null===(h=p.Animation)||void 0===h?void 0:h.DROP})});d({raiderPastCurrentLatLng:c})}},T=async e=>{if(await(async()=>(await u.b.BindLocation(),u.b.address&&u.b.coordinates))()){const{longitude:t,latitude:o}=u.b.coordinates;h({gMapDetails:e,latLng:{lat:o,lng:t}})}},f=e=>{var t,o;const l=a.a.createRef(),[d,i]=Object(n.useState)(y),r=Object(n.useCallback)((e=>{i&&i((t=>({...t,...e})))}),[]);return Object(n.useEffect)((()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&l&&(null===d||void 0===d||!d.gMapInstance)){var o,i,n,a;console.debug("GoogleMap - useEffect Map => ");const e=(e=>{var t,o;const{gMapContainerRef:l,gMapDetails:d}=e;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&l){const{center:e,disableDefaultUI:t,fullscreenControl:o,zoomControl:i,gestureHandling:r,zoom:n,minZoom:a,maxZoom:s,mapTypeId:c,panControl:u,rotateControl:v,scaleControl:O,stylers:m}=d;return new window.google.maps.Map(null===l||void 0===l?void 0:l.current,{mapTypeId:c,center:e,disableDefaultUI:t,fullscreenControl:o,zoom:n,zoomControl:i,gestureHandling:r,minZoom:a,maxZoom:s,panControl:u,rotateControl:v,scaleControl:O,styles:m})}})({gMapContainerRef:l,gMapDetails:d});null===(o=window)||void 0===o||null===(i=o.google)||void 0===i||null===(n=i.maps)||void 0===n||null===(a=n.event)||void 0===a||a.addListenerOnce(e,"tilesloaded",(()=>{console.debug("GoogleMap - useEffect Map => tilesloaded"),r({mapRenderCompleted:!0,gMapInstance:e,raiderDirectionsService:new window.google.maps.DirectionsService})}))}}),[null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect gMapInstance => "),(null===d||void 0===d?void 0:d.gMapInstance)&&(async(e,t)=>{const{orderTracking:o=!1,storeAddress:l=null,storeLatLng:d=null,customerAddress:i=null,customerLatLng:r=null}=e;let n={orderTracking:o};if(l){const e=await p(l);n={...n,storeLatLng:e,raiderPastCurrentLatLng:e,storeAddress:l}}if(d&&(n={...n,storeLatLng:g(d),raiderPastCurrentLatLng:g(d),storeAddress:l}),i){const e=await p(i);n={...n,customerLatLng:e,customerAddress:i}}r&&(n={...n,customerLatLng:g(r),customerAddress:i}),t(n)})(e,r)}),[null===d||void 0===d?void 0:d.gMapInstance]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect mapTypeId => "),(null===d||void 0===d?void 0:d.gMapInstance)&&(e=>{var t,o,l,d,i,r,n;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(l=e.gMapInstance)||void 0===l||l.setMapTypeId(null===(d=window)||void 0===d||null===(i=d.google)||void 0===i||null===(r=i.maps)||void 0===r||null===(n=r.MapTypeId)||void 0===n?void 0:n[null===e||void 0===e?void 0:e.mapTypeId]))})(d)}),[null===d||void 0===d?void 0:d.mapTypeId]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect props mapTypeId => "),r({mapTypeId:null===e||void 0===e?void 0:e.mapTypeId})}),[null===e||void 0===e?void 0:e.mapTypeId]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,mapRenderCompleted:l}=d;e&&t&&o&&l&&(console.debug("GoogleMap - useEffect customer LatLng => "),D({gMapDetails:d,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerCustomer}),h({gMapDetails:d,latLng:o}))}),[null===d||void 0===d?void 0:d.customerLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,storeLatLng:o,mapRenderCompleted:l}=d;e&&t&&o&&l&&(console.debug("GoogleMap - useEffect store LatLng => "),D({gMapDetails:d,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerKFC}),h({gMapDetails:d,latLng:o}))}),[null===d||void 0===d?void 0:d.storeLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,storeLatLng:l,mapRenderCompleted:i}=d;console.debug("GoogleMap - useEffect store & customer LatLng => "),e&&t&&o&&l&&i&&(e=>{var t,o,l,d;const{gMapInstance:i,orderTracking:r,customerLatLng:n,storeLatLng:a,raiderStrokeColor:s,raiderStrokeWeight:c,raiderStrokeOpacity:u}=null===e||void 0===e?void 0:e.gMapDetails;if(console.debug("GoogleMap setRaiderDirectionsServicePolyline - ",null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps,i,r),null!==(l=window)&&void 0!==l&&null!==(d=l.google)&&void 0!==d&&d.maps&&i&&r){const t=new window.google.maps.Polyline({strokeColor:s,strokeWeight:c,strokeOpacity:u,map:i});null===e||void 0===e||e.updateGMapDetails({raiderDirectionsPolyline:t}),S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:a,destination:n,isRaiderTracker:!1})}})({gMapDetails:d,updateGMapDetails:r})}),[null===d||void 0===d?void 0:d.customerLatLng,null===d||void 0===d?void 0:d.storeLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:t,orderTracking:o,mapRenderCompleted:l}=d;console.debug("GoogleMap - useEffect props raiderCurrentLatLng => ",null===e||void 0===e?void 0:e.raiderCurrentLatLng),t&&o&&(null===e||void 0===e?void 0:e.raiderCurrentLatLng)&&l&&r({raiderCurrentLatLng:g(null===e||void 0===e?void 0:e.raiderCurrentLatLng)})}),[null===d||void 0===d?void 0:d.mapRenderCompleted,null===e||void 0===e?void 0:e.raiderCurrentLatLng]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect raiderCurrentLatLng => ",null===d||void 0===d?void 0:d.raiderCurrentLatLng),(null===d||void 0===d?void 0:d.mapRenderCompleted)&&C({gMapDetails:d,updateGMapDetails:r})}),[null===d||void 0===d?void 0:d.raiderCurrentLatLng]),Object(n.useEffect)((()=>{const{isMobile:t=(null===y||void 0===y?void 0:y.isMobile),isMarkerVisible:o=(null===y||void 0===y?void 0:y.isMarkerVisible),orderTracking:l=(null===y||void 0===y?void 0:y.orderTracking),raiderPastStrokeColor:d=(null===y||void 0===y?void 0:y.raiderPastStrokeColor),raiderPastStrokeWeight:i=(null===y||void 0===y?void 0:y.raiderPastStrokeWeight),raiderPastStrokeOpacity:n=(null===y||void 0===y?void 0:y.raiderPastStrokeOpacity),raiderStrokeColor:a=(null===y||void 0===y?void 0:y.raiderStrokeColor),raiderStrokeWeight:s=(null===y||void 0===y?void 0:y.raiderStrokeWeight),raiderStrokeOpacity:c=(null===y||void 0===y?void 0:y.raiderStrokeOpacity),stylers:u=(null===y||void 0===y?void 0:y.stylers)}=e;console.debug("GoogleMap - useEffect props config => "),r({isMobile:t,isMarkerVisible:o,orderTracking:l,raiderPastStrokeColor:d,raiderPastStrokeWeight:i,raiderPastStrokeOpacity:n,raiderStrokeColor:a,raiderStrokeWeight:s,raiderStrokeOpacity:c,stylers:u})}),[null===e||void 0===e?void 0:e.isMobile,null===e||void 0===e?void 0:e.isMarkerVisible,null===e||void 0===e?void 0:e.orderTracking,null===e||void 0===e?void 0:e.raiderPastStrokeColor,null===e||void 0===e?void 0:e.raiderPastStrokeWeight,null===e||void 0===e?void 0:e.raiderPastStrokeOpacity,null===e||void 0===e?void 0:e.raiderStrokeColor,null===e||void 0===e?void 0:e.raiderStrokeWeight,null===e||void 0===e?void 0:e.raiderStrokeOpacity,null===e||void 0===e?void 0:e.stylers]),Object(n.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps)&&(null===d||void 0===d?void 0:d.gMapInstance)&&(null===d||void 0===d||d.gMapInstance.setOptions({styles:null===d||void 0===d?void 0:d.stylers}))}),[null===d||void 0===d?void 0:d.gMapInstance,null===d||void 0===d?void 0:d.stylers]),Object(n.useEffect)((()=>{var t,o;const{customerAddress:l=null,customerLatLng:i=null,storeAddress:n=null,storeLatLng:a=null}=e;console.debug("GoogleMap - useEffect Props store & customer LatLng => "),(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===d||void 0===d?void 0:d.mapRenderCompleted)&&(!j(null===d||void 0===d?void 0:d.customerLatLng,i)||!j(null===d||void 0===d?void 0:d.storeLatLng,a))&&r({customerAddress:l,customerLatLng:g(i),storeAddress:n,storeLatLng:g(a)})}),[null===d||void 0===d?void 0:d.mapRenderCompleted,null===e||void 0===e?void 0:e.customerAddress,null===e||void 0===e?void 0:e.customerLatLng,null===e||void 0===e?void 0:e.storeAddress,null===e||void 0===e?void 0:e.storeLatLng]),Object(v.jsxs)("div",{className:"googleMapContPanel",children:[Object(v.jsx)("div",{className:"use-location-icon",children:Object(v.jsx)(c.a,{srcFile:null===s.a||void 0===s.a?void 0:s.a.UseLocationWhiteIcon,alt:"",onClick:()=>T(d),"data-testid":"use-location-icon"})}),Object(v.jsx)("div",{id:"google-map-container",ref:l,className:"googleMapContainer ".concat(null===e||void 0===e?void 0:e.className)})]})};t.default=f;const y={gMapInstance:null,defaultLatLng:[{lat:0,lng:0}],mapRenderCompleted:!1,raiderPastCurrentLatLng:null,raiderCurrentLatLng:null,raiderCurrentMarker:null,raiderDirectionsPolyline:null,raiderDirectionsService:null,raiderLatLngList:[],mapTypeId:null===(l=window)||void 0===l||null===(d=l.google)||void 0===d||null===(i=d.maps)||void 0===i||null===(r=i.MapTypeId)||void 0===r?void 0:r.ROADMAP,center:{lat:0,lng:0},disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!0,zoom:13,gestureHandling:"greedy",minZoom:6,maxZoom:20,panControl:!1,rotateControl:!0,scaleControl:!0,isMobile:!1,isMarkerVisible:!0,orderTracking:!1,customerAddress:null,customerLatLng:null,storeAddress:null,storeLatLng:null,raiderPastStrokeColor:"#202124",raiderPastStrokeWeight:2,raiderPastStrokeOpacity:.8,raiderStrokeColor:"#e4002b",raiderStrokeWeight:4,raiderStrokeOpacity:1,stylers:[]}}}]);