(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[95],{1143:function(e,t,o){"use strict";o.d(t,"b",(function(){return X}));var i=o(3),l=o.n(i),a=o(420),n=o.n(a),r=o(395),s=o(404),d=o(263),c=o(85),v=o(16),u=o(120),O=o(28),m=o(73),b=o(12),j=o(5),h=o(62),p=o(113),S=o(158),I=o(46),g=o(6),f=o(4),N=o(35),T=o(24),D=o(107),E=o(0),y=o(394),A=o(411),w=(o(1155),o(15)),x=o(55),C=o(600),R=o(2);const{ORDER_TYPE:_,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:M,EDIT:Y,SCHEDULE_FOR_YOUR_ORDER_TEXT:P,DATE:W,TIME:H,CONFIRM_BTN_TEXT:k,DELIVERY_UNAVAILABLE_ERROR:F,SWITCH_TO_TAKEAWAY_TEXT:J,ERROR_MESSAGE_IN_ACTIVE:U,DELIVERY_PICKUP_MESSAGE:B,ERROR_MESSAGE_CLOSED:K,SCHEDULE_ORDER:V,CHANGE_ORDER_TITLE:z,ASAP_SERVES_Warning_Message:G}=f.a,q=(e,t,o)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(o)),X=e=>"ASAP"!==e&&"-"!==e?e:Object(b.S)(Object(b.o)(),S.a.HHMM,S.a.LT),Z=(e,t)=>{let o={};return"-"!==e&&"ASAP"!==e?o={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(o={isForNow:!0,futureDateTime:0}),o},Q=(e,t,o)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Kb)(i.type):t?E.Mb.PICKUP:Object(j.Kb)(o)};function $(e,t,o){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||o(null===(i=e[0])||void 0===i?void 0:i.timestr):o("-")}t.a=Object(h.j)((e=>{var t,o,a,h,f,te,oe,ie,le,ae,ne,re,se,de,ce,ve,ue;const{SingleArrow:Oe,Calendar:me,Error:be}=w.a,je=Object(i.useRef)(null),he=Object(i.useRef)(null),{location:pe,onStoreSelectFinish:Se}=e,{SEARCH_ORDER_DATA:Ie,SCHEDULE_ORDER_DATA:ge,DISPOSITION_DATA:fe,SCHEDULE_ORDER_TIME_DATA:Ne,CLOSED:Te,SCHEDULE_ORDER_TIME_PRESERVE_TIME:De,MENU_URL:Ee,PDP_URL:ye,SELECTED_TILE_DATA:Ae,DISPOSITION_METHOD:we,SET_DISPOSITION:xe,USER_LOCALIZED:Ce,SHOW_CLEAR_CART_ALERT:Re,CLEAR_CART_CONFIRM_CANCEL_MODAL:_e,clearCartChangeFlag:Le,orderTypeAlertTitle:Me,searchStoreAlertTitle:Ye,CURRENT_STORE_INFO:Pe,SET_FORCERELOAD:We}=v.a,He=Object(O.c)((e=>e.profileReducer)),{userOrderState:ke,userOrderStateDispatch:Fe}=Object(i.useContext)(c.a),{dispositionStateData:Je={},scheduleOrderData:Ue={}}=ke,{changeFlow:Be=!1,isAddressFlow:Ke=!1}=Ue,Ve=Ue&&Object(j.Td)(Ue.storeInfo)?Ue.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:ze=""}=Je,Ge=ze||localStorage.getItem("dispositionType"),{value:qe=""}=(null===Ue||void 0===Ue||null===(t=Ue.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Xe=""}=Ue&&(null===(o=Ue.selectedDateTimeInfo)||void 0===o||null===(a=o.date)||void 0===a?void 0:a.length)>0?Ue.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Ze=Ue&&(null===(h=Ue.selectContentData)||void 0===h||null===(f=h.savedTime)||void 0===f?void 0:f.length)>0?null===(te=Ue.selectContentData)||void 0===te?void 0:te.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Qe,scheduled:$e={},asap:et}=(null===(oe=Ue.storeInfo)||void 0===oe||null===(ie=oe.summary)||void 0===ie?void 0:ie.timings)||{},tt=Object(j.Sd)(ke.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ke.dispositionNew,{unavailibilities:ot,unavailibilityType:it}=$e,{interval:lt=0,startEndTime:at={}}=$e&&(null===$e||void 0===$e||null===(le=$e.periods)||void 0===le?void 0:le.length)&&(null===$e||void 0===$e?void 0:$e.periods[0])||{},{from:nt,to:rt}=at;let st=Object(O.c)((e=>e.appStateReducer.userStatus));const dt=Object(O.b)(),ct=Object(O.c)((e=>e.tenantReducer)),vt=Object(O.c)((e=>e.storesReducer)),ut=Object(O.c)((e=>e.cartReducer)),{cartData:Ot}=ut,{storesAvilableTimeSlots:mt,storesTimeSlots:bt}=vt,[jt,ht]=Object(i.useState)(!1),[pt,St]=Object(i.useState)({error:!1,errormessage:""}),[It,gt]=Object(i.useState)({from:nt,to:rt,interval:lt}),[ft,Nt]=Object(i.useState)({error:!1,openStoreTime:""}),Tt=(null===(ae=Ue.storeInfo)||void 0===ae||null===(ne=ae.summary)||void 0===ne||null===(re=ne.status)||void 0===re?void 0:re.currentStatus)===Te,Dt=()=>{var e;return Be?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===S.a.TYPE_DELIVERY:!Ke&&(null===Ge||void 0===Ge?void 0:Ge.toUpperCase())===S.a.TYPE_DELIVERY},[Et,yt]=Object(i.useState)($e&&$e.date?new Date($e.date.toString()):new Date),[At,wt]=Object(i.useState)(et&&et.isAvailable?"ASAP":Object(b.S)(null===at||void 0===at?void 0:at.from,"hh:mm","LT")),[xt,Ct]=Object(i.useState)([]),[Rt,_t]=Object(i.useState)(!1),[Lt,Mt]=Object(i.useState)(!1),[Yt,Pt]=Object(i.useState)(Object(j.de)(window.innerWidth)),Wt=()=>{Pt(Object(j.de)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Wt)}),[Yt]),Object(i.useEffect)((()=>{if(1===(null===Qe||void 0===Qe?void 0:Qe.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country)){var e;const t={storeid:null===Ue||void 0===Ue||null===(e=Ue.storeInfo)||void 0===e?void 0:e.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),date:""};dt(Object(m.c)({data:t,tenantId:ct.tenantId}))}let t=Object(u.j)(nt,rt,lt,null===et||void 0===et?void 0:et.isAvailable,1===(null===Qe||void 0===Qe?void 0:Qe.length)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);return Ct(t),()=>{dt(Object(m.a)())}}),[]);const Ht=e=>{var t,o;if("INDIA"===(null===ct||void 0===ct?void 0:ct.country))return;const i=Object(b.h)(e,"YYYY-MM-DD");if($e.date===i){let t=Object(u.j)(nt,rt,lt,null===et||void 0===et?void 0:et.isAvailable,1===Qe.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);return Ct(t),wt(t[0].timestr),gt({from:nt,to:rt,interval:lt}),yt(e),St({...pt,error:!1,errormessage:""}),_t(!1),void Mt(!1)}const l={storeid:null===Ue||void 0===Ue||null===(t=Ue.storeInfo)||void 0===t?void 0:t.id,channel:T.b.channel,service:Object(j.Mb)($t()).toString().toLowerCase(),dateVal:i};if(dt(Object(m.c)({data:l,tenantId:ct.tenantId})),yt(e),(null===mt||void 0===mt||null===(o=mt.periods)||void 0===o?void 0:o.length)>0){const{startEndTime:e,interval:t}=mt.periods[0],{from:o,to:i}=e;let l=Object(u.j)(o,i,t,null===et||void 0===et?void 0:et.isAvailable,1===Qe.length&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it);gt({from:o,to:i,interval:t}),Ct(l)}St({...pt,error:!1,errormessage:""})},kt=e=>{const t=new Date,o=new Date(e.split("T")[0]);return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()},Ft=e=>{var t;wt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let o=Object(u.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:kt(Xe)?"Today":"Tomorrow"});yt(o),_t(!1),Mt(!1),St({...pt,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Ze;Xe&&Ht(new Date(Xe)),((e,t,o,i,l,a)=>{if(e&&t){const e=Object(b.S)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)?a(l):a(t)}})(Be,e,nt,Xe,Ze,Ft),((e,t,o,i,l)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var a;const e={storeid:null===t||void 0===t||null===(a=t.storeInfo)||void 0===a?void 0:a.id,channel:T.b.channel,service:Object(j.Mb)(o()).toString().toLowerCase(),date:""};i(Object(m.c)({data:e,tenantId:null===l||void 0===l?void 0:l.tenantId}))}})(Qe,Ue,$t,dt,ct)}),[]),Object(i.useEffect)((()=>{let e=Object(j.ad)(Be,Object(g.translateWithI18Next)(z),Object(g.translateWithI18Next)(V));var t;if(Object(j.Td)(bt)&&jt)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Te)St({...pt,error:!0,errormessage:Object(g.translateWithI18Next)(K)}),Object(j.Ob)(e,Object(g.translateWithI18Next)(K));else{let t=new Date;if(new Date(Et).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(b.o)().add(et.promiseTime,"minutes").format("LT");Object(b.c)(t,At,"h:mm A")?(St({...pt,error:!0,errormessage:Object(g.translateWithI18Next)(U)}),Object(j.Ob)(e,Object(g.translateWithI18Next)(U))):q(pe,Ee,ye)?Jt():Ut()}else q(pe,Ee,ye)?Jt():Ut()}}),[bt,He]);const Jt=()=>{var t,o;Fe({type:Ae,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(ct)),localStorage.setItem("selectedTile",JSON.stringify({}));const i=null===pe||void 0===pe?void 0:pe.pathname,l=null===Ve||void 0===Ve||null===(t=Ve.summary)||void 0===t?void 0:t.name,a=null===ct||void 0===ct||null===(o=ct.componentOptions)||void 0===o?void 0:o.showToastAfterLocalization;Ut(),e.history.push({pathname:"".concat(Ee),...!Object(j.ce)(i)&&{state:{toastData:{storeName:l,service:Ge,showToastAfterLocalization:a}}}})},Ut=async()=>{Fe({type:ge,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Ue||void 0===Ue?void 0:Ue.storeInfo,changeFlow:!0}}),Fe({type:we,value:{dispositionType:Ge}}),localStorage.setItem("dispositionType",$t()),localStorage.setItem("storeInfo",null!==Ue&&void 0!==Ue&&Ue.storeInfo?JSON.stringify(Ue.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Ue&&void 0!==Ue&&Ue.storeInfo?JSON.stringify(Ue.storeInfo):JSON.stringify({})),Fe({type:Pe,value:Object(j.sd)(null===Ue||void 0===Ue?void 0:Ue.storeInfo)}),Fe({type:Ie,value:{showSearchStore:!1}});let e="",t="";"ASAP"===At||"-"===At?(e="ASAP",t="ASAP"):(e=At,t=At),Fe({type:We,value:{forceReload:!0}});let o=X(At);const i=Object(b.A)(Object(b.h)(Et,"YYYY-MM-DD")+" "+o,"YYYY-MM-DD hh:mm A");let l={time:e,interval:It.interval,date:Et,epochTime:i,selectedTime:At},a=(null===Ue||void 0===Ue?void 0:Ue.deliveryAddress)||(null===tt||void 0===tt?void 0:tt.deliveryAddress);if(null===tt||tt.type!==$t()||tt.store.id!==Ve.id||tt.deliveryAddress!==Ue.deliveryAddress){let e=await Object(j.A)(Ve,Object(j.Mb)(Ge),null===He||void 0===He?void 0:He.customerId,l,a,null===Ue||void 0===Ue?void 0:Ue.deliveryAddressLine);dt(Object(N.m)("")),dt(Object(N.f)({data:e,tenantId:ct.tenantId}))}dt(Object(p.a)({...st,localized:!0})),Fe({type:xe,value:{oldvalue:tt,newValue:{type:$t(),store:Ve,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:a}}}),localStorage.setItem("dispositionOld",JSON.stringify(tt)),localStorage.setItem("dispositionNew",JSON.stringify({type:$t(),store:Ve,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:a})),Object(j.vf)(),Fe({type:Ne,value:{selectedDateTime:l}}),Fe({type:De,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(l)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,o={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(mt||{}).length){var i,l,a;const{startEndTime:e,interval:r}=Object(j.qd)(null===(i=mt[0])||void 0===i?void 0:i.periods[0],o),{startEndTime:s}=Object(j.qd)(null===(l=mt[1])||void 0===l?void 0:l.periods[0],o),{from:d}=e,{to:c}=s;var n;if(t=Object(u.j)(d,c,r,null===et||void 0===et?void 0:et.isAvailable,1===Qe.length&&new Date(null===(a=mt[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===Qe||void 0===Qe?void 0:Qe[0]).setHours(0,0,0,0)&&"INDIA"===(null===ct||void 0===ct?void 0:ct.country),ot,it),gt({from:d,to:c,interval:r}),Ct(t),$(t,Ze,Ft),!mt.find((e=>e.date===Xe.split("T")[0])))yt(new Date(null===(n=mt[0])||void 0===n?void 0:n.date))}else if(Object.keys(mt||{}).length){var r,s;const{startEndTime:e,interval:i}=Object(j.qd)(null===(r=mt[0])||void 0===r?void 0:r.periods[0],o),{from:l,to:a}=e;var d;if(t=Object(u.j)(l,a,i,null===et||void 0===et?void 0:et.isAvailable,"INDIA"===(null===ct||void 0===ct?void 0:ct.country)&&1===(null===Qe||void 0===Qe?void 0:Qe.length)&&new Date(null===(s=mt[0])||void 0===s?void 0:s.date).setHours(0,0,0,0)<new Date(null===Qe||void 0===Qe?void 0:Qe[0]).setHours(0,0,0,0),ot,it),gt({from:l,to:a,interval:i}),Ct(t),$(t,Ze,Ft),!mt.find((e=>e.date===Xe.split("T")[0])))yt(new Date(null===(d=mt[0])||void 0===d?void 0:d.date))}const c=localStorage.getItem("modalSource");var v;null!==ct&&void 0!==ct&&ct.showASAPServiceWarningMessage&&(null===et||void 0===et||!et.isAvailable)&&Tt&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&Nt({error:!0,openStoreTime:null===(v=t[0])||void 0===v?void 0:v.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(mt)]);const Bt=e=>{var t,o;null!==je&&void 0!==je&&null!==(t=je.current)&&void 0!==t&&t.contains(e.target)||null!==he&&void 0!==he&&null!==(o=he.current)&&void 0!==o&&o.contains(e.target)||(_t(!1),Mt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Bt),()=>{document.removeEventListener("mousedown",Bt)})),[]);const Kt=()=>{Fe({type:Ie,value:{showSearchStore:!0}}),Fe({type:ge,value:{showDisposition:!1}}),Fe({type:we,value:{dispositionType:"Pickup"}})},Vt=null===Ue||void 0===Ue||null===(se=Ue.storeInfo)||void 0===se||null===(de=se.availableServicesPerChannel)||void 0===de||null===(ce=de.find((e=>"web"===e.channel)))||void 0===ce?void 0:ce.services,zt=null===Vt||void 0===Vt?void 0:Vt.includes("delivery"),Gt=Object(j.hb)(Dt(),!zt),qt=()=>{let e=Object(g.translateWithI18Next)(B),t=!1;return zt&&(e=Object(g.translateWithI18Next)(F),t=!0),{showTakeWayButton:t,message:e}},{message:Xt}=qt();Object(i.useEffect)((()=>{Object(D.g)(Be,Xt)}),[Xt]);const Zt=()=>{const{message:e,showTakeWayButton:t}=qt();return Object(R.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(R.jsx)(I.a,{srcFile:be,className:"location-alert-icon"}),Object(R.jsx)("div",{className:"location-error-message",children:e}),Object(R.jsx)("div",{className:"location-error-button-section",children:t&&Object(R.jsx)(r.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Kt,children:Object(g.translateWithI18Next)(J)})})]})},Qt=e=>{var t;let{orderType:o}=e,i=Object(g.translateWithI18Next)(G),l=null===i||void 0===i?void 0:i.replace("%time%",ft.openStoreTime);return l=null===(t=l)||void 0===t?void 0:t.replace("%servesName%",o),Object(R.jsxs)("div",{className:"asap-warning-container",children:[Object(R.jsx)("span",{className:"error-img"}),l]})},$t=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Be&&e?e.type:Ke?"Pickup":Ge},eo=Be?null===(ve=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ve?void 0:ve.deliveryAddress:Ue.deliveryAddress;return Object(R.jsxs)("div",{className:"scheduleOrder-form",children:[Object(R.jsx)("h3",{className:"order-type",children:Object(g.translateWithI18Next)(_)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(s.a,{value:Q(Be,Ke,Ge),className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Object(R.jsx)(d.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Me};Object(j.Fe)(Fe,e,Re,_e)}else Fe({type:fe,value:{showDisposition:!0}});Fe({type:ge,value:{showScheduleOrderCatering:!1}}),Fe({type:Ie,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(g.translateWithI18Next)(Y)})})]}),pt&&pt.error&&Object(R.jsxs)("div",{className:"error-container",children:[Object(R.jsx)("span",{className:"error-img"}),pt.errormessage]}),Yt&&Gt&&Object(R.jsx)(Zt,{}),Object(R.jsx)("h3",{className:"order-type",children:Dt()?Object(g.translateWithI18Next)(M):Object(g.translateWithI18Next)(L)}),Object(R.jsxs)("div",{className:"ordertype-input-div",children:[Object(R.jsx)(s.a,{value:Dt()?eo:qe||"",className:"w-100"}),Object(R.jsx)("div",{className:"edit-input",children:Dt()?Object(R.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(Fe({type:we,value:{dispositionType:Be?JSON.parse(localStorage.getItem("dispositionNew")).type:Ge}}),Ot&&(null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Ye};Object(j.Fe)(Fe,e,Re,_e)}else Fe({type:Ie,value:{showSearchStore:!0}});Fe({type:ge,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(g.translateWithI18Next)(Y)}):Object(R.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===Ot||void 0===Ot||null===(e=Ot.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Ye};Object(j.Fe)(Fe,e,Re,_e)}else{let e=Object(j.rd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ke)Fe({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ue.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];Fe({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}Fe({type:ge,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Be)}}),Fe({type:we,value:{dispositionType:$t()}})},"data-testid":"edit-store-test",children:Object(g.translateWithI18Next)(Y)})})]}),!Yt&&Gt&&Object(R.jsx)(Zt,{}),(null===ft||void 0===ft?void 0:ft.error)&&Object(R.jsx)(Qt,{orderType:Q(Be,Ke,Ge)}),Object(R.jsx)("h3",{className:"order-type",children:Object(g.translateWithI18Next)(P)}),Object(R.jsxs)("div",{className:"schedule-date-time",children:[Object(R.jsxs)("div",{className:"schedule-date",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker",children:Object(g.translateWithI18Next)(W)}),Qe&&Qe.length>0&&$e&&$e.date&&"INDIA"!==(null===ct||void 0===ct?void 0:ct.country)?Object(R.jsxs)(l.a.Fragment,{children:[Object(R.jsxs)("div",{ref:je,onClick:()=>Mt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(R.jsx)(n.a,{selected:Et,showPopperArrow:!1,onChange:e=>Ht(e),minDate:new Date($e.date.toString()),maxDate:new Date(Qe[Qe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(R.jsx)("img",{src:me,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(R.jsx)("span",{className:"dropdown-img"})]}):Object(R.jsx)(l.a.Fragment,{children:Object(R.jsx)("div",{className:"time-input time-input-container",children:Object(b.h)(Et,"YYYYMMDD")===Object(b.e)("YYYYMMDD")&&Object(g.translateWithI18Next)("today")||Object(g.translateWithI18Next)("tomorrow")})})]}),Object(R.jsxs)("div",{className:"schedule-time",children:[Object(R.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(g.translateWithI18Next)(H)}),Object(R.jsxs)("div",{className:ee(xt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==$e.periods.length&&_t(!Rt),onClick:()=>0!==$e.periods.length&&_t(!Rt),children:[Object(R.jsx)("div",{className:"time-input asap-default",children:At}),Object(R.jsx)("img",{src:Oe,alt:" ",className:"downarrow-time-list"})]}),Rt&&Object(R.jsx)("div",{ref:he,className:"schedule-time-list-container",children:Object(R.jsx)("ul",{children:!(null===xt||void 0===xt||!xt.length)&&(null===xt||void 0===xt?void 0:xt.map((e=>Object(R.jsx)("li",{tabIndex:"0",onClick:()=>{Nt((e=>({...e,error:!1}))),Ft(e)},onKeyPress:()=>Ft(e),children:e.timestr}))))})})]})]}),Object(R.jsx)("div",{className:"text-center schedule-btn-div",children:Object(R.jsx)(r.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(g.translateWithI18Next)(k),onClickHandler:e=>{var t,o,i,l,a;Object(x.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===Ve||void 0===Ve?void 0:Ve.id,disposition:Ge,postCode:null===Ve||void 0===Ve||null===(t=Ve.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};Se(n),Object(y.J)(n,At),Object(A.a)(Ue),ht(!0);let r=X(At);const s=Object(b.A)(Object(b.h)(Et,"YYYY-MM-DD")+" "+r,"YYYY-MM-DD hh:mm A"),d={storeid:null===Ue||void 0===Ue||null===(i=Ue.storeInfo)||void 0===i?void 0:i.id,channel:T.b.channel,service:null===(l=Object(j.Mb)($t()))||void 0===l||null===(a=l.toString())||void 0===a?void 0:a.toLowerCase(),futureDateTimeInEpochFormat:s,asap:At===E.s};dt(Object(m.n)({data:d,tenantId:ct.tenantId},(()=>{if(Object(j.ce)(null===pe||void 0===pe?void 0:pe.pathname)){var e,t;const o=null===Ve||void 0===Ve||null===(e=Ve.summary)||void 0===e?void 0:e.name,i=null===ct||void 0===ct||null===(t=ct.componentOptions)||void 0===t?void 0:t.showToastAfterLocalization;Object(C.a)(o,Ge,i)}}))),null!==Ot&&void 0!==Ot&&Ot.id&&dt(Object(m.q)({params:{basketId:null===Ot||void 0===Ot?void 0:Ot.id},tenantId:ct.tenantId,postBody:Z(At,s)})),Fe({type:Ce,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===$e||void 0===$e||null===(ue=$e.periods)||void 0===ue?void 0:ue.length),children:Object(g.translateWithI18Next)(k)})})]})}));const ee=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},1155:function(e,t,o){},964:function(e,t,o){"use strict";o.r(t),o.d(t,"ScheduleOrder",(function(){return O}));var i=o(3),l=o.n(i),a=o(1143),n=o(144),r=o(2);var s=e=>{const{handleClose:t,ScheduleOrderForm:o,headerText:i,modalTitleId:a="",handleGoBack:s}=e;return Object(r.jsx)(l.a.Fragment,{children:Object(r.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:a,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:s,children:o})})},d=o(85),c=o(16),v=o(6),u=o(4);const O=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:o,userOrderStateDispatch:l}=Object(i.useContext)(d.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:O}=c.a,{scheduleOrderData:m}=o,{changeFlow:b=!1}=m,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),l({type:O,value:{selectedStoreInfo:o.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),l({type:n,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const h=Object(r.jsx)(a.a,{onStoreSelectFinish:t});return Object(r.jsx)(s,{handleGoBack:()=>{l({type:n,value:{showSearchStore:!0}}),l({type:O,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:h,modalTitleId:"schedule-order",headerText:b?Object(v.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SCHEDULE_ORDER):Object(v.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.CHANGE_ORDER_TITLE)})};t.default=O}}]);