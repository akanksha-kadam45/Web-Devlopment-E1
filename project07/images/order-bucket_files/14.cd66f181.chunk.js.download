(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[14,115],{1097:function(e,t,d){var o=d(327),r=d(213),n=d(330);e.exports=function(e){return function(t,d,i){var l=Object(t);if(!r(t)){var u=o(d,3);t=n(t),d=function(e){return u(l[e],e,l)}}var a=e(t,d,i);return a>-1?l[u?t[a]:a]:void 0}}},1102:function(e,t,d){var o=d(1097)(d(405));e.exports=o},1104:function(e,t,d){"use strict";d.d(t,"a",(function(){return r})),d.d(t,"b",(function(){return n}));var o=d(1);function r(e,t){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.qk,payload:{data:e,tenantId:t},successCallback:d,errorCallback:r}}function n(e,t){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.lk,menuPayload:e,exclusionPayload:t,successCallback:d}}},1105:function(e,t,d){var o=d(268),r=d(597);e.exports=function(e){return r(o(e).toLowerCase())}},1114:function(e,t,d){"use strict";d.d(t,"a",(function(){return r}));var o=d(1);function r(e){return{type:o.he,payload:e}}},1120:function(e,t,d){var o=d(598),r=d(596),n=d(599),i=4294967295,l=Math.min;e.exports=function(e,t){if((e=n(e))<1||e>9007199254740991)return[];var d=i,u=l(e,i);t=r(t),e-=i;for(var a=o(u,t);++d<e;)t(d);return a}},1121:function(e,t,d){"use strict";d.d(t,"a",(function(){return i})),d.d(t,"b",(function(){return l})),d.d(t,"c",(function(){return u}));var o=d(3);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var d=arguments[t];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o])}return e},r.apply(this,arguments)}var n=function(e){var t=Object(o.useRef)(e);return t.current=e,t},i=function(e){var t=void 0===e?{}:e,d=t.requestOptions,i=t.debounce,l=void 0===i?200:i,u=t.cache,a=void 0===u?86400:u,c=t.cacheKey,s=t.googleMaps,v=t.callbackName,p=t.defaultValue,O=void 0===p?"":p,f=t.initOnMount,b=void 0===f||f,R=Object(o.useState)(!1),j=R[0],S=R[1],m=Object(o.useState)(O),I=m[0],g=m[1],h=Object(o.useState)({loading:!1,status:"",data:[]}),C=h[0],y=h[1],D=Object(o.useRef)(null),w=n(d),E=n(s),P=c?"upa-"+c:"upa",A=Object(o.useCallback)((function(){var e;if(!D.current){var t=window.google,d=E.current,o=(null==d?void 0:d.places)||(null==t||null==(e=t.maps)?void 0:e.places);o?(D.current=new o.AutocompleteService,S(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),N=Object(o.useCallback)((function(){y({loading:!1,status:"",data:[]})}),[]),T=Object(o.useCallback)((function(){try{sessionStorage.removeItem(P)}catch(e){}}),[]),_=Object(o.useCallback)(function(e,t){var d;return function(){for(var o=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];null!==d&&(clearTimeout(d),d=null),d=setTimeout((function(){return e.apply(o,n)}),t)}}((function(e){if(e){y((function(e){return r({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(P)||"{}")}catch(d){}a&&(t=Object.keys(t).reduce((function(e,d){return t[d].maxAge-Date.now()>=0&&(e[d]=t[d]),e}),{}))[e]?y({loading:!1,status:"OK",data:t[e].data}):D.current.getPlacePredictions(r({},w.current,{input:e}),(function(o,r){if(y({loading:!1,status:r,data:o||[]}),a&&"OK"===r){t[e]={data:o,maxAge:Date.now()+1e3*a};try{sessionStorage.setItem(P,JSON.stringify(t))}catch(d){}}}))}else N()}),l),[l,N]),k=Object(o.useCallback)((function(e,t){void 0===t&&(t=!0),g(e),D.current&&t&&_(e)}),[_]);return Object(o.useEffect)((function(){if(!b)return function(){return null};var e=window.google;return E.current||null!=e&&e.maps||!v?A():window[v]=A,function(){window[v]&&delete window[v]}}),[v,A]),{ready:j,value:I,suggestions:C,setValue:k,clearSuggestions:N,clearCache:T,init:A}},l=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(d,o){t.geocode(e,(function(t,r){"OK"!==r&&o(r),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),d(t)),d(t)}))}))},u=function(e){return new Promise((function(t,d){try{var o=e.geometry.location,r=o.lat,n=o.lng;t({lat:r(),lng:n()})}catch(i){d(i)}}))}},1326:function(e,t,d){"use strict";var o=d(3),r=d(28),n=d(123),i=d(24),l=d(85),u=d(5),a=d(0),c=d(1108),s=d(1111),v=d(265),p=d(328),O=d(74),f=d(20),b=d.n(f),R=d(80),j=d(132),S=d(399);t.a=e=>{var t,d,f,m,I,g,h,C,y,D,w,E,P;const{orderDetails:A,updateSetOrderDetails:N,children:T}=e,_=Object(r.b)(),{userOrderState:k,userOrderStateDispatch:K}=Object(o.useContext)(l.a),{tenantReducer:G,appStateReducer:M,orderReducer:F,postOrderReducer:L,cartReducer:U,storesReducer:x,paymentsContentReducer:Y,helpReducer:J,profileReducer:W,paymentsReducer:H,contentReducer:V,menuReducer:q}=Object(r.c)((e=>e)),B=Object(u.Sd)(k.dispositionNew)?JSON.parse(localStorage.getItem(a.gd.DISPOSITION_NEW)):k.dispositionNew,X=()=>{N({isMobileView:Object(u.de)(window.innerWidth)})},z=(null===(t=window)||void 0===t||null===(d=t.location)||void 0===d?void 0:d.pathname)===(null===a.Ce||void 0===a.Ce?void 0:a.Ce.ORDER_SUMMARY),Q=Object(j.b)(R.b);return Object(o.useEffect)((()=>(!b()(null===A||void 0===A?void 0:A.service)&&_(Object(p.n)(null===A||void 0===A?void 0:A.service)),()=>{_(O.a.resetReducer())})),[null===A||void 0===A?void 0:A.service]),Object(o.useEffect)((()=>(window.addEventListener(a.ye,X),Object(v.j)()&&_(Object(n.e)()),Object(v.Y)()&&_(Object(n.e)()),()=>{window.removeEventListener(a.ye,X),N(c.o)})),[]),Object(o.useEffect)((()=>{_&&null!==G&&void 0!==G&&G.tenantId&&Object(c.y)({props:e,dispatch:_,tenantReducer:G,dispositionPaymentPage:B,updateSetOrderDetails:N})}),[_,null===G||void 0===G?void 0:G.tenantId]),Object(o.useEffect)((()=>{Object(c.v)({helpReducer:J,updateSetOrderDetails:N})}),[J]),Object(o.useEffect)((()=>{var e;const t=null===H||void 0===H||null===(e=H.addHopePayResponse)||void 0===e?void 0:e.reference;(null===A||void 0===A?void 0:A.tenantId)&&Object(v.j)()&&t&&t!==(null===A||void 0===A?void 0:A.miscPaymentReferenceId)&&N({miscPaymentReferenceId:t,status:null===a.Rd||void 0===a.Rd?void 0:a.Rd.MISC_PAYMENT_INPROGRESS})}),[null===H||void 0===H||null===(f=H.addHopePayResponse)||void 0===f?void 0:f.reference,null===A||void 0===A?void 0:A.tenantId]),Object(o.useEffect)((()=>{var e;const t=null===H||void 0===H||null===(e=H.giftCardPayResponse)||void 0===e?void 0:e.reference;(null===A||void 0===A?void 0:A.tenantId)&&Object(v.Y)()&&t&&t!==(null===A||void 0===A?void 0:A.wiCodePurchaseId)&&N({wiCodePurchaseId:t,status:null===a.Rd||void 0===a.Rd?void 0:a.Rd.MISC_PAYMENT_INPROGRESS})}),[null===H||void 0===H||null===(m=H.giftCardPayResponse)||void 0===m?void 0:m.reference,null===A||void 0===A?void 0:A.tenantId]),Object(o.useEffect)((()=>{Object(v.Y)()&&_&&(null===A||void 0===A?void 0:A.tenantId)&&(null===A||void 0===A?void 0:A.wiCodePurchaseId)&&Object(s.j)({dispatch:_,orderDetails:A,updateSetOrderDetails:N})}),[_,null===A||void 0===A?void 0:A.tenantId,null===A||void 0===A?void 0:A.wiCodePurchaseId]),Object(o.useEffect)((()=>{Object(v.j)()&&_&&(null===A||void 0===A?void 0:A.tenantId)&&(null===A||void 0===A?void 0:A.miscPaymentReferenceId)&&Object(s.i)({dispatch:_,orderDetails:A,updateSetOrderDetails:N})}),[_,null===A||void 0===A?void 0:A.tenantId,null===A||void 0===A?void 0:A.miscPaymentReferenceId]),Object(o.useEffect)((()=>{null!==M&&void 0!==M&&M.userStatus&&Object(c.s)({appStateReducer:M,updateSetOrderDetails:N})}),[null===M||void 0===M?void 0:M.userStatus]),Object(o.useEffect)((()=>{(null!==W&&void 0!==W&&W.favouriteOrders||null!==W&&void 0!==W&&W.savedAddresses)&&Object(c.w)({profileReducer:W,orderDetails:A,updateSetOrderDetails:N})}),[null===W||void 0===W?void 0:W.favouriteOrders,null===W||void 0===W?void 0:W.savedAddresses]),Object(o.useEffect)((()=>{var e,t;const d=sessionStorage.getItem(a.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var o;null!==M&&void 0!==M&&null!==(e=M.userStatus)&&void 0!==e&&e.loggedIn&&d!==(null===W||void 0===W||null===(t=W.basic)||void 0===t?void 0:t.id)&&(sessionStorage.removeItem(a.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT),N({customerId:null===W||void 0===W||null===(o=W.basic)||void 0===o?void 0:o.id,customer:null===W||void 0===W?void 0:W.basic}))}),[null===M||void 0===M||null===(I=M.userStatus)||void 0===I?void 0:I.loggedIn,null===W||void 0===W||null===(g=W.basic)||void 0===g?void 0:g.id]),Object(o.useEffect)((()=>{const e=sessionStorage.getItem(a.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT),t=null===M||void 0===M?void 0:M.userStatus;(null!==A&&void 0!==A&&A.orderTrackingID||null!==A&&void 0!==A&&A.tenantId&&!e&&!Object(v.j)()&&!Object(v.Y)())&&(Object(s.t)({dispatch:_,postOrderReducer:L,orderReducer:F,orderDetails:A,updateSetOrderDetails:N,tenantReducer:G,userParams:t}),(async()=>{await i.b.BindOrder()})())}),[null===A||void 0===A?void 0:A.tenantId]),Object(o.useEffect)((()=>{Object(s.a)({orderReducer:F,paymentsContentReducer:Y,orderDetails:A,updateSetOrderDetails:N,props:e,tenantReducer:G})}),[null===F||void 0===F||null===(h=F.response)||void 0===h?void 0:h.order]),Object(o.useEffect)((()=>{x&&Object(c.x)({storesReducer:x,updateSetOrderDetails:N}),Object(s.u)(x,A,N)}),[x]),Object(o.useEffect)((()=>{Object(c.a)({orderDetails:A,orderReducer:F,postOrderReducer:L,paymentsContentReducer:Y,updateSetOrderDetails:N,dispatch:_,tenantReducer:G,userOrderState:k})}),[null===A||void 0===A?void 0:A.tenantId,null===L||void 0===L?void 0:L.orderAccepted,null===L||void 0===L?void 0:L.addHopeOrderResponse,null===L||void 0===L?void 0:L.giftCardPurchaseResponse,null===F||void 0===F?void 0:F.pastOrderResponse]),Object(o.useEffect)((()=>{const e=sessionStorage.getItem(a.Ne.ORDER_TRACKING_CLICK_KFC_ACCOUNT);null!==A&&void 0!==A&&A.orderId&&!e&&(Object(s.p)({dispatch:_,postOrderReducer:L,orderReducer:F,orderDetails:A,updateSetOrderDetails:N,tenantReducer:G}),null!==A&&void 0!==A&&A.isGetStoreStatus||!z||(Object(s.c)({orderDetails:A,dispatch:_,latLong:null===Q||void 0===Q?void 0:Q.latLong}),Object(s.o)({orderDetails:A,dispositionPaymentPage:B,userOrderStateDispatch:K}),K({isGetStoreStatus:!0}),N({orderSummarySaveYourOrderCompleted:Object(c.n)(A)})))}),[null===A||void 0===A?void 0:A.orderId,null===A||void 0===A?void 0:A.miscPaymentReferenceId,null===A||void 0===A?void 0:A.wiCodePurchaseId]),Object(o.useEffect)((()=>{((null===A||void 0===A?void 0:A.orderId)||(null===A||void 0===A?void 0:A.miscPaymentReferenceId)||(null===A||void 0===A?void 0:A.wiCodePurchaseId))&&(null===A||void 0===A?void 0:A.orderStatus)&&Object(s.m)({dispatch:_,orderDetails:A,cartReducer:U,userOrderState:k,appStateReducer:M,updateSetOrderDetails:N,tenantReducer:G})}),[null===A||void 0===A?void 0:A.orderStatus]),Object(o.useEffect)((()=>{(null===A||void 0===A?void 0:A.tenantId)&&Object(v.tb)(A)&&(null===A||void 0===A?void 0:A.displayOrderProcessingPage)&&(null===A||void 0===A?void 0:A.retryCountForGetOrderStatus)>0&&Object(s.p)({dispatch:_,postOrderReducer:L,orderReducer:F,orderDetails:A,updateSetOrderDetails:N,userOrderStateDispatch:K,tenantReducer:G})}),[null===A||void 0===A?void 0:A.retryCountForGetOrderStatus]),Object(o.useEffect)((()=>{var t;null!==L&&void 0!==L&&null!==(t=L.orderAccepted)&&void 0!==t&&t.isWicodeFinaliseFailed&&(localStorage.setItem(a.Ud.STATUS_TEXT,a.Ud.FAILED),Object(u.ef)(e))}),[null===L||void 0===L||null===(C=L.orderAccepted)||void 0===C?void 0:C.isWicodeFinaliseFailed]),Object(o.useEffect)((()=>{var e,t,d,o,r,n,i,l,u,a;(null===A||void 0===A?void 0:A.orderId)&&((null===L||void 0===L||null===(e=L.orderAccepted)||void 0===e?void 0:e.id)&&(null===A||void 0===A?void 0:A.orderId)!==(null===L||void 0===L||null===(t=L.orderAccepted)||void 0===t?void 0:t.id)||(null===F||void 0===F||null===(d=F.pastOrderResponse)||void 0===d||null===(o=d[0])||void 0===o?void 0:o.id)&&(null===A||void 0===A?void 0:A.orderId)!==(null===F||void 0===F||null===(r=F.pastOrderResponse)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.id)||(null===F||void 0===F||null===(i=F.response)||void 0===i||null===(l=i.order)||void 0===l?void 0:l.id)&&(null===A||void 0===A?void 0:A.orderId)!==(null===F||void 0===F||null===(u=F.response)||void 0===u||null===(a=u.order)||void 0===a?void 0:a.id))&&(null===A||void 0===A?void 0:A.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===A||void 0===A?void 0:A.dispatchDeliveryOrderTrackerTimer)}),[null===A||void 0===A?void 0:A.dispatchDeliveryOrderTrackerTimer,null===A||void 0===A?void 0:A.orderId,null===L||void 0===L||null===(y=L.orderAccepted)||void 0===y?void 0:y.id,null===F||void 0===F?void 0:F.pastOrderResponse,null===F||void 0===F||null===(D=F.response)||void 0===D||null===(w=D.order)||void 0===w?void 0:w.id]),Object(o.useEffect)((()=>{Object(c.t)({contentReducer:V,updateSetOrderDetails:N})}),[null===V||void 0===V||null===(E=V.response)||void 0===E?void 0:E.homeContentfulResp]),Object(o.useEffect)((()=>{var e;G.isUberServiceableEnabled&&Object(S.e)(null===A||void 0===A||null===(e=A.deliveryDetails)||void 0===e?void 0:e.partnerName)&&N({showDeliveryTrackingMap:!0,showOrderSummaryInfoDetails:!0})}),[G.isUberServiceableEnabled,null===A||void 0===A||null===(P=A.deliveryDetails)||void 0===P?void 0:P.partnerName,null===A||void 0===A?void 0:A.fullAddressDetails]),T}}}]);